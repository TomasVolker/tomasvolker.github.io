var b5=Object.defineProperty;var w5=(O,I,G)=>I in O?b5(O,I,{enumerable:!0,configurable:!0,writable:!0,value:G}):O[I]=G;var go=(O,I,G)=>w5(O,typeof I!="symbol"?I+"":I,G);(function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))Z(R);new MutationObserver(R=>{for(const fe of R)if(fe.type==="childList")for(const V of fe.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&Z(V)}).observe(document,{childList:!0,subtree:!0});function G(R){const fe={};return R.integrity&&(fe.integrity=R.integrity),R.referrerPolicy&&(fe.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?fe.credentials="include":R.crossOrigin==="anonymous"?fe.credentials="omit":fe.credentials="same-origin",fe}function Z(R){if(R.ep)return;R.ep=!0;const fe=G(R);fetch(R.href,fe)}})();function zw(O){return O&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O}var Bw={exports:{}},Ri={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=Symbol.for("react.element"),T5=Symbol.for("react.portal"),A5=Symbol.for("react.fragment"),S5=Symbol.for("react.strict_mode"),M5=Symbol.for("react.profiler"),E5=Symbol.for("react.provider"),_5=Symbol.for("react.context"),C5=Symbol.for("react.forward_ref"),L5=Symbol.for("react.suspense"),D5=Symbol.for("react.memo"),P5=Symbol.for("react.lazy"),cb=Symbol.iterator;function R5(O){return O===null||typeof O!="object"?null:(O=cb&&O[cb]||O["@@iterator"],typeof O=="function"?O:null)}var Uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,Hw={};function lp(O,I,G){this.props=O,this.context=I,this.refs=Hw,this.updater=G||Uw}lp.prototype.isReactComponent={};lp.prototype.setState=function(O,I){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,I,"setState")};lp.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Yw(){}Yw.prototype=lp.prototype;function ox(O,I,G){this.props=O,this.context=I,this.refs=Hw,this.updater=G||Uw}var sx=ox.prototype=new Yw;sx.constructor=ox;Vw(sx,lp.prototype);sx.isPureReactComponent=!0;var hb=Array.isArray,Ww=Object.prototype.hasOwnProperty,lx={current:null},Gw={key:!0,ref:!0,__self:!0,__source:!0};function Xw(O,I,G){var Z,R={},fe=null,V=null;if(I!=null)for(Z in I.ref!==void 0&&(V=I.ref),I.key!==void 0&&(fe=""+I.key),I)Ww.call(I,Z)&&!Gw.hasOwnProperty(Z)&&(R[Z]=I[Z]);var Y=arguments.length-2;if(Y===1)R.children=G;else if(1<Y){for(var e=Array(Y),p=0;p<Y;p++)e[p]=arguments[p+2];R.children=e}if(O&&O.defaultProps)for(Z in Y=O.defaultProps,Y)R[Z]===void 0&&(R[Z]=Y[Z]);return{$$typeof:O0,type:O,key:fe,ref:V,props:R,_owner:lx.current}}function I5(O,I){return{$$typeof:O0,type:O.type,key:I,ref:O.ref,props:O.props,_owner:O._owner}}function ux(O){return typeof O=="object"&&O!==null&&O.$$typeof===O0}function O5(O){var I={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(G){return I[G]})}var vb=/\/+/g;function wm(O,I){return typeof O=="object"&&O!==null&&O.key!=null?O5(""+O.key):I.toString(36)}function Bg(O,I,G,Z,R){var fe=typeof O;(fe==="undefined"||fe==="boolean")&&(O=null);var V=!1;if(O===null)V=!0;else switch(fe){case"string":case"number":V=!0;break;case"object":switch(O.$$typeof){case O0:case T5:V=!0}}if(V)return V=O,R=R(V),O=Z===""?"."+wm(V,0):Z,hb(R)?(G="",O!=null&&(G=O.replace(vb,"$&/")+"/"),Bg(R,I,G,"",function(p){return p})):R!=null&&(ux(R)&&(R=I5(R,G+(!R.key||V&&V.key===R.key?"":(""+R.key).replace(vb,"$&/")+"/")+O)),I.push(R)),1;if(V=0,Z=Z===""?".":Z+":",hb(O))for(var Y=0;Y<O.length;Y++){fe=O[Y];var e=Z+wm(fe,Y);V+=Bg(fe,I,G,e,R)}else if(e=R5(O),typeof e=="function")for(O=e.call(O),Y=0;!(fe=O.next()).done;)fe=fe.value,e=Z+wm(fe,Y++),V+=Bg(fe,I,G,e,R);else if(fe==="object")throw I=String(O),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return V}function pg(O,I,G){if(O==null)return O;var Z=[],R=0;return Bg(O,Z,"","",function(fe){return I.call(G,fe,R++)}),Z}function k5(O){if(O._status===-1){var I=O._result;I=I(),I.then(function(G){(O._status===0||O._status===-1)&&(O._status=1,O._result=G)},function(G){(O._status===0||O._status===-1)&&(O._status=2,O._result=G)}),O._status===-1&&(O._status=0,O._result=I)}if(O._status===1)return O._result.default;throw O._result}var bl={current:null},Ug={transition:null},N5={ReactCurrentDispatcher:bl,ReactCurrentBatchConfig:Ug,ReactCurrentOwner:lx};function Zw(){throw Error("act(...) is not supported in production builds of React.")}Ri.Children={map:pg,forEach:function(O,I,G){pg(O,function(){I.apply(this,arguments)},G)},count:function(O){var I=0;return pg(O,function(){I++}),I},toArray:function(O){return pg(O,function(I){return I})||[]},only:function(O){if(!ux(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};Ri.Component=lp;Ri.Fragment=A5;Ri.Profiler=M5;Ri.PureComponent=ox;Ri.StrictMode=S5;Ri.Suspense=L5;Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N5;Ri.act=Zw;Ri.cloneElement=function(O,I,G){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Z=Vw({},O.props),R=O.key,fe=O.ref,V=O._owner;if(I!=null){if(I.ref!==void 0&&(fe=I.ref,V=lx.current),I.key!==void 0&&(R=""+I.key),O.type&&O.type.defaultProps)var Y=O.type.defaultProps;for(e in I)Ww.call(I,e)&&!Gw.hasOwnProperty(e)&&(Z[e]=I[e]===void 0&&Y!==void 0?Y[e]:I[e])}var e=arguments.length-2;if(e===1)Z.children=G;else if(1<e){Y=Array(e);for(var p=0;p<e;p++)Y[p]=arguments[p+2];Z.children=Y}return{$$typeof:O0,type:O.type,key:R,ref:fe,props:Z,_owner:V}};Ri.createContext=function(O){return O={$$typeof:_5,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:E5,_context:O},O.Consumer=O};Ri.createElement=Xw;Ri.createFactory=function(O){var I=Xw.bind(null,O);return I.type=O,I};Ri.createRef=function(){return{current:null}};Ri.forwardRef=function(O){return{$$typeof:C5,render:O}};Ri.isValidElement=ux;Ri.lazy=function(O){return{$$typeof:P5,_payload:{_status:-1,_result:O},_init:k5}};Ri.memo=function(O,I){return{$$typeof:D5,type:O,compare:I===void 0?null:I}};Ri.startTransition=function(O){var I=Ug.transition;Ug.transition={};try{O()}finally{Ug.transition=I}};Ri.unstable_act=Zw;Ri.useCallback=function(O,I){return bl.current.useCallback(O,I)};Ri.useContext=function(O){return bl.current.useContext(O)};Ri.useDebugValue=function(){};Ri.useDeferredValue=function(O){return bl.current.useDeferredValue(O)};Ri.useEffect=function(O,I){return bl.current.useEffect(O,I)};Ri.useId=function(){return bl.current.useId()};Ri.useImperativeHandle=function(O,I,G){return bl.current.useImperativeHandle(O,I,G)};Ri.useInsertionEffect=function(O,I){return bl.current.useInsertionEffect(O,I)};Ri.useLayoutEffect=function(O,I){return bl.current.useLayoutEffect(O,I)};Ri.useMemo=function(O,I){return bl.current.useMemo(O,I)};Ri.useReducer=function(O,I,G){return bl.current.useReducer(O,I,G)};Ri.useRef=function(O){return bl.current.useRef(O)};Ri.useState=function(O){return bl.current.useState(O)};Ri.useSyncExternalStore=function(O,I,G){return bl.current.useSyncExternalStore(O,I,G)};Ri.useTransition=function(){return bl.current.useTransition()};Ri.version="18.3.1";Bw.exports=Ri;var Hv=Bw.exports;const di=zw(Hv);var jw={exports:{}},fu={},Kw={exports:{}},Jw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(O){function I(A,s){var M=A.length;A.push(s);e:for(;0<M;){var b=M-1>>>1,N=A[b];if(0<R(N,s))A[b]=s,A[M]=N,M=b;else break e}}function G(A){return A.length===0?null:A[0]}function Z(A){if(A.length===0)return null;var s=A[0],M=A.pop();if(M!==s){A[0]=M;e:for(var b=0,N=A.length,k=N>>>1;b<k;){var H=2*(b+1)-1,F=A[H],B=H+1,U=A[B];if(0>R(F,M))B<N&&0>R(U,F)?(A[b]=U,A[B]=M,b=B):(A[b]=F,A[H]=M,b=H);else if(B<N&&0>R(U,M))A[b]=U,A[B]=M,b=B;else break e}}return s}function R(A,s){var M=A.sortIndex-s.sortIndex;return M!==0?M:A.id-s.id}if(typeof performance=="object"&&typeof performance.now=="function"){var fe=performance;O.unstable_now=function(){return fe.now()}}else{var V=Date,Y=V.now();O.unstable_now=function(){return V.now()-Y}}var e=[],p=[],L=1,o=null,C=3,S=!1,v=!1,g=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(A){for(var s=G(p);s!==null;){if(s.callback===null)Z(p);else if(s.startTime<=A)Z(p),s.sortIndex=s.expirationTime,I(e,s);else break;s=G(p)}}function f(A){if(g=!1,n(A),!v)if(G(e)!==null)v=!0,m(u);else{var s=G(p);s!==null&&E(f,s.startTime-A)}}function u(A,s){v=!1,g&&(g=!1,t(h),h=-1),S=!0;var M=C;try{for(n(s),o=G(e);o!==null&&(!(o.expirationTime>s)||A&&!i());){var b=o.callback;if(typeof b=="function"){o.callback=null,C=o.priorityLevel;var N=b(o.expirationTime<=s);s=O.unstable_now(),typeof N=="function"?o.callback=N:o===G(e)&&Z(e),n(s)}else Z(e);o=G(e)}if(o!==null)var k=!0;else{var H=G(p);H!==null&&E(f,H.startTime-s),k=!1}return k}finally{o=null,C=M,S=!1}}var l=!1,y=null,h=-1,T=5,c=-1;function i(){return!(O.unstable_now()-c<T)}function d(){if(y!==null){var A=O.unstable_now();c=A;var s=!0;try{s=y(!0,A)}finally{s?x():(l=!1,y=null)}}else l=!1}var x;if(typeof a=="function")x=function(){a(d)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,_=w.port2;w.port1.onmessage=d,x=function(){_.postMessage(null)}}else x=function(){r(d,0)};function m(A){y=A,l||(l=!0,x())}function E(A,s){h=r(function(){A(O.unstable_now())},s)}O.unstable_IdlePriority=5,O.unstable_ImmediatePriority=1,O.unstable_LowPriority=4,O.unstable_NormalPriority=3,O.unstable_Profiling=null,O.unstable_UserBlockingPriority=2,O.unstable_cancelCallback=function(A){A.callback=null},O.unstable_continueExecution=function(){v||S||(v=!0,m(u))},O.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},O.unstable_getCurrentPriorityLevel=function(){return C},O.unstable_getFirstCallbackNode=function(){return G(e)},O.unstable_next=function(A){switch(C){case 1:case 2:case 3:var s=3;break;default:s=C}var M=C;C=s;try{return A()}finally{C=M}},O.unstable_pauseExecution=function(){},O.unstable_requestPaint=function(){},O.unstable_runWithPriority=function(A,s){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=C;C=A;try{return s()}finally{C=M}},O.unstable_scheduleCallback=function(A,s,M){var b=O.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?b+M:b):M=b,A){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=M+N,A={id:L++,callback:s,priorityLevel:A,startTime:M,expirationTime:N,sortIndex:-1},M>b?(A.sortIndex=M,I(p,A),G(e)===null&&A===G(p)&&(g?(t(h),h=-1):g=!0,E(f,M-b))):(A.sortIndex=N,I(e,A),v||S||(v=!0,m(u))),A},O.unstable_shouldYield=i,O.unstable_wrapCallback=function(A){var s=C;return function(){var M=C;C=s;try{return A.apply(this,arguments)}finally{C=M}}}})(Jw);Kw.exports=Jw;var F5=Kw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5=Hv,uu=F5;function Ta(O){for(var I="https://reactjs.org/docs/error-decoder.html?invariant="+O,G=1;G<arguments.length;G++)I+="&args[]="+encodeURIComponent(arguments[G]);return"Minified React error #"+O+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qw=new Set,f0={};function Qv(O,I){qd(O,I),qd(O+"Capture",I)}function qd(O,I){for(f0[O]=I,O=0;O<I.length;O++)Qw.add(I[O])}var Jc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e1=Object.prototype.hasOwnProperty,B5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,db={},pb={};function U5(O){return e1.call(pb,O)?!0:e1.call(db,O)?!1:B5.test(O)?pb[O]=!0:(db[O]=!0,!1)}function V5(O,I,G,Z){if(G!==null&&G.type===0)return!1;switch(typeof I){case"function":case"symbol":return!0;case"boolean":return Z?!1:G!==null?!G.acceptsBooleans:(O=O.toLowerCase().slice(0,5),O!=="data-"&&O!=="aria-");default:return!1}}function H5(O,I,G,Z){if(I===null||typeof I>"u"||V5(O,I,G,Z))return!0;if(Z)return!1;if(G!==null)switch(G.type){case 3:return!I;case 4:return I===!1;case 5:return isNaN(I);case 6:return isNaN(I)||1>I}return!1}function wl(O,I,G,Z,R,fe,V){this.acceptsBooleans=I===2||I===3||I===4,this.attributeName=Z,this.attributeNamespace=R,this.mustUseProperty=G,this.propertyName=O,this.type=I,this.sanitizeURL=fe,this.removeEmptyString=V}var Ys={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(O){Ys[O]=new wl(O,0,!1,O,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(O){var I=O[0];Ys[I]=new wl(I,1,!1,O[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(O){Ys[O]=new wl(O,2,!1,O.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(O){Ys[O]=new wl(O,2,!1,O,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(O){Ys[O]=new wl(O,3,!1,O.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(O){Ys[O]=new wl(O,3,!0,O,null,!1,!1)});["capture","download"].forEach(function(O){Ys[O]=new wl(O,4,!1,O,null,!1,!1)});["cols","rows","size","span"].forEach(function(O){Ys[O]=new wl(O,6,!1,O,null,!1,!1)});["rowSpan","start"].forEach(function(O){Ys[O]=new wl(O,5,!1,O.toLowerCase(),null,!1,!1)});var fx=/[\-:]([a-z])/g;function cx(O){return O[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(O){var I=O.replace(fx,cx);Ys[I]=new wl(I,1,!1,O,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(O){var I=O.replace(fx,cx);Ys[I]=new wl(I,1,!1,O,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(O){var I=O.replace(fx,cx);Ys[I]=new wl(I,1,!1,O,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(O){Ys[O]=new wl(O,1,!1,O.toLowerCase(),null,!1,!1)});Ys.xlinkHref=new wl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(O){Ys[O]=new wl(O,1,!1,O.toLowerCase(),null,!0,!0)});function hx(O,I,G,Z){var R=Ys.hasOwnProperty(I)?Ys[I]:null;(R!==null?R.type!==0:Z||!(2<I.length)||I[0]!=="o"&&I[0]!=="O"||I[1]!=="n"&&I[1]!=="N")&&(H5(I,G,R,Z)&&(G=null),Z||R===null?U5(I)&&(G===null?O.removeAttribute(I):O.setAttribute(I,""+G)):R.mustUseProperty?O[R.propertyName]=G===null?R.type===3?!1:"":G:(I=R.attributeName,Z=R.attributeNamespace,G===null?O.removeAttribute(I):(R=R.type,G=R===3||R===4&&G===!0?"":""+G,Z?O.setAttributeNS(Z,I,G):O.setAttribute(I,G))))}var rh=z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gg=Symbol.for("react.element"),Pd=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),t1=Symbol.for("react.profiler"),$w=Symbol.for("react.provider"),qw=Symbol.for("react.context"),dx=Symbol.for("react.forward_ref"),r1=Symbol.for("react.suspense"),n1=Symbol.for("react.suspense_list"),px=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),e2=Symbol.for("react.offscreen"),gb=Symbol.iterator;function Fp(O){return O===null||typeof O!="object"?null:(O=gb&&O[gb]||O["@@iterator"],typeof O=="function"?O:null)}var Wo=Object.assign,Tm;function jp(O){if(Tm===void 0)try{throw Error()}catch(G){var I=G.stack.trim().match(/\n( *(at )?)/);Tm=I&&I[1]||""}return`
`+Tm+O}var Am=!1;function Sm(O,I){if(!O||Am)return"";Am=!0;var G=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(I)if(I=function(){throw Error()},Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(p){var Z=p}Reflect.construct(O,[],I)}else{try{I.call()}catch(p){Z=p}O.call(I.prototype)}else{try{throw Error()}catch(p){Z=p}O()}}catch(p){if(p&&Z&&typeof p.stack=="string"){for(var R=p.stack.split(`
`),fe=Z.stack.split(`
`),V=R.length-1,Y=fe.length-1;1<=V&&0<=Y&&R[V]!==fe[Y];)Y--;for(;1<=V&&0<=Y;V--,Y--)if(R[V]!==fe[Y]){if(V!==1||Y!==1)do if(V--,Y--,0>Y||R[V]!==fe[Y]){var e=`
`+R[V].replace(" at new "," at ");return O.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",O.displayName)),e}while(1<=V&&0<=Y);break}}}finally{Am=!1,Error.prepareStackTrace=G}return(O=O?O.displayName||O.name:"")?jp(O):""}function Y5(O){switch(O.tag){case 5:return jp(O.type);case 16:return jp("Lazy");case 13:return jp("Suspense");case 19:return jp("SuspenseList");case 0:case 2:case 15:return O=Sm(O.type,!1),O;case 11:return O=Sm(O.type.render,!1),O;case 1:return O=Sm(O.type,!0),O;default:return""}}function a1(O){if(O==null)return null;if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;switch(O){case Rd:return"Fragment";case Pd:return"Portal";case t1:return"Profiler";case vx:return"StrictMode";case r1:return"Suspense";case n1:return"SuspenseList"}if(typeof O=="object")switch(O.$$typeof){case qw:return(O.displayName||"Context")+".Consumer";case $w:return(O._context.displayName||"Context")+".Provider";case dx:var I=O.render;return O=O.displayName,O||(O=I.displayName||I.name||"",O=O!==""?"ForwardRef("+O+")":"ForwardRef"),O;case px:return I=O.displayName||null,I!==null?I:a1(O.type)||"Memo";case Hh:I=O._payload,O=O._init;try{return a1(O(I))}catch{}}return null}function W5(O){var I=O.type;switch(O.tag){case 24:return"Cache";case 9:return(I.displayName||"Context")+".Consumer";case 10:return(I._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return O=I.render,O=O.displayName||O.name||"",I.displayName||(O!==""?"ForwardRef("+O+")":"ForwardRef");case 7:return"Fragment";case 5:return I;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a1(I);case 8:return I===vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I}return null}function rv(O){switch(typeof O){case"boolean":case"number":case"string":case"undefined":return O;case"object":return O;default:return""}}function t2(O){var I=O.type;return(O=O.nodeName)&&O.toLowerCase()==="input"&&(I==="checkbox"||I==="radio")}function G5(O){var I=t2(O)?"checked":"value",G=Object.getOwnPropertyDescriptor(O.constructor.prototype,I),Z=""+O[I];if(!O.hasOwnProperty(I)&&typeof G<"u"&&typeof G.get=="function"&&typeof G.set=="function"){var R=G.get,fe=G.set;return Object.defineProperty(O,I,{configurable:!0,get:function(){return R.call(this)},set:function(V){Z=""+V,fe.call(this,V)}}),Object.defineProperty(O,I,{enumerable:G.enumerable}),{getValue:function(){return Z},setValue:function(V){Z=""+V},stopTracking:function(){O._valueTracker=null,delete O[I]}}}}function yg(O){O._valueTracker||(O._valueTracker=G5(O))}function r2(O){if(!O)return!1;var I=O._valueTracker;if(!I)return!0;var G=I.getValue(),Z="";return O&&(Z=t2(O)?O.checked?"true":"false":O.value),O=Z,O!==G?(I.setValue(O),!0):!1}function qg(O){if(O=O||(typeof document<"u"?document:void 0),typeof O>"u")return null;try{return O.activeElement||O.body}catch{return O.body}}function i1(O,I){var G=I.checked;return Wo({},I,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:G??O._wrapperState.initialChecked})}function yb(O,I){var G=I.defaultValue==null?"":I.defaultValue,Z=I.checked!=null?I.checked:I.defaultChecked;G=rv(I.value!=null?I.value:G),O._wrapperState={initialChecked:Z,initialValue:G,controlled:I.type==="checkbox"||I.type==="radio"?I.checked!=null:I.value!=null}}function n2(O,I){I=I.checked,I!=null&&hx(O,"checked",I,!1)}function o1(O,I){n2(O,I);var G=rv(I.value),Z=I.type;if(G!=null)Z==="number"?(G===0&&O.value===""||O.value!=G)&&(O.value=""+G):O.value!==""+G&&(O.value=""+G);else if(Z==="submit"||Z==="reset"){O.removeAttribute("value");return}I.hasOwnProperty("value")?s1(O,I.type,G):I.hasOwnProperty("defaultValue")&&s1(O,I.type,rv(I.defaultValue)),I.checked==null&&I.defaultChecked!=null&&(O.defaultChecked=!!I.defaultChecked)}function mb(O,I,G){if(I.hasOwnProperty("value")||I.hasOwnProperty("defaultValue")){var Z=I.type;if(!(Z!=="submit"&&Z!=="reset"||I.value!==void 0&&I.value!==null))return;I=""+O._wrapperState.initialValue,G||I===O.value||(O.value=I),O.defaultValue=I}G=O.name,G!==""&&(O.name=""),O.defaultChecked=!!O._wrapperState.initialChecked,G!==""&&(O.name=G)}function s1(O,I,G){(I!=="number"||qg(O.ownerDocument)!==O)&&(G==null?O.defaultValue=""+O._wrapperState.initialValue:O.defaultValue!==""+G&&(O.defaultValue=""+G))}var Kp=Array.isArray;function Zd(O,I,G,Z){if(O=O.options,I){I={};for(var R=0;R<G.length;R++)I["$"+G[R]]=!0;for(G=0;G<O.length;G++)R=I.hasOwnProperty("$"+O[G].value),O[G].selected!==R&&(O[G].selected=R),R&&Z&&(O[G].defaultSelected=!0)}else{for(G=""+rv(G),I=null,R=0;R<O.length;R++){if(O[R].value===G){O[R].selected=!0,Z&&(O[R].defaultSelected=!0);return}I!==null||O[R].disabled||(I=O[R])}I!==null&&(I.selected=!0)}}function l1(O,I){if(I.dangerouslySetInnerHTML!=null)throw Error(Ta(91));return Wo({},I,{value:void 0,defaultValue:void 0,children:""+O._wrapperState.initialValue})}function xb(O,I){var G=I.value;if(G==null){if(G=I.children,I=I.defaultValue,G!=null){if(I!=null)throw Error(Ta(92));if(Kp(G)){if(1<G.length)throw Error(Ta(93));G=G[0]}I=G}I==null&&(I=""),G=I}O._wrapperState={initialValue:rv(G)}}function a2(O,I){var G=rv(I.value),Z=rv(I.defaultValue);G!=null&&(G=""+G,G!==O.value&&(O.value=G),I.defaultValue==null&&O.defaultValue!==G&&(O.defaultValue=G)),Z!=null&&(O.defaultValue=""+Z)}function bb(O){var I=O.textContent;I===O._wrapperState.initialValue&&I!==""&&I!==null&&(O.value=I)}function i2(O){switch(O){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u1(O,I){return O==null||O==="http://www.w3.org/1999/xhtml"?i2(I):O==="http://www.w3.org/2000/svg"&&I==="foreignObject"?"http://www.w3.org/1999/xhtml":O}var mg,o2=function(O){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(I,G,Z,R){MSApp.execUnsafeLocalFunction(function(){return O(I,G,Z,R)})}:O}(function(O,I){if(O.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in O)O.innerHTML=I;else{for(mg=mg||document.createElement("div"),mg.innerHTML="<svg>"+I.valueOf().toString()+"</svg>",I=mg.firstChild;O.firstChild;)O.removeChild(O.firstChild);for(;I.firstChild;)O.appendChild(I.firstChild)}});function c0(O,I){if(I){var G=O.firstChild;if(G&&G===O.lastChild&&G.nodeType===3){G.nodeValue=I;return}}O.textContent=I}var qp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X5=["Webkit","ms","Moz","O"];Object.keys(qp).forEach(function(O){X5.forEach(function(I){I=I+O.charAt(0).toUpperCase()+O.substring(1),qp[I]=qp[O]})});function s2(O,I,G){return I==null||typeof I=="boolean"||I===""?"":G||typeof I!="number"||I===0||qp.hasOwnProperty(O)&&qp[O]?(""+I).trim():I+"px"}function l2(O,I){O=O.style;for(var G in I)if(I.hasOwnProperty(G)){var Z=G.indexOf("--")===0,R=s2(G,I[G],Z);G==="float"&&(G="cssFloat"),Z?O.setProperty(G,R):O[G]=R}}var Z5=Wo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function f1(O,I){if(I){if(Z5[O]&&(I.children!=null||I.dangerouslySetInnerHTML!=null))throw Error(Ta(137,O));if(I.dangerouslySetInnerHTML!=null){if(I.children!=null)throw Error(Ta(60));if(typeof I.dangerouslySetInnerHTML!="object"||!("__html"in I.dangerouslySetInnerHTML))throw Error(Ta(61))}if(I.style!=null&&typeof I.style!="object")throw Error(Ta(62))}}function c1(O,I){if(O.indexOf("-")===-1)return typeof I.is=="string";switch(O){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=null;function gx(O){return O=O.target||O.srcElement||window,O.correspondingUseElement&&(O=O.correspondingUseElement),O.nodeType===3?O.parentNode:O}var v1=null,jd=null,Kd=null;function wb(O){if(O=F0(O)){if(typeof v1!="function")throw Error(Ta(280));var I=O.stateNode;I&&(I=Py(I),v1(O.stateNode,O.type,I))}}function u2(O){jd?Kd?Kd.push(O):Kd=[O]:jd=O}function f2(){if(jd){var O=jd,I=Kd;if(Kd=jd=null,wb(O),I)for(O=0;O<I.length;O++)wb(I[O])}}function c2(O,I){return O(I)}function h2(){}var Mm=!1;function v2(O,I,G){if(Mm)return O(I,G);Mm=!0;try{return c2(O,I,G)}finally{Mm=!1,(jd!==null||Kd!==null)&&(h2(),f2())}}function h0(O,I){var G=O.stateNode;if(G===null)return null;var Z=Py(G);if(Z===null)return null;G=Z[I];e:switch(I){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Z=!Z.disabled)||(O=O.type,Z=!(O==="button"||O==="input"||O==="select"||O==="textarea")),O=!Z;break e;default:O=!1}if(O)return null;if(G&&typeof G!="function")throw Error(Ta(231,I,typeof G));return G}var d1=!1;if(Jc)try{var zp={};Object.defineProperty(zp,"passive",{get:function(){d1=!0}}),window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{d1=!1}function j5(O,I,G,Z,R,fe,V,Y,e){var p=Array.prototype.slice.call(arguments,3);try{I.apply(G,p)}catch(L){this.onError(L)}}var e0=!1,ey=null,ty=!1,p1=null,K5={onError:function(O){e0=!0,ey=O}};function J5(O,I,G,Z,R,fe,V,Y,e){e0=!1,ey=null,j5.apply(K5,arguments)}function Q5(O,I,G,Z,R,fe,V,Y,e){if(J5.apply(this,arguments),e0){if(e0){var p=ey;e0=!1,ey=null}else throw Error(Ta(198));ty||(ty=!0,p1=p)}}function $v(O){var I=O,G=O;if(O.alternate)for(;I.return;)I=I.return;else{O=I;do I=O,I.flags&4098&&(G=I.return),O=I.return;while(O)}return I.tag===3?G:null}function d2(O){if(O.tag===13){var I=O.memoizedState;if(I===null&&(O=O.alternate,O!==null&&(I=O.memoizedState)),I!==null)return I.dehydrated}return null}function Tb(O){if($v(O)!==O)throw Error(Ta(188))}function $5(O){var I=O.alternate;if(!I){if(I=$v(O),I===null)throw Error(Ta(188));return I!==O?null:O}for(var G=O,Z=I;;){var R=G.return;if(R===null)break;var fe=R.alternate;if(fe===null){if(Z=R.return,Z!==null){G=Z;continue}break}if(R.child===fe.child){for(fe=R.child;fe;){if(fe===G)return Tb(R),O;if(fe===Z)return Tb(R),I;fe=fe.sibling}throw Error(Ta(188))}if(G.return!==Z.return)G=R,Z=fe;else{for(var V=!1,Y=R.child;Y;){if(Y===G){V=!0,G=R,Z=fe;break}if(Y===Z){V=!0,Z=R,G=fe;break}Y=Y.sibling}if(!V){for(Y=fe.child;Y;){if(Y===G){V=!0,G=fe,Z=R;break}if(Y===Z){V=!0,Z=fe,G=R;break}Y=Y.sibling}if(!V)throw Error(Ta(189))}}if(G.alternate!==Z)throw Error(Ta(190))}if(G.tag!==3)throw Error(Ta(188));return G.stateNode.current===G?O:I}function p2(O){return O=$5(O),O!==null?g2(O):null}function g2(O){if(O.tag===5||O.tag===6)return O;for(O=O.child;O!==null;){var I=g2(O);if(I!==null)return I;O=O.sibling}return null}var y2=uu.unstable_scheduleCallback,Ab=uu.unstable_cancelCallback,q5=uu.unstable_shouldYield,e6=uu.unstable_requestPaint,rs=uu.unstable_now,t6=uu.unstable_getCurrentPriorityLevel,yx=uu.unstable_ImmediatePriority,m2=uu.unstable_UserBlockingPriority,ry=uu.unstable_NormalPriority,r6=uu.unstable_LowPriority,x2=uu.unstable_IdlePriority,_y=null,cc=null;function n6(O){if(cc&&typeof cc.onCommitFiberRoot=="function")try{cc.onCommitFiberRoot(_y,O,void 0,(O.current.flags&128)===128)}catch{}}var Cf=Math.clz32?Math.clz32:o6,a6=Math.log,i6=Math.LN2;function o6(O){return O>>>=0,O===0?32:31-(a6(O)/i6|0)|0}var xg=64,bg=4194304;function Jp(O){switch(O&-O){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return O&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return O&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return O}}function ny(O,I){var G=O.pendingLanes;if(G===0)return 0;var Z=0,R=O.suspendedLanes,fe=O.pingedLanes,V=G&268435455;if(V!==0){var Y=V&~R;Y!==0?Z=Jp(Y):(fe&=V,fe!==0&&(Z=Jp(fe)))}else V=G&~R,V!==0?Z=Jp(V):fe!==0&&(Z=Jp(fe));if(Z===0)return 0;if(I!==0&&I!==Z&&!(I&R)&&(R=Z&-Z,fe=I&-I,R>=fe||R===16&&(fe&4194240)!==0))return I;if(Z&4&&(Z|=G&16),I=O.entangledLanes,I!==0)for(O=O.entanglements,I&=Z;0<I;)G=31-Cf(I),R=1<<G,Z|=O[G],I&=~R;return Z}function s6(O,I){switch(O){case 1:case 2:case 4:return I+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l6(O,I){for(var G=O.suspendedLanes,Z=O.pingedLanes,R=O.expirationTimes,fe=O.pendingLanes;0<fe;){var V=31-Cf(fe),Y=1<<V,e=R[V];e===-1?(!(Y&G)||Y&Z)&&(R[V]=s6(Y,I)):e<=I&&(O.expiredLanes|=Y),fe&=~Y}}function g1(O){return O=O.pendingLanes&-1073741825,O!==0?O:O&1073741824?1073741824:0}function b2(){var O=xg;return xg<<=1,!(xg&4194240)&&(xg=64),O}function Em(O){for(var I=[],G=0;31>G;G++)I.push(O);return I}function k0(O,I,G){O.pendingLanes|=I,I!==536870912&&(O.suspendedLanes=0,O.pingedLanes=0),O=O.eventTimes,I=31-Cf(I),O[I]=G}function u6(O,I){var G=O.pendingLanes&~I;O.pendingLanes=I,O.suspendedLanes=0,O.pingedLanes=0,O.expiredLanes&=I,O.mutableReadLanes&=I,O.entangledLanes&=I,I=O.entanglements;var Z=O.eventTimes;for(O=O.expirationTimes;0<G;){var R=31-Cf(G),fe=1<<R;I[R]=0,Z[R]=-1,O[R]=-1,G&=~fe}}function mx(O,I){var G=O.entangledLanes|=I;for(O=O.entanglements;G;){var Z=31-Cf(G),R=1<<Z;R&I|O[Z]&I&&(O[Z]|=I),G&=~R}}var io=0;function w2(O){return O&=-O,1<O?4<O?O&268435455?16:536870912:4:1}var T2,xx,A2,S2,M2,y1=!1,wg=[],jh=null,Kh=null,Jh=null,v0=new Map,d0=new Map,Wh=[],f6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sb(O,I){switch(O){case"focusin":case"focusout":jh=null;break;case"dragenter":case"dragleave":Kh=null;break;case"mouseover":case"mouseout":Jh=null;break;case"pointerover":case"pointerout":v0.delete(I.pointerId);break;case"gotpointercapture":case"lostpointercapture":d0.delete(I.pointerId)}}function Bp(O,I,G,Z,R,fe){return O===null||O.nativeEvent!==fe?(O={blockedOn:I,domEventName:G,eventSystemFlags:Z,nativeEvent:fe,targetContainers:[R]},I!==null&&(I=F0(I),I!==null&&xx(I)),O):(O.eventSystemFlags|=Z,I=O.targetContainers,R!==null&&I.indexOf(R)===-1&&I.push(R),O)}function c6(O,I,G,Z,R){switch(I){case"focusin":return jh=Bp(jh,O,I,G,Z,R),!0;case"dragenter":return Kh=Bp(Kh,O,I,G,Z,R),!0;case"mouseover":return Jh=Bp(Jh,O,I,G,Z,R),!0;case"pointerover":var fe=R.pointerId;return v0.set(fe,Bp(v0.get(fe)||null,O,I,G,Z,R)),!0;case"gotpointercapture":return fe=R.pointerId,d0.set(fe,Bp(d0.get(fe)||null,O,I,G,Z,R)),!0}return!1}function E2(O){var I=Bv(O.target);if(I!==null){var G=$v(I);if(G!==null){if(I=G.tag,I===13){if(I=d2(G),I!==null){O.blockedOn=I,M2(O.priority,function(){A2(G)});return}}else if(I===3&&G.stateNode.current.memoizedState.isDehydrated){O.blockedOn=G.tag===3?G.stateNode.containerInfo:null;return}}}O.blockedOn=null}function Vg(O){if(O.blockedOn!==null)return!1;for(var I=O.targetContainers;0<I.length;){var G=m1(O.domEventName,O.eventSystemFlags,I[0],O.nativeEvent);if(G===null){G=O.nativeEvent;var Z=new G.constructor(G.type,G);h1=Z,G.target.dispatchEvent(Z),h1=null}else return I=F0(G),I!==null&&xx(I),O.blockedOn=G,!1;I.shift()}return!0}function Mb(O,I,G){Vg(O)&&G.delete(I)}function h6(){y1=!1,jh!==null&&Vg(jh)&&(jh=null),Kh!==null&&Vg(Kh)&&(Kh=null),Jh!==null&&Vg(Jh)&&(Jh=null),v0.forEach(Mb),d0.forEach(Mb)}function Up(O,I){O.blockedOn===I&&(O.blockedOn=null,y1||(y1=!0,uu.unstable_scheduleCallback(uu.unstable_NormalPriority,h6)))}function p0(O){function I(R){return Up(R,O)}if(0<wg.length){Up(wg[0],O);for(var G=1;G<wg.length;G++){var Z=wg[G];Z.blockedOn===O&&(Z.blockedOn=null)}}for(jh!==null&&Up(jh,O),Kh!==null&&Up(Kh,O),Jh!==null&&Up(Jh,O),v0.forEach(I),d0.forEach(I),G=0;G<Wh.length;G++)Z=Wh[G],Z.blockedOn===O&&(Z.blockedOn=null);for(;0<Wh.length&&(G=Wh[0],G.blockedOn===null);)E2(G),G.blockedOn===null&&Wh.shift()}var Jd=rh.ReactCurrentBatchConfig,ay=!0;function v6(O,I,G,Z){var R=io,fe=Jd.transition;Jd.transition=null;try{io=1,bx(O,I,G,Z)}finally{io=R,Jd.transition=fe}}function d6(O,I,G,Z){var R=io,fe=Jd.transition;Jd.transition=null;try{io=4,bx(O,I,G,Z)}finally{io=R,Jd.transition=fe}}function bx(O,I,G,Z){if(ay){var R=m1(O,I,G,Z);if(R===null)Nm(O,I,Z,iy,G),Sb(O,Z);else if(c6(R,O,I,G,Z))Z.stopPropagation();else if(Sb(O,Z),I&4&&-1<f6.indexOf(O)){for(;R!==null;){var fe=F0(R);if(fe!==null&&T2(fe),fe=m1(O,I,G,Z),fe===null&&Nm(O,I,Z,iy,G),fe===R)break;R=fe}R!==null&&Z.stopPropagation()}else Nm(O,I,Z,null,G)}}var iy=null;function m1(O,I,G,Z){if(iy=null,O=gx(Z),O=Bv(O),O!==null)if(I=$v(O),I===null)O=null;else if(G=I.tag,G===13){if(O=d2(I),O!==null)return O;O=null}else if(G===3){if(I.stateNode.current.memoizedState.isDehydrated)return I.tag===3?I.stateNode.containerInfo:null;O=null}else I!==O&&(O=null);return iy=O,null}function _2(O){switch(O){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t6()){case yx:return 1;case m2:return 4;case ry:case r6:return 16;case x2:return 536870912;default:return 16}default:return 16}}var Xh=null,wx=null,Hg=null;function C2(){if(Hg)return Hg;var O,I=wx,G=I.length,Z,R="value"in Xh?Xh.value:Xh.textContent,fe=R.length;for(O=0;O<G&&I[O]===R[O];O++);var V=G-O;for(Z=1;Z<=V&&I[G-Z]===R[fe-Z];Z++);return Hg=R.slice(O,1<Z?1-Z:void 0)}function Yg(O){var I=O.keyCode;return"charCode"in O?(O=O.charCode,O===0&&I===13&&(O=13)):O=I,O===10&&(O=13),32<=O||O===13?O:0}function Tg(){return!0}function Eb(){return!1}function cu(O){function I(G,Z,R,fe,V){this._reactName=G,this._targetInst=R,this.type=Z,this.nativeEvent=fe,this.target=V,this.currentTarget=null;for(var Y in O)O.hasOwnProperty(Y)&&(G=O[Y],this[Y]=G?G(fe):fe[Y]);return this.isDefaultPrevented=(fe.defaultPrevented!=null?fe.defaultPrevented:fe.returnValue===!1)?Tg:Eb,this.isPropagationStopped=Eb,this}return Wo(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var G=this.nativeEvent;G&&(G.preventDefault?G.preventDefault():typeof G.returnValue!="unknown"&&(G.returnValue=!1),this.isDefaultPrevented=Tg)},stopPropagation:function(){var G=this.nativeEvent;G&&(G.stopPropagation?G.stopPropagation():typeof G.cancelBubble!="unknown"&&(G.cancelBubble=!0),this.isPropagationStopped=Tg)},persist:function(){},isPersistent:Tg}),I}var up={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(O){return O.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tx=cu(up),N0=Wo({},up,{view:0,detail:0}),p6=cu(N0),_m,Cm,Vp,Cy=Wo({},N0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ax,button:0,buttons:0,relatedTarget:function(O){return O.relatedTarget===void 0?O.fromElement===O.srcElement?O.toElement:O.fromElement:O.relatedTarget},movementX:function(O){return"movementX"in O?O.movementX:(O!==Vp&&(Vp&&O.type==="mousemove"?(_m=O.screenX-Vp.screenX,Cm=O.screenY-Vp.screenY):Cm=_m=0,Vp=O),_m)},movementY:function(O){return"movementY"in O?O.movementY:Cm}}),_b=cu(Cy),g6=Wo({},Cy,{dataTransfer:0}),y6=cu(g6),m6=Wo({},N0,{relatedTarget:0}),Lm=cu(m6),x6=Wo({},up,{animationName:0,elapsedTime:0,pseudoElement:0}),b6=cu(x6),w6=Wo({},up,{clipboardData:function(O){return"clipboardData"in O?O.clipboardData:window.clipboardData}}),T6=cu(w6),A6=Wo({},up,{data:0}),Cb=cu(A6),S6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _6(O){var I=this.nativeEvent;return I.getModifierState?I.getModifierState(O):(O=E6[O])?!!I[O]:!1}function Ax(){return _6}var C6=Wo({},N0,{key:function(O){if(O.key){var I=S6[O.key]||O.key;if(I!=="Unidentified")return I}return O.type==="keypress"?(O=Yg(O),O===13?"Enter":String.fromCharCode(O)):O.type==="keydown"||O.type==="keyup"?M6[O.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ax,charCode:function(O){return O.type==="keypress"?Yg(O):0},keyCode:function(O){return O.type==="keydown"||O.type==="keyup"?O.keyCode:0},which:function(O){return O.type==="keypress"?Yg(O):O.type==="keydown"||O.type==="keyup"?O.keyCode:0}}),L6=cu(C6),D6=Wo({},Cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lb=cu(D6),P6=Wo({},N0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ax}),R6=cu(P6),I6=Wo({},up,{propertyName:0,elapsedTime:0,pseudoElement:0}),O6=cu(I6),k6=Wo({},Cy,{deltaX:function(O){return"deltaX"in O?O.deltaX:"wheelDeltaX"in O?-O.wheelDeltaX:0},deltaY:function(O){return"deltaY"in O?O.deltaY:"wheelDeltaY"in O?-O.wheelDeltaY:"wheelDelta"in O?-O.wheelDelta:0},deltaZ:0,deltaMode:0}),N6=cu(k6),F6=[9,13,27,32],Sx=Jc&&"CompositionEvent"in window,t0=null;Jc&&"documentMode"in document&&(t0=document.documentMode);var z6=Jc&&"TextEvent"in window&&!t0,L2=Jc&&(!Sx||t0&&8<t0&&11>=t0),Db=" ",Pb=!1;function D2(O,I){switch(O){case"keyup":return F6.indexOf(I.keyCode)!==-1;case"keydown":return I.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P2(O){return O=O.detail,typeof O=="object"&&"data"in O?O.data:null}var Id=!1;function B6(O,I){switch(O){case"compositionend":return P2(I);case"keypress":return I.which!==32?null:(Pb=!0,Db);case"textInput":return O=I.data,O===Db&&Pb?null:O;default:return null}}function U6(O,I){if(Id)return O==="compositionend"||!Sx&&D2(O,I)?(O=C2(),Hg=wx=Xh=null,Id=!1,O):null;switch(O){case"paste":return null;case"keypress":if(!(I.ctrlKey||I.altKey||I.metaKey)||I.ctrlKey&&I.altKey){if(I.char&&1<I.char.length)return I.char;if(I.which)return String.fromCharCode(I.which)}return null;case"compositionend":return L2&&I.locale!=="ko"?null:I.data;default:return null}}var V6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(O){var I=O&&O.nodeName&&O.nodeName.toLowerCase();return I==="input"?!!V6[O.type]:I==="textarea"}function R2(O,I,G,Z){u2(Z),I=oy(I,"onChange"),0<I.length&&(G=new Tx("onChange","change",null,G,Z),O.push({event:G,listeners:I}))}var r0=null,g0=null;function H6(O){Y2(O,0)}function Ly(O){var I=Nd(O);if(r2(I))return O}function Y6(O,I){if(O==="change")return I}var I2=!1;if(Jc){var Dm;if(Jc){var Pm="oninput"in document;if(!Pm){var Ib=document.createElement("div");Ib.setAttribute("oninput","return;"),Pm=typeof Ib.oninput=="function"}Dm=Pm}else Dm=!1;I2=Dm&&(!document.documentMode||9<document.documentMode)}function Ob(){r0&&(r0.detachEvent("onpropertychange",O2),g0=r0=null)}function O2(O){if(O.propertyName==="value"&&Ly(g0)){var I=[];R2(I,g0,O,gx(O)),v2(H6,I)}}function W6(O,I,G){O==="focusin"?(Ob(),r0=I,g0=G,r0.attachEvent("onpropertychange",O2)):O==="focusout"&&Ob()}function G6(O){if(O==="selectionchange"||O==="keyup"||O==="keydown")return Ly(g0)}function X6(O,I){if(O==="click")return Ly(I)}function Z6(O,I){if(O==="input"||O==="change")return Ly(I)}function j6(O,I){return O===I&&(O!==0||1/O===1/I)||O!==O&&I!==I}var Pf=typeof Object.is=="function"?Object.is:j6;function y0(O,I){if(Pf(O,I))return!0;if(typeof O!="object"||O===null||typeof I!="object"||I===null)return!1;var G=Object.keys(O),Z=Object.keys(I);if(G.length!==Z.length)return!1;for(Z=0;Z<G.length;Z++){var R=G[Z];if(!e1.call(I,R)||!Pf(O[R],I[R]))return!1}return!0}function kb(O){for(;O&&O.firstChild;)O=O.firstChild;return O}function Nb(O,I){var G=kb(O);O=0;for(var Z;G;){if(G.nodeType===3){if(Z=O+G.textContent.length,O<=I&&Z>=I)return{node:G,offset:I-O};O=Z}e:{for(;G;){if(G.nextSibling){G=G.nextSibling;break e}G=G.parentNode}G=void 0}G=kb(G)}}function k2(O,I){return O&&I?O===I?!0:O&&O.nodeType===3?!1:I&&I.nodeType===3?k2(O,I.parentNode):"contains"in O?O.contains(I):O.compareDocumentPosition?!!(O.compareDocumentPosition(I)&16):!1:!1}function N2(){for(var O=window,I=qg();I instanceof O.HTMLIFrameElement;){try{var G=typeof I.contentWindow.location.href=="string"}catch{G=!1}if(G)O=I.contentWindow;else break;I=qg(O.document)}return I}function Mx(O){var I=O&&O.nodeName&&O.nodeName.toLowerCase();return I&&(I==="input"&&(O.type==="text"||O.type==="search"||O.type==="tel"||O.type==="url"||O.type==="password")||I==="textarea"||O.contentEditable==="true")}function K6(O){var I=N2(),G=O.focusedElem,Z=O.selectionRange;if(I!==G&&G&&G.ownerDocument&&k2(G.ownerDocument.documentElement,G)){if(Z!==null&&Mx(G)){if(I=Z.start,O=Z.end,O===void 0&&(O=I),"selectionStart"in G)G.selectionStart=I,G.selectionEnd=Math.min(O,G.value.length);else if(O=(I=G.ownerDocument||document)&&I.defaultView||window,O.getSelection){O=O.getSelection();var R=G.textContent.length,fe=Math.min(Z.start,R);Z=Z.end===void 0?fe:Math.min(Z.end,R),!O.extend&&fe>Z&&(R=Z,Z=fe,fe=R),R=Nb(G,fe);var V=Nb(G,Z);R&&V&&(O.rangeCount!==1||O.anchorNode!==R.node||O.anchorOffset!==R.offset||O.focusNode!==V.node||O.focusOffset!==V.offset)&&(I=I.createRange(),I.setStart(R.node,R.offset),O.removeAllRanges(),fe>Z?(O.addRange(I),O.extend(V.node,V.offset)):(I.setEnd(V.node,V.offset),O.addRange(I)))}}for(I=[],O=G;O=O.parentNode;)O.nodeType===1&&I.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<I.length;G++)O=I[G],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}var J6=Jc&&"documentMode"in document&&11>=document.documentMode,Od=null,x1=null,n0=null,b1=!1;function Fb(O,I,G){var Z=G.window===G?G.document:G.nodeType===9?G:G.ownerDocument;b1||Od==null||Od!==qg(Z)||(Z=Od,"selectionStart"in Z&&Mx(Z)?Z={start:Z.selectionStart,end:Z.selectionEnd}:(Z=(Z.ownerDocument&&Z.ownerDocument.defaultView||window).getSelection(),Z={anchorNode:Z.anchorNode,anchorOffset:Z.anchorOffset,focusNode:Z.focusNode,focusOffset:Z.focusOffset}),n0&&y0(n0,Z)||(n0=Z,Z=oy(x1,"onSelect"),0<Z.length&&(I=new Tx("onSelect","select",null,I,G),O.push({event:I,listeners:Z}),I.target=Od)))}function Ag(O,I){var G={};return G[O.toLowerCase()]=I.toLowerCase(),G["Webkit"+O]="webkit"+I,G["Moz"+O]="moz"+I,G}var kd={animationend:Ag("Animation","AnimationEnd"),animationiteration:Ag("Animation","AnimationIteration"),animationstart:Ag("Animation","AnimationStart"),transitionend:Ag("Transition","TransitionEnd")},Rm={},F2={};Jc&&(F2=document.createElement("div").style,"AnimationEvent"in window||(delete kd.animationend.animation,delete kd.animationiteration.animation,delete kd.animationstart.animation),"TransitionEvent"in window||delete kd.transitionend.transition);function Dy(O){if(Rm[O])return Rm[O];if(!kd[O])return O;var I=kd[O],G;for(G in I)if(I.hasOwnProperty(G)&&G in F2)return Rm[O]=I[G];return O}var z2=Dy("animationend"),B2=Dy("animationiteration"),U2=Dy("animationstart"),V2=Dy("transitionend"),H2=new Map,zb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function iv(O,I){H2.set(O,I),Qv(I,[O])}for(var Im=0;Im<zb.length;Im++){var Om=zb[Im],Q6=Om.toLowerCase(),$6=Om[0].toUpperCase()+Om.slice(1);iv(Q6,"on"+$6)}iv(z2,"onAnimationEnd");iv(B2,"onAnimationIteration");iv(U2,"onAnimationStart");iv("dblclick","onDoubleClick");iv("focusin","onFocus");iv("focusout","onBlur");iv(V2,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);Qv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qp));function Bb(O,I,G){var Z=O.type||"unknown-event";O.currentTarget=G,Q5(Z,I,void 0,O),O.currentTarget=null}function Y2(O,I){I=(I&4)!==0;for(var G=0;G<O.length;G++){var Z=O[G],R=Z.event;Z=Z.listeners;e:{var fe=void 0;if(I)for(var V=Z.length-1;0<=V;V--){var Y=Z[V],e=Y.instance,p=Y.currentTarget;if(Y=Y.listener,e!==fe&&R.isPropagationStopped())break e;Bb(R,Y,p),fe=e}else for(V=0;V<Z.length;V++){if(Y=Z[V],e=Y.instance,p=Y.currentTarget,Y=Y.listener,e!==fe&&R.isPropagationStopped())break e;Bb(R,Y,p),fe=e}}}if(ty)throw O=p1,ty=!1,p1=null,O}function Ao(O,I){var G=I[M1];G===void 0&&(G=I[M1]=new Set);var Z=O+"__bubble";G.has(Z)||(W2(I,O,2,!1),G.add(Z))}function km(O,I,G){var Z=0;I&&(Z|=4),W2(G,O,Z,I)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function m0(O){if(!O[Sg]){O[Sg]=!0,Qw.forEach(function(G){G!=="selectionchange"&&(q6.has(G)||km(G,!1,O),km(G,!0,O))});var I=O.nodeType===9?O:O.ownerDocument;I===null||I[Sg]||(I[Sg]=!0,km("selectionchange",!1,I))}}function W2(O,I,G,Z){switch(_2(I)){case 1:var R=v6;break;case 4:R=d6;break;default:R=bx}G=R.bind(null,I,G,O),R=void 0,!d1||I!=="touchstart"&&I!=="touchmove"&&I!=="wheel"||(R=!0),Z?R!==void 0?O.addEventListener(I,G,{capture:!0,passive:R}):O.addEventListener(I,G,!0):R!==void 0?O.addEventListener(I,G,{passive:R}):O.addEventListener(I,G,!1)}function Nm(O,I,G,Z,R){var fe=Z;if(!(I&1)&&!(I&2)&&Z!==null)e:for(;;){if(Z===null)return;var V=Z.tag;if(V===3||V===4){var Y=Z.stateNode.containerInfo;if(Y===R||Y.nodeType===8&&Y.parentNode===R)break;if(V===4)for(V=Z.return;V!==null;){var e=V.tag;if((e===3||e===4)&&(e=V.stateNode.containerInfo,e===R||e.nodeType===8&&e.parentNode===R))return;V=V.return}for(;Y!==null;){if(V=Bv(Y),V===null)return;if(e=V.tag,e===5||e===6){Z=fe=V;continue e}Y=Y.parentNode}}Z=Z.return}v2(function(){var p=fe,L=gx(G),o=[];e:{var C=H2.get(O);if(C!==void 0){var S=Tx,v=O;switch(O){case"keypress":if(Yg(G)===0)break e;case"keydown":case"keyup":S=L6;break;case"focusin":v="focus",S=Lm;break;case"focusout":v="blur",S=Lm;break;case"beforeblur":case"afterblur":S=Lm;break;case"click":if(G.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=_b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=y6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=R6;break;case z2:case B2:case U2:S=b6;break;case V2:S=O6;break;case"scroll":S=p6;break;case"wheel":S=N6;break;case"copy":case"cut":case"paste":S=T6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Lb}var g=(I&4)!==0,r=!g&&O==="scroll",t=g?C!==null?C+"Capture":null:C;g=[];for(var a=p,n;a!==null;){n=a;var f=n.stateNode;if(n.tag===5&&f!==null&&(n=f,t!==null&&(f=h0(a,t),f!=null&&g.push(x0(a,f,n)))),r)break;a=a.return}0<g.length&&(C=new S(C,v,null,G,L),o.push({event:C,listeners:g}))}}if(!(I&7)){e:{if(C=O==="mouseover"||O==="pointerover",S=O==="mouseout"||O==="pointerout",C&&G!==h1&&(v=G.relatedTarget||G.fromElement)&&(Bv(v)||v[Qc]))break e;if((S||C)&&(C=L.window===L?L:(C=L.ownerDocument)?C.defaultView||C.parentWindow:window,S?(v=G.relatedTarget||G.toElement,S=p,v=v?Bv(v):null,v!==null&&(r=$v(v),v!==r||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=p),S!==v)){if(g=_b,f="onMouseLeave",t="onMouseEnter",a="mouse",(O==="pointerout"||O==="pointerover")&&(g=Lb,f="onPointerLeave",t="onPointerEnter",a="pointer"),r=S==null?C:Nd(S),n=v==null?C:Nd(v),C=new g(f,a+"leave",S,G,L),C.target=r,C.relatedTarget=n,f=null,Bv(L)===p&&(g=new g(t,a+"enter",v,G,L),g.target=n,g.relatedTarget=r,f=g),r=f,S&&v)t:{for(g=S,t=v,a=0,n=g;n;n=Ed(n))a++;for(n=0,f=t;f;f=Ed(f))n++;for(;0<a-n;)g=Ed(g),a--;for(;0<n-a;)t=Ed(t),n--;for(;a--;){if(g===t||t!==null&&g===t.alternate)break t;g=Ed(g),t=Ed(t)}g=null}else g=null;S!==null&&Ub(o,C,S,g,!1),v!==null&&r!==null&&Ub(o,r,v,g,!0)}}e:{if(C=p?Nd(p):window,S=C.nodeName&&C.nodeName.toLowerCase(),S==="select"||S==="input"&&C.type==="file")var u=Y6;else if(Rb(C))if(I2)u=Z6;else{u=G6;var l=W6}else(S=C.nodeName)&&S.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(u=X6);if(u&&(u=u(O,p))){R2(o,u,G,L);break e}l&&l(O,C,p),O==="focusout"&&(l=C._wrapperState)&&l.controlled&&C.type==="number"&&s1(C,"number",C.value)}switch(l=p?Nd(p):window,O){case"focusin":(Rb(l)||l.contentEditable==="true")&&(Od=l,x1=p,n0=null);break;case"focusout":n0=x1=Od=null;break;case"mousedown":b1=!0;break;case"contextmenu":case"mouseup":case"dragend":b1=!1,Fb(o,G,L);break;case"selectionchange":if(J6)break;case"keydown":case"keyup":Fb(o,G,L)}var y;if(Sx)e:{switch(O){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else Id?D2(O,G)&&(h="onCompositionEnd"):O==="keydown"&&G.keyCode===229&&(h="onCompositionStart");h&&(L2&&G.locale!=="ko"&&(Id||h!=="onCompositionStart"?h==="onCompositionEnd"&&Id&&(y=C2()):(Xh=L,wx="value"in Xh?Xh.value:Xh.textContent,Id=!0)),l=oy(p,h),0<l.length&&(h=new Cb(h,O,null,G,L),o.push({event:h,listeners:l}),y?h.data=y:(y=P2(G),y!==null&&(h.data=y)))),(y=z6?B6(O,G):U6(O,G))&&(p=oy(p,"onBeforeInput"),0<p.length&&(L=new Cb("onBeforeInput","beforeinput",null,G,L),o.push({event:L,listeners:p}),L.data=y))}Y2(o,I)})}function x0(O,I,G){return{instance:O,listener:I,currentTarget:G}}function oy(O,I){for(var G=I+"Capture",Z=[];O!==null;){var R=O,fe=R.stateNode;R.tag===5&&fe!==null&&(R=fe,fe=h0(O,G),fe!=null&&Z.unshift(x0(O,fe,R)),fe=h0(O,I),fe!=null&&Z.push(x0(O,fe,R))),O=O.return}return Z}function Ed(O){if(O===null)return null;do O=O.return;while(O&&O.tag!==5);return O||null}function Ub(O,I,G,Z,R){for(var fe=I._reactName,V=[];G!==null&&G!==Z;){var Y=G,e=Y.alternate,p=Y.stateNode;if(e!==null&&e===Z)break;Y.tag===5&&p!==null&&(Y=p,R?(e=h0(G,fe),e!=null&&V.unshift(x0(G,e,Y))):R||(e=h0(G,fe),e!=null&&V.push(x0(G,e,Y)))),G=G.return}V.length!==0&&O.push({event:I,listeners:V})}var eM=/\r\n?/g,tM=/\u0000|\uFFFD/g;function Vb(O){return(typeof O=="string"?O:""+O).replace(eM,`
`).replace(tM,"")}function Mg(O,I,G){if(I=Vb(I),Vb(O)!==I&&G)throw Error(Ta(425))}function sy(){}var w1=null,T1=null;function A1(O,I){return O==="textarea"||O==="noscript"||typeof I.children=="string"||typeof I.children=="number"||typeof I.dangerouslySetInnerHTML=="object"&&I.dangerouslySetInnerHTML!==null&&I.dangerouslySetInnerHTML.__html!=null}var S1=typeof setTimeout=="function"?setTimeout:void 0,rM=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,nM=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(O){return Hb.resolve(null).then(O).catch(aM)}:S1;function aM(O){setTimeout(function(){throw O})}function Fm(O,I){var G=I,Z=0;do{var R=G.nextSibling;if(O.removeChild(G),R&&R.nodeType===8)if(G=R.data,G==="/$"){if(Z===0){O.removeChild(R),p0(I);return}Z--}else G!=="$"&&G!=="$?"&&G!=="$!"||Z++;G=R}while(G);p0(I)}function Qh(O){for(;O!=null;O=O.nextSibling){var I=O.nodeType;if(I===1||I===3)break;if(I===8){if(I=O.data,I==="$"||I==="$!"||I==="$?")break;if(I==="/$")return null}}return O}function Yb(O){O=O.previousSibling;for(var I=0;O;){if(O.nodeType===8){var G=O.data;if(G==="$"||G==="$!"||G==="$?"){if(I===0)return O;I--}else G==="/$"&&I++}O=O.previousSibling}return null}var fp=Math.random().toString(36).slice(2),oc="__reactFiber$"+fp,b0="__reactProps$"+fp,Qc="__reactContainer$"+fp,M1="__reactEvents$"+fp,iM="__reactListeners$"+fp,oM="__reactHandles$"+fp;function Bv(O){var I=O[oc];if(I)return I;for(var G=O.parentNode;G;){if(I=G[Qc]||G[oc]){if(G=I.alternate,I.child!==null||G!==null&&G.child!==null)for(O=Yb(O);O!==null;){if(G=O[oc])return G;O=Yb(O)}return I}O=G,G=O.parentNode}return null}function F0(O){return O=O[oc]||O[Qc],!O||O.tag!==5&&O.tag!==6&&O.tag!==13&&O.tag!==3?null:O}function Nd(O){if(O.tag===5||O.tag===6)return O.stateNode;throw Error(Ta(33))}function Py(O){return O[b0]||null}var E1=[],Fd=-1;function ov(O){return{current:O}}function So(O){0>Fd||(O.current=E1[Fd],E1[Fd]=null,Fd--)}function yo(O,I){Fd++,E1[Fd]=O.current,O.current=I}var nv={},nl=ov(nv),Ul=ov(!1),Gv=nv;function ep(O,I){var G=O.type.contextTypes;if(!G)return nv;var Z=O.stateNode;if(Z&&Z.__reactInternalMemoizedUnmaskedChildContext===I)return Z.__reactInternalMemoizedMaskedChildContext;var R={},fe;for(fe in G)R[fe]=I[fe];return Z&&(O=O.stateNode,O.__reactInternalMemoizedUnmaskedChildContext=I,O.__reactInternalMemoizedMaskedChildContext=R),R}function Vl(O){return O=O.childContextTypes,O!=null}function ly(){So(Ul),So(nl)}function Wb(O,I,G){if(nl.current!==nv)throw Error(Ta(168));yo(nl,I),yo(Ul,G)}function G2(O,I,G){var Z=O.stateNode;if(I=I.childContextTypes,typeof Z.getChildContext!="function")return G;Z=Z.getChildContext();for(var R in Z)if(!(R in I))throw Error(Ta(108,W5(O)||"Unknown",R));return Wo({},G,Z)}function uy(O){return O=(O=O.stateNode)&&O.__reactInternalMemoizedMergedChildContext||nv,Gv=nl.current,yo(nl,O),yo(Ul,Ul.current),!0}function Gb(O,I,G){var Z=O.stateNode;if(!Z)throw Error(Ta(169));G?(O=G2(O,I,Gv),Z.__reactInternalMemoizedMergedChildContext=O,So(Ul),So(nl),yo(nl,O)):So(Ul),yo(Ul,G)}var Wc=null,Ry=!1,zm=!1;function X2(O){Wc===null?Wc=[O]:Wc.push(O)}function sM(O){Ry=!0,X2(O)}function sv(){if(!zm&&Wc!==null){zm=!0;var O=0,I=io;try{var G=Wc;for(io=1;O<G.length;O++){var Z=G[O];do Z=Z(!0);while(Z!==null)}Wc=null,Ry=!1}catch(R){throw Wc!==null&&(Wc=Wc.slice(O+1)),y2(yx,sv),R}finally{io=I,zm=!1}}return null}var zd=[],Bd=0,fy=null,cy=0,Nu=[],Fu=0,Xv=null,Xc=1,Zc="";function Nv(O,I){zd[Bd++]=cy,zd[Bd++]=fy,fy=O,cy=I}function Z2(O,I,G){Nu[Fu++]=Xc,Nu[Fu++]=Zc,Nu[Fu++]=Xv,Xv=O;var Z=Xc;O=Zc;var R=32-Cf(Z)-1;Z&=~(1<<R),G+=1;var fe=32-Cf(I)+R;if(30<fe){var V=R-R%5;fe=(Z&(1<<V)-1).toString(32),Z>>=V,R-=V,Xc=1<<32-Cf(I)+R|G<<R|Z,Zc=fe+O}else Xc=1<<fe|G<<R|Z,Zc=O}function Ex(O){O.return!==null&&(Nv(O,1),Z2(O,1,0))}function _x(O){for(;O===fy;)fy=zd[--Bd],zd[Bd]=null,cy=zd[--Bd],zd[Bd]=null;for(;O===Xv;)Xv=Nu[--Fu],Nu[Fu]=null,Zc=Nu[--Fu],Nu[Fu]=null,Xc=Nu[--Fu],Nu[Fu]=null}var lu=null,ou=null,Do=!1,wf=null;function j2(O,I){var G=Bu(5,null,null,0);G.elementType="DELETED",G.stateNode=I,G.return=O,I=O.deletions,I===null?(O.deletions=[G],O.flags|=16):I.push(G)}function Xb(O,I){switch(O.tag){case 5:var G=O.type;return I=I.nodeType!==1||G.toLowerCase()!==I.nodeName.toLowerCase()?null:I,I!==null?(O.stateNode=I,lu=O,ou=Qh(I.firstChild),!0):!1;case 6:return I=O.pendingProps===""||I.nodeType!==3?null:I,I!==null?(O.stateNode=I,lu=O,ou=null,!0):!1;case 13:return I=I.nodeType!==8?null:I,I!==null?(G=Xv!==null?{id:Xc,overflow:Zc}:null,O.memoizedState={dehydrated:I,treeContext:G,retryLane:1073741824},G=Bu(18,null,null,0),G.stateNode=I,G.return=O,O.child=G,lu=O,ou=null,!0):!1;default:return!1}}function _1(O){return(O.mode&1)!==0&&(O.flags&128)===0}function C1(O){if(Do){var I=ou;if(I){var G=I;if(!Xb(O,I)){if(_1(O))throw Error(Ta(418));I=Qh(G.nextSibling);var Z=lu;I&&Xb(O,I)?j2(Z,G):(O.flags=O.flags&-4097|2,Do=!1,lu=O)}}else{if(_1(O))throw Error(Ta(418));O.flags=O.flags&-4097|2,Do=!1,lu=O}}}function Zb(O){for(O=O.return;O!==null&&O.tag!==5&&O.tag!==3&&O.tag!==13;)O=O.return;lu=O}function Eg(O){if(O!==lu)return!1;if(!Do)return Zb(O),Do=!0,!1;var I;if((I=O.tag!==3)&&!(I=O.tag!==5)&&(I=O.type,I=I!=="head"&&I!=="body"&&!A1(O.type,O.memoizedProps)),I&&(I=ou)){if(_1(O))throw K2(),Error(Ta(418));for(;I;)j2(O,I),I=Qh(I.nextSibling)}if(Zb(O),O.tag===13){if(O=O.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(Ta(317));e:{for(O=O.nextSibling,I=0;O;){if(O.nodeType===8){var G=O.data;if(G==="/$"){if(I===0){ou=Qh(O.nextSibling);break e}I--}else G!=="$"&&G!=="$!"&&G!=="$?"||I++}O=O.nextSibling}ou=null}}else ou=lu?Qh(O.stateNode.nextSibling):null;return!0}function K2(){for(var O=ou;O;)O=Qh(O.nextSibling)}function tp(){ou=lu=null,Do=!1}function Cx(O){wf===null?wf=[O]:wf.push(O)}var lM=rh.ReactCurrentBatchConfig;function Hp(O,I,G){if(O=G.ref,O!==null&&typeof O!="function"&&typeof O!="object"){if(G._owner){if(G=G._owner,G){if(G.tag!==1)throw Error(Ta(309));var Z=G.stateNode}if(!Z)throw Error(Ta(147,O));var R=Z,fe=""+O;return I!==null&&I.ref!==null&&typeof I.ref=="function"&&I.ref._stringRef===fe?I.ref:(I=function(V){var Y=R.refs;V===null?delete Y[fe]:Y[fe]=V},I._stringRef=fe,I)}if(typeof O!="string")throw Error(Ta(284));if(!G._owner)throw Error(Ta(290,O))}return O}function _g(O,I){throw O=Object.prototype.toString.call(I),Error(Ta(31,O==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":O))}function jb(O){var I=O._init;return I(O._payload)}function J2(O){function I(t,a){if(O){var n=t.deletions;n===null?(t.deletions=[a],t.flags|=16):n.push(a)}}function G(t,a){if(!O)return null;for(;a!==null;)I(t,a),a=a.sibling;return null}function Z(t,a){for(t=new Map;a!==null;)a.key!==null?t.set(a.key,a):t.set(a.index,a),a=a.sibling;return t}function R(t,a){return t=tv(t,a),t.index=0,t.sibling=null,t}function fe(t,a,n){return t.index=n,O?(n=t.alternate,n!==null?(n=n.index,n<a?(t.flags|=2,a):n):(t.flags|=2,a)):(t.flags|=1048576,a)}function V(t){return O&&t.alternate===null&&(t.flags|=2),t}function Y(t,a,n,f){return a===null||a.tag!==6?(a=Gm(n,t.mode,f),a.return=t,a):(a=R(a,n),a.return=t,a)}function e(t,a,n,f){var u=n.type;return u===Rd?L(t,a,n.props.children,f,n.key):a!==null&&(a.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Hh&&jb(u)===a.type)?(f=R(a,n.props),f.ref=Hp(t,a,n),f.return=t,f):(f=Jg(n.type,n.key,n.props,null,t.mode,f),f.ref=Hp(t,a,n),f.return=t,f)}function p(t,a,n,f){return a===null||a.tag!==4||a.stateNode.containerInfo!==n.containerInfo||a.stateNode.implementation!==n.implementation?(a=Xm(n,t.mode,f),a.return=t,a):(a=R(a,n.children||[]),a.return=t,a)}function L(t,a,n,f,u){return a===null||a.tag!==7?(a=Wv(n,t.mode,f,u),a.return=t,a):(a=R(a,n),a.return=t,a)}function o(t,a,n){if(typeof a=="string"&&a!==""||typeof a=="number")return a=Gm(""+a,t.mode,n),a.return=t,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case gg:return n=Jg(a.type,a.key,a.props,null,t.mode,n),n.ref=Hp(t,null,a),n.return=t,n;case Pd:return a=Xm(a,t.mode,n),a.return=t,a;case Hh:var f=a._init;return o(t,f(a._payload),n)}if(Kp(a)||Fp(a))return a=Wv(a,t.mode,n,null),a.return=t,a;_g(t,a)}return null}function C(t,a,n,f){var u=a!==null?a.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return u!==null?null:Y(t,a,""+n,f);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case gg:return n.key===u?e(t,a,n,f):null;case Pd:return n.key===u?p(t,a,n,f):null;case Hh:return u=n._init,C(t,a,u(n._payload),f)}if(Kp(n)||Fp(n))return u!==null?null:L(t,a,n,f,null);_g(t,n)}return null}function S(t,a,n,f,u){if(typeof f=="string"&&f!==""||typeof f=="number")return t=t.get(n)||null,Y(a,t,""+f,u);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case gg:return t=t.get(f.key===null?n:f.key)||null,e(a,t,f,u);case Pd:return t=t.get(f.key===null?n:f.key)||null,p(a,t,f,u);case Hh:var l=f._init;return S(t,a,n,l(f._payload),u)}if(Kp(f)||Fp(f))return t=t.get(n)||null,L(a,t,f,u,null);_g(a,f)}return null}function v(t,a,n,f){for(var u=null,l=null,y=a,h=a=0,T=null;y!==null&&h<n.length;h++){y.index>h?(T=y,y=null):T=y.sibling;var c=C(t,y,n[h],f);if(c===null){y===null&&(y=T);break}O&&y&&c.alternate===null&&I(t,y),a=fe(c,a,h),l===null?u=c:l.sibling=c,l=c,y=T}if(h===n.length)return G(t,y),Do&&Nv(t,h),u;if(y===null){for(;h<n.length;h++)y=o(t,n[h],f),y!==null&&(a=fe(y,a,h),l===null?u=y:l.sibling=y,l=y);return Do&&Nv(t,h),u}for(y=Z(t,y);h<n.length;h++)T=S(y,t,h,n[h],f),T!==null&&(O&&T.alternate!==null&&y.delete(T.key===null?h:T.key),a=fe(T,a,h),l===null?u=T:l.sibling=T,l=T);return O&&y.forEach(function(i){return I(t,i)}),Do&&Nv(t,h),u}function g(t,a,n,f){var u=Fp(n);if(typeof u!="function")throw Error(Ta(150));if(n=u.call(n),n==null)throw Error(Ta(151));for(var l=u=null,y=a,h=a=0,T=null,c=n.next();y!==null&&!c.done;h++,c=n.next()){y.index>h?(T=y,y=null):T=y.sibling;var i=C(t,y,c.value,f);if(i===null){y===null&&(y=T);break}O&&y&&i.alternate===null&&I(t,y),a=fe(i,a,h),l===null?u=i:l.sibling=i,l=i,y=T}if(c.done)return G(t,y),Do&&Nv(t,h),u;if(y===null){for(;!c.done;h++,c=n.next())c=o(t,c.value,f),c!==null&&(a=fe(c,a,h),l===null?u=c:l.sibling=c,l=c);return Do&&Nv(t,h),u}for(y=Z(t,y);!c.done;h++,c=n.next())c=S(y,t,h,c.value,f),c!==null&&(O&&c.alternate!==null&&y.delete(c.key===null?h:c.key),a=fe(c,a,h),l===null?u=c:l.sibling=c,l=c);return O&&y.forEach(function(d){return I(t,d)}),Do&&Nv(t,h),u}function r(t,a,n,f){if(typeof n=="object"&&n!==null&&n.type===Rd&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case gg:e:{for(var u=n.key,l=a;l!==null;){if(l.key===u){if(u=n.type,u===Rd){if(l.tag===7){G(t,l.sibling),a=R(l,n.props.children),a.return=t,t=a;break e}}else if(l.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Hh&&jb(u)===l.type){G(t,l.sibling),a=R(l,n.props),a.ref=Hp(t,l,n),a.return=t,t=a;break e}G(t,l);break}else I(t,l);l=l.sibling}n.type===Rd?(a=Wv(n.props.children,t.mode,f,n.key),a.return=t,t=a):(f=Jg(n.type,n.key,n.props,null,t.mode,f),f.ref=Hp(t,a,n),f.return=t,t=f)}return V(t);case Pd:e:{for(l=n.key;a!==null;){if(a.key===l)if(a.tag===4&&a.stateNode.containerInfo===n.containerInfo&&a.stateNode.implementation===n.implementation){G(t,a.sibling),a=R(a,n.children||[]),a.return=t,t=a;break e}else{G(t,a);break}else I(t,a);a=a.sibling}a=Xm(n,t.mode,f),a.return=t,t=a}return V(t);case Hh:return l=n._init,r(t,a,l(n._payload),f)}if(Kp(n))return v(t,a,n,f);if(Fp(n))return g(t,a,n,f);_g(t,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,a!==null&&a.tag===6?(G(t,a.sibling),a=R(a,n),a.return=t,t=a):(G(t,a),a=Gm(n,t.mode,f),a.return=t,t=a),V(t)):G(t,a)}return r}var rp=J2(!0),Q2=J2(!1),hy=ov(null),vy=null,Ud=null,Lx=null;function Dx(){Lx=Ud=vy=null}function Px(O){var I=hy.current;So(hy),O._currentValue=I}function L1(O,I,G){for(;O!==null;){var Z=O.alternate;if((O.childLanes&I)!==I?(O.childLanes|=I,Z!==null&&(Z.childLanes|=I)):Z!==null&&(Z.childLanes&I)!==I&&(Z.childLanes|=I),O===G)break;O=O.return}}function Qd(O,I){vy=O,Lx=Ud=null,O=O.dependencies,O!==null&&O.firstContext!==null&&(O.lanes&I&&(Bl=!0),O.firstContext=null)}function Vu(O){var I=O._currentValue;if(Lx!==O)if(O={context:O,memoizedValue:I,next:null},Ud===null){if(vy===null)throw Error(Ta(308));Ud=O,vy.dependencies={lanes:0,firstContext:O}}else Ud=Ud.next=O;return I}var Uv=null;function Rx(O){Uv===null?Uv=[O]:Uv.push(O)}function $2(O,I,G,Z){var R=I.interleaved;return R===null?(G.next=G,Rx(I)):(G.next=R.next,R.next=G),I.interleaved=G,$c(O,Z)}function $c(O,I){O.lanes|=I;var G=O.alternate;for(G!==null&&(G.lanes|=I),G=O,O=O.return;O!==null;)O.childLanes|=I,G=O.alternate,G!==null&&(G.childLanes|=I),G=O,O=O.return;return G.tag===3?G.stateNode:null}var Yh=!1;function Ix(O){O.updateQueue={baseState:O.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q2(O,I){O=O.updateQueue,I.updateQueue===O&&(I.updateQueue={baseState:O.baseState,firstBaseUpdate:O.firstBaseUpdate,lastBaseUpdate:O.lastBaseUpdate,shared:O.shared,effects:O.effects})}function jc(O,I){return{eventTime:O,lane:I,tag:0,payload:null,callback:null,next:null}}function $h(O,I,G){var Z=O.updateQueue;if(Z===null)return null;if(Z=Z.shared,Yi&2){var R=Z.pending;return R===null?I.next=I:(I.next=R.next,R.next=I),Z.pending=I,$c(O,G)}return R=Z.interleaved,R===null?(I.next=I,Rx(Z)):(I.next=R.next,R.next=I),Z.interleaved=I,$c(O,G)}function Wg(O,I,G){if(I=I.updateQueue,I!==null&&(I=I.shared,(G&4194240)!==0)){var Z=I.lanes;Z&=O.pendingLanes,G|=Z,I.lanes=G,mx(O,G)}}function Kb(O,I){var G=O.updateQueue,Z=O.alternate;if(Z!==null&&(Z=Z.updateQueue,G===Z)){var R=null,fe=null;if(G=G.firstBaseUpdate,G!==null){do{var V={eventTime:G.eventTime,lane:G.lane,tag:G.tag,payload:G.payload,callback:G.callback,next:null};fe===null?R=fe=V:fe=fe.next=V,G=G.next}while(G!==null);fe===null?R=fe=I:fe=fe.next=I}else R=fe=I;G={baseState:Z.baseState,firstBaseUpdate:R,lastBaseUpdate:fe,shared:Z.shared,effects:Z.effects},O.updateQueue=G;return}O=G.lastBaseUpdate,O===null?G.firstBaseUpdate=I:O.next=I,G.lastBaseUpdate=I}function dy(O,I,G,Z){var R=O.updateQueue;Yh=!1;var fe=R.firstBaseUpdate,V=R.lastBaseUpdate,Y=R.shared.pending;if(Y!==null){R.shared.pending=null;var e=Y,p=e.next;e.next=null,V===null?fe=p:V.next=p,V=e;var L=O.alternate;L!==null&&(L=L.updateQueue,Y=L.lastBaseUpdate,Y!==V&&(Y===null?L.firstBaseUpdate=p:Y.next=p,L.lastBaseUpdate=e))}if(fe!==null){var o=R.baseState;V=0,L=p=e=null,Y=fe;do{var C=Y.lane,S=Y.eventTime;if((Z&C)===C){L!==null&&(L=L.next={eventTime:S,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var v=O,g=Y;switch(C=I,S=G,g.tag){case 1:if(v=g.payload,typeof v=="function"){o=v.call(S,o,C);break e}o=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,C=typeof v=="function"?v.call(S,o,C):v,C==null)break e;o=Wo({},o,C);break e;case 2:Yh=!0}}Y.callback!==null&&Y.lane!==0&&(O.flags|=64,C=R.effects,C===null?R.effects=[Y]:C.push(Y))}else S={eventTime:S,lane:C,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},L===null?(p=L=S,e=o):L=L.next=S,V|=C;if(Y=Y.next,Y===null){if(Y=R.shared.pending,Y===null)break;C=Y,Y=C.next,C.next=null,R.lastBaseUpdate=C,R.shared.pending=null}}while(!0);if(L===null&&(e=o),R.baseState=e,R.firstBaseUpdate=p,R.lastBaseUpdate=L,I=R.shared.interleaved,I!==null){R=I;do V|=R.lane,R=R.next;while(R!==I)}else fe===null&&(R.shared.lanes=0);jv|=V,O.lanes=V,O.memoizedState=o}}function Jb(O,I,G){if(O=I.effects,I.effects=null,O!==null)for(I=0;I<O.length;I++){var Z=O[I],R=Z.callback;if(R!==null){if(Z.callback=null,Z=G,typeof R!="function")throw Error(Ta(191,R));R.call(Z)}}}var z0={},hc=ov(z0),w0=ov(z0),T0=ov(z0);function Vv(O){if(O===z0)throw Error(Ta(174));return O}function Ox(O,I){switch(yo(T0,I),yo(w0,O),yo(hc,z0),O=I.nodeType,O){case 9:case 11:I=(I=I.documentElement)?I.namespaceURI:u1(null,"");break;default:O=O===8?I.parentNode:I,I=O.namespaceURI||null,O=O.tagName,I=u1(I,O)}So(hc),yo(hc,I)}function np(){So(hc),So(w0),So(T0)}function eT(O){Vv(T0.current);var I=Vv(hc.current),G=u1(I,O.type);I!==G&&(yo(w0,O),yo(hc,G))}function kx(O){w0.current===O&&(So(hc),So(w0))}var Ho=ov(0);function py(O){for(var I=O;I!==null;){if(I.tag===13){var G=I.memoizedState;if(G!==null&&(G=G.dehydrated,G===null||G.data==="$?"||G.data==="$!"))return I}else if(I.tag===19&&I.memoizedProps.revealOrder!==void 0){if(I.flags&128)return I}else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===O)break;for(;I.sibling===null;){if(I.return===null||I.return===O)return null;I=I.return}I.sibling.return=I.return,I=I.sibling}return null}var Bm=[];function Nx(){for(var O=0;O<Bm.length;O++)Bm[O]._workInProgressVersionPrimary=null;Bm.length=0}var Gg=rh.ReactCurrentDispatcher,Um=rh.ReactCurrentBatchConfig,Zv=0,Yo=null,gs=null,Ss=null,gy=!1,a0=!1,A0=0,uM=0;function el(){throw Error(Ta(321))}function Fx(O,I){if(I===null)return!1;for(var G=0;G<I.length&&G<O.length;G++)if(!Pf(O[G],I[G]))return!1;return!0}function zx(O,I,G,Z,R,fe){if(Zv=fe,Yo=I,I.memoizedState=null,I.updateQueue=null,I.lanes=0,Gg.current=O===null||O.memoizedState===null?vM:dM,O=G(Z,R),a0){fe=0;do{if(a0=!1,A0=0,25<=fe)throw Error(Ta(301));fe+=1,Ss=gs=null,I.updateQueue=null,Gg.current=pM,O=G(Z,R)}while(a0)}if(Gg.current=yy,I=gs!==null&&gs.next!==null,Zv=0,Ss=gs=Yo=null,gy=!1,I)throw Error(Ta(300));return O}function Bx(){var O=A0!==0;return A0=0,O}function ec(){var O={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ss===null?Yo.memoizedState=Ss=O:Ss=Ss.next=O,Ss}function Hu(){if(gs===null){var O=Yo.alternate;O=O!==null?O.memoizedState:null}else O=gs.next;var I=Ss===null?Yo.memoizedState:Ss.next;if(I!==null)Ss=I,gs=O;else{if(O===null)throw Error(Ta(310));gs=O,O={memoizedState:gs.memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},Ss===null?Yo.memoizedState=Ss=O:Ss=Ss.next=O}return Ss}function S0(O,I){return typeof I=="function"?I(O):I}function Vm(O){var I=Hu(),G=I.queue;if(G===null)throw Error(Ta(311));G.lastRenderedReducer=O;var Z=gs,R=Z.baseQueue,fe=G.pending;if(fe!==null){if(R!==null){var V=R.next;R.next=fe.next,fe.next=V}Z.baseQueue=R=fe,G.pending=null}if(R!==null){fe=R.next,Z=Z.baseState;var Y=V=null,e=null,p=fe;do{var L=p.lane;if((Zv&L)===L)e!==null&&(e=e.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),Z=p.hasEagerState?p.eagerState:O(Z,p.action);else{var o={lane:L,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};e===null?(Y=e=o,V=Z):e=e.next=o,Yo.lanes|=L,jv|=L}p=p.next}while(p!==null&&p!==fe);e===null?V=Z:e.next=Y,Pf(Z,I.memoizedState)||(Bl=!0),I.memoizedState=Z,I.baseState=V,I.baseQueue=e,G.lastRenderedState=Z}if(O=G.interleaved,O!==null){R=O;do fe=R.lane,Yo.lanes|=fe,jv|=fe,R=R.next;while(R!==O)}else R===null&&(G.lanes=0);return[I.memoizedState,G.dispatch]}function Hm(O){var I=Hu(),G=I.queue;if(G===null)throw Error(Ta(311));G.lastRenderedReducer=O;var Z=G.dispatch,R=G.pending,fe=I.memoizedState;if(R!==null){G.pending=null;var V=R=R.next;do fe=O(fe,V.action),V=V.next;while(V!==R);Pf(fe,I.memoizedState)||(Bl=!0),I.memoizedState=fe,I.baseQueue===null&&(I.baseState=fe),G.lastRenderedState=fe}return[fe,Z]}function tT(){}function rT(O,I){var G=Yo,Z=Hu(),R=I(),fe=!Pf(Z.memoizedState,R);if(fe&&(Z.memoizedState=R,Bl=!0),Z=Z.queue,Ux(iT.bind(null,G,Z,O),[O]),Z.getSnapshot!==I||fe||Ss!==null&&Ss.memoizedState.tag&1){if(G.flags|=2048,M0(9,aT.bind(null,G,Z,R,I),void 0,null),Es===null)throw Error(Ta(349));Zv&30||nT(G,I,R)}return R}function nT(O,I,G){O.flags|=16384,O={getSnapshot:I,value:G},I=Yo.updateQueue,I===null?(I={lastEffect:null,stores:null},Yo.updateQueue=I,I.stores=[O]):(G=I.stores,G===null?I.stores=[O]:G.push(O))}function aT(O,I,G,Z){I.value=G,I.getSnapshot=Z,oT(I)&&sT(O)}function iT(O,I,G){return G(function(){oT(I)&&sT(O)})}function oT(O){var I=O.getSnapshot;O=O.value;try{var G=I();return!Pf(O,G)}catch{return!0}}function sT(O){var I=$c(O,1);I!==null&&Lf(I,O,1,-1)}function Qb(O){var I=ec();return typeof O=="function"&&(O=O()),I.memoizedState=I.baseState=O,O={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:O},I.queue=O,O=O.dispatch=hM.bind(null,Yo,O),[I.memoizedState,O]}function M0(O,I,G,Z){return O={tag:O,create:I,destroy:G,deps:Z,next:null},I=Yo.updateQueue,I===null?(I={lastEffect:null,stores:null},Yo.updateQueue=I,I.lastEffect=O.next=O):(G=I.lastEffect,G===null?I.lastEffect=O.next=O:(Z=G.next,G.next=O,O.next=Z,I.lastEffect=O)),O}function lT(){return Hu().memoizedState}function Xg(O,I,G,Z){var R=ec();Yo.flags|=O,R.memoizedState=M0(1|I,G,void 0,Z===void 0?null:Z)}function Iy(O,I,G,Z){var R=Hu();Z=Z===void 0?null:Z;var fe=void 0;if(gs!==null){var V=gs.memoizedState;if(fe=V.destroy,Z!==null&&Fx(Z,V.deps)){R.memoizedState=M0(I,G,fe,Z);return}}Yo.flags|=O,R.memoizedState=M0(1|I,G,fe,Z)}function $b(O,I){return Xg(8390656,8,O,I)}function Ux(O,I){return Iy(2048,8,O,I)}function uT(O,I){return Iy(4,2,O,I)}function fT(O,I){return Iy(4,4,O,I)}function cT(O,I){if(typeof I=="function")return O=O(),I(O),function(){I(null)};if(I!=null)return O=O(),I.current=O,function(){I.current=null}}function hT(O,I,G){return G=G!=null?G.concat([O]):null,Iy(4,4,cT.bind(null,I,O),G)}function Vx(){}function vT(O,I){var G=Hu();I=I===void 0?null:I;var Z=G.memoizedState;return Z!==null&&I!==null&&Fx(I,Z[1])?Z[0]:(G.memoizedState=[O,I],O)}function dT(O,I){var G=Hu();I=I===void 0?null:I;var Z=G.memoizedState;return Z!==null&&I!==null&&Fx(I,Z[1])?Z[0]:(O=O(),G.memoizedState=[O,I],O)}function pT(O,I,G){return Zv&21?(Pf(G,I)||(G=b2(),Yo.lanes|=G,jv|=G,O.baseState=!0),I):(O.baseState&&(O.baseState=!1,Bl=!0),O.memoizedState=G)}function fM(O,I){var G=io;io=G!==0&&4>G?G:4,O(!0);var Z=Um.transition;Um.transition={};try{O(!1),I()}finally{io=G,Um.transition=Z}}function gT(){return Hu().memoizedState}function cM(O,I,G){var Z=ev(O);if(G={lane:Z,action:G,hasEagerState:!1,eagerState:null,next:null},yT(O))mT(I,G);else if(G=$2(O,I,G,Z),G!==null){var R=ml();Lf(G,O,Z,R),xT(G,I,Z)}}function hM(O,I,G){var Z=ev(O),R={lane:Z,action:G,hasEagerState:!1,eagerState:null,next:null};if(yT(O))mT(I,R);else{var fe=O.alternate;if(O.lanes===0&&(fe===null||fe.lanes===0)&&(fe=I.lastRenderedReducer,fe!==null))try{var V=I.lastRenderedState,Y=fe(V,G);if(R.hasEagerState=!0,R.eagerState=Y,Pf(Y,V)){var e=I.interleaved;e===null?(R.next=R,Rx(I)):(R.next=e.next,e.next=R),I.interleaved=R;return}}catch{}finally{}G=$2(O,I,R,Z),G!==null&&(R=ml(),Lf(G,O,Z,R),xT(G,I,Z))}}function yT(O){var I=O.alternate;return O===Yo||I!==null&&I===Yo}function mT(O,I){a0=gy=!0;var G=O.pending;G===null?I.next=I:(I.next=G.next,G.next=I),O.pending=I}function xT(O,I,G){if(G&4194240){var Z=I.lanes;Z&=O.pendingLanes,G|=Z,I.lanes=G,mx(O,G)}}var yy={readContext:Vu,useCallback:el,useContext:el,useEffect:el,useImperativeHandle:el,useInsertionEffect:el,useLayoutEffect:el,useMemo:el,useReducer:el,useRef:el,useState:el,useDebugValue:el,useDeferredValue:el,useTransition:el,useMutableSource:el,useSyncExternalStore:el,useId:el,unstable_isNewReconciler:!1},vM={readContext:Vu,useCallback:function(O,I){return ec().memoizedState=[O,I===void 0?null:I],O},useContext:Vu,useEffect:$b,useImperativeHandle:function(O,I,G){return G=G!=null?G.concat([O]):null,Xg(4194308,4,cT.bind(null,I,O),G)},useLayoutEffect:function(O,I){return Xg(4194308,4,O,I)},useInsertionEffect:function(O,I){return Xg(4,2,O,I)},useMemo:function(O,I){var G=ec();return I=I===void 0?null:I,O=O(),G.memoizedState=[O,I],O},useReducer:function(O,I,G){var Z=ec();return I=G!==void 0?G(I):I,Z.memoizedState=Z.baseState=I,O={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:O,lastRenderedState:I},Z.queue=O,O=O.dispatch=cM.bind(null,Yo,O),[Z.memoizedState,O]},useRef:function(O){var I=ec();return O={current:O},I.memoizedState=O},useState:Qb,useDebugValue:Vx,useDeferredValue:function(O){return ec().memoizedState=O},useTransition:function(){var O=Qb(!1),I=O[0];return O=fM.bind(null,O[1]),ec().memoizedState=O,[I,O]},useMutableSource:function(){},useSyncExternalStore:function(O,I,G){var Z=Yo,R=ec();if(Do){if(G===void 0)throw Error(Ta(407));G=G()}else{if(G=I(),Es===null)throw Error(Ta(349));Zv&30||nT(Z,I,G)}R.memoizedState=G;var fe={value:G,getSnapshot:I};return R.queue=fe,$b(iT.bind(null,Z,fe,O),[O]),Z.flags|=2048,M0(9,aT.bind(null,Z,fe,G,I),void 0,null),G},useId:function(){var O=ec(),I=Es.identifierPrefix;if(Do){var G=Zc,Z=Xc;G=(Z&~(1<<32-Cf(Z)-1)).toString(32)+G,I=":"+I+"R"+G,G=A0++,0<G&&(I+="H"+G.toString(32)),I+=":"}else G=uM++,I=":"+I+"r"+G.toString(32)+":";return O.memoizedState=I},unstable_isNewReconciler:!1},dM={readContext:Vu,useCallback:vT,useContext:Vu,useEffect:Ux,useImperativeHandle:hT,useInsertionEffect:uT,useLayoutEffect:fT,useMemo:dT,useReducer:Vm,useRef:lT,useState:function(){return Vm(S0)},useDebugValue:Vx,useDeferredValue:function(O){var I=Hu();return pT(I,gs.memoizedState,O)},useTransition:function(){var O=Vm(S0)[0],I=Hu().memoizedState;return[O,I]},useMutableSource:tT,useSyncExternalStore:rT,useId:gT,unstable_isNewReconciler:!1},pM={readContext:Vu,useCallback:vT,useContext:Vu,useEffect:Ux,useImperativeHandle:hT,useInsertionEffect:uT,useLayoutEffect:fT,useMemo:dT,useReducer:Hm,useRef:lT,useState:function(){return Hm(S0)},useDebugValue:Vx,useDeferredValue:function(O){var I=Hu();return gs===null?I.memoizedState=O:pT(I,gs.memoizedState,O)},useTransition:function(){var O=Hm(S0)[0],I=Hu().memoizedState;return[O,I]},useMutableSource:tT,useSyncExternalStore:rT,useId:gT,unstable_isNewReconciler:!1};function yf(O,I){if(O&&O.defaultProps){I=Wo({},I),O=O.defaultProps;for(var G in O)I[G]===void 0&&(I[G]=O[G]);return I}return I}function D1(O,I,G,Z){I=O.memoizedState,G=G(Z,I),G=G==null?I:Wo({},I,G),O.memoizedState=G,O.lanes===0&&(O.updateQueue.baseState=G)}var Oy={isMounted:function(O){return(O=O._reactInternals)?$v(O)===O:!1},enqueueSetState:function(O,I,G){O=O._reactInternals;var Z=ml(),R=ev(O),fe=jc(Z,R);fe.payload=I,G!=null&&(fe.callback=G),I=$h(O,fe,R),I!==null&&(Lf(I,O,R,Z),Wg(I,O,R))},enqueueReplaceState:function(O,I,G){O=O._reactInternals;var Z=ml(),R=ev(O),fe=jc(Z,R);fe.tag=1,fe.payload=I,G!=null&&(fe.callback=G),I=$h(O,fe,R),I!==null&&(Lf(I,O,R,Z),Wg(I,O,R))},enqueueForceUpdate:function(O,I){O=O._reactInternals;var G=ml(),Z=ev(O),R=jc(G,Z);R.tag=2,I!=null&&(R.callback=I),I=$h(O,R,Z),I!==null&&(Lf(I,O,Z,G),Wg(I,O,Z))}};function qb(O,I,G,Z,R,fe,V){return O=O.stateNode,typeof O.shouldComponentUpdate=="function"?O.shouldComponentUpdate(Z,fe,V):I.prototype&&I.prototype.isPureReactComponent?!y0(G,Z)||!y0(R,fe):!0}function bT(O,I,G){var Z=!1,R=nv,fe=I.contextType;return typeof fe=="object"&&fe!==null?fe=Vu(fe):(R=Vl(I)?Gv:nl.current,Z=I.contextTypes,fe=(Z=Z!=null)?ep(O,R):nv),I=new I(G,fe),O.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Oy,O.stateNode=I,I._reactInternals=O,Z&&(O=O.stateNode,O.__reactInternalMemoizedUnmaskedChildContext=R,O.__reactInternalMemoizedMaskedChildContext=fe),I}function ew(O,I,G,Z){O=I.state,typeof I.componentWillReceiveProps=="function"&&I.componentWillReceiveProps(G,Z),typeof I.UNSAFE_componentWillReceiveProps=="function"&&I.UNSAFE_componentWillReceiveProps(G,Z),I.state!==O&&Oy.enqueueReplaceState(I,I.state,null)}function P1(O,I,G,Z){var R=O.stateNode;R.props=G,R.state=O.memoizedState,R.refs={},Ix(O);var fe=I.contextType;typeof fe=="object"&&fe!==null?R.context=Vu(fe):(fe=Vl(I)?Gv:nl.current,R.context=ep(O,fe)),R.state=O.memoizedState,fe=I.getDerivedStateFromProps,typeof fe=="function"&&(D1(O,I,fe,G),R.state=O.memoizedState),typeof I.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(I=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),I!==R.state&&Oy.enqueueReplaceState(R,R.state,null),dy(O,G,R,Z),R.state=O.memoizedState),typeof R.componentDidMount=="function"&&(O.flags|=4194308)}function ap(O,I){try{var G="",Z=I;do G+=Y5(Z),Z=Z.return;while(Z);var R=G}catch(fe){R=`
Error generating stack: `+fe.message+`
`+fe.stack}return{value:O,source:I,stack:R,digest:null}}function Ym(O,I,G){return{value:O,source:null,stack:G??null,digest:I??null}}function R1(O,I){try{console.error(I.value)}catch(G){setTimeout(function(){throw G})}}var gM=typeof WeakMap=="function"?WeakMap:Map;function wT(O,I,G){G=jc(-1,G),G.tag=3,G.payload={element:null};var Z=I.value;return G.callback=function(){xy||(xy=!0,H1=Z),R1(O,I)},G}function TT(O,I,G){G=jc(-1,G),G.tag=3;var Z=O.type.getDerivedStateFromError;if(typeof Z=="function"){var R=I.value;G.payload=function(){return Z(R)},G.callback=function(){R1(O,I)}}var fe=O.stateNode;return fe!==null&&typeof fe.componentDidCatch=="function"&&(G.callback=function(){R1(O,I),typeof Z!="function"&&(qh===null?qh=new Set([this]):qh.add(this));var V=I.stack;this.componentDidCatch(I.value,{componentStack:V!==null?V:""})}),G}function tw(O,I,G){var Z=O.pingCache;if(Z===null){Z=O.pingCache=new gM;var R=new Set;Z.set(I,R)}else R=Z.get(I),R===void 0&&(R=new Set,Z.set(I,R));R.has(G)||(R.add(G),O=DM.bind(null,O,I,G),I.then(O,O))}function rw(O){do{var I;if((I=O.tag===13)&&(I=O.memoizedState,I=I!==null?I.dehydrated!==null:!0),I)return O;O=O.return}while(O!==null);return null}function nw(O,I,G,Z,R){return O.mode&1?(O.flags|=65536,O.lanes=R,O):(O===I?O.flags|=65536:(O.flags|=128,G.flags|=131072,G.flags&=-52805,G.tag===1&&(G.alternate===null?G.tag=17:(I=jc(-1,1),I.tag=2,$h(G,I,1))),G.lanes|=1),O)}var yM=rh.ReactCurrentOwner,Bl=!1;function pl(O,I,G,Z){I.child=O===null?Q2(I,null,G,Z):rp(I,O.child,G,Z)}function aw(O,I,G,Z,R){G=G.render;var fe=I.ref;return Qd(I,R),Z=zx(O,I,G,Z,fe,R),G=Bx(),O!==null&&!Bl?(I.updateQueue=O.updateQueue,I.flags&=-2053,O.lanes&=~R,qc(O,I,R)):(Do&&G&&Ex(I),I.flags|=1,pl(O,I,Z,R),I.child)}function iw(O,I,G,Z,R){if(O===null){var fe=G.type;return typeof fe=="function"&&!Kx(fe)&&fe.defaultProps===void 0&&G.compare===null&&G.defaultProps===void 0?(I.tag=15,I.type=fe,AT(O,I,fe,Z,R)):(O=Jg(G.type,null,Z,I,I.mode,R),O.ref=I.ref,O.return=I,I.child=O)}if(fe=O.child,!(O.lanes&R)){var V=fe.memoizedProps;if(G=G.compare,G=G!==null?G:y0,G(V,Z)&&O.ref===I.ref)return qc(O,I,R)}return I.flags|=1,O=tv(fe,Z),O.ref=I.ref,O.return=I,I.child=O}function AT(O,I,G,Z,R){if(O!==null){var fe=O.memoizedProps;if(y0(fe,Z)&&O.ref===I.ref)if(Bl=!1,I.pendingProps=Z=fe,(O.lanes&R)!==0)O.flags&131072&&(Bl=!0);else return I.lanes=O.lanes,qc(O,I,R)}return I1(O,I,G,Z,R)}function ST(O,I,G){var Z=I.pendingProps,R=Z.children,fe=O!==null?O.memoizedState:null;if(Z.mode==="hidden")if(!(I.mode&1))I.memoizedState={baseLanes:0,cachePool:null,transitions:null},yo(Hd,au),au|=G;else{if(!(G&1073741824))return O=fe!==null?fe.baseLanes|G:G,I.lanes=I.childLanes=1073741824,I.memoizedState={baseLanes:O,cachePool:null,transitions:null},I.updateQueue=null,yo(Hd,au),au|=O,null;I.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z=fe!==null?fe.baseLanes:G,yo(Hd,au),au|=Z}else fe!==null?(Z=fe.baseLanes|G,I.memoizedState=null):Z=G,yo(Hd,au),au|=Z;return pl(O,I,R,G),I.child}function MT(O,I){var G=I.ref;(O===null&&G!==null||O!==null&&O.ref!==G)&&(I.flags|=512,I.flags|=2097152)}function I1(O,I,G,Z,R){var fe=Vl(G)?Gv:nl.current;return fe=ep(I,fe),Qd(I,R),G=zx(O,I,G,Z,fe,R),Z=Bx(),O!==null&&!Bl?(I.updateQueue=O.updateQueue,I.flags&=-2053,O.lanes&=~R,qc(O,I,R)):(Do&&Z&&Ex(I),I.flags|=1,pl(O,I,G,R),I.child)}function ow(O,I,G,Z,R){if(Vl(G)){var fe=!0;uy(I)}else fe=!1;if(Qd(I,R),I.stateNode===null)Zg(O,I),bT(I,G,Z),P1(I,G,Z,R),Z=!0;else if(O===null){var V=I.stateNode,Y=I.memoizedProps;V.props=Y;var e=V.context,p=G.contextType;typeof p=="object"&&p!==null?p=Vu(p):(p=Vl(G)?Gv:nl.current,p=ep(I,p));var L=G.getDerivedStateFromProps,o=typeof L=="function"||typeof V.getSnapshotBeforeUpdate=="function";o||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Y!==Z||e!==p)&&ew(I,V,Z,p),Yh=!1;var C=I.memoizedState;V.state=C,dy(I,Z,V,R),e=I.memoizedState,Y!==Z||C!==e||Ul.current||Yh?(typeof L=="function"&&(D1(I,G,L,Z),e=I.memoizedState),(Y=Yh||qb(I,G,Y,Z,C,e,p))?(o||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(I.flags|=4194308)):(typeof V.componentDidMount=="function"&&(I.flags|=4194308),I.memoizedProps=Z,I.memoizedState=e),V.props=Z,V.state=e,V.context=p,Z=Y):(typeof V.componentDidMount=="function"&&(I.flags|=4194308),Z=!1)}else{V=I.stateNode,q2(O,I),Y=I.memoizedProps,p=I.type===I.elementType?Y:yf(I.type,Y),V.props=p,o=I.pendingProps,C=V.context,e=G.contextType,typeof e=="object"&&e!==null?e=Vu(e):(e=Vl(G)?Gv:nl.current,e=ep(I,e));var S=G.getDerivedStateFromProps;(L=typeof S=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Y!==o||C!==e)&&ew(I,V,Z,e),Yh=!1,C=I.memoizedState,V.state=C,dy(I,Z,V,R);var v=I.memoizedState;Y!==o||C!==v||Ul.current||Yh?(typeof S=="function"&&(D1(I,G,S,Z),v=I.memoizedState),(p=Yh||qb(I,G,p,Z,C,v,e)||!1)?(L||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(Z,v,e),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(Z,v,e)),typeof V.componentDidUpdate=="function"&&(I.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(I.flags|=1024)):(typeof V.componentDidUpdate!="function"||Y===O.memoizedProps&&C===O.memoizedState||(I.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Y===O.memoizedProps&&C===O.memoizedState||(I.flags|=1024),I.memoizedProps=Z,I.memoizedState=v),V.props=Z,V.state=v,V.context=e,Z=p):(typeof V.componentDidUpdate!="function"||Y===O.memoizedProps&&C===O.memoizedState||(I.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Y===O.memoizedProps&&C===O.memoizedState||(I.flags|=1024),Z=!1)}return O1(O,I,G,Z,fe,R)}function O1(O,I,G,Z,R,fe){MT(O,I);var V=(I.flags&128)!==0;if(!Z&&!V)return R&&Gb(I,G,!1),qc(O,I,fe);Z=I.stateNode,yM.current=I;var Y=V&&typeof G.getDerivedStateFromError!="function"?null:Z.render();return I.flags|=1,O!==null&&V?(I.child=rp(I,O.child,null,fe),I.child=rp(I,null,Y,fe)):pl(O,I,Y,fe),I.memoizedState=Z.state,R&&Gb(I,G,!0),I.child}function ET(O){var I=O.stateNode;I.pendingContext?Wb(O,I.pendingContext,I.pendingContext!==I.context):I.context&&Wb(O,I.context,!1),Ox(O,I.containerInfo)}function sw(O,I,G,Z,R){return tp(),Cx(R),I.flags|=256,pl(O,I,G,Z),I.child}var k1={dehydrated:null,treeContext:null,retryLane:0};function N1(O){return{baseLanes:O,cachePool:null,transitions:null}}function _T(O,I,G){var Z=I.pendingProps,R=Ho.current,fe=!1,V=(I.flags&128)!==0,Y;if((Y=V)||(Y=O!==null&&O.memoizedState===null?!1:(R&2)!==0),Y?(fe=!0,I.flags&=-129):(O===null||O.memoizedState!==null)&&(R|=1),yo(Ho,R&1),O===null)return C1(I),O=I.memoizedState,O!==null&&(O=O.dehydrated,O!==null)?(I.mode&1?O.data==="$!"?I.lanes=8:I.lanes=1073741824:I.lanes=1,null):(V=Z.children,O=Z.fallback,fe?(Z=I.mode,fe=I.child,V={mode:"hidden",children:V},!(Z&1)&&fe!==null?(fe.childLanes=0,fe.pendingProps=V):fe=Fy(V,Z,0,null),O=Wv(O,Z,G,null),fe.return=I,O.return=I,fe.sibling=O,I.child=fe,I.child.memoizedState=N1(G),I.memoizedState=k1,O):Hx(I,V));if(R=O.memoizedState,R!==null&&(Y=R.dehydrated,Y!==null))return mM(O,I,V,Z,Y,R,G);if(fe){fe=Z.fallback,V=I.mode,R=O.child,Y=R.sibling;var e={mode:"hidden",children:Z.children};return!(V&1)&&I.child!==R?(Z=I.child,Z.childLanes=0,Z.pendingProps=e,I.deletions=null):(Z=tv(R,e),Z.subtreeFlags=R.subtreeFlags&14680064),Y!==null?fe=tv(Y,fe):(fe=Wv(fe,V,G,null),fe.flags|=2),fe.return=I,Z.return=I,Z.sibling=fe,I.child=Z,Z=fe,fe=I.child,V=O.child.memoizedState,V=V===null?N1(G):{baseLanes:V.baseLanes|G,cachePool:null,transitions:V.transitions},fe.memoizedState=V,fe.childLanes=O.childLanes&~G,I.memoizedState=k1,Z}return fe=O.child,O=fe.sibling,Z=tv(fe,{mode:"visible",children:Z.children}),!(I.mode&1)&&(Z.lanes=G),Z.return=I,Z.sibling=null,O!==null&&(G=I.deletions,G===null?(I.deletions=[O],I.flags|=16):G.push(O)),I.child=Z,I.memoizedState=null,Z}function Hx(O,I){return I=Fy({mode:"visible",children:I},O.mode,0,null),I.return=O,O.child=I}function Cg(O,I,G,Z){return Z!==null&&Cx(Z),rp(I,O.child,null,G),O=Hx(I,I.pendingProps.children),O.flags|=2,I.memoizedState=null,O}function mM(O,I,G,Z,R,fe,V){if(G)return I.flags&256?(I.flags&=-257,Z=Ym(Error(Ta(422))),Cg(O,I,V,Z)):I.memoizedState!==null?(I.child=O.child,I.flags|=128,null):(fe=Z.fallback,R=I.mode,Z=Fy({mode:"visible",children:Z.children},R,0,null),fe=Wv(fe,R,V,null),fe.flags|=2,Z.return=I,fe.return=I,Z.sibling=fe,I.child=Z,I.mode&1&&rp(I,O.child,null,V),I.child.memoizedState=N1(V),I.memoizedState=k1,fe);if(!(I.mode&1))return Cg(O,I,V,null);if(R.data==="$!"){if(Z=R.nextSibling&&R.nextSibling.dataset,Z)var Y=Z.dgst;return Z=Y,fe=Error(Ta(419)),Z=Ym(fe,Z,void 0),Cg(O,I,V,Z)}if(Y=(V&O.childLanes)!==0,Bl||Y){if(Z=Es,Z!==null){switch(V&-V){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=R&(Z.suspendedLanes|V)?0:R,R!==0&&R!==fe.retryLane&&(fe.retryLane=R,$c(O,R),Lf(Z,O,R,-1))}return jx(),Z=Ym(Error(Ta(421))),Cg(O,I,V,Z)}return R.data==="$?"?(I.flags|=128,I.child=O.child,I=PM.bind(null,O),R._reactRetry=I,null):(O=fe.treeContext,ou=Qh(R.nextSibling),lu=I,Do=!0,wf=null,O!==null&&(Nu[Fu++]=Xc,Nu[Fu++]=Zc,Nu[Fu++]=Xv,Xc=O.id,Zc=O.overflow,Xv=I),I=Hx(I,Z.children),I.flags|=4096,I)}function lw(O,I,G){O.lanes|=I;var Z=O.alternate;Z!==null&&(Z.lanes|=I),L1(O.return,I,G)}function Wm(O,I,G,Z,R){var fe=O.memoizedState;fe===null?O.memoizedState={isBackwards:I,rendering:null,renderingStartTime:0,last:Z,tail:G,tailMode:R}:(fe.isBackwards=I,fe.rendering=null,fe.renderingStartTime=0,fe.last=Z,fe.tail=G,fe.tailMode=R)}function CT(O,I,G){var Z=I.pendingProps,R=Z.revealOrder,fe=Z.tail;if(pl(O,I,Z.children,G),Z=Ho.current,Z&2)Z=Z&1|2,I.flags|=128;else{if(O!==null&&O.flags&128)e:for(O=I.child;O!==null;){if(O.tag===13)O.memoizedState!==null&&lw(O,G,I);else if(O.tag===19)lw(O,G,I);else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===I)break e;for(;O.sibling===null;){if(O.return===null||O.return===I)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}Z&=1}if(yo(Ho,Z),!(I.mode&1))I.memoizedState=null;else switch(R){case"forwards":for(G=I.child,R=null;G!==null;)O=G.alternate,O!==null&&py(O)===null&&(R=G),G=G.sibling;G=R,G===null?(R=I.child,I.child=null):(R=G.sibling,G.sibling=null),Wm(I,!1,R,G,fe);break;case"backwards":for(G=null,R=I.child,I.child=null;R!==null;){if(O=R.alternate,O!==null&&py(O)===null){I.child=R;break}O=R.sibling,R.sibling=G,G=R,R=O}Wm(I,!0,G,null,fe);break;case"together":Wm(I,!1,null,null,void 0);break;default:I.memoizedState=null}return I.child}function Zg(O,I){!(I.mode&1)&&O!==null&&(O.alternate=null,I.alternate=null,I.flags|=2)}function qc(O,I,G){if(O!==null&&(I.dependencies=O.dependencies),jv|=I.lanes,!(G&I.childLanes))return null;if(O!==null&&I.child!==O.child)throw Error(Ta(153));if(I.child!==null){for(O=I.child,G=tv(O,O.pendingProps),I.child=G,G.return=I;O.sibling!==null;)O=O.sibling,G=G.sibling=tv(O,O.pendingProps),G.return=I;G.sibling=null}return I.child}function xM(O,I,G){switch(I.tag){case 3:ET(I),tp();break;case 5:eT(I);break;case 1:Vl(I.type)&&uy(I);break;case 4:Ox(I,I.stateNode.containerInfo);break;case 10:var Z=I.type._context,R=I.memoizedProps.value;yo(hy,Z._currentValue),Z._currentValue=R;break;case 13:if(Z=I.memoizedState,Z!==null)return Z.dehydrated!==null?(yo(Ho,Ho.current&1),I.flags|=128,null):G&I.child.childLanes?_T(O,I,G):(yo(Ho,Ho.current&1),O=qc(O,I,G),O!==null?O.sibling:null);yo(Ho,Ho.current&1);break;case 19:if(Z=(G&I.childLanes)!==0,O.flags&128){if(Z)return CT(O,I,G);I.flags|=128}if(R=I.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),yo(Ho,Ho.current),Z)break;return null;case 22:case 23:return I.lanes=0,ST(O,I,G)}return qc(O,I,G)}var LT,F1,DT,PT;LT=function(O,I){for(var G=I.child;G!==null;){if(G.tag===5||G.tag===6)O.appendChild(G.stateNode);else if(G.tag!==4&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===I)break;for(;G.sibling===null;){if(G.return===null||G.return===I)return;G=G.return}G.sibling.return=G.return,G=G.sibling}};F1=function(){};DT=function(O,I,G,Z){var R=O.memoizedProps;if(R!==Z){O=I.stateNode,Vv(hc.current);var fe=null;switch(G){case"input":R=i1(O,R),Z=i1(O,Z),fe=[];break;case"select":R=Wo({},R,{value:void 0}),Z=Wo({},Z,{value:void 0}),fe=[];break;case"textarea":R=l1(O,R),Z=l1(O,Z),fe=[];break;default:typeof R.onClick!="function"&&typeof Z.onClick=="function"&&(O.onclick=sy)}f1(G,Z);var V;G=null;for(p in R)if(!Z.hasOwnProperty(p)&&R.hasOwnProperty(p)&&R[p]!=null)if(p==="style"){var Y=R[p];for(V in Y)Y.hasOwnProperty(V)&&(G||(G={}),G[V]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(f0.hasOwnProperty(p)?fe||(fe=[]):(fe=fe||[]).push(p,null));for(p in Z){var e=Z[p];if(Y=R!=null?R[p]:void 0,Z.hasOwnProperty(p)&&e!==Y&&(e!=null||Y!=null))if(p==="style")if(Y){for(V in Y)!Y.hasOwnProperty(V)||e&&e.hasOwnProperty(V)||(G||(G={}),G[V]="");for(V in e)e.hasOwnProperty(V)&&Y[V]!==e[V]&&(G||(G={}),G[V]=e[V])}else G||(fe||(fe=[]),fe.push(p,G)),G=e;else p==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,Y=Y?Y.__html:void 0,e!=null&&Y!==e&&(fe=fe||[]).push(p,e)):p==="children"?typeof e!="string"&&typeof e!="number"||(fe=fe||[]).push(p,""+e):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(f0.hasOwnProperty(p)?(e!=null&&p==="onScroll"&&Ao("scroll",O),fe||Y===e||(fe=[])):(fe=fe||[]).push(p,e))}G&&(fe=fe||[]).push("style",G);var p=fe;(I.updateQueue=p)&&(I.flags|=4)}};PT=function(O,I,G,Z){G!==Z&&(I.flags|=4)};function Yp(O,I){if(!Do)switch(O.tailMode){case"hidden":I=O.tail;for(var G=null;I!==null;)I.alternate!==null&&(G=I),I=I.sibling;G===null?O.tail=null:G.sibling=null;break;case"collapsed":G=O.tail;for(var Z=null;G!==null;)G.alternate!==null&&(Z=G),G=G.sibling;Z===null?I||O.tail===null?O.tail=null:O.tail.sibling=null:Z.sibling=null}}function tl(O){var I=O.alternate!==null&&O.alternate.child===O.child,G=0,Z=0;if(I)for(var R=O.child;R!==null;)G|=R.lanes|R.childLanes,Z|=R.subtreeFlags&14680064,Z|=R.flags&14680064,R.return=O,R=R.sibling;else for(R=O.child;R!==null;)G|=R.lanes|R.childLanes,Z|=R.subtreeFlags,Z|=R.flags,R.return=O,R=R.sibling;return O.subtreeFlags|=Z,O.childLanes=G,I}function bM(O,I,G){var Z=I.pendingProps;switch(_x(I),I.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tl(I),null;case 1:return Vl(I.type)&&ly(),tl(I),null;case 3:return Z=I.stateNode,np(),So(Ul),So(nl),Nx(),Z.pendingContext&&(Z.context=Z.pendingContext,Z.pendingContext=null),(O===null||O.child===null)&&(Eg(I)?I.flags|=4:O===null||O.memoizedState.isDehydrated&&!(I.flags&256)||(I.flags|=1024,wf!==null&&(G1(wf),wf=null))),F1(O,I),tl(I),null;case 5:kx(I);var R=Vv(T0.current);if(G=I.type,O!==null&&I.stateNode!=null)DT(O,I,G,Z,R),O.ref!==I.ref&&(I.flags|=512,I.flags|=2097152);else{if(!Z){if(I.stateNode===null)throw Error(Ta(166));return tl(I),null}if(O=Vv(hc.current),Eg(I)){Z=I.stateNode,G=I.type;var fe=I.memoizedProps;switch(Z[oc]=I,Z[b0]=fe,O=(I.mode&1)!==0,G){case"dialog":Ao("cancel",Z),Ao("close",Z);break;case"iframe":case"object":case"embed":Ao("load",Z);break;case"video":case"audio":for(R=0;R<Qp.length;R++)Ao(Qp[R],Z);break;case"source":Ao("error",Z);break;case"img":case"image":case"link":Ao("error",Z),Ao("load",Z);break;case"details":Ao("toggle",Z);break;case"input":yb(Z,fe),Ao("invalid",Z);break;case"select":Z._wrapperState={wasMultiple:!!fe.multiple},Ao("invalid",Z);break;case"textarea":xb(Z,fe),Ao("invalid",Z)}f1(G,fe),R=null;for(var V in fe)if(fe.hasOwnProperty(V)){var Y=fe[V];V==="children"?typeof Y=="string"?Z.textContent!==Y&&(fe.suppressHydrationWarning!==!0&&Mg(Z.textContent,Y,O),R=["children",Y]):typeof Y=="number"&&Z.textContent!==""+Y&&(fe.suppressHydrationWarning!==!0&&Mg(Z.textContent,Y,O),R=["children",""+Y]):f0.hasOwnProperty(V)&&Y!=null&&V==="onScroll"&&Ao("scroll",Z)}switch(G){case"input":yg(Z),mb(Z,fe,!0);break;case"textarea":yg(Z),bb(Z);break;case"select":case"option":break;default:typeof fe.onClick=="function"&&(Z.onclick=sy)}Z=R,I.updateQueue=Z,Z!==null&&(I.flags|=4)}else{V=R.nodeType===9?R:R.ownerDocument,O==="http://www.w3.org/1999/xhtml"&&(O=i2(G)),O==="http://www.w3.org/1999/xhtml"?G==="script"?(O=V.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild)):typeof Z.is=="string"?O=V.createElement(G,{is:Z.is}):(O=V.createElement(G),G==="select"&&(V=O,Z.multiple?V.multiple=!0:Z.size&&(V.size=Z.size))):O=V.createElementNS(O,G),O[oc]=I,O[b0]=Z,LT(O,I,!1,!1),I.stateNode=O;e:{switch(V=c1(G,Z),G){case"dialog":Ao("cancel",O),Ao("close",O),R=Z;break;case"iframe":case"object":case"embed":Ao("load",O),R=Z;break;case"video":case"audio":for(R=0;R<Qp.length;R++)Ao(Qp[R],O);R=Z;break;case"source":Ao("error",O),R=Z;break;case"img":case"image":case"link":Ao("error",O),Ao("load",O),R=Z;break;case"details":Ao("toggle",O),R=Z;break;case"input":yb(O,Z),R=i1(O,Z),Ao("invalid",O);break;case"option":R=Z;break;case"select":O._wrapperState={wasMultiple:!!Z.multiple},R=Wo({},Z,{value:void 0}),Ao("invalid",O);break;case"textarea":xb(O,Z),R=l1(O,Z),Ao("invalid",O);break;default:R=Z}f1(G,R),Y=R;for(fe in Y)if(Y.hasOwnProperty(fe)){var e=Y[fe];fe==="style"?l2(O,e):fe==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&o2(O,e)):fe==="children"?typeof e=="string"?(G!=="textarea"||e!=="")&&c0(O,e):typeof e=="number"&&c0(O,""+e):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(f0.hasOwnProperty(fe)?e!=null&&fe==="onScroll"&&Ao("scroll",O):e!=null&&hx(O,fe,e,V))}switch(G){case"input":yg(O),mb(O,Z,!1);break;case"textarea":yg(O),bb(O);break;case"option":Z.value!=null&&O.setAttribute("value",""+rv(Z.value));break;case"select":O.multiple=!!Z.multiple,fe=Z.value,fe!=null?Zd(O,!!Z.multiple,fe,!1):Z.defaultValue!=null&&Zd(O,!!Z.multiple,Z.defaultValue,!0);break;default:typeof R.onClick=="function"&&(O.onclick=sy)}switch(G){case"button":case"input":case"select":case"textarea":Z=!!Z.autoFocus;break e;case"img":Z=!0;break e;default:Z=!1}}Z&&(I.flags|=4)}I.ref!==null&&(I.flags|=512,I.flags|=2097152)}return tl(I),null;case 6:if(O&&I.stateNode!=null)PT(O,I,O.memoizedProps,Z);else{if(typeof Z!="string"&&I.stateNode===null)throw Error(Ta(166));if(G=Vv(T0.current),Vv(hc.current),Eg(I)){if(Z=I.stateNode,G=I.memoizedProps,Z[oc]=I,(fe=Z.nodeValue!==G)&&(O=lu,O!==null))switch(O.tag){case 3:Mg(Z.nodeValue,G,(O.mode&1)!==0);break;case 5:O.memoizedProps.suppressHydrationWarning!==!0&&Mg(Z.nodeValue,G,(O.mode&1)!==0)}fe&&(I.flags|=4)}else Z=(G.nodeType===9?G:G.ownerDocument).createTextNode(Z),Z[oc]=I,I.stateNode=Z}return tl(I),null;case 13:if(So(Ho),Z=I.memoizedState,O===null||O.memoizedState!==null&&O.memoizedState.dehydrated!==null){if(Do&&ou!==null&&I.mode&1&&!(I.flags&128))K2(),tp(),I.flags|=98560,fe=!1;else if(fe=Eg(I),Z!==null&&Z.dehydrated!==null){if(O===null){if(!fe)throw Error(Ta(318));if(fe=I.memoizedState,fe=fe!==null?fe.dehydrated:null,!fe)throw Error(Ta(317));fe[oc]=I}else tp(),!(I.flags&128)&&(I.memoizedState=null),I.flags|=4;tl(I),fe=!1}else wf!==null&&(G1(wf),wf=null),fe=!0;if(!fe)return I.flags&65536?I:null}return I.flags&128?(I.lanes=G,I):(Z=Z!==null,Z!==(O!==null&&O.memoizedState!==null)&&Z&&(I.child.flags|=8192,I.mode&1&&(O===null||Ho.current&1?ys===0&&(ys=3):jx())),I.updateQueue!==null&&(I.flags|=4),tl(I),null);case 4:return np(),F1(O,I),O===null&&m0(I.stateNode.containerInfo),tl(I),null;case 10:return Px(I.type._context),tl(I),null;case 17:return Vl(I.type)&&ly(),tl(I),null;case 19:if(So(Ho),fe=I.memoizedState,fe===null)return tl(I),null;if(Z=(I.flags&128)!==0,V=fe.rendering,V===null)if(Z)Yp(fe,!1);else{if(ys!==0||O!==null&&O.flags&128)for(O=I.child;O!==null;){if(V=py(O),V!==null){for(I.flags|=128,Yp(fe,!1),Z=V.updateQueue,Z!==null&&(I.updateQueue=Z,I.flags|=4),I.subtreeFlags=0,Z=G,G=I.child;G!==null;)fe=G,O=Z,fe.flags&=14680066,V=fe.alternate,V===null?(fe.childLanes=0,fe.lanes=O,fe.child=null,fe.subtreeFlags=0,fe.memoizedProps=null,fe.memoizedState=null,fe.updateQueue=null,fe.dependencies=null,fe.stateNode=null):(fe.childLanes=V.childLanes,fe.lanes=V.lanes,fe.child=V.child,fe.subtreeFlags=0,fe.deletions=null,fe.memoizedProps=V.memoizedProps,fe.memoizedState=V.memoizedState,fe.updateQueue=V.updateQueue,fe.type=V.type,O=V.dependencies,fe.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),G=G.sibling;return yo(Ho,Ho.current&1|2),I.child}O=O.sibling}fe.tail!==null&&rs()>ip&&(I.flags|=128,Z=!0,Yp(fe,!1),I.lanes=4194304)}else{if(!Z)if(O=py(V),O!==null){if(I.flags|=128,Z=!0,G=O.updateQueue,G!==null&&(I.updateQueue=G,I.flags|=4),Yp(fe,!0),fe.tail===null&&fe.tailMode==="hidden"&&!V.alternate&&!Do)return tl(I),null}else 2*rs()-fe.renderingStartTime>ip&&G!==1073741824&&(I.flags|=128,Z=!0,Yp(fe,!1),I.lanes=4194304);fe.isBackwards?(V.sibling=I.child,I.child=V):(G=fe.last,G!==null?G.sibling=V:I.child=V,fe.last=V)}return fe.tail!==null?(I=fe.tail,fe.rendering=I,fe.tail=I.sibling,fe.renderingStartTime=rs(),I.sibling=null,G=Ho.current,yo(Ho,Z?G&1|2:G&1),I):(tl(I),null);case 22:case 23:return Zx(),Z=I.memoizedState!==null,O!==null&&O.memoizedState!==null!==Z&&(I.flags|=8192),Z&&I.mode&1?au&1073741824&&(tl(I),I.subtreeFlags&6&&(I.flags|=8192)):tl(I),null;case 24:return null;case 25:return null}throw Error(Ta(156,I.tag))}function wM(O,I){switch(_x(I),I.tag){case 1:return Vl(I.type)&&ly(),O=I.flags,O&65536?(I.flags=O&-65537|128,I):null;case 3:return np(),So(Ul),So(nl),Nx(),O=I.flags,O&65536&&!(O&128)?(I.flags=O&-65537|128,I):null;case 5:return kx(I),null;case 13:if(So(Ho),O=I.memoizedState,O!==null&&O.dehydrated!==null){if(I.alternate===null)throw Error(Ta(340));tp()}return O=I.flags,O&65536?(I.flags=O&-65537|128,I):null;case 19:return So(Ho),null;case 4:return np(),null;case 10:return Px(I.type._context),null;case 22:case 23:return Zx(),null;case 24:return null;default:return null}}var Lg=!1,rl=!1,TM=typeof WeakSet=="function"?WeakSet:Set,Ba=null;function Vd(O,I){var G=O.ref;if(G!==null)if(typeof G=="function")try{G(null)}catch(Z){Ko(O,I,Z)}else G.current=null}function z1(O,I,G){try{G()}catch(Z){Ko(O,I,Z)}}var uw=!1;function AM(O,I){if(w1=ay,O=N2(),Mx(O)){if("selectionStart"in O)var G={start:O.selectionStart,end:O.selectionEnd};else e:{G=(G=O.ownerDocument)&&G.defaultView||window;var Z=G.getSelection&&G.getSelection();if(Z&&Z.rangeCount!==0){G=Z.anchorNode;var R=Z.anchorOffset,fe=Z.focusNode;Z=Z.focusOffset;try{G.nodeType,fe.nodeType}catch{G=null;break e}var V=0,Y=-1,e=-1,p=0,L=0,o=O,C=null;t:for(;;){for(var S;o!==G||R!==0&&o.nodeType!==3||(Y=V+R),o!==fe||Z!==0&&o.nodeType!==3||(e=V+Z),o.nodeType===3&&(V+=o.nodeValue.length),(S=o.firstChild)!==null;)C=o,o=S;for(;;){if(o===O)break t;if(C===G&&++p===R&&(Y=V),C===fe&&++L===Z&&(e=V),(S=o.nextSibling)!==null)break;o=C,C=o.parentNode}o=S}G=Y===-1||e===-1?null:{start:Y,end:e}}else G=null}G=G||{start:0,end:0}}else G=null;for(T1={focusedElem:O,selectionRange:G},ay=!1,Ba=I;Ba!==null;)if(I=Ba,O=I.child,(I.subtreeFlags&1028)!==0&&O!==null)O.return=I,Ba=O;else for(;Ba!==null;){I=Ba;try{var v=I.alternate;if(I.flags&1024)switch(I.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,r=v.memoizedState,t=I.stateNode,a=t.getSnapshotBeforeUpdate(I.elementType===I.type?g:yf(I.type,g),r);t.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var n=I.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ta(163))}}catch(f){Ko(I,I.return,f)}if(O=I.sibling,O!==null){O.return=I.return,Ba=O;break}Ba=I.return}return v=uw,uw=!1,v}function i0(O,I,G){var Z=I.updateQueue;if(Z=Z!==null?Z.lastEffect:null,Z!==null){var R=Z=Z.next;do{if((R.tag&O)===O){var fe=R.destroy;R.destroy=void 0,fe!==void 0&&z1(I,G,fe)}R=R.next}while(R!==Z)}}function ky(O,I){if(I=I.updateQueue,I=I!==null?I.lastEffect:null,I!==null){var G=I=I.next;do{if((G.tag&O)===O){var Z=G.create;G.destroy=Z()}G=G.next}while(G!==I)}}function B1(O){var I=O.ref;if(I!==null){var G=O.stateNode;switch(O.tag){case 5:O=G;break;default:O=G}typeof I=="function"?I(O):I.current=O}}function RT(O){var I=O.alternate;I!==null&&(O.alternate=null,RT(I)),O.child=null,O.deletions=null,O.sibling=null,O.tag===5&&(I=O.stateNode,I!==null&&(delete I[oc],delete I[b0],delete I[M1],delete I[iM],delete I[oM])),O.stateNode=null,O.return=null,O.dependencies=null,O.memoizedProps=null,O.memoizedState=null,O.pendingProps=null,O.stateNode=null,O.updateQueue=null}function IT(O){return O.tag===5||O.tag===3||O.tag===4}function fw(O){e:for(;;){for(;O.sibling===null;){if(O.return===null||IT(O.return))return null;O=O.return}for(O.sibling.return=O.return,O=O.sibling;O.tag!==5&&O.tag!==6&&O.tag!==18;){if(O.flags&2||O.child===null||O.tag===4)continue e;O.child.return=O,O=O.child}if(!(O.flags&2))return O.stateNode}}function U1(O,I,G){var Z=O.tag;if(Z===5||Z===6)O=O.stateNode,I?G.nodeType===8?G.parentNode.insertBefore(O,I):G.insertBefore(O,I):(G.nodeType===8?(I=G.parentNode,I.insertBefore(O,G)):(I=G,I.appendChild(O)),G=G._reactRootContainer,G!=null||I.onclick!==null||(I.onclick=sy));else if(Z!==4&&(O=O.child,O!==null))for(U1(O,I,G),O=O.sibling;O!==null;)U1(O,I,G),O=O.sibling}function V1(O,I,G){var Z=O.tag;if(Z===5||Z===6)O=O.stateNode,I?G.insertBefore(O,I):G.appendChild(O);else if(Z!==4&&(O=O.child,O!==null))for(V1(O,I,G),O=O.sibling;O!==null;)V1(O,I,G),O=O.sibling}var Vs=null,bf=!1;function Uh(O,I,G){for(G=G.child;G!==null;)OT(O,I,G),G=G.sibling}function OT(O,I,G){if(cc&&typeof cc.onCommitFiberUnmount=="function")try{cc.onCommitFiberUnmount(_y,G)}catch{}switch(G.tag){case 5:rl||Vd(G,I);case 6:var Z=Vs,R=bf;Vs=null,Uh(O,I,G),Vs=Z,bf=R,Vs!==null&&(bf?(O=Vs,G=G.stateNode,O.nodeType===8?O.parentNode.removeChild(G):O.removeChild(G)):Vs.removeChild(G.stateNode));break;case 18:Vs!==null&&(bf?(O=Vs,G=G.stateNode,O.nodeType===8?Fm(O.parentNode,G):O.nodeType===1&&Fm(O,G),p0(O)):Fm(Vs,G.stateNode));break;case 4:Z=Vs,R=bf,Vs=G.stateNode.containerInfo,bf=!0,Uh(O,I,G),Vs=Z,bf=R;break;case 0:case 11:case 14:case 15:if(!rl&&(Z=G.updateQueue,Z!==null&&(Z=Z.lastEffect,Z!==null))){R=Z=Z.next;do{var fe=R,V=fe.destroy;fe=fe.tag,V!==void 0&&(fe&2||fe&4)&&z1(G,I,V),R=R.next}while(R!==Z)}Uh(O,I,G);break;case 1:if(!rl&&(Vd(G,I),Z=G.stateNode,typeof Z.componentWillUnmount=="function"))try{Z.props=G.memoizedProps,Z.state=G.memoizedState,Z.componentWillUnmount()}catch(Y){Ko(G,I,Y)}Uh(O,I,G);break;case 21:Uh(O,I,G);break;case 22:G.mode&1?(rl=(Z=rl)||G.memoizedState!==null,Uh(O,I,G),rl=Z):Uh(O,I,G);break;default:Uh(O,I,G)}}function cw(O){var I=O.updateQueue;if(I!==null){O.updateQueue=null;var G=O.stateNode;G===null&&(G=O.stateNode=new TM),I.forEach(function(Z){var R=RM.bind(null,O,Z);G.has(Z)||(G.add(Z),Z.then(R,R))})}}function gf(O,I){var G=I.deletions;if(G!==null)for(var Z=0;Z<G.length;Z++){var R=G[Z];try{var fe=O,V=I,Y=V;e:for(;Y!==null;){switch(Y.tag){case 5:Vs=Y.stateNode,bf=!1;break e;case 3:Vs=Y.stateNode.containerInfo,bf=!0;break e;case 4:Vs=Y.stateNode.containerInfo,bf=!0;break e}Y=Y.return}if(Vs===null)throw Error(Ta(160));OT(fe,V,R),Vs=null,bf=!1;var e=R.alternate;e!==null&&(e.return=null),R.return=null}catch(p){Ko(R,I,p)}}if(I.subtreeFlags&12854)for(I=I.child;I!==null;)kT(I,O),I=I.sibling}function kT(O,I){var G=O.alternate,Z=O.flags;switch(O.tag){case 0:case 11:case 14:case 15:if(gf(I,O),$f(O),Z&4){try{i0(3,O,O.return),ky(3,O)}catch(g){Ko(O,O.return,g)}try{i0(5,O,O.return)}catch(g){Ko(O,O.return,g)}}break;case 1:gf(I,O),$f(O),Z&512&&G!==null&&Vd(G,G.return);break;case 5:if(gf(I,O),$f(O),Z&512&&G!==null&&Vd(G,G.return),O.flags&32){var R=O.stateNode;try{c0(R,"")}catch(g){Ko(O,O.return,g)}}if(Z&4&&(R=O.stateNode,R!=null)){var fe=O.memoizedProps,V=G!==null?G.memoizedProps:fe,Y=O.type,e=O.updateQueue;if(O.updateQueue=null,e!==null)try{Y==="input"&&fe.type==="radio"&&fe.name!=null&&n2(R,fe),c1(Y,V);var p=c1(Y,fe);for(V=0;V<e.length;V+=2){var L=e[V],o=e[V+1];L==="style"?l2(R,o):L==="dangerouslySetInnerHTML"?o2(R,o):L==="children"?c0(R,o):hx(R,L,o,p)}switch(Y){case"input":o1(R,fe);break;case"textarea":a2(R,fe);break;case"select":var C=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!fe.multiple;var S=fe.value;S!=null?Zd(R,!!fe.multiple,S,!1):C!==!!fe.multiple&&(fe.defaultValue!=null?Zd(R,!!fe.multiple,fe.defaultValue,!0):Zd(R,!!fe.multiple,fe.multiple?[]:"",!1))}R[b0]=fe}catch(g){Ko(O,O.return,g)}}break;case 6:if(gf(I,O),$f(O),Z&4){if(O.stateNode===null)throw Error(Ta(162));R=O.stateNode,fe=O.memoizedProps;try{R.nodeValue=fe}catch(g){Ko(O,O.return,g)}}break;case 3:if(gf(I,O),$f(O),Z&4&&G!==null&&G.memoizedState.isDehydrated)try{p0(I.containerInfo)}catch(g){Ko(O,O.return,g)}break;case 4:gf(I,O),$f(O);break;case 13:gf(I,O),$f(O),R=O.child,R.flags&8192&&(fe=R.memoizedState!==null,R.stateNode.isHidden=fe,!fe||R.alternate!==null&&R.alternate.memoizedState!==null||(Gx=rs())),Z&4&&cw(O);break;case 22:if(L=G!==null&&G.memoizedState!==null,O.mode&1?(rl=(p=rl)||L,gf(I,O),rl=p):gf(I,O),$f(O),Z&8192){if(p=O.memoizedState!==null,(O.stateNode.isHidden=p)&&!L&&O.mode&1)for(Ba=O,L=O.child;L!==null;){for(o=Ba=L;Ba!==null;){switch(C=Ba,S=C.child,C.tag){case 0:case 11:case 14:case 15:i0(4,C,C.return);break;case 1:Vd(C,C.return);var v=C.stateNode;if(typeof v.componentWillUnmount=="function"){Z=C,G=C.return;try{I=Z,v.props=I.memoizedProps,v.state=I.memoizedState,v.componentWillUnmount()}catch(g){Ko(Z,G,g)}}break;case 5:Vd(C,C.return);break;case 22:if(C.memoizedState!==null){vw(o);continue}}S!==null?(S.return=C,Ba=S):vw(o)}L=L.sibling}e:for(L=null,o=O;;){if(o.tag===5){if(L===null){L=o;try{R=o.stateNode,p?(fe=R.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none"):(Y=o.stateNode,e=o.memoizedProps.style,V=e!=null&&e.hasOwnProperty("display")?e.display:null,Y.style.display=s2("display",V))}catch(g){Ko(O,O.return,g)}}}else if(o.tag===6){if(L===null)try{o.stateNode.nodeValue=p?"":o.memoizedProps}catch(g){Ko(O,O.return,g)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===O)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===O)break e;for(;o.sibling===null;){if(o.return===null||o.return===O)break e;L===o&&(L=null),o=o.return}L===o&&(L=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:gf(I,O),$f(O),Z&4&&cw(O);break;case 21:break;default:gf(I,O),$f(O)}}function $f(O){var I=O.flags;if(I&2){try{e:{for(var G=O.return;G!==null;){if(IT(G)){var Z=G;break e}G=G.return}throw Error(Ta(160))}switch(Z.tag){case 5:var R=Z.stateNode;Z.flags&32&&(c0(R,""),Z.flags&=-33);var fe=fw(O);V1(O,fe,R);break;case 3:case 4:var V=Z.stateNode.containerInfo,Y=fw(O);U1(O,Y,V);break;default:throw Error(Ta(161))}}catch(e){Ko(O,O.return,e)}O.flags&=-3}I&4096&&(O.flags&=-4097)}function SM(O,I,G){Ba=O,NT(O)}function NT(O,I,G){for(var Z=(O.mode&1)!==0;Ba!==null;){var R=Ba,fe=R.child;if(R.tag===22&&Z){var V=R.memoizedState!==null||Lg;if(!V){var Y=R.alternate,e=Y!==null&&Y.memoizedState!==null||rl;Y=Lg;var p=rl;if(Lg=V,(rl=e)&&!p)for(Ba=R;Ba!==null;)V=Ba,e=V.child,V.tag===22&&V.memoizedState!==null?dw(R):e!==null?(e.return=V,Ba=e):dw(R);for(;fe!==null;)Ba=fe,NT(fe),fe=fe.sibling;Ba=R,Lg=Y,rl=p}hw(O)}else R.subtreeFlags&8772&&fe!==null?(fe.return=R,Ba=fe):hw(O)}}function hw(O){for(;Ba!==null;){var I=Ba;if(I.flags&8772){var G=I.alternate;try{if(I.flags&8772)switch(I.tag){case 0:case 11:case 15:rl||ky(5,I);break;case 1:var Z=I.stateNode;if(I.flags&4&&!rl)if(G===null)Z.componentDidMount();else{var R=I.elementType===I.type?G.memoizedProps:yf(I.type,G.memoizedProps);Z.componentDidUpdate(R,G.memoizedState,Z.__reactInternalSnapshotBeforeUpdate)}var fe=I.updateQueue;fe!==null&&Jb(I,fe,Z);break;case 3:var V=I.updateQueue;if(V!==null){if(G=null,I.child!==null)switch(I.child.tag){case 5:G=I.child.stateNode;break;case 1:G=I.child.stateNode}Jb(I,V,G)}break;case 5:var Y=I.stateNode;if(G===null&&I.flags&4){G=Y;var e=I.memoizedProps;switch(I.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&G.focus();break;case"img":e.src&&(G.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(I.memoizedState===null){var p=I.alternate;if(p!==null){var L=p.memoizedState;if(L!==null){var o=L.dehydrated;o!==null&&p0(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ta(163))}rl||I.flags&512&&B1(I)}catch(C){Ko(I,I.return,C)}}if(I===O){Ba=null;break}if(G=I.sibling,G!==null){G.return=I.return,Ba=G;break}Ba=I.return}}function vw(O){for(;Ba!==null;){var I=Ba;if(I===O){Ba=null;break}var G=I.sibling;if(G!==null){G.return=I.return,Ba=G;break}Ba=I.return}}function dw(O){for(;Ba!==null;){var I=Ba;try{switch(I.tag){case 0:case 11:case 15:var G=I.return;try{ky(4,I)}catch(e){Ko(I,G,e)}break;case 1:var Z=I.stateNode;if(typeof Z.componentDidMount=="function"){var R=I.return;try{Z.componentDidMount()}catch(e){Ko(I,R,e)}}var fe=I.return;try{B1(I)}catch(e){Ko(I,fe,e)}break;case 5:var V=I.return;try{B1(I)}catch(e){Ko(I,V,e)}}}catch(e){Ko(I,I.return,e)}if(I===O){Ba=null;break}var Y=I.sibling;if(Y!==null){Y.return=I.return,Ba=Y;break}Ba=I.return}}var MM=Math.ceil,my=rh.ReactCurrentDispatcher,Yx=rh.ReactCurrentOwner,Uu=rh.ReactCurrentBatchConfig,Yi=0,Es=null,cs=null,Hs=0,au=0,Hd=ov(0),ys=0,E0=null,jv=0,Ny=0,Wx=0,o0=null,Nl=null,Gx=0,ip=1/0,Yc=null,xy=!1,H1=null,qh=null,Dg=!1,Zh=null,by=0,s0=0,Y1=null,jg=-1,Kg=0;function ml(){return Yi&6?rs():jg!==-1?jg:jg=rs()}function ev(O){return O.mode&1?Yi&2&&Hs!==0?Hs&-Hs:lM.transition!==null?(Kg===0&&(Kg=b2()),Kg):(O=io,O!==0||(O=window.event,O=O===void 0?16:_2(O.type)),O):1}function Lf(O,I,G,Z){if(50<s0)throw s0=0,Y1=null,Error(Ta(185));k0(O,G,Z),(!(Yi&2)||O!==Es)&&(O===Es&&(!(Yi&2)&&(Ny|=G),ys===4&&Gh(O,Hs)),Hl(O,Z),G===1&&Yi===0&&!(I.mode&1)&&(ip=rs()+500,Ry&&sv()))}function Hl(O,I){var G=O.callbackNode;l6(O,I);var Z=ny(O,O===Es?Hs:0);if(Z===0)G!==null&&Ab(G),O.callbackNode=null,O.callbackPriority=0;else if(I=Z&-Z,O.callbackPriority!==I){if(G!=null&&Ab(G),I===1)O.tag===0?sM(pw.bind(null,O)):X2(pw.bind(null,O)),nM(function(){!(Yi&6)&&sv()}),G=null;else{switch(w2(Z)){case 1:G=yx;break;case 4:G=m2;break;case 16:G=ry;break;case 536870912:G=x2;break;default:G=ry}G=WT(G,FT.bind(null,O))}O.callbackPriority=I,O.callbackNode=G}}function FT(O,I){if(jg=-1,Kg=0,Yi&6)throw Error(Ta(327));var G=O.callbackNode;if($d()&&O.callbackNode!==G)return null;var Z=ny(O,O===Es?Hs:0);if(Z===0)return null;if(Z&30||Z&O.expiredLanes||I)I=wy(O,Z);else{I=Z;var R=Yi;Yi|=2;var fe=BT();(Es!==O||Hs!==I)&&(Yc=null,ip=rs()+500,Yv(O,I));do try{CM();break}catch(Y){zT(O,Y)}while(!0);Dx(),my.current=fe,Yi=R,cs!==null?I=0:(Es=null,Hs=0,I=ys)}if(I!==0){if(I===2&&(R=g1(O),R!==0&&(Z=R,I=W1(O,R))),I===1)throw G=E0,Yv(O,0),Gh(O,Z),Hl(O,rs()),G;if(I===6)Gh(O,Z);else{if(R=O.current.alternate,!(Z&30)&&!EM(R)&&(I=wy(O,Z),I===2&&(fe=g1(O),fe!==0&&(Z=fe,I=W1(O,fe))),I===1))throw G=E0,Yv(O,0),Gh(O,Z),Hl(O,rs()),G;switch(O.finishedWork=R,O.finishedLanes=Z,I){case 0:case 1:throw Error(Ta(345));case 2:Fv(O,Nl,Yc);break;case 3:if(Gh(O,Z),(Z&130023424)===Z&&(I=Gx+500-rs(),10<I)){if(ny(O,0)!==0)break;if(R=O.suspendedLanes,(R&Z)!==Z){ml(),O.pingedLanes|=O.suspendedLanes&R;break}O.timeoutHandle=S1(Fv.bind(null,O,Nl,Yc),I);break}Fv(O,Nl,Yc);break;case 4:if(Gh(O,Z),(Z&4194240)===Z)break;for(I=O.eventTimes,R=-1;0<Z;){var V=31-Cf(Z);fe=1<<V,V=I[V],V>R&&(R=V),Z&=~fe}if(Z=R,Z=rs()-Z,Z=(120>Z?120:480>Z?480:1080>Z?1080:1920>Z?1920:3e3>Z?3e3:4320>Z?4320:1960*MM(Z/1960))-Z,10<Z){O.timeoutHandle=S1(Fv.bind(null,O,Nl,Yc),Z);break}Fv(O,Nl,Yc);break;case 5:Fv(O,Nl,Yc);break;default:throw Error(Ta(329))}}}return Hl(O,rs()),O.callbackNode===G?FT.bind(null,O):null}function W1(O,I){var G=o0;return O.current.memoizedState.isDehydrated&&(Yv(O,I).flags|=256),O=wy(O,I),O!==2&&(I=Nl,Nl=G,I!==null&&G1(I)),O}function G1(O){Nl===null?Nl=O:Nl.push.apply(Nl,O)}function EM(O){for(var I=O;;){if(I.flags&16384){var G=I.updateQueue;if(G!==null&&(G=G.stores,G!==null))for(var Z=0;Z<G.length;Z++){var R=G[Z],fe=R.getSnapshot;R=R.value;try{if(!Pf(fe(),R))return!1}catch{return!1}}}if(G=I.child,I.subtreeFlags&16384&&G!==null)G.return=I,I=G;else{if(I===O)break;for(;I.sibling===null;){if(I.return===null||I.return===O)return!0;I=I.return}I.sibling.return=I.return,I=I.sibling}}return!0}function Gh(O,I){for(I&=~Wx,I&=~Ny,O.suspendedLanes|=I,O.pingedLanes&=~I,O=O.expirationTimes;0<I;){var G=31-Cf(I),Z=1<<G;O[G]=-1,I&=~Z}}function pw(O){if(Yi&6)throw Error(Ta(327));$d();var I=ny(O,0);if(!(I&1))return Hl(O,rs()),null;var G=wy(O,I);if(O.tag!==0&&G===2){var Z=g1(O);Z!==0&&(I=Z,G=W1(O,Z))}if(G===1)throw G=E0,Yv(O,0),Gh(O,I),Hl(O,rs()),G;if(G===6)throw Error(Ta(345));return O.finishedWork=O.current.alternate,O.finishedLanes=I,Fv(O,Nl,Yc),Hl(O,rs()),null}function Xx(O,I){var G=Yi;Yi|=1;try{return O(I)}finally{Yi=G,Yi===0&&(ip=rs()+500,Ry&&sv())}}function Kv(O){Zh!==null&&Zh.tag===0&&!(Yi&6)&&$d();var I=Yi;Yi|=1;var G=Uu.transition,Z=io;try{if(Uu.transition=null,io=1,O)return O()}finally{io=Z,Uu.transition=G,Yi=I,!(Yi&6)&&sv()}}function Zx(){au=Hd.current,So(Hd)}function Yv(O,I){O.finishedWork=null,O.finishedLanes=0;var G=O.timeoutHandle;if(G!==-1&&(O.timeoutHandle=-1,rM(G)),cs!==null)for(G=cs.return;G!==null;){var Z=G;switch(_x(Z),Z.tag){case 1:Z=Z.type.childContextTypes,Z!=null&&ly();break;case 3:np(),So(Ul),So(nl),Nx();break;case 5:kx(Z);break;case 4:np();break;case 13:So(Ho);break;case 19:So(Ho);break;case 10:Px(Z.type._context);break;case 22:case 23:Zx()}G=G.return}if(Es=O,cs=O=tv(O.current,null),Hs=au=I,ys=0,E0=null,Wx=Ny=jv=0,Nl=o0=null,Uv!==null){for(I=0;I<Uv.length;I++)if(G=Uv[I],Z=G.interleaved,Z!==null){G.interleaved=null;var R=Z.next,fe=G.pending;if(fe!==null){var V=fe.next;fe.next=R,Z.next=V}G.pending=Z}Uv=null}return O}function zT(O,I){do{var G=cs;try{if(Dx(),Gg.current=yy,gy){for(var Z=Yo.memoizedState;Z!==null;){var R=Z.queue;R!==null&&(R.pending=null),Z=Z.next}gy=!1}if(Zv=0,Ss=gs=Yo=null,a0=!1,A0=0,Yx.current=null,G===null||G.return===null){ys=1,E0=I,cs=null;break}e:{var fe=O,V=G.return,Y=G,e=I;if(I=Hs,Y.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var p=e,L=Y,o=L.tag;if(!(L.mode&1)&&(o===0||o===11||o===15)){var C=L.alternate;C?(L.updateQueue=C.updateQueue,L.memoizedState=C.memoizedState,L.lanes=C.lanes):(L.updateQueue=null,L.memoizedState=null)}var S=rw(V);if(S!==null){S.flags&=-257,nw(S,V,Y,fe,I),S.mode&1&&tw(fe,p,I),I=S,e=p;var v=I.updateQueue;if(v===null){var g=new Set;g.add(e),I.updateQueue=g}else v.add(e);break e}else{if(!(I&1)){tw(fe,p,I),jx();break e}e=Error(Ta(426))}}else if(Do&&Y.mode&1){var r=rw(V);if(r!==null){!(r.flags&65536)&&(r.flags|=256),nw(r,V,Y,fe,I),Cx(ap(e,Y));break e}}fe=e=ap(e,Y),ys!==4&&(ys=2),o0===null?o0=[fe]:o0.push(fe),fe=V;do{switch(fe.tag){case 3:fe.flags|=65536,I&=-I,fe.lanes|=I;var t=wT(fe,e,I);Kb(fe,t);break e;case 1:Y=e;var a=fe.type,n=fe.stateNode;if(!(fe.flags&128)&&(typeof a.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(qh===null||!qh.has(n)))){fe.flags|=65536,I&=-I,fe.lanes|=I;var f=TT(fe,Y,I);Kb(fe,f);break e}}fe=fe.return}while(fe!==null)}VT(G)}catch(u){I=u,cs===G&&G!==null&&(cs=G=G.return);continue}break}while(!0)}function BT(){var O=my.current;return my.current=yy,O===null?yy:O}function jx(){(ys===0||ys===3||ys===2)&&(ys=4),Es===null||!(jv&268435455)&&!(Ny&268435455)||Gh(Es,Hs)}function wy(O,I){var G=Yi;Yi|=2;var Z=BT();(Es!==O||Hs!==I)&&(Yc=null,Yv(O,I));do try{_M();break}catch(R){zT(O,R)}while(!0);if(Dx(),Yi=G,my.current=Z,cs!==null)throw Error(Ta(261));return Es=null,Hs=0,ys}function _M(){for(;cs!==null;)UT(cs)}function CM(){for(;cs!==null&&!q5();)UT(cs)}function UT(O){var I=YT(O.alternate,O,au);O.memoizedProps=O.pendingProps,I===null?VT(O):cs=I,Yx.current=null}function VT(O){var I=O;do{var G=I.alternate;if(O=I.return,I.flags&32768){if(G=wM(G,I),G!==null){G.flags&=32767,cs=G;return}if(O!==null)O.flags|=32768,O.subtreeFlags=0,O.deletions=null;else{ys=6,cs=null;return}}else if(G=bM(G,I,au),G!==null){cs=G;return}if(I=I.sibling,I!==null){cs=I;return}cs=I=O}while(I!==null);ys===0&&(ys=5)}function Fv(O,I,G){var Z=io,R=Uu.transition;try{Uu.transition=null,io=1,LM(O,I,G,Z)}finally{Uu.transition=R,io=Z}return null}function LM(O,I,G,Z){do $d();while(Zh!==null);if(Yi&6)throw Error(Ta(327));G=O.finishedWork;var R=O.finishedLanes;if(G===null)return null;if(O.finishedWork=null,O.finishedLanes=0,G===O.current)throw Error(Ta(177));O.callbackNode=null,O.callbackPriority=0;var fe=G.lanes|G.childLanes;if(u6(O,fe),O===Es&&(cs=Es=null,Hs=0),!(G.subtreeFlags&2064)&&!(G.flags&2064)||Dg||(Dg=!0,WT(ry,function(){return $d(),null})),fe=(G.flags&15990)!==0,G.subtreeFlags&15990||fe){fe=Uu.transition,Uu.transition=null;var V=io;io=1;var Y=Yi;Yi|=4,Yx.current=null,AM(O,G),kT(G,O),K6(T1),ay=!!w1,T1=w1=null,O.current=G,SM(G),e6(),Yi=Y,io=V,Uu.transition=fe}else O.current=G;if(Dg&&(Dg=!1,Zh=O,by=R),fe=O.pendingLanes,fe===0&&(qh=null),n6(G.stateNode),Hl(O,rs()),I!==null)for(Z=O.onRecoverableError,G=0;G<I.length;G++)R=I[G],Z(R.value,{componentStack:R.stack,digest:R.digest});if(xy)throw xy=!1,O=H1,H1=null,O;return by&1&&O.tag!==0&&$d(),fe=O.pendingLanes,fe&1?O===Y1?s0++:(s0=0,Y1=O):s0=0,sv(),null}function $d(){if(Zh!==null){var O=w2(by),I=Uu.transition,G=io;try{if(Uu.transition=null,io=16>O?16:O,Zh===null)var Z=!1;else{if(O=Zh,Zh=null,by=0,Yi&6)throw Error(Ta(331));var R=Yi;for(Yi|=4,Ba=O.current;Ba!==null;){var fe=Ba,V=fe.child;if(Ba.flags&16){var Y=fe.deletions;if(Y!==null){for(var e=0;e<Y.length;e++){var p=Y[e];for(Ba=p;Ba!==null;){var L=Ba;switch(L.tag){case 0:case 11:case 15:i0(8,L,fe)}var o=L.child;if(o!==null)o.return=L,Ba=o;else for(;Ba!==null;){L=Ba;var C=L.sibling,S=L.return;if(RT(L),L===p){Ba=null;break}if(C!==null){C.return=S,Ba=C;break}Ba=S}}}var v=fe.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var r=g.sibling;g.sibling=null,g=r}while(g!==null)}}Ba=fe}}if(fe.subtreeFlags&2064&&V!==null)V.return=fe,Ba=V;else e:for(;Ba!==null;){if(fe=Ba,fe.flags&2048)switch(fe.tag){case 0:case 11:case 15:i0(9,fe,fe.return)}var t=fe.sibling;if(t!==null){t.return=fe.return,Ba=t;break e}Ba=fe.return}}var a=O.current;for(Ba=a;Ba!==null;){V=Ba;var n=V.child;if(V.subtreeFlags&2064&&n!==null)n.return=V,Ba=n;else e:for(V=a;Ba!==null;){if(Y=Ba,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:ky(9,Y)}}catch(u){Ko(Y,Y.return,u)}if(Y===V){Ba=null;break e}var f=Y.sibling;if(f!==null){f.return=Y.return,Ba=f;break e}Ba=Y.return}}if(Yi=R,sv(),cc&&typeof cc.onPostCommitFiberRoot=="function")try{cc.onPostCommitFiberRoot(_y,O)}catch{}Z=!0}return Z}finally{io=G,Uu.transition=I}}return!1}function gw(O,I,G){I=ap(G,I),I=wT(O,I,1),O=$h(O,I,1),I=ml(),O!==null&&(k0(O,1,I),Hl(O,I))}function Ko(O,I,G){if(O.tag===3)gw(O,O,G);else for(;I!==null;){if(I.tag===3){gw(I,O,G);break}else if(I.tag===1){var Z=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof Z.componentDidCatch=="function"&&(qh===null||!qh.has(Z))){O=ap(G,O),O=TT(I,O,1),I=$h(I,O,1),O=ml(),I!==null&&(k0(I,1,O),Hl(I,O));break}}I=I.return}}function DM(O,I,G){var Z=O.pingCache;Z!==null&&Z.delete(I),I=ml(),O.pingedLanes|=O.suspendedLanes&G,Es===O&&(Hs&G)===G&&(ys===4||ys===3&&(Hs&130023424)===Hs&&500>rs()-Gx?Yv(O,0):Wx|=G),Hl(O,I)}function HT(O,I){I===0&&(O.mode&1?(I=bg,bg<<=1,!(bg&130023424)&&(bg=4194304)):I=1);var G=ml();O=$c(O,I),O!==null&&(k0(O,I,G),Hl(O,G))}function PM(O){var I=O.memoizedState,G=0;I!==null&&(G=I.retryLane),HT(O,G)}function RM(O,I){var G=0;switch(O.tag){case 13:var Z=O.stateNode,R=O.memoizedState;R!==null&&(G=R.retryLane);break;case 19:Z=O.stateNode;break;default:throw Error(Ta(314))}Z!==null&&Z.delete(I),HT(O,G)}var YT;YT=function(O,I,G){if(O!==null)if(O.memoizedProps!==I.pendingProps||Ul.current)Bl=!0;else{if(!(O.lanes&G)&&!(I.flags&128))return Bl=!1,xM(O,I,G);Bl=!!(O.flags&131072)}else Bl=!1,Do&&I.flags&1048576&&Z2(I,cy,I.index);switch(I.lanes=0,I.tag){case 2:var Z=I.type;Zg(O,I),O=I.pendingProps;var R=ep(I,nl.current);Qd(I,G),R=zx(null,I,Z,O,R,G);var fe=Bx();return I.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(I.tag=1,I.memoizedState=null,I.updateQueue=null,Vl(Z)?(fe=!0,uy(I)):fe=!1,I.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Ix(I),R.updater=Oy,I.stateNode=R,R._reactInternals=I,P1(I,Z,O,G),I=O1(null,I,Z,!0,fe,G)):(I.tag=0,Do&&fe&&Ex(I),pl(null,I,R,G),I=I.child),I;case 16:Z=I.elementType;e:{switch(Zg(O,I),O=I.pendingProps,R=Z._init,Z=R(Z._payload),I.type=Z,R=I.tag=OM(Z),O=yf(Z,O),R){case 0:I=I1(null,I,Z,O,G);break e;case 1:I=ow(null,I,Z,O,G);break e;case 11:I=aw(null,I,Z,O,G);break e;case 14:I=iw(null,I,Z,yf(Z.type,O),G);break e}throw Error(Ta(306,Z,""))}return I;case 0:return Z=I.type,R=I.pendingProps,R=I.elementType===Z?R:yf(Z,R),I1(O,I,Z,R,G);case 1:return Z=I.type,R=I.pendingProps,R=I.elementType===Z?R:yf(Z,R),ow(O,I,Z,R,G);case 3:e:{if(ET(I),O===null)throw Error(Ta(387));Z=I.pendingProps,fe=I.memoizedState,R=fe.element,q2(O,I),dy(I,Z,null,G);var V=I.memoizedState;if(Z=V.element,fe.isDehydrated)if(fe={element:Z,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},I.updateQueue.baseState=fe,I.memoizedState=fe,I.flags&256){R=ap(Error(Ta(423)),I),I=sw(O,I,Z,G,R);break e}else if(Z!==R){R=ap(Error(Ta(424)),I),I=sw(O,I,Z,G,R);break e}else for(ou=Qh(I.stateNode.containerInfo.firstChild),lu=I,Do=!0,wf=null,G=Q2(I,null,Z,G),I.child=G;G;)G.flags=G.flags&-3|4096,G=G.sibling;else{if(tp(),Z===R){I=qc(O,I,G);break e}pl(O,I,Z,G)}I=I.child}return I;case 5:return eT(I),O===null&&C1(I),Z=I.type,R=I.pendingProps,fe=O!==null?O.memoizedProps:null,V=R.children,A1(Z,R)?V=null:fe!==null&&A1(Z,fe)&&(I.flags|=32),MT(O,I),pl(O,I,V,G),I.child;case 6:return O===null&&C1(I),null;case 13:return _T(O,I,G);case 4:return Ox(I,I.stateNode.containerInfo),Z=I.pendingProps,O===null?I.child=rp(I,null,Z,G):pl(O,I,Z,G),I.child;case 11:return Z=I.type,R=I.pendingProps,R=I.elementType===Z?R:yf(Z,R),aw(O,I,Z,R,G);case 7:return pl(O,I,I.pendingProps,G),I.child;case 8:return pl(O,I,I.pendingProps.children,G),I.child;case 12:return pl(O,I,I.pendingProps.children,G),I.child;case 10:e:{if(Z=I.type._context,R=I.pendingProps,fe=I.memoizedProps,V=R.value,yo(hy,Z._currentValue),Z._currentValue=V,fe!==null)if(Pf(fe.value,V)){if(fe.children===R.children&&!Ul.current){I=qc(O,I,G);break e}}else for(fe=I.child,fe!==null&&(fe.return=I);fe!==null;){var Y=fe.dependencies;if(Y!==null){V=fe.child;for(var e=Y.firstContext;e!==null;){if(e.context===Z){if(fe.tag===1){e=jc(-1,G&-G),e.tag=2;var p=fe.updateQueue;if(p!==null){p=p.shared;var L=p.pending;L===null?e.next=e:(e.next=L.next,L.next=e),p.pending=e}}fe.lanes|=G,e=fe.alternate,e!==null&&(e.lanes|=G),L1(fe.return,G,I),Y.lanes|=G;break}e=e.next}}else if(fe.tag===10)V=fe.type===I.type?null:fe.child;else if(fe.tag===18){if(V=fe.return,V===null)throw Error(Ta(341));V.lanes|=G,Y=V.alternate,Y!==null&&(Y.lanes|=G),L1(V,G,I),V=fe.sibling}else V=fe.child;if(V!==null)V.return=fe;else for(V=fe;V!==null;){if(V===I){V=null;break}if(fe=V.sibling,fe!==null){fe.return=V.return,V=fe;break}V=V.return}fe=V}pl(O,I,R.children,G),I=I.child}return I;case 9:return R=I.type,Z=I.pendingProps.children,Qd(I,G),R=Vu(R),Z=Z(R),I.flags|=1,pl(O,I,Z,G),I.child;case 14:return Z=I.type,R=yf(Z,I.pendingProps),R=yf(Z.type,R),iw(O,I,Z,R,G);case 15:return AT(O,I,I.type,I.pendingProps,G);case 17:return Z=I.type,R=I.pendingProps,R=I.elementType===Z?R:yf(Z,R),Zg(O,I),I.tag=1,Vl(Z)?(O=!0,uy(I)):O=!1,Qd(I,G),bT(I,Z,R),P1(I,Z,R,G),O1(null,I,Z,!0,O,G);case 19:return CT(O,I,G);case 22:return ST(O,I,G)}throw Error(Ta(156,I.tag))};function WT(O,I){return y2(O,I)}function IM(O,I,G,Z){this.tag=O,this.key=G,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=I,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(O,I,G,Z){return new IM(O,I,G,Z)}function Kx(O){return O=O.prototype,!(!O||!O.isReactComponent)}function OM(O){if(typeof O=="function")return Kx(O)?1:0;if(O!=null){if(O=O.$$typeof,O===dx)return 11;if(O===px)return 14}return 2}function tv(O,I){var G=O.alternate;return G===null?(G=Bu(O.tag,I,O.key,O.mode),G.elementType=O.elementType,G.type=O.type,G.stateNode=O.stateNode,G.alternate=O,O.alternate=G):(G.pendingProps=I,G.type=O.type,G.flags=0,G.subtreeFlags=0,G.deletions=null),G.flags=O.flags&14680064,G.childLanes=O.childLanes,G.lanes=O.lanes,G.child=O.child,G.memoizedProps=O.memoizedProps,G.memoizedState=O.memoizedState,G.updateQueue=O.updateQueue,I=O.dependencies,G.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},G.sibling=O.sibling,G.index=O.index,G.ref=O.ref,G}function Jg(O,I,G,Z,R,fe){var V=2;if(Z=O,typeof O=="function")Kx(O)&&(V=1);else if(typeof O=="string")V=5;else e:switch(O){case Rd:return Wv(G.children,R,fe,I);case vx:V=8,R|=8;break;case t1:return O=Bu(12,G,I,R|2),O.elementType=t1,O.lanes=fe,O;case r1:return O=Bu(13,G,I,R),O.elementType=r1,O.lanes=fe,O;case n1:return O=Bu(19,G,I,R),O.elementType=n1,O.lanes=fe,O;case e2:return Fy(G,R,fe,I);default:if(typeof O=="object"&&O!==null)switch(O.$$typeof){case $w:V=10;break e;case qw:V=9;break e;case dx:V=11;break e;case px:V=14;break e;case Hh:V=16,Z=null;break e}throw Error(Ta(130,O==null?O:typeof O,""))}return I=Bu(V,G,I,R),I.elementType=O,I.type=Z,I.lanes=fe,I}function Wv(O,I,G,Z){return O=Bu(7,O,Z,I),O.lanes=G,O}function Fy(O,I,G,Z){return O=Bu(22,O,Z,I),O.elementType=e2,O.lanes=G,O.stateNode={isHidden:!1},O}function Gm(O,I,G){return O=Bu(6,O,null,I),O.lanes=G,O}function Xm(O,I,G){return I=Bu(4,O.children!==null?O.children:[],O.key,I),I.lanes=G,I.stateNode={containerInfo:O.containerInfo,pendingChildren:null,implementation:O.implementation},I}function kM(O,I,G,Z,R){this.tag=I,this.containerInfo=O,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Em(0),this.expirationTimes=Em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Em(0),this.identifierPrefix=Z,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function Jx(O,I,G,Z,R,fe,V,Y,e){return O=new kM(O,I,G,Y,e),I===1?(I=1,fe===!0&&(I|=8)):I=0,fe=Bu(3,null,null,I),O.current=fe,fe.stateNode=O,fe.memoizedState={element:Z,isDehydrated:G,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ix(fe),O}function NM(O,I,G){var Z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pd,key:Z==null?null:""+Z,children:O,containerInfo:I,implementation:G}}function GT(O){if(!O)return nv;O=O._reactInternals;e:{if($v(O)!==O||O.tag!==1)throw Error(Ta(170));var I=O;do{switch(I.tag){case 3:I=I.stateNode.context;break e;case 1:if(Vl(I.type)){I=I.stateNode.__reactInternalMemoizedMergedChildContext;break e}}I=I.return}while(I!==null);throw Error(Ta(171))}if(O.tag===1){var G=O.type;if(Vl(G))return G2(O,G,I)}return I}function XT(O,I,G,Z,R,fe,V,Y,e){return O=Jx(G,Z,!0,O,R,fe,V,Y,e),O.context=GT(null),G=O.current,Z=ml(),R=ev(G),fe=jc(Z,R),fe.callback=I??null,$h(G,fe,R),O.current.lanes=R,k0(O,R,Z),Hl(O,Z),O}function zy(O,I,G,Z){var R=I.current,fe=ml(),V=ev(R);return G=GT(G),I.context===null?I.context=G:I.pendingContext=G,I=jc(fe,V),I.payload={element:O},Z=Z===void 0?null:Z,Z!==null&&(I.callback=Z),O=$h(R,I,V),O!==null&&(Lf(O,R,V,fe),Wg(O,R,V)),V}function Ty(O){if(O=O.current,!O.child)return null;switch(O.child.tag){case 5:return O.child.stateNode;default:return O.child.stateNode}}function yw(O,I){if(O=O.memoizedState,O!==null&&O.dehydrated!==null){var G=O.retryLane;O.retryLane=G!==0&&G<I?G:I}}function Qx(O,I){yw(O,I),(O=O.alternate)&&yw(O,I)}function FM(){return null}var ZT=typeof reportError=="function"?reportError:function(O){console.error(O)};function $x(O){this._internalRoot=O}By.prototype.render=$x.prototype.render=function(O){var I=this._internalRoot;if(I===null)throw Error(Ta(409));zy(O,I,null,null)};By.prototype.unmount=$x.prototype.unmount=function(){var O=this._internalRoot;if(O!==null){this._internalRoot=null;var I=O.containerInfo;Kv(function(){zy(null,O,null,null)}),I[Qc]=null}};function By(O){this._internalRoot=O}By.prototype.unstable_scheduleHydration=function(O){if(O){var I=S2();O={blockedOn:null,target:O,priority:I};for(var G=0;G<Wh.length&&I!==0&&I<Wh[G].priority;G++);Wh.splice(G,0,O),G===0&&E2(O)}};function qx(O){return!(!O||O.nodeType!==1&&O.nodeType!==9&&O.nodeType!==11)}function Uy(O){return!(!O||O.nodeType!==1&&O.nodeType!==9&&O.nodeType!==11&&(O.nodeType!==8||O.nodeValue!==" react-mount-point-unstable "))}function mw(){}function zM(O,I,G,Z,R){if(R){if(typeof Z=="function"){var fe=Z;Z=function(){var p=Ty(V);fe.call(p)}}var V=XT(I,Z,O,0,null,!1,!1,"",mw);return O._reactRootContainer=V,O[Qc]=V.current,m0(O.nodeType===8?O.parentNode:O),Kv(),V}for(;R=O.lastChild;)O.removeChild(R);if(typeof Z=="function"){var Y=Z;Z=function(){var p=Ty(e);Y.call(p)}}var e=Jx(O,0,!1,null,null,!1,!1,"",mw);return O._reactRootContainer=e,O[Qc]=e.current,m0(O.nodeType===8?O.parentNode:O),Kv(function(){zy(I,e,G,Z)}),e}function Vy(O,I,G,Z,R){var fe=G._reactRootContainer;if(fe){var V=fe;if(typeof R=="function"){var Y=R;R=function(){var e=Ty(V);Y.call(e)}}zy(I,V,O,R)}else V=zM(G,I,O,R,Z);return Ty(V)}T2=function(O){switch(O.tag){case 3:var I=O.stateNode;if(I.current.memoizedState.isDehydrated){var G=Jp(I.pendingLanes);G!==0&&(mx(I,G|1),Hl(I,rs()),!(Yi&6)&&(ip=rs()+500,sv()))}break;case 13:Kv(function(){var Z=$c(O,1);if(Z!==null){var R=ml();Lf(Z,O,1,R)}}),Qx(O,1)}};xx=function(O){if(O.tag===13){var I=$c(O,134217728);if(I!==null){var G=ml();Lf(I,O,134217728,G)}Qx(O,134217728)}};A2=function(O){if(O.tag===13){var I=ev(O),G=$c(O,I);if(G!==null){var Z=ml();Lf(G,O,I,Z)}Qx(O,I)}};S2=function(){return io};M2=function(O,I){var G=io;try{return io=O,I()}finally{io=G}};v1=function(O,I,G){switch(I){case"input":if(o1(O,G),I=G.name,G.type==="radio"&&I!=null){for(G=O;G.parentNode;)G=G.parentNode;for(G=G.querySelectorAll("input[name="+JSON.stringify(""+I)+'][type="radio"]'),I=0;I<G.length;I++){var Z=G[I];if(Z!==O&&Z.form===O.form){var R=Py(Z);if(!R)throw Error(Ta(90));r2(Z),o1(Z,R)}}}break;case"textarea":a2(O,G);break;case"select":I=G.value,I!=null&&Zd(O,!!G.multiple,I,!1)}};c2=Xx;h2=Kv;var BM={usingClientEntryPoint:!1,Events:[F0,Nd,Py,u2,f2,Xx]},Wp={findFiberByHostInstance:Bv,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UM={bundleType:Wp.bundleType,version:Wp.version,rendererPackageName:Wp.rendererPackageName,rendererConfig:Wp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rh.ReactCurrentDispatcher,findHostInstanceByFiber:function(O){return O=p2(O),O===null?null:O.stateNode},findFiberByHostInstance:Wp.findFiberByHostInstance||FM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{_y=Pg.inject(UM),cc=Pg}catch{}}fu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BM;fu.createPortal=function(O,I){var G=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qx(I))throw Error(Ta(200));return NM(O,I,null,G)};fu.createRoot=function(O,I){if(!qx(O))throw Error(Ta(299));var G=!1,Z="",R=ZT;return I!=null&&(I.unstable_strictMode===!0&&(G=!0),I.identifierPrefix!==void 0&&(Z=I.identifierPrefix),I.onRecoverableError!==void 0&&(R=I.onRecoverableError)),I=Jx(O,1,!1,null,null,G,!1,Z,R),O[Qc]=I.current,m0(O.nodeType===8?O.parentNode:O),new $x(I)};fu.findDOMNode=function(O){if(O==null)return null;if(O.nodeType===1)return O;var I=O._reactInternals;if(I===void 0)throw typeof O.render=="function"?Error(Ta(188)):(O=Object.keys(O).join(","),Error(Ta(268,O)));return O=p2(I),O=O===null?null:O.stateNode,O};fu.flushSync=function(O){return Kv(O)};fu.hydrate=function(O,I,G){if(!Uy(I))throw Error(Ta(200));return Vy(null,O,I,!0,G)};fu.hydrateRoot=function(O,I,G){if(!qx(O))throw Error(Ta(405));var Z=G!=null&&G.hydratedSources||null,R=!1,fe="",V=ZT;if(G!=null&&(G.unstable_strictMode===!0&&(R=!0),G.identifierPrefix!==void 0&&(fe=G.identifierPrefix),G.onRecoverableError!==void 0&&(V=G.onRecoverableError)),I=XT(I,null,O,1,G??null,R,!1,fe,V),O[Qc]=I.current,m0(O),Z)for(O=0;O<Z.length;O++)G=Z[O],R=G._getVersion,R=R(G._source),I.mutableSourceEagerHydrationData==null?I.mutableSourceEagerHydrationData=[G,R]:I.mutableSourceEagerHydrationData.push(G,R);return new By(I)};fu.render=function(O,I,G){if(!Uy(I))throw Error(Ta(200));return Vy(null,O,I,!1,G)};fu.unmountComponentAtNode=function(O){if(!Uy(O))throw Error(Ta(40));return O._reactRootContainer?(Kv(function(){Vy(null,null,O,!1,function(){O._reactRootContainer=null,O[Qc]=null})}),!0):!1};fu.unstable_batchedUpdates=Xx;fu.unstable_renderSubtreeIntoContainer=function(O,I,G,Z){if(!Uy(G))throw Error(Ta(200));if(O==null||O._reactInternals===void 0)throw Error(Ta(38));return Vy(O,I,G,!1,Z)};fu.version="18.3.1-next-f1338f8080-20240426";function jT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jT)}catch(O){console.error(O)}}jT(),jw.exports=fu;var VM=jw.exports,KT,xw=VM;KT=xw.createRoot,xw.hydrateRoot;const JT=void 0,Ei=void 0,vc=O=>O,e3=O=>{throw new Error(O)},zu={match:O=>I=>O===Ei?I.none():I.some(O),pure:O=>O,lift:O=>I=>I===Ei?Ei:O(I),map:O=>I=>zu.lift(I)(O),bind:O=>I=>zu.match(O)({some:I,none:()=>Ei}),flatten:O=>zu.bind(O)(vc),compose:(O,I)=>G=>zu.bind(O(G))(I),Do:O=>{const I=Symbol();try{return O(G=>{if(G===Ei)throw I;return G})}catch(G){if(G===I)return Ei;throw G}}},l0=O=>{const[I,G]=Hv.useState(O);return{value:I,apply:Z=>()=>G(Z)}},QT=O=>{const I=O.direction??"row",G=R=>R.spacing!==Ei?di.createElement("div",{style:I==="row"?{width:R.spacing}:{height:R.spacing}}):Ei,Z=O.spacing!==Ei&&Array.isArray(O.children)?O.children.flatMap((R,fe)=>fe===0?[R]:[di.createElement(G,{key:`_spacer-${fe}`,direction:I,spacing:O.spacing}),R]):O.children;return di.createElement("div",{onClick:O.onClick,style:{display:"flex",boxSizing:"border-box",flexDirection:O.direction,alignItems:O.alignItems,justifyContent:O.justifyContent,padding:O.padding,...O.style}},Z)},Tf=O=>di.createElement(QT,{direction:"column",...O}),_0=O=>di.createElement(QT,{direction:"row",...O});//! @version @js-joda/core - 5.6.3
//! @copyright (c) 2015-present, Philipp Thürwächter, Pattrick Hüper & js-joda contributors
//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function qv(O,I,G){G===void 0&&(G=Error);function Z(R){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=R,I&&I.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return Z.prototype=Object.create(G.prototype),Z.prototype.name=O,Z.prototype.constructor=Z,Z}var Fa=qv("DateTimeException",HM),Af=qv("DateTimeParseException",YM),Ci=qv("UnsupportedTemporalTypeException",null,Fa),nc=qv("ArithmeticException"),Ka=qv("IllegalArgumentException"),C0=qv("IllegalStateException"),Kc=qv("NullPointerException");function HM(O,I){I===void 0&&(I=null);var G=O||this.name;I!==null&&I instanceof Error&&(G+=`
-------
Caused by: `+I.stack+`
-------
`),this.message=G}function YM(O,I,G,Z){I===void 0&&(I=""),G===void 0&&(G=0),Z===void 0&&(Z=null);var R=O||this.name;R+=": "+I+", at index: "+G,Z!==null&&Z instanceof Error&&(R+=`
-------
Caused by: `+Z.stack+`
-------
`),this.message=R,this.parsedString=function(){return I},this.errorIndex=function(){return G}}function oi(O,I){O.prototype=Object.create(I.prototype),O.prototype.constructor=O,X1(O,I)}function X1(O,I){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,R){return Z.__proto__=R,Z},X1(O,I)}function L0(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function $i(O,I,G){if(!O)throw G?new G(I):new Error(I)}function Jr(O,I){if(O==null)throw new Kc(I+" must not be null");return O}function Xa(O,I,G){if(!(O instanceof I))throw new Ka(G+" must be an instance of "+(I.name?I.name:I)+(O&&O.constructor&&O.constructor.name?", but is "+O.constructor.name:""));return O}function qa(O){throw new TypeError('abstract method "'+O+'" is not implemented')}var WM=Object.freeze({__proto__:null,assert:$i,requireNonNull:Jr,requireInstance:Xa,abstractMethodFail:qa});/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var mf=9007199254740991,iu=-9007199254740991,rr=function(){function O(){}return O.intDiv=function(G,Z){var R=G/Z;return R=O.roundDown(R),O.safeZero(R)},O.intMod=function(G,Z){var R=G-O.intDiv(G,Z)*Z;return R=O.roundDown(R),O.safeZero(R)},O.roundDown=function(G){return G<0?Math.ceil(G):Math.floor(G)},O.floorDiv=function(G,Z){var R=Math.floor(G/Z);return O.safeZero(R)},O.floorMod=function(G,Z){var R=G-O.floorDiv(G,Z)*Z;return O.safeZero(R)},O.safeAdd=function(G,Z){if(O.verifyInt(G),O.verifyInt(Z),G===0)return O.safeZero(Z);if(Z===0)return O.safeZero(G);var R=O.safeToInt(G+Z);if(R===G||R===Z)throw new nc("Invalid addition beyond MAX_SAFE_INTEGER!");return R},O.safeSubtract=function(G,Z){return O.verifyInt(G),O.verifyInt(Z),G===0&&Z===0?0:G===0?O.safeZero(-1*Z):Z===0?O.safeZero(G):O.safeToInt(G-Z)},O.safeMultiply=function(G,Z){if(O.verifyInt(G),O.verifyInt(Z),G===1)return O.safeZero(Z);if(Z===1)return O.safeZero(G);if(G===0||Z===0)return 0;var R=O.safeToInt(G*Z);if(R/Z!==G||G===iu&&Z===-1||Z===iu&&G===-1)throw new nc("Multiplication overflows: "+G+" * "+Z);return R},O.parseInt=function(I){function G(Z){return I.apply(this,arguments)}return G.toString=function(){return I.toString()},G}(function(I){var G=parseInt(I);return O.safeToInt(G)}),O.safeToInt=function(G){return O.verifyInt(G),O.safeZero(G)},O.verifyInt=function(G){if(G==null)throw new nc("Invalid value: '"+G+"', using null or undefined as argument");if(isNaN(G))throw new nc("Invalid int value, using NaN as argument");if(G%1!==0)throw new nc("Invalid value: '"+G+"' is a float");if(G>mf||G<iu)throw new nc("Calculation overflows an int: "+G)},O.safeZero=function(G){return G===0?0:+G},O.compareNumbers=function(G,Z){return G<Z?-1:G>Z?1:0},O.smi=function(G){return G>>>1&1073741824|G&3221225471},O.hash=function(G){if(G!==G||G===1/0)return 0;for(var Z=G;G>4294967295;)G/=4294967295,Z^=G;return O.smi(Z)},O.hashCode=function(){for(var G=17,Z=arguments.length,R=new Array(Z),fe=0;fe<Z;fe++)R[fe]=arguments[fe];for(var V=0,Y=R;V<Y.length;V++){var e=Y[V];G=(G<<5)-G+O.hash(e)}return O.hash(G)},O}();rr.MAX_SAFE_INTEGER=mf;rr.MIN_SAFE_INTEGER=iu;/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var cp=function(){function O(G){this._name=G}var I=O.prototype;return I.equals=function(Z){return this===Z},I.toString=function(){return this._name},I.toJSON=function(){return this.toString()},O}();/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Jv=function(){function O(){}var I=O.prototype;return I.get=function(Z){qa("get")},I.units=function(){qa("units")},I.addTo=function(Z){qa("addTo")},I.subtractFrom=function(Z){qa("subtractFrom")},O}();typeof Symbol<"u"&&Symbol.toPrimitive&&(Jv.prototype[Symbol.toPrimitive]=function(O){if(O!=="number")return this.toString();throw new TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var eh=function(){function O(){}var I=O.prototype;return I.duration=function(){qa("duration")},I.isDurationEstimated=function(){qa("isDurationEstimated")},I.isDateBased=function(){qa("isDateBased")},I.isTimeBased=function(){qa("isTimeBased")},I.isSupportedBy=function(Z){qa("isSupportedBy")},I.addTo=function(Z,R){qa("addTo")},I.between=function(Z,R){qa("between")},O}(),Vo=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._seconds=rr.safeToInt(Z),fe._nanos=rr.safeToInt(R),fe}I.ofDays=function(R){return I._create(rr.safeMultiply(R,In.SECONDS_PER_DAY),0)},I.ofHours=function(R){return I._create(rr.safeMultiply(R,In.SECONDS_PER_HOUR),0)},I.ofMinutes=function(R){return I._create(rr.safeMultiply(R,In.SECONDS_PER_MINUTE),0)},I.ofSeconds=function(R,fe){fe===void 0&&(fe=0);var V=rr.safeAdd(R,rr.floorDiv(fe,In.NANOS_PER_SECOND)),Y=rr.floorMod(fe,In.NANOS_PER_SECOND);return I._create(V,Y)},I.ofMillis=function(R){var fe=rr.intDiv(R,1e3),V=rr.intMod(R,1e3);return V<0&&(V+=1e3,fe--),I._create(fe,V*1e6)},I.ofNanos=function(R){var fe=rr.intDiv(R,In.NANOS_PER_SECOND),V=rr.intMod(R,In.NANOS_PER_SECOND);return V<0&&(V+=In.NANOS_PER_SECOND,fe--),this._create(fe,V)},I.of=function(R,fe){return I.ZERO.plus(R,fe)},I.from=function(R){Jr(R,"amount"),Xa(R,Jv);var fe=I.ZERO;return R.units().forEach(function(V){fe=fe.plus(R.get(V),V)}),fe},I.between=function(R,fe){Jr(R,"startInclusive"),Jr(fe,"endExclusive");var V=R.until(fe,zr.SECONDS),Y=0;if(R.isSupported(kt.NANO_OF_SECOND)&&fe.isSupported(kt.NANO_OF_SECOND))try{var e=R.getLong(kt.NANO_OF_SECOND);if(Y=fe.getLong(kt.NANO_OF_SECOND)-e,V>0&&Y<0)Y+=In.NANOS_PER_SECOND;else if(V<0&&Y>0)Y-=In.NANOS_PER_SECOND;else if(V===0&&Y!==0){var p=fe.with(kt.NANO_OF_SECOND,e);V=R.until(p,zr.SECONDS)}}catch{}return this.ofSeconds(V,Y)},I.parse=function(R){Jr(R,"text");var fe=new RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i"),V=fe.exec(R);if(V!==null&&V[3]!=="T"){var Y=V[1]==="-",e=V[2],p=V[4],L=V[5],o=V[6],C=V[7];if(e!=null||p!=null||L!=null||o!=null){var S=I._parseNumber(R,e,In.SECONDS_PER_DAY,"days"),v=I._parseNumber(R,p,In.SECONDS_PER_HOUR,"hours"),g=I._parseNumber(R,L,In.SECONDS_PER_MINUTE,"minutes"),r=I._parseNumber(R,o,1,"seconds"),t=o!=null&&o.charAt(0)==="-",a=I._parseFraction(R,C,t?-1:1);try{return I._create(Y,S,v,g,r,a)}catch(n){throw new Af("Text cannot be parsed to a Duration: overflow",R,0,n)}}}throw new Af("Text cannot be parsed to a Duration",R,0)},I._parseNumber=function(R,fe,V,Y){if(fe==null)return 0;try{return fe[0]==="+"&&(fe=fe.substring(1)),rr.safeMultiply(parseFloat(fe),V)}catch(e){throw new Af("Text cannot be parsed to a Duration: "+Y,R,0,e)}},I._parseFraction=function(R,fe,V){return fe==null||fe.length===0?0:(fe=(fe+"000000000").substring(0,9),parseFloat(fe)*V)},I._create=function(){return arguments.length<=2?I._createSecondsNanos(arguments[0],arguments[1]):I._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},I._createNegateDaysHoursMinutesSecondsNanos=function(R,fe,V,Y,e,p){var L=rr.safeAdd(fe,rr.safeAdd(V,rr.safeAdd(Y,e)));return R?I.ofSeconds(L,p).negated():I.ofSeconds(L,p)},I._createSecondsNanos=function(R,fe){return R===void 0&&(R=0),fe===void 0&&(fe=0),R===0&&fe===0?I.ZERO:new I(R,fe)};var G=I.prototype;return G.get=function(R){if(R===zr.SECONDS)return this._seconds;if(R===zr.NANOS)return this._nanos;throw new Ci("Unsupported unit: "+R)},G.units=function(){return[zr.SECONDS,zr.NANOS]},G.isZero=function(){return this._seconds===0&&this._nanos===0},G.isNegative=function(){return this._seconds<0},G.seconds=function(){return this._seconds},G.nano=function(){return this._nanos},G.withSeconds=function(R){return I._create(R,this._nanos)},G.withNanos=function(R){return kt.NANO_OF_SECOND.checkValidIntValue(R),I._create(this._seconds,R)},G.plusDuration=function(R){return Jr(R,"duration"),this.plus(R.seconds(),R.nano())},G.plus=function(R,fe){return arguments.length===1?this.plusDuration(R):arguments.length===2&&fe instanceof eh?this.plusAmountUnit(R,fe):this.plusSecondsNanos(R,fe)},G.plusAmountUnit=function(R,fe){if(Jr(R,"amountToAdd"),Jr(fe,"unit"),fe===zr.DAYS)return this.plusSecondsNanos(rr.safeMultiply(R,In.SECONDS_PER_DAY),0);if(fe.isDurationEstimated())throw new Ci("Unit must not have an estimated duration");if(R===0)return this;if(fe instanceof zr){switch(fe){case zr.NANOS:return this.plusNanos(R);case zr.MICROS:return this.plusSecondsNanos(rr.intDiv(R,1e6*1e3)*1e3,rr.intMod(R,1e6*1e3)*1e3);case zr.MILLIS:return this.plusMillis(R);case zr.SECONDS:return this.plusSeconds(R)}return this.plusSecondsNanos(rr.safeMultiply(fe.duration().seconds(),R),0)}var V=fe.duration().multipliedBy(R);return this.plusSecondsNanos(V.seconds(),V.nano())},G.plusDays=function(R){return this.plusSecondsNanos(rr.safeMultiply(R,In.SECONDS_PER_DAY),0)},G.plusHours=function(R){return this.plusSecondsNanos(rr.safeMultiply(R,In.SECONDS_PER_HOUR),0)},G.plusMinutes=function(R){return this.plusSecondsNanos(rr.safeMultiply(R,In.SECONDS_PER_MINUTE),0)},G.plusSeconds=function(R){return this.plusSecondsNanos(R,0)},G.plusMillis=function(R){return this.plusSecondsNanos(rr.intDiv(R,1e3),rr.intMod(R,1e3)*1e6)},G.plusNanos=function(R){return this.plusSecondsNanos(0,R)},G.plusSecondsNanos=function(R,fe){if(Jr(R,"secondsToAdd"),Jr(fe,"nanosToAdd"),R===0&&fe===0)return this;var V=rr.safeAdd(this._seconds,R);V=rr.safeAdd(V,rr.intDiv(fe,In.NANOS_PER_SECOND)),fe=rr.intMod(fe,In.NANOS_PER_SECOND);var Y=rr.safeAdd(this._nanos,fe);return I.ofSeconds(V,Y)},G.minus=function(R,fe){return arguments.length===1?this.minusDuration(R):this.minusAmountUnit(R,fe)},G.minusDuration=function(R){Jr(R,"duration");var fe=R.seconds(),V=R.nano();return fe===iu?this.plus(mf,-V):this.plus(-fe,-V)},G.minusAmountUnit=function(R,fe){return Jr(R,"amountToSubtract"),Jr(fe,"unit"),R===iu?this.plusAmountUnit(mf,fe):this.plusAmountUnit(-R,fe)},G.minusDays=function(R){return R===iu?this.plusDays(mf):this.plusDays(-R)},G.minusHours=function(R){return R===iu?this.plusHours(mf):this.plusHours(-R)},G.minusMinutes=function(R){return R===iu?this.plusMinutes(mf):this.plusMinutes(-R)},G.minusSeconds=function(R){return R===iu?this.plusSeconds(mf):this.plusSeconds(-R)},G.minusMillis=function(R){return R===iu?this.plusMillis(mf):this.plusMillis(-R)},G.minusNanos=function(R){return R===iu?this.plusNanos(mf):this.plusNanos(-R)},G.multipliedBy=function(R){if(R===0)return I.ZERO;if(R===1)return this;var fe=rr.safeMultiply(this._seconds,R),V=rr.safeMultiply(this._nanos,R);return fe=fe+rr.intDiv(V,In.NANOS_PER_SECOND),V=rr.intMod(V,In.NANOS_PER_SECOND),I.ofSeconds(fe,V)},G.dividedBy=function(R){if(R===0)throw new nc("Cannot divide by zero");if(R===1)return this;var fe=rr.intDiv(this._seconds,R),V=rr.roundDown((this._seconds/R-fe)*In.NANOS_PER_SECOND),Y=rr.intDiv(this._nanos,R);return Y=V+Y,I.ofSeconds(fe,Y)},G.negated=function(){return this.multipliedBy(-1)},G.abs=function(){return this.isNegative()?this.negated():this},G.addTo=function(R){return Jr(R,"temporal"),this._seconds!==0&&(R=R.plus(this._seconds,zr.SECONDS)),this._nanos!==0&&(R=R.plus(this._nanos,zr.NANOS)),R},G.subtractFrom=function(R){return Jr(R,"temporal"),this._seconds!==0&&(R=R.minus(this._seconds,zr.SECONDS)),this._nanos!==0&&(R=R.minus(this._nanos,zr.NANOS)),R},G.toDays=function(){return rr.intDiv(this._seconds,In.SECONDS_PER_DAY)},G.toHours=function(){return rr.intDiv(this._seconds,In.SECONDS_PER_HOUR)},G.toMinutes=function(){return rr.intDiv(this._seconds,In.SECONDS_PER_MINUTE)},G.toMillis=function(){var R=Math.round(rr.safeMultiply(this._seconds,1e3));return R=rr.safeAdd(R,rr.intDiv(this._nanos,1e6)),R},G.toNanos=function(){var R=rr.safeMultiply(this._seconds,In.NANOS_PER_SECOND);return R=rr.safeAdd(R,this._nanos),R},G.compareTo=function(R){Jr(R,"otherDuration"),Xa(R,I,"otherDuration");var fe=rr.compareNumbers(this._seconds,R.seconds());return fe!==0?fe:this._nanos-R.nano()},G.equals=function(R){return this===R?!0:R instanceof I?this.seconds()===R.seconds()&&this.nano()===R.nano():!1},G.toString=function(){if(this===I.ZERO)return"PT0S";var R=rr.intDiv(this._seconds,In.SECONDS_PER_HOUR),fe=rr.intDiv(rr.intMod(this._seconds,In.SECONDS_PER_HOUR),In.SECONDS_PER_MINUTE),V=rr.intMod(this._seconds,In.SECONDS_PER_MINUTE),Y="PT";if(R!==0&&(Y+=R+"H"),fe!==0&&(Y+=fe+"M"),V===0&&this._nanos===0&&Y.length>2)return Y;if(V<0&&this._nanos>0?V===-1?Y+="-0":Y+=V+1:Y+=V,this._nanos>0){Y+=".";var e;for(V<0?e=""+(2*In.NANOS_PER_SECOND-this._nanos):e=""+(In.NANOS_PER_SECOND+this._nanos),e=e.slice(1,e.length),Y+=e;Y.charAt(Y.length-1)==="0";)Y=Y.slice(0,Y.length-1)}return Y+="S",Y},G.toJSON=function(){return this.toString()},I}(Jv);function GM(){Vo.ZERO=new Vo(0,0)}/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)
 */var Fl=function(){};function XM(){Fl.MIN_VALUE=-999999,Fl.MAX_VALUE=999999}var zr=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._name=Z,fe._duration=R,fe}var G=I.prototype;return G.duration=function(){return this._duration},G.isDurationEstimated=function(){return this.isDateBased()||this===I.FOREVER},G.isDateBased=function(){return this.compareTo(I.DAYS)>=0&&this!==I.FOREVER},G.isTimeBased=function(){return this.compareTo(I.DAYS)<0},G.isSupportedBy=function(R){if(this===I.FOREVER)return!1;try{return R.plus(1,this),!0}catch{try{return R.plus(-1,this),!0}catch{return!1}}},G.addTo=function(R,fe){return R.plus(fe,this)},G.between=function(R,fe){return R.until(fe,this)},G.toString=function(){return this._name},G.compareTo=function(R){return this.duration().compareTo(R.duration())},I}(eh);function ZM(){zr.NANOS=new zr("Nanos",Vo.ofNanos(1)),zr.MICROS=new zr("Micros",Vo.ofNanos(1e3)),zr.MILLIS=new zr("Millis",Vo.ofNanos(1e6)),zr.SECONDS=new zr("Seconds",Vo.ofSeconds(1)),zr.MINUTES=new zr("Minutes",Vo.ofSeconds(60)),zr.HOURS=new zr("Hours",Vo.ofSeconds(3600)),zr.HALF_DAYS=new zr("HalfDays",Vo.ofSeconds(43200)),zr.DAYS=new zr("Days",Vo.ofSeconds(86400)),zr.WEEKS=new zr("Weeks",Vo.ofSeconds(7*86400)),zr.MONTHS=new zr("Months",Vo.ofSeconds(31556952/12)),zr.YEARS=new zr("Years",Vo.ofSeconds(31556952)),zr.DECADES=new zr("Decades",Vo.ofSeconds(31556952*10)),zr.CENTURIES=new zr("Centuries",Vo.ofSeconds(31556952*100)),zr.MILLENNIA=new zr("Millennia",Vo.ofSeconds(31556952*1e3)),zr.ERAS=new zr("Eras",Vo.ofSeconds(31556952*(Fl.MAX_VALUE+1))),zr.FOREVER=new zr("Forever",Vo.ofSeconds(rr.MAX_SAFE_INTEGER,999999999))}/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var lc=function(){function O(){}var I=O.prototype;return I.isDateBased=function(){qa("isDateBased")},I.isTimeBased=function(){qa("isTimeBased")},I.baseUnit=function(){qa("baseUnit")},I.rangeUnit=function(){qa("rangeUnit")},I.range=function(){qa("range")},I.rangeRefinedBy=function(Z){qa("rangeRefinedBy")},I.getFrom=function(Z){qa("getFrom")},I.adjustInto=function(Z,R){qa("adjustInto")},I.isSupportedBy=function(Z){qa("isSupportedBy")},I.displayName=function(){qa("displayName")},I.equals=function(Z){qa("equals")},I.name=function(){qa("name")},O}();/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var ii=function(){function O(G,Z,R,fe){$i(!(G>Z),"Smallest minimum value '"+G+"' must be less than largest minimum value '"+Z+"'",Ka),$i(!(R>fe),"Smallest maximum value '"+R+"' must be less than largest maximum value '"+fe+"'",Ka),$i(!(Z>fe),"Minimum value '"+Z+"' must be less than maximum value '"+fe+"'",Ka),this._minSmallest=G,this._minLargest=Z,this._maxLargest=fe,this._maxSmallest=R}var I=O.prototype;return I.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},I.minimum=function(){return this._minSmallest},I.largestMinimum=function(){return this._minLargest},I.maximum=function(){return this._maxLargest},I.smallestMaximum=function(){return this._maxSmallest},I.isValidValue=function(Z){return this.minimum()<=Z&&Z<=this.maximum()},I.checkValidValue=function(Z,R){var fe;return this.isValidValue(Z)?Z:(R!=null?fe="Invalid value for "+R+" (valid values "+this.toString()+"): "+Z:fe="Invalid value (valid values "+this.toString()+"): "+Z,$i(!1,fe,Fa))},I.checkValidIntValue=function(Z,R){if(this.isValidIntValue(Z)===!1)throw new Fa("Invalid int value for "+R+": "+Z);return Z},I.isValidIntValue=function(Z){return this.isIntValue()&&this.isValidValue(Z)},I.isIntValue=function(){return this.minimum()>=rr.MIN_SAFE_INTEGER&&this.maximum()<=rr.MAX_SAFE_INTEGER},I.equals=function(Z){return Z===this?!0:Z instanceof O?this._minSmallest===Z._minSmallest&&this._minLargest===Z._minLargest&&this._maxSmallest===Z._maxSmallest&&this._maxLargest===Z._maxLargest:!1},I.hashCode=function(){return rr.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},I.toString=function(){var Z=this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"");return Z+=" - ",Z+=this.smallestMaximum()+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():""),Z},O.of=function(){return arguments.length===2?new O(arguments[0],arguments[0],arguments[1],arguments[1]):arguments.length===3?new O(arguments[0],arguments[0],arguments[1],arguments[2]):arguments.length===4?new O(arguments[0],arguments[1],arguments[2],arguments[3]):$i(!1,"Invalid number of arguments "+arguments.length,Ka)},O}(),kt=function(O){oi(I,O),I.byName=function(R){for(var fe in I)if(I[fe]&&I[fe]instanceof I&&I[fe].name()===R)return I[fe]};function I(Z,R,fe,V){var Y;return Y=O.call(this)||this,Y._name=Z,Y._baseUnit=R,Y._rangeUnit=fe,Y._range=V,Y}var G=I.prototype;return G.name=function(){return this._name},G.baseUnit=function(){return this._baseUnit},G.rangeUnit=function(){return this._rangeUnit},G.range=function(){return this._range},G.displayName=function(){return this.toString()},G.checkValidValue=function(R){return this.range().checkValidValue(R,this)},G.checkValidIntValue=function(R){return this.range().checkValidIntValue(R,this)},G.isDateBased=function(){var R=this===I.DAY_OF_WEEK||this===I.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===I.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===I.DAY_OF_MONTH||this===I.DAY_OF_YEAR||this===I.EPOCH_DAY||this===I.ALIGNED_WEEK_OF_MONTH||this===I.ALIGNED_WEEK_OF_YEAR||this===I.MONTH_OF_YEAR||this===I.PROLEPTIC_MONTH||this===I.YEAR_OF_ERA||this===I.YEAR||this===I.ERA;return R},G.isTimeBased=function(){var R=this===I.NANO_OF_SECOND||this===I.NANO_OF_DAY||this===I.MICRO_OF_SECOND||this===I.MICRO_OF_DAY||this===I.MILLI_OF_SECOND||this===I.MILLI_OF_DAY||this===I.SECOND_OF_MINUTE||this===I.SECOND_OF_DAY||this===I.MINUTE_OF_HOUR||this===I.MINUTE_OF_DAY||this===I.HOUR_OF_AMPM||this===I.CLOCK_HOUR_OF_AMPM||this===I.HOUR_OF_DAY||this===I.CLOCK_HOUR_OF_DAY||this===I.AMPM_OF_DAY;return R},G.rangeRefinedBy=function(R){return R.range(this)},G.getFrom=function(R){return R.getLong(this)},G.toString=function(){return this.name()},G.equals=function(R){return this===R},G.adjustInto=function(R,fe){return R.with(this,fe)},G.isSupportedBy=function(R){return R.isSupported(this)},I}(lc);function jM(){kt.NANO_OF_SECOND=new kt("NanoOfSecond",zr.NANOS,zr.SECONDS,ii.of(0,999999999)),kt.NANO_OF_DAY=new kt("NanoOfDay",zr.NANOS,zr.DAYS,ii.of(0,86400*1e9-1)),kt.MICRO_OF_SECOND=new kt("MicroOfSecond",zr.MICROS,zr.SECONDS,ii.of(0,999999)),kt.MICRO_OF_DAY=new kt("MicroOfDay",zr.MICROS,zr.DAYS,ii.of(0,86400*1e6-1)),kt.MILLI_OF_SECOND=new kt("MilliOfSecond",zr.MILLIS,zr.SECONDS,ii.of(0,999)),kt.MILLI_OF_DAY=new kt("MilliOfDay",zr.MILLIS,zr.DAYS,ii.of(0,86400*1e3-1)),kt.SECOND_OF_MINUTE=new kt("SecondOfMinute",zr.SECONDS,zr.MINUTES,ii.of(0,59)),kt.SECOND_OF_DAY=new kt("SecondOfDay",zr.SECONDS,zr.DAYS,ii.of(0,86399)),kt.MINUTE_OF_HOUR=new kt("MinuteOfHour",zr.MINUTES,zr.HOURS,ii.of(0,59)),kt.MINUTE_OF_DAY=new kt("MinuteOfDay",zr.MINUTES,zr.DAYS,ii.of(0,24*60-1)),kt.HOUR_OF_AMPM=new kt("HourOfAmPm",zr.HOURS,zr.HALF_DAYS,ii.of(0,11)),kt.CLOCK_HOUR_OF_AMPM=new kt("ClockHourOfAmPm",zr.HOURS,zr.HALF_DAYS,ii.of(1,12)),kt.HOUR_OF_DAY=new kt("HourOfDay",zr.HOURS,zr.DAYS,ii.of(0,23)),kt.CLOCK_HOUR_OF_DAY=new kt("ClockHourOfDay",zr.HOURS,zr.DAYS,ii.of(1,24)),kt.AMPM_OF_DAY=new kt("AmPmOfDay",zr.HALF_DAYS,zr.DAYS,ii.of(0,1)),kt.DAY_OF_WEEK=new kt("DayOfWeek",zr.DAYS,zr.WEEKS,ii.of(1,7)),kt.ALIGNED_DAY_OF_WEEK_IN_MONTH=new kt("AlignedDayOfWeekInMonth",zr.DAYS,zr.WEEKS,ii.of(1,7)),kt.ALIGNED_DAY_OF_WEEK_IN_YEAR=new kt("AlignedDayOfWeekInYear",zr.DAYS,zr.WEEKS,ii.of(1,7)),kt.DAY_OF_MONTH=new kt("DayOfMonth",zr.DAYS,zr.MONTHS,ii.of(1,28,31),"day"),kt.DAY_OF_YEAR=new kt("DayOfYear",zr.DAYS,zr.YEARS,ii.of(1,365,366)),kt.EPOCH_DAY=new kt("EpochDay",zr.DAYS,zr.FOREVER,ii.of(-365961662,364522971)),kt.ALIGNED_WEEK_OF_MONTH=new kt("AlignedWeekOfMonth",zr.WEEKS,zr.MONTHS,ii.of(1,4,5)),kt.ALIGNED_WEEK_OF_YEAR=new kt("AlignedWeekOfYear",zr.WEEKS,zr.YEARS,ii.of(1,53)),kt.MONTH_OF_YEAR=new kt("MonthOfYear",zr.MONTHS,zr.YEARS,ii.of(1,12),"month"),kt.PROLEPTIC_MONTH=new kt("ProlepticMonth",zr.MONTHS,zr.FOREVER,ii.of(Fl.MIN_VALUE*12,Fl.MAX_VALUE*12+11)),kt.YEAR_OF_ERA=new kt("YearOfEra",zr.YEARS,zr.FOREVER,ii.of(1,Fl.MAX_VALUE,Fl.MAX_VALUE+1)),kt.YEAR=new kt("Year",zr.YEARS,zr.FOREVER,ii.of(Fl.MIN_VALUE,Fl.MAX_VALUE),"year"),kt.ERA=new kt("Era",zr.ERAS,zr.FOREVER,ii.of(0,1)),kt.INSTANT_SECONDS=new kt("InstantSeconds",zr.SECONDS,zr.FOREVER,ii.of(iu,mf)),kt.OFFSET_SECONDS=new kt("OffsetSeconds",zr.SECONDS,zr.FOREVER,ii.of(-18*3600,18*3600))}/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var ia=function(){function O(){}return O.zoneId=function(){return O.ZONE_ID},O.chronology=function(){return O.CHRONO},O.precision=function(){return O.PRECISION},O.zone=function(){return O.ZONE},O.offset=function(){return O.OFFSET},O.localDate=function(){return O.LOCAL_DATE},O.localTime=function(){return O.LOCAL_TIME},O}();/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var av=function(){function O(){}var I=O.prototype;return I.query=function(Z){return Z===ia.zoneId()||Z===ia.chronology()||Z===ia.precision()?null:Z.queryFrom(this)},I.get=function(Z){return this.range(Z).checkValidIntValue(this.getLong(Z),Z)},I.getLong=function(Z){qa("getLong")},I.range=function(Z){if(Z instanceof kt){if(this.isSupported(Z))return Z.range();throw new Ci("Unsupported field: "+Z)}return Z.rangeRefinedBy(this)},I.isSupported=function(Z){qa("isSupported")},O}(),B0=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.queryFrom=function(R){qa("queryFrom")},I}(cp);function fs(O,I){var G=function(Z){oi(R,Z);function R(){return Z.apply(this,arguments)||this}return R}(B0);return G.prototype.queryFrom=I,new G(O)}var uo=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._ordinal=Z,fe._name=R,fe}var G=I.prototype;return G.ordinal=function(){return this._ordinal},G.name=function(){return this._name},I.values=function(){return Ld.slice()},I.valueOf=function(R){var fe=0;for(fe;fe<Ld.length&&Ld[fe].name()!==R;fe++);return I.of(fe+1)},I.of=function(R){if(R<1||R>7)throw new Fa("Invalid value for DayOfWeek: "+R);return Ld[R-1]},I.from=function(R){if($i(R!=null,"temporal",Kc),R instanceof I)return R;try{return I.of(R.get(kt.DAY_OF_WEEK))}catch(fe){throw fe instanceof Fa?new Fa("Unable to obtain DayOfWeek from TemporalAccessor: "+R+", type "+(R.constructor!=null?R.constructor.name:""),fe):fe}},G.value=function(){return this._ordinal+1},G.displayName=function(R,fe){throw new Ka("Pattern using (localized) text not implemented yet!")},G.isSupported=function(R){return R instanceof kt?R===kt.DAY_OF_WEEK:R!=null&&R.isSupportedBy(this)},G.range=function(R){if(R===kt.DAY_OF_WEEK)return R.range();if(R instanceof kt)throw new Ci("Unsupported field: "+R);return R.rangeRefinedBy(this)},G.get=function(R){return R===kt.DAY_OF_WEEK?this.value():this.range(R).checkValidIntValue(this.getLong(R),R)},G.getLong=function(R){if(R===kt.DAY_OF_WEEK)return this.value();if(R instanceof kt)throw new Ci("Unsupported field: "+R);return R.getFrom(this)},G.plus=function(R){var fe=rr.floorMod(R,7);return Ld[rr.floorMod(this._ordinal+(fe+7),7)]},G.minus=function(R){return this.plus(-1*rr.floorMod(R,7))},G.query=function(R){return R===ia.precision()?zr.DAYS:R===ia.localDate()||R===ia.localTime()||R===ia.chronology()||R===ia.zone()||R===ia.zoneId()||R===ia.offset()?null:($i(R!=null,"query",Kc),R.queryFrom(this))},G.adjustInto=function(R){return Jr(R,"temporal"),R.with(kt.DAY_OF_WEEK,this.value())},G.equals=function(R){return this===R},G.toString=function(){return this._name},G.compareTo=function(R){return Jr(R,"other"),Xa(R,I,"other"),this._ordinal-R._ordinal},G.toJSON=function(){return this.toString()},I}(av),Ld;function KM(){uo.MONDAY=new uo(0,"MONDAY"),uo.TUESDAY=new uo(1,"TUESDAY"),uo.WEDNESDAY=new uo(2,"WEDNESDAY"),uo.THURSDAY=new uo(3,"THURSDAY"),uo.FRIDAY=new uo(4,"FRIDAY"),uo.SATURDAY=new uo(5,"SATURDAY"),uo.SUNDAY=new uo(6,"SUNDAY"),uo.FROM=fs("DayOfWeek.FROM",function(O){return uo.from(O)}),Ld=[uo.MONDAY,uo.TUESDAY,uo.WEDNESDAY,uo.THURSDAY,uo.FRIDAY,uo.SATURDAY,uo.SUNDAY]}var ti=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._value=rr.safeToInt(Z),fe._name=R,fe}var G=I.prototype;return G.value=function(){return this._value},G.ordinal=function(){return this._value-1},G.name=function(){return this._name},G.displayName=function(R,fe){throw new Ka("Pattern using (localized) text not implemented yet!")},G.isSupported=function(R){return R===null?!1:R instanceof kt?R===kt.MONTH_OF_YEAR:R!=null&&R.isSupportedBy(this)},G.get=function(R){return R===kt.MONTH_OF_YEAR?this.value():this.range(R).checkValidIntValue(this.getLong(R),R)},G.getLong=function(R){if(R===kt.MONTH_OF_YEAR)return this.value();if(R instanceof kt)throw new Ci("Unsupported field: "+R);return R.getFrom(this)},G.plus=function(R){var fe=rr.intMod(R,12)+12,V=rr.intMod(this.value()+fe,12);return V=V===0?12:V,I.of(V)},G.minus=function(R){return this.plus(-1*rr.intMod(R,12))},G.length=function(R){switch(this){case I.FEBRUARY:return R?29:28;case I.APRIL:case I.JUNE:case I.SEPTEMBER:case I.NOVEMBER:return 30;default:return 31}},G.minLength=function(){switch(this){case I.FEBRUARY:return 28;case I.APRIL:case I.JUNE:case I.SEPTEMBER:case I.NOVEMBER:return 30;default:return 31}},G.maxLength=function(){switch(this){case I.FEBRUARY:return 29;case I.APRIL:case I.JUNE:case I.SEPTEMBER:case I.NOVEMBER:return 30;default:return 31}},G.firstDayOfYear=function(R){var fe=R?1:0;switch(this){case I.JANUARY:return 1;case I.FEBRUARY:return 32;case I.MARCH:return 60+fe;case I.APRIL:return 91+fe;case I.MAY:return 121+fe;case I.JUNE:return 152+fe;case I.JULY:return 182+fe;case I.AUGUST:return 213+fe;case I.SEPTEMBER:return 244+fe;case I.OCTOBER:return 274+fe;case I.NOVEMBER:return 305+fe;case I.DECEMBER:default:return 335+fe}},G.firstMonthOfQuarter=function(){switch(this){case I.JANUARY:case I.FEBRUARY:case I.MARCH:return I.JANUARY;case I.APRIL:case I.MAY:case I.JUNE:return I.APRIL;case I.JULY:case I.AUGUST:case I.SEPTEMBER:return I.JULY;case I.OCTOBER:case I.NOVEMBER:case I.DECEMBER:default:return I.OCTOBER}},G.query=function(R){return $i(R!=null,"query() parameter must not be null",Fa),R===ia.chronology()?Xi.INSTANCE:R===ia.precision()?zr.MONTHS:O.prototype.query.call(this,R)},G.toString=function(){switch(this){case I.JANUARY:return"JANUARY";case I.FEBRUARY:return"FEBRUARY";case I.MARCH:return"MARCH";case I.APRIL:return"APRIL";case I.MAY:return"MAY";case I.JUNE:return"JUNE";case I.JULY:return"JULY";case I.AUGUST:return"AUGUST";case I.SEPTEMBER:return"SEPTEMBER";case I.OCTOBER:return"OCTOBER";case I.NOVEMBER:return"NOVEMBER";case I.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},G.toJSON=function(){return this.toString()},G.adjustInto=function(R){return R.with(kt.MONTH_OF_YEAR,this.value())},G.compareTo=function(R){return Jr(R,"other"),Xa(R,I,"other"),this._value-R._value},G.equals=function(R){return this===R},I.valueOf=function(R){var fe=0;for(fe;fe<$p.length&&$p[fe].name()!==R;fe++);return I.of(fe+1)},I.values=function(){return $p.slice()},I.of=function(R){return(R<1||R>12)&&$i(!1,"Invalid value for MonthOfYear: "+R,Fa),$p[R-1]},I.from=function(R){if(R instanceof I)return R;try{return I.of(R.get(kt.MONTH_OF_YEAR))}catch(fe){throw new Fa("Unable to obtain Month from TemporalAccessor: "+R+" of type "+(R&&R.constructor!=null?R.constructor.name:""),fe)}},I}(av),$p;function JM(){ti.JANUARY=new ti(1,"JANUARY"),ti.FEBRUARY=new ti(2,"FEBRUARY"),ti.MARCH=new ti(3,"MARCH"),ti.APRIL=new ti(4,"APRIL"),ti.MAY=new ti(5,"MAY"),ti.JUNE=new ti(6,"JUNE"),ti.JULY=new ti(7,"JULY"),ti.AUGUST=new ti(8,"AUGUST"),ti.SEPTEMBER=new ti(9,"SEPTEMBER"),ti.OCTOBER=new ti(10,"OCTOBER"),ti.NOVEMBER=new ti(11,"NOVEMBER"),ti.DECEMBER=new ti(12,"DECEMBER"),$p=[ti.JANUARY,ti.FEBRUARY,ti.MARCH,ti.APRIL,ti.MAY,ti.JUNE,ti.JULY,ti.AUGUST,ti.SEPTEMBER,ti.OCTOBER,ti.NOVEMBER,ti.DECEMBER]}var QM=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,Gc=function(O){oi(I,O);function I(Z,R,fe){var V;V=O.call(this)||this;var Y=rr.safeToInt(Z),e=rr.safeToInt(R),p=rr.safeToInt(fe);return Y===0&&e===0&&p===0?(I.ZERO||(V._years=Y,V._months=e,V._days=p,I.ZERO=L0(V)),I.ZERO||L0(V)):(V._years=Y,V._months=e,V._days=p,V)}I.ofYears=function(R){return I.create(R,0,0)},I.ofMonths=function(R){return I.create(0,R,0)},I.ofWeeks=function(R){return I.create(0,0,rr.safeMultiply(R,7))},I.ofDays=function(R){return I.create(0,0,R)},I.of=function(R,fe,V){return I.create(R,fe,V)},I.from=function(R){if(R instanceof I)return R;Jr(R,"amount");for(var fe=0,V=0,Y=0,e=R.units(),p=0;p<e.length;p++){var L=e[p],o=R.get(L);if(L===zr.YEARS)fe=rr.safeToInt(o);else if(L===zr.MONTHS)V=rr.safeToInt(o);else if(L===zr.DAYS)Y=rr.safeToInt(o);else throw new Fa("Unit must be Years, Months or Days, but was "+L)}return I.create(fe,V,Y)},I.between=function(R,fe){return Jr(R,"startDate"),Jr(fe,"endDate"),Xa(R,Ja,"startDate"),Xa(fe,Ja,"endDate"),R.until(fe)},I.parse=function(R){Jr(R,"text");try{return I._parse(R)}catch(fe){throw fe instanceof nc?new Af("Text cannot be parsed to a Period",R,0,fe):fe}},I._parse=function(R){var fe=QM.exec(R);if(fe!=null){var V=fe[1]==="-"?-1:1,Y=fe[2],e=fe[3],p=fe[4],L=fe[5];if(Y!=null||e!=null||p!=null||L!=null){var o=I._parseNumber(R,Y,V),C=I._parseNumber(R,e,V),S=I._parseNumber(R,p,V),v=I._parseNumber(R,L,V);return v=rr.safeAdd(v,rr.safeMultiply(S,7)),I.create(o,C,v)}}throw new Af("Text cannot be parsed to a Period",R,0)},I._parseNumber=function(R,fe,V){if(fe==null)return 0;var Y=rr.parseInt(fe);return rr.safeMultiply(Y,V)},I.create=function(R,fe,V){return new I(R,fe,V)};var G=I.prototype;return G.units=function(){return[zr.YEARS,zr.MONTHS,zr.DAYS]},G.chronology=function(){return Xi.INSTANCE},G.get=function(R){if(R===zr.YEARS)return this._years;if(R===zr.MONTHS)return this._months;if(R===zr.DAYS)return this._days;throw new Ci("Unsupported unit: "+R)},G.isZero=function(){return this===I.ZERO},G.isNegative=function(){return this._years<0||this._months<0||this._days<0},G.years=function(){return this._years},G.months=function(){return this._months},G.days=function(){return this._days},G.withYears=function(R){return R===this._years?this:I.create(R,this._months,this._days)},G.withMonths=function(R){return R===this._months?this:I.create(this._years,R,this._days)},G.withDays=function(R){return R===this._days?this:I.create(this._years,this._months,R)},G.plus=function(R){var fe=I.from(R);return I.create(rr.safeAdd(this._years,fe._years),rr.safeAdd(this._months,fe._months),rr.safeAdd(this._days,fe._days))},G.plusYears=function(R){return R===0?this:I.create(rr.safeToInt(rr.safeAdd(this._years,R)),this._months,this._days)},G.plusMonths=function(R){return R===0?this:I.create(this._years,rr.safeToInt(rr.safeAdd(this._months,R)),this._days)},G.plusDays=function(R){return R===0?this:I.create(this._years,this._months,rr.safeToInt(rr.safeAdd(this._days,R)))},G.minus=function(R){var fe=I.from(R);return I.create(rr.safeSubtract(this._years,fe._years),rr.safeSubtract(this._months,fe._months),rr.safeSubtract(this._days,fe._days))},G.minusYears=function(R){return this.plusYears(-1*R)},G.minusMonths=function(R){return this.plusMonths(-1*R)},G.minusDays=function(R){return this.plusDays(-1*R)},G.multipliedBy=function(R){return this===I.ZERO||R===1?this:I.create(rr.safeMultiply(this._years,R),rr.safeMultiply(this._months,R),rr.safeMultiply(this._days,R))},G.negated=function(){return this.multipliedBy(-1)},G.normalized=function(){var R=this.toTotalMonths(),fe=rr.intDiv(R,12),V=rr.intMod(R,12);return fe===this._years&&V===this._months?this:I.create(rr.safeToInt(fe),V,this._days)},G.toTotalMonths=function(){return this._years*12+this._months},G.addTo=function(R){return Jr(R,"temporal"),this._years!==0?this._months!==0?R=R.plus(this.toTotalMonths(),zr.MONTHS):R=R.plus(this._years,zr.YEARS):this._months!==0&&(R=R.plus(this._months,zr.MONTHS)),this._days!==0&&(R=R.plus(this._days,zr.DAYS)),R},G.subtractFrom=function(R){return Jr(R,"temporal"),this._years!==0?this._months!==0?R=R.minus(this.toTotalMonths(),zr.MONTHS):R=R.minus(this._years,zr.YEARS):this._months!==0&&(R=R.minus(this._months,zr.MONTHS)),this._days!==0&&(R=R.minus(this._days,zr.DAYS)),R},G.equals=function(R){if(this===R)return!0;if(R instanceof I){var fe=R;return this._years===fe._years&&this._months===fe._months&&this._days===fe._days}return!1},G.hashCode=function(){return rr.hashCode(this._years,this._months,this._days)},G.toString=function(){if(this===I.ZERO)return"P0D";var R="P";return this._years!==0&&(R+=this._years+"Y"),this._months!==0&&(R+=this._months+"M"),this._days!==0&&(R+=this._days+"D"),R},G.toJSON=function(){return this.toString()},I}(Jv);function $M(){Gc.ofDays(0)}/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var $T=function(){function O(G){this._index=G,this._errorIndex=-1}var I=O.prototype;return I.getIndex=function(){return this._index},I.setIndex=function(Z){this._index=Z},I.getErrorIndex=function(){return this._errorIndex},I.setErrorIndex=function(Z){this._errorIndex=Z},O}();/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var qT=function(){function O(){this._map={}}var I=O.prototype;return I.putAll=function(Z){for(var R in Z._map)this._map[R]=Z._map[R];return this},I.containsKey=function(Z){return this._map.hasOwnProperty(Z.name())&&this.get(Z)!==void 0},I.get=function(Z){return this._map[Z.name()]},I.put=function(Z,R){return this.set(Z,R)},I.set=function(Z,R){return this._map[Z.name()]=R,this},I.retainAll=function(Z){for(var R={},fe=0;fe<Z.length;fe++){var V=Z[fe].name();R[V]=this._map[V]}return this._map=R,this},I.remove=function(Z){var R=Z.name(),fe=this._map[R];return this._map[R]=void 0,fe},I.keySet=function(){return this._map},I.clear=function(){this._map={}},O}(),ni=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}return I}(cp);ni.STRICT=new ni("STRICT");ni.SMART=new ni("SMART");ni.LENIENT=new ni("LENIENT");var Yl=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.isSupported=function(R){qa("isSupported")},G.minus=function(R,fe){return arguments.length<2?this._minusAmount(R):this._minusUnit(R,fe)},G._minusAmount=function(R){return Jr(R,"amount"),Xa(R,Jv,"amount"),R.subtractFrom(this)},G._minusUnit=function(R,fe){return Jr(R,"amountToSubtract"),Jr(fe,"unit"),Xa(fe,eh,"unit"),this._plusUnit(-R,fe)},G.plus=function(R,fe){return arguments.length<2?this._plusAmount(R):this._plusUnit(R,fe)},G._plusAmount=function(R){return Jr(R,"amount"),Xa(R,Jv,"amount"),R.addTo(this)},G._plusUnit=function(R,fe){qa("_plusUnit")},G.until=function(R,fe){qa("until")},G.with=function(R,fe){return arguments.length<2?this._withAdjuster(R):this._withField(R,fe)},G._withAdjuster=function(R){return Jr(R,"adjuster"),$i(typeof R.adjustInto=="function","adjuster must be a TemporalAdjuster",Ka),R.adjustInto(this)},G._withField=function(R,fe){qa("_withField")},I}(av);typeof Symbol<"u"&&Symbol.toPrimitive&&(Yl.prototype[Symbol.toPrimitive]=function(O){if(O!=="number")return this.toString();throw new TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var D0=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.isSupported=function(R){return R instanceof kt||R instanceof zr?R.isDateBased():R!=null&&R.isSupportedBy(this)},G.query=function(R){return R===ia.chronology()?this.chronology():R===ia.precision()?zr.DAYS:R===ia.localDate()?Ja.ofEpochDay(this.toEpochDay()):R===ia.localTime()||R===ia.zone()||R===ia.zoneId()||R===ia.offset()?null:O.prototype.query.call(this,R)},G.adjustInto=function(R){return R.with(kt.EPOCH_DAY,this.toEpochDay())},G.format=function(R){return Jr(R,"formatter"),Xa(R,vi,"formatter"),R.format(this)},I}(Yl);/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var tc=function(){function O(){}return O.startsWith=function(G,Z){return G.indexOf(Z)===0},O.hashCode=function(G){var Z=G.length;if(Z===0)return 0;for(var R=0,fe=0;fe<Z;fe++){var V=G.charCodeAt(fe);R=(R<<5)-R+V,R|=0}return rr.smi(R)},O}();/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Zi=function(){function O(){}O.systemDefault=function(){throw new Fa("not supported operation")},O.getAvailableZoneIds=function(){throw new Fa("not supported operation")},O.of=function(Z){throw new Fa("not supported operation"+Z)},O.ofOffset=function(Z,R){throw new Fa("not supported operation"+Z+R)},O.from=function(Z){throw new Fa("not supported operation"+Z)};var I=O.prototype;return I.id=function(){qa("ZoneId.id")},I.rules=function(){qa("ZoneId.rules")},I.normalized=function(){var Z=this.rules();return Z.isFixedOffset()?Z.offset(no.EPOCH):this},I.equals=function(Z){return this===Z?!0:Z instanceof O?this.id()===Z.id():!1},I.hashCode=function(){return tc.hashCode(this.id())},I.toString=function(){return this.id()},I.toJSON=function(){return this.toString()},O}(),Hy=function(){function O(){}O.of=function(Z){return Jr(Z,"offset"),new qM(Z)};var I=O.prototype;return I.isFixedOffset=function(){qa("ZoneRules.isFixedOffset")},I.offset=function(Z){return Z instanceof no?this.offsetOfInstant(Z):this.offsetOfLocalDateTime(Z)},I.offsetOfInstant=function(Z){qa("ZoneRules.offsetInstant")},I.offsetOfEpochMilli=function(Z){qa("ZoneRules.offsetOfEpochMilli")},I.offsetOfLocalDateTime=function(Z){qa("ZoneRules.offsetLocalDateTime")},I.validOffsets=function(Z){qa("ZoneRules.validOffsets")},I.transition=function(Z){qa("ZoneRules.transition")},I.standardOffset=function(Z){qa("ZoneRules.standardOffset")},I.daylightSavings=function(Z){qa("ZoneRules.daylightSavings")},I.isDaylightSavings=function(Z){qa("ZoneRules.isDaylightSavings")},I.isValidOffset=function(Z,R){qa("ZoneRules.isValidOffset")},I.nextTransition=function(Z){qa("ZoneRules.nextTransition")},I.previousTransition=function(Z){qa("ZoneRules.previousTransition")},I.transitions=function(){qa("ZoneRules.transitions")},I.transitionRules=function(){qa("ZoneRules.transitionRules")},I.toString=function(){qa("ZoneRules.toString")},I.toJSON=function(){return this.toString()},O}(),qM=function(O){oi(I,O);function I(Z){var R;return R=O.call(this)||this,R._offset=Z,R}var G=I.prototype;return G.isFixedOffset=function(){return!0},G.offsetOfInstant=function(){return this._offset},G.offsetOfEpochMilli=function(){return this._offset},G.offsetOfLocalDateTime=function(){return this._offset},G.validOffsets=function(){return[this._offset]},G.transition=function(){return null},G.standardOffset=function(){return this._offset},G.daylightSavings=function(){return Vo.ZERO},G.isDaylightSavings=function(){return!1},G.isValidOffset=function(R,fe){return this._offset.equals(fe)},G.nextTransition=function(){return null},G.previousTransition=function(){return null},G.transitions=function(){return[]},G.transitionRules=function(){return[]},G.equals=function(R){return this===R?!0:R instanceof I?this._offset.equals(R._offset):!1},G.toString=function(){return"FixedRules:"+this._offset.toString()},I}(Hy),bw={},ww={},ei=function(O){oi(I,O);function I(Z){var R;return R=O.call(this)||this,I._validateTotalSeconds(Z),R._totalSeconds=rr.safeToInt(Z),R._rules=Hy.of(L0(R)),R._id=I._buildId(Z),R}var G=I.prototype;return G.totalSeconds=function(){return this._totalSeconds},G.id=function(){return this._id},I._buildId=function(R){if(R===0)return"Z";var fe=Math.abs(R),V=rr.intDiv(fe,In.SECONDS_PER_HOUR),Y=rr.intMod(rr.intDiv(fe,In.SECONDS_PER_MINUTE),In.MINUTES_PER_HOUR),e=(R<0?"-":"+")+(V<10?"0":"")+V+(Y<10?":0":":")+Y,p=rr.intMod(fe,In.SECONDS_PER_MINUTE);return p!==0&&(e+=(p<10?":0":":")+p),e},I._validateTotalSeconds=function(R){if(Math.abs(R)>I.MAX_SECONDS)throw new Fa("Zone offset not in valid range: -18:00 to +18:00")},I._validate=function(R,fe,V){if(R<-18||R>18)throw new Fa("Zone offset hours not in valid range: value "+R+" is not in the range -18 to 18");if(R>0){if(fe<0||V<0)throw new Fa("Zone offset minutes and seconds must be positive because hours is positive")}else if(R<0){if(fe>0||V>0)throw new Fa("Zone offset minutes and seconds must be negative because hours is negative")}else if(fe>0&&V<0||fe<0&&V>0)throw new Fa("Zone offset minutes and seconds must have the same sign");if(Math.abs(fe)>59)throw new Fa("Zone offset minutes not in valid range: abs(value) "+Math.abs(fe)+" is not in the range 0 to 59");if(Math.abs(V)>59)throw new Fa("Zone offset seconds not in valid range: abs(value) "+Math.abs(V)+" is not in the range 0 to 59");if(Math.abs(R)===18&&(Math.abs(fe)>0||Math.abs(V)>0))throw new Fa("Zone offset not in valid range: -18:00 to +18:00")},I.of=function(R){Jr(R,"offsetId");var fe=ww[R];if(fe!=null)return fe;var V,Y,e;switch(R.length){case 2:R=R[0]+"0"+R[1];case 3:V=I._parseNumber(R,1,!1),Y=0,e=0;break;case 5:V=I._parseNumber(R,1,!1),Y=I._parseNumber(R,3,!1),e=0;break;case 6:V=I._parseNumber(R,1,!1),Y=I._parseNumber(R,4,!0),e=0;break;case 7:V=I._parseNumber(R,1,!1),Y=I._parseNumber(R,3,!1),e=I._parseNumber(R,5,!1);break;case 9:V=I._parseNumber(R,1,!1),Y=I._parseNumber(R,4,!0),e=I._parseNumber(R,7,!0);break;default:throw new Fa("Invalid ID for ZoneOffset, invalid format: "+R)}var p=R[0];if(p!=="+"&&p!=="-")throw new Fa("Invalid ID for ZoneOffset, plus/minus not found when expected: "+R);return p==="-"?I.ofHoursMinutesSeconds(-V,-Y,-e):I.ofHoursMinutesSeconds(V,Y,e)},I._parseNumber=function(R,fe,V){if(V&&R[fe-1]!==":")throw new Fa("Invalid ID for ZoneOffset, colon not found when expected: "+R);var Y=R[fe],e=R[fe+1];if(Y<"0"||Y>"9"||e<"0"||e>"9")throw new Fa("Invalid ID for ZoneOffset, non numeric characters found: "+R);return(Y.charCodeAt(0)-48)*10+(e.charCodeAt(0)-48)},I.ofHours=function(R){return I.ofHoursMinutesSeconds(R,0,0)},I.ofHoursMinutes=function(R,fe){return I.ofHoursMinutesSeconds(R,fe,0)},I.ofHoursMinutesSeconds=function(R,fe,V){I._validate(R,fe,V);var Y=R*In.SECONDS_PER_HOUR+fe*In.SECONDS_PER_MINUTE+V;return I.ofTotalSeconds(Y)},I.ofTotalMinutes=function(R){var fe=R*In.SECONDS_PER_MINUTE;return I.ofTotalSeconds(fe)},I.ofTotalSeconds=function(R){if(R%(15*In.SECONDS_PER_MINUTE)===0){var fe=R,V=bw[fe];return V==null&&(V=new I(R),bw[fe]=V,ww[V.id()]=V),V}else return new I(R)},G.rules=function(){return this._rules},G.get=function(R){return this.getLong(R)},G.getLong=function(R){if(R===kt.OFFSET_SECONDS)return this._totalSeconds;if(R instanceof kt)throw new Fa("Unsupported field: "+R);return R.getFrom(this)},G.query=function(R){return Jr(R,"query"),R===ia.offset()||R===ia.zone()?this:R===ia.localDate()||R===ia.localTime()||R===ia.precision()||R===ia.chronology()||R===ia.zoneId()?null:R.queryFrom(this)},G.adjustInto=function(R){return R.with(kt.OFFSET_SECONDS,this._totalSeconds)},G.compareTo=function(R){return Jr(R,"other"),R._totalSeconds-this._totalSeconds},G.equals=function(R){return this===R?!0:R instanceof I?this._totalSeconds===R._totalSeconds:!1},G.hashCode=function(){return this._totalSeconds},G.toString=function(){return this._id},I}(Zi);function eE(){ei.MAX_SECONDS=18*In.SECONDS_PER_HOUR,ei.UTC=ei.ofTotalSeconds(0),ei.MIN=ei.ofTotalSeconds(-ei.MAX_SECONDS),ei.MAX=ei.ofTotalSeconds(ei.MAX_SECONDS)}var Ay=function(O){oi(I,O),I.create=function(R,fe){var V=new I;return V._addFieldValue(R,fe),V};function I(){var Z;return Z=O.call(this)||this,Z.fieldValues=new qT,Z.chrono=null,Z.zone=null,Z.date=null,Z.time=null,Z.leapSecond=!1,Z.excessDays=null,Z}var G=I.prototype;return G.getFieldValue0=function(R){return this.fieldValues.get(R)},G._addFieldValue=function(R,fe){Jr(R,"field");var V=this.getFieldValue0(R);if(V!=null&&V!==fe)throw new Fa("Conflict found: "+R+" "+V+" differs from "+R+" "+fe+": "+this);return this._putFieldValue0(R,fe)},G._putFieldValue0=function(R,fe){return this.fieldValues.put(R,fe),this},G.resolve=function(R,fe){return fe!=null&&this.fieldValues.retainAll(fe),this._mergeDate(R),this._mergeTime(R),this._resolveTimeInferZeroes(R),this.excessDays!=null&&this.excessDays.isZero()===!1&&this.date!=null&&this.time!=null&&(this.date=this.date.plus(this.excessDays),this.excessDays=Gc.ZERO),this._resolveInstant(),this},G._mergeDate=function(R){this._checkDate(Xi.INSTANCE.resolveDate(this.fieldValues,R))},G._checkDate=function(R){if(R!=null){this._addObject(R);for(var fe in this.fieldValues.keySet()){var V=kt.byName(fe);if(V&&this.fieldValues.get(V)!==void 0&&V.isDateBased()){var Y=void 0;try{Y=R.getLong(V)}catch(p){if(p instanceof Fa)continue;throw p}var e=this.fieldValues.get(V);if(Y!==e)throw new Fa("Conflict found: Field "+V+" "+Y+" differs from "+V+" "+e+" derived from "+R)}}}},G._mergeTime=function(R){if(this.fieldValues.containsKey(kt.CLOCK_HOUR_OF_DAY)){var fe=this.fieldValues.remove(kt.CLOCK_HOUR_OF_DAY);R!==ni.LENIENT&&(R===ni.SMART&&fe===0||kt.CLOCK_HOUR_OF_DAY.checkValidValue(fe)),this._addFieldValue(kt.HOUR_OF_DAY,fe===24?0:fe)}if(this.fieldValues.containsKey(kt.CLOCK_HOUR_OF_AMPM)){var V=this.fieldValues.remove(kt.CLOCK_HOUR_OF_AMPM);R!==ni.LENIENT&&(R===ni.SMART&&V===0||kt.CLOCK_HOUR_OF_AMPM.checkValidValue(V)),this._addFieldValue(kt.HOUR_OF_AMPM,V===12?0:V)}if(R!==ni.LENIENT&&(this.fieldValues.containsKey(kt.AMPM_OF_DAY)&&kt.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(kt.AMPM_OF_DAY)),this.fieldValues.containsKey(kt.HOUR_OF_AMPM)&&kt.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(kt.HOUR_OF_AMPM))),this.fieldValues.containsKey(kt.AMPM_OF_DAY)&&this.fieldValues.containsKey(kt.HOUR_OF_AMPM)){var Y=this.fieldValues.remove(kt.AMPM_OF_DAY),e=this.fieldValues.remove(kt.HOUR_OF_AMPM);this._addFieldValue(kt.HOUR_OF_DAY,Y*12+e)}if(this.fieldValues.containsKey(kt.NANO_OF_DAY)){var p=this.fieldValues.remove(kt.NANO_OF_DAY);R!==ni.LENIENT&&kt.NANO_OF_DAY.checkValidValue(p),this._addFieldValue(kt.SECOND_OF_DAY,rr.intDiv(p,1e9)),this._addFieldValue(kt.NANO_OF_SECOND,rr.intMod(p,1e9))}if(this.fieldValues.containsKey(kt.MICRO_OF_DAY)){var L=this.fieldValues.remove(kt.MICRO_OF_DAY);R!==ni.LENIENT&&kt.MICRO_OF_DAY.checkValidValue(L),this._addFieldValue(kt.SECOND_OF_DAY,rr.intDiv(L,1e6)),this._addFieldValue(kt.MICRO_OF_SECOND,rr.intMod(L,1e6))}if(this.fieldValues.containsKey(kt.MILLI_OF_DAY)){var o=this.fieldValues.remove(kt.MILLI_OF_DAY);R!==ni.LENIENT&&kt.MILLI_OF_DAY.checkValidValue(o),this._addFieldValue(kt.SECOND_OF_DAY,rr.intDiv(o,1e3)),this._addFieldValue(kt.MILLI_OF_SECOND,rr.intMod(o,1e3))}if(this.fieldValues.containsKey(kt.SECOND_OF_DAY)){var C=this.fieldValues.remove(kt.SECOND_OF_DAY);R!==ni.LENIENT&&kt.SECOND_OF_DAY.checkValidValue(C),this._addFieldValue(kt.HOUR_OF_DAY,rr.intDiv(C,3600)),this._addFieldValue(kt.MINUTE_OF_HOUR,rr.intMod(rr.intDiv(C,60),60)),this._addFieldValue(kt.SECOND_OF_MINUTE,rr.intMod(C,60))}if(this.fieldValues.containsKey(kt.MINUTE_OF_DAY)){var S=this.fieldValues.remove(kt.MINUTE_OF_DAY);R!==ni.LENIENT&&kt.MINUTE_OF_DAY.checkValidValue(S),this._addFieldValue(kt.HOUR_OF_DAY,rr.intDiv(S,60)),this._addFieldValue(kt.MINUTE_OF_HOUR,rr.intMod(S,60))}if(R!==ni.LENIENT&&(this.fieldValues.containsKey(kt.MILLI_OF_SECOND)&&kt.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(kt.MILLI_OF_SECOND)),this.fieldValues.containsKey(kt.MICRO_OF_SECOND)&&kt.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(kt.MICRO_OF_SECOND))),this.fieldValues.containsKey(kt.MILLI_OF_SECOND)&&this.fieldValues.containsKey(kt.MICRO_OF_SECOND)){var v=this.fieldValues.remove(kt.MILLI_OF_SECOND),g=this.fieldValues.get(kt.MICRO_OF_SECOND);this._putFieldValue0(kt.MICRO_OF_SECOND,v*1e3+rr.intMod(g,1e3))}if(this.fieldValues.containsKey(kt.MICRO_OF_SECOND)&&this.fieldValues.containsKey(kt.NANO_OF_SECOND)){var r=this.fieldValues.get(kt.NANO_OF_SECOND);this._putFieldValue0(kt.MICRO_OF_SECOND,rr.intDiv(r,1e3)),this.fieldValues.remove(kt.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(kt.MILLI_OF_SECOND)&&this.fieldValues.containsKey(kt.NANO_OF_SECOND)){var t=this.fieldValues.get(kt.NANO_OF_SECOND);this._putFieldValue0(kt.MILLI_OF_SECOND,rr.intDiv(t,1e6)),this.fieldValues.remove(kt.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(kt.MICRO_OF_SECOND)){var a=this.fieldValues.remove(kt.MICRO_OF_SECOND);this._putFieldValue0(kt.NANO_OF_SECOND,a*1e3)}else if(this.fieldValues.containsKey(kt.MILLI_OF_SECOND)){var n=this.fieldValues.remove(kt.MILLI_OF_SECOND);this._putFieldValue0(kt.NANO_OF_SECOND,n*1e6)}},G._resolveTimeInferZeroes=function(R){var fe=this.fieldValues.get(kt.HOUR_OF_DAY),V=this.fieldValues.get(kt.MINUTE_OF_HOUR),Y=this.fieldValues.get(kt.SECOND_OF_MINUTE),e=this.fieldValues.get(kt.NANO_OF_SECOND);if(fe!=null&&!(V==null&&(Y!=null||e!=null))&&!(V!=null&&Y==null&&e!=null)){if(R!==ni.LENIENT){if(fe!=null){R===ni.SMART&&fe===24&&(V==null||V===0)&&(Y==null||Y===0)&&(e==null||e===0)&&(fe=0,this.excessDays=Gc.ofDays(1));var p=kt.HOUR_OF_DAY.checkValidIntValue(fe);if(V!=null){var L=kt.MINUTE_OF_HOUR.checkValidIntValue(V);if(Y!=null){var o=kt.SECOND_OF_MINUTE.checkValidIntValue(Y);if(e!=null){var C=kt.NANO_OF_SECOND.checkValidIntValue(e);this._addObject(In.of(p,L,o,C))}else this._addObject(In.of(p,L,o))}else e==null&&this._addObject(In.of(p,L))}else Y==null&&e==null&&this._addObject(In.of(p,0))}}else if(fe!=null){var S=fe;if(V!=null)if(Y!=null){e==null&&(e=0);var v=rr.safeMultiply(S,36e11);v=rr.safeAdd(v,rr.safeMultiply(V,6e10)),v=rr.safeAdd(v,rr.safeMultiply(Y,1e9)),v=rr.safeAdd(v,e);var g=rr.floorDiv(v,864e11),r=rr.floorMod(v,864e11);this._addObject(In.ofNanoOfDay(r)),this.excessDays=Gc.ofDays(g)}else{var t=rr.safeMultiply(S,3600);t=rr.safeAdd(t,rr.safeMultiply(V,60));var a=rr.floorDiv(t,86400),n=rr.floorMod(t,86400);this._addObject(In.ofSecondOfDay(n)),this.excessDays=Gc.ofDays(a)}else{var f=rr.safeToInt(rr.floorDiv(S,24));S=rr.floorMod(S,24),this._addObject(In.of(S,0)),this.excessDays=Gc.ofDays(f)}}this.fieldValues.remove(kt.HOUR_OF_DAY),this.fieldValues.remove(kt.MINUTE_OF_HOUR),this.fieldValues.remove(kt.SECOND_OF_MINUTE),this.fieldValues.remove(kt.NANO_OF_SECOND)}},G._addObject=function(R){R instanceof D0?this.date=R:R instanceof In&&(this.time=R)},G._resolveInstant=function(){if(this.date!=null&&this.time!=null){var R=this.fieldValues.get(kt.OFFSET_SECONDS);if(R!=null){var fe=ei.ofTotalSeconds(R),V=this.date.atTime(this.time).atZone(fe).getLong(kt.INSTANT_SECONDS);this.fieldValues.put(kt.INSTANT_SECONDS,V)}else if(this.zone!=null){var Y=this.date.atTime(this.time).atZone(this.zone).getLong(kt.INSTANT_SECONDS);this.fieldValues.put(kt.INSTANT_SECONDS,Y)}}},G.build=function(R){return R.queryFrom(this)},G.isSupported=function(R){return R==null?!1:this.fieldValues.containsKey(R)&&this.fieldValues.get(R)!==void 0||this.date!=null&&this.date.isSupported(R)||this.time!=null&&this.time.isSupported(R)},G.getLong=function(R){Jr(R,"field");var fe=this.getFieldValue0(R);if(fe==null){if(this.date!=null&&this.date.isSupported(R))return this.date.getLong(R);if(this.time!=null&&this.time.isSupported(R))return this.time.getLong(R);throw new Fa("Field not found: "+R)}return fe},G.query=function(R){return R===ia.zoneId()?this.zone:R===ia.chronology()?this.chrono:R===ia.localDate()?this.date!=null?Ja.from(this.date):null:R===ia.localTime()?this.time:R===ia.zone()||R===ia.offset()?R.queryFrom(this):R===ia.precision()?null:R.queryFrom(this)},I}(av),e4=function(){function O(){if(arguments.length===1)if(arguments[0]instanceof O){this._constructorSelf.apply(this,arguments);return}else this._constructorFormatter.apply(this,arguments);else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new Tw(this)]}var I=O.prototype;return I._constructorParam=function(Z,R,fe){this._locale=Z,this._symbols=R,this._overrideChronology=fe},I._constructorFormatter=function(Z){this._locale=Z.locale(),this._symbols=Z.decimalStyle(),this._overrideChronology=Z.chronology()},I._constructorSelf=function(Z){this._locale=Z._locale,this._symbols=Z._symbols,this._overrideChronology=Z._overrideChronology,this._overrideZone=Z._overrideZone,this._caseSensitive=Z._caseSensitive,this._strict=Z._strict,this._parsed=[new Tw(this)]},I.copy=function(){return new O(this)},I.symbols=function(){return this._symbols},I.isStrict=function(){return this._strict},I.setStrict=function(Z){this._strict=Z},I.locale=function(){return this._locale},I.setLocale=function(Z){this._locale=Z},I.startOptional=function(){this._parsed.push(this.currentParsed().copy())},I.endOptional=function(Z){Z?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},I.isCaseSensitive=function(){return this._caseSensitive},I.setCaseSensitive=function(Z){this._caseSensitive=Z},I.subSequenceEquals=function(Z,R,fe,V,Y){if(R+Y>Z.length||V+Y>fe.length)return!1;this.isCaseSensitive()||(Z=Z.toLowerCase(),fe=fe.toLowerCase());for(var e=0;e<Y;e++){var p=Z[R+e],L=fe[V+e];if(p!==L)return!1}return!0},I.charEquals=function(Z,R){return this.isCaseSensitive()?Z===R:this.charEqualsIgnoreCase(Z,R)},I.charEqualsIgnoreCase=function(Z,R){return Z===R||Z.toLowerCase()===R.toLowerCase()},I.setParsedField=function(Z,R,fe,V){var Y=this.currentParsed().fieldValues,e=Y.get(Z);return Y.set(Z,R),e!=null&&e!==R?~fe:V},I.setParsedZone=function(Z){Jr(Z,"zone"),this.currentParsed().zone=Z},I.getParsed=function(Z){return this.currentParsed().fieldValues.get(Z)},I.toParsed=function(){return this.currentParsed()},I.currentParsed=function(){return this._parsed[this._parsed.length-1]},I.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},I.getEffectiveChronology=function(){var Z=this.currentParsed().chrono;return Z==null&&(Z=this._overrideChronology,Z==null&&(Z=Xi.INSTANCE)),Z},O}(),Tw=function(O){oi(I,O);function I(Z){var R;return R=O.call(this)||this,R.chrono=null,R.zone=null,R.fieldValues=new qT,R.leapSecond=!1,R.dateTimeParseContext=Z,R}var G=I.prototype;return G.copy=function(){var R=new I;return R.chrono=this.chrono,R.zone=this.zone,R.fieldValues.putAll(this.fieldValues),R.leapSecond=this.leapSecond,R.dateTimeParseContext=this.dateTimeParseContext,R},G.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},G.isSupported=function(R){return this.fieldValues.containsKey(R)},G.get=function(R){var fe=this.fieldValues.get(R);return $i(fe!=null),fe},G.query=function(R){return R===ia.chronology()?this.chrono:R===ia.zoneId()||R===ia.zone()?this.zone:O.prototype.query.call(this,R)},G.toBuilder=function(){var R=new Ay;return R.fieldValues.putAll(this.fieldValues),R.chrono=this.dateTimeParseContext.getEffectiveChronology(),this.zone!=null?R.zone=this.zone:R.zone=this.overrideZone,R.leapSecond=this.leapSecond,R.excessDays=this.excessDays,R},I}(Yl);/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var t4=function(){function O(G,Z,R){arguments.length===2&&arguments[1]instanceof vi?(this._temporal=O.adjust(G,Z),this._locale=Z.locale(),this._symbols=Z.decimalStyle()):(this._temporal=G,this._locale=Z,this._symbols=R),this._optional=0}O.adjust=function(Z,R){return Z};var I=O.prototype;return I.symbols=function(){return this._symbols},I.startOptional=function(){this._optional++},I.endOptional=function(){this._optional--},I.getValueQuery=function(Z){var R=this._temporal.query(Z);if(R==null&&this._optional===0)throw new Fa("Unable to extract value: "+this._temporal);return R},I.getValue=function(Z){try{return this._temporal.getLong(Z)}catch(R){if(R instanceof Fa&&this._optional>0)return null;throw R}},I.temporal=function(){return this._temporal},I.locale=function(){return this._locale},I.setDateTime=function(Z){this._temporal=Z},I.setLocale=function(Z){this._locale=Z},O}(),xf={},tE=[0,90,181,273,0,91,182,274],uc=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.isDateBased=function(){return!0},G.isTimeBased=function(){return!1},G._isIso=function(){return!0},I._getWeekRangeByLocalDate=function(R){var fe=I._getWeekBasedYear(R);return ii.of(1,I._getWeekRangeByYear(fe))},I._getWeekRangeByYear=function(R){var fe=Ja.of(R,1,1);return fe.dayOfWeek()===uo.THURSDAY||fe.dayOfWeek()===uo.WEDNESDAY&&fe.isLeapYear()?53:52},I._getWeek=function(R){var fe=R.dayOfWeek().ordinal(),V=R.dayOfYear()-1,Y=V+(3-fe),e=rr.intDiv(Y,7),p=Y-e*7,L=p-3;if(L<-3&&(L+=7),V<L)return I._getWeekRangeByLocalDate(R.withDayOfYear(180).minusYears(1)).maximum();var o=rr.intDiv(V-L,7)+1;return o===53&&(L===-3||L===-2&&R.isLeapYear())===!1&&(o=1),o},I._getWeekBasedYear=function(R){var fe=R.year(),V=R.dayOfYear();if(V<=3){var Y=R.dayOfWeek().ordinal();V-Y<-2&&fe--}else if(V>=363){var e=R.dayOfWeek().ordinal();V=V-363-(R.isLeapYear()?1:0),V-e>=0&&fe++}return fe},G.displayName=function(){return this.toString()},G.resolve=function(){return null},G.name=function(){return this.toString()},I}(lc),rE=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.toString=function(){return"DayOfQuarter"},G.baseUnit=function(){return zr.DAYS},G.rangeUnit=function(){return sp},G.range=function(){return ii.of(1,90,92)},G.isSupportedBy=function(R){return R.isSupported(kt.DAY_OF_YEAR)&&R.isSupported(kt.MONTH_OF_YEAR)&&R.isSupported(kt.YEAR)&&this._isIso(R)},G.rangeRefinedBy=function(R){if(R.isSupported(this)===!1)throw new Ci("Unsupported field: DayOfQuarter");var fe=R.getLong(zv);if(fe===1){var V=R.getLong(kt.YEAR);return Xi.isLeapYear(V)?ii.of(1,91):ii.of(1,90)}else{if(fe===2)return ii.of(1,91);if(fe===3||fe===4)return ii.of(1,92)}return this.range()},G.getFrom=function(R){if(R.isSupported(this)===!1)throw new Ci("Unsupported field: DayOfQuarter");var fe=R.get(kt.DAY_OF_YEAR),V=R.get(kt.MONTH_OF_YEAR),Y=R.getLong(kt.YEAR);return fe-tE[rr.intDiv(V-1,3)+(Xi.isLeapYear(Y)?4:0)]},G.adjustInto=function(R,fe){var V=this.getFrom(R);return this.range().checkValidValue(fe,this),R.with(kt.DAY_OF_YEAR,R.getLong(kt.DAY_OF_YEAR)+(fe-V))},G.resolve=function(R,fe,V){var Y=R.get(kt.YEAR),e=R.get(zv);if(Y==null||e==null)return null;var p=kt.YEAR.checkValidIntValue(Y),L=R.get(Z1),o;if(V===ni.LENIENT){var C=e;o=Ja.of(p,1,1),o=o.plusMonths(rr.safeMultiply(rr.safeSubtract(C,1),3)),o=o.plusDays(rr.safeSubtract(L,1))}else{var S=zv.range().checkValidIntValue(e,zv);if(V===ni.STRICT){var v=92;S===1?v=Xi.isLeapYear(p)?91:90:S===2&&(v=91),ii.of(1,v).checkValidValue(L,this)}else this.range().checkValidValue(L,this);o=Ja.of(p,(S-1)*3+1,1).plusDays(L-1)}return R.remove(this),R.remove(kt.YEAR),R.remove(zv),o},I}(uc),nE=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.toString=function(){return"QuarterOfYear"},G.baseUnit=function(){return sp},G.rangeUnit=function(){return zr.YEARS},G.range=function(){return ii.of(1,4)},G.isSupportedBy=function(R){return R.isSupported(kt.MONTH_OF_YEAR)&&this._isIso(R)},G.rangeRefinedBy=function(R){return this.range()},G.getFrom=function(R){if(R.isSupported(this)===!1)throw new Ci("Unsupported field: QuarterOfYear");var fe=R.getLong(kt.MONTH_OF_YEAR);return rr.intDiv(fe+2,3)},G.adjustInto=function(R,fe){var V=this.getFrom(R);return this.range().checkValidValue(fe,this),R.with(kt.MONTH_OF_YEAR,R.getLong(kt.MONTH_OF_YEAR)+(fe-V)*3)},I}(uc),aE=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.toString=function(){return"WeekOfWeekBasedYear"},G.baseUnit=function(){return zr.WEEKS},G.rangeUnit=function(){return op},G.range=function(){return ii.of(1,52,53)},G.isSupportedBy=function(R){return R.isSupported(kt.EPOCH_DAY)&&this._isIso(R)},G.rangeRefinedBy=function(R){if(R.isSupported(this)===!1)throw new Ci("Unsupported field: WeekOfWeekBasedYear");return uc._getWeekRangeByLocalDate(Ja.from(R))},G.getFrom=function(R){if(R.isSupported(this)===!1)throw new Ci("Unsupported field: WeekOfWeekBasedYear");return uc._getWeek(Ja.from(R))},G.adjustInto=function(R,fe){return this.range().checkValidValue(fe,this),R.plus(rr.safeSubtract(fe,this.getFrom(R)),zr.WEEKS)},G.resolve=function(R,fe,V){var Y=R.get(Mf),e=R.get(kt.DAY_OF_WEEK);if(Y==null||e==null)return null;var p=Mf.range().checkValidIntValue(Y,Mf),L=R.get(j1),o;if(V===ni.LENIENT){var C=e,S=0;C>7?(S=rr.intDiv(C-1,7),C=rr.intMod(C-1,7)+1):C<1&&(S=rr.intDiv(C,7)-1,C=rr.intMod(C,7)+7),o=Ja.of(p,1,4).plusWeeks(L-1).plusWeeks(S).with(kt.DAY_OF_WEEK,C)}else{var v=kt.DAY_OF_WEEK.checkValidIntValue(e);if(V===ni.STRICT){var g=Ja.of(p,1,4),r=uc._getWeekRangeByLocalDate(g);r.checkValidValue(L,this)}else this.range().checkValidValue(L,this);o=Ja.of(p,1,4).plusWeeks(L-1).with(kt.DAY_OF_WEEK,v)}return R.remove(this),R.remove(Mf),R.remove(kt.DAY_OF_WEEK),o},G.displayName=function(){return"Week"},I}(uc),iE=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.toString=function(){return"WeekBasedYear"},G.baseUnit=function(){return op},G.rangeUnit=function(){return zr.FOREVER},G.range=function(){return kt.YEAR.range()},G.isSupportedBy=function(R){return R.isSupported(kt.EPOCH_DAY)&&this._isIso(R)},G.rangeRefinedBy=function(R){return kt.YEAR.range()},G.getFrom=function(R){if(R.isSupported(this)===!1)throw new Ci("Unsupported field: WeekBasedYear");return uc._getWeekBasedYear(Ja.from(R))},G.adjustInto=function(R,fe){if(this.isSupportedBy(R)===!1)throw new Ci("Unsupported field: WeekBasedYear");var V=this.range().checkValidIntValue(fe,Mf),Y=Ja.from(R),e=Y.get(kt.DAY_OF_WEEK),p=uc._getWeek(Y);p===53&&uc._getWeekRangeByYear(V)===52&&(p=52);var L=Ja.of(V,1,4),o=e-L.get(kt.DAY_OF_WEEK)+(p-1)*7;return L=L.plusDays(o),R.with(L)},I}(uc),Aw=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._name=Z,fe._duration=R,fe}var G=I.prototype;return G.duration=function(){return this._duration},G.isDurationEstimated=function(){return!0},G.isDateBased=function(){return!0},G.isTimeBased=function(){return!1},G.isSupportedBy=function(R){return R.isSupported(kt.EPOCH_DAY)},G.addTo=function(R,fe){switch(this){case op:{var V=rr.safeAdd(R.get(Mf),fe);return R.with(Mf,V)}case sp:return R.plus(rr.intDiv(fe,256),zr.YEARS).plus(rr.intMod(fe,256)*3,zr.MONTHS);default:throw new C0("Unreachable")}},G.between=function(R,fe){switch(this){case op:return rr.safeSubtract(fe.getLong(Mf),R.getLong(Mf));case sp:return rr.intDiv(R.until(fe,zr.MONTHS),3);default:throw new C0("Unreachable")}},G.toString=function(){return this._name},I}(eh),Z1=null,zv=null,j1=null,Mf=null,op=null,sp=null;function oE(){Z1=new rE,zv=new nE,j1=new aE,Mf=new iE,op=new Aw("WeekBasedYears",Vo.ofSeconds(31556952)),sp=new Aw("QuarterYears",Vo.ofSeconds(31556952/4)),xf.DAY_OF_QUARTER=Z1,xf.QUARTER_OF_YEAR=zv,xf.WEEK_OF_WEEK_BASED_YEAR=j1,xf.WEEK_BASED_YEAR=Mf,xf.WEEK_BASED_YEARS=op,xf.QUARTER_YEARS=sp,Ja.prototype.isoWeekOfWeekyear=function(){return this.get(xf.WEEK_OF_WEEK_BASED_YEAR)},Ja.prototype.isoWeekyear=function(){return this.get(xf.WEEK_BASED_YEAR)}}/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Sy=function(){function O(G,Z,R,fe){this._zeroDigit=G,this._zeroDigitCharCode=G.charCodeAt(0),this._positiveSign=Z,this._negativeSign=R,this._decimalSeparator=fe}var I=O.prototype;return I.positiveSign=function(){return this._positiveSign},I.withPositiveSign=function(Z){return Z===this._positiveSign?this:new O(this._zeroDigit,Z,this._negativeSign,this._decimalSeparator)},I.negativeSign=function(){return this._negativeSign},I.withNegativeSign=function(Z){return Z===this._negativeSign?this:new O(this._zeroDigit,this._positiveSign,Z,this._decimalSeparator)},I.zeroDigit=function(){return this._zeroDigit},I.withZeroDigit=function(Z){return Z===this._zeroDigit?this:new O(Z,this._positiveSign,this._negativeSign,this._decimalSeparator)},I.decimalSeparator=function(){return this._decimalSeparator},I.withDecimalSeparator=function(Z){return Z===this._decimalSeparator?this:new O(this._zeroDigit,this._positiveSign,this._negativeSign,Z)},I.convertToDigit=function(Z){var R=Z.charCodeAt(0)-this._zeroDigitCharCode;return R>=0&&R<=9?R:-1},I.convertNumberToI18N=function(Z){if(this._zeroDigit==="0")return Z;for(var R=this._zeroDigitCharCode-48,fe="",V=0;V<Z.length;V++)fe+=String.fromCharCode(Z.charCodeAt(V)+R);return fe},I.equals=function(Z){return this===Z?!0:Z instanceof O?this._zeroDigit===Z._zeroDigit&&this._positiveSign===Z._positiveSign&&this._negativeSign===Z._negativeSign&&this._decimalSeparator===Z._decimalSeparator:!1},I.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},I.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},O.of=function(){throw new Error("not yet supported")},O.availableLocales=function(){throw new Error("not yet supported")},O}();Sy.STANDARD=new Sy("0","+","-",".");var ki=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.parse=function(R,fe,V){switch(this){case I.NORMAL:return!R||!fe;case I.ALWAYS:case I.EXCEEDS_PAD:return!0;default:return!fe&&!V}},I}(cp);ki.NORMAL=new ki("NORMAL");ki.NEVER=new ki("NEVER");ki.ALWAYS=new ki("ALWAYS");ki.EXCEEDS_PAD=new ki("EXCEEDS_PAD");ki.NOT_NEGATIVE=new ki("NOT_NEGATIVE");var Bi=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.isStandalone=function(){switch(this){case I.FULL_STANDALONE:case I.SHORT_STANDALONE:case I.NARROW_STANDALONE:return!0;default:return!1}},G.asStandalone=function(){switch(this){case I.FULL:return I.FULL_STANDALONE;case I.SHORT:return I.SHORT_STANDALONE;case I.NARROW:return I.NARROW_STANDALONE;default:return this}},G.asNormal=function(){switch(this){case I.FULL_STANDALONE:return I.FULL;case I.SHORT_STANDALONE:return I.SHORT;case I.NARROW_STANDALONE:return I.NARROW;default:return this}},I}(cp);Bi.FULL=new Bi("FULL");Bi.FULL_STANDALONE=new Bi("FULL_STANDALONE");Bi.SHORT=new Bi("SHORT");Bi.SHORT_STANDALONE=new Bi("SHORT_STANDALONE");Bi.NARROW=new Bi("NARROW");Bi.NARROW_STANDALONE=new Bi("NARROW_STANDALONE");/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var r4=function(){function O(G){if(G.length>1)throw new Ka('invalid literal, too long: "'+G+'"');this._literal=G}var I=O.prototype;return I.print=function(Z,R){return R.append(this._literal),!0},I.parse=function(Z,R,fe){var V=R.length;if(fe===V)return~fe;var Y=R.charAt(fe);return Z.charEquals(this._literal,Y)===!1?~fe:fe+this._literal.length},I.toString=function(){return this._literal==="'"?"''":"'"+this._literal+"'"},O}();/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var K1=function(){function O(G,Z){this._printerParsers=G,this._optional=Z}var I=O.prototype;return I.withOptional=function(Z){return Z===this._optional?this:new O(this._printerParsers,Z)},I.print=function(Z,R){var fe=R.length();this._optional&&Z.startOptional();try{for(var V=0;V<this._printerParsers.length;V++){var Y=this._printerParsers[V];if(Y.print(Z,R)===!1)return R.setLength(fe),!0}}finally{this._optional&&Z.endOptional()}return!0},I.parse=function(Z,R,fe){if(this._optional){Z.startOptional();for(var V=fe,Y=0;Y<this._printerParsers.length;Y++){var e=this._printerParsers[Y];if(V=e.parse(Z,R,V),V<0)return Z.endOptional(!1),fe}return Z.endOptional(!0),V}else{for(var p=0;p<this._printerParsers.length;p++){var L=this._printerParsers[p];if(fe=L.parse(Z,R,fe),fe<0)break}return fe}},I.toString=function(){var Z="";if(this._printerParsers!=null){Z+=this._optional?"[":"(";for(var R=0;R<this._printerParsers.length;R++){var fe=this._printerParsers[R];Z+=fe.toString()}Z+=this._optional?"]":")"}return Z},O}();/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var n4=function(){function O(G,Z,R,fe){if(Jr(G,"field"),G.range().isFixed()===!1)throw new Ka("Field must have a fixed set of values: "+G);if(Z<0||Z>9)throw new Ka("Minimum width must be from 0 to 9 inclusive but was "+Z);if(R<1||R>9)throw new Ka("Maximum width must be from 1 to 9 inclusive but was "+R);if(R<Z)throw new Ka("Maximum width must exceed or equal the minimum width but "+R+" < "+Z);this.field=G,this.minWidth=Z,this.maxWidth=R,this.decimalPoint=fe}var I=O.prototype;return I.print=function(Z,R){var fe=Z.getValue(this.field);if(fe===null)return!1;var V=Z.symbols();if(fe===0){if(this.minWidth>0){this.decimalPoint&&R.append(V.decimalSeparator());for(var Y=0;Y<this.minWidth;Y++)R.append(V.zeroDigit())}}else{var e=this.convertToFraction(fe,V.zeroDigit()),p=Math.min(Math.max(e.length,this.minWidth),this.maxWidth);if(e=e.substr(0,p),e*1>0)for(;e.length>this.minWidth&&e[e.length-1]==="0";)e=e.substr(0,e.length-1);var L=e;L=V.convertNumberToI18N(L),this.decimalPoint&&R.append(V.decimalSeparator()),R.append(L)}return!0},I.parse=function(Z,R,fe){var V=Z.isStrict()?this.minWidth:0,Y=Z.isStrict()?this.maxWidth:9,e=R.length;if(fe===e)return V>0?~fe:fe;if(this.decimalPoint){if(R[fe]!==Z.symbols().decimalSeparator())return V>0?~fe:fe;fe++}var p=fe+V;if(p>e)return~fe;for(var L=Math.min(fe+Y,e),o=0,C=fe;C<L;){var S=R.charAt(C++),v=Z.symbols().convertToDigit(S);if(v<0){if(C<p)return~fe;C--;break}o=o*10+v}var g=C-fe,r=Math.pow(10,g),t=this.convertFromFraction(o,r);return Z.setParsedField(this.field,t,fe,C)},I.convertToFraction=function(Z,R){var fe=this.field.range();fe.checkValidValue(Z,this.field);for(var V=fe.minimum(),Y=fe.maximum()-V+1,e=Z-V,p=rr.intDiv(e*1e9,Y),L=""+p;L.length<9;)L=R+L;return L},I.convertFromFraction=function(Z,R){var fe=this.field.range(),V=fe.minimum(),Y=fe.maximum()-V+1,e=rr.intDiv(Z*Y,R);return e},I.toString=function(){var Z=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+Z+")"},O}(),Zm=15,Dd=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],Yd=function(){function O(G,Z,R,fe,V){V===void 0&&(V=0),this._field=G,this._minWidth=Z,this._maxWidth=R,this._signStyle=fe,this._subsequentWidth=V}var I=O.prototype;return I.field=function(){return this._field},I.minWidth=function(){return this._minWidth},I.maxWidth=function(){return this._maxWidth},I.signStyle=function(){return this._signStyle},I.withFixedWidth=function(){return this._subsequentWidth===-1?this:new O(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},I.withSubsequentWidth=function(Z){return new O(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+Z)},I._isFixedWidth=function(){return this._subsequentWidth===-1||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===ki.NOT_NEGATIVE},I.print=function(Z,R){var fe=Z.getValue(this._field);if(fe==null)return!1;var V=this._getValue(Z,fe),Y=Z.symbols(),e=""+Math.abs(V);if(e.length>this._maxWidth)throw new Fa("Field "+this._field+" cannot be printed as the value "+V+" exceeds the maximum print width of "+this._maxWidth);if(e=Y.convertNumberToI18N(e),V>=0)switch(this._signStyle){case ki.EXCEEDS_PAD:this._minWidth<Zm&&V>=Dd[this._minWidth]&&R.append(Y.positiveSign());break;case ki.ALWAYS:R.append(Y.positiveSign());break}else switch(this._signStyle){case ki.NORMAL:case ki.EXCEEDS_PAD:case ki.ALWAYS:R.append(Y.negativeSign());break;case ki.NOT_NEGATIVE:throw new Fa("Field "+this._field+" cannot be printed as the value "+V+" cannot be negative according to the SignStyle")}for(var p=0;p<this._minWidth-e.length;p++)R.append(Y.zeroDigit());return R.append(e),!0},I.parse=function(Z,R,fe){var V=R.length;if(fe===V)return~fe;$i(fe>=0&&fe<V);var Y=R.charAt(fe),e=!1,p=!1;if(Y===Z.symbols().positiveSign()){if(this._signStyle.parse(!0,Z.isStrict(),this._minWidth===this._maxWidth)===!1)return~fe;p=!0,fe++}else if(Y===Z.symbols().negativeSign()){if(this._signStyle.parse(!1,Z.isStrict(),this._minWidth===this._maxWidth)===!1)return~fe;e=!0,fe++}else if(this._signStyle===ki.ALWAYS&&Z.isStrict())return~fe;var L=Z.isStrict()||this._isFixedWidth()?this._minWidth:1,o=fe+L;if(o>V)return~fe;for(var C=(Z.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),S=0,v=fe,g=0;g<2;g++){for(var r=Math.min(v+C,V);v<r;){var t=R.charAt(v++),a=Z.symbols().convertToDigit(t);if(a<0){if(v--,v<o)return~fe;break}if(v-fe>Zm)throw new nc("number text exceeds length");S=S*10+a}if(this._subsequentWidth>0&&g===0){var n=v-fe;C=Math.max(L,n-this._subsequentWidth),v=fe,S=0}else break}if(e){if(S===0&&Z.isStrict())return~(fe-1);S!==0&&(S=-S)}else if(this._signStyle===ki.EXCEEDS_PAD&&Z.isStrict()){var f=v-fe;if(p){if(f<=this._minWidth)return~(fe-1)}else if(f>this._minWidth)return~fe}return this._setValue(Z,S,fe,v)},I._getValue=function(Z,R){return R},I._setValue=function(Z,R,fe,V){return Z.setParsedField(this._field,R,fe,V)},I.toString=function(){return this._minWidth===1&&this._maxWidth===Zm&&this._signStyle===ki.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===ki.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},O}(),u0=function(O){oi(I,O);function I(Z,R,fe,V,Y){var e;if(e=O.call(this,Z,R,fe,ki.NOT_NEGATIVE)||this,R<1||R>10)throw new Ka("The width must be from 1 to 10 inclusive but was "+R);if(fe<1||fe>10)throw new Ka("The maxWidth must be from 1 to 10 inclusive but was "+fe);if(fe<R)throw new Ka("The maxWidth must be greater than the width");if(Y===null){if(Z.range().isValidValue(V)===!1)throw new Ka("The base value must be within the range of the field");if(V+Dd[R]>rr.MAX_SAFE_INTEGER)throw new Fa("Unable to add printer-parser as the range exceeds the capacity of an int")}return e._baseValue=V,e._baseDate=Y,e}var G=I.prototype;return G._getValue=function(R,fe){var V=Math.abs(fe),Y=this._baseValue;if(this._baseDate!==null){R.temporal();var e=Xi.INSTANCE;Y=e.date(this._baseDate).get(this._field)}return fe>=Y&&fe<Y+Dd[this._minWidth]?V%Dd[this._minWidth]:V%Dd[this._maxWidth]},G._setValue=function(R,fe,V,Y){var e=this._baseValue;if(this._baseDate!=null){var p=R.getEffectiveChronology();e=p.date(this._baseDate).get(this._field)}var L=Y-V;if(L===this._minWidth&&fe>=0){var o=Dd[this._minWidth],C=e%o,S=e-C;e>0?fe=S+fe:fe=S-fe,fe<e&&(fe+=o)}return R.setParsedField(this._field,fe,V,Y)},G.withFixedWidth=function(){return this._subsequentWidth===-1?this:new I(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},G.withSubsequentWidth=function(R){return new I(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+R)},G.isFixedWidth=function(R){return R.isStrict()===!1?!1:O.prototype.isFixedWidth.call(this,R)},G.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(this._baseDate!=null?this._baseDate:this._baseValue)+")"},I}(Yd);/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Qg=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],fc=function(){function O(G,Z){Jr(G,"noOffsetText"),Jr(Z,"pattern"),this.noOffsetText=G,this.type=this._checkPattern(Z)}var I=O.prototype;return I._checkPattern=function(Z){for(var R=0;R<Qg.length;R++)if(Qg[R]===Z)return R;throw new Ka("Invalid zone offset pattern: "+Z)},I.print=function(Z,R){var fe=Z.getValue(kt.OFFSET_SECONDS);if(fe==null)return!1;var V=rr.safeToInt(fe);if(V===0)R.append(this.noOffsetText);else{var Y=Math.abs(rr.intMod(rr.intDiv(V,3600),100)),e=Math.abs(rr.intMod(rr.intDiv(V,60),60)),p=Math.abs(rr.intMod(V,60)),L=R.length(),o=Y;R.append(V<0?"-":"+").appendChar(rr.intDiv(Y,10)+"0").appendChar(rr.intMod(Y,10)+"0"),(this.type>=3||this.type>=1&&e>0)&&(R.append(this.type%2===0?":":"").appendChar(rr.intDiv(e,10)+"0").appendChar(e%10+"0"),o+=e,(this.type>=7||this.type>=5&&p>0)&&(R.append(this.type%2===0?":":"").appendChar(rr.intDiv(p,10)+"0").appendChar(p%10+"0"),o+=p)),o===0&&(R.setLength(L),R.append(this.noOffsetText))}return!0},I.parse=function(Z,R,fe){var V=R.length,Y=this.noOffsetText.length;if(Y===0){if(fe===V)return Z.setParsedField(kt.OFFSET_SECONDS,0,fe,fe)}else{if(fe===V)return~fe;if(Z.subSequenceEquals(R,fe,this.noOffsetText,0,Y))return Z.setParsedField(kt.OFFSET_SECONDS,0,fe,fe+Y)}var e=R[fe];if(e==="+"||e==="-"){var p=e==="-"?-1:1,L=[0,0,0,0];if(L[0]=fe+1,(this._parseNumber(L,1,R,!0)||this._parseNumber(L,2,R,this.type>=3)||this._parseNumber(L,3,R,!1))===!1){var o=rr.safeZero(p*(L[1]*3600+L[2]*60+L[3]));return Z.setParsedField(kt.OFFSET_SECONDS,o,fe,L[0])}}return Y===0?Z.setParsedField(kt.OFFSET_SECONDS,0,fe,fe+Y):~fe},I._parseNumber=function(Z,R,fe,V){if((this.type+3)/2<R)return!1;var Y=Z[0];if(this.type%2===0&&R>1){if(Y+1>fe.length||fe[Y]!==":")return V;Y++}if(Y+2>fe.length)return V;var e=fe[Y++],p=fe[Y++];if(e<"0"||e>"9"||p<"0"||p>"9")return V;var L=(e.charCodeAt(0)-48)*10+(p.charCodeAt(0)-48);return L<0||L>59?V:(Z[R]=L,Z[0]=Y,!1)},I.toString=function(){var Z=this.noOffsetText.replace("'","''");return"Offset("+Qg[this.type]+",'"+Z+"')"},O}();fc.INSTANCE_ID=new fc("Z","+HH:MM:ss");fc.PATTERNS=Qg;/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var J1=function(){function O(G,Z,R){this._printerParser=G,this._padWidth=Z,this._padChar=R}var I=O.prototype;return I.print=function(Z,R){var fe=R.length();if(this._printerParser.print(Z,R)===!1)return!1;var V=R.length()-fe;if(V>this._padWidth)throw new Fa("Cannot print as output of "+V+" characters exceeds pad width of "+this._padWidth);for(var Y=0;Y<this._padWidth-V;Y++)R.insert(fe,this._padChar);return!0},I.parse=function(Z,R,fe){var V=Z.isStrict(),Y=Z.isCaseSensitive();if($i(!(fe>R.length)),$i(fe>=0),fe===R.length)return~fe;var e=fe+this._padWidth;if(e>R.length){if(V)return~fe;e=R.length}for(var p=fe;p<e&&(Y?R[p]===this._padChar:Z.charEquals(R[p],this._padChar));)p++;R=R.substring(0,e);var L=this._printerParser.parse(Z,R,p);return L!==e&&V?~(fe+p):L},I.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(this._padChar===" "?")":",'"+this._padChar+"')")},O}(),su=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.print=function(){return!0},G.parse=function(R,fe,V){switch(this){case I.SENSITIVE:R.setCaseSensitive(!0);break;case I.INSENSITIVE:R.setCaseSensitive(!1);break;case I.STRICT:R.setStrict(!0);break;case I.LENIENT:R.setStrict(!1);break}return V},G.toString=function(){switch(this){case I.SENSITIVE:return"ParseCaseSensitive(true)";case I.INSENSITIVE:return"ParseCaseSensitive(false)";case I.STRICT:return"ParseStrict(true)";case I.LENIENT:return"ParseStrict(false)"}},I}(cp);su.SENSITIVE=new su("SENSITIVE");su.INSENSITIVE=new su("INSENSITIVE");su.STRICT=new su("STRICT");su.LENIENT=new su("LENIENT");/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Q1=function(){function O(G){this._literal=G}var I=O.prototype;return I.print=function(Z,R){return R.append(this._literal),!0},I.parse=function(Z,R,fe){var V=R.length;return $i(!(fe>V||fe<0)),Z.subSequenceEquals(R,fe,this._literal,0,this._literal.length)===!1?~fe:fe+this._literal.length},I.toString=function(){var Z=this._literal.replace("'","''");return"'"+Z+"'"},O}();/*
 * @copyright (c) 2016, Philipp Thürwächter, Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Yy=function(){function O(){}return O.getRules=function(G){throw new Fa("unsupported ZoneId:"+G)},O.getAvailableZoneIds=function(){return[]},O}(),rc=function(O){oi(I,O),I.ofId=function(R){var fe=Yy.getRules(R);return new I(R,fe)};function I(Z,R){var fe;return fe=O.call(this)||this,fe._id=Z,fe._rules=R,fe}var G=I.prototype;return G.id=function(){return this._id},G.rules=function(){return this._rules},I}(Zi);/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var a4=function(){function O(G,Z){this.query=G,this.description=Z}var I=O.prototype;return I.print=function(Z,R){var fe=Z.getValueQuery(this.query);return fe==null?!1:(R.append(fe.id()),!0)},I.parse=function(Z,R,fe){var V=R.length;if(fe>V||fe===V)return~fe;var Y=R.charAt(fe);if(Y==="+"||Y==="-"){var e=Z.copy(),p=fc.INSTANCE_ID.parse(e,R,fe);if(p<0)return p;var L=e.getParsed(kt.OFFSET_SECONDS),o=ei.ofTotalSeconds(L);return Z.setParsedZone(o),p}else if(V>=fe+2){var C=R.charAt(fe+1);if(Z.charEquals(Y,"U")&&Z.charEquals(C,"T"))return V>=fe+3&&Z.charEquals(R.charAt(fe+2),"C")?this._parsePrefixedOffset(Z,R,fe,fe+3):this._parsePrefixedOffset(Z,R,fe,fe+2);if(Z.charEquals(Y,"G")&&V>=fe+3&&Z.charEquals(C,"M")&&Z.charEquals(R.charAt(fe+2),"T"))return this._parsePrefixedOffset(Z,R,fe,fe+3)}if(R.substr(fe,6)==="SYSTEM")return Z.setParsedZone(Zi.systemDefault()),fe+6;if(Z.charEquals(Y,"Z"))return Z.setParsedZone(ei.UTC),fe+1;var S=Yy.getAvailableZoneIds();jm.size!==S.length&&(jm=i4.createTreeMap(S));for(var v=V-fe,g=jm.treeMap,r=null,t=0;g!=null;){var a=R.substr(fe,Math.min(g.length,v));g=g.get(a),g!=null&&g.isLeaf&&(r=a,t=g.length)}return r!=null?(Z.setParsedZone(rc.ofId(r)),fe+t):~fe},I._parsePrefixedOffset=function(Z,R,fe,V){var Y=R.substring(fe,V).toUpperCase(),e=Z.copy();if(V<R.length&&Z.charEquals(R.charAt(V),"Z"))return Z.setParsedZone(Zi.ofOffset(Y,ei.UTC)),V;var p=fc.INSTANCE_ID.parse(e,R,V);if(p<0)return Z.setParsedZone(Zi.ofOffset(Y,ei.UTC)),V;var L=e.getParsed(kt.OFFSET_SECONDS),o=ei.ofTotalSeconds(L);return Z.setParsedZone(Zi.ofOffset(Y,o)),p},I.toString=function(){return this.description},O}(),i4=function(){O.createTreeMap=function(G){for(var Z=G.sort(function(V,Y){return V.length-Y.length}),R=new sE(Z[0].length,!1),fe=0;fe<Z.length;fe++)R.add(Z[fe]);return new O(Z.length,R)};function O(I,G){this.size=I,this.treeMap=G}return O}(),sE=function(){function O(G,Z){G===void 0&&(G=0),Z===void 0&&(Z=!1),this.length=G,this.isLeaf=Z,this._treeMap={}}var I=O.prototype;return I.add=function(Z){var R=Z.length;if(R===this.length)this._treeMap[Z]=new O(R,!0);else if(R>this.length){var fe=Z.substr(0,this.length),V=this._treeMap[fe];V==null&&(V=new O(R,!1),this._treeMap[fe]=V),V.add(Z)}},I.get=function(Z){return this._treeMap[Z]},O}(),jm=new i4([]);/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Uc=15,Qi=function(){function O(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}O._of=function(Z,R){Jr(Z,"parent"),Jr(R,"optional");var fe=new O;return fe._parent=Z,fe._optional=R,fe};var I=O.prototype;return I.parseCaseSensitive=function(){return this._appendInternalPrinterParser(su.SENSITIVE),this},I.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(su.INSENSITIVE),this},I.parseStrict=function(){return this._appendInternalPrinterParser(su.STRICT),this},I.parseLenient=function(){return this._appendInternalPrinterParser(su.LENIENT),this},I.parseDefaulting=function(Z,R){return Jr(Z),this._appendInternal(new uE(Z,R)),this},I.appendValue=function(){return arguments.length===1?this._appendValue1.apply(this,arguments):arguments.length===2?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},I._appendValue1=function(Z){return Jr(Z),this._appendValuePrinterParser(new Yd(Z,1,Uc,ki.NORMAL)),this},I._appendValue2=function(Z,R){if(Jr(Z),R<1||R>Uc)throw new Ka("The width must be from 1 to "+Uc+" inclusive but was "+R);var fe=new Yd(Z,R,R,ki.NOT_NEGATIVE);return this._appendValuePrinterParser(fe),this},I._appendValue4=function(Z,R,fe,V){if(Jr(Z),Jr(V),R===fe&&V===ki.NOT_NEGATIVE)return this._appendValue2(Z,fe);if(R<1||R>Uc)throw new Ka("The minimum width must be from 1 to "+Uc+" inclusive but was "+R);if(fe<1||fe>Uc)throw new Ka("The minimum width must be from 1 to "+Uc+" inclusive but was "+fe);if(fe<R)throw new Ka("The maximum width must exceed or equal the minimum width but "+fe+" < "+R);var Y=new Yd(Z,R,fe,V);return this._appendValuePrinterParser(Y),this},I.appendValueReduced=function(){return arguments.length===4&&arguments[3]instanceof D0?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},I._appendValueReducedFieldWidthMaxWidthBaseValue=function(Z,R,fe,V){Jr(Z,"field");var Y=new u0(Z,R,fe,V,null);return this._appendValuePrinterParser(Y),this},I._appendValueReducedFieldWidthMaxWidthBaseDate=function(Z,R,fe,V){Jr(Z,"field"),Jr(V,"baseDate"),Xa(V,D0,"baseDate");var Y=new u0(Z,R,fe,0,V);return this._appendValuePrinterParser(Y),this},I._appendValuePrinterParser=function(Z){if($i(Z!=null),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof Yd){var R=this._active._valueParserIndex,fe=this._active._printerParsers[R];Z.minWidth()===Z.maxWidth()&&Z.signStyle()===ki.NOT_NEGATIVE?(fe=fe.withSubsequentWidth(Z.maxWidth()),this._appendInternal(Z.withFixedWidth()),this._active._valueParserIndex=R):(fe=fe.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(Z)),this._active._printerParsers[R]=fe}else this._active._valueParserIndex=this._appendInternal(Z);return this},I.appendFraction=function(Z,R,fe,V){return this._appendInternal(new n4(Z,R,fe,V)),this},I.appendInstant=function(Z){if(Z===void 0&&(Z=-2),Z<-2||Z>9)throw new Ka("Invalid fractional digits: "+Z);return this._appendInternal(new lE(Z)),this},I.appendOffsetId=function(){return this._appendInternal(fc.INSTANCE_ID),this},I.appendOffset=function(Z,R){return this._appendInternalPrinterParser(new fc(R,Z)),this},I.appendZoneId=function(){return this._appendInternal(new a4(ia.zoneId(),"ZoneId()")),this},I.appendPattern=function(Z){return Jr(Z,"pattern"),this._parsePattern(Z),this},I.appendZoneText=function(){throw new Ka("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},I.appendText=function(){throw new Ka("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},I.appendLocalizedOffset=function(){throw new Ka("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},I.appendWeekField=function(){throw new Ka("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},I._parsePattern=function(Z){for(var R={G:kt.ERA,y:kt.YEAR_OF_ERA,u:kt.YEAR,Q:xf.QUARTER_OF_YEAR,q:xf.QUARTER_OF_YEAR,M:kt.MONTH_OF_YEAR,L:kt.MONTH_OF_YEAR,D:kt.DAY_OF_YEAR,d:kt.DAY_OF_MONTH,F:kt.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:kt.DAY_OF_WEEK,c:kt.DAY_OF_WEEK,e:kt.DAY_OF_WEEK,a:kt.AMPM_OF_DAY,H:kt.HOUR_OF_DAY,k:kt.CLOCK_HOUR_OF_DAY,K:kt.HOUR_OF_AMPM,h:kt.CLOCK_HOUR_OF_AMPM,m:kt.MINUTE_OF_HOUR,s:kt.SECOND_OF_MINUTE,S:kt.NANO_OF_SECOND,A:kt.MILLI_OF_DAY,n:kt.NANO_OF_SECOND,N:kt.NANO_OF_DAY},fe=0;fe<Z.length;fe++){var V=Z.charAt(fe);if(V>="A"&&V<="Z"||V>="a"&&V<="z"){for(var Y=fe++;fe<Z.length&&Z.charAt(fe)===V;fe++);var e=fe-Y;if(V==="p"){var p=0;if(fe<Z.length&&(V=Z.charAt(fe),V>="A"&&V<="Z"||V>="a"&&V<="z")){for(p=e,Y=fe++;fe<Z.length&&Z.charAt(fe)===V;fe++);e=fe-Y}if(p===0)throw new Ka("Pad letter 'p' must be followed by valid pad pattern: "+Z);this.padNext(p)}var L=R[V];if(L!=null)this._parseField(V,e,L);else if(V==="z"){if(e>4)throw new Ka("Too many pattern letters: "+V);e===4?this.appendZoneText(Bi.FULL):this.appendZoneText(Bi.SHORT)}else if(V==="V"){if(e!==2)throw new Ka("Pattern letter count must be 2: "+V);this.appendZoneId()}else if(V==="Z")if(e<4)this.appendOffset("+HHMM","+0000");else if(e===4)this.appendLocalizedOffset(Bi.FULL);else if(e===5)this.appendOffset("+HH:MM:ss","Z");else throw new Ka("Too many pattern letters: "+V);else if(V==="O")if(e===1)this.appendLocalizedOffset(Bi.SHORT);else if(e===4)this.appendLocalizedOffset(Bi.FULL);else throw new Ka("Pattern letter count must be 1 or 4: "+V);else if(V==="X"){if(e>5)throw new Ka("Too many pattern letters: "+V);this.appendOffset(fc.PATTERNS[e+(e===1?0:1)],"Z")}else if(V==="x"){if(e>5)throw new Ka("Too many pattern letters: "+V);var o=e===1?"+00":e%2===0?"+0000":"+00:00";this.appendOffset(fc.PATTERNS[e+(e===1?0:1)],o)}else if(V==="W"){if(e>1)throw new Ka("Too many pattern letters: "+V);this.appendWeekField("W",e)}else if(V==="w"){if(e>2)throw new Ka("Too many pattern letters: "+V);this.appendWeekField("w",e)}else if(V==="Y")this.appendWeekField("Y",e);else throw new Ka("Unknown pattern letter: "+V);fe--}else if(V==="'"){for(var C=fe++;fe<Z.length;fe++)if(Z.charAt(fe)==="'")if(fe+1<Z.length&&Z.charAt(fe+1)==="'")fe++;else break;if(fe>=Z.length)throw new Ka("Pattern ends with an incomplete string literal: "+Z);var S=Z.substring(C+1,fe);S.length===0?this.appendLiteral("'"):this.appendLiteral(S.replace("''","'"))}else if(V==="[")this.optionalStart();else if(V==="]"){if(this._active._parent===null)throw new Ka("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else{if(V==="{"||V==="}"||V==="#")throw new Ka("Pattern includes reserved character: '"+V+"'");this.appendLiteral(V)}}},I._parseField=function(Z,R,fe){switch(Z){case"u":case"y":R===2?this.appendValueReduced(fe,2,2,u0.BASE_DATE):R<4?this.appendValue(fe,R,Uc,ki.NORMAL):this.appendValue(fe,R,Uc,ki.EXCEEDS_PAD);break;case"M":case"Q":switch(R){case 1:this.appendValue(fe);break;case 2:this.appendValue(fe,2);break;case 3:this.appendText(fe,Bi.SHORT);break;case 4:this.appendText(fe,Bi.FULL);break;case 5:this.appendText(fe,Bi.NARROW);break;default:throw new Ka("Too many pattern letters: "+Z)}break;case"L":case"q":switch(R){case 1:this.appendValue(fe);break;case 2:this.appendValue(fe,2);break;case 3:this.appendText(fe,Bi.SHORT_STANDALONE);break;case 4:this.appendText(fe,Bi.FULL_STANDALONE);break;case 5:this.appendText(fe,Bi.NARROW_STANDALONE);break;default:throw new Ka("Too many pattern letters: "+Z)}break;case"e":switch(R){case 1:case 2:this.appendWeekField("e",R);break;case 3:this.appendText(fe,Bi.SHORT);break;case 4:this.appendText(fe,Bi.FULL);break;case 5:this.appendText(fe,Bi.NARROW);break;default:throw new Ka("Too many pattern letters: "+Z)}break;case"c":switch(R){case 1:this.appendWeekField("c",R);break;case 2:throw new Ka("Invalid number of pattern letters: "+Z);case 3:this.appendText(fe,Bi.SHORT_STANDALONE);break;case 4:this.appendText(fe,Bi.FULL_STANDALONE);break;case 5:this.appendText(fe,Bi.NARROW_STANDALONE);break;default:throw new Ka("Too many pattern letters: "+Z)}break;case"a":if(R===1)this.appendText(fe,Bi.SHORT);else throw new Ka("Too many pattern letters: "+Z);break;case"E":case"G":switch(R){case 1:case 2:case 3:this.appendText(fe,Bi.SHORT);break;case 4:this.appendText(fe,Bi.FULL);break;case 5:this.appendText(fe,Bi.NARROW);break;default:throw new Ka("Too many pattern letters: "+Z)}break;case"S":this.appendFraction(kt.NANO_OF_SECOND,R,R,!1);break;case"F":if(R===1)this.appendValue(fe);else throw new Ka("Too many pattern letters: "+Z);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(R===1)this.appendValue(fe);else if(R===2)this.appendValue(fe,R);else throw new Ka("Too many pattern letters: "+Z);break;case"D":if(R===1)this.appendValue(fe);else if(R<=3)this.appendValue(fe,R);else throw new Ka("Too many pattern letters: "+Z);break;default:R===1?this.appendValue(fe):this.appendValue(fe,R);break}},I.padNext=function(){return arguments.length===1?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},I._padNext1=function(Z){return this._padNext2(Z," ")},I._padNext2=function(Z,R){if(Z<1)throw new Ka("The pad width must be at least one but was "+Z);return this._active._padNextWidth=Z,this._active._padNextChar=R,this._active._valueParserIndex=-1,this},I.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=O._of(this._active,!0),this},I.optionalEnd=function(){if(this._active._parent==null)throw new C0("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var Z=new K1(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(Z)}else this._active=this._active._parent;return this},I._appendInternal=function(Z){return $i(Z!=null),this._active._padNextWidth>0&&(Z!=null&&(Z=new J1(Z,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(Z),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},I.appendLiteral=function(Z){return $i(Z!=null),Z.length>0&&(Z.length===1?this._appendInternalPrinterParser(new r4(Z.charAt(0))):this._appendInternalPrinterParser(new Q1(Z))),this},I._appendInternalPrinterParser=function(Z){return $i(Z!=null),this._active._padNextWidth>0&&(Z!=null&&(Z=new J1(Z,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(Z),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},I.append=function(Z){return Jr(Z,"formatter"),this._appendInternal(Z._toPrinterParser(!1)),this},I.toFormatter=function(Z){for(Z===void 0&&(Z=ni.SMART);this._active._parent!=null;)this.optionalEnd();var R=new K1(this._printerParsers,!1);return new vi(R,null,Sy.STANDARD,Z,null,null,null)},O}(),_d=146097*25*86400,Gp=(146097*5-(30*365+7))*86400,lE=function(){function O(G){this.fractionalDigits=G}var I=O.prototype;return I.print=function(Z,R){var fe=Z.getValue(kt.INSTANT_SECONDS),V=0;if(Z.temporal().isSupported(kt.NANO_OF_SECOND)&&(V=Z.temporal().getLong(kt.NANO_OF_SECOND)),fe==null)return!1;var Y=fe,e=kt.NANO_OF_SECOND.checkValidIntValue(V);if(Y>=-Gp){var p=Y-_d+Gp,L=rr.floorDiv(p,_d)+1,o=rr.floorMod(p,_d),C=Ui.ofEpochSecond(o-Gp,0,ei.UTC);L>0&&R.append("+").append(L),R.append(C.toString()),C.second()===0&&R.append(":00")}else{var S=Y+Gp,v=rr.intDiv(S,_d),g=rr.intMod(S,_d),r=Ui.ofEpochSecond(g-Gp,0,ei.UTC),t=R.length();R.append(r.toString()),r.second()===0&&R.append(":00"),v<0&&(r.year()===-1e4?R.replace(t,t+2,""+(v-1)):g===0?R.insert(t,v):R.insert(t+1,Math.abs(v)))}if(this.fractionalDigits===-2)e!==0&&(R.append("."),rr.intMod(e,1e6)===0?R.append((""+(rr.intDiv(e,1e6)+1e3)).substring(1)):rr.intMod(e,1e3)===0?R.append((""+(rr.intDiv(e,1e3)+1e6)).substring(1)):R.append((""+(e+1e9)).substring(1)));else if(this.fractionalDigits>0||this.fractionalDigits===-1&&e>0){R.append(".");for(var a=1e8,n=0;this.fractionalDigits===-1&&e>0||n<this.fractionalDigits;n++){var f=rr.intDiv(e,a);R.append(f),e=e-f*a,a=rr.intDiv(a,10)}}return R.append("Z"),!0},I.parse=function(Z,R,fe){var V=Z.copy(),Y=this.fractionalDigits<0?0:this.fractionalDigits,e=this.fractionalDigits<0?9:this.fractionalDigits,p=new Qi().append(vi.ISO_LOCAL_DATE).appendLiteral("T").appendValue(kt.HOUR_OF_DAY,2).appendLiteral(":").appendValue(kt.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(kt.SECOND_OF_MINUTE,2).appendFraction(kt.NANO_OF_SECOND,Y,e,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1),L=p.parse(V,R,fe);if(L<0)return L;var o=V.getParsed(kt.YEAR),C=V.getParsed(kt.MONTH_OF_YEAR),S=V.getParsed(kt.DAY_OF_MONTH),v=V.getParsed(kt.HOUR_OF_DAY),g=V.getParsed(kt.MINUTE_OF_HOUR),r=V.getParsed(kt.SECOND_OF_MINUTE),t=V.getParsed(kt.NANO_OF_SECOND),a=r??0,n=t??0,f=rr.intMod(o,1e4),u=0;v===24&&g===0&&a===0&&n===0?(v=0,u=1):v===23&&g===59&&a===60&&(Z.setParsedLeapSecond(),a=59);var l;try{var y=Ui.of(f,C,S,v,g,a,0).plusDays(u);l=y.toEpochSecond(ei.UTC),l+=rr.safeMultiply(rr.intDiv(o,1e4),_d)}catch{return~fe}var h=L;return h=Z.setParsedField(kt.INSTANT_SECONDS,l,fe,h),Z.setParsedField(kt.NANO_OF_SECOND,n,fe,h)},I.toString=function(){return"Instant()"},O}(),uE=function(){function O(G,Z){this._field=G,this._value=Z}var I=O.prototype;return I.print=function(){return!0},I.parse=function(Z,R,fe){return Z.getParsed(this._field)==null&&Z.setParsedField(this._field,this._value,fe,fe),fe},O}();function fE(){u0.BASE_DATE=Ja.of(2e3,1,1),Qi.CompositePrinterParser=K1,Qi.PadPrinterParserDecorator=J1,Qi.SettingsParser=su,Qi.CharLiteralPrinterParser=Q1,Qi.StringLiteralPrinterParser=Q1,Qi.CharLiteralPrinterParser=r4,Qi.NumberPrinterParser=Yd,Qi.ReducedPrinterParser=u0,Qi.FractionPrinterParser=n4,Qi.OffsetIdPrinterParser=fc,Qi.ZoneIdPrinterParser=a4}/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var o4=function(){function O(){this._str=""}var I=O.prototype;return I.append=function(Z){return this._str+=Z,this},I.appendChar=function(Z){return this._str+=Z[0],this},I.insert=function(Z,R){return this._str=this._str.slice(0,Z)+R+this._str.slice(Z),this},I.replace=function(Z,R,fe){return this._str=this._str.slice(0,Z)+fe+this._str.slice(R),this},I.length=function(){return this._str.length},I.setLength=function(Z){return this._str=this._str.slice(0,Z),this},I.toString=function(){return this._str},O}();/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var vi=function(){O.parsedExcessDays=function(){return O.PARSED_EXCESS_DAYS},O.parsedLeapSecond=function(){return O.PARSED_LEAP_SECOND},O.ofPattern=function(Z){return new Qi().appendPattern(Z).toFormatter()};function O(G,Z,R,fe,V,Y,e){Y===void 0&&(Y=Xi.INSTANCE),$i(G!=null),$i(R!=null),$i(fe!=null),this._printerParser=G,this._locale=Z,this._decimalStyle=R,this._resolverStyle=fe,this._resolverFields=V,this._chrono=Y,this._zone=e}var I=O.prototype;return I.locale=function(){return this._locale},I.decimalStyle=function(){return this._decimalStyle},I.chronology=function(){return this._chrono},I.withChronology=function(Z){return this._chrono!=null&&this._chrono.equals(Z)?this:new O(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,Z,this._zone)},I.withLocale=function(){return this},I.withResolverStyle=function(Z){return Jr(Z,"resolverStyle"),Z.equals(this._resolverStyle)?this:new O(this._printerParser,this._locale,this._decimalStyle,Z,this._resolverFields,this._chrono,this._zone)},I.format=function(Z){var R=new o4(32);return this._formatTo(Z,R),R.toString()},I._formatTo=function(Z,R){Jr(Z,"temporal"),Jr(R,"appendable");var fe=new t4(Z,this);this._printerParser.print(fe,R)},I.parse=function(Z,R){return arguments.length===1?this.parse1(Z):this.parse2(Z,R)},I.parse1=function(Z){Jr(Z,"text");try{return this._parseToBuilder(Z,null).resolve(this._resolverStyle,this._resolverFields)}catch(R){throw R instanceof Af?R:this._createError(Z,R)}},I.parse2=function(Z,R){Jr(Z,"text"),Jr(R,"type");try{var fe=this._parseToBuilder(Z,null).resolve(this._resolverStyle,this._resolverFields);return fe.build(R)}catch(V){throw V instanceof Af?V:this._createError(Z,V)}},I._createError=function(Z,R){var fe="";return Z.length>64?fe=Z.substring(0,64)+"...":fe=Z,new Af("Text '"+fe+"' could not be parsed: "+R.message,Z,0,R)},I._parseToBuilder=function(Z,R){var fe=R??new $T(0),V=this._parseUnresolved0(Z,fe);if(V==null||fe.getErrorIndex()>=0||R==null&&fe.getIndex()<Z.length){var Y="";throw Z.length>64?Y=Z.substr(0,64).toString()+"...":Y=Z,fe.getErrorIndex()>=0?new Af("Text '"+Y+"' could not be parsed at index "+fe.getErrorIndex(),Z,fe.getErrorIndex()):new Af("Text '"+Y+"' could not be parsed, unparsed text found at index "+fe.getIndex(),Z,fe.getIndex())}return V.toBuilder()},I.parseUnresolved=function(Z,R){return this._parseUnresolved0(Z,R)},I._parseUnresolved0=function(Z,R){$i(Z!=null,"text",Kc),$i(R!=null,"position",Kc);var fe=new e4(this),V=R.getIndex();return V=this._printerParser.parse(fe,Z,V),V<0?(R.setErrorIndex(~V),null):(R.setIndex(V),fe.toParsed())},I._toPrinterParser=function(Z){return this._printerParser.withOptional(Z)},I.toString=function(){var Z=this._printerParser.toString();return Z.indexOf("[")===0?Z:Z.substring(1,Z.length-1)},O}();function cE(){vi.ISO_LOCAL_DATE=new Qi().appendValue(kt.YEAR,4,10,ki.EXCEEDS_PAD).appendLiteral("-").appendValue(kt.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(kt.DAY_OF_MONTH,2).toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.ISO_LOCAL_TIME=new Qi().appendValue(kt.HOUR_OF_DAY,2).appendLiteral(":").appendValue(kt.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(kt.SECOND_OF_MINUTE,2).optionalStart().appendFraction(kt.NANO_OF_SECOND,0,9,!0).toFormatter(ni.STRICT),vi.ISO_LOCAL_DATE_TIME=new Qi().parseCaseInsensitive().append(vi.ISO_LOCAL_DATE).appendLiteral("T").append(vi.ISO_LOCAL_TIME).toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.ISO_INSTANT=new Qi().parseCaseInsensitive().appendInstant().toFormatter(ni.STRICT),vi.ISO_OFFSET_DATE_TIME=new Qi().parseCaseInsensitive().append(vi.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.ISO_ZONED_DATE_TIME=new Qi().append(vi.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.BASIC_ISO_DATE=new Qi().appendValue(kt.YEAR,4,10,ki.EXCEEDS_PAD).appendValue(kt.MONTH_OF_YEAR,2).appendValue(kt.DAY_OF_MONTH,2).toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.ISO_OFFSET_DATE=new Qi().parseCaseInsensitive().append(vi.ISO_LOCAL_DATE).appendOffsetId().toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.ISO_OFFSET_TIME=new Qi().parseCaseInsensitive().append(vi.ISO_LOCAL_TIME).appendOffsetId().toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.ISO_ORDINAL_DATE=new Qi().appendValue(kt.YEAR,4,10,ki.EXCEEDS_PAD).appendLiteral("-").appendValue(kt.DAY_OF_YEAR).toFormatter(ni.STRICT),vi.ISO_WEEK_DATE=new Qi().appendValue(kt.YEAR,4,10,ki.EXCEEDS_PAD).appendLiteral("-W").appendValue(kt.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(kt.DAY_OF_WEEK).toFormatter(ni.STRICT),vi.ISO_DATE=new Qi().parseCaseInsensitive().append(vi.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.ISO_TIME=new Qi().parseCaseInsensitive().append(vi.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(ni.STRICT),vi.ISO_DATE_TIME=new Qi().append(vi.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(ni.STRICT).withChronology(Xi.INSTANCE),vi.PARSED_EXCESS_DAYS=fs("PARSED_EXCESS_DAYS",function(O){return O instanceof Ay?O.excessDays:Gc.ZERO}),vi.PARSED_LEAP_SECOND=fs("PARSED_LEAP_SECOND",function(O){return O instanceof Ay?O.leapSecond:!1})}var My=function(O){oi(I,O),I.now=function(R){return arguments.length===0?I.now0():arguments.length===1&&R instanceof Zi?I.nowZoneId(R):I.nowClock(R)},I.now0=function(){return this.nowClock(ao.systemDefaultZone())},I.nowZoneId=function(R){return Jr(R,"zone"),this.nowClock(ao.system(R))},I.nowClock=function(R){Jr(R,"clock");var fe=Ja.now(R);return I.of(fe.month(),fe.dayOfMonth())},I.of=function(R,fe){return arguments.length===2&&R instanceof ti?I.ofMonthNumber(R,fe):I.ofNumberNumber(R,fe)},I.ofMonthNumber=function(R,fe){if(Jr(R,"month"),kt.DAY_OF_MONTH.checkValidValue(fe),fe>R.maxLength())throw new Fa("Illegal value for DayOfMonth field, value "+fe+" is not valid for month "+R.toString());return new I(R.value(),fe)},I.ofNumberNumber=function(R,fe){return Jr(R,"month"),Jr(fe,"dayOfMonth"),I.of(ti.of(R),fe)},I.from=function(R){if(Jr(R,"temporal"),Xa(R,av,"temporal"),R instanceof I)return R;try{return I.of(R.get(kt.MONTH_OF_YEAR),R.get(kt.DAY_OF_MONTH))}catch{throw new Fa("Unable to obtain MonthDay from TemporalAccessor: "+R+", type "+(R&&R.constructor!=null?R.constructor.name:""))}},I.parse=function(R,fe){return arguments.length===1?I.parseString(R):I.parseStringFormatter(R,fe)},I.parseString=function(R){return I.parseStringFormatter(R,s4)},I.parseStringFormatter=function(R,fe){return Jr(R,"text"),Jr(fe,"formatter"),Xa(fe,vi,"formatter"),fe.parse(R,I.FROM)};function I(Z,R){var fe;return fe=O.call(this)||this,fe._month=rr.safeToInt(Z),fe._day=rr.safeToInt(R),fe}var G=I.prototype;return G.monthValue=function(){return this._month},G.month=function(){return ti.of(this._month)},G.dayOfMonth=function(){return this._day},G.isSupported=function(R){return R instanceof kt?R===kt.MONTH_OF_YEAR||R===kt.DAY_OF_MONTH:R!=null&&R.isSupportedBy(this)},G.range=function(R){return R===kt.MONTH_OF_YEAR?R.range():R===kt.DAY_OF_MONTH?ii.of(1,this.month().minLength(),this.month().maxLength()):O.prototype.range.call(this,R)},G.get=function(R){return this.range(R).checkValidIntValue(this.getLong(R),R)},G.getLong=function(R){if(Jr(R,"field"),R instanceof kt){switch(R){case kt.DAY_OF_MONTH:return this._day;case kt.MONTH_OF_YEAR:return this._month}throw new Ci("Unsupported field: "+R)}return R.getFrom(this)},G.isValidYear=function(R){return!(this._day===29&&this._month===2&&Ef.isLeap(R)===!1)},G.withMonth=function(R){return this.with(ti.of(R))},G.with=function(R){if(Jr(R,"month"),R.value()===this._month)return this;var fe=Math.min(this._day,R.maxLength());return new I(R.value(),fe)},G.withDayOfMonth=function(R){return R===this._day?this:I.of(this._month,R)},G.query=function(R){return Jr(R,"query"),Xa(R,B0,"query"),R===ia.chronology()?Xi.INSTANCE:O.prototype.query.call(this,R)},G.adjustInto=function(R){return Jr(R,"temporal"),R=R.with(kt.MONTH_OF_YEAR,this._month),R.with(kt.DAY_OF_MONTH,Math.min(R.range(kt.DAY_OF_MONTH).maximum(),this._day))},G.atYear=function(R){return Ja.of(R,this._month,this.isValidYear(R)?this._day:28)},G.compareTo=function(R){Jr(R,"other"),Xa(R,I,"other");var fe=this._month-R.monthValue();return fe===0&&(fe=this._day-R.dayOfMonth()),fe},G.isAfter=function(R){return Jr(R,"other"),Xa(R,I,"other"),this.compareTo(R)>0},G.isBefore=function(R){return Jr(R,"other"),Xa(R,I,"other"),this.compareTo(R)<0},G.equals=function(R){if(this===R)return!0;if(R instanceof I){var fe=R;return this.monthValue()===fe.monthValue()&&this.dayOfMonth()===fe.dayOfMonth()}return!1},G.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},G.toJSON=function(){return this.toString()},G.format=function(R){return Jr(R,"formatter"),Xa(R,vi,"formatter"),R.format(this)},I}(av),s4;function hE(){s4=new Qi().appendLiteral("--").appendValue(kt.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(kt.DAY_OF_MONTH,2).toFormatter(),My.FROM=fs("MonthDay.FROM",function(O){return My.from(O)})}var P0=function(O){oi(I,O),I.now=function(R){return arguments.length===0?I.now0():arguments.length===1&&R instanceof Zi?I.nowZoneId(R):I.nowClock(R)},I.now0=function(){return I.nowClock(ao.systemDefaultZone())},I.nowZoneId=function(R){return I.nowClock(ao.system(R))},I.nowClock=function(R){var fe=Ja.now(R);return I.of(fe.year(),fe.month())},I.of=function(R,fe){return arguments.length===2&&fe instanceof ti?I.ofNumberMonth(R,fe):I.ofNumberNumber(R,fe)},I.ofNumberMonth=function(R,fe){return Jr(fe,"month"),Xa(fe,ti,"month"),I.ofNumberNumber(R,fe.value())},I.ofNumberNumber=function(R,fe){return Jr(R,"year"),Jr(fe,"month"),kt.YEAR.checkValidValue(R),kt.MONTH_OF_YEAR.checkValidValue(fe),new I(R,fe)},I.from=function(R){if(Jr(R,"temporal"),R instanceof I)return R;try{return I.of(R.get(kt.YEAR),R.get(kt.MONTH_OF_YEAR))}catch{throw new Fa("Unable to obtain YearMonth from TemporalAccessor: "+R+", type "+(R&&R.constructor!=null?R.constructor.name:""))}},I.parse=function(R,fe){return arguments.length===1?I.parseString(R):I.parseStringFormatter(R,fe)},I.parseString=function(R){return I.parseStringFormatter(R,$1)},I.parseStringFormatter=function(R,fe){return Jr(fe,"formatter"),fe.parse(R,I.FROM)};function I(Z,R){var fe;return fe=O.call(this)||this,fe._year=rr.safeToInt(Z),fe._month=rr.safeToInt(R),fe}var G=I.prototype;return G.isSupported=function(R){return arguments.length===1&&R instanceof lc?this.isSupportedField(R):this.isSupportedUnit(R)},G.isSupportedField=function(R){return R instanceof kt?R===kt.YEAR||R===kt.MONTH_OF_YEAR||R===kt.PROLEPTIC_MONTH||R===kt.YEAR_OF_ERA||R===kt.ERA:R!=null&&R.isSupportedBy(this)},G.isSupportedUnit=function(R){return R instanceof zr?R===zr.MONTHS||R===zr.YEARS||R===zr.DECADES||R===zr.CENTURIES||R===zr.MILLENNIA||R===zr.ERAS:R!=null&&R.isSupportedBy(this)},G.range=function(R){return R===kt.YEAR_OF_ERA?this.year()<=0?ii.of(1,Ef.MAX_VALUE+1):ii.of(1,Ef.MAX_VALUE):O.prototype.range.call(this,R)},G.get=function(R){return Jr(R,"field"),Xa(R,lc,"field"),this.range(R).checkValidIntValue(this.getLong(R),R)},G.getLong=function(R){if(Jr(R,"field"),Xa(R,lc,"field"),R instanceof kt){switch(R){case kt.MONTH_OF_YEAR:return this._month;case kt.PROLEPTIC_MONTH:return this._getProlepticMonth();case kt.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case kt.YEAR:return this._year;case kt.ERA:return this._year<1?0:1}throw new Ci("Unsupported field: "+R)}return R.getFrom(this)},G._getProlepticMonth=function(){return rr.safeAdd(rr.safeMultiply(this._year,12),this._month-1)},G.year=function(){return this._year},G.monthValue=function(){return this._month},G.month=function(){return ti.of(this._month)},G.isLeapYear=function(){return Xi.isLeapYear(this._year)},G.isValidDay=function(R){return R>=1&&R<=this.lengthOfMonth()},G.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},G.lengthOfYear=function(){return this.isLeapYear()?366:365},G.with=function(R,fe){return arguments.length===1?this._withAdjuster(R):this._withField(R,fe)},G._withField=function(R,fe){if(Jr(R,"field"),Xa(R,lc,"field"),R instanceof kt){var V=R;switch(V.checkValidValue(fe),V){case kt.MONTH_OF_YEAR:return this.withMonth(fe);case kt.PROLEPTIC_MONTH:return this.plusMonths(fe-this.getLong(kt.PROLEPTIC_MONTH));case kt.YEAR_OF_ERA:return this.withYear(this._year<1?1-fe:fe);case kt.YEAR:return this.withYear(fe);case kt.ERA:return this.getLong(kt.ERA)===fe?this:this.withYear(1-this._year)}throw new Ci("Unsupported field: "+R)}return R.adjustInto(this,fe)},G.withYear=function(R){return kt.YEAR.checkValidValue(R),new I(R,this._month)},G.withMonth=function(R){return kt.MONTH_OF_YEAR.checkValidValue(R),new I(this._year,R)},G._plusUnit=function(R,fe){if(Jr(fe,"unit"),Xa(fe,eh,"unit"),fe instanceof zr){switch(fe){case zr.MONTHS:return this.plusMonths(R);case zr.YEARS:return this.plusYears(R);case zr.DECADES:return this.plusYears(rr.safeMultiply(R,10));case zr.CENTURIES:return this.plusYears(rr.safeMultiply(R,100));case zr.MILLENNIA:return this.plusYears(rr.safeMultiply(R,1e3));case zr.ERAS:return this.with(kt.ERA,rr.safeAdd(this.getLong(kt.ERA),R))}throw new Ci("Unsupported unit: "+fe)}return fe.addTo(this,R)},G.plusYears=function(R){if(R===0)return this;var fe=kt.YEAR.checkValidIntValue(this._year+R);return this.withYear(fe)},G.plusMonths=function(R){if(R===0)return this;var fe=this._year*12+(this._month-1),V=fe+R,Y=kt.YEAR.checkValidIntValue(rr.floorDiv(V,12)),e=rr.floorMod(V,12)+1;return new I(Y,e)},G.minusYears=function(R){return R===rr.MIN_SAFE_INTEGER?this.plusYears(rr.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-R)},G.minusMonths=function(R){return R===rr.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-R)},G.query=function(R){return Jr(R,"query"),Xa(R,B0,"query"),R===ia.chronology()?Xi.INSTANCE:R===ia.precision()?zr.MONTHS:R===ia.localDate()||R===ia.localTime()||R===ia.zone()||R===ia.zoneId()||R===ia.offset()?null:O.prototype.query.call(this,R)},G.adjustInto=function(R){return Jr(R,"temporal"),Xa(R,Yl,"temporal"),R.with(kt.PROLEPTIC_MONTH,this._getProlepticMonth())},G.until=function(R,fe){Jr(R,"endExclusive"),Jr(fe,"unit"),Xa(R,Yl,"endExclusive"),Xa(fe,eh,"unit");var V=I.from(R);if(fe instanceof zr){var Y=V._getProlepticMonth()-this._getProlepticMonth();switch(fe){case zr.MONTHS:return Y;case zr.YEARS:return rr.intDiv(Y,12);case zr.DECADES:return rr.intDiv(Y,120);case zr.CENTURIES:return rr.intDiv(Y,1200);case zr.MILLENNIA:return rr.intDiv(Y,12e3);case zr.ERAS:return V.getLong(kt.ERA)-this.getLong(kt.ERA)}throw new Ci("Unsupported unit: "+fe)}return fe.between(this,V)},G.atDay=function(R){return Jr(R,"dayOfMonth"),Ja.of(this._year,this._month,R)},G.atEndOfMonth=function(){return Ja.of(this._year,this._month,this.lengthOfMonth())},G.compareTo=function(R){Jr(R,"other"),Xa(R,I,"other");var fe=this._year-R.year();return fe===0&&(fe=this._month-R.monthValue()),fe},G.isAfter=function(R){return this.compareTo(R)>0},G.isBefore=function(R){return this.compareTo(R)<0},G.equals=function(R){if(this===R)return!0;if(R instanceof I){var fe=R;return this.year()===fe.year()&&this.monthValue()===fe.monthValue()}return!1},G.toString=function(){return $1.format(this)},G.toJSON=function(){return this.toString()},G.format=function(R){return Jr(R,"formatter"),R.format(this)},I}(Yl),$1;function vE(){$1=new Qi().appendValue(kt.YEAR,4,10,ki.EXCEEDS_PAD).appendLiteral("-").appendValue(kt.MONTH_OF_YEAR,2).toFormatter(),P0.FROM=fs("YearMonth.FROM",function(O){return P0.from(O)})}var Ef=function(O){oi(I,O);function I(Z){var R;return R=O.call(this)||this,R._year=rr.safeToInt(Z),R}var G=I.prototype;return G.value=function(){return this._year},I.now=function(R){return R===void 0&&(R=void 0),R===void 0?I.now0():R instanceof Zi?I.nowZoneId(R):I.nowClock(R)},I.now0=function(){return I.nowClock(ao.systemDefaultZone())},I.nowZoneId=function(R){return Jr(R,"zone"),Xa(R,Zi,"zone"),I.nowClock(ao.system(R))},I.nowClock=function(R){Jr(R,"clock"),Xa(R,ao,"clock");var fe=Ja.now(R);return I.of(fe.year())},I.of=function(R){return Jr(R,"isoYear"),kt.YEAR.checkValidValue(R),new I(R)},I.from=function(R){if(Jr(R,"temporal"),Xa(R,av,"temporal"),R instanceof I)return R;try{return I.of(R.get(kt.YEAR))}catch{throw new Fa("Unable to obtain Year from TemporalAccessor: "+R+", type "+(R&&R.constructor!=null?R.constructor.name:""))}},I.parse=function(R,fe){return arguments.length<=1?I.parseText(R):I.parseTextFormatter(R,fe)},I.parseText=function(R){return Jr(R,"text"),I.parse(R,q1)},I.parseTextFormatter=function(R,fe){return fe===void 0&&(fe=q1),Jr(R,"text"),Jr(fe,"formatter"),Xa(fe,vi,"formatter"),fe.parse(R,I.FROM)},I.isLeap=function(R){return rr.intMod(R,4)===0&&(rr.intMod(R,100)!==0||rr.intMod(R,400)===0)},G.isSupported=function(R){return arguments.length===1&&R instanceof lc?this.isSupportedField(R):this.isSupportedUnit(R)},G.isSupportedField=function(R){return R instanceof kt?R===kt.YEAR||R===kt.YEAR_OF_ERA||R===kt.ERA:R!=null&&R.isSupportedBy(this)},G.isSupportedUnit=function(R){return R instanceof zr?R===zr.YEARS||R===zr.DECADES||R===zr.CENTURIES||R===zr.MILLENNIA||R===zr.ERAS:R!=null&&R.isSupportedBy(this)},G.range=function(R){if(this.isSupported(R))return R.range();if(R instanceof kt)throw new Ci("Unsupported field: "+R);return O.prototype.range.call(this,R)},G.get=function(R){return this.range(R).checkValidIntValue(this.getLong(R),R)},G.getLong=function(R){if(Jr(R,"field"),R instanceof kt){switch(R){case kt.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case kt.YEAR:return this._year;case kt.ERA:return this._year<1?0:1}throw new Ci("Unsupported field: "+R)}return R.getFrom(this)},G.isLeap=function(){return I.isLeap(this._year)},G._withField=function(R,fe){if(Jr(R,"field"),Xa(R,lc,"field"),R instanceof kt){switch(R.checkValidValue(fe),R){case kt.YEAR_OF_ERA:return I.of(this._year<1?1-fe:fe);case kt.YEAR:return I.of(fe);case kt.ERA:return this.getLong(kt.ERA)===fe?this:I.of(1-this._year)}throw new Ci("Unsupported field: "+R)}return R.adjustInto(this,fe)},G._plusUnit=function(R,fe){if(Jr(R,"amountToAdd"),Jr(fe,"unit"),Xa(fe,eh,"unit"),fe instanceof zr){switch(fe){case zr.YEARS:return this.plusYears(R);case zr.DECADES:return this.plusYears(rr.safeMultiply(R,10));case zr.CENTURIES:return this.plusYears(rr.safeMultiply(R,100));case zr.MILLENNIA:return this.plusYears(rr.safeMultiply(R,1e3));case zr.ERAS:return this.with(kt.ERA,rr.safeAdd(this.getLong(kt.ERA),R))}throw new Ci("Unsupported unit: "+fe)}return fe.addTo(this,R)},G.plusYears=function(R){return R===0?this:I.of(kt.YEAR.checkValidIntValue(rr.safeAdd(this._year,R)))},G.minusYears=function(R){return R===rr.MIN_SAFE_INTEGER?this.plusYears(rr.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-R)},G.adjustInto=function(R){return Jr(R,"temporal"),R.with(kt.YEAR,this._year)},G.isValidMonthDay=function(R){return R!=null&&R.isValidYear(this._year)},G.length=function(){return this.isLeap()?366:365},G.atDay=function(R){return Ja.ofYearDay(this._year,R)},G.atMonth=function(R){return arguments.length===1&&R instanceof ti?this.atMonthMonth(R):this.atMonthNumber(R)},G.atMonthMonth=function(R){return Jr(R,"month"),Xa(R,ti,"month"),P0.of(this._year,R)},G.atMonthNumber=function(R){return Jr(R,"month"),P0.of(this._year,R)},G.atMonthDay=function(R){return Jr(R,"monthDay"),Xa(R,My,"monthDay"),R.atYear(this._year)},G.query=function(R){return Jr(R,"query()"),Xa(R,B0,"query()"),R===ia.chronology()?Xi.INSTANCE:R===ia.precision()?zr.YEARS:R===ia.localDate()||R===ia.localTime()||R===ia.zone()||R===ia.zoneId()||R===ia.offset()?null:O.prototype.query.call(this,R)},G.compareTo=function(R){return Jr(R,"other"),Xa(R,I,"other"),this._year-R._year},G.isAfter=function(R){return Jr(R,"other"),Xa(R,I,"other"),this._year>R._year},G.isBefore=function(R){return Jr(R,"other"),Xa(R,I,"other"),this._year<R._year},G.format=function(R){return Jr(R,"formatter"),Xa(R,vi,"formatter"),R.format(this)},G.equals=function(R){return this===R?!0:R instanceof I?this.value()===R.value():!1},G.toString=function(){return""+this._year},G.toJSON=function(){return this.toString()},G.until=function(R,fe){var V=I.from(R);if(fe instanceof zr){var Y=V.value()-this.value();switch(fe){case zr.YEARS:return Y;case zr.DECADES:return rr.intDiv(Y,10);case zr.CENTURIES:return rr.intDiv(Y,100);case zr.MILLENNIA:return rr.intDiv(Y,1e3);case zr.ERAS:return V.getLong(kt.ERA)-this.getLong(kt.ERA)}throw new Ci("Unsupported unit: "+fe)}return fe.between(this,V)},I}(Yl),q1;function dE(){Ef.MIN_VALUE=Fl.MIN_VALUE,Ef.MAX_VALUE=Fl.MAX_VALUE,q1=new Qi().appendValue(kt.YEAR,4,10,ki.EXCEEDS_PAD).toFormatter(),Ef.FROM=fs("Year.FROM",function(O){return Ef.from(O)})}/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Wy=function(){function O(){}var I=O.prototype;return I.adjustInto=function(Z){qa("adjustInto")},O}(),l4=function(){function O(){}return O.firstDayOfMonth=function(){return Ms.FIRST_DAY_OF_MONTH},O.lastDayOfMonth=function(){return Ms.LAST_DAY_OF_MONTH},O.firstDayOfNextMonth=function(){return Ms.FIRST_DAY_OF_NEXT_MONTH},O.firstDayOfYear=function(){return Ms.FIRST_DAY_OF_YEAR},O.lastDayOfYear=function(){return Ms.LAST_DAY_OF_YEAR},O.firstDayOfNextYear=function(){return Ms.FIRST_DAY_OF_NEXT_YEAR},O.firstInMonth=function(G){return Jr(G,"dayOfWeek"),new Km(1,G)},O.lastInMonth=function(G){return Jr(G,"dayOfWeek"),new Km(-1,G)},O.dayOfWeekInMonth=function(G,Z){return Jr(Z,"dayOfWeek"),new Km(G,Z)},O.next=function(G){return new Rg(2,G)},O.nextOrSame=function(G){return new Rg(0,G)},O.previous=function(G){return new Rg(3,G)},O.previousOrSame=function(G){return new Rg(1,G)},O}(),Ms=function(O){oi(I,O);function I(Z){var R;return R=O.call(this)||this,R._ordinal=Z,R}var G=I.prototype;return G.adjustInto=function(R){switch(this._ordinal){case 0:return R.with(kt.DAY_OF_MONTH,1);case 1:return R.with(kt.DAY_OF_MONTH,R.range(kt.DAY_OF_MONTH).maximum());case 2:return R.with(kt.DAY_OF_MONTH,1).plus(1,zr.MONTHS);case 3:return R.with(kt.DAY_OF_YEAR,1);case 4:return R.with(kt.DAY_OF_YEAR,R.range(kt.DAY_OF_YEAR).maximum());case 5:return R.with(kt.DAY_OF_YEAR,1).plus(1,zr.YEARS)}throw new C0("Unreachable")},I}(Wy);Ms.FIRST_DAY_OF_MONTH=new Ms(0);Ms.LAST_DAY_OF_MONTH=new Ms(1);Ms.FIRST_DAY_OF_NEXT_MONTH=new Ms(2);Ms.FIRST_DAY_OF_YEAR=new Ms(3);Ms.LAST_DAY_OF_YEAR=new Ms(4);Ms.FIRST_DAY_OF_NEXT_YEAR=new Ms(5);var Km=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._ordinal=Z,fe._dowValue=R.value(),fe}var G=I.prototype;return G.adjustInto=function(R){if(this._ordinal>=0){var fe=R.with(kt.DAY_OF_MONTH,1),V=fe.get(kt.DAY_OF_WEEK),Y=rr.intMod(this._dowValue-V+7,7);return Y+=(this._ordinal-1)*7,fe.plus(Y,zr.DAYS)}else{var e=R.with(kt.DAY_OF_MONTH,R.range(kt.DAY_OF_MONTH).maximum()),p=e.get(kt.DAY_OF_WEEK),L=this._dowValue-p;return L=L===0?0:L>0?L-7:L,L-=(-this._ordinal-1)*7,e.plus(L,zr.DAYS)}},I}(Wy),Rg=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,Jr(R,"dayOfWeek"),fe._relative=Z,fe._dowValue=R.value(),fe}var G=I.prototype;return G.adjustInto=function(R){var fe=R.get(kt.DAY_OF_WEEK);if(this._relative<2&&fe===this._dowValue)return R;if(this._relative&1){var Y=this._dowValue-fe;return R.minus(Y>=0?7-Y:-Y,zr.DAYS)}else{var V=fe-this._dowValue;return R.plus(V>=0?7-V:-V,zr.DAYS)}},I}(Wy),Xi=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}I.isLeapYear=function(R){return(R&3)===0&&(R%100!==0||R%400===0)};var G=I.prototype;return G._updateResolveMap=function(R,fe,V){Jr(R,"fieldValues"),Jr(fe,"field");var Y=R.get(fe);if(Y!=null&&Y!==V)throw new Fa("Invalid state, field: "+fe+" "+Y+" conflicts with "+fe+" "+V);R.put(fe,V)},G.resolveDate=function(R,fe){if(R.containsKey(kt.EPOCH_DAY))return Ja.ofEpochDay(R.remove(kt.EPOCH_DAY));var V=R.remove(kt.PROLEPTIC_MONTH);V!=null&&(fe!==ni.LENIENT&&kt.PROLEPTIC_MONTH.checkValidValue(V),this._updateResolveMap(R,kt.MONTH_OF_YEAR,rr.floorMod(V,12)+1),this._updateResolveMap(R,kt.YEAR,rr.floorDiv(V,12)));var Y=R.remove(kt.YEAR_OF_ERA);if(Y!=null){fe!==ni.LENIENT&&kt.YEAR_OF_ERA.checkValidValue(Y);var e=R.remove(kt.ERA);if(e==null){var p=R.get(kt.YEAR);fe===ni.STRICT?p!=null?this._updateResolveMap(R,kt.YEAR,p>0?Y:rr.safeSubtract(1,Y)):R.put(kt.YEAR_OF_ERA,Y):this._updateResolveMap(R,kt.YEAR,p==null||p>0?Y:rr.safeSubtract(1,Y))}else if(e===1)this._updateResolveMap(R,kt.YEAR,Y);else if(e===0)this._updateResolveMap(R,kt.YEAR,rr.safeSubtract(1,Y));else throw new Fa("Invalid value for era: "+e)}else R.containsKey(kt.ERA)&&kt.ERA.checkValidValue(R.get(kt.ERA));if(R.containsKey(kt.YEAR)){if(R.containsKey(kt.MONTH_OF_YEAR)&&R.containsKey(kt.DAY_OF_MONTH)){var L=kt.YEAR.checkValidIntValue(R.remove(kt.YEAR)),o=R.remove(kt.MONTH_OF_YEAR),C=R.remove(kt.DAY_OF_MONTH);if(fe===ni.LENIENT){var S=o-1,v=C-1;return Ja.of(L,1,1).plusMonths(S).plusDays(v)}else return fe===ni.SMART&&(kt.DAY_OF_MONTH.checkValidValue(C),o===4||o===6||o===9||o===11?C=Math.min(C,30):o===2&&(C=Math.min(C,ti.FEBRUARY.length(Ef.isLeap(L))))),Ja.of(L,o,C)}if(R.containsKey(kt.DAY_OF_YEAR)){var g=kt.YEAR.checkValidIntValue(R.remove(kt.YEAR));if(fe===ni.LENIENT){var r=rr.safeSubtract(R.remove(kt.DAY_OF_YEAR),1);return Ja.ofYearDay(g,1).plusDays(r)}var t=kt.DAY_OF_YEAR.checkValidIntValue(R.remove(kt.DAY_OF_YEAR));return Ja.ofYearDay(g,t)}if(R.containsKey(kt.ALIGNED_WEEK_OF_YEAR)){if(R.containsKey(kt.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var a=kt.YEAR.checkValidIntValue(R.remove(kt.YEAR));if(fe===ni.LENIENT){var n=rr.safeSubtract(R.remove(kt.ALIGNED_WEEK_OF_YEAR),1),f=rr.safeSubtract(R.remove(kt.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return Ja.of(a,1,1).plusWeeks(n).plusDays(f)}var u=kt.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(R.remove(kt.ALIGNED_WEEK_OF_YEAR)),l=kt.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(R.remove(kt.ALIGNED_DAY_OF_WEEK_IN_YEAR)),y=Ja.of(a,1,1).plusDays((u-1)*7+(l-1));if(fe===ni.STRICT&&y.get(kt.YEAR)!==a)throw new Fa("Strict mode rejected date parsed to a different year");return y}if(R.containsKey(kt.DAY_OF_WEEK)){var h=kt.YEAR.checkValidIntValue(R.remove(kt.YEAR));if(fe===ni.LENIENT){var T=rr.safeSubtract(R.remove(kt.ALIGNED_WEEK_OF_YEAR),1),c=rr.safeSubtract(R.remove(kt.DAY_OF_WEEK),1);return Ja.of(h,1,1).plusWeeks(T).plusDays(c)}var i=kt.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(R.remove(kt.ALIGNED_WEEK_OF_YEAR)),d=kt.DAY_OF_WEEK.checkValidIntValue(R.remove(kt.DAY_OF_WEEK)),x=Ja.of(h,1,1).plusWeeks(i-1).with(l4.nextOrSame(uo.of(d)));if(fe===ni.STRICT&&x.get(kt.YEAR)!==h)throw new Fa("Strict mode rejected date parsed to a different month");return x}}}return null},G.date=function(R){return Ja.from(R)},I}(cp);function pE(){Xi.INSTANCE=new Xi("IsoChronology")}var ac=function(O){oi(I,O),I.from=function(R){if(Jr(R,"temporal"),R instanceof I)return R;if(R instanceof _f)return R.toOffsetTime();try{var fe=In.from(R),V=ei.from(R);return new I(fe,V)}catch{throw new Fa("Unable to obtain OffsetTime TemporalAccessor: "+R+", type "+(R.constructor!=null?R.constructor.name:""))}},I.now=function(R){return arguments.length===0?I._now(ao.systemDefaultZone()):R instanceof ao?I._now(R):I._now(ao.system(R))},I._now=function(R){Jr(R,"clock");var fe=R.instant();return I.ofInstant(fe,R.zone().rules().offset(fe))},I.of=function(){return arguments.length<=2?I.ofTimeAndOffset.apply(this,arguments):I.ofNumbers.apply(this,arguments)},I.ofNumbers=function(R,fe,V,Y,e){var p=In.of(R,fe,V,Y);return new I(p,e)},I.ofTimeAndOffset=function(R,fe){return new I(R,fe)},I.ofInstant=function(R,fe){Jr(R,"instant"),Xa(R,no,"instant"),Jr(fe,"zone"),Xa(fe,Zi,"zone");var V=fe.rules(),Y=V.offset(R),e=R.epochSecond()%In.SECONDS_PER_DAY;e=(e+Y.totalSeconds())%In.SECONDS_PER_DAY,e<0&&(e+=In.SECONDS_PER_DAY);var p=In.ofSecondOfDay(e,R.nano());return new I(p,Y)},I.parse=function(R,fe){return fe===void 0&&(fe=vi.ISO_OFFSET_TIME),Jr(fe,"formatter"),fe.parse(R,I.FROM)};function I(Z,R){var fe;return fe=O.call(this)||this,Jr(Z,"time"),Xa(Z,In,"time"),Jr(R,"offset"),Xa(R,ei,"offset"),fe._time=Z,fe._offset=R,fe}var G=I.prototype;return G.adjustInto=function(R){return R.with(kt.NANO_OF_DAY,this._time.toNanoOfDay()).with(kt.OFFSET_SECONDS,this.offset().totalSeconds())},G.atDate=function(R){return _f.of(R,this._time,this._offset)},G.format=function(R){return Jr(R,"formatter"),R.format(this,I.FROM)},G.get=function(R){return O.prototype.get.call(this,R)},G.getLong=function(R){return R instanceof kt?R===kt.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(R):R.getFrom(this)},G.hour=function(){return this._time.hour()},G.minute=function(){return this._time.minute()},G.second=function(){return this._time.second()},G.nano=function(){return this._time.nano()},G.offset=function(){return this._offset},G.isAfter=function(R){return Jr(R,"other"),this._toEpochNano()>R._toEpochNano()},G.isBefore=function(R){return Jr(R,"other"),this._toEpochNano()<R._toEpochNano()},G.isEqual=function(R){return Jr(R,"other"),this._toEpochNano()===R._toEpochNano()},G.isSupported=function(R){return R instanceof kt?R.isTimeBased()||R===kt.OFFSET_SECONDS:R instanceof zr?R.isTimeBased():R!=null&&R.isSupportedBy(this)},G.minusHours=function(R){return this._withLocalTimeOffset(this._time.minusHours(R),this._offset)},G.minusMinutes=function(R){return this._withLocalTimeOffset(this._time.minusMinutes(R),this._offset)},G.minusSeconds=function(R){return this._withLocalTimeOffset(this._time.minusSeconds(R),this._offset)},G.minusNanos=function(R){return this._withLocalTimeOffset(this._time.minusNanos(R),this._offset)},G._minusAmount=function(R){return Jr(R),R.subtractFrom(this)},G._minusUnit=function(R,fe){return this.plus(-1*R,fe)},G._plusAmount=function(R){return Jr(R),R.addTo(this)},G._plusUnit=function(R,fe){return fe instanceof zr?this._withLocalTimeOffset(this._time.plus(R,fe),this._offset):fe.addTo(this,R)},G.plusHours=function(R){return this._withLocalTimeOffset(this._time.plusHours(R),this._offset)},G.plusMinutes=function(R){return this._withLocalTimeOffset(this._time.plusMinutes(R),this._offset)},G.plusSeconds=function(R){return this._withLocalTimeOffset(this._time.plusSeconds(R),this._offset)},G.plusNanos=function(R){return this._withLocalTimeOffset(this._time.plusNanos(R),this._offset)},G.query=function(R){return Jr(R,"query"),R===ia.precision()?zr.NANOS:R===ia.offset()||R===ia.zone()?this.offset():R===ia.localTime()?this._time:R===ia.chronology()||R===ia.localDate()||R===ia.zoneId()?null:O.prototype.query.call(this,R)},G.range=function(R){return R instanceof kt?R===kt.OFFSET_SECONDS?R.range():this._time.range(R):R.rangeRefinedBy(this)},G.toLocalTime=function(){return this._time},G.truncatedTo=function(R){return this._withLocalTimeOffset(this._time.truncatedTo(R),this._offset)},G.until=function(R,fe){Jr(R,"endExclusive"),Jr(fe,"unit");var V=I.from(R);if(fe instanceof zr){var Y=V._toEpochNano()-this._toEpochNano();switch(fe){case zr.NANOS:return Y;case zr.MICROS:return rr.intDiv(Y,1e3);case zr.MILLIS:return rr.intDiv(Y,1e6);case zr.SECONDS:return rr.intDiv(Y,In.NANOS_PER_SECOND);case zr.MINUTES:return rr.intDiv(Y,In.NANOS_PER_MINUTE);case zr.HOURS:return rr.intDiv(Y,In.NANOS_PER_HOUR);case zr.HALF_DAYS:return rr.intDiv(Y,12*In.NANOS_PER_HOUR)}throw new Ci("Unsupported unit: "+fe)}return fe.between(this,V)},G.withHour=function(R){return this._withLocalTimeOffset(this._time.withHour(R),this._offset)},G.withMinute=function(R){return this._withLocalTimeOffset(this._time.withMinute(R),this._offset)},G.withSecond=function(R){return this._withLocalTimeOffset(this._time.withSecond(R),this._offset)},G.withNano=function(R){return this._withLocalTimeOffset(this._time.withNano(R),this._offset)},G.withOffsetSameInstant=function(R){if(Jr(R,"offset"),R.equals(this._offset))return this;var fe=R.totalSeconds()-this._offset.totalSeconds(),V=this._time.plusSeconds(fe);return new I(V,R)},G.withOffsetSameLocal=function(R){return R!=null&&R.equals(this._offset)?this:new I(this._time,R)},G._toEpochNano=function(){var R=this._time.toNanoOfDay(),fe=this._offset.totalSeconds()*In.NANOS_PER_SECOND;return R-fe},G._withAdjuster=function(R){return Jr(R,"adjuster"),R instanceof In?this._withLocalTimeOffset(R,this._offset):R instanceof ei?this._withLocalTimeOffset(this._time,R):R instanceof I?R:R.adjustInto(this)},G._withField=function(R,fe){return Jr(R,"field"),R instanceof kt?R===kt.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,ei.ofTotalSeconds(R.checkValidIntValue(fe))):this._withLocalTimeOffset(this._time.with(R,fe),this._offset):R.adjustInto(this,fe)},G._withLocalTimeOffset=function(R,fe){return this._time===R&&this._offset.equals(fe)?this:new I(R,fe)},G.compareTo=function(R){if(Jr(R,"other"),Xa(R,I,"other"),this._offset.equals(R._offset))return this._time.compareTo(R._time);var fe=rr.compareNumbers(this._toEpochNano(),R._toEpochNano());return fe===0?this._time.compareTo(R._time):fe},G.equals=function(R){return this===R?!0:R instanceof I?this._time.equals(R._time)&&this._offset.equals(R._offset):!1},G.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},G.toString=function(){return this._time.toString()+this._offset.toString()},G.toJSON=function(){return this.toString()},I}(Yl);function gE(){ac.MIN=ac.ofNumbers(0,0,0,0,ei.MAX),ac.MAX=ac.ofNumbers(23,59,59,999999999,ei.MIN),ac.FROM=fs("OffsetTime.FROM",function(O){return ac.from(O)})}var u4=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.query=function(R){return R===ia.zoneId()||R===ia.zone()?this.zone():R===ia.chronology()?this.toLocalDate().chronology():R===ia.precision()?zr.NANOS:R===ia.offset()?this.offset():R===ia.localDate()?Ja.ofEpochDay(this.toLocalDate().toEpochDay()):R===ia.localTime()?this.toLocalTime():O.prototype.query.call(this,R)},G.format=function(R){return Jr(R,"formatter"),R.format(this)},G.toInstant=function(){return no.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},G.toEpochSecond=function(){var R=this.toLocalDate().toEpochDay(),fe=R*86400+this.toLocalTime().toSecondOfDay();return fe-=this.offset().totalSeconds(),fe},G.compareTo=function(R){Jr(R,"other");var fe=rr.compareNumbers(this.toEpochSecond(),R.toEpochSecond());return fe===0&&(fe=this.toLocalTime().nano()-R.toLocalTime().nano(),fe===0&&(fe=this.toLocalDateTime().compareTo(R.toLocalDateTime()),fe===0&&(fe=yE(this.zone().id(),R.zone().id())))),fe},G.isAfter=function(R){Jr(R,"other");var fe=this.toEpochSecond(),V=R.toEpochSecond();return fe>V||fe===V&&this.toLocalTime().nano()>R.toLocalTime().nano()},G.isBefore=function(R){Jr(R,"other");var fe=this.toEpochSecond(),V=R.toEpochSecond();return fe<V||fe===V&&this.toLocalTime().nano()<R.toLocalTime().nano()},G.isEqual=function(R){return Jr(R,"other"),this.toEpochSecond()===R.toEpochSecond()&&this.toLocalTime().nano()===R.toLocalTime().nano()},G.equals=function(R){return this===R?!0:R instanceof I?this.compareTo(R)===0:!1},I}(Yl);function yE(O,I){return O<I?-1:O>I?1:0}var Df=function(O){oi(I,O),I.now=function(R){var fe;return R instanceof Zi?fe=ao.system(R):fe=R??ao.systemDefaultZone(),I.ofInstant(fe.instant(),fe.zone())},I.of=function(){return arguments.length<=2?I.of2.apply(this,arguments):arguments.length===3&&arguments[0]instanceof Ja?I.of3.apply(this,arguments):I.of8.apply(this,arguments)},I.of3=function(R,fe,V){return I.of2(Ui.of(R,fe),V)},I.of2=function(R,fe){return I.ofLocal(R,fe,null)},I.of8=function(R,fe,V,Y,e,p,L,o){var C=Ui.of(R,fe,V,Y,e,p,L);return I.ofLocal(C,o,null)},I.ofLocal=function(R,fe,V){if(Jr(R,"localDateTime"),Jr(fe,"zone"),fe instanceof ei)return new I(R,fe,fe);var Y=null,e=fe.rules(),p=e.validOffsets(R);if(p.length===1)Y=p[0];else if(p.length===0){var L=e.transition(R);R=R.plusSeconds(L.duration().seconds()),Y=L.offsetAfter()}else V!=null&&p.some(function(o){return o.equals(V)})?Y=V:Y=Jr(p[0],"offset");return new I(R,Y,fe)},I.ofInstant=function(){return arguments.length===2?I.ofInstant2.apply(this,arguments):I.ofInstant3.apply(this,arguments)},I.ofInstant2=function(R,fe){return Jr(R,"instant"),Jr(fe,"zone"),I._create(R.epochSecond(),R.nano(),fe)},I.ofInstant3=function(R,fe,V){return Jr(R,"localDateTime"),Jr(fe,"offset"),Jr(V,"zone"),I._create(R.toEpochSecond(fe),R.nano(),V)},I._create=function(R,fe,V){var Y=V.rules(),e=no.ofEpochSecond(R,fe),p=Y.offset(e),L=Ui.ofEpochSecond(R,fe,p);return new I(L,p,V)},I.ofStrict=function(R,fe,V){Jr(R,"localDateTime"),Jr(fe,"offset"),Jr(V,"zone");var Y=V.rules();if(Y.isValidOffset(R,fe)===!1){var e=Y.transition(R);throw e!=null&&e.isGap()?new Fa("LocalDateTime "+R+" does not exist in zone "+V+" due to a gap in the local time-line, typically caused by daylight savings"):new Fa('ZoneOffset "'+fe+'" is not valid for LocalDateTime "'+R+'" in zone "'+V+'"')}return new I(R,fe,V)},I.ofLenient=function(R,fe,V){if(Jr(R,"localDateTime"),Jr(fe,"offset"),Jr(V,"zone"),V instanceof ei&&fe.equals(V)===!1)throw new Ka("ZoneId must match ZoneOffset");return new I(R,fe,V)},I.from=function(R){if(Jr(R,"temporal"),R instanceof I)return R;var fe=Zi.from(R);if(R.isSupported(kt.INSTANT_SECONDS)){var V=I._from(R,fe);if(V!=null)return V}var Y=Ui.from(R);return I.of2(Y,fe)},I._from=function(R,fe){try{return I.__from(R,fe)}catch(V){if(!(V instanceof Fa))throw V}},I.__from=function(R,fe){var V=R.getLong(kt.INSTANT_SECONDS),Y=R.get(kt.NANO_OF_SECOND);return I._create(V,Y,fe)},I.parse=function(R,fe){return fe===void 0&&(fe=vi.ISO_ZONED_DATE_TIME),Jr(fe,"formatter"),fe.parse(R,I.FROM)};function I(Z,R,fe){var V;return Jr(Z,"dateTime"),Jr(R,"offset"),Jr(fe,"zone"),V=O.call(this)||this,V._dateTime=Z,V._offset=R,V._zone=fe,V}var G=I.prototype;return G._resolveLocal=function(R){return Jr(R,"newDateTime"),I.ofLocal(R,this._zone,this._offset)},G._resolveInstant=function(R){return I.ofInstant3(R,this._offset,this._zone)},G._resolveOffset=function(R){return R.equals(this._offset)===!1&&this._zone.rules().isValidOffset(this._dateTime,R)?new I(this._dateTime,R,this._zone):this},G.isSupported=function(R){return R instanceof kt?!0:R instanceof zr?R.isDateBased()||R.isTimeBased():R!=null&&R.isSupportedBy(this)},G.range=function(R){return R instanceof kt?R===kt.INSTANT_SECONDS||R===kt.OFFSET_SECONDS?R.range():this._dateTime.range(R):R.rangeRefinedBy(this)},G.get=function(R){return this.getLong(R)},G.getLong=function(R){if(R instanceof kt){switch(R){case kt.INSTANT_SECONDS:return this.toEpochSecond();case kt.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(R)}return Jr(R,"field"),R.getFrom(this)},G.offset=function(){return this._offset},G.withEarlierOffsetAtOverlap=function(){var R=this._zone.rules().transition(this._dateTime);if(R!=null&&R.isOverlap()){var fe=R.offsetBefore();if(fe.equals(this._offset)===!1)return new I(this._dateTime,fe,this._zone)}return this},G.withLaterOffsetAtOverlap=function(){var R=this._zone.rules().transition(this.toLocalDateTime());if(R!=null){var fe=R.offsetAfter();if(fe.equals(this._offset)===!1)return new I(this._dateTime,fe,this._zone)}return this},G.zone=function(){return this._zone},G.withZoneSameLocal=function(R){return Jr(R,"zone"),this._zone.equals(R)?this:I.ofLocal(this._dateTime,R,this._offset)},G.withZoneSameInstant=function(R){return Jr(R,"zone"),this._zone.equals(R)?this:I._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),R)},G.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new I(this._dateTime,this._offset,this._offset)},G.year=function(){return this._dateTime.year()},G.monthValue=function(){return this._dateTime.monthValue()},G.month=function(){return this._dateTime.month()},G.dayOfMonth=function(){return this._dateTime.dayOfMonth()},G.dayOfYear=function(){return this._dateTime.dayOfYear()},G.dayOfWeek=function(){return this._dateTime.dayOfWeek()},G.hour=function(){return this._dateTime.hour()},G.minute=function(){return this._dateTime.minute()},G.second=function(){return this._dateTime.second()},G.nano=function(){return this._dateTime.nano()},G._withAdjuster=function(R){if(R instanceof Ja)return this._resolveLocal(Ui.of(R,this._dateTime.toLocalTime()));if(R instanceof In)return this._resolveLocal(Ui.of(this._dateTime.toLocalDate(),R));if(R instanceof Ui)return this._resolveLocal(R);if(R instanceof no){var fe=R;return I._create(fe.epochSecond(),fe.nano(),this._zone)}else if(R instanceof ei)return this._resolveOffset(R);return O.prototype._withAdjuster.call(this,R)},G._withField=function(R,fe){if(R instanceof kt){switch(R){case kt.INSTANT_SECONDS:return I._create(fe,this.nano(),this._zone);case kt.OFFSET_SECONDS:{var V=ei.ofTotalSeconds(R.checkValidIntValue(fe));return this._resolveOffset(V)}}return this._resolveLocal(this._dateTime.with(R,fe))}return R.adjustInto(this,fe)},G.withYear=function(R){return this._resolveLocal(this._dateTime.withYear(R))},G.withMonth=function(R){return this._resolveLocal(this._dateTime.withMonth(R))},G.withDayOfMonth=function(R){return this._resolveLocal(this._dateTime.withDayOfMonth(R))},G.withDayOfYear=function(R){return this._resolveLocal(this._dateTime.withDayOfYear(R))},G.withHour=function(R){return this._resolveLocal(this._dateTime.withHour(R))},G.withMinute=function(R){return this._resolveLocal(this._dateTime.withMinute(R))},G.withSecond=function(R){return this._resolveLocal(this._dateTime.withSecond(R))},G.withNano=function(R){return this._resolveLocal(this._dateTime.withNano(R))},G.truncatedTo=function(R){return this._resolveLocal(this._dateTime.truncatedTo(R))},G._plusUnit=function(R,fe){return fe instanceof zr?fe.isDateBased()?this._resolveLocal(this._dateTime.plus(R,fe)):this._resolveInstant(this._dateTime.plus(R,fe)):(Jr(fe,"unit"),fe.addTo(this,R))},G.plusYears=function(R){return this._resolveLocal(this._dateTime.plusYears(R))},G.plusMonths=function(R){return this._resolveLocal(this._dateTime.plusMonths(R))},G.plusWeeks=function(R){return this._resolveLocal(this._dateTime.plusWeeks(R))},G.plusDays=function(R){return this._resolveLocal(this._dateTime.plusDays(R))},G.plusHours=function(R){return this._resolveInstant(this._dateTime.plusHours(R))},G.plusMinutes=function(R){return this._resolveInstant(this._dateTime.plusMinutes(R))},G.plusSeconds=function(R){return this._resolveInstant(this._dateTime.plusSeconds(R))},G.plusNanos=function(R){return this._resolveInstant(this._dateTime.plusNanos(R))},G._minusUnit=function(R,fe){return this._plusUnit(-1*R,fe)},G.minusYears=function(R){return this.plusYears(-1*R)},G.minusMonths=function(R){return this.plusMonths(-1*R)},G.minusWeeks=function(R){return this.plusWeeks(-1*R)},G.minusDays=function(R){return this.plusDays(-1*R)},G.minusHours=function(R){return this.plusHours(-1*R)},G.minusMinutes=function(R){return this.plusMinutes(-1*R)},G.minusSeconds=function(R){return this.plusSeconds(-1*R)},G.minusNanos=function(R){return this.plusNanos(-1*R)},G.query=function(R){return R===ia.localDate()?this.toLocalDate():(Jr(R,"query"),O.prototype.query.call(this,R))},G.until=function(R,fe){var V=I.from(R);if(fe instanceof zr){if(V=V.withZoneSameInstant(this._zone),fe.isDateBased())return this._dateTime.until(V._dateTime,fe);var Y=this._offset.totalSeconds()-V._offset.totalSeconds(),e=V._dateTime.plusSeconds(Y);return this._dateTime.until(e,fe)}return fe.between(this,V)},G.toLocalDateTime=function(){return this._dateTime},G.toLocalDate=function(){return this._dateTime.toLocalDate()},G.toLocalTime=function(){return this._dateTime.toLocalTime()},G.toOffsetDateTime=function(){return _f.of(this._dateTime,this._offset)},G.equals=function(R){return this===R?!0:R instanceof I?this._dateTime.equals(R._dateTime)&&this._offset.equals(R._offset)&&this._zone.equals(R._zone):!1},G.hashCode=function(){return rr.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},G.toString=function(){var R=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(R+="["+this._zone.toString()+"]"),R},G.toJSON=function(){return this.toString()},G.format=function(R){return O.prototype.format.call(this,R)},I}(u4);function mE(){Df.FROM=fs("ZonedDateTime.FROM",function(O){return Df.from(O)})}var _f=function(O){oi(I,O),I.from=function(R){if(Jr(R,"temporal"),R instanceof I)return R;try{var fe=ei.from(R);try{var V=Ui.from(R);return I.of(V,fe)}catch{var Y=no.from(R);return I.ofInstant(Y,fe)}}catch{throw new Fa("Unable to obtain OffsetDateTime TemporalAccessor: "+R+", type "+(R.constructor!=null?R.constructor.name:""))}},I.now=function(R){if(arguments.length===0)return I.now(ao.systemDefaultZone());if(Jr(R,"clockOrZone"),R instanceof Zi)return I.now(ao.system(R));if(R instanceof ao){var fe=R.instant();return I.ofInstant(fe,R.zone().rules().offset(fe))}else throw new Ka("clockOrZone must be an instance of ZoneId or Clock")},I.of=function(){return arguments.length<=2?I.ofDateTime.apply(this,arguments):arguments.length===3?I.ofDateAndTime.apply(this,arguments):I.ofNumbers.apply(this,arguments)},I.ofDateTime=function(R,fe){return new I(R,fe)},I.ofDateAndTime=function(R,fe,V){var Y=Ui.of(R,fe);return new I(Y,V)},I.ofNumbers=function(R,fe,V,Y,e,p,L,o){Y===void 0&&(Y=0),e===void 0&&(e=0),p===void 0&&(p=0),L===void 0&&(L=0);var C=Ui.of(R,fe,V,Y,e,p,L);return new I(C,o)},I.ofInstant=function(R,fe){Jr(R,"instant"),Jr(fe,"zone");var V=fe.rules(),Y=V.offset(R),e=Ui.ofEpochSecond(R.epochSecond(),R.nano(),Y);return new I(e,Y)},I.parse=function(R,fe){return fe===void 0&&(fe=vi.ISO_OFFSET_DATE_TIME),Jr(fe,"formatter"),fe.parse(R,I.FROM)};function I(Z,R){var fe;return fe=O.call(this)||this,Jr(Z,"dateTime"),Xa(Z,Ui,"dateTime"),Jr(R,"offset"),Xa(R,ei,"offset"),fe._dateTime=Z,fe._offset=R,fe}var G=I.prototype;return G.adjustInto=function(R){return R.with(kt.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(kt.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(kt.OFFSET_SECONDS,this.offset().totalSeconds())},G.until=function(R,fe){var V=I.from(R);return fe instanceof zr?(V=V.withOffsetSameInstant(this._offset),this._dateTime.until(V._dateTime,fe)):fe.between(this,V)},G.atZoneSameInstant=function(R){return Df.ofInstant(this._dateTime,this._offset,R)},G.atZoneSimilarLocal=function(R){return Df.ofLocal(this._dateTime,R,this._offset)},G.query=function(R){return Jr(R,"query"),R===ia.chronology()?Xi.INSTANCE:R===ia.precision()?zr.NANOS:R===ia.offset()||R===ia.zone()?this.offset():R===ia.localDate()?this.toLocalDate():R===ia.localTime()?this.toLocalTime():R===ia.zoneId()?null:O.prototype.query.call(this,R)},G.get=function(R){if(R instanceof kt){switch(R){case kt.INSTANT_SECONDS:throw new Fa("Field too large for an int: "+R);case kt.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(R)}return O.prototype.get.call(this,R)},G.getLong=function(R){if(R instanceof kt){switch(R){case kt.INSTANT_SECONDS:return this.toEpochSecond();case kt.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(R)}return R.getFrom(this)},G.offset=function(){return this._offset},G.year=function(){return this._dateTime.year()},G.monthValue=function(){return this._dateTime.monthValue()},G.month=function(){return this._dateTime.month()},G.dayOfMonth=function(){return this._dateTime.dayOfMonth()},G.dayOfYear=function(){return this._dateTime.dayOfYear()},G.dayOfWeek=function(){return this._dateTime.dayOfWeek()},G.hour=function(){return this._dateTime.hour()},G.minute=function(){return this._dateTime.minute()},G.second=function(){return this._dateTime.second()},G.nano=function(){return this._dateTime.nano()},G.toLocalDateTime=function(){return this._dateTime},G.toLocalDate=function(){return this._dateTime.toLocalDate()},G.toLocalTime=function(){return this._dateTime.toLocalTime()},G.toOffsetTime=function(){return ac.of(this._dateTime.toLocalTime(),this._offset)},G.toZonedDateTime=function(){return Df.of(this._dateTime,this._offset)},G.toInstant=function(){return this._dateTime.toInstant(this._offset)},G.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},G.isSupported=function(R){return R instanceof kt||R instanceof zr?R.isDateBased()||R.isTimeBased():R!=null&&R.isSupportedBy(this)},G.range=function(R){return R instanceof kt?R===kt.INSTANT_SECONDS||R===kt.OFFSET_SECONDS?R.range():this._dateTime.range(R):R.rangeRefinedBy(this)},G._withAdjuster=function(R){return Jr(R),R instanceof Ja||R instanceof In||R instanceof Ui?this._withDateTimeOffset(this._dateTime.with(R),this._offset):R instanceof no?I.ofInstant(R,this._offset):R instanceof ei?this._withDateTimeOffset(this._dateTime,R):R instanceof I?R:R.adjustInto(this)},G._withField=function(R,fe){if(Jr(R),R instanceof kt){var V=R;switch(V){case kt.INSTANT_SECONDS:return I.ofInstant(no.ofEpochSecond(fe,this.nano()),this._offset);case kt.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,ei.ofTotalSeconds(V.checkValidIntValue(fe)))}return this._withDateTimeOffset(this._dateTime.with(R,fe),this._offset)}return R.adjustInto(this,fe)},G._withDateTimeOffset=function(R,fe){return this._dateTime===R&&this._offset.equals(fe)?this:new I(R,fe)},G.withYear=function(R){return this._withDateTimeOffset(this._dateTime.withYear(R),this._offset)},G.withMonth=function(R){return this._withDateTimeOffset(this._dateTime.withMonth(R),this._offset)},G.withDayOfMonth=function(R){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(R),this._offset)},G.withDayOfYear=function(R){return this._withDateTimeOffset(this._dateTime.withDayOfYear(R),this._offset)},G.withHour=function(R){return this._withDateTimeOffset(this._dateTime.withHour(R),this._offset)},G.withMinute=function(R){return this._withDateTimeOffset(this._dateTime.withMinute(R),this._offset)},G.withSecond=function(R){return this._withDateTimeOffset(this._dateTime.withSecond(R),this._offset)},G.withNano=function(R){return this._withDateTimeOffset(this._dateTime.withNano(R),this._offset)},G.withOffsetSameLocal=function(R){return Jr(R,"offset"),this._withDateTimeOffset(this._dateTime,R)},G.withOffsetSameInstant=function(R){if(Jr(R,"offset"),R.equals(this._offset))return this;var fe=R.totalSeconds()-this._offset.totalSeconds(),V=this._dateTime.plusSeconds(fe);return new I(V,R)},G.truncatedTo=function(R){return this._withDateTimeOffset(this._dateTime.truncatedTo(R),this._offset)},G._plusAmount=function(R){return Jr(R,"amount"),R.addTo(this)},G._plusUnit=function(R,fe){return fe instanceof zr?this._withDateTimeOffset(this._dateTime.plus(R,fe),this._offset):fe.addTo(this,R)},G.plusYears=function(R){return this._withDateTimeOffset(this._dateTime.plusYears(R),this._offset)},G.plusMonths=function(R){return this._withDateTimeOffset(this._dateTime.plusMonths(R),this._offset)},G.plusWeeks=function(R){return this._withDateTimeOffset(this._dateTime.plusWeeks(R),this._offset)},G.plusDays=function(R){return this._withDateTimeOffset(this._dateTime.plusDays(R),this._offset)},G.plusHours=function(R){return this._withDateTimeOffset(this._dateTime.plusHours(R),this._offset)},G.plusMinutes=function(R){return this._withDateTimeOffset(this._dateTime.plusMinutes(R),this._offset)},G.plusSeconds=function(R){return this._withDateTimeOffset(this._dateTime.plusSeconds(R),this._offset)},G.plusNanos=function(R){return this._withDateTimeOffset(this._dateTime.plusNanos(R),this._offset)},G._minusAmount=function(R){return Jr(R),R.subtractFrom(this)},G._minusUnit=function(R,fe){return this.plus(-1*R,fe)},G.minusYears=function(R){return this._withDateTimeOffset(this._dateTime.minusYears(R),this._offset)},G.minusMonths=function(R){return this._withDateTimeOffset(this._dateTime.minusMonths(R),this._offset)},G.minusWeeks=function(R){return this._withDateTimeOffset(this._dateTime.minusWeeks(R),this._offset)},G.minusDays=function(R){return this._withDateTimeOffset(this._dateTime.minusDays(R),this._offset)},G.minusHours=function(R){return this._withDateTimeOffset(this._dateTime.minusHours(R),this._offset)},G.minusMinutes=function(R){return this._withDateTimeOffset(this._dateTime.minusMinutes(R),this._offset)},G.minusSeconds=function(R){return this._withDateTimeOffset(this._dateTime.minusSeconds(R),this._offset)},G.minusNanos=function(R){return this._withDateTimeOffset(this._dateTime.minusNanos(R),this._offset)},G.compareTo=function(R){if(Jr(R,"other"),Xa(R,I,"other"),this.offset().equals(R.offset()))return this.toLocalDateTime().compareTo(R.toLocalDateTime());var fe=rr.compareNumbers(this.toEpochSecond(),R.toEpochSecond());return fe===0&&(fe=this.toLocalTime().nano()-R.toLocalTime().nano(),fe===0&&(fe=this.toLocalDateTime().compareTo(R.toLocalDateTime()))),fe},G.isAfter=function(R){Jr(R,"other");var fe=this.toEpochSecond(),V=R.toEpochSecond();return fe>V||fe===V&&this.toLocalTime().nano()>R.toLocalTime().nano()},G.isBefore=function(R){Jr(R,"other");var fe=this.toEpochSecond(),V=R.toEpochSecond();return fe<V||fe===V&&this.toLocalTime().nano()<R.toLocalTime().nano()},G.isEqual=function(R){return Jr(R,"other"),this.toEpochSecond()===R.toEpochSecond()&&this.toLocalTime().nano()===R.toLocalTime().nano()},G.equals=function(R){return this===R?!0:R instanceof I?this._dateTime.equals(R._dateTime)&&this._offset.equals(R._offset):!1},G.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},G.toString=function(){return this._dateTime.toString()+this._offset.toString()},G.toJSON=function(){return this.toString()},G.format=function(R){return Jr(R,"formatter"),R.format(this)},I}(Yl);function xE(){_f.MIN=Ui.MIN.atOffset(ei.MAX),_f.MAX=Ui.MAX.atOffset(ei.MIN),_f.FROM=fs("OffsetDateTime.FROM",function(O){return _f.from(O)})}var $g=146097,Sw=$g*5-(30*365+7),Ja=function(O){oi(I,O),I.now=function(R){var fe;return R==null?fe=ao.systemDefaultZone():R instanceof Zi?fe=ao.system(R):fe=R,I.ofInstant(fe.instant(),fe.zone())},I.ofInstant=function(R,fe){fe===void 0&&(fe=Zi.systemDefault()),Jr(R,"instant");var V=fe.rules().offset(R),Y=R.epochSecond()+V.totalSeconds(),e=rr.floorDiv(Y,In.SECONDS_PER_DAY);return I.ofEpochDay(e)},I.of=function(R,fe,V){return new I(R,fe,V)},I.ofYearDay=function(R,fe){kt.YEAR.checkValidValue(R);var V=Xi.isLeapYear(R);fe===366&&V===!1&&$i(!1,"Invalid date 'DayOfYear 366' as '"+R+"' is not a leap year",Fa);var Y=ti.of(Math.floor((fe-1)/31+1)),e=Y.firstDayOfYear(V)+Y.length(V)-1;fe>e&&(Y=Y.plus(1));var p=fe-Y.firstDayOfYear(V)+1;return new I(R,Y.value(),p)},I.ofEpochDay=function(R){R===void 0&&(R=0);var fe,V,Y,e,p;p=R+Sw,p-=60,fe=0,p<0&&(V=rr.intDiv(p+1,$g)-1,fe=V*400,p+=-V*$g),e=rr.intDiv(400*p+591,$g),Y=p-(365*e+rr.intDiv(e,4)-rr.intDiv(e,100)+rr.intDiv(e,400)),Y<0&&(e--,Y=p-(365*e+rr.intDiv(e,4)-rr.intDiv(e,100)+rr.intDiv(e,400))),e+=fe;var L=Y,o=rr.intDiv(L*5+2,153),C=(o+2)%12+1,S=L-rr.intDiv(o*306+5,10)+1;e+=rr.intDiv(o,10);var v=e;return new I(v,C,S)},I.from=function(R){Jr(R,"temporal");var fe=R.query(ia.localDate());if(fe==null)throw new Fa("Unable to obtain LocalDate from TemporalAccessor: "+R+", type "+(R.constructor!=null?R.constructor.name:""));return fe},I.parse=function(R,fe){return fe===void 0&&(fe=vi.ISO_LOCAL_DATE),$i(fe!=null,"formatter",Kc),fe.parse(R,I.FROM)},I._resolvePreviousValid=function(R,fe,V){switch(fe){case 2:V=Math.min(V,Xi.isLeapYear(R)?29:28);break;case 4:case 6:case 9:case 11:V=Math.min(V,30);break}return I.of(R,fe,V)};function I(Z,R,fe){var V;return V=O.call(this)||this,Jr(Z,"year"),Jr(R,"month"),Jr(fe,"dayOfMonth"),R instanceof ti&&(R=R.value()),V._year=rr.safeToInt(Z),V._month=rr.safeToInt(R),V._day=rr.safeToInt(fe),I._validate(V._year,V._month,V._day),V}I._validate=function(R,fe,V){var Y;if(kt.YEAR.checkValidValue(R),kt.MONTH_OF_YEAR.checkValidValue(fe),kt.DAY_OF_MONTH.checkValidValue(V),V>28){switch(Y=31,fe){case 2:Y=Xi.isLeapYear(R)?29:28;break;case 4:case 6:case 9:case 11:Y=30}V>Y&&(V===29?$i(!1,"Invalid date 'February 29' as '"+R+"' is not a leap year",Fa):$i(!1,"Invalid date '"+R+"' '"+fe+"' '"+V+"'",Fa))}};var G=I.prototype;return G.isSupported=function(R){return O.prototype.isSupported.call(this,R)},G.range=function(R){if(R instanceof kt){if(R.isDateBased()){switch(R){case kt.DAY_OF_MONTH:return ii.of(1,this.lengthOfMonth());case kt.DAY_OF_YEAR:return ii.of(1,this.lengthOfYear());case kt.ALIGNED_WEEK_OF_MONTH:return ii.of(1,this.month()===ti.FEBRUARY&&this.isLeapYear()===!1?4:5);case kt.YEAR_OF_ERA:return this._year<=0?ii.of(1,Ef.MAX_VALUE+1):ii.of(1,Ef.MAX_VALUE)}return R.range()}throw new Ci("Unsupported field: "+R)}return R.rangeRefinedBy(this)},G.get=function(R){return this.getLong(R)},G.getLong=function(R){return $i(R!=null,"",Kc),R instanceof kt?this._get0(R):R.getFrom(this)},G._get0=function(R){switch(R){case kt.DAY_OF_WEEK:return this.dayOfWeek().value();case kt.ALIGNED_DAY_OF_WEEK_IN_MONTH:return rr.intMod(this._day-1,7)+1;case kt.ALIGNED_DAY_OF_WEEK_IN_YEAR:return rr.intMod(this.dayOfYear()-1,7)+1;case kt.DAY_OF_MONTH:return this._day;case kt.DAY_OF_YEAR:return this.dayOfYear();case kt.EPOCH_DAY:return this.toEpochDay();case kt.ALIGNED_WEEK_OF_MONTH:return rr.intDiv(this._day-1,7)+1;case kt.ALIGNED_WEEK_OF_YEAR:return rr.intDiv(this.dayOfYear()-1,7)+1;case kt.MONTH_OF_YEAR:return this._month;case kt.PROLEPTIC_MONTH:return this._prolepticMonth();case kt.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case kt.YEAR:return this._year;case kt.ERA:return this._year>=1?1:0}throw new Ci("Unsupported field: "+R)},G._prolepticMonth=function(){return this._year*12+(this._month-1)},G.chronology=function(){return Xi.INSTANCE},G.year=function(){return this._year},G.monthValue=function(){return this._month},G.month=function(){return ti.of(this._month)},G.dayOfMonth=function(){return this._day},G.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},G.dayOfWeek=function(){var R=rr.floorMod(this.toEpochDay()+3,7);return uo.of(R+1)},G.isLeapYear=function(){return Xi.isLeapYear(this._year)},G.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},G.lengthOfYear=function(){return this.isLeapYear()?366:365},G._withAdjuster=function(R){return Jr(R,"adjuster"),R instanceof I?R:O.prototype._withAdjuster.call(this,R)},G._withField=function(R,fe){if($i(R!=null,"field",Kc),R instanceof kt){var V=R;switch(V.checkValidValue(fe),V){case kt.DAY_OF_WEEK:return this.plusDays(fe-this.dayOfWeek().value());case kt.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(fe-this.getLong(kt.ALIGNED_DAY_OF_WEEK_IN_MONTH));case kt.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(fe-this.getLong(kt.ALIGNED_DAY_OF_WEEK_IN_YEAR));case kt.DAY_OF_MONTH:return this.withDayOfMonth(fe);case kt.DAY_OF_YEAR:return this.withDayOfYear(fe);case kt.EPOCH_DAY:return I.ofEpochDay(fe);case kt.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(fe-this.getLong(kt.ALIGNED_WEEK_OF_MONTH));case kt.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(fe-this.getLong(kt.ALIGNED_WEEK_OF_YEAR));case kt.MONTH_OF_YEAR:return this.withMonth(fe);case kt.PROLEPTIC_MONTH:return this.plusMonths(fe-this.getLong(kt.PROLEPTIC_MONTH));case kt.YEAR_OF_ERA:return this.withYear(this._year>=1?fe:1-fe);case kt.YEAR:return this.withYear(fe);case kt.ERA:return this.getLong(kt.ERA)===fe?this:this.withYear(1-this._year)}throw new Ci("Unsupported field: "+R)}return R.adjustInto(this,fe)},G.withYear=function(R){return this._year===R?this:(kt.YEAR.checkValidValue(R),I._resolvePreviousValid(R,this._month,this._day))},G.withMonth=function(R){var fe=R instanceof ti?R.value():R;return this._month===fe?this:(kt.MONTH_OF_YEAR.checkValidValue(fe),I._resolvePreviousValid(this._year,fe,this._day))},G.withDayOfMonth=function(R){return this._day===R?this:I.of(this._year,this._month,R)},G.withDayOfYear=function(R){return this.dayOfYear()===R?this:I.ofYearDay(this._year,R)},G._plusUnit=function(R,fe){if(Jr(R,"amountToAdd"),Jr(fe,"unit"),fe instanceof zr){switch(fe){case zr.DAYS:return this.plusDays(R);case zr.WEEKS:return this.plusWeeks(R);case zr.MONTHS:return this.plusMonths(R);case zr.YEARS:return this.plusYears(R);case zr.DECADES:return this.plusYears(rr.safeMultiply(R,10));case zr.CENTURIES:return this.plusYears(rr.safeMultiply(R,100));case zr.MILLENNIA:return this.plusYears(rr.safeMultiply(R,1e3));case zr.ERAS:return this.with(kt.ERA,rr.safeAdd(this.getLong(kt.ERA),R))}throw new Ci("Unsupported unit: "+fe)}return fe.addTo(this,R)},G.plusYears=function(R){if(R===0)return this;var fe=kt.YEAR.checkValidIntValue(this._year+R);return I._resolvePreviousValid(fe,this._month,this._day)},G.plusMonths=function(R){if(R===0)return this;var fe=this._year*12+(this._month-1),V=fe+R,Y=kt.YEAR.checkValidIntValue(rr.floorDiv(V,12)),e=rr.floorMod(V,12)+1;return I._resolvePreviousValid(Y,e,this._day)},G.plusWeeks=function(R){return this.plusDays(rr.safeMultiply(R,7))},G.plusDays=function(R){if(R===0)return this;var fe=rr.safeAdd(this.toEpochDay(),R);return I.ofEpochDay(fe)},G._minusUnit=function(R,fe){return Jr(R,"amountToSubtract"),Jr(fe,"unit"),this._plusUnit(-1*R,fe)},G.minusYears=function(R){return this.plusYears(R*-1)},G.minusMonths=function(R){return this.plusMonths(R*-1)},G.minusWeeks=function(R){return this.plusWeeks(R*-1)},G.minusDays=function(R){return this.plusDays(R*-1)},G.query=function(R){return Jr(R,"query"),R===ia.localDate()?this:O.prototype.query.call(this,R)},G.adjustInto=function(R){return O.prototype.adjustInto.call(this,R)},G.until=function(R,fe){return arguments.length<2?this.until1(R):this.until2(R,fe)},G.until2=function(R,fe){var V=I.from(R);if(fe instanceof zr){switch(fe){case zr.DAYS:return this.daysUntil(V);case zr.WEEKS:return rr.intDiv(this.daysUntil(V),7);case zr.MONTHS:return this._monthsUntil(V);case zr.YEARS:return rr.intDiv(this._monthsUntil(V),12);case zr.DECADES:return rr.intDiv(this._monthsUntil(V),120);case zr.CENTURIES:return rr.intDiv(this._monthsUntil(V),1200);case zr.MILLENNIA:return rr.intDiv(this._monthsUntil(V),12e3);case zr.ERAS:return V.getLong(kt.ERA)-this.getLong(kt.ERA)}throw new Ci("Unsupported unit: "+fe)}return fe.between(this,V)},G.daysUntil=function(R){return R.toEpochDay()-this.toEpochDay()},G._monthsUntil=function(R){var fe=this._prolepticMonth()*32+this.dayOfMonth(),V=R._prolepticMonth()*32+R.dayOfMonth();return rr.intDiv(V-fe,32)},G.until1=function(R){var fe=I.from(R),V=fe._prolepticMonth()-this._prolepticMonth(),Y=fe._day-this._day;if(V>0&&Y<0){V--;var e=this.plusMonths(V);Y=fe.toEpochDay()-e.toEpochDay()}else V<0&&Y>0&&(V++,Y-=fe.lengthOfMonth());var p=rr.intDiv(V,12),L=rr.intMod(V,12);return Gc.of(p,L,Y)},G.atTime=function(){return arguments.length===1?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},G.atTime1=function(R){if(Jr(R,"time"),R instanceof In)return Ui.of(this,R);if(R instanceof ac)return this._atTimeOffsetTime(R);throw new Ka("time must be an instance of LocalTime or OffsetTime"+(R&&R.constructor&&R.constructor.name?", but is "+R.constructor.name:""))},G.atTime4=function(R,fe,V,Y){return V===void 0&&(V=0),Y===void 0&&(Y=0),this.atTime1(In.of(R,fe,V,Y))},G._atTimeOffsetTime=function(R){return _f.of(Ui.of(this,R.toLocalTime()),R.offset())},G.atStartOfDay=function(R){return R!=null?this._atStartOfDayWithZone(R):Ui.of(this,In.MIDNIGHT)},G._atStartOfDayWithZone=function(R){Jr(R,"zone");var fe=this.atTime(In.MIDNIGHT);if(!(R instanceof ei)){var V=R.rules().transition(fe);V!=null&&V.isGap()&&(fe=V.dateTimeAfter())}return Df.of(fe,R)},G.toEpochDay=function(){var R=this._year,fe=this._month,V=0;return V+=365*R,R>=0?V+=rr.intDiv(R+3,4)-rr.intDiv(R+99,100)+rr.intDiv(R+399,400):V-=rr.intDiv(R,-4)-rr.intDiv(R,-100)+rr.intDiv(R,-400),V+=rr.intDiv(367*fe-362,12),V+=this.dayOfMonth()-1,fe>2&&(V--,Xi.isLeapYear(R)||V--),V-Sw},G.compareTo=function(R){return Jr(R,"other"),Xa(R,I,"other"),this._compareTo0(R)},G._compareTo0=function(R){var fe=this._year-R._year;return fe===0&&(fe=this._month-R._month,fe===0&&(fe=this._day-R._day)),fe},G.isAfter=function(R){return this.compareTo(R)>0},G.isBefore=function(R){return this.compareTo(R)<0},G.isEqual=function(R){return this.compareTo(R)===0},G.equals=function(R){return this===R?!0:R instanceof I?this._compareTo0(R)===0:!1},G.hashCode=function(){var R=this._year,fe=this._month,V=this._day;return rr.hash(R&4294965248^(R<<11)+(fe<<6)+V)},G.toString=function(){var R,fe,V,Y=this._year,e=this._month,p=this._day,L=Math.abs(Y);return L<1e3?Y<0?V="-"+(""+(Y-1e4)).slice(-4):V=(""+(Y+1e4)).slice(-4):Y>9999?V="+"+Y:V=""+Y,e<10?fe="-0"+e:fe="-"+e,p<10?R="-0"+p:R="-"+p,V+fe+R},G.toJSON=function(){return this.toString()},G.format=function(R){return Jr(R,"formatter"),Xa(R,vi,"formatter"),O.prototype.format.call(this,R)},I}(D0);function bE(){Ja.MIN=Ja.of(Fl.MIN_VALUE,1,1),Ja.MAX=Ja.of(Fl.MAX_VALUE,12,31),Ja.EPOCH_0=Ja.ofEpochDay(0),Ja.FROM=fs("LocalDate.FROM",function(O){return Ja.from(O)})}var f4=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.chronology=function(){return this.toLocalDate().chronology()},G.query=function(R){return R===ia.chronology()?this.chronology():R===ia.precision()?zr.NANOS:R===ia.localDate()?Ja.ofEpochDay(this.toLocalDate().toEpochDay()):R===ia.localTime()?this.toLocalTime():R===ia.zone()||R===ia.zoneId()||R===ia.offset()?null:O.prototype.query.call(this,R)},G.adjustInto=function(R){return R.with(kt.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(kt.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},G.toInstant=function(R){return Xa(R,ei,"zoneId"),no.ofEpochSecond(this.toEpochSecond(R),this.toLocalTime().nano())},G.toEpochSecond=function(R){Jr(R,"offset");var fe=this.toLocalDate().toEpochDay(),V=fe*86400+this.toLocalTime().toSecondOfDay();return V-=R.totalSeconds(),rr.safeToInt(V)},I}(Yl),Ui=function(O){oi(I,O),I.now=function(R){return R==null?I._now(ao.systemDefaultZone()):R instanceof ao?I._now(R):I._now(ao.system(R))},I._now=function(R){return Jr(R,"clock"),I.ofInstant(R.instant(),R.zone())},I._ofEpochMillis=function(R,fe){var V=rr.floorDiv(R,1e3)+fe.totalSeconds(),Y=rr.floorDiv(V,In.SECONDS_PER_DAY),e=rr.floorMod(V,In.SECONDS_PER_DAY),p=rr.floorMod(R,1e3)*1e6,L=Ja.ofEpochDay(Y),o=In.ofSecondOfDay(e,p);return new I(L,o)},I.of=function(){return arguments.length<=2?I.ofDateAndTime.apply(this,arguments):I.ofNumbers.apply(this,arguments)},I.ofNumbers=function(R,fe,V,Y,e,p,L){Y===void 0&&(Y=0),e===void 0&&(e=0),p===void 0&&(p=0),L===void 0&&(L=0);var o=Ja.of(R,fe,V),C=In.of(Y,e,p,L);return new I(o,C)},I.ofDateAndTime=function(R,fe){return Jr(R,"date"),Jr(fe,"time"),new I(R,fe)},I.ofInstant=function(R,fe){fe===void 0&&(fe=Zi.systemDefault()),Jr(R,"instant"),Xa(R,no,"instant"),Jr(fe,"zone");var V=fe.rules().offset(R);return I.ofEpochSecond(R.epochSecond(),R.nano(),V)},I.ofEpochSecond=function(R,fe,V){R===void 0&&(R=0),fe===void 0&&(fe=0),arguments.length===2&&fe instanceof ei&&(V=fe,fe=0),Jr(V,"offset");var Y=R+V.totalSeconds(),e=rr.floorDiv(Y,In.SECONDS_PER_DAY),p=rr.floorMod(Y,In.SECONDS_PER_DAY),L=Ja.ofEpochDay(e),o=In.ofSecondOfDay(p,fe);return new I(L,o)},I.from=function(R){if(Jr(R,"temporal"),R instanceof I)return R;if(R instanceof Df)return R.toLocalDateTime();try{var fe=Ja.from(R),V=In.from(R);return new I(fe,V)}catch{throw new Fa("Unable to obtain LocalDateTime TemporalAccessor: "+R+", type "+(R.constructor!=null?R.constructor.name:""))}},I.parse=function(R,fe){return fe===void 0&&(fe=vi.ISO_LOCAL_DATE_TIME),Jr(fe,"formatter"),fe.parse(R,I.FROM)};function I(Z,R){var fe;return fe=O.call(this)||this,Xa(Z,Ja,"date"),Xa(R,In,"time"),fe._date=Z,fe._time=R,fe}var G=I.prototype;return G._withDateTime=function(R,fe){return this._date.equals(R)&&this._time.equals(fe)?this:new I(R,fe)},G.isSupported=function(R){return R instanceof kt||R instanceof zr?R.isDateBased()||R.isTimeBased():R!=null&&R.isSupportedBy(this)},G.range=function(R){return R instanceof kt?R.isTimeBased()?this._time.range(R):this._date.range(R):R.rangeRefinedBy(this)},G.get=function(R){return R instanceof kt?R.isTimeBased()?this._time.get(R):this._date.get(R):O.prototype.get.call(this,R)},G.getLong=function(R){return Jr(R,"field"),R instanceof kt?R.isTimeBased()?this._time.getLong(R):this._date.getLong(R):R.getFrom(this)},G.year=function(){return this._date.year()},G.monthValue=function(){return this._date.monthValue()},G.month=function(){return this._date.month()},G.dayOfMonth=function(){return this._date.dayOfMonth()},G.dayOfYear=function(){return this._date.dayOfYear()},G.dayOfWeek=function(){return this._date.dayOfWeek()},G.hour=function(){return this._time.hour()},G.minute=function(){return this._time.minute()},G.second=function(){return this._time.second()},G.nano=function(){return this._time.nano()},G._withAdjuster=function(R){return Jr(R,"adjuster"),R instanceof Ja?this._withDateTime(R,this._time):R instanceof In?this._withDateTime(this._date,R):R instanceof I?R:O.prototype._withAdjuster.call(this,R)},G._withField=function(R,fe){return Jr(R,"field"),R instanceof kt?R.isTimeBased()?this._withDateTime(this._date,this._time.with(R,fe)):this._withDateTime(this._date.with(R,fe),this._time):R.adjustInto(this,fe)},G.withYear=function(R){return this._withDateTime(this._date.withYear(R),this._time)},G.withMonth=function(R){return this._withDateTime(this._date.withMonth(R),this._time)},G.withDayOfMonth=function(R){return this._withDateTime(this._date.withDayOfMonth(R),this._time)},G.withDayOfYear=function(R){return this._withDateTime(this._date.withDayOfYear(R),this._time)},G.withHour=function(R){var fe=this._time.withHour(R);return this._withDateTime(this._date,fe)},G.withMinute=function(R){var fe=this._time.withMinute(R);return this._withDateTime(this._date,fe)},G.withSecond=function(R){var fe=this._time.withSecond(R);return this._withDateTime(this._date,fe)},G.withNano=function(R){var fe=this._time.withNano(R);return this._withDateTime(this._date,fe)},G.truncatedTo=function(R){return this._withDateTime(this._date,this._time.truncatedTo(R))},G._plusUnit=function(R,fe){if(Jr(fe,"unit"),fe instanceof zr){switch(fe){case zr.NANOS:return this.plusNanos(R);case zr.MICROS:return this.plusDays(rr.intDiv(R,In.MICROS_PER_DAY)).plusNanos(rr.intMod(R,In.MICROS_PER_DAY)*1e3);case zr.MILLIS:return this.plusDays(rr.intDiv(R,In.MILLIS_PER_DAY)).plusNanos(rr.intMod(R,In.MILLIS_PER_DAY)*1e6);case zr.SECONDS:return this.plusSeconds(R);case zr.MINUTES:return this.plusMinutes(R);case zr.HOURS:return this.plusHours(R);case zr.HALF_DAYS:return this.plusDays(rr.intDiv(R,256)).plusHours(rr.intMod(R,256)*12)}return this._withDateTime(this._date.plus(R,fe),this._time)}return fe.addTo(this,R)},G.plusYears=function(R){var fe=this._date.plusYears(R);return this._withDateTime(fe,this._time)},G.plusMonths=function(R){var fe=this._date.plusMonths(R);return this._withDateTime(fe,this._time)},G.plusWeeks=function(R){var fe=this._date.plusWeeks(R);return this._withDateTime(fe,this._time)},G.plusDays=function(R){var fe=this._date.plusDays(R);return this._withDateTime(fe,this._time)},G.plusHours=function(R){return this._plusWithOverflow(this._date,R,0,0,0,1)},G.plusMinutes=function(R){return this._plusWithOverflow(this._date,0,R,0,0,1)},G.plusSeconds=function(R){return this._plusWithOverflow(this._date,0,0,R,0,1)},G.plusNanos=function(R){return this._plusWithOverflow(this._date,0,0,0,R,1)},G._minusUnit=function(R,fe){return Jr(fe,"unit"),this._plusUnit(-1*R,fe)},G.minusYears=function(R){return this.plusYears(-1*R)},G.minusMonths=function(R){return this.plusMonths(-1*R)},G.minusWeeks=function(R){return this.plusWeeks(-1*R)},G.minusDays=function(R){return this.plusDays(-1*R)},G.minusHours=function(R){return this._plusWithOverflow(this._date,R,0,0,0,-1)},G.minusMinutes=function(R){return this._plusWithOverflow(this._date,0,R,0,0,-1)},G.minusSeconds=function(R){return this._plusWithOverflow(this._date,0,0,R,0,-1)},G.minusNanos=function(R){return this._plusWithOverflow(this._date,0,0,0,R,-1)},G._plusWithOverflow=function(R,fe,V,Y,e,p){if(fe===0&&V===0&&Y===0&&e===0)return this._withDateTime(R,this._time);var L=rr.intDiv(e,In.NANOS_PER_DAY)+rr.intDiv(Y,In.SECONDS_PER_DAY)+rr.intDiv(V,In.MINUTES_PER_DAY)+rr.intDiv(fe,In.HOURS_PER_DAY);L*=p;var o=rr.intMod(e,In.NANOS_PER_DAY)+rr.intMod(Y,In.SECONDS_PER_DAY)*In.NANOS_PER_SECOND+rr.intMod(V,In.MINUTES_PER_DAY)*In.NANOS_PER_MINUTE+rr.intMod(fe,In.HOURS_PER_DAY)*In.NANOS_PER_HOUR,C=this._time.toNanoOfDay();o=o*p+C,L+=rr.floorDiv(o,In.NANOS_PER_DAY);var S=rr.floorMod(o,In.NANOS_PER_DAY),v=S===C?this._time:In.ofNanoOfDay(S);return this._withDateTime(R.plusDays(L),v)},G.query=function(R){return Jr(R,"query"),R===ia.localDate()?this.toLocalDate():O.prototype.query.call(this,R)},G.adjustInto=function(R){return O.prototype.adjustInto.call(this,R)},G.until=function(R,fe){Jr(R,"endExclusive"),Jr(fe,"unit");var V=I.from(R);if(fe instanceof zr){if(fe.isTimeBased()){var Y=this._date.daysUntil(V._date),e=V._time.toNanoOfDay()-this._time.toNanoOfDay();Y>0&&e<0?(Y--,e+=In.NANOS_PER_DAY):Y<0&&e>0&&(Y++,e-=In.NANOS_PER_DAY);var p=Y;switch(fe){case zr.NANOS:return p=rr.safeMultiply(p,In.NANOS_PER_DAY),rr.safeAdd(p,e);case zr.MICROS:return p=rr.safeMultiply(p,In.MICROS_PER_DAY),rr.safeAdd(p,rr.intDiv(e,1e3));case zr.MILLIS:return p=rr.safeMultiply(p,In.MILLIS_PER_DAY),rr.safeAdd(p,rr.intDiv(e,1e6));case zr.SECONDS:return p=rr.safeMultiply(p,In.SECONDS_PER_DAY),rr.safeAdd(p,rr.intDiv(e,In.NANOS_PER_SECOND));case zr.MINUTES:return p=rr.safeMultiply(p,In.MINUTES_PER_DAY),rr.safeAdd(p,rr.intDiv(e,In.NANOS_PER_MINUTE));case zr.HOURS:return p=rr.safeMultiply(p,In.HOURS_PER_DAY),rr.safeAdd(p,rr.intDiv(e,In.NANOS_PER_HOUR));case zr.HALF_DAYS:return p=rr.safeMultiply(p,2),rr.safeAdd(p,rr.intDiv(e,In.NANOS_PER_HOUR*12))}throw new Ci("Unsupported unit: "+fe)}var L=V._date,o=V._time;return L.isAfter(this._date)&&o.isBefore(this._time)?L=L.minusDays(1):L.isBefore(this._date)&&o.isAfter(this._time)&&(L=L.plusDays(1)),this._date.until(L,fe)}return fe.between(this,V)},G.atOffset=function(R){return _f.of(this,R)},G.atZone=function(R){return Df.of(this,R)},G.toLocalDate=function(){return this._date},G.toLocalTime=function(){return this._time},G.compareTo=function(R){return Jr(R,"other"),Xa(R,I,"other"),this._compareTo0(R)},G._compareTo0=function(R){var fe=this._date.compareTo(R.toLocalDate());return fe===0&&(fe=this._time.compareTo(R.toLocalTime())),fe},G.isAfter=function(R){return this.compareTo(R)>0},G.isBefore=function(R){return this.compareTo(R)<0},G.isEqual=function(R){return this.compareTo(R)===0},G.equals=function(R){return this===R?!0:R instanceof I?this._date.equals(R._date)&&this._time.equals(R._time):!1},G.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},G.toString=function(){return this._date.toString()+"T"+this._time.toString()},G.toJSON=function(){return this.toString()},G.format=function(R){return Jr(R,"formatter"),R.format(this)},I}(f4);function wE(){Ui.MIN=Ui.of(Ja.MIN,In.MIN),Ui.MAX=Ui.of(Ja.MAX,In.MAX),Ui.FROM=fs("LocalDateTime.FROM",function(O){return Ui.from(O)})}var In=function(O){oi(I,O),I.now=function(R){return R==null?I._now(ao.systemDefaultZone()):R instanceof ao?I._now(R):I._now(ao.system(R))},I._now=function(R){return R===void 0&&(R=ao.systemDefaultZone()),Jr(R,"clock"),I.ofInstant(R.instant(),R.zone())},I.ofInstant=function(R,fe){fe===void 0&&(fe=Zi.systemDefault());var V=fe.rules().offset(R),Y=rr.intMod(R.epochSecond(),I.SECONDS_PER_DAY);return Y=rr.intMod(Y+V.totalSeconds(),I.SECONDS_PER_DAY),Y<0&&(Y+=I.SECONDS_PER_DAY),I.ofSecondOfDay(Y,R.nano())},I.of=function(R,fe,V,Y){return new I(R,fe,V,Y)},I.ofSecondOfDay=function(R,fe){R===void 0&&(R=0),fe===void 0&&(fe=0),kt.SECOND_OF_DAY.checkValidValue(R),kt.NANO_OF_SECOND.checkValidValue(fe);var V=rr.intDiv(R,I.SECONDS_PER_HOUR);R-=V*I.SECONDS_PER_HOUR;var Y=rr.intDiv(R,I.SECONDS_PER_MINUTE);return R-=Y*I.SECONDS_PER_MINUTE,new I(V,Y,R,fe)},I.ofNanoOfDay=function(R){R===void 0&&(R=0),kt.NANO_OF_DAY.checkValidValue(R);var fe=rr.intDiv(R,I.NANOS_PER_HOUR);R-=fe*I.NANOS_PER_HOUR;var V=rr.intDiv(R,I.NANOS_PER_MINUTE);R-=V*I.NANOS_PER_MINUTE;var Y=rr.intDiv(R,I.NANOS_PER_SECOND);return R-=Y*I.NANOS_PER_SECOND,new I(fe,V,Y,R)},I.from=function(R){Jr(R,"temporal");var fe=R.query(ia.localTime());if(fe==null)throw new Fa("Unable to obtain LocalTime TemporalAccessor: "+R+", type "+(R.constructor!=null?R.constructor.name:""));return fe},I.parse=function(R,fe){return fe===void 0&&(fe=vi.ISO_LOCAL_TIME),Jr(fe,"formatter"),fe.parse(R,I.FROM)};function I(Z,R,fe,V){var Y;Z===void 0&&(Z=0),R===void 0&&(R=0),fe===void 0&&(fe=0),V===void 0&&(V=0),Y=O.call(this)||this;var e=rr.safeToInt(Z),p=rr.safeToInt(R),L=rr.safeToInt(fe),o=rr.safeToInt(V);return I._validate(e,p,L,o),p===0&&L===0&&o===0?(I.HOURS[e]||(Y._hour=e,Y._minute=p,Y._second=L,Y._nano=o,I.HOURS[e]=L0(Y)),I.HOURS[e]||L0(Y)):(Y._hour=e,Y._minute=p,Y._second=L,Y._nano=o,Y)}I._validate=function(R,fe,V,Y){kt.HOUR_OF_DAY.checkValidValue(R),kt.MINUTE_OF_HOUR.checkValidValue(fe),kt.SECOND_OF_MINUTE.checkValidValue(V),kt.NANO_OF_SECOND.checkValidValue(Y)};var G=I.prototype;return G.isSupported=function(R){return R instanceof kt||R instanceof zr?R.isTimeBased():R!=null&&R.isSupportedBy(this)},G.range=function(R){return Jr(R),O.prototype.range.call(this,R)},G.get=function(R){return this.getLong(R)},G.getLong=function(R){return Jr(R,"field"),R instanceof kt?this._get0(R):R.getFrom(this)},G._get0=function(R){switch(R){case kt.NANO_OF_SECOND:return this._nano;case kt.NANO_OF_DAY:return this.toNanoOfDay();case kt.MICRO_OF_SECOND:return rr.intDiv(this._nano,1e3);case kt.MICRO_OF_DAY:return rr.intDiv(this.toNanoOfDay(),1e3);case kt.MILLI_OF_SECOND:return rr.intDiv(this._nano,1e6);case kt.MILLI_OF_DAY:return rr.intDiv(this.toNanoOfDay(),1e6);case kt.SECOND_OF_MINUTE:return this._second;case kt.SECOND_OF_DAY:return this.toSecondOfDay();case kt.MINUTE_OF_HOUR:return this._minute;case kt.MINUTE_OF_DAY:return this._hour*60+this._minute;case kt.HOUR_OF_AMPM:return rr.intMod(this._hour,12);case kt.CLOCK_HOUR_OF_AMPM:{var fe=rr.intMod(this._hour,12);return fe%12===0?12:fe}case kt.HOUR_OF_DAY:return this._hour;case kt.CLOCK_HOUR_OF_DAY:return this._hour===0?24:this._hour;case kt.AMPM_OF_DAY:return rr.intDiv(this._hour,12)}throw new Ci("Unsupported field: "+R)},G.hour=function(){return this._hour},G.minute=function(){return this._minute},G.second=function(){return this._second},G.nano=function(){return this._nano},G._withAdjuster=function(R){return Jr(R,"adjuster"),R instanceof I?R:O.prototype._withAdjuster.call(this,R)},G._withField=function(R,fe){if(Jr(R,"field"),Xa(R,lc,"field"),R instanceof kt){switch(R.checkValidValue(fe),R){case kt.NANO_OF_SECOND:return this.withNano(fe);case kt.NANO_OF_DAY:return I.ofNanoOfDay(fe);case kt.MICRO_OF_SECOND:return this.withNano(fe*1e3);case kt.MICRO_OF_DAY:return I.ofNanoOfDay(fe*1e3);case kt.MILLI_OF_SECOND:return this.withNano(fe*1e6);case kt.MILLI_OF_DAY:return I.ofNanoOfDay(fe*1e6);case kt.SECOND_OF_MINUTE:return this.withSecond(fe);case kt.SECOND_OF_DAY:return this.plusSeconds(fe-this.toSecondOfDay());case kt.MINUTE_OF_HOUR:return this.withMinute(fe);case kt.MINUTE_OF_DAY:return this.plusMinutes(fe-(this._hour*60+this._minute));case kt.HOUR_OF_AMPM:return this.plusHours(fe-rr.intMod(this._hour,12));case kt.CLOCK_HOUR_OF_AMPM:return this.plusHours((fe===12?0:fe)-rr.intMod(this._hour,12));case kt.HOUR_OF_DAY:return this.withHour(fe);case kt.CLOCK_HOUR_OF_DAY:return this.withHour(fe===24?0:fe);case kt.AMPM_OF_DAY:return this.plusHours((fe-rr.intDiv(this._hour,12))*12)}throw new Ci("Unsupported field: "+R)}return R.adjustInto(this,fe)},G.withHour=function(R){return R===void 0&&(R=0),this._hour===R?this:new I(R,this._minute,this._second,this._nano)},G.withMinute=function(R){return R===void 0&&(R=0),this._minute===R?this:new I(this._hour,R,this._second,this._nano)},G.withSecond=function(R){return R===void 0&&(R=0),this._second===R?this:new I(this._hour,this._minute,R,this._nano)},G.withNano=function(R){return R===void 0&&(R=0),this._nano===R?this:new I(this._hour,this._minute,this._second,R)},G.truncatedTo=function(R){if(Jr(R,"unit"),R===zr.NANOS)return this;var fe=R.duration();if(fe.seconds()>I.SECONDS_PER_DAY)throw new Fa("Unit is too large to be used for truncation");var V=fe.toNanos();if(rr.intMod(I.NANOS_PER_DAY,V)!==0)throw new Fa("Unit must divide into a standard day without remainder");var Y=this.toNanoOfDay();return I.ofNanoOfDay(rr.intDiv(Y,V)*V)},G._plusUnit=function(R,fe){if(Jr(fe,"unit"),fe instanceof zr){switch(fe){case zr.NANOS:return this.plusNanos(R);case zr.MICROS:return this.plusNanos(rr.intMod(R,I.MICROS_PER_DAY)*1e3);case zr.MILLIS:return this.plusNanos(rr.intMod(R,I.MILLIS_PER_DAY)*1e6);case zr.SECONDS:return this.plusSeconds(R);case zr.MINUTES:return this.plusMinutes(R);case zr.HOURS:return this.plusHours(R);case zr.HALF_DAYS:return this.plusHours(rr.intMod(R,2)*12)}throw new Ci("Unsupported unit: "+fe)}return fe.addTo(this,R)},G.plusHours=function(R){if(R===0)return this;var fe=rr.intMod(rr.intMod(R,I.HOURS_PER_DAY)+this._hour+I.HOURS_PER_DAY,I.HOURS_PER_DAY);return new I(fe,this._minute,this._second,this._nano)},G.plusMinutes=function(R){if(R===0)return this;var fe=this._hour*I.MINUTES_PER_HOUR+this._minute,V=rr.intMod(rr.intMod(R,I.MINUTES_PER_DAY)+fe+I.MINUTES_PER_DAY,I.MINUTES_PER_DAY);if(fe===V)return this;var Y=rr.intDiv(V,I.MINUTES_PER_HOUR),e=rr.intMod(V,I.MINUTES_PER_HOUR);return new I(Y,e,this._second,this._nano)},G.plusSeconds=function(R){if(R===0)return this;var fe=this._hour*I.SECONDS_PER_HOUR+this._minute*I.SECONDS_PER_MINUTE+this._second,V=rr.intMod(rr.intMod(R,I.SECONDS_PER_DAY)+fe+I.SECONDS_PER_DAY,I.SECONDS_PER_DAY);if(fe===V)return this;var Y=rr.intDiv(V,I.SECONDS_PER_HOUR),e=rr.intMod(rr.intDiv(V,I.SECONDS_PER_MINUTE),I.MINUTES_PER_HOUR),p=rr.intMod(V,I.SECONDS_PER_MINUTE);return new I(Y,e,p,this._nano)},G.plusNanos=function(R){if(R===0)return this;var fe=this.toNanoOfDay(),V=rr.intMod(rr.intMod(R,I.NANOS_PER_DAY)+fe+I.NANOS_PER_DAY,I.NANOS_PER_DAY);if(fe===V)return this;var Y=rr.intDiv(V,I.NANOS_PER_HOUR),e=rr.intMod(rr.intDiv(V,I.NANOS_PER_MINUTE),I.MINUTES_PER_HOUR),p=rr.intMod(rr.intDiv(V,I.NANOS_PER_SECOND),I.SECONDS_PER_MINUTE),L=rr.intMod(V,I.NANOS_PER_SECOND);return new I(Y,e,p,L)},G._minusUnit=function(R,fe){return Jr(fe,"unit"),this._plusUnit(-1*R,fe)},G.minusHours=function(R){return this.plusHours(-1*rr.intMod(R,I.HOURS_PER_DAY))},G.minusMinutes=function(R){return this.plusMinutes(-1*rr.intMod(R,I.MINUTES_PER_DAY))},G.minusSeconds=function(R){return this.plusSeconds(-1*rr.intMod(R,I.SECONDS_PER_DAY))},G.minusNanos=function(R){return this.plusNanos(-1*rr.intMod(R,I.NANOS_PER_DAY))},G.query=function(R){return Jr(R,"query"),R===ia.precision()?zr.NANOS:R===ia.localTime()?this:R===ia.chronology()||R===ia.zoneId()||R===ia.zone()||R===ia.offset()||R===ia.localDate()?null:R.queryFrom(this)},G.adjustInto=function(R){return R.with(I.NANO_OF_DAY,this.toNanoOfDay())},G.until=function(R,fe){Jr(R,"endExclusive"),Jr(fe,"unit");var V=I.from(R);if(fe instanceof zr){var Y=V.toNanoOfDay()-this.toNanoOfDay();switch(fe){case zr.NANOS:return Y;case zr.MICROS:return rr.intDiv(Y,1e3);case zr.MILLIS:return rr.intDiv(Y,1e6);case zr.SECONDS:return rr.intDiv(Y,I.NANOS_PER_SECOND);case zr.MINUTES:return rr.intDiv(Y,I.NANOS_PER_MINUTE);case zr.HOURS:return rr.intDiv(Y,I.NANOS_PER_HOUR);case zr.HALF_DAYS:return rr.intDiv(Y,12*I.NANOS_PER_HOUR)}throw new Ci("Unsupported unit: "+fe)}return fe.between(this,V)},G.atDate=function(R){return Ui.of(R,this)},G.atOffset=function(R){return ac.of(this,R)},G.toSecondOfDay=function(){var R=this._hour*I.SECONDS_PER_HOUR;return R+=this._minute*I.SECONDS_PER_MINUTE,R+=this._second,R},G.toNanoOfDay=function(){var R=this._hour*I.NANOS_PER_HOUR;return R+=this._minute*I.NANOS_PER_MINUTE,R+=this._second*I.NANOS_PER_SECOND,R+=this._nano,R},G.compareTo=function(R){Jr(R,"other"),Xa(R,I,"other");var fe=rr.compareNumbers(this._hour,R._hour);return fe===0&&(fe=rr.compareNumbers(this._minute,R._minute),fe===0&&(fe=rr.compareNumbers(this._second,R._second),fe===0&&(fe=rr.compareNumbers(this._nano,R._nano)))),fe},G.isAfter=function(R){return this.compareTo(R)>0},G.isBefore=function(R){return this.compareTo(R)<0},G.equals=function(R){return this===R?!0:R instanceof I?this._hour===R._hour&&this._minute===R._minute&&this._second===R._second&&this._nano===R._nano:!1},G.hashCode=function(){var R=this.toNanoOfDay();return rr.hash(R)},G.toString=function(){var R="",fe=this._hour,V=this._minute,Y=this._second,e=this._nano;return R+=fe<10?"0":"",R+=fe,R+=V<10?":0":":",R+=V,(Y>0||e>0)&&(R+=Y<10?":0":":",R+=Y,e>0&&(R+=".",rr.intMod(e,1e6)===0?R+=(""+(rr.intDiv(e,1e6)+1e3)).substring(1):rr.intMod(e,1e3)===0?R+=(""+(rr.intDiv(e,1e3)+1e6)).substring(1):R+=(""+(e+1e9)).substring(1))),R},G.toJSON=function(){return this.toString()},G.format=function(R){return Jr(R,"formatter"),R.format(this)},I}(Yl);function TE(){In.HOURS=[];for(var O=0;O<24;O++)In.of(O,0,0,0);In.MIN=In.HOURS[0],In.MAX=new In(23,59,59,999999999),In.MIDNIGHT=In.HOURS[0],In.NOON=In.HOURS[12],In.FROM=fs("LocalTime.FROM",function(I){return In.from(I)})}In.HOURS_PER_DAY=24;In.MINUTES_PER_HOUR=60;In.MINUTES_PER_DAY=In.MINUTES_PER_HOUR*In.HOURS_PER_DAY;In.SECONDS_PER_MINUTE=60;In.SECONDS_PER_HOUR=In.SECONDS_PER_MINUTE*In.MINUTES_PER_HOUR;In.SECONDS_PER_DAY=In.SECONDS_PER_HOUR*In.HOURS_PER_DAY;In.MILLIS_PER_DAY=In.SECONDS_PER_DAY*1e3;In.MICROS_PER_DAY=In.SECONDS_PER_DAY*1e6;In.NANOS_PER_SECOND=1e9;In.NANOS_PER_MINUTE=In.NANOS_PER_SECOND*In.SECONDS_PER_MINUTE;In.NANOS_PER_HOUR=In.NANOS_PER_MINUTE*In.MINUTES_PER_HOUR;In.NANOS_PER_DAY=In.NANOS_PER_HOUR*In.HOURS_PER_DAY;var Ig=1e6,no=function(O){oi(I,O),I.now=function(R){return R===void 0&&(R=ao.systemUTC()),R.instant()},I.ofEpochSecond=function(R,fe){fe===void 0&&(fe=0);var V=R+rr.floorDiv(fe,In.NANOS_PER_SECOND),Y=rr.floorMod(fe,In.NANOS_PER_SECOND);return I._create(V,Y)},I.ofEpochMilli=function(R){var fe=rr.floorDiv(R,1e3),V=rr.floorMod(R,1e3);return I._create(fe,V*1e6)},I.ofEpochMicro=function(R){var fe=rr.floorDiv(R,1e6),V=rr.floorMod(R,1e6);return I._create(fe,V*1e3)},I.from=function(R){try{var fe=R.getLong(kt.INSTANT_SECONDS),V=R.get(kt.NANO_OF_SECOND);return I.ofEpochSecond(fe,V)}catch(Y){throw new Fa("Unable to obtain Instant from TemporalAccessor: "+R+", type "+typeof R,Y)}},I.parse=function(R){return vi.ISO_INSTANT.parse(R,I.FROM)},I._create=function(R,fe){return R===0&&fe===0?I.EPOCH:new I(R,fe)},I._validate=function(R,fe){if(R<I.MIN_SECONDS||R>I.MAX_SECONDS)throw new Fa("Instant exceeds minimum or maximum instant");if(fe<0||fe>In.NANOS_PER_SECOND)throw new Fa("Instant exceeds minimum or maximum instant")};function I(Z,R){var fe;return fe=O.call(this)||this,I._validate(Z,R),fe._seconds=rr.safeToInt(Z),fe._nanos=rr.safeToInt(R),fe}var G=I.prototype;return G.isSupported=function(R){return R instanceof kt?R===kt.INSTANT_SECONDS||R===kt.NANO_OF_SECOND||R===kt.MICRO_OF_SECOND||R===kt.MILLI_OF_SECOND:R instanceof zr?R.isTimeBased()||R===zr.DAYS:R!=null&&R.isSupportedBy(this)},G.range=function(R){return O.prototype.range.call(this,R)},G.get=function(R){return this.getLong(R)},G.getLong=function(R){if(R instanceof kt){switch(R){case kt.NANO_OF_SECOND:return this._nanos;case kt.MICRO_OF_SECOND:return rr.intDiv(this._nanos,1e3);case kt.MILLI_OF_SECOND:return rr.intDiv(this._nanos,Ig);case kt.INSTANT_SECONDS:return this._seconds}throw new Ci("Unsupported field: "+R)}return R.getFrom(this)},G.epochSecond=function(){return this._seconds},G.nano=function(){return this._nanos},G._withField=function(R,fe){if(Jr(R,"field"),R instanceof kt){switch(R.checkValidValue(fe),R){case kt.MILLI_OF_SECOND:{var V=fe*Ig;return V!==this._nanos?I._create(this._seconds,V):this}case kt.MICRO_OF_SECOND:{var Y=fe*1e3;return Y!==this._nanos?I._create(this._seconds,Y):this}case kt.NANO_OF_SECOND:return fe!==this._nanos?I._create(this._seconds,fe):this;case kt.INSTANT_SECONDS:return fe!==this._seconds?I._create(fe,this._nanos):this}throw new Ci("Unsupported field: "+R)}return R.adjustInto(this,fe)},G.truncatedTo=function(R){if(Jr(R,"unit"),R===zr.NANOS)return this;var fe=R.duration();if(fe.seconds()>In.SECONDS_PER_DAY)throw new Fa("Unit is too large to be used for truncation");var V=fe.toNanos();if(rr.intMod(In.NANOS_PER_DAY,V)!==0)throw new Fa("Unit must divide into a standard day without remainder");var Y=rr.intMod(this._seconds,In.SECONDS_PER_DAY)*In.NANOS_PER_SECOND+this._nanos,e=rr.intDiv(Y,V)*V;return this.plusNanos(e-Y)},G._plusUnit=function(R,fe){if(Jr(R,"amountToAdd"),Jr(fe,"unit"),Xa(fe,eh),fe instanceof zr){switch(fe){case zr.NANOS:return this.plusNanos(R);case zr.MICROS:return this.plusMicros(R);case zr.MILLIS:return this.plusMillis(R);case zr.SECONDS:return this.plusSeconds(R);case zr.MINUTES:return this.plusSeconds(rr.safeMultiply(R,In.SECONDS_PER_MINUTE));case zr.HOURS:return this.plusSeconds(rr.safeMultiply(R,In.SECONDS_PER_HOUR));case zr.HALF_DAYS:return this.plusSeconds(rr.safeMultiply(R,In.SECONDS_PER_DAY/2));case zr.DAYS:return this.plusSeconds(rr.safeMultiply(R,In.SECONDS_PER_DAY))}throw new Ci("Unsupported unit: "+fe)}return fe.addTo(this,R)},G.plusSeconds=function(R){return this._plus(R,0)},G.plusMillis=function(R){return this._plus(rr.intDiv(R,1e3),rr.intMod(R,1e3)*Ig)},G.plusNanos=function(R){return this._plus(0,R)},G.plusMicros=function(R){return this._plus(rr.intDiv(R,1e6),rr.intMod(R,1e6)*1e3)},G._plus=function(R,fe){if(R===0&&fe===0)return this;var V=this._seconds+R;V=V+rr.intDiv(fe,In.NANOS_PER_SECOND);var Y=this._nanos+fe%In.NANOS_PER_SECOND;return I.ofEpochSecond(V,Y)},G._minusUnit=function(R,fe){return this._plusUnit(-1*R,fe)},G.minusSeconds=function(R){return this.plusSeconds(R*-1)},G.minusMillis=function(R){return this.plusMillis(-1*R)},G.minusNanos=function(R){return this.plusNanos(-1*R)},G.minusMicros=function(R){return this.plusMicros(-1*R)},G.query=function(R){return Jr(R,"query"),R===ia.precision()?zr.NANOS:R===ia.localDate()||R===ia.localTime()||R===ia.chronology()||R===ia.zoneId()||R===ia.zone()||R===ia.offset()?null:R.queryFrom(this)},G.adjustInto=function(R){return Jr(R,"temporal"),R.with(kt.INSTANT_SECONDS,this._seconds).with(kt.NANO_OF_SECOND,this._nanos)},G.until=function(R,fe){Jr(R,"endExclusive"),Jr(fe,"unit");var V=I.from(R);if(fe instanceof zr){switch(fe){case zr.NANOS:return this._nanosUntil(V);case zr.MICROS:return this._microsUntil(V);case zr.MILLIS:return rr.safeSubtract(V.toEpochMilli(),this.toEpochMilli());case zr.SECONDS:return this._secondsUntil(V);case zr.MINUTES:return rr.intDiv(this._secondsUntil(V),In.SECONDS_PER_MINUTE);case zr.HOURS:return rr.intDiv(this._secondsUntil(V),In.SECONDS_PER_HOUR);case zr.HALF_DAYS:return rr.intDiv(this._secondsUntil(V),12*In.SECONDS_PER_HOUR);case zr.DAYS:return rr.intDiv(this._secondsUntil(V),In.SECONDS_PER_DAY)}throw new Ci("Unsupported unit: "+fe)}return fe.between(this,V)},G._microsUntil=function(R){var fe=rr.safeSubtract(R.epochSecond(),this.epochSecond()),V=rr.safeMultiply(fe,1e6);return rr.safeAdd(V,rr.intDiv(R.nano()-this.nano(),1e3))},G._nanosUntil=function(R){var fe=rr.safeSubtract(R.epochSecond(),this.epochSecond()),V=rr.safeMultiply(fe,In.NANOS_PER_SECOND);return rr.safeAdd(V,R.nano()-this.nano())},G._secondsUntil=function(R){var fe=rr.safeSubtract(R.epochSecond(),this.epochSecond()),V=R.nano()-this.nano();return fe>0&&V<0?fe--:fe<0&&V>0&&fe++,fe},G.atOffset=function(R){return _f.ofInstant(this,R)},G.atZone=function(R){return Df.ofInstant(this,R)},G.toEpochMilli=function(){var R=rr.safeMultiply(this._seconds,1e3);return R+rr.intDiv(this._nanos,Ig)},G.compareTo=function(R){Jr(R,"otherInstant"),Xa(R,I,"otherInstant");var fe=rr.compareNumbers(this._seconds,R._seconds);return fe!==0?fe:this._nanos-R._nanos},G.isAfter=function(R){return this.compareTo(R)>0},G.isBefore=function(R){return this.compareTo(R)<0},G.equals=function(R){return this===R?!0:R instanceof I?this.epochSecond()===R.epochSecond()&&this.nano()===R.nano():!1},G.hashCode=function(){return rr.hashCode(this._seconds,this._nanos)},G.toString=function(){return vi.ISO_INSTANT.format(this)},G.toJSON=function(){return this.toString()},I}(Yl);function AE(){no.MIN_SECONDS=-31619119219200,no.MAX_SECONDS=31494816403199,no.EPOCH=new no(0,0),no.MIN=no.ofEpochSecond(no.MIN_SECONDS,0),no.MAX=no.ofEpochSecond(no.MAX_SECONDS,999999999),no.FROM=fs("Instant.FROM",function(O){return no.from(O)})}var ao=function(){function O(){}O.systemUTC=function(){return new Jm(ei.UTC)},O.systemDefaultZone=function(){return new Jm(Zi.systemDefault())},O.system=function(Z){return new Jm(Z)},O.fixed=function(Z,R){return new SE(Z,R)},O.offset=function(Z,R){return new ME(Z,R)};var I=O.prototype;return I.millis=function(){qa("Clock.millis")},I.instant=function(){qa("Clock.instant")},I.zone=function(){qa("Clock.zone")},I.withZone=function(){qa("Clock.withZone")},O}(),Jm=function(O){oi(I,O);function I(Z){var R;return Jr(Z,"zone"),R=O.call(this)||this,R._zone=Z,R}var G=I.prototype;return G.zone=function(){return this._zone},G.millis=function(){return new Date().getTime()},G.instant=function(){return no.ofEpochMilli(this.millis())},G.equals=function(R){return R instanceof I?this._zone.equals(R._zone):!1},G.withZone=function(R){return R.equals(this._zone)?this:new I(R)},G.toString=function(){return"SystemClock["+this._zone.toString()+"]"},I}(ao),SE=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._instant=Z,fe._zoneId=R,fe}var G=I.prototype;return G.instant=function(){return this._instant},G.millis=function(){return this._instant.toEpochMilli()},G.zone=function(){return this._zoneId},G.toString=function(){return"FixedClock[]"},G.equals=function(R){return R instanceof I?this._instant.equals(R._instant)&&this._zoneId.equals(R._zoneId):!1},G.withZone=function(R){return R.equals(this._zoneId)?this:new I(this._instant,R)},I}(ao),ME=function(O){oi(I,O);function I(Z,R){var fe;return fe=O.call(this)||this,fe._baseClock=Z,fe._offset=R,fe}var G=I.prototype;return G.zone=function(){return this._baseClock.zone()},G.withZone=function(R){return R.equals(this._baseClock.zone())?this:new I(this._baseClock.withZone(R),this._offset)},G.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},G.instant=function(){return this._baseClock.instant().plus(this._offset)},G.equals=function(R){return R instanceof I?this._baseClock.equals(R._baseClock)&&this._offset.equals(R._offset):!1},G.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},I}(ao);/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var EE=function(){O.of=function(Z,R,fe){return new O(Z,R,fe)};function O(G,Z,R){if(Jr(G,"transition"),Jr(Z,"offsetBefore"),Jr(R,"offsetAfter"),Z.equals(R))throw new Ka("Offsets must not be equal");if(G.nano()!==0)throw new Ka("Nano-of-second must be zero");G instanceof Ui?this._transition=G:this._transition=Ui.ofEpochSecond(G,0,Z),this._offsetBefore=Z,this._offsetAfter=R}var I=O.prototype;return I.instant=function(){return this._transition.toInstant(this._offsetBefore)},I.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},I.dateTimeBefore=function(){return this._transition},I.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},I.offsetBefore=function(){return this._offsetBefore},I.offsetAfter=function(){return this._offsetAfter},I.duration=function(){return Vo.ofSeconds(this.durationSeconds())},I.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},I.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},I.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},I.isValidOffset=function(Z){return this.isGap()?!1:this._offsetBefore.equals(Z)||this._offsetAfter.equals(Z)},I.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},I.compareTo=function(Z){return this.instant().compareTo(Z.instant())},I.equals=function(Z){if(Z===this)return!0;if(Z instanceof O){var R=Z;return this._transition.equals(R._transition)&&this._offsetBefore.equals(R.offsetBefore())&&this._offsetAfter.equals(R.offsetAfter())}return!1},I.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},I.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},O}();/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function _E(){ia.ZONE_ID=fs("ZONE_ID",function(O){return O.query(ia.ZONE_ID)}),ia.CHRONO=fs("CHRONO",function(O){return O.query(ia.CHRONO)}),ia.PRECISION=fs("PRECISION",function(O){return O.query(ia.PRECISION)}),ia.OFFSET=fs("OFFSET",function(O){return O.isSupported(kt.OFFSET_SECONDS)?ei.ofTotalSeconds(O.get(kt.OFFSET_SECONDS)):null}),ia.ZONE=fs("ZONE",function(O){var I=O.query(ia.ZONE_ID);return I??O.query(ia.OFFSET)}),ia.LOCAL_DATE=fs("LOCAL_DATE",function(O){return O.isSupported(kt.EPOCH_DAY)?Ja.ofEpochDay(O.getLong(kt.EPOCH_DAY)):null}),ia.LOCAL_TIME=fs("LOCAL_TIME",function(O){return O.isSupported(kt.NANO_OF_DAY)?In.ofNanoOfDay(O.getLong(kt.NANO_OF_DAY)):null})}var CE=function(O){oi(I,O);function I(){return O.apply(this,arguments)||this}var G=I.prototype;return G.isFixedOffset=function(){return!1},G.offsetOfInstant=function(R){var fe=new Date(R.toEpochMilli()).getTimezoneOffset();return ei.ofTotalMinutes(fe*-1)},G.offsetOfEpochMilli=function(R){var fe=new Date(R).getTimezoneOffset();return ei.ofTotalMinutes(fe*-1)},G.offsetOfLocalDateTime=function(R){var fe=R.toEpochSecond(ei.UTC)*1e3,V=new Date(fe).getTimezoneOffset(),Y=fe+V*6e4,e=new Date(Y).getTimezoneOffset();return ei.ofTotalMinutes(e*-1)},G.validOffsets=function(R){return[this.offsetOfLocalDateTime(R)]},G.transition=function(){return null},G.standardOffset=function(R){return this.offsetOfInstant(R)},G.daylightSavings=function(){this._throwNotSupported()},G.isDaylightSavings=function(){this._throwNotSupported()},G.isValidOffset=function(R,fe){return this.offsetOfLocalDateTime(R).equals(fe)},G.nextTransition=function(){this._throwNotSupported()},G.previousTransition=function(){this._throwNotSupported()},G.transitions=function(){this._throwNotSupported()},G.transitionRules=function(){this._throwNotSupported()},G._throwNotSupported=function(){throw new Fa("not supported operation")},G.equals=function(R){return this===R||R instanceof I},G.toString=function(){return"SYSTEM"},I}(Hy),LE=function(O){oi(I,O);function I(){var Z;return Z=O.call(this)||this,Z._rules=new CE,Z}var G=I.prototype;return G.rules=function(){return this._rules},G.equals=function(R){return this===R},G.id=function(){return"SYSTEM"},I}(Zi);/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Cd=function(){function O(){}return O.systemDefault=function(){return ex},O.getAvailableZoneIds=function(){return Yy.getAvailableZoneIds()},O.of=function(G){if(Jr(G,"zoneId"),G==="Z")return ei.UTC;if(G.length===1)throw new Fa("Invalid zone: "+G);if(tc.startsWith(G,"+")||tc.startsWith(G,"-"))return ei.of(G);if(G==="UTC"||G==="GMT"||G==="GMT0"||G==="UT")return new rc(G,ei.UTC.rules());if(tc.startsWith(G,"UTC+")||tc.startsWith(G,"GMT+")||tc.startsWith(G,"UTC-")||tc.startsWith(G,"GMT-")){var Z=ei.of(G.substring(3));return Z.totalSeconds()===0?new rc(G.substring(0,3),Z.rules()):new rc(G.substring(0,3)+Z.id(),Z.rules())}if(tc.startsWith(G,"UT+")||tc.startsWith(G,"UT-")){var R=ei.of(G.substring(2));return R.totalSeconds()===0?new rc("UT",R.rules()):new rc("UT"+R.id(),R.rules())}return G==="SYSTEM"?Zi.systemDefault():rc.ofId(G)},O.ofOffset=function(G,Z){if(Jr(G,"prefix"),Jr(Z,"offset"),G.length===0)return Z;if(G==="GMT"||G==="UTC"||G==="UT")return Z.totalSeconds()===0?new rc(G,Z.rules()):new rc(G+Z.id(),Z.rules());throw new Ka("Invalid prefix, must be GMT, UTC or UT: "+G)},O.from=function(G){Jr(G,"temporal");var Z=G.query(ia.zone());if(Z==null)throw new Fa("Unable to obtain ZoneId from TemporalAccessor: "+G+", type "+(G.constructor!=null?G.constructor.name:""));return Z},O}(),ex=null;function DE(){ex=new LE,Zi.systemDefault=Cd.systemDefault,Zi.getAvailableZoneIds=Cd.getAvailableZoneIds,Zi.of=Cd.of,Zi.ofOffset=Cd.ofOffset,Zi.from=Cd.from,ei.from=Cd.from,Zi.SYSTEM=ex,Zi.UTC=ei.ofTotalSeconds(0)}/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Mw=!1;function PE(){Mw||(Mw=!0,XM(),GM(),ZM(),jM(),TE(),oE(),_E(),KM(),AE(),bE(),wE(),dE(),JM(),vE(),hE(),$M(),eE(),mE(),DE(),pE(),cE(),fE(),xE(),gE())}PE();/*
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var RE=function(){function O(G,Z){var R;if(G instanceof no){this.instant=G;return}else if(G instanceof Ja)Z=Z??Zi.systemDefault(),R=G.atStartOfDay(Z);else if(G instanceof Ui)Z=Z??Zi.systemDefault(),R=G.atZone(Z);else if(G instanceof Df)Z==null?R=G:R=G.withZoneSameInstant(Z);else throw new Ka("unsupported instance for convert operation:"+G);this.instant=R.toInstant()}var I=O.prototype;return I.toDate=function(){return new Date(this.instant.toEpochMilli())},I.toEpochMilli=function(){return this.instant.toEpochMilli()},O}();function IE(O,I){return new RE(O,I)}/*
 * @copyright (c) 2015-present, Philipp Thürwächter, Pattrick Hüper & js-joda contributors
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function OE(O,I){if(I===void 0&&(I=Zi.systemDefault()),Jr(O,"date"),Jr(I,"zone"),O instanceof Date)return no.ofEpochMilli(O.getTime()).atZone(I);if(typeof O.toDate=="function"&&O.toDate()instanceof Date)return no.ofEpochMilli(O.toDate().getTime()).atZone(I);throw new Ka("date must be a javascript Date or a moment instance")}function kE(O){var I=[];return function(Z){return~I.indexOf(Z)||(Z(O),I.push(Z)),O}}/**
 * @copyright (c) 2016, Philipp Thürwächter & Pattrick Hüper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var NE={assert:WM,DateTimeBuilder:Ay,DateTimeParseContext:e4,DateTimePrintContext:t4,MathUtil:rr,StringUtil:tc,StringBuilder:o4},c4={_:NE,convert:IE,nativeJs:OE,ArithmeticException:nc,DateTimeException:Fa,DateTimeParseException:Af,IllegalArgumentException:Ka,IllegalStateException:C0,UnsupportedTemporalTypeException:Ci,NullPointerException:Kc,Clock:ao,DayOfWeek:uo,Duration:Vo,Instant:no,LocalDate:Ja,LocalTime:In,LocalDateTime:Ui,OffsetTime:ac,OffsetDateTime:_f,Month:ti,MonthDay:My,ParsePosition:$T,Period:Gc,Year:Ef,YearConstants:Fl,YearMonth:P0,ZonedDateTime:Df,ZoneOffset:ei,ZoneId:Zi,ZoneRegion:rc,ZoneOffsetTransition:EE,ZoneRules:Hy,ZoneRulesProvider:Yy,ChronoLocalDate:D0,ChronoLocalDateTime:f4,ChronoZonedDateTime:u4,IsoChronology:Xi,ChronoField:kt,ChronoUnit:zr,IsoFields:xf,Temporal:Yl,TemporalAccessor:av,TemporalAdjuster:Wy,TemporalAdjusters:l4,TemporalAmount:Jv,TemporalField:lc,TemporalQueries:ia,TemporalQuery:B0,TemporalUnit:eh,ValueRange:ii,DateTimeFormatter:vi,DateTimeFormatterBuilder:Qi,DecimalStyle:Sy,ResolverStyle:ni,SignStyle:ki,TextStyle:Bi},FE=kE(c4);c4.use=FE;const ci={parseAll:O=>I=>{const G=O(I);if(G===Ei)return Ei;const[Z,R]=G;return R.length>0?Ei:Z},error:vc(O=>Ei),peek:O=>I=>I.length>=O?[I.substring(0,O),I]:Ei,pure:O=>I=>[O,I],map:O=>I=>G=>zu.map(O(G))(([Z,R])=>[I(Z),R]),bind:O=>I=>G=>zu.bind(O(G))(([Z,R])=>I(Z)(R)),do:O=>I=>{let G=I;const Z=Symbol();try{return[O(fe=>{const V=fe(G);if(V===Ei)throw Z;const[Y,e]=V;return G=e,Y}),G]}catch(R){if(R===Z)return Ei;throw R}},literal:O=>I=>I.startsWith(O)?[O,I.substring(O.length)]:Ei,take:O=>I=>I.length>=O?[I.substring(0,O),I.substring(O)]:Ei,takeWhile:O=>I=>{const G=BE(I)(Z=>!O(Z));return G===Ei?[I,""]:[I.substring(0,G),I.substring(G)]},untilChar:O=>I=>{const G=I.indexOf(O);return G===-1?Ei:[I.substring(0,G),I.substring(G)]},repeat:O=>I=>O<=0?ci.pure([]):ci.do(G=>{const Z=G(I),R=G(ci.repeat(O-1)(I));return[Z,...R]}),many:O=>I=>{const G=[];let Z=I;for(;;){const R=O(Z);if(R===Ei)break;const[fe,V]=R;G.push(fe),Z=V}return[G,Z]},maybe:O=>I=>O(I)??[Ei,I],or:(...O)=>I=>{for(let G of O){const Z=G(I);if(Z!==Ei)return Z}return Ei}},zE=O=>"0"<=O&&O<="9",tx=ci.takeWhile(zE),Sf=ci.do(O=>{const I=O(tx);return I.length===0&&O(ci.error),parseInt(I,10)}),rx=ci.do(O=>{const I=O(ci.maybe(ci.literal("-"))),G=O(Sf);return I===Ei?G:-G}),sc=ci.do(O=>{const I=O(ci.maybe(ci.literal("-"))),G=O(tx),Z=O(ci.maybe(ci.do(fe=>(fe(ci.literal(".")),fe(tx)))))??"0",R=parseFloat(`${G}.${Z}`);return I===Ei?R:-R}),BE=O=>I=>{for(let G=0;G<O.length;G++)if(I(O[G]))return G;return Ei},yl=ci;vi.ofPattern("yyyy-MM-dd HH:mm:ss.SSSSSSSSS");const UE=yl.do(O=>{const I=O(Sf);O(yl.literal("-"));const G=O(Sf);O(yl.literal("-"));const Z=O(Sf);O(yl.literal("T"));const R=O(Sf);O(yl.literal(":"));const fe=O(Sf);O(yl.literal(":"));const V=O(sc);O(yl.literal("Z"));const Y=Math.floor(V);return Ui.of(I,G,Z,R,fe,Y,Math.round((V-Y)*1e9)).toInstant(ei.UTC)}),VE=yl.do(O=>{const I=O(Sf);O(yl.literal("-"));const G=O(Sf);O(yl.literal("-"));const Z=O(Sf);O(yl.literal(" "));const R=O(Sf);O(yl.literal(":"));const fe=O(Sf);O(yl.literal(":"));const V=O(sc);O(yl.literal(" UTC"));const Y=Math.floor(V);return Ui.of(I,G,Z,R,fe,Y,Math.round((V-Y)*1e9)).toInstant(ei.UTC)}),HE=yl.or(UE,VE),hp=O=>{const I=YE(O).toString(16).toUpperCase().padStart(2,"0");return`$${O}*${I}\r
`},YE=O=>O.split("").reduce((I,G)=>I^G.charCodeAt(0),0),Xp=O=>ci.do(I=>(I(ci.literal(",")),I(O))),vp={part:Xp,float:Xp(sc),integer:Xp(rx),literal:O=>Xp(ci.literal(O)),string:Xp(ci.takeWhile(O=>O!==","&&O!=="*"))},dp=O=>ci.do(I=>{I(ci.literal("$"));const G=I(O);return I(ci.literal("*")),I(ci.take(2)),G}),R0=ci,zl=(O,I)=>R0.map(R0.literal(O))(()=>I),Ew={parser:R0.or(zl("T","true"),zl("R","aparent")),toSentence:O=>O==="true"?"T":O==="aparent"?"R":"T"},_w={parser:R0.or(zl("N","knots"),zl("K","km/h"),zl("M","m/s"),zl("S","mile/h")),toSentence:O=>O==="knots"?"N":O==="km/h"?"K":O==="m/s"?"M":O==="mile/h"?"S":"N"},Cw={parser:R0.or(zl("A","valid"),zl("V","invalid")),toSentence:O=>O==="valid"?"A":O==="invalid"?"V":"A"},Lw=ci,Zp=vp,WE={parser:dp(Lw.do(O=>{O(Lw.literal("WIMWV"));const I=O(Zp.float),G=O(Zp.part(Ew.parser)),Z=O(Zp.float),R=O(Zp.part(_w.parser)),fe=O(Zp.part(Cw.parser));return{type:"NmeaWindVessel",reference:G,speed:Z,angle:I,unit:R,status:fe}})),toSentence:O=>hp(["WIMWV",O.angle.toFixed(1),Ew.toSentence(O.reference),O.speed.toFixed(1),_w.toSentence(O.unit),Cw.toSentence(O.status)].join(","))},Dw=ci,kv=vp,GE={parser:dp(Dw.do(O=>{O(Dw.literal("WIMWD"));const I=O(kv.float);O(vp.literal("T"));const G=O(kv.float);O(kv.literal("M"));const Z=O(kv.float);O(kv.literal("N"));const R=O(kv.float);return O(kv.literal("M")),{type:"NmeaWindNorth",directionTrue:I,directionMagnetic:G,speedKnots:Z,speedMetersPerSecond:R}})),toSentence:O=>hp(["WIMWD",O.directionTrue.toFixed(1),"T",O.directionMagnetic.toFixed(1),"M",O.speedKnots.toFixed(1),"N",O.speedMetersPerSecond.toFixed(1),"M"].join(","))},Og=ci,As=vp,XE={parser:dp(Og.do(O=>{const I=As.part(Og.maybe(sc));O(Og.literal("IIXDR")),O(As.literal("C")),O(I),O(As.literal("C")),O(As.literal("AIRTEMP")),O(As.literal("A")),O(As.part(Og.maybe(sc))),O(As.literal("D")),O(As.literal("HEEL")),O(As.literal("A")),O(I),O(As.literal("D")),O(As.literal("TRIM")),O(As.literal("P"));const G=O(As.float);return O(As.literal("B")),O(As.literal("BARO")),O(As.literal("A")),O(I),O(As.literal("D")),O(As.literal("RUDDER")),{type:"Pressure",pressure:G}})),toSentence:O=>hp(["IIXDR","C","","C","AIRTEMP","A","","D","HEEL","A","","D","TRIM","P",O.pressure.toFixed(4),"B","BARO","A","","D","RUDDER"].join(","))},Pw=ci,Vh=vp,ZE={parser:dp(Pw.do(O=>{O(Pw.literal("SDVHW"));const I=O(Vh.float);O(Vh.literal("T"));const G=O(Vh.float);O(Vh.literal("M"));const Z=O(Vh.float);O(Vh.literal("N"));const R=O(Vh.float);return O(Vh.literal("K")),{type:"NmeaSpeed",headingTrue:I,headingMagnetic:G,speedKnots:Z,speedKmPerHour:R}})),toSentence:O=>hp(["SDVHW",O.headingTrue.toFixed(1),"T",O.headingMagnetic.toFixed(1),"M",O.speedKnots.toFixed(1),"N",O.speedKmPerHour.toFixed(1),"K"].join(","))},Ji=ci,jE={parser:dp(Ji.do(O=>{O(Ji.literal("GPGGA")),O(Ji.literal(","));const I=n=>ci.do(f=>{const u=f(Ji.take(n));return parseInt(u)??f(Ji.error)}),G=O(I(2)),Z=O(I(2)),R=O(I(2)),fe=In.of(G,Z,R);O(Ji.literal(","));const V=O(I(2)),Y=O(sc);O(Ji.literal(","));const p=O(Ji.or(Ji.map(Ji.literal("N"))(()=>1),Ji.map(Ji.literal("S"))(()=>-1)))*(V+Y/60);O(Ji.literal(","));const L=O(I(3)),o=O(sc);O(Ji.literal(","));const S=O(Ji.or(Ji.map(Ji.literal("E"))(()=>1),Ji.map(Ji.literal("W"))(()=>-1)))*(L+o/60);O(Ji.literal(","));const v=O(rx);O(Ji.literal(","));const g=O(rx);O(Ji.literal(","));const r=O(sc);O(Ji.literal(","));const t=O(sc);O(Ji.literal(",")),O(Ji.literal("M")),O(Ji.literal(","));const a=O(Ji.maybe(sc));return O(Ji.literal(",")),O(Ji.literal("M")),O(Ji.literal(",")),O(Ji.literal(",")),{type:"NmeaGPSPosition",time:fe,latitude:p,longitude:S,quality:v,satellites:g,horizontalDilution:r,altitude:t,geoidalSeparation:a}})),toSentence:O=>{const I=Math.abs(O.latitude),G=Math.floor(I).toString().padStart(2,"0"),Z=I%1*60,R=Math.abs(O.longitude),fe=Math.floor(R).toString().padStart(3,"0"),V=R%1*60;return hp(["GPGGA",[O.time.hour().toString().padStart(2,"0"),O.time.minute().toString().padStart(2,"0"),O.time.second().toString().padStart(2,"0")].join(""),[G,Z].join(""),O.latitude>=0?"N":"S",[fe,V].join(""),O.longitude>=0?"E":"W",O.quality.toString(),O.satellites.toString(),O.horizontalDilution,O.altitude,"M",O.geoidalSeparation,"M",""].join(","))}},th=O=>I=>I[O],Qm=ci,Vc=vp,KE={parser:dp(Qm.do(O=>{O(Qm.literal("GPVTG"));const I=O(Vc.float);O(Vc.literal("T"));const G=O(Vc.float);O(Vc.literal("M"));const Z=O(Vc.float);O(Vc.literal("N"));const R=O(Vc.float);O(Vc.literal("K"));const fe=O(Vc.part(Qm.or(zl("A","Autonomous"),zl("D","Differential"),zl("E","Estimated"),zl("M","Manual"),zl("S","Simulator"),zl("N","DataNotValid"))));return{type:"NmeaGPSSpeed",courseOverGroundTrue:I,courseOverGroundMagnetic:G,speedOverGroundKnots:Z,speedOverGroundKm:R,mode:fe}})),toSentence:O=>hp(["GPVTG",O.courseOverGroundTrue.toString(),"T",O.courseOverGroundMagnetic.toString(),"M",O.speedOverGroundKnots.toString(),"N",O.speedOverGroundKm.toString(),"K",th(O.mode)({Autonomous:"A",Differential:"D",Estimated:"E",Manual:"M",Simulator:"S",DataNotValid:"N"})].join(","))},Rw=ci,JE={parser:ci.do(O=>{const I=O(Rw.peek(6)).slice(1),G={WIMWV:WE.parser,WIMWD:GE.parser,IIXDR:XE.parser,SDVHW:ZE.parser,GPGGA:jE.parser,GPVTG:KE.parser}[I]??O(Rw.error);return O(G)})},Wd=(O,I)=>{if(O===I)return!0;if(typeof O!=typeof I||O===null||I===null)return!1;if(O instanceof Array&&I instanceof Array)return O.length!==I.length?!1:O.every((G,Z)=>Wd(G,I[Z]));if(typeof O=="object"&&typeof I=="object"){const G=Object.keys(O),Z=Object.keys(I);if(G.length!==Z.length||new Set([...G,...Z]).size!==G.length)return!1;const fe=O,V=I;return G.every(Y=>Wd(fe[Y],V[Y]))}return!1},Gd=O=>{if(O===void 0)return 0;if(O===null)return 1;if(typeof O=="boolean")return O?10:11;if(typeof O=="number")return O;if(typeof O=="string")return QE(O);if(O instanceof Array)return $E(O);if(typeof O=="object"){const I=O;return Object.keys(O).reduce((Z,R)=>(Z+Gd([R,I[R]]))%t3,100)}return 0},t3=2147483647,QE=O=>{let I=42;for(let G=0;G<O.length;G++)I=(31*I+O.charCodeAt(G))%t3;return I},$E=O=>{let I=294;for(let G=0;G<O.length;G++)I=(31*I+Gd(O[G]))%t3;return I},nu=class nu{constructor(){go(this,"hashMap",new Map);go(this,"set",(I,G)=>()=>{const Z=Gd(I),R=this.hashMap.get(Z)??[],fe=R.find(V=>Wd(V.key,I));fe?fe.value=G:R.push({key:I,value:G}),this.hashMap.set(Z,R)});go(this,"contains",I=>{const G=Gd(I);return(this.hashMap.get(G)??[]).some(R=>Wd(R.key,I))});go(this,"remove",I=>()=>{const G=Gd(I),Z=this.hashMap.get(G)??[],R=Z.findIndex(fe=>Wd(fe.key,I));R>=0&&Z.splice(R,1)});go(this,"get",I=>{const G=Gd(I),R=(this.hashMap.get(G)??[]).find(fe=>Wd(fe.key,I));return R==null?void 0:R.value});go(this,"toEntries",()=>Array.from(this.hashMap.entries()).flatMap(([G,Z])=>Z.map(R=>[R.key,R.value])));go(this,"mapValues",I=>{const G=this.toEntries(),Z=new nu;return G.forEach(([R,fe])=>{Z.set(R,I(R,fe))()}),Z});go(this,"filter",I=>{const G=this.toEntries(),Z=new nu;return G.forEach(([R,fe])=>{I(R,fe)&&Z.set(R,fe)()}),Z});go(this,"toString",()=>["{",...this.toEntries().map(([G,Z])=>`	${G} -> ${Z}`),"}"].join(`
`))}};go(nu,"fromEntries",I=>{const G=new nu;return I.forEach(([Z,R])=>{G.set(Z,R)()}),G}),go(nu,"empty",()=>new nu),go(nu,"toEntries",I=>I.toEntries()),go(nu,"mapValues",I=>G=>G.mapValues(I)),go(nu,"filter",I=>G=>G.filter(I)),go(nu,"merge",(...I)=>{const G=new nu;return I.forEach(Z=>{Z.toEntries().forEach(([R,fe])=>{G.set(R,fe)()})}),G});let Xd=nu;var Ey;(O=>{O.oposite=I=>th(I)({greaterThan:"lessThan",equalTo:"equalTo",lessThan:"greaterThan"}),O.toNumber=I=>th(I)({greaterThan:1,equalTo:0,lessThan:-1})})(Ey||(Ey={}));var ic;(O=>{O.primitive=(I,G)=>I>G?"greaterThan":I<G?"lessThan":"equalTo",O.number=(I,G)=>I>G?"greaterThan":I<G?"lessThan":"equalTo",O.string=vc((I,G)=>I>G?"greaterThan":I<G?"lessThan":"equalTo"),O.by=(I,G)=>(Z,R)=>I(G(Z),G(R)),O.descending=I=>(G,Z)=>I(Z,G)})(ic||(ic={}));var xl;(O=>{O.of=I=>G=>{const Z=new Array(I);for(let R=0;R<I;R++)Z[R]=G(R);return Z},O.unsafeArray=I=>I,O.empty=vc([]),O.combine=(I,G)=>I.concat(G),O.pure=I=>[I],O.lift=I=>G=>G.map(I),O.map=I=>G=>O.lift(G)(I),O.bind=I=>G=>I.flatMap(G),O.flatten=I=>I.flatMap(vc),O.compose=(I,G)=>Z=>O.bind(I(Z))(G),O.match=I=>G=>I.length===0?G.empty():G.cons(I[0],I.slice(1)),O.zip=(I,G)=>(0,O.of)(Math.min(I.length,G.length))(Z=>[I[Z],G[Z]]),O.sort=I=>G=>G.toSorted((Z,R)=>Ey.toNumber(I(Z,R))),O.sortDescending=I=>O.sort(ic.descending(I)),O.reverse=I=>I.toReversed(),O.filterNotNone=I=>I.filter(G=>G!==void 0),O.filter=I=>G=>G.filter(I),O.fold=I=>G=>Z=>Z.reduce(G,I),O.scan=I=>G=>Z=>{let R=new Array(Z.length),fe=I;for(let V=0;V<Z.length;V++)fe=G(fe,Z[V]),R[V]=fe;return R},O.chunk=I=>G=>{let Z=new Array(Math.ceil(G.length/I));for(let R=0;R<Z.length;R++)Z[R]=G.slice(R*I,(R+1)*I);return Z},O.take=I=>G=>G.slice(0,I),O.takeWhile=I=>G=>{const Z=G.findIndex(R=>!I(R));return Z===-1?G:G.slice(0,Z)},O.drop=I=>G=>G.slice(I),O.dropWhile=I=>G=>{const Z=G.findIndex(R=>!I(R));return Z===-1?[]:G.slice(Z)},O.all=I=>G=>{for(let Z=0;Z<G.length;Z++)if(!I(G[Z]))return!1;return!0},O.any=I=>G=>{for(let Z=0;Z<G.length;Z++)if(I(G[Z]))return!0;return!1},O.none=I=>G=>{for(let Z=0;Z<G.length;Z++)if(I(G[Z]))return!1;return!0},O.max=I=>G=>{if(G.length===0)return;let Z=G[0];for(let R=1;R<G.length;R++)Ey.toNumber(I(Z,G[R]))<0&&(Z=G[R]);return Z},O.maxByNumber=I=>O.max(ic.by(ic.number,I)),O.min=I=>O.max(ic.descending(I)),O.minByNumber=I=>O.min(ic.by(ic.number,I)),O.associateBy=I=>G=>{const Z=new Xd;for(let R=0;R<G.length;R++)Z.set(I(G[R]),G[R])();return Z},O.associateTo=I=>G=>{const Z=new Xd;for(let R=0;R<G.length;R++)Z.set(I(G[R]),G[R])();return Z},O.groupBy=I=>G=>{const Z=new Xd;for(let R=0;R<G.length;R++){const fe=G[R],V=I(fe),Y=Z.get(V)??[];Z.set(V,Y.concat([fe]))()}return Z},O.countBy=I=>G=>{const Z=new Xd;for(let R=0;R<G.length;R++){const fe=G[R],V=I(fe),Y=Z.get(V)??0;Z.set(V,Y+1)()}return Z},O.shuffle=I=>()=>I.toSorted(()=>Math.random()-.5)})(xl||(xl={}));const qE=O=>no.ofEpochMilli(new Date(O).getTime()),e8=O=>{const[I,G]=ci.many(ci.or(n8,ci.map(t8)(()=>Ei)))(O)??e3("Parsing failed");return xl.filterNotNone(I)},t8=ci.do(O=>{const I=O(ci.takeWhile(G=>G!==`
`));return O(ci.literal(`
`)),I}),r8=ci.or(ci.literal(`\r
`),ci.literal(`
`)),n8=ci.do(O=>{const I=O(HE);O(ci.literal("	"));const G=O(JE.parser);return O(r8),{timestamp:I,data:G}});var h4={},v4={},d4={exports:{}},a8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i8=a8,o8=i8;function p4(){}function g4(){}g4.resetWarningCache=p4;var s8=function(){function O(Z,R,fe,V,Y,e){if(e!==o8){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}O.isRequired=O;function I(){return O}var G={array:O,bigint:O,bool:O,func:O,number:O,object:O,string:O,symbol:O,any:O,arrayOf:I,element:O,elementType:O,instanceOf:I,node:O,objectOf:I,oneOf:I,oneOfType:I,shape:I,exact:I,checkPropTypes:g4,resetWarningCache:p4};return G.PropTypes=G,G};d4.exports=s8();var l8=d4.exports;(function(O){function I(u){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},I(u)}Object.defineProperty(O,"__esModule",{value:!0}),O.default=f;var G=V(Hv),Z=R(l8);function R(u){return u&&u.__esModule?u:{default:u}}function fe(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,y=new WeakMap;return(fe=function(T){return T?y:l})(u)}function V(u,l){if(u&&u.__esModule)return u;if(u===null||I(u)!=="object"&&typeof u!="function")return{default:u};var y=fe(l);if(y&&y.has(u))return y.get(u);var h={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in u)if(c!=="default"&&Object.prototype.hasOwnProperty.call(u,c)){var i=T?Object.getOwnPropertyDescriptor(u,c):null;i&&(i.get||i.set)?Object.defineProperty(h,c,i):h[c]=u[c]}return h.default=u,y&&y.set(u,h),h}function Y(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function e(u,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function p(u,l,y){return l&&e(u.prototype,l),Object.defineProperty(u,"prototype",{writable:!1}),u}function L(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&o(u,l)}function o(u,l){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,T){return h.__proto__=T,h},o(u,l)}function C(u){var l=g();return function(){var h=r(u),T;if(l){var c=r(this).constructor;T=Reflect.construct(h,arguments,c)}else T=h.apply(this,arguments);return S(this,T)}}function S(u,l){if(l&&(I(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(u)}function v(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],a=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function f(u){var l=function(y){L(T,y);var h=C(T);function T(c){var i;return Y(this,T),i=h.call(this,c),i.p=Promise.resolve(),i.resizeHandler=null,i.handlers={},i.syncWindowResize=i.syncWindowResize.bind(v(i)),i.syncEventHandlers=i.syncEventHandlers.bind(v(i)),i.attachUpdateEvents=i.attachUpdateEvents.bind(v(i)),i.getRef=i.getRef.bind(v(i)),i.handleUpdate=i.handleUpdate.bind(v(i)),i.figureCallback=i.figureCallback.bind(v(i)),i.updatePlotly=i.updatePlotly.bind(v(i)),i}return p(T,[{key:"updatePlotly",value:function(i,d,x){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return u.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(i),w.syncEventHandlers(),w.figureCallback(d),x&&w.attachUpdateEvents())}).catch(function(_){w.props.onError&&w.props.onError(_)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(i){this.unmounting=!1;var d=i.frames&&i.frames.length?i.frames.length:0,x=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(i.layout===this.props.layout&&i.data===this.props.data&&i.config===this.props.config&&x===d),_=i.revision!==void 0,m=i.revision!==this.props.revision;!w&&(!_||_&&!m)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||a.forEach(function(d){i.el.on(d,i.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var i=this;!this.el||!this.el.removeListener||a.forEach(function(d){i.el.removeListener(d,i.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(i){if(typeof i=="function"){var d=this.el,x=d.data,w=d.layout,_=this.el._transitionData?this.el._transitionData._frames:null,m={data:x,layout:w,frames:_};i(m,this.el)}}},{key:"syncWindowResize",value:function(i){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),i&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(i){this.el=i,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var i=this;t.forEach(function(d){var x=i.props["on"+d],w=i.handlers[d],_=!!w;x&&!_?i.addEventHandler(d,x):!x&&_?i.removeEventHandler(d):x&&_&&x!==w&&(i.removeEventHandler(d),i.addEventHandler(d,x))})}},{key:"addEventHandler",value:function(i,d){this.handlers[i]=d,this.el.on(this.getPlotlyEventName(i),this.handlers[i])}},{key:"removeEventHandler",value:function(i){this.el.removeListener(this.getPlotlyEventName(i),this.handlers[i]),delete this.handlers[i]}},{key:"getPlotlyEventName",value:function(i){return"plotly_"+i.toLowerCase()}},{key:"render",value:function(){return G.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),T}(G.Component);return l.propTypes={data:Z.default.arrayOf(Z.default.object),config:Z.default.object,layout:Z.default.object,frames:Z.default.arrayOf(Z.default.object),revision:Z.default.number,onInitialized:Z.default.func,onPurge:Z.default.func,onError:Z.default.func,onUpdate:Z.default.func,debug:Z.default.bool,style:Z.default.object,className:Z.default.string,useResizeHandler:Z.default.bool,divId:Z.default.string},t.forEach(function(y){l.propTypes["on"+y]=Z.default.func}),l.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},l}})(v4);var y4={exports:{}};(function(O,I){(function(Z,R){O.exports=R()})(self,function(){return function(){var G={79288:function(V,Y,e){var p=e(3400),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in L){var C=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(C,L[o])}},86712:function(V,Y,e){V.exports=e(84224)},37240:function(V,Y,e){V.exports=e(51132)},29744:function(V,Y,e){V.exports=e(94456)},29352:function(V,Y,e){V.exports=e(67244)},96144:function(V,Y,e){V.exports=e(97776)},53219:function(V,Y,e){V.exports=e(61712)},4624:function(V,Y,e){V.exports=e(95856)},54543:function(V,Y,e){V.exports=e(54272)},45e3:function(V,Y,e){V.exports=e(85404)},62300:function(V,Y,e){V.exports=e(26048)},6920:function(V,Y,e){V.exports=e(66240)},10264:function(V,Y,e){V.exports=e(40448)},32016:function(V,Y,e){V.exports=e(64884)},27528:function(V,Y,e){V.exports=e(15088)},75556:function(V,Y,e){V.exports=e(76744)},39204:function(V,Y,e){V.exports=e(94704)},73996:function(V,Y,e){V.exports=e(62396)},16489:function(V,Y,e){V.exports=e(32028)},5e3:function(V,Y,e){V.exports=e(81932)},77280:function(V,Y,e){V.exports=e(45536)},33992:function(V,Y,e){V.exports=e(42600)},17600:function(V,Y,e){V.exports=e(21536)},49116:function(V,Y,e){V.exports=e(65664)},46808:function(V,Y,e){V.exports=e(29044)},36168:function(V,Y,e){V.exports=e(48928)},13792:function(V,Y,e){var p=e(32016);p.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),V.exports=p},3920:function(V,Y,e){V.exports=e(43480)},25120:function(V,Y,e){V.exports=e(6296)},4340:function(V,Y,e){V.exports=e(7404)},86152:function(V,Y,e){V.exports=e(65456)},56816:function(V,Y,e){V.exports=e(22020)},89296:function(V,Y,e){V.exports=e(29928)},20260:function(V,Y,e){V.exports=e(75792)},32140:function(V,Y,e){V.exports=e(156)},84764:function(V,Y,e){V.exports=e(45499)},48824:function(V,Y,e){V.exports=e(3296)},69967:function(V,Y,e){V.exports=e(4184)},8363:function(V,Y,e){V.exports=e(36952)},86636:function(V,Y,e){V.exports=e(38983)},70192:function(V,Y,e){V.exports=e(11572)},81604:function(V,Y,e){V.exports=e(76924)},63796:function(V,Y,e){V.exports=e(62944)},89336:function(V,Y,e){V.exports=e(95443)},67484:function(V,Y,e){V.exports=e(34864)},97312:function(V,Y,e){V.exports=e(76272)},42192:function(V,Y,e){V.exports=e(97924)},29800:function(V,Y,e){V.exports=e(15436)},63560:function(V,Y,e){V.exports=e(5621)},89904:function(V,Y,e){V.exports=e(91304)},50248:function(V,Y,e){V.exports=e(41724)},65832:function(V,Y,e){V.exports=e(31991)},79440:function(V,Y,e){V.exports=e(22869)},13752:function(V,Y,e){V.exports=e(67776)},83096:function(V,Y,e){V.exports=e(95952)},72196:function(V){V.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(V,Y,e){var p=e(72196),L=e(25376),o=e(33816),C=e(31780).templatedArray;e(36208),V.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(V,Y,e){var p=e(3400),L=e(54460),o=e(23816).draw;V.exports=function(g){var r=g._fullLayout,t=p.filterVisible(r.annotations);if(t.length&&g._fullData.length)return p.syncOrAsync([o,C],g)};function C(v){var g=v._fullLayout;p.filterVisible(g.annotations).forEach(function(r){var t=L.getFromId(v,r.xref),a=L.getFromId(v,r.yref),n=L.getRefType(r.xref),f=L.getRefType(r.yref);r._extremes={},n==="range"&&S(r,t),f==="range"&&S(r,a)})}function S(v,g){var r=g._id,t=r.charAt(0),a=v[t],n=v["a"+t],f=v[t+"ref"],u=v["a"+t+"ref"],l=v["_"+t+"padplus"],y=v["_"+t+"padminus"],h={x:1,y:-1}[t]*v[t+"shift"],T=3*v.arrowsize*v.arrowwidth||0,c=T+h,i=T-h,d=3*v.startarrowsize*v.arrowwidth||0,x=d+h,w=d-h,_;if(u===f){var m=L.findExtremes(g,[g.r2c(a)],{ppadplus:c,ppadminus:i}),E=L.findExtremes(g,[g.r2c(n)],{ppadplus:Math.max(l,x),ppadminus:Math.max(y,w)});_={min:[m.min[0],E.min[0]],max:[m.max[0],E.max[0]]}}else x=n?x+n:x,w=n?w-n:w,_=L.findExtremes(g,[g.r2c(a)],{ppadplus:Math.max(l,c,x),ppadminus:Math.max(y,i,w)});v._extremes[r]=_}},42300:function(V,Y,e){var p=e(3400),L=e(24040),o=e(31780).arrayEditor;V.exports={hasClickToShow:C,onClick:S};function C(r,t){var a=v(r,t);return a.on.length>0||a.explicitOff.length>0}function S(r,t){var a=v(r,t),n=a.on,f=a.off.concat(a.explicitOff),u={},l=r._fullLayout.annotations,y,h;if(n.length||f.length){for(y=0;y<n.length;y++)h=o(r.layout,"annotations",l[n[y]]),h.modifyItem("visible",!0),p.extendFlat(u,h.getUpdateObj());for(y=0;y<f.length;y++)h=o(r.layout,"annotations",l[f[y]]),h.modifyItem("visible",!1),p.extendFlat(u,h.getUpdateObj());return L.call("update",r,{},u)}}function v(r,t){var a=r._fullLayout.annotations,n=[],f=[],u=[],l=(t||[]).length,y,h,T,c,i,d,x,w;for(y=0;y<a.length;y++)if(T=a[y],c=T.clicktoshow,c){for(h=0;h<l;h++)if(i=t[h],d=i.xaxis,x=i.yaxis,d._id===T.xref&&x._id===T.yref&&d.d2r(i.x)===g(T._xclick,d)&&x.d2r(i.y)===g(T._yclick,x)){T.visible?c==="onout"?w=f:w=u:w=n,w.push(y);break}h===l&&T.visible&&c==="onout"&&f.push(y)}return{on:n,off:f,explicitOff:u}}function g(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},87192:function(V,Y,e){var p=e(3400),L=e(76308);V.exports=function(C,S,v,g){g("opacity");var r=g("bgcolor"),t=g("bordercolor"),a=L.opacity(t);g("borderpad");var n=g("borderwidth"),f=g("showarrow");g("text",f?" ":v._dfltTitle.annotation),g("textangle"),p.coerceFont(g,"font",v.font),g("width"),g("align");var u=g("height");if(u&&g("valign"),f){var l=g("arrowside"),y,h;l.indexOf("end")!==-1&&(y=g("arrowhead"),h=g("arrowsize")),l.indexOf("start")!==-1&&(g("startarrowhead",y),g("startarrowsize",h)),g("arrowcolor",a?S.bordercolor:L.defaultLine),g("arrowwidth",(a&&n||1)*2),g("standoff"),g("startstandoff")}var T=g("hovertext"),c=v.hoverlabel||{};if(T){var i=g("hoverlabel.bgcolor",c.bgcolor||(L.opacity(r)?L.rgb(r):L.defaultLine)),d=g("hoverlabel.bordercolor",c.bordercolor||L.contrast(i)),x=p.extendFlat({},c.font);x.color||(x.color=d),p.coerceFont(g,"hoverlabel.font",x)}g("captureevents",!!T)}},26828:function(V,Y,e){var p=e(38248),L=e(36896);V.exports=function(C,S,v,g){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(!(r||t))return;var a=C._fullLayout.annotations,n=S._id.charAt(0),f,u;function l(h){var T=f[h],c=null;r?c=L(T,S.range):c=Math.pow(10,T),p(c)||(c=null),g(u+h,c)}for(var y=0;y<a.length;y++)f=a[y],u="annotations["+y+"].",f[n+"ref"]===S._id&&l(n),f["a"+n+"ref"]===S._id&&l("a"+n)}},45216:function(V,Y,e){var p=e(3400),L=e(54460),o=e(51272),C=e(87192),S=e(13916);V.exports=function(r,t){o(r,t,{name:"annotations",handleItemDefaults:v})};function v(g,r,t){function a(A,s){return p.coerce(g,r,S,A,s)}var n=a("visible"),f=a("clicktoshow");if(n||f){C(g,r,t,a);for(var u=r.showarrow,l=["x","y"],y=[-10,-30],h={_fullLayout:t},T=0;T<2;T++){var c=l[T],i=L.coerceRef(g,r,h,c,"","paper");if(i!=="paper"){var d=L.getFromId(h,i);d._annIndices.push(r._index)}if(L.coercePosition(r,h,a,i,c,.5),u){var x="a"+c,w=L.coerceRef(g,r,h,x,"pixel",["pixel","paper"]);w!=="pixel"&&w!==i&&(w=r[x]="pixel");var _=w==="pixel"?y[T]:.4;L.coercePosition(r,h,a,w,x,_)}a(c+"anchor"),a(c+"shift")}if(p.noneOrAll(g,r,["x","y"]),u&&p.noneOrAll(g,r,["ax","ay"]),f){var m=a("xclick"),E=a("yclick");r._xclick=m===void 0?r.x:L.cleanPosition(m,h,r.xref),r._yclick=E===void 0?r.y:L.cleanPosition(E,h,r.yref)}}}},23816:function(V,Y,e){var p=e(33428),L=e(24040),o=e(7316),C=e(3400),S=C.strTranslate,v=e(54460),g=e(76308),r=e(43616),t=e(93024),a=e(72736),n=e(93972),f=e(86476),u=e(31780).arrayEditor,l=e(33652);V.exports={draw:y,drawOne:h,drawRaw:c};function y(i){var d=i._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&h(i,x);return o.previousPromises(i)}function h(i,d){var x=i._fullLayout,w=x.annotations[d]||{},_=v.getFromId(i,w.xref),m=v.getFromId(i,w.yref);_&&_.setScale(),m&&m.setScale(),c(i,w,d,!1,_,m)}function T(i,d,x,w,_){var m=_[x],E=_[x+"ref"],A=x.indexOf("y")!==-1,s=v.getRefType(E)==="domain",M=A?w.h:w.w;return i?s?m+(A?-d:d)/i._length:i.p2r(i.r2p(m)+d):m+(A?-d:d)/M}function c(i,d,x,w,_,m){var E=i._fullLayout,A=i._fullLayout._size,s=i._context.edits,M,b;w?(M="annotation-"+w,b=w+".annotations"):(M="annotation",b="annotations");var N=u(i.layout,b,d),k=N.modifyBase,H=N.modifyItem,F=N.getUpdateObj;E._infolayer.selectAll("."+M+'[data-index="'+x+'"]').remove();var B="clip"+E._uid+"_ann"+x;if(!d._input||d.visible===!1){p.selectAll("#"+B).remove();return}var U={x:{},y:{}},z=+d.textangle||0,W=E._infolayer.append("g").classed(M,!0).attr("data-index",String(x)).style("opacity",d.opacity),j=W.append("g").classed("annotation-text-g",!0),ee=s[d.showarrow?"annotationTail":"annotationPosition"],ie=d.captureevents||s.annotationText||ee;function oe(be){var Se={index:x,annotation:d._input,fullAnnotation:d,event:be};return w&&(Se.subplotId=w),Se}var he=j.append("g").style("pointer-events",ie?"all":null).call(n,"pointer").on("click",function(){i._dragging=!1,i.emit("plotly_clickannotation",oe(p.event))});d.hovertext&&he.on("mouseover",function(){var be=d.hoverlabel,Se=be.font,Te=this.getBoundingClientRect(),Ie=i.getBoundingClientRect();t.loneHover({x0:Te.left-Ie.left,x1:Te.right-Ie.left,y:(Te.top+Te.bottom)/2-Ie.top,text:d.hovertext,color:be.bgcolor,borderColor:be.bordercolor,fontFamily:Se.family,fontSize:Se.size,fontColor:Se.color,fontWeight:Se.weight,fontStyle:Se.style,fontVariant:Se.variant,fontShadow:Se.fontShadow,fontLineposition:Se.fontLineposition,fontTextcase:Se.fontTextcase},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:i})}).on("mouseout",function(){t.loneUnhover(E._hoverlayer.node())});var ne=d.borderwidth,q=d.borderpad,le=ne+q,Q=he.append("rect").attr("class","bg").style("stroke-width",ne+"px").call(g.stroke,d.bordercolor).call(g.fill,d.bgcolor),te=d.width||d.height,ue=E._topclips.selectAll("#"+B).data(te?[0]:[]);ue.enter().append("clipPath").classed("annclip",!0).attr("id",B).append("rect"),ue.exit().remove();var J=d.font,K=E._meta?C.templateString(d.text,E._meta):d.text,ce=he.append("text").classed("annotation-text",!0).text(K);function ae(be){return be.call(r.font,J).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),a.convertToTspans(be,i,de),be}function de(){var be=ce.selectAll("a");if(be.size()===1&&be.text()===ce.text()){var Se=he.insert("a",":first-child").attr({"xlink:xlink:href":be.attr("xlink:href"),"xlink:xlink:show":be.attr("xlink:show")}).style({cursor:"pointer"});Se.node().appendChild(Q.node())}var Te=he.select(".annotation-text-math-group"),Ie=!Te.empty(),ke=r.bBox((Ie?Te:ce).node()),Be=ke.width,Me=ke.height,Oe=d.width||Be,_e=d.height||Me,Ne=Math.round(Oe+2*le),Ce=Math.round(_e+2*le);function Ye(br,lr){return lr==="auto"&&(br<.3333333333333333?lr="left":br>.6666666666666666?lr="right":lr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[lr]}for(var rt=!1,ot=["x","y"],$e=0;$e<ot.length;$e++){var qe=ot[$e],ht=d[qe+"ref"]||qe,vt=d["a"+qe+"ref"],pt={x:_,y:m}[qe],wt=(z+(qe==="x"?0:-90))*Math.PI/180,Mt=Ne*Math.cos(wt),nt=Ce*Math.sin(wt),Fe=Math.abs(Mt)+Math.abs(nt),We=d[qe+"anchor"],Ze=d[qe+"shift"]*(qe==="x"?1:-1),Ge=U[qe],Pe,Re,je,De,ge,we=v.getRefType(ht);if(pt&&we!=="domain"){var Ue=pt.r2fraction(d[qe]);(Ue<0||Ue>1)&&(vt===ht?(Ue=pt.r2fraction(d["a"+qe]),(Ue<0||Ue>1)&&(rt=!0)):rt=!0),Pe=pt._offset+pt.r2p(d[qe]),De=.5}else{var et=we==="domain";qe==="x"?(je=d[qe],Pe=et?pt._offset+pt._length*je:Pe=A.l+A.w*je):(je=1-d[qe],Pe=et?pt._offset+pt._length*je:Pe=A.t+A.h*je),De=d.showarrow?.5:je}if(d.showarrow){Ge.head=Pe;var st=d["a"+qe];if(ge=Mt*Ye(.5,d.xanchor)-nt*Ye(.5,d.yanchor),vt===ht){var lt=v.getRefType(vt);lt==="domain"?(qe==="y"&&(st=1-st),Ge.tail=pt._offset+pt._length*st):lt==="paper"?qe==="y"?(st=1-st,Ge.tail=A.t+A.h*st):Ge.tail=A.l+A.w*st:Ge.tail=pt._offset+pt.r2p(st),Re=ge}else Ge.tail=Pe+st,Re=ge+st;Ge.text=Ge.tail+ge;var Wt=E[qe==="x"?"width":"height"];if(ht==="paper"&&(Ge.head=C.constrain(Ge.head,1,Wt-1)),vt==="pixel"){var jt=-Math.max(Ge.tail-3,Ge.text),Tt=Math.min(Ge.tail+3,Ge.text)-Wt;jt>0?(Ge.tail+=jt,Ge.text+=jt):Tt>0&&(Ge.tail-=Tt,Ge.text-=Tt)}Ge.tail+=Ze,Ge.head+=Ze}else ge=Fe*Ye(De,We),Re=ge,Ge.text=Pe+ge;Ge.text+=Ze,ge+=Ze,Re+=Ze,d["_"+qe+"padplus"]=Fe/2+Re,d["_"+qe+"padminus"]=Fe/2-Re,d["_"+qe+"size"]=Fe,d["_"+qe+"shift"]=ge}if(rt){he.remove();return}var Rt=0,Zt=0;if(d.align!=="left"&&(Rt=(Oe-Be)*(d.align==="center"?.5:1)),d.valign!=="top"&&(Zt=(_e-Me)*(d.valign==="middle"?.5:1)),Ie)Te.select("svg").attr({x:le+Rt-1,y:le+Zt}).call(r.setClipUrl,te?B:null,i);else{var mr=le+Zt-ke.top,gt=le+Rt-ke.left;ce.call(a.positionText,gt,mr).call(r.setClipUrl,te?B:null,i)}ue.select("rect").call(r.setRect,le,le,Oe,_e),Q.call(r.setRect,ne/2,ne/2,Ne-ne,Ce-ne),he.call(r.setTranslate,Math.round(U.x.text-Ne/2),Math.round(U.y.text-Ce/2)),j.attr({transform:"rotate("+z+","+U.x.text+","+U.y.text+")"});var Kt=function(br,lr){W.selectAll(".annotation-arrow-g").remove();var mt=U.x.head,ut=U.y.head,bt=U.x.tail+br,Et=U.y.tail+lr,Dt=U.x.text+br,Yt=U.y.text+lr,Bt=C.rotationXYMatrix(z,Dt,Yt),Ut=C.apply2DTransform(Bt),Jt=C.apply2DTransform2(Bt),hr=+Q.attr("width"),vr=+Q.attr("height"),gr=Dt-.5*hr,Xe=gr+hr,He=Yt-.5*vr,Nt=He+vr,Pt=[[gr,He,gr,Nt],[gr,Nt,Xe,Nt],[Xe,Nt,Xe,He],[Xe,He,gr,He]].map(Jt);if(!Pt.reduce(function(Ir,ln){return Ir^!!C.segmentsIntersect(mt,ut,mt+1e6,ut+1e6,ln[0],ln[1],ln[2],ln[3])},!1)){Pt.forEach(function(Ir){var ln=C.segmentsIntersect(bt,Et,mt,ut,Ir[0],Ir[1],Ir[2],Ir[3]);ln&&(bt=ln.x,Et=ln.y)});var Qt=d.arrowwidth,ur=d.arrowcolor,cr=d.arrowside,tr=W.append("g").style({opacity:g.opacity(ur)}).classed("annotation-arrow-g",!0),zt=tr.append("path").attr("d","M"+bt+","+Et+"L"+mt+","+ut).style("stroke-width",Qt+"px").call(g.stroke,g.rgb(ur));if(l(zt,cr,d),s.annotationPosition&&zt.node().parentNode&&!w){var or=mt,dr=ut;if(d.standoff){var wr=Math.sqrt(Math.pow(mt-bt,2)+Math.pow(ut-Et,2));or+=d.standoff*(bt-mt)/wr,dr+=d.standoff*(Et-ut)/wr}var pr=tr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-or)+","+(Et-dr),transform:S(or,dr)}).style("stroke-width",Qt+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)"),Wr,Pr;f.init({element:pr.node(),gd:i,prepFn:function(){var Ir=r.getTranslate(he);Wr=Ir.x,Pr=Ir.y,_&&_.autorange&&k(_._name+".autorange",!0),m&&m.autorange&&k(m._name+".autorange",!0)},moveFn:function(Ir,ln){var an=Ut(Wr,Pr),_n=an[0]+Ir,Mn=an[1]+ln;he.call(r.setTranslate,_n,Mn),H("x",T(_,Ir,"x",A,d)),H("y",T(m,ln,"y",A,d)),d.axref===d.xref&&H("ax",T(_,Ir,"ax",A,d)),d.ayref===d.yref&&H("ay",T(m,ln,"ay",A,d)),tr.attr("transform",S(Ir,ln)),j.attr({transform:"rotate("+z+","+_n+","+Mn+")"})},doneFn:function(){L.call("_guiRelayout",i,F());var Ir=document.querySelector(".js-notes-box-panel");Ir&&Ir.redraw(Ir.selectedObj)}})}}};if(d.showarrow&&Kt(0,0),ee){var $t;f.init({element:he.node(),gd:i,prepFn:function(){$t=j.attr("transform")},moveFn:function(br,lr){var mt="pointer";if(d.showarrow)d.axref===d.xref?H("ax",T(_,br,"ax",A,d)):H("ax",d.ax+br),d.ayref===d.yref?H("ay",T(m,lr,"ay",A.w,d)):H("ay",d.ay+lr),Kt(br,lr);else{if(w)return;var ut,bt;if(_)ut=T(_,br,"x",A,d);else{var Et=d._xsize/A.w,Dt=d.x+(d._xshift-d.xshift)/A.w-Et/2;ut=f.align(Dt+br/A.w,Et,0,1,d.xanchor)}if(m)bt=T(m,lr,"y",A,d);else{var Yt=d._ysize/A.h,Bt=d.y-(d._yshift+d.yshift)/A.h-Yt/2;bt=f.align(Bt-lr/A.h,Yt,0,1,d.yanchor)}H("x",ut),H("y",bt),(!_||!m)&&(mt=f.getCursor(_?.5:ut,m?.5:bt,d.xanchor,d.yanchor))}j.attr({transform:S(br,lr)+$t}),n(he,mt)},clickFn:function(br,lr){d.captureevents&&i.emit("plotly_clickannotation",oe(lr))},doneFn:function(){n(he),L.call("_guiRelayout",i,F());var br=document.querySelector(".js-notes-box-panel");br&&br.redraw(br.selectedObj)}})}}s.annotationText?ce.call(a.makeEditable,{delegate:he,gd:i}).call(ae).on("edit",function(be){d.text=be,this.call(ae),H("text",be),_&&_.autorange&&k(_._name+".autorange",!0),m&&m.autorange&&k(m._name+".autorange",!0),L.call("_guiRelayout",i,F())}):ce.call(ae)}},33652:function(V,Y,e){var p=e(33428),L=e(76308),o=e(72196),C=e(3400),S=C.strScale,v=C.strRotate,g=C.strTranslate;V.exports=function(t,a,n){var f=t.node(),u=o[n.arrowhead||0],l=o[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),T=a.indexOf("start")>=0,c=a.indexOf("end")>=0,i=u.backoff*y+n.standoff,d=l.backoff*h+n.startstandoff,x,w,_,m;if(f.nodeName==="line"){x={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var E=x.x-w.x,A=x.y-w.y;if(_=Math.atan2(A,E),m=_+Math.PI,i&&d&&i+d>Math.sqrt(E*E+A*A)){j();return}if(i){if(i*i>E*E+A*A){j();return}var s=i*Math.cos(_),M=i*Math.sin(_);w.x+=s,w.y+=M,t.attr({x2:w.x,y2:w.y})}if(d){if(d*d>E*E+A*A){j();return}var b=d*Math.cos(_),N=d*Math.sin(_);x.x-=b,x.y-=N,t.attr({x1:x.x,y1:x.y})}}else if(f.nodeName==="path"){var k=f.getTotalLength(),H="";if(k<i+d){j();return}var F=f.getPointAtLength(0),B=f.getPointAtLength(.1);_=Math.atan2(F.y-B.y,F.x-B.x),x=f.getPointAtLength(Math.min(d,k)),H="0px,"+d+"px,";var U=f.getPointAtLength(k),z=f.getPointAtLength(k-.1);m=Math.atan2(U.y-z.y,U.x-z.x),w=f.getPointAtLength(Math.max(0,k-i));var W=H?d+i:i;H+=k-W+"px,"+k+"px",t.style("stroke-dasharray",H)}function j(){t.style("stroke-dasharray","0px,100px")}function ee(ie,oe,he,ne){ie.path&&(ie.noRotate&&(he=0),p.select(f.parentNode).append("path").attr({class:t.attr("class"),d:ie.path,transform:g(oe.x,oe.y)+v(he*180/Math.PI)+S(ne)}).style({fill:L.rgb(n.arrowcolor),"stroke-width":0}))}T&&ee(l,x,_,h),c&&ee(u,w,m,y)}},79180:function(V,Y,e){var p=e(23816),L=e(42300);V.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(26828)}},45899:function(V,Y,e){var p=e(13916),L=e(67824).overrideAll,o=e(31780).templatedArray;V.exports=L(o("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},42456:function(V,Y,e){var p=e(3400),L=e(54460);V.exports=function(S){for(var v=S.fullSceneLayout,g=v.annotations,r=0;r<g.length;r++)o(g[r],S);S.fullLayout._infolayer.selectAll(".annotation-"+S.id).remove()};function o(C,S){var v=S.fullSceneLayout,g=v.domain,r=S.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},p.extendFlat(C._xa,t),L.setConvert(C._xa),C._xa._offset=r.l+g.x[0]*r.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*r.w*(g.x[1]-g.x[0])},C._ya={},p.extendFlat(C._ya,t),L.setConvert(C._ya),C._ya._offset=r.t+(1-g.y[1])*r.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*r.h*(g.y[1]-g.y[0])}}},52808:function(V,Y,e){var p=e(3400),L=e(54460),o=e(51272),C=e(87192),S=e(45899);V.exports=function(r,t,a){o(r,t,{name:"annotations",handleItemDefaults:v,fullLayout:a.fullLayout})};function v(g,r,t,a){function n(l,y){return p.coerce(g,r,S,l,y)}function f(l){var y=l+"axis",h={_fullLayout:{}};return h._fullLayout[y]=t[y],L.coercePosition(r,h,n,l,l,.5)}var u=n("visible");u&&(C(g,r,a.fullLayout,n),f("x"),f("y"),f("z"),p.noneOrAll(g,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",n("ax",-10),n("ay",-30),p.noneOrAll(g,r,["ax","ay"])))}},71836:function(V,Y,e){var p=e(23816).drawRaw,L=e(94424),o=["x","y","z"];V.exports=function(S){for(var v=S.fullSceneLayout,g=S.dataScale,r=v.annotations,t=0;t<r.length;t++){for(var a=r[t],n=!1,f=0;f<3;f++){var u=o[f],l=a[u],y=v[u+"axis"],h=y.r2fraction(l);if(h<0||h>1){n=!0;break}}n?S.fullLayout._infolayer.select(".annotation-"+S.id+'[data-index="'+t+'"]').remove():(a._pdata=L(S.glplot.cameraParams,[v.xaxis.r2l(a.x)*g[0],v.yaxis.r2l(a.y)*g[1],v.zaxis.r2l(a.z)*g[2]]),p(S.graphDiv,a,t,S.id,a._xa,a._ya))}}},56864:function(V,Y,e){var p=e(24040),L=e(3400);V.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:o,convert:e(42456),draw:e(71836)};function o(C,S){var v=p.subplotsRegistry.gl3d;if(v)for(var g=v.attrRegex,r=Object.keys(C),t=0;t<r.length;t++){var a=r[t];g.test(a)&&(C[a].annotations||[]).length&&(L.pushUnique(S._basePlotModules,v),L.pushUnique(S._subplots.gl3d,a))}}},54976:function(V,Y,e){V.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(V,Y,e){var p=e(54976),L=e(3400),o=e(39032),C=o.EPOCHJD,S=o.ONEDAY,v={valType:"enumerated",values:L.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},g=function(_,m,E,A){var s={};return s[E]=v,L.coerce(_,m,s,E,A)},r=function(_,m,E,A){for(var s=0;s<E.length;s++)g(_,m,E[s]+"calendar",A.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},a={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},f="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:f,w:f,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function l(_,m,E){for(var A=Math.floor((m+.05)/S)+C,s=h(E).fromJD(A),M=0,b,N,k,H,F;(M=_.indexOf("%",M))!==-1;)b=_.charAt(M+1),b==="0"||b==="-"||b==="_"?(k=3,N=_.charAt(M+2),b==="_"&&(b="-")):(N=b,b="0",k=2),H=u[N],H?(H===f?F=f:F=s.formatDate(H[b]),_=_.substr(0,M)+F+_.substr(M+k),M+=F.length):M+=k;return _}var y={};function h(_){var m=y[_];return m||(m=y[_]=p.instance(_),m)}function T(_){return L.extendFlat({},v,{description:_})}function c(_){return"Sets the calendar system to use with `"+_+"` date data."}var i={xcalendar:T(c("x"))},d=L.extendFlat({},i,{ycalendar:T(c("y"))}),x=L.extendFlat({},d,{zcalendar:T(c("z"))}),w=T(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));V.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:x,surface:x,mesh3d:x,scattergl:d,ohlc:i,candlestick:i},layout:{calendar:T(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:T(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:g,handleTraceDefaults:r,CANONICAL_SUNDAY:a,CANONICAL_TICK:t,DFLTRANGE:n,getCal:h,worldCalFmt:l}},22548:function(V,Y){Y.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Y.defaultLine="#444",Y.lightLine="#eee",Y.background="#fff",Y.borderLine="#BEC8D9",Y.lightFraction=90.9090909090909},76308:function(V,Y,e){var p=e(49760),L=e(38248),o=e(38116).isTypedArray,C=V.exports={},S=e(22548);C.defaults=S.defaults;var v=C.defaultLine=S.defaultLine;C.lightLine=S.lightLine;var g=C.background=S.background;C.tinyRGB=function(t){var a=t.toRgb();return"rgb("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+")"},C.rgb=function(t){return C.tinyRGB(p(t))},C.opacity=function(t){return t?p(t).getAlpha():0},C.addOpacity=function(t,a){var n=p(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+a+")"},C.combine=function(t,a){var n=p(t).toRgb();if(n.a===1)return p(t).toRgbString();var f=p(a||g).toRgb(),u=f.a===1?f:{r:255*(1-f.a)+f.r*f.a,g:255*(1-f.a)+f.g*f.a,b:255*(1-f.a)+f.b*f.a},l={r:u.r*(1-n.a)+n.r*n.a,g:u.g*(1-n.a)+n.g*n.a,b:u.b*(1-n.a)+n.b*n.a};return p(l).toRgbString()},C.interpolate=function(t,a,n){var f=p(t).toRgb(),u=p(a).toRgb(),l={r:n*f.r+(1-n)*u.r,g:n*f.g+(1-n)*u.g,b:n*f.b+(1-n)*u.b};return p(l).toRgbString()},C.contrast=function(t,a,n){var f=p(t);f.getAlpha()!==1&&(f=p(C.combine(t,g)));var u=f.isDark()?a?f.lighten(a):g:n?f.darken(n):v;return u.toString()},C.stroke=function(t,a){var n=p(a);t.style({stroke:C.tinyRGB(n),"stroke-opacity":n.getAlpha()})},C.fill=function(t,a){var n=p(a);t.style({fill:C.tinyRGB(n),"fill-opacity":n.getAlpha()})},C.clean=function(t){if(!(!t||typeof t!="object")){var a=Object.keys(t),n,f,u,l;for(n=0;n<a.length;n++)if(u=a[n],l=t[u],u.substr(u.length-5)==="color")if(Array.isArray(l))for(f=0;f<l.length;f++)l[f]=r(l[f]);else t[u]=r(l);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(l))for(f=0;f<l.length;f++)Array.isArray(l[f])&&(l[f][1]=r(l[f][1]));else if(Array.isArray(l)){var y=l[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(f=0;f<l.length;f++)C.clean(l[f])}else l&&typeof l=="object"&&!o(l)&&C.clean(l)}};function r(t){if(L(t)||typeof t!="string")return t;var a=t.trim();if(a.substr(0,3)!=="rgb")return t;var n=a.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var f=n[1].trim().split(/\s*[\s,]\s*/),u=a.charAt(3)==="a"&&f.length===4;if(!u&&f.length!==3)return t;for(var l=0;l<f.length;l++){if(!f[l].length||(f[l]=Number(f[l]),!(f[l]>=0)))return t;if(l===3)f[l]>1&&(f[l]=1);else if(f[l]>=1)return t}var y=Math.round(f[0]*255)+", "+Math.round(f[1]*255)+", "+Math.round(f[2]*255);return u?"rgba("+y+", "+f[3]+")":"rgb("+y+")"}},42996:function(V,Y,e){var p=e(94724),L=e(25376),o=e(92880).extendFlat,C=e(67824).overrideAll;V.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:o({},p.ticks,{dflt:""}),ticklabeloverflow:o({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(V){V.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(V,Y,e){var p=e(3400),L=e(31780),o=e(26332),C=e(25404),S=e(95936),v=e(42568),g=e(42996);V.exports=function(t,a,n){var f=L.newContainer(a,"colorbar"),u=t.colorbar||{};function l(U,z){return p.coerce(u,f,g,U,z)}var y=n.margin||{t:0,b:0,l:0,r:0},h=n.width-y.l-y.r,T=n.height-y.t-y.b,c=l("orientation"),i=c==="v",d=l("thicknessmode");l("thickness",d==="fraction"?30/(i?h:T):30);var x=l("lenmode");l("len",x==="fraction"?1:i?T:h);var w=l("yref"),_=l("xref"),m=w==="paper",E=_==="paper",A,s,M,b="left";i?(M="middle",b=E?"left":"right",A=E?1.02:1,s=.5):(M=m?"bottom":"top",b="center",A=.5,s=m?1.02:1),p.coerce(u,f,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:A}},"x"),p.coerce(u,f,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:s}},"y"),l("xanchor",b),l("xpad"),l("yanchor",M),l("ypad"),p.noneOrAll(u,f,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var N=p.coerce(u,f,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:i?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",N.indexOf("inside")!==-1?"hide past domain":"hide past div"),o(u,f,l,"linear");var k=n.font,H={noAutotickangles:!0,outerTicks:!1,font:k};N.indexOf("inside")!==-1&&(H.bgColor="black"),v(u,f,l,"linear",H),S(u,f,l,"linear",H),C(u,f,l,"linear",H),l("title.text",n._dfltTitle.colorbar);var F=f.showticklabels?f.tickfont:k,B=p.extendFlat({},k,{family:F.family,size:p.bigFont(F.size)});p.coerceFont(l,"title.font",B),l("title.side",i?"top":"right")}},37848:function(V,Y,e){var p=e(33428),L=e(49760),o=e(7316),C=e(24040),S=e(54460),v=e(86476),g=e(3400),r=g.strTranslate,t=e(92880).extendFlat,a=e(93972),n=e(43616),f=e(76308),u=e(81668),l=e(72736),y=e(94288).flipScale,h=e(28336),T=e(37668),c=e(94724),i=e(84284),d=i.LINE_SPACING,x=i.FROM_TL,w=i.FROM_BR,_=e(63964).cn;function m(N){var k=N._fullLayout,H=k._infolayer.selectAll("g."+_.colorbar).data(E(N),function(F){return F._id});H.enter().append("g").attr("class",function(F){return F._id}).classed(_.colorbar,!0),H.each(function(F){var B=p.select(this);g.ensureSingle(B,"rect",_.cbbg),g.ensureSingle(B,"g",_.cbfills),g.ensureSingle(B,"g",_.cblines),g.ensureSingle(B,"g",_.cbaxis,function(z){z.classed(_.crisp,!0)}),g.ensureSingle(B,"g",_.cbtitleunshift,function(z){z.append("g").classed(_.cbtitle,!0)}),g.ensureSingle(B,"rect",_.cboutline);var U=A(B,F,N);U&&U.then&&(N._promises||[]).push(U),N._context.edits.colorbarPosition&&s(B,F,N)}),H.exit().each(function(F){o.autoMargin(N,F._id)}).remove(),H.order()}function E(N){var k=N._fullLayout,H=N.calcdata,F=[],B,U,z,W;function j(J){return t(J,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ee(){typeof W.calc=="function"?W.calc(N,z,B):(B._fillgradient=U.reversescale?y(U.colorscale):U.colorscale,B._zrange=[U[W.min],U[W.max]])}for(var ie=0;ie<H.length;ie++){var oe=H[ie];if(z=oe[0].trace,!!z._module){var he=z._module.colorbar;if(z.visible===!0&&he)for(var ne=Array.isArray(he),q=ne?he:[he],le=0;le<q.length;le++){W=q[le];var Q=W.container;U=Q?z[Q]:z,U&&U.showscale&&(B=j(U.colorbar),B._id="cb"+z.uid+(ne&&Q?"-"+Q:""),B._traceIndex=z.index,B._propPrefix=(Q?Q+".":"")+"colorbar.",B._meta=z._meta,ee(),F.push(B))}}}for(var te in k._colorAxes)if(U=k[te],U.showscale){var ue=k._colorAxes[te];B=j(U.colorbar),B._id="cb"+te,B._propPrefix=te+".colorbar.",B._meta=k._meta,W={min:"cmin",max:"cmax"},ue[0]!=="heatmap"&&(z=ue[1],W.calc=z._module.colorbar.calc),ee(),F.push(B)}return F}function A(N,k,H){var F=k.orientation==="v",B=k.len,U=k.lenmode,z=k.thickness,W=k.thicknessmode,j=k.outlinewidth,ee=k.borderwidth,ie=k.bgcolor,oe=k.xanchor,he=k.yanchor,ne=k.xpad,q=k.ypad,le=k.x,Q=F?k.y:1-k.y,te=k.yref==="paper",ue=k.xref==="paper",J=H._fullLayout,K=J._size,ce=k._fillcolor,ae=k._line,de=k.title,be=de.side,Se=k._zrange||p.extent((typeof ce=="function"?ce:ae.color).domain()),Te=typeof ae.color=="function"?ae.color:function(){return ae.color},Ie=typeof ce=="function"?ce:function(){return ce},ke=k._levels,Be=M(H,k,Se),Me=Be.fill,Oe=Be.line,_e=Math.round(z*(W==="fraction"?F?K.w:K.h:1)),Ne=_e/(F?K.w:K.h),Ce=Math.round(B*(U==="fraction"?F?K.h:K.w:1)),Ye=Ce/(F?K.h:K.w),rt=ue?K.w:H._fullLayout.width,ot=te?K.h:H._fullLayout.height,$e=Math.round(F?le*rt+ne:Q*ot+q),qe={center:.5,right:1}[oe]||0,ht={top:1,middle:.5}[he]||0,vt=F?le-qe*Ne:Q-ht*Ne,pt=F?Q-ht*Ye:le-qe*Ye,wt=Math.round(F?ot*(1-pt):rt*pt);k._lenFrac=Ye,k._thickFrac=Ne,k._uFrac=vt,k._vFrac=pt;var Mt=k._axis=b(H,k,Se);Mt.position=Ne+(F?le+ne/K.w:Q+q/K.h);var nt=["top","bottom"].indexOf(be)!==-1;if(F&&nt&&(Mt.title.side=be,Mt.titlex=le+ne/K.w,Mt.titley=pt+(de.side==="top"?Ye-q/K.h:q/K.h)),!F&&!nt&&(Mt.title.side=be,Mt.titley=Q+q/K.h,Mt.titlex=pt+ne/K.w),ae.color&&k.tickmode==="auto"){Mt.tickmode="linear",Mt.tick0=ke.start;var Fe=ke.size,We=g.constrain(Ce/50,4,15)+1,Ze=(Se[1]-Se[0])/((k.nticks||We)*Fe);if(Ze>1){var Ge=Math.pow(10,Math.floor(Math.log(Ze)/Math.LN10));Fe*=Ge*g.roundUp(Ze/Ge,[2,5,10]),(Math.abs(ke.start)/ke.size+1e-6)%1<2e-6&&(Mt.tick0=0)}Mt.dtick=Fe}Mt.domain=F?[pt+q/K.h,pt+Ye-q/K.h]:[pt+ne/K.w,pt+Ye-ne/K.w],Mt.setScale(),N.attr("transform",r(Math.round(K.l),Math.round(K.t)));var Pe=N.select("."+_.cbtitleunshift).attr("transform",r(-Math.round(K.l),-Math.round(K.t))),Re=Mt.ticklabelposition,je=Mt.title.font.size,De=N.select("."+_.cbaxis),ge,we=0,Ue=0;function et(Tt,Rt){var Zt={propContainer:Mt,propName:k._propPrefix+"title",traceIndex:k._traceIndex,_meta:k._meta,placeholder:J._dfltTitle.colorbar,containerGroup:N.select("."+_.cbtitle)},mr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;N.selectAll("."+mr+",."+mr+"-math-group").remove(),u.draw(H,Tt,t(Zt,Rt||{}))}function st(){if(F&&nt||!F&&!nt){var Tt,Rt;be==="top"&&(Tt=ne+K.l+rt*le,Rt=q+K.t+ot*(1-pt-Ye)+3+je*.75),be==="bottom"&&(Tt=ne+K.l+rt*le,Rt=q+K.t+ot*(1-pt)-3-je*.25),be==="right"&&(Rt=q+K.t+ot*Q+3+je*.75,Tt=ne+K.l+rt*pt),et(Mt._id+"title",{attributes:{x:Tt,y:Rt,"text-anchor":F?"start":"middle"}})}}function lt(){if(F&&!nt||!F&&nt){var Tt=Mt.position||0,Rt=Mt._offset+Mt._length/2,Zt,mr;if(be==="right")mr=Rt,Zt=K.l+rt*Tt+10+je*(Mt.showticklabels?1:.5);else if(Zt=Rt,be==="bottom"&&(mr=K.t+ot*Tt+10+(Re.indexOf("inside")===-1?Mt.tickfont.size:0)+(Mt.ticks!=="intside"&&k.ticklen||0)),be==="top"){var gt=de.text.split("<br>").length;mr=K.t+ot*Tt+10-_e-d*je*gt}et((F?"h":"v")+Mt._id+"title",{avoid:{selection:p.select(H).selectAll("g."+Mt._id+"tick"),side:be,offsetTop:F?0:K.t,offsetLeft:F?K.l:0,maxShift:F?J.width:J.height},attributes:{x:Zt,y:mr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function Wt(){if(!F&&!nt||F&&nt){var Tt=N.select("."+_.cbtitle),Rt=Tt.select("text"),Zt=[-j/2,j/2],mr=Tt.select(".h"+Mt._id+"title-math-group").node(),gt=15.6;Rt.node()&&(gt=parseInt(Rt.node().style.fontSize,10)*d);var Kt;if(mr?(Kt=n.bBox(mr),Ue=Kt.width,we=Kt.height,we>gt&&(Zt[1]-=(we-gt)/2)):Rt.node()&&!Rt.classed(_.jsPlaceholder)&&(Kt=n.bBox(Rt.node()),Ue=Kt.width,we=Kt.height),F){if(we){if(we+=5,be==="top")Mt.domain[1]-=we/K.h,Zt[1]*=-1;else{Mt.domain[0]+=we/K.h;var $t=l.lineCount(Rt);Zt[1]+=(1-$t)*gt}Tt.attr("transform",r(Zt[0],Zt[1])),Mt.setScale()}}else Ue&&(be==="right"&&(Mt.domain[0]+=(Ue+je/2)/K.w),Tt.attr("transform",r(Zt[0],Zt[1])),Mt.setScale())}N.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",F?r(0,Math.round(K.h*(1-Mt.domain[1]))):r(Math.round(K.w*Mt.domain[0]),0)),De.attr("transform",F?r(0,Math.round(-K.t)):r(Math.round(-K.l),0));var br=N.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(Me);br.enter().append("rect").classed(_.cbfill,!0).attr("style",""),br.exit().remove();var lr=Se.map(Mt.c2p).map(Math.round).sort(function(Dt,Yt){return Dt-Yt});br.each(function(Dt,Yt){var Bt=[Yt===0?Se[0]:(Me[Yt]+Me[Yt-1])/2,Yt===Me.length-1?Se[1]:(Me[Yt]+Me[Yt+1])/2].map(Mt.c2p).map(Math.round);F&&(Bt[1]=g.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,lr[0],lr[1]));var Ut=p.select(this).attr(F?"x":"y",$e).attr(F?"y":"x",p.min(Bt)).attr(F?"width":"height",Math.max(_e,2)).attr(F?"height":"width",Math.max(p.max(Bt)-p.min(Bt),2));if(k._fillgradient)n.gradient(Ut,H,k._id,F?"vertical":"horizontalreversed",k._fillgradient,"fill");else{var Jt=Ie(Dt).replace("e-","");Ut.attr("fill",L(Jt).toHexString())}});var mt=N.select("."+_.cblines).selectAll("path."+_.cbline).data(ae.color&&ae.width?Oe:[]);mt.enter().append("path").classed(_.cbline,!0),mt.exit().remove(),mt.each(function(Dt){var Yt=$e,Bt=Math.round(Mt.c2p(Dt))+ae.width/2%1;p.select(this).attr("d","M"+(F?Yt+","+Bt:Bt+","+Yt)+(F?"h":"v")+_e).call(n.lineGroupStyle,ae.width,Te(Dt),ae.dash)}),De.selectAll("g."+Mt._id+"tick,path").remove();var ut=$e+_e+(j||0)/2-(k.ticks==="outside"?1:0),bt=S.calcTicks(Mt),Et=S.getTickSigns(Mt)[2];return S.drawTicks(H,Mt,{vals:Mt.ticks==="inside"?S.clipEnds(Mt,bt):bt,layer:De,path:S.makeTickPath(Mt,ut,Et),transFn:S.makeTransTickFn(Mt)}),S.drawLabels(H,Mt,{vals:bt,layer:De,transFn:S.makeTransTickLabelFn(Mt),labelFns:S.makeLabelFns(Mt,ut)})}function jt(){var Tt,Rt=_e+j/2;Re.indexOf("inside")===-1&&(Tt=n.bBox(De.node()),Rt+=F?Tt.width:Tt.height),ge=Pe.select("text");var Zt=0,mr=F&&be==="top",gt=!F&&be==="right",Kt=0;if(ge.node()&&!ge.classed(_.jsPlaceholder)){var $t,br=Pe.select(".h"+Mt._id+"title-math-group").node();br&&(F&&nt||!F&&!nt)?(Tt=n.bBox(br),Zt=Tt.width,$t=Tt.height):(Tt=n.bBox(Pe.node()),Zt=Tt.right-K.l-(F?$e:wt),$t=Tt.bottom-K.t-(F?wt:$e),!F&&be==="top"&&(Rt+=Tt.height,Kt=Tt.height)),gt&&(ge.attr("transform",r(Zt/2+je/2,0)),Zt*=2),Rt=Math.max(Rt,F?Zt:$t)}var lr=(F?ne:q)*2+Rt+ee+j/2,mt=0;!F&&de.text&&he==="bottom"&&Q<=0&&(mt=lr/2,lr+=mt,Kt+=mt),J._hColorbarMoveTitle=mt,J._hColorbarMoveCBTitle=Kt;var ut=ee+j,bt=(F?$e:wt)-ut/2-(F?ne:0),Et=(F?wt:$e)-(F?Ce:q+Kt-mt);N.select("."+_.cbbg).attr("x",bt).attr("y",Et).attr(F?"width":"height",Math.max(lr-mt,2)).attr(F?"height":"width",Math.max(Ce+ut,2)).call(f.fill,ie).call(f.stroke,k.bordercolor).style("stroke-width",ee);var Dt=gt?Math.max(Zt-10,0):0;N.selectAll("."+_.cboutline).attr("x",(F?$e:wt+ne)+Dt).attr("y",(F?wt+q-Ce:$e)+(mr?we:0)).attr(F?"width":"height",Math.max(_e,2)).attr(F?"height":"width",Math.max(Ce-(F?2*q+we:2*ne+Dt),2)).call(f.stroke,k.outlinecolor).style({fill:"none","stroke-width":j});var Yt=F?qe*lr:0,Bt=F?0:(1-ht)*lr-Kt;if(Yt=ue?K.l-Yt:-Yt,Bt=te?K.t-Bt:-Bt,N.attr("transform",r(Yt,Bt)),!F&&(ee||L(ie).getAlpha()&&!L.equals(J.paper_bgcolor,ie))){var Ut=De.selectAll("text"),Jt=Ut[0].length,hr=N.select("."+_.cbbg).node(),vr=n.bBox(hr),gr=n.getTranslate(N),Xe=2;Ut.each(function(dr,wr){var pr=0,Wr=Jt-1;if(wr===pr||wr===Wr){var Pr=n.bBox(this),Ir=n.getTranslate(this),ln;if(wr===Wr){var an=Pr.right+Ir.x,_n=vr.right+gr.x+wt-ee-Xe+le;ln=_n-an,ln>0&&(ln=0)}else if(wr===pr){var Mn=Pr.left+Ir.x,Sr=vr.left+gr.x+wt+ee+Xe;ln=Sr-Mn,ln<0&&(ln=0)}ln&&(Jt<3?this.setAttribute("transform","translate("+ln+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var He={},Nt=x[oe],Pt=w[oe],Qt=x[he],ur=w[he],cr=lr-_e;F?(U==="pixels"?(He.y=Q,He.t=Ce*Qt,He.b=Ce*ur):(He.t=He.b=0,He.yt=Q+B*Qt,He.yb=Q-B*ur),W==="pixels"?(He.x=le,He.l=lr*Nt,He.r=lr*Pt):(He.l=cr*Nt,He.r=cr*Pt,He.xl=le-z*Nt,He.xr=le+z*Pt)):(U==="pixels"?(He.x=le,He.l=Ce*Nt,He.r=Ce*Pt):(He.l=He.r=0,He.xl=le+B*Nt,He.xr=le-B*Pt),W==="pixels"?(He.y=1-Q,He.t=lr*Qt,He.b=lr*ur):(He.t=cr*Qt,He.b=cr*ur,He.yt=Q-z*Qt,He.yb=Q+z*ur));var tr=k.y<.5?"b":"t",zt=k.x<.5?"l":"r";H._fullLayout._reservedMargin[k._id]={};var or={r:J.width-bt-Yt,l:bt+He.r,b:J.height-Et-Bt,t:Et+He.b};ue&&te?o.autoMargin(H,k._id,He):ue?H._fullLayout._reservedMargin[k._id][tr]=or[tr]:te||F?H._fullLayout._reservedMargin[k._id][zt]=or[zt]:H._fullLayout._reservedMargin[k._id][tr]=or[tr]}return g.syncOrAsync([o.previousPromises,st,Wt,lt,o.previousPromises,jt],H)}function s(N,k,H){var F=k.orientation==="v",B=H._fullLayout,U=B._size,z,W,j;v.init({element:N.node(),gd:H,prepFn:function(){z=N.attr("transform"),a(N)},moveFn:function(ee,ie){N.attr("transform",z+r(ee,ie)),W=v.align((F?k._uFrac:k._vFrac)+ee/U.w,F?k._thickFrac:k._lenFrac,0,1,k.xanchor),j=v.align((F?k._vFrac:1-k._uFrac)-ie/U.h,F?k._lenFrac:k._thickFrac,0,1,k.yanchor);var oe=v.getCursor(W,j,k.xanchor,k.yanchor);a(N,oe)},doneFn:function(){if(a(N),W!==void 0&&j!==void 0){var ee={};ee[k._propPrefix+"x"]=W,ee[k._propPrefix+"y"]=j,k._traceIndex!==void 0?C.call("_guiRestyle",H,ee,k._traceIndex):C.call("_guiRelayout",H,ee)}}})}function M(N,k,H){var F=k._levels,B=[],U=[],z,W,j=F.end+F.size/100,ee=F.size,ie=1.001*H[0]-.001*H[1],oe=1.001*H[1]-.001*H[0];for(W=0;W<1e5&&(z=F.start+W*ee,!(ee>0?z>=j:z<=j));W++)z>ie&&z<oe&&B.push(z);if(k._fillgradient)U=[0];else if(typeof k._fillcolor=="function"){var he=k._filllevels;if(he)for(j=he.end+he.size/100,ee=he.size,W=0;W<1e5&&(z=he.start+W*ee,!(ee>0?z>=j:z<=j));W++)z>H[0]&&z<H[1]&&U.push(z);else U=B.map(function(ne){return ne-F.size/2}),U.push(U[U.length-1]+F.size)}else k._fillcolor&&typeof k._fillcolor=="string"&&(U=[0]);return F.size<0&&(B.reverse(),U.reverse()),{line:B,fill:U}}function b(N,k,H){var F=N._fullLayout,B=k.orientation==="v",U={type:"linear",range:H,tickmode:k.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,ticklabelposition:k.ticklabelposition,ticklabeloverflow:k.ticklabeloverflow,ticklabelstep:k.ticklabelstep,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,showexponent:k.showexponent,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,title:k.title,showline:!0,anchor:"free",side:B?"right":"bottom",position:1},z=B?"y":"x",W={type:"linear",_id:z+k._id},j={letter:z,font:F.font,noAutotickangles:z==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function ee(ie,oe){return g.coerce(U,W,c,ie,oe)}return h(U,W,ee,j,F),T(U,W,ee,j),W}V.exports={draw:m}},90553:function(V,Y,e){var p=e(3400);V.exports=function(o){return p.isPlainObject(o.colorbar)}},55080:function(V,Y,e){V.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(V,Y,e){var p=e(42996),L=e(53756).counter,o=e(95376),C=e(88304).scales;o(C),V.exports=function(v,g){v=v||"",g=g||{};var r=g.cLetter||"c";"onlyIfNumerical"in g&&g.onlyIfNumerical;var t="noScale"in g?g.noScale:v==="marker.line",a="showScaleDflt"in g?g.showScaleDflt:r==="z",n=typeof g.colorscaleDflt=="string"?C[g.colorscaleDflt]:null,f=g.editTypeOverride||"",u;"colorAttr"in g?(u=g.colorAttr,g.colorAttr):u={z:"z",c:"color"}[r];var l=r+"auto",y=r+"min",h=r+"max",T=r+"mid",c={};c[y]=c[h]=void 0;var i={};i[l]=!1;var d={};return u==="color"&&(d.color={valType:"color",arrayOk:!0,editType:f||"style"},g.anim&&(d.color.anim=!0)),d[l]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},d[y]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[h]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:i},d[T]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:g.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(d.showscale={valType:"boolean",dflt:a,editType:"calc"},d.colorbar=p),g.noColorAxis||(d.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),d}},47128:function(V,Y,e){var p=e(38248),L=e(3400),o=e(94288).extractOpts;V.exports=function(S,v,g){var r=S._fullLayout,t=g.vals,a=g.containerStr,n=a?L.nestedProperty(v,a).get():v,f=o(n),u=f.auto!==!1,l=f.min,y=f.max,h=f.mid,T=function(){return L.aggNums(Math.min,null,t)},c=function(){return L.aggNums(Math.max,null,t)};if(l===void 0?l=T():u&&(n._colorAx&&p(l)?l=Math.min(l,T()):l=T()),y===void 0?y=c():u&&(n._colorAx&&p(y)?y=Math.max(y,c()):y=c()),u&&h!==void 0&&(y-h>h-l?l=h-(y-h):y-h<h-l&&(y=h+(h-l))),l===y&&(l-=.5,y+=.5),f._sync("min",l),f._sync("max",y),f.autocolorscale){var i;l*y<0?i=r.colorscale.diverging:l>=0?i=r.colorscale.sequential:i=r.colorscale.sequentialminus,f._sync("colorscale",i)}}},95504:function(V,Y,e){var p=e(3400),L=e(94288).hasColorscale,o=e(94288).extractOpts;V.exports=function(S,v){function g(l,y){var h=l["_"+y];h!==void 0&&(l[y]=h)}function r(l,y){var h=y.container?p.nestedProperty(l,y.container).get():l;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var T=o(h),c=T.auto;(c||T.min===void 0)&&g(h,y.min),(c||T.max===void 0)&&g(h,y.max),T.autocolorscale&&g(h,"colorscale")}}for(var t=0;t<S.length;t++){var a=S[t],n=a._module.colorbar;if(n)if(Array.isArray(n))for(var f=0;f<n.length;f++)r(a,n[f]);else r(a,n);L(a,"marker.line")&&r(a,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in v._colorAxes)r(v[u],{min:"cmin",max:"cmax"})}},27260:function(V,Y,e){var p=e(38248),L=e(3400),o=e(90553),C=e(64013),S=e(88304).isValid,v=e(24040).traceIs;function g(r,t){var a=t.slice(0,t.length-1);return t?L.nestedProperty(r,a).get()||{}:r}V.exports=function r(t,a,n,f,u){var l=u.prefix,y=u.cLetter,h="_module"in a,T=g(t,l),c=g(a,l),i=g(a._template||{},l)||{},d=function(){return delete t.coloraxis,delete a.coloraxis,r(t,a,n,f,u)};if(h){var x=n._colorAxes||{},w=f(l+"coloraxis");if(w){var _=v(a,"contour")&&L.nestedProperty(a,"contours.coloring").get()||"heatmap",m=x[w];m?(m[2].push(d),m[0]!==_&&(m[0]=!1,L.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[w]=[_,a,[d]];return}}var E=T[y+"min"],A=T[y+"max"],s=p(E)&&p(A)&&E<A,M=f(l+y+"auto",!s);M?f(l+y+"mid"):(f(l+y+"min"),f(l+y+"max"));var b=T.colorscale,N=i.colorscale,k;if(b!==void 0&&(k=!S(b)),N!==void 0&&(k=!S(N)),f(l+"autocolorscale",k),f(l+"colorscale"),f(l+"reversescale"),l!=="marker.line."){var H;l&&h&&(H=o(T));var F=f(l+"showscale",H);F&&(l&&i&&(c._template=i),C(T,c,n))}}},94288:function(V,Y,e){var p=e(33428),L=e(49760),o=e(38248),C=e(3400),S=e(76308),v=e(88304).isValid;function g(h,T,c){var i=T?C.nestedProperty(h,T).get()||{}:h,d=i[c||"color"];d&&d._inputArray&&(d=d._inputArray);var x=!1;if(C.isArrayOrTypedArray(d)){for(var w=0;w<d.length;w++)if(o(d[w])){x=!0;break}}return C.isPlainObject(i)&&(x||i.showscale===!0||o(i.cmin)&&o(i.cmax)||v(i.colorscale)||C.isPlainObject(i.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function a(h){var T=h._colorAx,c=T||h,i={},d,x,w;for(x=0;x<r.length;x++)w=r[x],i[w]=c[w];if(T)for(d="c",x=0;x<t.length;x++)w=t[x],i[w]=c["c"+w];else{var _;for(x=0;x<t.length;x++){if(w=t[x],_="c"+w,_ in c){i[w]=c[_];continue}_="z"+w,_ in c&&(i[w]=c[_])}d=_.charAt(0)}return i._sync=function(m,E){var A=t.indexOf(m)!==-1?d+m:m;c[A]=c["_"+A]=E},i}function n(h){for(var T=a(h),c=T.min,i=T.max,d=T.reversescale?f(T.colorscale):T.colorscale,x=d.length,w=new Array(x),_=new Array(x),m=0;m<x;m++){var E=d[m];w[m]=c+E[0]*(i-c),_[m]=E[1]}return{domain:w,range:_}}function f(h){for(var T=h.length,c=new Array(T),i=T-1,d=0;i>=0;i--,d++){var x=h[i];c[d]=[1-x[0],x[1]]}return c}function u(h,T){T=T||{};for(var c=h.domain,i=h.range,d=i.length,x=new Array(d),w=0;w<d;w++){var _=L(i[w]).toRgb();x[w]=[_.r,_.g,_.b,_.a]}var m=p.scale.linear().domain(c).range(x).clamp(!0),E=T.noNumericCheck,A=T.returnArray,s;return E&&A?s=m:E?s=function(M){return y(m(M))}:A?s=function(M){return o(M)?m(M):L(M).isValid()?M:S.defaultLine}:s=function(M){return o(M)?y(m(M)):L(M).isValid()?M:S.defaultLine},s.domain=m.domain,s.range=function(){return i},s}function l(h,T){return u(n(h),T)}function y(h){var T={r:h[0],g:h[1],b:h[2],a:h[3]};return L(T).toRgbString()}V.exports={hasColorscale:g,extractOpts:a,extractScale:n,flipScale:f,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:l}},8932:function(V,Y,e){var p=e(88304),L=e(94288);V.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},92332:function(V,Y,e){var p=e(92880).extendFlat,L=e(49084),o=e(88304).scales;V.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(V,Y,e){var p=e(3400),L=e(31780),o=e(92332),C=e(27260);V.exports=function(v,g){function r(h,T){return p.coerce(v,g,o,h,T)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=g._colorAxes,a,n;function f(h,T){return p.coerce(a,n,o.coloraxis,h,T)}for(var u in t){var l=t[u];if(l[0])a=v[u]||{},n=L.newContainer(g,u,"coloraxis"),n._name=u,C(a,n,g,f,{prefix:"",cLetter:"c"});else{for(var y=0;y<l[2].length;y++)l[2][y]();delete g._colorAxes[u]}}}},88304:function(V,Y,e){var p=e(49760),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=L.RdBu;function C(g,r){if(r||(r=o),!g)return r;function t(){try{g=L[g]||JSON.parse(g)}catch{g=r}}return typeof g=="string"&&(t(),typeof g=="string"&&t()),S(g)?g:r}function S(g){var r=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var t=0;t<g.length;t++){var a=g[t];if(a.length!==2||+a[0]<r||!p(a[1]).isValid())return!1;r=+a[0]}return!0}function v(g){return L[g]!==void 0?!0:S(g)}V.exports={scales:L,defaultScale:o,get:C,isValid:v}},78316:function(V){V.exports=function(e,p,L,o,C){var S=(e-L)/(o-L),v=S+p/(o-L),g=(S+v)/2;return C==="left"||C==="bottom"?S:C==="center"||C==="middle"?g:C==="right"||C==="top"?v:S<.6666666666666666-g?S:v>1.3333333333333333-g?v:g}},67416:function(V,Y,e){var p=e(3400),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];V.exports=function(C,S,v,g){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=p.constrain(Math.floor(C*3),0,2),g==="bottom"?S=0:g==="middle"?S=1:g==="top"?S=2:S=p.constrain(Math.floor(S*3),0,2),L[S][C]}},72760:function(V,Y){Y.selectMode=function(e){return e==="lasso"||e==="select"},Y.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},Y.openMode=function(e){return e==="drawline"||e==="drawopenpath"},Y.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},Y.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},Y.selectingOrDrawing=function(e){return Y.freeMode(e)||Y.rectMode(e)}},86476:function(V,Y,e){var p=e(29128),L=e(52264),o=e(89184),C=e(3400).removeElement,S=e(33816),v=V.exports={};v.align=e(78316),v.getCursor=e(67416);var g=e(2616);v.unhover=g.wrapped,v.unhoverRaw=g.raw,v.init=function(n){var f=n.gd,u=1,l=f._context.doubleClickDelay,y=n.element,h,T,c,i,d,x,w,_;f._mouseDownTime||(f._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=A,o?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=A,y.addEventListener("touchstart",A,{passive:!1})):y.ontouchstart=A;function m(b,N,k){return Math.abs(b)<k&&(b=0),Math.abs(N)<k&&(N=0),[b,N]}var E=n.clampFn||m;function A(b){f._dragged=!1,f._dragging=!0;var N=t(b);h=N[0],T=N[1],w=b.target,x=b,_=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=h,b.clientY=T),c=new Date().getTime(),c-f._mouseDownTime<l?u+=1:(u=1,f._mouseDownTime=c),n.prepFn&&n.prepFn(b,h,T),L&&!_?(d=r(),d.style.cursor=window.getComputedStyle(y).cursor):L||(d=document,i=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),n.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1}))}function s(b){b.preventDefault();var N=t(b),k=n.minDrag||S.MINDRAG,H=E(N[0]-h,N[1]-T,k),F=H[0],B=H[1];(F||B)&&(f._dragged=!0,v.unhover(f,b)),f._dragged&&n.moveFn&&!_&&(f._dragdata={element:y,dx:F,dy:B},n.moveFn(F,B))}function M(b){if(delete f._dragdata,n.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("touchmove",s)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),L?C(d):i&&(d.documentElement.style.cursor=i,i=null),!f._dragging){f._dragged=!1;return}if(f._dragging=!1,new Date().getTime()-f._mouseDownTime>l&&(u=Math.max(u-1,1)),f._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(u,x),!_){var N;try{N=new MouseEvent("click",b)}catch{var k=t(b);N=document.createEvent("MouseEvents"),N.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,k[0],k[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}w.dispatchEvent(N)}f._dragging=!1,f._dragged=!1}};function r(){var a=document.createElement("div");a.className="dragcover";var n=a.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(a),a}v.coverSlip=r;function t(a){return p(a.changedTouches?a.changedTouches[0]:a,document.body)}},2616:function(V,Y,e){var p=e(95924),L=e(91200),o=e(52200).getGraphDiv,C=e(92456),S=V.exports={};S.wrapped=function(v,g,r){v=o(v),v._fullLayout&&L.clear(v._fullLayout._uid+C.HOVERID),S.raw(v,g,r)},S.raw=function(g,r){var t=g._fullLayout,a=g._hoverdata;r||(r={}),!(r.target&&!g._dragged&&p.triggerHandler(g,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,r.target&&a&&g.emit("plotly_unhover",{event:r,points:a}))}},98192:function(V,Y){Y.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},Y.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(V,Y,e){var p=e(33428),L=e(3400),o=L.numberFormat,C=e(38248),S=e(49760),v=e(24040),g=e(76308),r=e(8932),t=L.strTranslate,a=e(72736),n=e(9616),f=e(84284),u=f.LINE_SPACING,l=e(13448).DESELECTDIM,y=e(43028),h=e(7152),T=e(10624).appendArrayPointValue,c=V.exports={};c.font=function(_e,Ne){var Ce=Ne.variant,Ye=Ne.style,rt=Ne.weight,ot=Ne.color,$e=Ne.size,qe=Ne.family,ht=Ne.shadow,vt=Ne.lineposition,pt=Ne.textcase;qe&&_e.style("font-family",qe),$e+1&&_e.style("font-size",$e+"px"),ot&&_e.call(g.fill,ot),rt&&_e.style("font-weight",rt),Ye&&_e.style("font-style",Ye),Ce&&_e.style("font-variant",Ce),pt&&_e.style("text-transform",i(x(pt))),ht&&_e.style("text-shadow",ht==="auto"?a.makeTextShadow(g.contrast(ot)):i(ht)),vt&&_e.style("text-decoration-line",i(w(vt)))};function i(_e){return _e==="none"?void 0:_e}var d={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function x(_e){return d[_e]}function w(_e){return _e.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}c.setPosition=function(_e,Ne,Ce){_e.attr("x",Ne).attr("y",Ce)},c.setSize=function(_e,Ne,Ce){_e.attr("width",Ne).attr("height",Ce)},c.setRect=function(_e,Ne,Ce,Ye,rt){_e.call(c.setPosition,Ne,Ce).call(c.setSize,Ye,rt)},c.translatePoint=function(_e,Ne,Ce,Ye){var rt=Ce.c2p(_e.x),ot=Ye.c2p(_e.y);if(C(rt)&&C(ot)&&Ne.node())Ne.node().nodeName==="text"?Ne.attr("x",rt).attr("y",ot):Ne.attr("transform",t(rt,ot));else return!1;return!0},c.translatePoints=function(_e,Ne,Ce){_e.each(function(Ye){var rt=p.select(this);c.translatePoint(Ye,rt,Ne,Ce)})},c.hideOutsideRangePoint=function(_e,Ne,Ce,Ye,rt,ot){Ne.attr("display",Ce.isPtWithinRange(_e,rt)&&Ye.isPtWithinRange(_e,ot)?null:"none")},c.hideOutsideRangePoints=function(_e,Ne){if(Ne._hasClipOnAxisFalse){var Ce=Ne.xaxis,Ye=Ne.yaxis;_e.each(function(rt){var ot=rt[0].trace,$e=ot.xcalendar,qe=ot.ycalendar,ht=v.traceIs(ot,"bar-like")?".bartext":".point,.textpoint";_e.selectAll(ht).each(function(vt){c.hideOutsideRangePoint(vt,p.select(this),Ce,Ye,$e,qe)})})}},c.crispRound=function(_e,Ne,Ce){return!Ne||!C(Ne)?Ce||0:_e._context.staticPlot?Ne:Ne<1?1:Math.round(Ne)},c.singleLineStyle=function(_e,Ne,Ce,Ye,rt){Ne.style("fill","none");var ot=(((_e||[])[0]||{}).trace||{}).line||{},$e=Ce||ot.width||0,qe=rt||ot.dash||"";g.stroke(Ne,Ye||ot.color),c.dashLine(Ne,qe,$e)},c.lineGroupStyle=function(_e,Ne,Ce,Ye){_e.style("fill","none").each(function(rt){var ot=(((rt||[])[0]||{}).trace||{}).line||{},$e=Ne||ot.width||0,qe=Ye||ot.dash||"";p.select(this).call(g.stroke,Ce||ot.color).call(c.dashLine,qe,$e)})},c.dashLine=function(_e,Ne,Ce){Ce=+Ce||0,Ne=c.dashStyle(Ne,Ce),_e.style({"stroke-dasharray":Ne,"stroke-width":Ce+"px"})},c.dashStyle=function(_e,Ne){Ne=+Ne||1;var Ce=Math.max(Ne,3);return _e==="solid"?_e="":_e==="dot"?_e=Ce+"px,"+Ce+"px":_e==="dash"?_e=3*Ce+"px,"+3*Ce+"px":_e==="longdash"?_e=5*Ce+"px,"+5*Ce+"px":_e==="dashdot"?_e=3*Ce+"px,"+Ce+"px,"+Ce+"px,"+Ce+"px":_e==="longdashdot"&&(_e=5*Ce+"px,"+2*Ce+"px,"+Ce+"px,"+2*Ce+"px"),_e};function _(_e,Ne,Ce,Ye){var rt=Ne.fillpattern,ot=Ne.fillgradient,$e=rt&&c.getPatternAttr(rt.shape,0,"");if($e){var qe=c.getPatternAttr(rt.bgcolor,0,null),ht=c.getPatternAttr(rt.fgcolor,0,null),vt=rt.fgopacity,pt=c.getPatternAttr(rt.size,0,8),wt=c.getPatternAttr(rt.solidity,0,.3),Mt=Ne.uid;c.pattern(_e,"point",Ce,Mt,$e,pt,wt,void 0,rt.fillmode,qe,ht,vt)}else if(ot&&ot.type!=="none"){var nt=ot.type,Fe="scatterfill-"+Ne.uid;if(Ye&&(Fe="legendfill-"+Ne.uid),!Ye&&(ot.start!==void 0||ot.stop!==void 0)){var We,Ze;nt==="horizontal"?(We={x:ot.start,y:0},Ze={x:ot.stop,y:0}):nt==="vertical"&&(We={x:0,y:ot.start},Ze={x:0,y:ot.stop}),We.x=Ne._xA.c2p(We.x===void 0?Ne._extremes.x.min[0].val:We.x,!0),We.y=Ne._yA.c2p(We.y===void 0?Ne._extremes.y.min[0].val:We.y,!0),Ze.x=Ne._xA.c2p(Ze.x===void 0?Ne._extremes.x.max[0].val:Ze.x,!0),Ze.y=Ne._yA.c2p(Ze.y===void 0?Ne._extremes.y.max[0].val:Ze.y,!0),_e.call(N,Ce,Fe,"linear",ot.colorscale,"fill",We,Ze,!0,!1)}else nt==="horizontal"&&(nt=nt+"reversed"),_e.call(c.gradient,Ce,Fe,nt,ot.colorscale,"fill")}else Ne.fillcolor&&_e.call(g.fill,Ne.fillcolor)}c.singleFillStyle=function(_e,Ne){var Ce=p.select(_e.node()),Ye=Ce.data(),rt=((Ye[0]||[])[0]||{}).trace||{};_(_e,rt,Ne,!1)},c.fillGroupStyle=function(_e,Ne,Ce){_e.style("stroke-width",0).each(function(Ye){var rt=p.select(this);Ye[0].trace&&_(rt,Ye[0].trace,Ne,Ce)})};var m=e(71984);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(m).forEach(function(_e){var Ne=m[_e],Ce=Ne.n;c.symbolList.push(Ce,String(Ce),_e,Ce+100,String(Ce+100),_e+"-open"),c.symbolNames[Ce]=_e,c.symbolFuncs[Ce]=Ne.f,c.symbolBackOffs[Ce]=Ne.backoff||0,Ne.needLine&&(c.symbolNeedLines[Ce]=!0),Ne.noDot?c.symbolNoDot[Ce]=!0:c.symbolList.push(Ce+200,String(Ce+200),_e+"-dot",Ce+300,String(Ce+300),_e+"-open-dot"),Ne.noFill&&(c.symbolNoFill[Ce]=!0)});var E=c.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(_e){if(C(_e))_e=+_e;else if(typeof _e=="string"){var Ne=0;_e.indexOf("-open")>0&&(Ne=100,_e=_e.replace("-open","")),_e.indexOf("-dot")>0&&(Ne+=200,_e=_e.replace("-dot","")),_e=c.symbolNames.indexOf(_e),_e>=0&&(_e+=Ne)}return _e%100>=E||_e>=400?0:Math.floor(Math.max(_e,0))};function s(_e,Ne,Ce,Ye){var rt=_e%100;return c.symbolFuncs[rt](Ne,Ce,Ye)+(_e>=200?A:"")}var M=o("~f"),b={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};c.gradient=function(_e,Ne,Ce,Ye,rt,ot){var $e=b[Ye];return N(_e,Ne,Ce,$e.type,rt,ot,$e.start,$e.stop,!1,$e.reversed)};function N(_e,Ne,Ce,Ye,rt,ot,$e,qe,ht,vt){var pt=rt.length,wt;Ye==="linear"?wt={node:"linearGradient",attrs:{x1:$e.x,y1:$e.y,x2:qe.x,y2:qe.y,gradientUnits:ht?"userSpaceOnUse":"objectBoundingBox"},reversed:vt}:Ye==="radial"&&(wt={node:"radialGradient",reversed:vt});for(var Mt=new Array(pt),nt=0;nt<pt;nt++)wt.reversed?Mt[pt-1-nt]=[M((1-rt[nt][0])*100),rt[nt][1]]:Mt[nt]=[M(rt[nt][0]*100),rt[nt][1]];var Fe=Ne._fullLayout,We="g"+Fe._uid+"-"+Ce,Ze=Fe._defs.select(".gradients").selectAll("#"+We).data([Ye+Mt.join(";")],L.identity);Ze.exit().remove(),Ze.enter().append(wt.node).each(function(){var Ge=p.select(this);wt.attrs&&Ge.attr(wt.attrs),Ge.attr("id",We);var Pe=Ge.selectAll("stop").data(Mt);Pe.exit().remove(),Pe.enter().append("stop"),Pe.each(function(Re){var je=S(Re[1]);p.select(this).attr({offset:Re[0]+"%","stop-color":g.tinyRGB(je),"stop-opacity":je.getAlpha()})})}),_e.style(ot,te(We,Ne)).style(ot+"-opacity",null),_e.classed("gradient_filled",!0)}c.pattern=function(_e,Ne,Ce,Ye,rt,ot,$e,qe,ht,vt,pt,wt){var Mt=Ne==="legend";qe&&(ht==="overlay"?(vt=qe,pt=g.contrast(vt)):(vt=void 0,pt=qe));var nt=Ce._fullLayout,Fe="p"+nt._uid+"-"+Ye,We,Ze,Ge=function(jt,Tt,Rt,Zt,mr){return Zt+(mr-Zt)*(jt-Tt)/(Rt-Tt)},Pe,Re,je,De,ge={},we=S(pt),Ue=g.tinyRGB(we),et=we.getAlpha(),st=wt*et;switch(rt){case"/":We=ot*Math.sqrt(2),Ze=ot*Math.sqrt(2),Pe="M-"+We/4+","+Ze/4+"l"+We/2+",-"+Ze/2+"M0,"+Ze+"L"+We+",0M"+We/4*3+","+Ze/4*5+"l"+We/2+",-"+Ze/2,Re=$e*ot,De="path",ge={d:Pe,opacity:st,stroke:Ue,"stroke-width":Re+"px"};break;case"\\":We=ot*Math.sqrt(2),Ze=ot*Math.sqrt(2),Pe="M"+We/4*3+",-"+Ze/4+"l"+We/2+","+Ze/2+"M0,0L"+We+","+Ze+"M-"+We/4+","+Ze/4*3+"l"+We/2+","+Ze/2,Re=$e*ot,De="path",ge={d:Pe,opacity:st,stroke:Ue,"stroke-width":Re+"px"};break;case"x":We=ot*Math.sqrt(2),Ze=ot*Math.sqrt(2),Pe="M-"+We/4+","+Ze/4+"l"+We/2+",-"+Ze/2+"M0,"+Ze+"L"+We+",0M"+We/4*3+","+Ze/4*5+"l"+We/2+",-"+Ze/2+"M"+We/4*3+",-"+Ze/4+"l"+We/2+","+Ze/2+"M0,0L"+We+","+Ze+"M-"+We/4+","+Ze/4*3+"l"+We/2+","+Ze/2,Re=ot-ot*Math.sqrt(1-$e),De="path",ge={d:Pe,opacity:st,stroke:Ue,"stroke-width":Re+"px"};break;case"|":We=ot,Ze=ot,De="path",Pe="M"+We/2+",0L"+We/2+","+Ze,Re=$e*ot,De="path",ge={d:Pe,opacity:st,stroke:Ue,"stroke-width":Re+"px"};break;case"-":We=ot,Ze=ot,De="path",Pe="M0,"+Ze/2+"L"+We+","+Ze/2,Re=$e*ot,De="path",ge={d:Pe,opacity:st,stroke:Ue,"stroke-width":Re+"px"};break;case"+":We=ot,Ze=ot,De="path",Pe="M"+We/2+",0L"+We/2+","+Ze+"M0,"+Ze/2+"L"+We+","+Ze/2,Re=ot-ot*Math.sqrt(1-$e),De="path",ge={d:Pe,opacity:st,stroke:Ue,"stroke-width":Re+"px"};break;case".":We=ot,Ze=ot,$e<Math.PI/4?je=Math.sqrt($e*ot*ot/Math.PI):je=Ge($e,Math.PI/4,1,ot/2,ot/Math.sqrt(2)),De="circle",ge={cx:We/2,cy:Ze/2,r:je,opacity:st,fill:Ue};break}var lt=[rt||"noSh",vt||"noBg",pt||"noFg",ot,$e].join(";"),Wt=nt._defs.select(".patterns").selectAll("#"+Fe).data([lt],L.identity);Wt.exit().remove(),Wt.enter().append("pattern").each(function(){var jt=p.select(this);if(jt.attr({id:Fe,width:We+"px",height:Ze+"px",patternUnits:"userSpaceOnUse",patternTransform:Mt?"scale(0.8)":""}),vt){var Tt=S(vt),Rt=g.tinyRGB(Tt),Zt=Tt.getAlpha(),mr=jt.selectAll("rect").data([0]);mr.exit().remove(),mr.enter().append("rect").attr({width:We+"px",height:Ze+"px",fill:Rt,"fill-opacity":Zt})}var gt=jt.selectAll(De).data([0]);gt.exit().remove(),gt.enter().append(De).attr(ge)}),_e.style("fill",te(Fe,Ce)).style("fill-opacity",null),_e.classed("pattern_filled",!0)},c.initGradients=function(_e){var Ne=_e._fullLayout,Ce=L.ensureSingle(Ne._defs,"g","gradients");Ce.selectAll("linearGradient,radialGradient").remove(),p.select(_e).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(_e){var Ne=_e._fullLayout,Ce=L.ensureSingle(Ne._defs,"g","patterns");Ce.selectAll("pattern").remove(),p.select(_e).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(_e,Ne,Ce){return _e&&L.isArrayOrTypedArray(_e)?Ne<_e.length?_e[Ne]:Ce:_e},c.pointStyle=function(_e,Ne,Ce,Ye){if(_e.size()){var rt=c.makePointStyleFns(Ne);_e.each(function(ot){c.singlePointStyle(ot,p.select(this),Ne,rt,Ce,Ye)})}},c.singlePointStyle=function(_e,Ne,Ce,Ye,rt,ot){var $e=Ce.marker,qe=$e.line;if(ot&&ot.i>=0&&_e.i===void 0&&(_e.i=ot.i),Ne.style("opacity",Ye.selectedOpacityFn?Ye.selectedOpacityFn(_e):_e.mo===void 0?$e.opacity:_e.mo),Ye.ms2mrc){var ht;_e.ms==="various"||$e.size==="various"?ht=3:ht=Ye.ms2mrc(_e.ms),_e.mrc=ht,Ye.selectedSizeFn&&(ht=_e.mrc=Ye.selectedSizeFn(_e));var vt=c.symbolNumber(_e.mx||$e.symbol)||0;_e.om=vt%200>=100;var pt=Oe(_e,Ce),wt=K(_e,Ce);Ne.attr("d",s(vt,ht,pt,wt))}var Mt=!1,nt,Fe,We;if(_e.so)We=qe.outlierwidth,Fe=qe.outliercolor,nt=$e.outliercolor;else{var Ze=(qe||{}).width;We=(_e.mlw+1||Ze+1||(_e.trace?(_e.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in _e?Fe=_e.mlcc=Ye.lineScale(_e.mlc):L.isArrayOrTypedArray(qe.color)?Fe=g.defaultLine:Fe=qe.color,L.isArrayOrTypedArray($e.color)&&(nt=g.defaultLine,Mt=!0),"mc"in _e?nt=_e.mcc=Ye.markerScale(_e.mc):nt=$e.color||$e.colors||"rgba(0,0,0,0)",Ye.selectedColorFn&&(nt=Ye.selectedColorFn(_e))}if(_e.om)Ne.call(g.stroke,nt).style({"stroke-width":(We||1)+"px",fill:"none"});else{Ne.style("stroke-width",(_e.isBlank?0:We)+"px");var Ge=$e.gradient,Pe=_e.mgt;Pe?Mt=!0:Pe=Ge&&Ge.type,L.isArrayOrTypedArray(Pe)&&(Pe=Pe[0],b[Pe]||(Pe=0));var Re=$e.pattern,je=Re&&c.getPatternAttr(Re.shape,_e.i,"");if(Pe&&Pe!=="none"){var De=_e.mgc;De?Mt=!0:De=Ge.color;var ge=Ce.uid;Mt&&(ge+="-"+_e.i),c.gradient(Ne,rt,ge,Pe,[[0,De],[1,nt]],"fill")}else if(je){var we=!1,Ue=Re.fgcolor;!Ue&&ot&&ot.color&&(Ue=ot.color,we=!0);var et=c.getPatternAttr(Ue,_e.i,ot&&ot.color||null),st=c.getPatternAttr(Re.bgcolor,_e.i,null),lt=Re.fgopacity,Wt=c.getPatternAttr(Re.size,_e.i,8),jt=c.getPatternAttr(Re.solidity,_e.i,.3);we=we||_e.mcc||L.isArrayOrTypedArray(Re.shape)||L.isArrayOrTypedArray(Re.bgcolor)||L.isArrayOrTypedArray(Re.fgcolor)||L.isArrayOrTypedArray(Re.size)||L.isArrayOrTypedArray(Re.solidity);var Tt=Ce.uid;we&&(Tt+="-"+_e.i),c.pattern(Ne,"point",rt,Tt,je,Wt,jt,_e.mcc,Re.fillmode,st,et,lt)}else L.isArrayOrTypedArray(nt)?g.fill(Ne,nt[_e.i]):g.fill(Ne,nt);We&&g.stroke(Ne,Fe)}},c.makePointStyleFns=function(_e){var Ne={},Ce=_e.marker;return Ne.markerScale=c.tryColorscale(Ce,""),Ne.lineScale=c.tryColorscale(Ce,"line"),v.traceIs(_e,"symbols")&&(Ne.ms2mrc=y.isBubble(_e)?h(_e):function(){return(Ce.size||6)/2}),_e.selectedpoints&&L.extendFlat(Ne,c.makeSelectedPointStyleFns(_e)),Ne},c.makeSelectedPointStyleFns=function(_e){var Ne={},Ce=_e.selected||{},Ye=_e.unselected||{},rt=_e.marker||{},ot=Ce.marker||{},$e=Ye.marker||{},qe=rt.opacity,ht=ot.opacity,vt=$e.opacity,pt=ht!==void 0,wt=vt!==void 0;(L.isArrayOrTypedArray(qe)||pt||wt)&&(Ne.selectedOpacityFn=function(je){var De=je.mo===void 0?rt.opacity:je.mo;return je.selected?pt?ht:De:wt?vt:l*De});var Mt=rt.color,nt=ot.color,Fe=$e.color;(nt||Fe)&&(Ne.selectedColorFn=function(je){var De=je.mcc||Mt;return je.selected?nt||De:Fe||De});var We=rt.size,Ze=ot.size,Ge=$e.size,Pe=Ze!==void 0,Re=Ge!==void 0;return v.traceIs(_e,"symbols")&&(Pe||Re)&&(Ne.selectedSizeFn=function(je){var De=je.mrc||We/2;return je.selected?Pe?Ze/2:De:Re?Ge/2:De}),Ne},c.makeSelectedTextStyleFns=function(_e){var Ne={},Ce=_e.selected||{},Ye=_e.unselected||{},rt=_e.textfont||{},ot=Ce.textfont||{},$e=Ye.textfont||{},qe=rt.color,ht=ot.color,vt=$e.color;return Ne.selectedTextColorFn=function(pt){var wt=pt.tc||qe;return pt.selected?ht||wt:vt||(ht?wt:g.addOpacity(wt,l))},Ne},c.selectedPointStyle=function(_e,Ne){if(!(!_e.size()||!Ne.selectedpoints)){var Ce=c.makeSelectedPointStyleFns(Ne),Ye=Ne.marker||{},rt=[];Ce.selectedOpacityFn&&rt.push(function(ot,$e){ot.style("opacity",Ce.selectedOpacityFn($e))}),Ce.selectedColorFn&&rt.push(function(ot,$e){g.fill(ot,Ce.selectedColorFn($e))}),Ce.selectedSizeFn&&rt.push(function(ot,$e){var qe=$e.mx||Ye.symbol||0,ht=Ce.selectedSizeFn($e);ot.attr("d",s(c.symbolNumber(qe),ht,Oe($e,Ne),K($e,Ne))),$e.mrc2=ht}),rt.length&&_e.each(function(ot){for(var $e=p.select(this),qe=0;qe<rt.length;qe++)rt[qe]($e,ot)})}},c.tryColorscale=function(_e,Ne){var Ce=Ne?L.nestedProperty(_e,Ne).get():_e;if(Ce){var Ye=Ce.color;if((Ce.colorscale||Ce._colorAx)&&L.isArrayOrTypedArray(Ye))return r.makeColorScaleFuncFromTrace(Ce)}return L.identity};var k={start:1,end:-1,middle:0,bottom:1,top:-1};function H(_e,Ne,Ce,Ye,rt){var ot=p.select(_e.node().parentNode),$e=Ne.indexOf("top")!==-1?"top":Ne.indexOf("bottom")!==-1?"bottom":"middle",qe=Ne.indexOf("left")!==-1?"end":Ne.indexOf("right")!==-1?"start":"middle",ht=Ye?Ye/.8+1:0,vt=(a.lineCount(_e)-1)*u+1,pt=k[qe]*ht,wt=Ce*.75+k[$e]*ht+(k[$e]-1)*vt*Ce/2;_e.attr("text-anchor",qe),rt||ot.attr("transform",t(pt,wt))}function F(_e,Ne){var Ce=_e.ts||Ne.textfont.size;return C(Ce)&&Ce>0?Ce:0}c.textPointStyle=function(_e,Ne,Ce){if(_e.size()){var Ye;if(Ne.selectedpoints){var rt=c.makeSelectedTextStyleFns(Ne);Ye=rt.selectedTextColorFn}var ot=Ne.texttemplate,$e=Ce._fullLayout;_e.each(function(qe){var ht=p.select(this),vt=ot?L.extractOption(qe,Ne,"txt","texttemplate"):L.extractOption(qe,Ne,"tx","text");if(!vt&&vt!==0){ht.remove();return}if(ot){var pt=Ne._module.formatLabels,wt=pt?pt(qe,Ne,$e):{},Mt={};T(Mt,Ne,qe.i);var nt=Ne._meta||{};vt=L.texttemplateString(vt,wt,$e._d3locale,Mt,qe,nt)}var Fe=qe.tp||Ne.textposition,We=F(qe,Ne),Ze=Ye?Ye(qe):qe.tc||Ne.textfont.color;ht.call(c.font,{family:qe.tf||Ne.textfont.family,weight:qe.tw||Ne.textfont.weight,style:qe.ty||Ne.textfont.style,variant:qe.tv||Ne.textfont.variant,textcase:qe.tC||Ne.textfont.textcase,lineposition:qe.tE||Ne.textfont.lineposition,shadow:qe.tS||Ne.textfont.shadow,size:We,color:Ze}).text(vt).call(a.convertToTspans,Ce).call(H,Fe,We,qe.mrc)})}},c.selectedTextStyle=function(_e,Ne){if(!(!_e.size()||!Ne.selectedpoints)){var Ce=c.makeSelectedTextStyleFns(Ne);_e.each(function(Ye){var rt=p.select(this),ot=Ce.selectedTextColorFn(Ye),$e=Ye.tp||Ne.textposition,qe=F(Ye,Ne);g.fill(rt,ot);var ht=v.traceIs(Ne,"bar-like");H(rt,$e,qe,Ye.mrc2||Ye.mrc,ht)})}};var B=.5;c.smoothopen=function(_e,Ne){if(_e.length<3)return"M"+_e.join("L");var Ce="M"+_e[0],Ye=[],rt;for(rt=1;rt<_e.length-1;rt++)Ye.push(ie(_e[rt-1],_e[rt],_e[rt+1],Ne));for(Ce+="Q"+Ye[0][0]+" "+_e[1],rt=2;rt<_e.length-1;rt++)Ce+="C"+Ye[rt-2][1]+" "+Ye[rt-1][0]+" "+_e[rt];return Ce+="Q"+Ye[_e.length-3][1]+" "+_e[_e.length-1],Ce},c.smoothclosed=function(_e,Ne){if(_e.length<3)return"M"+_e.join("L")+"Z";var Ce="M"+_e[0],Ye=_e.length-1,rt=[ie(_e[Ye],_e[0],_e[1],Ne)],ot;for(ot=1;ot<Ye;ot++)rt.push(ie(_e[ot-1],_e[ot],_e[ot+1],Ne));for(rt.push(ie(_e[Ye-1],_e[Ye],_e[0],Ne)),ot=1;ot<=Ye;ot++)Ce+="C"+rt[ot-1][1]+" "+rt[ot][0]+" "+_e[ot];return Ce+="C"+rt[Ye][1]+" "+rt[0][0]+" "+_e[0]+"Z",Ce};var U,z;function W(_e,Ne,Ce){return Ce&&(_e=ne(_e)),Ne?ee(_e[1]):j(_e[0])}function j(_e){var Ne=p.round(_e,2);return U=Ne,Ne}function ee(_e){var Ne=p.round(_e,2);return z=Ne,Ne}function ie(_e,Ne,Ce,Ye){var rt=_e[0]-Ne[0],ot=_e[1]-Ne[1],$e=Ce[0]-Ne[0],qe=Ce[1]-Ne[1],ht=Math.pow(rt*rt+ot*ot,B/2),vt=Math.pow($e*$e+qe*qe,B/2),pt=(vt*vt*rt-ht*ht*$e)*Ye,wt=(vt*vt*ot-ht*ht*qe)*Ye,Mt=3*vt*(ht+vt),nt=3*ht*(ht+vt);return[[j(Ne[0]+(Mt&&pt/Mt)),ee(Ne[1]+(Mt&&wt/Mt))],[j(Ne[0]-(nt&&pt/nt)),ee(Ne[1]-(nt&&wt/nt))]]}var oe={hv:function(_e,Ne,Ce){return"H"+j(Ne[0])+"V"+W(Ne,1,Ce)},vh:function(_e,Ne,Ce){return"V"+ee(Ne[1])+"H"+W(Ne,0,Ce)},hvh:function(_e,Ne,Ce){return"H"+j((_e[0]+Ne[0])/2)+"V"+ee(Ne[1])+"H"+W(Ne,0,Ce)},vhv:function(_e,Ne,Ce){return"V"+ee((_e[1]+Ne[1])/2)+"H"+j(Ne[0])+"V"+W(Ne,1,Ce)}},he=function(_e,Ne,Ce){return"L"+W(Ne,0,Ce)+","+W(Ne,1,Ce)};c.steps=function(_e){var Ne=oe[_e]||he;return function(Ce){for(var Ye="M"+j(Ce[0][0])+","+ee(Ce[0][1]),rt=Ce.length,ot=1;ot<rt;ot++)Ye+=Ne(Ce[ot-1],Ce[ot],ot===rt-1);return Ye}};function ne(_e,Ne){var Ce=_e.backoff,Ye=_e.trace,rt=_e.d,ot=_e.i;if(Ce&&Ye&&Ye.marker&&Ye.marker.angle%360===0&&Ye.line&&Ye.line.shape!=="spline"){var $e=L.isArrayOrTypedArray(Ce),qe=_e,ht=Ne?Ne[0]:U||0,vt=Ne?Ne[1]:z||0,pt=qe[0],wt=qe[1],Mt=pt-ht,nt=wt-vt,Fe=Math.atan2(nt,Mt),We=$e?Ce[ot]:Ce;if(We==="auto"){var Ze=qe.i;Ye.type==="scatter"&&Ze--;var Ge=qe.marker,Pe=Ge.symbol;L.isArrayOrTypedArray(Pe)&&(Pe=Pe[Ze]);var Re=Ge.size;L.isArrayOrTypedArray(Re)&&(Re=Re[Ze]),We=Ge?c.symbolBackOffs[c.symbolNumber(Pe)]*Re:0,We+=c.getMarkerStandoff(rt[Ze],Ye)||0}var je=pt-We*Math.cos(Fe),De=wt-We*Math.sin(Fe);(je<=pt&&je>=ht||je>=pt&&je<=ht)&&(De<=wt&&De>=vt||De>=wt&&De<=vt)&&(_e=[je,De])}return _e}c.applyBackoff=ne,c.makeTester=function(){var _e=L.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(Ce){Ce.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ne=L.ensureSingle(_e,"path","js-reference-point",function(Ce){Ce.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=_e,c.testref=Ne},c.savedBBoxes={};var q=0,le=1e4;c.bBox=function(_e,Ne,Ce){Ce||(Ce=Q(_e));var Ye;if(Ce){if(Ye=c.savedBBoxes[Ce],Ye)return L.extendFlat({},Ye)}else if(_e.childNodes.length===1){var rt=_e.childNodes[0];if(Ce=Q(rt),Ce){var ot=+rt.getAttribute("x")||0,$e=+rt.getAttribute("y")||0,qe=rt.getAttribute("transform");if(!qe){var ht=c.bBox(rt,!1,Ce);return ot&&(ht.left+=ot,ht.right+=ot),$e&&(ht.top+=$e,ht.bottom+=$e),ht}if(Ce+="~"+ot+"~"+$e+"~"+qe,Ye=c.savedBBoxes[Ce],Ye)return L.extendFlat({},Ye)}}var vt,pt;Ne?vt=_e:(pt=c.tester.node(),vt=_e.cloneNode(!0),pt.appendChild(vt)),p.select(vt).attr("transform",null).call(a.positionText,0,0);var wt=vt.getBoundingClientRect(),Mt=c.testref.node().getBoundingClientRect();Ne||pt.removeChild(vt);var nt={height:wt.height,width:wt.width,left:wt.left-Mt.left,top:wt.top-Mt.top,right:wt.right-Mt.left,bottom:wt.bottom-Mt.top};return q>=le&&(c.savedBBoxes={},q=0),Ce&&(c.savedBBoxes[Ce]=nt),q++,L.extendFlat({},nt)};function Q(_e){var Ne=_e.getAttribute("data-unformatted");if(Ne!==null)return Ne+_e.getAttribute("data-math")+_e.getAttribute("text-anchor")+_e.getAttribute("style")}c.setClipUrl=function(_e,Ne,Ce){_e.attr("clip-path",te(Ne,Ce))};function te(_e,Ne){if(!_e)return null;var Ce=Ne._context,Ye=Ce._exportedPlot?"":Ce._baseUrl||"";return Ye?"url('"+Ye+"#"+_e+"')":"url(#"+_e+")"}c.getTranslate=function(_e){var Ne=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ce=_e.attr?"attr":"getAttribute",Ye=_e[Ce]("transform")||"",rt=Ye.replace(Ne,function(ot,$e,qe){return[$e,qe].join(" ")}).split(" ");return{x:+rt[0]||0,y:+rt[1]||0}},c.setTranslate=function(_e,Ne,Ce){var Ye=/(\btranslate\(.*?\);?)/,rt=_e.attr?"attr":"getAttribute",ot=_e.attr?"attr":"setAttribute",$e=_e[rt]("transform")||"";return Ne=Ne||0,Ce=Ce||0,$e=$e.replace(Ye,"").trim(),$e+=t(Ne,Ce),$e=$e.trim(),_e[ot]("transform",$e),$e},c.getScale=function(_e){var Ne=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ce=_e.attr?"attr":"getAttribute",Ye=_e[Ce]("transform")||"",rt=Ye.replace(Ne,function(ot,$e,qe){return[$e,qe].join(" ")}).split(" ");return{x:+rt[0]||1,y:+rt[1]||1}},c.setScale=function(_e,Ne,Ce){var Ye=/(\bscale\(.*?\);?)/,rt=_e.attr?"attr":"getAttribute",ot=_e.attr?"attr":"setAttribute",$e=_e[rt]("transform")||"";return Ne=Ne||1,Ce=Ce||1,$e=$e.replace(Ye,"").trim(),$e+="scale("+Ne+","+Ce+")",$e=$e.trim(),_e[ot]("transform",$e),$e};var ue=/\s*sc.*/;c.setPointGroupScale=function(_e,Ne,Ce){if(Ne=Ne||1,Ce=Ce||1,!!_e){var Ye=Ne===1&&Ce===1?"":"scale("+Ne+","+Ce+")";_e.each(function(){var rt=(this.getAttribute("transform")||"").replace(ue,"");rt+=Ye,rt=rt.trim(),this.setAttribute("transform",rt)})}};var J=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(_e,Ne,Ce){_e&&_e.each(function(){var Ye,rt=p.select(this),ot=rt.select("text");if(ot.node()){var $e=parseFloat(ot.attr("x")||0),qe=parseFloat(ot.attr("y")||0),ht=(rt.attr("transform")||"").match(J);Ne===1&&Ce===1?Ye=[]:Ye=[t($e,qe),"scale("+Ne+","+Ce+")",t(-$e,-qe)],ht&&Ye.push(ht),rt.attr("transform",Ye.join(""))}})};function K(_e,Ne){var Ce;return _e&&(Ce=_e.mf),Ce===void 0&&(Ce=Ne.marker&&Ne.marker.standoff||0),!Ne._geo&&!Ne._xA?-Ce:Ce}c.getMarkerStandoff=K;var ce=Math.atan2,ae=Math.cos,de=Math.sin;function be(_e,Ne){var Ce=Ne[0],Ye=Ne[1];return[Ce*ae(_e)-Ye*de(_e),Ce*de(_e)+Ye*ae(_e)]}var Se,Te,Ie,ke,Be,Me;function Oe(_e,Ne){var Ce=_e.ma;Ce===void 0&&(Ce=Ne.marker.angle,(!Ce||L.isArrayOrTypedArray(Ce))&&(Ce=0));var Ye,rt,ot=Ne.marker.angleref;if(ot==="previous"||ot==="north"){if(Ne._geo){var $e=Ne._geo.project(_e.lonlat);Ye=$e[0],rt=$e[1]}else{var qe=Ne._xA,ht=Ne._yA;if(qe&&ht)Ye=qe.c2p(_e.x),rt=ht.c2p(_e.y);else return 90}if(Ne._geo){var vt=_e.lonlat[0],pt=_e.lonlat[1],wt=Ne._geo.project([vt,pt+1e-5]),Mt=Ne._geo.project([vt+1e-5,pt]),nt=ce(Mt[1]-rt,Mt[0]-Ye),Fe=ce(wt[1]-rt,wt[0]-Ye),We;if(ot==="north")We=Ce/180*Math.PI;else if(ot==="previous"){var Ze=vt/180*Math.PI,Ge=pt/180*Math.PI,Pe=Se/180*Math.PI,Re=Te/180*Math.PI,je=Pe-Ze,De=ae(Re)*de(je),ge=de(Re)*ae(Ge)-ae(Re)*de(Ge)*ae(je);We=-ce(De,ge)-Math.PI,Se=vt,Te=pt}var we=be(nt,[ae(We),0]),Ue=be(Fe,[de(We),0]);Ce=ce(we[1]+Ue[1],we[0]+Ue[0])/Math.PI*180,ot==="previous"&&!(Me===Ne.uid&&_e.i===Be+1)&&(Ce=null)}if(ot==="previous"&&!Ne._geo)if(Me===Ne.uid&&_e.i===Be+1&&C(Ye)&&C(rt)){var et=Ye-Ie,st=rt-ke,lt=Ne.line&&Ne.line.shape||"",Wt=lt.slice(lt.length-1);Wt==="h"&&(st=0),Wt==="v"&&(et=0),Ce+=ce(st,et)/Math.PI*180+90}else Ce=null}return Ie=Ye,ke=rt,Be=_e.i,Me=Ne.uid,Ce}c.getMarkerAngle=Oe},71984:function(V,Y,e){var p=e(21984),L=e(33428).round,o="M0,0Z",C=Math.sqrt(2),S=Math.sqrt(3),v=Math.PI,g=Math.cos,r=Math.sin;V.exports={circle:{n:0,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return T?l(h,T,i):i}},square:{n:1,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(y,h,T){if(t(h))return o;var c=L(y*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(y,h,T){if(t(h))return o;var c=L(y*.4,2),i=L(y*1.2,2);return l(h,T,"M"+i+","+c+"H"+c+"V"+i+"H-"+c+"V"+c+"H-"+i+"V-"+c+"H-"+c+"V-"+i+"H"+c+"V-"+c+"H"+i+"Z")}},x:{n:4,f:function(y,h,T){if(t(h))return o;var c=L(y*.8/C,2),i="l"+c+","+c,d="l"+c+",-"+c,x="l-"+c+",-"+c,w="l-"+c+","+c;return l(h,T,"M0,"+c+i+d+x+d+x+w+x+w+i+w+i+"Z")}},"triangle-up":{n:5,f:function(y,h,T){if(t(h))return o;var c=L(y*2/S,2),i=L(y/2,2),d=L(y,2);return l(h,T,"M-"+c+","+i+"H"+c+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(y,h,T){if(t(h))return o;var c=L(y*2/S,2),i=L(y/2,2),d=L(y,2);return l(h,T,"M-"+c+",-"+i+"H"+c+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(y,h,T){if(t(h))return o;var c=L(y*2/S,2),i=L(y/2,2),d=L(y,2);return l(h,T,"M"+i+",-"+c+"V"+c+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(y,h,T){if(t(h))return o;var c=L(y*2/S,2),i=L(y/2,2),d=L(y,2);return l(h,T,"M-"+i+",-"+c+"V"+c+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(y,h,T){if(t(h))return o;var c=L(y*.6,2),i=L(y*1.2,2);return l(h,T,"M-"+i+",-"+c+"H"+c+"V"+i+"Z")}},"triangle-se":{n:10,f:function(y,h,T){if(t(h))return o;var c=L(y*.6,2),i=L(y*1.2,2);return l(h,T,"M"+c+",-"+i+"V"+c+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(y,h,T){if(t(h))return o;var c=L(y*.6,2),i=L(y*1.2,2);return l(h,T,"M"+i+","+c+"H-"+c+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(y,h,T){if(t(h))return o;var c=L(y*.6,2),i=L(y*1.2,2);return l(h,T,"M-"+c+","+i+"V-"+c+"H"+i+"Z")}},pentagon:{n:13,f:function(y,h,T){if(t(h))return o;var c=L(y*.951,2),i=L(y*.588,2),d=L(-y,2),x=L(y*-.309,2),w=L(y*.809,2);return l(h,T,"M"+c+","+x+"L"+i+","+w+"H-"+i+"L-"+c+","+x+"L0,"+d+"Z")}},hexagon:{n:14,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i=L(y/2,2),d=L(y*S/2,2);return l(h,T,"M"+d+",-"+i+"V"+i+"L0,"+c+"L-"+d+","+i+"V-"+i+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i=L(y/2,2),d=L(y*S/2,2);return l(h,T,"M-"+i+","+d+"H"+i+"L"+c+",0L"+i+",-"+d+"H-"+i+"L-"+c+",0Z")}},octagon:{n:16,f:function(y,h,T){if(t(h))return o;var c=L(y*.924,2),i=L(y*.383,2);return l(h,T,"M-"+i+",-"+c+"H"+i+"L"+c+",-"+i+"V"+i+"L"+i+","+c+"H-"+i+"L-"+c+","+i+"V-"+i+"Z")}},star:{n:17,f:function(y,h,T){if(t(h))return o;var c=y*1.4,i=L(c*.225,2),d=L(c*.951,2),x=L(c*.363,2),w=L(c*.588,2),_=L(-c,2),m=L(c*-.309,2),E=L(c*.118,2),A=L(c*.809,2),s=L(c*.382,2);return l(h,T,"M"+i+","+m+"H"+d+"L"+x+","+E+"L"+w+","+A+"L0,"+s+"L-"+w+","+A+"L-"+x+","+E+"L-"+d+","+m+"H-"+i+"L0,"+_+"Z")}},hexagram:{n:18,f:function(y,h,T){if(t(h))return o;var c=L(y*.66,2),i=L(y*.38,2),d=L(y*.76,2);return l(h,T,"M-"+d+",0l-"+i+",-"+c+"h"+d+"l"+i+",-"+c+"l"+i+","+c+"h"+d+"l-"+i+","+c+"l"+i+","+c+"h-"+d+"l-"+i+","+c+"l-"+i+",-"+c+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(y,h,T){if(t(h))return o;var c=L(y*S*.8,2),i=L(y*.8,2),d=L(y*1.6,2),x=L(y*4,2),w="A "+x+","+x+" 0 0 1 ";return l(h,T,"M-"+c+","+i+w+c+","+i+w+"0,-"+d+w+"-"+c+","+i+"Z")}},"star-triangle-down":{n:20,f:function(y,h,T){if(t(h))return o;var c=L(y*S*.8,2),i=L(y*.8,2),d=L(y*1.6,2),x=L(y*4,2),w="A "+x+","+x+" 0 0 1 ";return l(h,T,"M"+c+",-"+i+w+"-"+c+",-"+i+w+"0,"+d+w+c+",-"+i+"Z")}},"star-square":{n:21,f:function(y,h,T){if(t(h))return o;var c=L(y*1.1,2),i=L(y*2,2),d="A "+i+","+i+" 0 0 1 ";return l(h,T,"M-"+c+",-"+c+d+"-"+c+","+c+d+c+","+c+d+c+",-"+c+d+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(y,h,T){if(t(h))return o;var c=L(y*1.4,2),i=L(y*1.9,2),d="A "+i+","+i+" 0 0 1 ";return l(h,T,"M-"+c+",0"+d+"0,"+c+d+c+",0"+d+"0,-"+c+d+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(y,h,T){if(t(h))return o;var c=L(y*.7,2),i=L(y*1.4,2);return l(h,T,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(y,h,T){if(t(h))return o;var c=L(y*1.4,2),i=L(y*.7,2);return l(h,T,"M0,"+i+"L"+c+",0L0,-"+i+"L-"+c+",0Z")}},hourglass:{n:25,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i=L(y/C,2);return l(h,T,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,h,T){if(t(h))return o;var c=L(y*1.3,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,h,T){if(t(h))return o;var c=L(y*1.3,2),i=L(y*.65,2);return l(h,T,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,h,T){if(t(h))return o;var c=L(y*1.4,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,h,T){if(t(h))return o;var c=L(y*1.2,2),i=L(y*.85,2);return l(h,T,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,h,T){if(t(h))return o;var c=L(y/2,2),i=L(y,2);return l(h,T,"M"+c+","+i+"V-"+i+"M"+(c-i)+",-"+i+"V"+i+"M"+i+","+c+"H-"+i+"M-"+i+","+(c-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,h,T){if(t(h))return o;var c=L(y*1.2,2),i=L(y*1.6,2),d=L(y*.8,2);return l(h,T,"M-"+c+","+d+"L0,0M"+c+","+d+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,h,T){if(t(h))return o;var c=L(y*1.2,2),i=L(y*1.6,2),d=L(y*.8,2);return l(h,T,"M-"+c+",-"+d+"L0,0M"+c+",-"+d+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,h,T){if(t(h))return o;var c=L(y*1.2,2),i=L(y*1.6,2),d=L(y*.8,2);return l(h,T,"M"+d+","+c+"L0,0M"+d+",-"+c+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,h,T){if(t(h))return o;var c=L(y*1.2,2),i=L(y*1.6,2),d=L(y*.8,2);return l(h,T,"M-"+d+","+c+"L0,0M-"+d+",-"+c+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,h,T){if(t(h))return o;var c=L(y*1.4,2);return l(h,T,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,h,T){if(t(h))return o;var c=L(y*1.4,2);return l(h,T,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,h,T){if(t(h))return o;var c=L(y,2);return l(h,T,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i=L(y*2,2);return l(h,T,"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i=L(y*2,2);return l(h,T,"M0,0L-"+c+",-"+i+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,h,T){if(t(h))return o;var c=L(y*2,2),i=L(y,2);return l(h,T,"M0,0L"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,h,T){if(t(h))return o;var c=L(y*2,2),i=L(y,2);return l(h,T,"M0,0L-"+c+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i=L(y*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+","+i+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,h,T){if(t(h))return o;var c=L(y,2),i=L(y*2,2);return l(h,T,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+i+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,h,T){if(t(h))return o;var c=L(y*2,2),i=L(y,2);return l(h,T,"M0,-"+i+"V"+i+"M0,0L"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,h,T){if(t(h))return o;var c=L(y*2,2),i=L(y,2);return l(h,T,"M0,-"+i+"V"+i+"M0,0L-"+c+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,h,T){if(t(h))return o;var c=v/2.5,i=2*y*g(c),d=2*y*r(c);return l(h,T,"M0,0L"+-i+","+d+"L"+i+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,h,T){if(t(h))return o;var c=v/4,i=2*y*g(c),d=2*y*r(c);return l(h,T,"M0,0L"+-i+","+d+"A "+2*y+","+2*y+" 0 0 1 "+i+","+d+"Z")},backoff:.4,noDot:!0}};function t(y){return y===null}var a,n,f,u;function l(y,h,T){if((!y||y%360===0)&&!h)return T;if(f===y&&u===h&&a===T)return n;f=y,u=h,a=T;function c(k,H){var F=g(k),B=r(k),U=H[0],z=H[1]+(h||0);return[U*F-z*B,U*B+z*F]}for(var i=y/180*v,d=0,x=0,w=p(T),_="",m=0;m<w.length;m++){var E=w[m],A=E[0],s=d,M=x;if(A==="M"||A==="L")d=+E[1],x=+E[2];else if(A==="m"||A==="l")d+=+E[1],x+=+E[2];else if(A==="H")d=+E[1];else if(A==="h")d+=+E[1];else if(A==="V")x=+E[1];else if(A==="v")x+=+E[1];else if(A==="A"){d=+E[1],x=+E[2];var b=c(i,[+E[6],+E[7]]);E[6]=b[0],E[7]=b[1],E[3]=+E[3]+y}(A==="H"||A==="V")&&(A="L"),(A==="h"||A==="v")&&(A="l"),(A==="m"||A==="l")&&(d-=s,x-=M);var N=c(i,[d,x]);(A==="H"||A==="V")&&(A="L"),(A==="M"||A==="L"||A==="m"||A==="l")&&(E[1]=N[0],E[2]=N[1]),E[0]=A,_+=E[0]+E.slice(1).join(",")}return n=_,_}},97644:function(V){V.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(V,Y,e){var p=e(38248),L=e(24040),o=e(54460),C=e(3400),S=e(93792);V.exports=function(r){for(var t=r.calcdata,a=0;a<t.length;a++){var n=t[a],f=n[0].trace;if(f.visible===!0&&L.traceIs(f,"errorBarsOK")){var u=o.getFromId(r,f.xaxis),l=o.getFromId(r,f.yaxis);v(n,f,u,"x"),v(n,f,l,"y")}}};function v(g,r,t,a){var n=r["error_"+a]||{},f=n.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(f){for(var l=S(n),y=0;y<g.length;y++){var h=g[y],T=h.i;if(T===void 0)T=y;else if(T===null)continue;var c=h[a];if(p(t.c2l(c))){var i=l(c,T);if(p(i[0])&&p(i[1])){var d=h[a+"s"]=c-i[0],x=h[a+"h"]=c+i[1];u.push(d,x)}}}var w=t._id,_=r._extremes[w],m=o.findExtremes(t,u,C.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(m.min),_.max=_.max.concat(m.max)}}},93792:function(V){V.exports=function(p){var L=p.type,o=p.symmetric;if(L==="data"){var C=p.array||[];if(o)return function(t,a){var n=+C[a];return[n,n]};var S=p.arrayminus||[];return function(t,a){var n=+C[a],f=+S[a];return!isNaN(n)||!isNaN(f)?[f||0,n||0]:[NaN,NaN]}}else{var v=Y(L,p.value),g=Y(L,p.valueminus);return o||p.valueminus===void 0?function(t){var a=v(t);return[a,a]}:function(t){return[g(t),v(t)]}}};function Y(e,p){if(e==="percent")return function(L){return Math.abs(L*p/100)};if(e==="constant")return function(){return Math.abs(p)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},65200:function(V,Y,e){var p=e(38248),L=e(24040),o=e(3400),C=e(31780),S=e(97644);V.exports=function(v,g,r,t){var a="error_"+t.axis,n=C.newContainer(g,a),f=v[a]||{};function u(d,x){return o.coerce(f,n,S,d,x)}var l=f.array!==void 0||f.value!==void 0||f.type==="sqrt",y=u("visible",l);if(y!==!1){var h=u("type","array"in f?"data":"percent"),T=!0;h!=="sqrt"&&(T=u("symmetric",!((h==="data"?"arrayminus":"valueminus")in f))),h==="data"?(u("array"),u("traceref"),T||(u("arrayminus"),u("tracerefminus"))):(h==="percent"||h==="constant")&&(u("value"),T||u("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var i=g["error_"+t.inherit];(i||{}).visible&&u(c,!(f.color||p(f.thickness)||p(f.width)))}(!t.inherit||!n[c])&&(u("color",r),u("thickness"),u("width",L.traceIs(g,"gl3d")?0:4))}}},64968:function(V,Y,e){var p=e(3400),L=e(67824).overrideAll,o=e(97644),C={error_x:p.extendFlat({},o),error_y:p.extendFlat({},o)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var S={error_x:p.extendFlat({},o),error_y:p.extendFlat({},o),error_z:p.extendFlat({},o)};delete S.error_x.copy_ystyle,delete S.error_y.copy_ystyle,delete S.error_z.copy_ystyle,delete S.error_z.copy_zstyle,V.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:L(S,"calc","nested"),scattergl:L(C,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:v};function v(g,r,t){(r.error_y||{}).visible&&(t.yerr=g.yh-g.y,r.error_y.symmetric||(t.yerrneg=g.y-g.ys)),(r.error_x||{}).visible&&(t.xerr=g.xh-g.x,r.error_x.symmetric||(t.xerrneg=g.x-g.xs))}},78512:function(V,Y,e){var p=e(33428),L=e(38248),o=e(43616),C=e(43028);V.exports=function(g,r,t,a){var n,f=t.xaxis,u=t.yaxis,l=a&&a.duration>0,y=g._context.staticPlot;r.each(function(h){var T=h[0].trace,c=T.error_x||{},i=T.error_y||{},d;T.ids&&(d=function(m){return m.id});var x=C.hasMarkers(T)&&T.marker.maxdisplayed>0;!i.visible&&!c.visible&&(h=[]);var w=p.select(this).selectAll("g.errorbar").data(h,d);if(w.exit().remove(),!!h.length){c.visible||w.selectAll("path.xerror").remove(),i.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var _=w.enter().append("g").classed("errorbar",!0);l&&_.style("opacity",0).transition().duration(a.duration).style("opacity",1),o.setClipUrl(w,t.layerClipId,g),w.each(function(m){var E=p.select(this),A=S(m,f,u);if(!(x&&!m.vis)){var s,M=E.select("path.yerror");if(i.visible&&L(A.x)&&L(A.yh)&&L(A.ys)){var b=i.width;s="M"+(A.x-b)+","+A.yh+"h"+2*b+"m-"+b+",0V"+A.ys,A.noYS||(s+="m-"+b+",0h"+2*b),n=!M.size(),n?M=E.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):l&&(M=M.transition().duration(a.duration).ease(a.easing)),M.attr("d",s)}else M.remove();var N=E.select("path.xerror");if(c.visible&&L(A.y)&&L(A.xh)&&L(A.xs)){var k=(c.copy_ystyle?i:c).width;s="M"+A.xh+","+(A.y-k)+"v"+2*k+"m0,-"+k+"H"+A.xs,A.noXS||(s+="m0,-"+k+"v"+2*k),n=!N.size(),n?N=E.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):l&&(N=N.transition().duration(a.duration).ease(a.easing)),N.attr("d",s)}else N.remove()}})}})};function S(v,g,r){var t={x:g.c2p(v.x),y:r.c2p(v.y)};return v.yh!==void 0&&(t.yh=r.c2p(v.yh),t.ys=r.c2p(v.ys),L(t.ys)||(t.noYS=!0,t.ys=r.c2p(v.ys,!0))),v.xh!==void 0&&(t.xh=g.c2p(v.xh),t.xs=g.c2p(v.xs),L(t.xs)||(t.noXS=!0,t.xs=g.c2p(v.xs,!0))),t}},92036:function(V,Y,e){var p=e(33428),L=e(76308);V.exports=function(C){C.each(function(S){var v=S[0].trace,g=v.error_y||{},r=v.error_x||{},t=p.select(this);t.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(L.stroke,g.color),r.copy_ystyle&&(r=g),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(L.stroke,r.color)})}},55756:function(V,Y,e){var p=e(25376),L=e(65460).hoverlabel,o=e(92880).extendFlat;V.exports={hoverlabel:{bgcolor:o({},L.bgcolor,{arrayOk:!0}),bordercolor:o({},L.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:o({},L.align,{arrayOk:!0}),namelength:o({},L.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(V,Y,e){var p=e(3400),L=e(24040);V.exports=function(S){var v=S.calcdata,g=S._fullLayout;function r(u){return function(l){return p.coerceHoverinfo({hoverinfo:l},{_module:u._module},g)}}for(var t=0;t<v.length;t++){var a=v[t],n=a[0].trace;if(!L.traceIs(n,"pie-like")){var f=L.traceIs(n,"2dMap")?o:p.fillArray;f(n.hoverinfo,a,"hi",r(n)),n.hovertemplate&&f(n.hovertemplate,a,"ht"),n.hoverlabel&&(f(n.hoverlabel.bgcolor,a,"hbg"),f(n.hoverlabel.bordercolor,a,"hbc"),f(n.hoverlabel.font.size,a,"hts"),f(n.hoverlabel.font.color,a,"htc"),f(n.hoverlabel.font.family,a,"htf"),f(n.hoverlabel.font.weight,a,"htw"),f(n.hoverlabel.font.style,a,"hty"),f(n.hoverlabel.font.variant,a,"htv"),f(n.hoverlabel.namelength,a,"hnl"),f(n.hoverlabel.align,a,"hta"))}}};function o(C,S,v,g){g=g||p.identity,Array.isArray(C)&&(S[0][v]=g(C))}},62376:function(V,Y,e){var p=e(24040),L=e(83292).hover;V.exports=function(C,S,v){var g=p.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&L(C,S,v,!0);function r(){C.emit("plotly_click",{points:C._hoverdata,event:S})}C._hoverdata&&S&&S.target&&(g&&g.then?g.then(r):r(),S.stopImmediatePropagation&&S.stopImmediatePropagation())}},92456:function(V){V.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(V,Y,e){var p=e(3400),L=e(55756),o=e(16132);V.exports=function(S,v,g,r){function t(n,f){return p.coerce(S,v,L,n,f)}var a=p.extendFlat({},r.hoverlabel);v.hovertemplate&&(a.namelength=-1),o(S,v,t,a)}},10624:function(V,Y,e){var p=e(3400);Y.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},Y.isTraceInSubplots=function(g,r){if(g.type==="splom"){for(var t=g.xaxes||[],a=g.yaxes||[],n=0;n<t.length;n++)for(var f=0;f<a.length;f++)if(r.indexOf(t[n]+a[f])!==-1)return!0;return!1}return r.indexOf(Y.getSubplot(g))!==-1},Y.flat=function(g,r){for(var t=new Array(g.length),a=0;a<g.length;a++)t[a]=r;return t},Y.p2c=function(g,r){for(var t=new Array(g.length),a=0;a<g.length;a++)t[a]=g[a].p2c(r);return t},Y.getDistanceFunction=function(g,r,t,a){return g==="closest"?a||Y.quadrature(r,t):g.charAt(0)==="x"?r:t},Y.getClosest=function(g,r,t){if(t.index!==!1)t.index>=0&&t.index<g.length?t.distance=0:t.index=!1;else for(var a=0;a<g.length;a++){var n=r(g[a]);n<=t.distance&&(t.index=a,t.distance=n)}return t},Y.inbox=function(g,r,t){return g*r<0||g===0?t:1/0},Y.quadrature=function(g,r){return function(t){var a=g(t),n=r(t);return Math.sqrt(a*a+n*n)}},Y.makeEventData=function(g,r,t){var a="index"in g?g.index:g.pointNumber,n={data:r._input,fullData:r,curveNumber:r.index,pointNumber:a};if(r._indexToPoints){var f=r._indexToPoints[a];f.length===1?n.pointIndex=f[0]:n.pointIndices=f}else n.pointIndex=a;return r._module.eventData?n=r._module.eventData(n,g,r,t,a):("xVal"in g?n.x=g.xVal:"x"in g&&(n.x=g.x),"yVal"in g?n.y=g.yVal:"y"in g&&(n.y=g.y),g.xa&&(n.xaxis=g.xa),g.ya&&(n.yaxis=g.ya),g.zLabelVal!==void 0&&(n.z=g.zLabelVal)),Y.appendArrayPointValue(n,r,a),n},Y.appendArrayPointValue=function(g,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],u=o(f);if(g[u]===void 0){var l=p.nestedProperty(r,f).get(),y=C(l,t);y!==void 0&&(g[u]=y)}}},Y.appendArrayMultiPointValues=function(g,r,t){var a=r._arrayAttrs;if(a)for(var n=0;n<a.length;n++){var f=a[n],u=o(f);if(g[u]===void 0){for(var l=p.nestedProperty(r,f).get(),y=new Array(t.length),h=0;h<t.length;h++)y[h]=C(l,t[h]);g[u]=y}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(g){return L[g]||g}function C(g,r){if(Array.isArray(r)){if(Array.isArray(g)&&Array.isArray(g[r[0]]))return g[r[0]][r[1]]}else return g[r]}var S={x:!0,y:!0},v={"x unified":!0,"y unified":!0};Y.isUnifiedHover=function(g){return typeof g!="string"?!1:!!v[g]},Y.isXYhover=function(g){return typeof g!="string"?!1:!!S[g]}},83292:function(V,Y,e){var p=e(33428),L=e(38248),o=e(49760),C=e(3400),S=C.pushUnique,v=C.strTranslate,g=C.strRotate,r=e(95924),t=e(72736),a=e(72213),n=e(43616),f=e(76308),u=e(86476),l=e(54460),y=e(24040),h=e(10624),T=e(92456),c=e(77864),i=e(31140),d=T.YANGLE,x=Math.PI*d/180,w=1/Math.sin(x),_=Math.cos(x),m=Math.sin(x),E=T.HOVERARROWSIZE,A=T.HOVERTEXTPAD,s={box:!0,ohlc:!0,violin:!0,candlestick:!0},M={scatter:!0,scattergl:!0,splom:!0};function b(J,K){return J.distance-K.distance}Y.hover=function(K,ce,ae,de){K=C.getGraphDiv(K);var be=ce.target;C.throttle(K._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){N(K,ce,ae,de,be)})},Y.loneHover=function(K,ce){var ae=!0;Array.isArray(K)||(ae=!1,K=[K]);var de=ce.gd,be=Q(de),Se=te(de),Te=K.map(function(Ye){var rt=Ye._x0||Ye.x0||Ye.x||0,ot=Ye._x1||Ye.x1||Ye.x||0,$e=Ye._y0||Ye.y0||Ye.y||0,qe=Ye._y1||Ye.y1||Ye.y||0,ht=Ye.eventData;if(ht){var vt=Math.min(rt,ot),pt=Math.max(rt,ot),wt=Math.min($e,qe),Mt=Math.max($e,qe),nt=Ye.trace;if(y.traceIs(nt,"gl3d")){var Fe=de._fullLayout[nt.scene]._scene.container,We=Fe.offsetLeft,Ze=Fe.offsetTop;vt+=We,pt+=We,wt+=Ze,Mt+=Ze}ht.bbox={x0:vt+Se,x1:pt+Se,y0:wt+be,y1:Mt+be},ce.inOut_bbox&&ce.inOut_bbox.push(ht.bbox)}else ht=!1;return{color:Ye.color||f.defaultLine,x0:Ye.x0||Ye.x||0,x1:Ye.x1||Ye.x||0,y0:Ye.y0||Ye.y||0,y1:Ye.y1||Ye.y||0,xLabel:Ye.xLabel,yLabel:Ye.yLabel,zLabel:Ye.zLabel,text:Ye.text,name:Ye.name,idealAlign:Ye.idealAlign,borderColor:Ye.borderColor,fontFamily:Ye.fontFamily,fontSize:Ye.fontSize,fontColor:Ye.fontColor,fontWeight:Ye.fontWeight,fontStyle:Ye.fontStyle,fontVariant:Ye.fontVariant,nameLength:Ye.nameLength,textAlign:Ye.textAlign,trace:Ye.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ye.hovertemplate||!1,hovertemplateLabels:Ye.hovertemplateLabels||!1,eventData:ht}}),Ie=!1,ke=F(Te,{gd:de,hovermode:"closest",rotateLabels:Ie,bgColor:ce.bgColor||f.background,container:p.select(ce.container),outerContainer:ce.outerContainer||ce.container}),Be=ke.hoverLabels,Me=5,Oe=0,_e=0;Be.sort(function(Ye,rt){return Ye.y0-rt.y0}).each(function(Ye,rt){var ot=Ye.y0-Ye.by/2;ot-Me<Oe?Ye.offset=Oe-ot+Me:Ye.offset=0,Oe=ot+Ye.by+Ye.offset,rt===ce.anchorIndex&&(_e=Ye.offset)}).each(function(Ye){Ye.offset-=_e});var Ne=de._fullLayout._invScaleX,Ce=de._fullLayout._invScaleY;return j(Be,Ie,Ne,Ce),ae?Be:Be.node()};function N(J,K,ce,ae,de){ce||(ce="xy");var be=Array.isArray(ce)?ce:[ce],Se,Te=J._fullLayout,Ie=Te.hoversubplots,ke=Te._plots||[],Be=ke[ce],Me=Te._has("cartesian"),Oe=K.hovermode||Te.hovermode,_e=(Oe||"").charAt(0)==="x",Ne=(Oe||"").charAt(0)==="y",Ce,Ye;if(Me&&(_e||Ne)&&Ie==="axis"){for(var rt=be.length,ot=0;ot<rt;ot++)if(Se=be[ot],ke[Se]){Ce=l.getFromId(J,Se,"x"),Ye=l.getFromId(J,Se,"y");var $e=(_e?Ce:Ye)._subplotsWith;if($e&&$e.length)for(var qe=0;qe<$e.length;qe++)S(be,$e[qe])}}if(Be&&Ie!=="single"){var ht=Be.overlays.map(function(Zn){return Zn.id});be=be.concat(ht)}for(var vt=be.length,pt=new Array(vt),wt=new Array(vt),Mt=!1,nt=0;nt<vt;nt++)if(Se=be[nt],ke[Se])Mt=!0,pt[nt]=ke[Se].xaxis,wt[nt]=ke[Se].yaxis;else if(Te[Se]&&Te[Se]._subplot){var Fe=Te[Se]._subplot;pt[nt]=Fe.xaxis,wt[nt]=Fe.yaxis}else{C.warn("Unrecognized subplot: "+Se);return}if(Oe&&!Mt&&(Oe="closest"),["x","y","closest","x unified","y unified"].indexOf(Oe)===-1||!J.calcdata||J.querySelector(".zoombox")||J._dragging)return u.unhoverRaw(J,K);var We=Te.hoverdistance;We===-1&&(We=1/0);var Ze=Te.spikedistance;Ze===-1&&(Ze=1/0);var Ge=[],Pe=[],Re,je,De,ge,we,Ue,et,st,lt,Wt,jt,Tt,Rt,Zt={hLinePoint:null,vLinePoint:null},mr=!1;if(Array.isArray(K))for(Oe="array",De=0;De<K.length;De++)we=J.calcdata[K[De].curveNumber||0],we&&(Ue=we[0].trace,we[0].trace.hoverinfo!=="skip"&&(Pe.push(we),Ue.orientation==="h"&&(mr=!0)));else{var gt=J.calcdata.slice();for(gt.sort(function(Zn,ea){var xr=Zn[0].trace.zorder||0,nn=ea[0].trace.zorder||0;return xr-nn}),ge=0;ge<gt.length;ge++)we=gt[ge],Ue=we[0].trace,Ue.hoverinfo!=="skip"&&h.isTraceInSubplots(Ue,be)&&(Pe.push(we),Ue.orientation==="h"&&(mr=!0));var Kt=!de,$t,br;if(Kt)"xpx"in K?$t=K.xpx:$t=pt[0]._length/2,"ypx"in K?br=K.ypx:br=wt[0]._length/2;else{if(r.triggerHandler(J,"plotly_beforehover",K)===!1)return;var lr=de.getBoundingClientRect();$t=K.clientX-lr.left,br=K.clientY-lr.top,Te._calcInverseTransform(J);var mt=C.apply3DTransform(Te._invTransform)($t,br);if($t=mt[0],br=mt[1],$t<0||$t>pt[0]._length||br<0||br>wt[0]._length)return u.unhoverRaw(J,K)}if(K.pointerX=$t+pt[0]._offset,K.pointerY=br+wt[0]._offset,"xval"in K?Re=h.flat(be,K.xval):Re=h.p2c(pt,$t),"yval"in K?je=h.flat(be,K.yval):je=h.p2c(wt,br),!L(Re[0])||!L(je[0]))return C.warn("Fx.hover failed",K,J),u.unhoverRaw(J,K)}var ut=1/0;function bt(Zn,ea){for(ge=0;ge<Pe.length;ge++)if(we=Pe[ge],!(!we||!we[0]||!we[0].trace)&&(Ue=we[0].trace,!(Ue.visible!==!0||Ue._length===0)&&["carpet","contourcarpet"].indexOf(Ue._module.name)===-1)){if(lt=Oe,h.isUnifiedHover(lt)&&(lt=lt.charAt(0)),Ue.type==="splom"?(st=0,et=be[st]):(et=h.getSubplot(Ue),st=be.indexOf(et)),Tt={cd:we,trace:Ue,xa:pt[st],ya:wt[st],maxHoverDistance:We,maxSpikeDistance:Ze,index:!1,distance:Math.min(ut,We),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:Ue.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Te[et]&&(Tt.subplot=Te[et]._subplot),Te._splomScenes&&Te._splomScenes[Ue.uid]&&(Tt.scene=Te._splomScenes[Ue.uid]),lt==="array"){var xr=K[ge];"pointNumber"in xr?(Tt.index=xr.pointNumber,lt="closest"):(lt="","xval"in xr&&(Wt=xr.xval,lt="x"),"yval"in xr&&(jt=xr.yval,lt=lt?"closest":"y"))}else Zn!==void 0&&ea!==void 0?(Wt=Zn,jt=ea):(Wt=Re[st],jt=je[st]);if(Rt=Ge.length,We!==0)if(Ue._module&&Ue._module.hoverPoints){var nn=Ue._module.hoverPoints(Tt,Wt,jt,lt,{finiteRange:!0,hoverLayer:Te._hoverlayer,hoversubplots:Ie,gd:J});if(nn)for(var qr,gn=0;gn<nn.length;gn++)qr=nn[gn],L(qr.x0)&&L(qr.y0)&&Ge.push(ee(qr,Oe))}else C.log("Unrecognized trace type in hover:",Ue);if(Oe==="closest"&&Ge.length>Rt&&(Ge.splice(0,Rt),ut=Ge[0].distance),Me&&Ze!==0&&Ge.length===0){Tt.distance=Ze,Tt.index=!1;var Un=Ue._module.hoverPoints(Tt,Wt,jt,"closest",{hoverLayer:Te._hoverlayer});if(Un&&(Un=Un.filter(function(Na){return Na.spikeDistance<=Ze})),Un&&Un.length){var An,En=Un.filter(function(Na){return Na.xa.showspikes&&Na.xa.spikesnap!=="hovered data"});if(En.length){var Vn=En[0];L(Vn.x0)&&L(Vn.y0)&&(An=Dt(Vn),(!Zt.vLinePoint||Zt.vLinePoint.spikeDistance>An.spikeDistance)&&(Zt.vLinePoint=An))}var ta=Un.filter(function(Na){return Na.ya.showspikes&&Na.ya.spikesnap!=="hovered data"});if(ta.length){var ga=ta[0];L(ga.x0)&&L(ga.y0)&&(An=Dt(ga),(!Zt.hLinePoint||Zt.hLinePoint.spikeDistance>An.spikeDistance)&&(Zt.hLinePoint=An))}}}}}bt();function Et(Zn,ea,xr){for(var nn=null,qr=1/0,gn,Un=0;Un<Zn.length;Un++)Ce&&Ce._id!==Zn[Un].xa._id||Ye&&Ye._id!==Zn[Un].ya._id||(gn=Zn[Un].spikeDistance,xr&&Un===0&&(gn=-1/0),gn<=qr&&gn<=ea&&(nn=Zn[Un],qr=gn));return nn}function Dt(Zn){return Zn?{xa:Zn.xa,ya:Zn.ya,x:Zn.xSpike!==void 0?Zn.xSpike:(Zn.x0+Zn.x1)/2,y:Zn.ySpike!==void 0?Zn.ySpike:(Zn.y0+Zn.y1)/2,distance:Zn.distance,spikeDistance:Zn.spikeDistance,curveNumber:Zn.trace.index,color:Zn.color,pointNumber:Zn.index}:null}var Yt={fullLayout:Te,container:Te._hoverlayer,event:K};J._spikepoints;var Bt={vLinePoint:Zt.vLinePoint,hLinePoint:Zt.hLinePoint};J._spikepoints=Bt;var Ut=function(){var Zn=Ge.filter(function(xr){return Ce&&Ce._id===xr.xa._id&&Ye&&Ye._id===xr.ya._id}),ea=Ge.filter(function(xr){return!(Ce&&Ce._id===xr.xa._id&&Ye&&Ye._id===xr.ya._id)});Zn.sort(b),ea.sort(b),Ge=Zn.concat(ea),Ge=q(Ge,Oe)};Ut();var Jt=Oe.charAt(0),hr=(Jt==="x"||Jt==="y")&&Ge[0]&&M[Ge[0].trace.type];if(Me&&Ze!==0&&Ge.length!==0){var vr=Ge.filter(function(Zn){return Zn.ya.showspikes}),gr=Et(vr,Ze,hr);Zt.hLinePoint=Dt(gr);var Xe=Ge.filter(function(Zn){return Zn.xa.showspikes}),He=Et(Xe,Ze,hr);Zt.vLinePoint=Dt(He)}if(Ge.length===0){var Nt=u.unhoverRaw(J,K);return Me&&(Zt.hLinePoint!==null||Zt.vLinePoint!==null)&&he()&&ie(J,Zt,Yt),Nt}if(Me&&he()&&ie(J,Zt,Yt),h.isXYhover(lt)&&Ge[0].length!==0&&Ge[0].trace.type!=="splom"){var Pt=Ge[0];s[Pt.trace.type]?Ge=Ge.filter(function(Zn){return Zn.trace.index===Pt.trace.index}):Ge=[Pt];var Qt=Ge.length,ur=le("x",Pt,Te),cr=le("y",Pt,Te);bt(ur,cr);var tr=[],zt={},or=0,dr=function(Zn){var ea=s[Zn.trace.type]?k(Zn):Zn.trace.index;if(!zt[ea])or++,zt[ea]=or,tr.push(Zn);else{var xr=zt[ea]-1,nn=tr[xr];xr>0&&Math.abs(Zn.distance)<Math.abs(nn.distance)&&(tr[xr]=Zn)}},wr;for(wr=0;wr<Qt;wr++)dr(Ge[wr]);for(wr=Ge.length-1;wr>Qt-1;wr--)dr(Ge[wr]);Ge=tr,Ut()}var pr=J._hoverdata,Wr=[],Pr=Q(J),Ir=te(J);for(De=0;De<Ge.length;De++){var ln=Ge[De],an=h.makeEventData(ln,ln.trace,ln.cd);if(ln.hovertemplate!==!1){var _n=!1;ln.cd[ln.index]&&ln.cd[ln.index].ht&&(_n=ln.cd[ln.index].ht),ln.hovertemplate=_n||ln.trace.hovertemplate||!1}if(ln.xa&&ln.ya){var Mn=ln.x0+ln.xa._offset,Sr=ln.x1+ln.xa._offset,Nr=ln.y0+ln.ya._offset,Zr=ln.y1+ln.ya._offset,Fr=Math.min(Mn,Sr),cn=Math.max(Mn,Sr),vn=Math.min(Nr,Zr),Cn=Math.max(Nr,Zr);an.bbox={x0:Fr+Ir,x1:cn+Ir,y0:vn+Pr,y1:Cn+Pr}}ln.eventData=[an],Wr.push(an)}J._hoverdata=Wr;var Rn=Oe==="y"&&(Pe.length>1||Ge.length>1)||Oe==="closest"&&mr&&Ge.length>1,Gn=f.combine(Te.plot_bgcolor||f.background,Te.paper_bgcolor),ua=F(Ge,{gd:J,hovermode:Oe,rotateLabels:Rn,bgColor:Gn,container:Te._hoverlayer,outerContainer:Te._paper.node(),commonLabelOpts:Te.hoverlabel,hoverdistance:Te.hoverdistance}),wa=ua.hoverLabels;if(h.isUnifiedHover(Oe)||(U(wa,Rn,Te,ua.commonLabelBoundingBox),j(wa,Rn,Te._invScaleX,Te._invScaleY)),de&&de.tagName){var Ma=y.getComponentMethod("annotations","hasClickToShow")(J,Wr);a(p.select(de),Ma?"pointer":"")}!de||ae||!oe(J,K,pr)||(pr&&J.emit("plotly_unhover",{event:K,points:pr}),J.emit("plotly_hover",{event:K,points:J._hoverdata,xaxes:pt,yaxes:wt,xvals:Re,yvals:je}))}function k(J){return[J.trace.index,J.index,J.x0,J.y0,J.name,J.attr,J.xa?J.xa._id:"",J.ya?J.ya._id:""].join(",")}var H=/<extra>([\s\S]*)<\/extra>/;function F(J,K){var ce=K.gd,ae=ce._fullLayout,de=K.hovermode,be=K.rotateLabels,Se=K.bgColor,Te=K.container,Ie=K.outerContainer,ke=K.commonLabelOpts||{};if(J.length===0)return[[]];var Be=K.fontFamily||T.HOVERFONT,Me=K.fontSize||T.HOVERFONTSIZE,Oe=K.fontWeight||ae.font.weight,_e=K.fontStyle||ae.font.style,Ne=K.fontVariant||ae.font.variant,Ce=K.fontTextcase||ae.font.textcase,Ye=K.fontLineposition||ae.font.lineposition,rt=K.fontShadow||ae.font.shadow,ot=J[0],$e=ot.xa,qe=ot.ya,ht=de.charAt(0),vt=ht+"Label",pt=ot[vt];if(pt===void 0&&$e.type==="multicategory")for(var wt=0;wt<J.length&&(pt=J[wt][vt],pt===void 0);wt++);var Mt=ue(ce,Ie),nt=Mt.top,Fe=Mt.width,We=Mt.height,Ze=pt!==void 0&&ot.distance<=K.hoverdistance&&(de==="x"||de==="y");if(Ze){var Ge=!0,Pe,Re;for(Pe=0;Pe<J.length;Pe++)if(Ge&&J[Pe].zLabel===void 0&&(Ge=!1),Re=J[Pe].hoverinfo||J[Pe].trace.hoverinfo,Re){var je=Array.isArray(Re)?Re:Re.split("+");if(je.indexOf("all")===-1&&je.indexOf(de)===-1){Ze=!1;break}}Ge&&(Ze=!1)}var De=Te.selectAll("g.axistext").data(Ze?[0]:[]);De.enter().append("g").classed("axistext",!0),De.exit().remove();var ge={minX:0,maxX:0,minY:0,maxY:0};if(De.each(function(){var He=p.select(this),Nt=C.ensureSingle(He,"path","",function(cn){cn.style({"stroke-width":"1px"})}),Pt=C.ensureSingle(He,"text","",function(cn){cn.attr("data-notex",1)}),Qt=ke.bgcolor||f.defaultLine,ur=ke.bordercolor||f.contrast(Qt),cr=f.contrast(Qt),tr=ke.font,zt={weight:tr.weight||Oe,style:tr.style||_e,variant:tr.variant||Ne,textcase:tr.textcase||Ce,lineposition:tr.lineposition||Ye,shadow:tr.shadow||rt,family:tr.family||Be,size:tr.size||Me,color:tr.color||cr};Nt.style({fill:Qt,stroke:ur}),Pt.text(pt).call(n.font,zt).call(t.positionText,0,0).call(t.convertToTspans,ce),He.attr("transform","");var or=ue(ce,Pt.node()),dr,wr;if(de==="x"){var pr=$e.side==="top"?"-":"";Pt.attr("text-anchor","middle").call(t.positionText,0,$e.side==="top"?nt-or.bottom-E-A:nt-or.top+E+A),dr=$e._offset+(ot.x0+ot.x1)/2,wr=qe._offset+($e.side==="top"?0:qe._length);var Wr=or.width/2+A,Pr=dr;dr<Wr?Pr=Wr:dr>ae.width-Wr&&(Pr=ae.width-Wr),Nt.attr("d","M"+(dr-Pr)+",0L"+(dr-Pr+E)+","+pr+E+"H"+Wr+"v"+pr+(A*2+or.height)+"H"+-Wr+"V"+pr+E+"H"+(dr-Pr-E)+"Z"),dr=Pr,ge.minX=dr-Wr,ge.maxX=dr+Wr,$e.side==="top"?(ge.minY=wr-(A*2+or.height),ge.maxY=wr-A):(ge.minY=wr+A,ge.maxY=wr+(A*2+or.height))}else{var Ir,ln,an;qe.side==="right"?(Ir="start",ln=1,an="",dr=$e._offset+$e._length):(Ir="end",ln=-1,an="-",dr=$e._offset),wr=qe._offset+(ot.y0+ot.y1)/2,Pt.attr("text-anchor",Ir),Nt.attr("d","M0,0L"+an+E+","+E+"V"+(A+or.height/2)+"h"+an+(A*2+or.width)+"V-"+(A+or.height/2)+"H"+an+E+"V-"+E+"Z"),ge.minY=wr-(A+or.height/2),ge.maxY=wr+(A+or.height/2),qe.side==="right"?(ge.minX=dr+E,ge.maxX=dr+E+(A*2+or.width)):(ge.minX=dr-E-(A*2+or.width),ge.maxX=dr-E);var _n=or.height/2,Mn=nt-or.top-_n,Sr="clip"+ae._uid+"commonlabel"+qe._id,Nr;if(dr<or.width+2*A+E){Nr="M-"+(E+A)+"-"+_n+"h-"+(or.width-A)+"V"+_n+"h"+(or.width-A)+"Z";var Zr=or.width-dr+A;t.positionText(Pt,Zr,Mn),Ir==="end"&&Pt.selectAll("tspan").each(function(){var cn=p.select(this),vn=n.tester.append("text").text(cn.text()).call(n.font,zt),Cn=ue(ce,vn.node());Math.round(Cn.width)<Math.round(or.width)&&cn.attr("x",Zr-Cn.width),vn.remove()})}else t.positionText(Pt,ln*(A+E),Mn),Nr=null;var Fr=ae._topclips.selectAll("#"+Sr).data(Nr?[0]:[]);Fr.enter().append("clipPath").attr("id",Sr).append("path"),Fr.exit().remove(),Fr.select("path").attr("d",Nr),n.setClipUrl(Pt,Nr?Sr:null,ce)}He.attr("transform",v(dr,wr))}),h.isUnifiedHover(de)){Te.selectAll("g.hovertext").remove();var we=J.filter(function(He){return He.hoverinfo!=="none"});if(we.length===0)return[];var Ue=ae.hoverlabel,et=Ue.font,st={showlegend:!0,legend:{title:{text:pt,font:et},font:et,bgcolor:Ue.bgcolor,bordercolor:Ue.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ae.legend?ae.legend.traceorder:void 0,orientation:"v"}},lt={font:et};c(st,lt,ce._fullData);var Wt=lt.legend;Wt.entries=[];for(var jt=0;jt<we.length;jt++){var Tt=we[jt];if(Tt.hoverinfo!=="none"){var Rt=B(Tt,!0,de,ae,pt),Zt=Rt[0],mr=Rt[1];Tt.name=mr,mr!==""?Tt.text=mr+" : "+Zt:Tt.text=Zt;var gt=Tt.cd[Tt.index];gt&&(gt.mc&&(Tt.mc=gt.mc),gt.mcc&&(Tt.mc=gt.mcc),gt.mlc&&(Tt.mlc=gt.mlc),gt.mlcc&&(Tt.mlc=gt.mlcc),gt.mlw&&(Tt.mlw=gt.mlw),gt.mrc&&(Tt.mrc=gt.mrc),gt.dir&&(Tt.dir=gt.dir)),Tt._distinct=!0,Wt.entries.push([Tt])}}Wt.entries.sort(function(He,Nt){return He[0].trace.index-Nt[0].trace.index}),Wt.layer=Te,Wt._inHover=!0,Wt._groupTitleFont=Ue.grouptitlefont,i(ce,Wt);var Kt=Te.select("g.legend"),$t=ue(ce,Kt.node()),br=$t.width+2*A,lr=$t.height+2*A,mt=we[0],ut=(mt.x0+mt.x1)/2,bt=(mt.y0+mt.y1)/2,Et=!(y.traceIs(mt.trace,"bar-like")||y.traceIs(mt.trace,"box-violin")),Dt,Yt;ht==="y"?Et?(Yt=bt-A,Dt=bt+A):(Yt=Math.min.apply(null,we.map(function(He){return Math.min(He.y0,He.y1)})),Dt=Math.max.apply(null,we.map(function(He){return Math.max(He.y0,He.y1)}))):Yt=Dt=C.mean(we.map(function(He){return(He.y0+He.y1)/2}))-lr/2;var Bt,Ut;ht==="x"?Et?(Bt=ut+A,Ut=ut-A):(Bt=Math.max.apply(null,we.map(function(He){return Math.max(He.x0,He.x1)})),Ut=Math.min.apply(null,we.map(function(He){return Math.min(He.x0,He.x1)}))):Bt=Ut=C.mean(we.map(function(He){return(He.x0+He.x1)/2}))-br/2;var Jt=$e._offset,hr=qe._offset;Dt+=hr,Bt+=Jt,Ut+=Jt-br,Yt+=hr-lr;var vr,gr;return Bt+br<Fe&&Bt>=0?vr=Bt:Ut+br<Fe&&Ut>=0?vr=Ut:Jt+br<Fe?vr=Jt:Bt-ut<ut-Ut+br?vr=Fe-br:vr=0,vr+=A,Dt+lr<We&&Dt>=0?gr=Dt:Yt+lr<We&&Yt>=0?gr=Yt:hr+lr<We?gr=hr:Dt-bt<bt-Yt+lr?gr=We-lr:gr=0,gr+=A,Kt.attr("transform",v(vr-1,gr-1)),Kt}var Xe=Te.selectAll("g.hovertext").data(J,function(He){return k(He)});return Xe.enter().append("g").classed("hovertext",!0).each(function(){var He=p.select(this);He.append("rect").call(f.fill,f.addOpacity(Se,.8)),He.append("text").classed("name",!0),He.append("path").style("stroke-width","1px"),He.append("text").classed("nums",!0).call(n.font,{weight:Oe,style:_e,variant:Ne,textcase:Ce,lineposition:Ye,shadow:rt,family:Be,size:Me})}),Xe.exit().remove(),Xe.each(function(He){var Nt=p.select(this).attr("transform",""),Pt=He.color;Array.isArray(Pt)&&(Pt=Pt[He.eventData[0].pointNumber]);var Qt=He.bgcolor||Pt,ur=f.combine(f.opacity(Qt)?Qt:f.defaultLine,Se),cr=f.combine(f.opacity(Pt)?Pt:f.defaultLine,Se),tr=He.borderColor||f.contrast(ur),zt=B(He,Ze,de,ae,pt,Nt),or=zt[0],dr=zt[1],wr=Nt.select("text.nums").call(n.font,{family:He.fontFamily||Be,size:He.fontSize||Me,color:He.fontColor||tr,weight:He.fontWeight||Oe,style:He.fontStyle||_e,variant:He.fontVariant||Ne,textcase:He.fontTextcase||Ce,lineposition:He.fontLineposition||Ye,shadow:He.fontShadow||rt}).text(or).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ce),pr=Nt.select("text.name"),Wr=0,Pr=0;if(dr&&dr!==or){pr.call(n.font,{family:He.fontFamily||Be,size:He.fontSize||Me,color:cr,weight:He.fontWeight||Oe,style:He.fontStyle||_e,variant:He.fontVariant||Ne,textcase:He.fontTextcase||Ce,lineposition:He.fontLineposition||Ye,shadow:He.fontShadow||rt}).text(dr).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ce);var Ir=ue(ce,pr.node());Wr=Ir.width+2*A,Pr=Ir.height+2*A}else pr.remove(),Nt.select("rect").remove();Nt.select("path").style({fill:ur,stroke:tr});var ln=He.xa._offset+(He.x0+He.x1)/2,an=He.ya._offset+(He.y0+He.y1)/2,_n=Math.abs(He.x1-He.x0),Mn=Math.abs(He.y1-He.y0),Sr=ue(ce,wr.node()),Nr=Sr.width/ae._invScaleX,Zr=Sr.height/ae._invScaleY;He.ty0=(nt-Sr.top)/ae._invScaleY,He.bx=Nr+2*A,He.by=Math.max(Zr+2*A,Pr),He.anchor="start",He.txwidth=Nr,He.tx2width=Wr,He.offset=0;var Fr=(Nr+E+A+Wr)*ae._invScaleX,cn,vn;if(be)He.pos=ln,cn=an+Mn/2+Fr<=We,vn=an-Mn/2-Fr>=0,(He.idealAlign==="top"||!cn)&&vn?(an-=Mn/2,He.anchor="end"):cn?(an+=Mn/2,He.anchor="start"):He.anchor="middle",He.crossPos=an;else{if(He.pos=an,cn=ln+_n/2+Fr<=Fe,vn=ln-_n/2-Fr>=0,(He.idealAlign==="left"||!cn)&&vn)ln-=_n/2,He.anchor="end";else if(cn)ln+=_n/2,He.anchor="start";else{He.anchor="middle";var Cn=Fr/2,Rn=ln+Cn-Fe,Gn=ln-Cn;Rn>0&&(ln-=Rn),Gn<0&&(ln+=-Gn)}He.crossPos=ln}wr.attr("text-anchor",He.anchor),Wr&&pr.attr("text-anchor",He.anchor),Nt.attr("transform",v(ln,an)+(be?g(d):""))}),{hoverLabels:Xe,commonLabelBoundingBox:ge}}function B(J,K,ce,ae,de,be){var Se="",Te="";J.nameOverride!==void 0&&(J.name=J.nameOverride),J.name&&(J.trace._meta&&(J.name=C.templateString(J.name,J.trace._meta)),Se=ne(J.name,J.nameLength));var Ie=ce.charAt(0),ke=Ie==="x"?"y":"x";J.zLabel!==void 0?(J.xLabel!==void 0&&(Te+="x: "+J.xLabel+"<br>"),J.yLabel!==void 0&&(Te+="y: "+J.yLabel+"<br>"),J.trace.type!=="choropleth"&&J.trace.type!=="choroplethmapbox"&&(Te+=(Te?"z: ":"")+J.zLabel)):K&&J[Ie+"Label"]===de?Te=J[ke+"Label"]||"":J.xLabel===void 0?J.yLabel!==void 0&&J.trace.type!=="scattercarpet"&&(Te=J.yLabel):J.yLabel===void 0?Te=J.xLabel:Te="("+J.xLabel+", "+J.yLabel+")",(J.text||J.text===0)&&!Array.isArray(J.text)&&(Te+=(Te?"<br>":"")+J.text),J.extraText!==void 0&&(Te+=(Te?"<br>":"")+J.extraText),be&&Te===""&&!J.hovertemplate&&(Se===""&&be.remove(),Te=Se);var Be=J.hovertemplate||!1;if(Be){var Me=J.hovertemplateLabels||J;J[Ie+"Label"]!==de&&(Me[Ie+"other"]=Me[Ie+"Val"],Me[Ie+"otherLabel"]=Me[Ie+"Label"]),Te=C.hovertemplateString(Be,Me,ae._d3locale,J.eventData[0]||{},J.trace._meta),Te=Te.replace(H,function(Oe,_e){return Se=ne(_e,J.nameLength),""})}return[Te,Se]}function U(J,K,ce,ae){var de=K?"xa":"ya",be=K?"ya":"xa",Se=0,Te=1,Ie=J.size(),ke=new Array(Ie),Be=0,Me=ae.minX,Oe=ae.maxX,_e=ae.minY,Ne=ae.maxY,Ce=function(Re){return Re*ce._invScaleX},Ye=function(Re){return Re*ce._invScaleY};J.each(function(Re){var je=Re[de],De=Re[be],ge=je._id.charAt(0)==="x",we=je.range;Be===0&&we&&we[0]>we[1]!==ge&&(Te=-1);var Ue=0,et=ge?ce.width:ce.height;if(ce.hovermode==="x"||ce.hovermode==="y"){var st=z(Re,K),lt=Re.anchor,Wt=lt==="end"?-1:1,jt,Tt;if(lt==="middle")jt=Re.crossPos+(ge?Ye(st.y-Re.by/2):Ce(Re.bx/2+Re.tx2width/2)),Tt=jt+(ge?Ye(Re.by):Ce(Re.bx));else if(ge)jt=Re.crossPos+Ye(E+st.y)-Ye(Re.by/2-E),Tt=jt+Ye(Re.by);else{var Rt=Ce(Wt*E+st.x),Zt=Rt+Ce(Wt*Re.bx);jt=Re.crossPos+Math.min(Rt,Zt),Tt=Re.crossPos+Math.max(Rt,Zt)}ge?_e!==void 0&&Ne!==void 0&&Math.min(Tt,Ne)-Math.max(jt,_e)>1&&(De.side==="left"?(Ue=De._mainLinePosition,et=ce.width):et=De._mainLinePosition):Me!==void 0&&Oe!==void 0&&Math.min(Tt,Oe)-Math.max(jt,Me)>1&&(De.side==="top"?(Ue=De._mainLinePosition,et=ce.height):et=De._mainLinePosition)}ke[Be++]=[{datum:Re,traceIndex:Re.trace.index,dp:0,pos:Re.pos,posref:Re.posref,size:Re.by*(ge?w:1)/2,pmin:Ue,pmax:et}]}),ke.sort(function(Re,je){return Re[0].posref-je[0].posref||Te*(je[0].traceIndex-Re[0].traceIndex)});var rt,ot,$e,qe,ht,vt,pt;function wt(Re){var je=Re[0],De=Re[Re.length-1];if(ot=je.pmin-je.pos-je.dp+je.size,$e=De.pos+De.dp+De.size-je.pmax,ot>.01){for(ht=Re.length-1;ht>=0;ht--)Re[ht].dp+=ot;rt=!1}if(!($e<.01)){if(ot<-.01){for(ht=Re.length-1;ht>=0;ht--)Re[ht].dp-=$e;rt=!1}if(rt){var ge=0;for(qe=0;qe<Re.length;qe++)vt=Re[qe],vt.pos+vt.dp+vt.size>je.pmax&&ge++;for(qe=Re.length-1;qe>=0&&!(ge<=0);qe--)vt=Re[qe],vt.pos>je.pmax-1&&(vt.del=!0,ge--);for(qe=0;qe<Re.length&&!(ge<=0);qe++)if(vt=Re[qe],vt.pos<je.pmin+1)for(vt.del=!0,ge--,$e=vt.size*2,ht=Re.length-1;ht>=0;ht--)Re[ht].dp-=$e;for(qe=Re.length-1;qe>=0&&!(ge<=0);qe--)vt=Re[qe],vt.pos+vt.dp+vt.size>je.pmax&&(vt.del=!0,ge--)}}}for(;!rt&&Se<=Ie;){for(Se++,rt=!0,qe=0;qe<ke.length-1;){var Mt=ke[qe],nt=ke[qe+1],Fe=Mt[Mt.length-1],We=nt[0];if(ot=Fe.pos+Fe.dp+Fe.size-We.pos-We.dp+We.size,ot>.01&&Fe.pmin===We.pmin&&Fe.pmax===We.pmax){for(ht=nt.length-1;ht>=0;ht--)nt[ht].dp+=ot;for(Mt.push.apply(Mt,nt),ke.splice(qe+1,1),pt=0,ht=Mt.length-1;ht>=0;ht--)pt+=Mt[ht].dp;for($e=pt/Mt.length,ht=Mt.length-1;ht>=0;ht--)Mt[ht].dp-=$e;rt=!1}else qe++}ke.forEach(wt)}for(qe=ke.length-1;qe>=0;qe--){var Ze=ke[qe];for(ht=Ze.length-1;ht>=0;ht--){var Ge=Ze[ht],Pe=Ge.datum;Pe.offset=Ge.dp,Pe.del=Ge.del}}}function z(J,K){var ce=0,ae=J.offset;return K&&(ae*=-m,ce=J.offset*_),{x:ce,y:ae}}function W(J){var K={start:1,end:-1,middle:0}[J.anchor],ce=K*(E+A),ae=ce+K*(J.txwidth+A),de=J.anchor==="middle";return de&&(ce-=J.tx2width/2,ae+=J.txwidth/2+A),{alignShift:K,textShiftX:ce,text2ShiftX:ae}}function j(J,K,ce,ae){var de=function(Se){return Se*ce},be=function(Se){return Se*ae};J.each(function(Se){var Te=p.select(this);if(Se.del)return Te.remove();var Ie=Te.select("text.nums"),ke=Se.anchor,Be=ke==="end"?-1:1,Me=W(Se),Oe=z(Se,K),_e=Oe.x,Ne=Oe.y,Ce=ke==="middle";Te.select("path").attr("d",Ce?"M-"+de(Se.bx/2+Se.tx2width/2)+","+be(Ne-Se.by/2)+"h"+de(Se.bx)+"v"+be(Se.by)+"h-"+de(Se.bx)+"Z":"M0,0L"+de(Be*E+_e)+","+be(E+Ne)+"v"+be(Se.by/2-E)+"h"+de(Be*Se.bx)+"v-"+be(Se.by)+"H"+de(Be*E+_e)+"V"+be(Ne-E)+"Z");var Ye=_e+Me.textShiftX,rt=Ne+Se.ty0-Se.by/2+A,ot=Se.textAlign||"auto";ot!=="auto"&&(ot==="left"&&ke!=="start"?(Ie.attr("text-anchor","start"),Ye=Ce?-Se.bx/2-Se.tx2width/2+A:-Se.bx-A):ot==="right"&&ke!=="end"&&(Ie.attr("text-anchor","end"),Ye=Ce?Se.bx/2-Se.tx2width/2-A:Se.bx+A)),Ie.call(t.positionText,de(Ye),be(rt)),Se.tx2width&&(Te.select("text.name").call(t.positionText,de(Me.text2ShiftX+Me.alignShift*A+_e),be(Ne+Se.ty0-Se.by/2+A)),Te.select("rect").call(n.setRect,de(Me.text2ShiftX+(Me.alignShift-1)*Se.tx2width/2+_e),be(Ne-Se.by/2-1),de(Se.tx2width),be(Se.by+2)))})}function ee(J,K){var ce=J.index,ae=J.trace||{},de=J.cd[0],be=J.cd[ce]||{};function Se(Oe){return Oe||L(Oe)&&Oe===0}var Te=Array.isArray(ce)?function(Oe,_e){var Ne=C.castOption(de,ce,Oe);return Se(Ne)?Ne:C.extractOption({},ae,"",_e)}:function(Oe,_e){return C.extractOption(be,ae,Oe,_e)};function Ie(Oe,_e,Ne){var Ce=Te(_e,Ne);Se(Ce)&&(J[Oe]=Ce)}if(Ie("hoverinfo","hi","hoverinfo"),Ie("bgcolor","hbg","hoverlabel.bgcolor"),Ie("borderColor","hbc","hoverlabel.bordercolor"),Ie("fontFamily","htf","hoverlabel.font.family"),Ie("fontSize","hts","hoverlabel.font.size"),Ie("fontColor","htc","hoverlabel.font.color"),Ie("fontWeight","htw","hoverlabel.font.weight"),Ie("fontStyle","hty","hoverlabel.font.style"),Ie("fontVariant","htv","hoverlabel.font.variant"),Ie("nameLength","hnl","hoverlabel.namelength"),Ie("textAlign","hta","hoverlabel.align"),J.posref=K==="y"||K==="closest"&&ae.orientation==="h"?J.xa._offset+(J.x0+J.x1)/2:J.ya._offset+(J.y0+J.y1)/2,J.x0=C.constrain(J.x0,0,J.xa._length),J.x1=C.constrain(J.x1,0,J.xa._length),J.y0=C.constrain(J.y0,0,J.ya._length),J.y1=C.constrain(J.y1,0,J.ya._length),J.xLabelVal!==void 0&&(J.xLabel="xLabel"in J?J.xLabel:l.hoverLabelText(J.xa,J.xLabelVal,ae.xhoverformat),J.xVal=J.xa.c2d(J.xLabelVal)),J.yLabelVal!==void 0&&(J.yLabel="yLabel"in J?J.yLabel:l.hoverLabelText(J.ya,J.yLabelVal,ae.yhoverformat),J.yVal=J.ya.c2d(J.yLabelVal)),J.zLabelVal!==void 0&&J.zLabel===void 0&&(J.zLabel=String(J.zLabelVal)),!isNaN(J.xerr)&&!(J.xa.type==="log"&&J.xerr<=0)){var ke=l.tickText(J.xa,J.xa.c2l(J.xerr),"hover").text;J.xerrneg!==void 0?J.xLabel+=" +"+ke+" / -"+l.tickText(J.xa,J.xa.c2l(J.xerrneg),"hover").text:J.xLabel+=" ± "+ke,K==="x"&&(J.distance+=1)}if(!isNaN(J.yerr)&&!(J.ya.type==="log"&&J.yerr<=0)){var Be=l.tickText(J.ya,J.ya.c2l(J.yerr),"hover").text;J.yerrneg!==void 0?J.yLabel+=" +"+Be+" / -"+l.tickText(J.ya,J.ya.c2l(J.yerrneg),"hover").text:J.yLabel+=" ± "+Be,K==="y"&&(J.distance+=1)}var Me=J.hoverinfo||J.trace.hoverinfo;return Me&&Me!=="all"&&(Me=Array.isArray(Me)?Me:Me.split("+"),Me.indexOf("x")===-1&&(J.xLabel=void 0),Me.indexOf("y")===-1&&(J.yLabel=void 0),Me.indexOf("z")===-1&&(J.zLabel=void 0),Me.indexOf("text")===-1&&(J.text=void 0),Me.indexOf("name")===-1&&(J.name=void 0)),J}function ie(J,K,ce){var ae=ce.container,de=ce.fullLayout,be=de._size,Se=ce.event,Te=!!K.hLinePoint,Ie=!!K.vLinePoint,ke,Be;if(ae.selectAll(".spikeline").remove(),!!(Ie||Te)){var Me=f.combine(de.plot_bgcolor,de.paper_bgcolor);if(Te){var Oe=K.hLinePoint,_e,Ne;ke=Oe&&Oe.xa,Be=Oe&&Oe.ya;var Ce=Be.spikesnap;Ce==="cursor"?(_e=Se.pointerX,Ne=Se.pointerY):(_e=ke._offset+Oe.x,Ne=Be._offset+Oe.y);var Ye=o.readability(Oe.color,Me)<1.5?f.contrast(Me):Oe.color,rt=Be.spikemode,ot=Be.spikethickness,$e=Be.spikecolor||Ye,qe=l.getPxPosition(J,Be),ht,vt;if(rt.indexOf("toaxis")!==-1||rt.indexOf("across")!==-1){if(rt.indexOf("toaxis")!==-1&&(ht=qe,vt=_e),rt.indexOf("across")!==-1){var pt=Be._counterDomainMin,wt=Be._counterDomainMax;Be.anchor==="free"&&(pt=Math.min(pt,Be.position),wt=Math.max(wt,Be.position)),ht=be.l+pt*be.w,vt=be.l+wt*be.w}ae.insert("line",":first-child").attr({x1:ht,x2:vt,y1:Ne,y2:Ne,"stroke-width":ot,stroke:$e,"stroke-dasharray":n.dashStyle(Be.spikedash,ot)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:ht,x2:vt,y1:Ne,y2:Ne,"stroke-width":ot+2,stroke:Me}).classed("spikeline",!0).classed("crisp",!0)}rt.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:qe+(Be.side!=="right"?ot:-ot),cy:Ne,r:ot,fill:$e}).classed("spikeline",!0)}if(Ie){var Mt=K.vLinePoint,nt,Fe;ke=Mt&&Mt.xa,Be=Mt&&Mt.ya;var We=ke.spikesnap;We==="cursor"?(nt=Se.pointerX,Fe=Se.pointerY):(nt=ke._offset+Mt.x,Fe=Be._offset+Mt.y);var Ze=o.readability(Mt.color,Me)<1.5?f.contrast(Me):Mt.color,Ge=ke.spikemode,Pe=ke.spikethickness,Re=ke.spikecolor||Ze,je=l.getPxPosition(J,ke),De,ge;if(Ge.indexOf("toaxis")!==-1||Ge.indexOf("across")!==-1){if(Ge.indexOf("toaxis")!==-1&&(De=je,ge=Fe),Ge.indexOf("across")!==-1){var we=ke._counterDomainMin,Ue=ke._counterDomainMax;ke.anchor==="free"&&(we=Math.min(we,ke.position),Ue=Math.max(Ue,ke.position)),De=be.t+(1-Ue)*be.h,ge=be.t+(1-we)*be.h}ae.insert("line",":first-child").attr({x1:nt,x2:nt,y1:De,y2:ge,"stroke-width":Pe,stroke:Re,"stroke-dasharray":n.dashStyle(ke.spikedash,Pe)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:nt,x2:nt,y1:De,y2:ge,"stroke-width":Pe+2,stroke:Me}).classed("spikeline",!0).classed("crisp",!0)}Ge.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:nt,cy:je-(ke.side!=="top"?Pe:-Pe),r:Pe,fill:Re}).classed("spikeline",!0)}}}function oe(J,K,ce){if(!ce||ce.length!==J._hoverdata.length)return!0;for(var ae=ce.length-1;ae>=0;ae--){var de=ce[ae],be=J._hoverdata[ae];if(de.curveNumber!==be.curveNumber||String(de.pointNumber)!==String(be.pointNumber)||String(de.pointNumbers)!==String(be.pointNumbers))return!0}return!1}function he(J,K){return!0}function ne(J,K){return t.plainText(J||"",{len:K,allowedTags:["br","sub","sup","b","i","em"]})}function q(J,K){for(var ce=K.charAt(0),ae=[],de=[],be=[],Se=0;Se<J.length;Se++){var Te=J[Se];y.traceIs(Te.trace,"bar-like")||y.traceIs(Te.trace,"box-violin")?be.push(Te):Te.trace[ce+"period"]?de.push(Te):ae.push(Te)}return ae.concat(de).concat(be)}function le(J,K,ce){var ae=K[J+"a"],de=K[J+"Val"],be=K.cd[0];if(ae.type==="category"||ae.type==="multicategory")de=ae._categoriesMap[de];else if(ae.type==="date"){var Se=K.trace[J+"periodalignment"];if(Se){var Te=K.cd[K.index],Ie=Te[J+"Start"];Ie===void 0&&(Ie=Te[J]);var ke=Te[J+"End"];ke===void 0&&(ke=Te[J]);var Be=ke-Ie;Se==="end"?de+=Be:Se==="middle"&&(de+=Be/2)}de=ae.d2c(de)}return be&&be.t&&be.t.posLetter===ae._id&&(ce.boxmode==="group"||ce.violinmode==="group")&&(de+=be.t.dPos),de}function Q(J){return J.offsetTop+J.clientTop}function te(J){return J.offsetLeft+J.clientLeft}function ue(J,K){var ce=J._fullLayout,ae=K.getBoundingClientRect(),de=ae.left,be=ae.top,Se=de+ae.width,Te=be+ae.height,Ie=C.apply3DTransform(ce._invTransform)(de,be),ke=C.apply3DTransform(ce._invTransform)(Se,Te),Be=Ie[0],Me=Ie[1],Oe=ke[0],_e=ke[1];return{x:Be,y:Me,width:Oe-Be,height:_e-Me,top:Math.min(Me,_e),left:Math.min(Be,Oe),right:Math.max(Be,Oe),bottom:Math.max(Me,_e)}}},16132:function(V,Y,e){var p=e(3400),L=e(76308),o=e(10624).isUnifiedHover;V.exports=function(S,v,g,r){r=r||{};var t=v.legend;function a(n){r.font[n]||(r.font[n]=t?v.legend.font[n]:v.font[n])}v&&o(v.hovermode)&&(r.font||(r.font={}),a("size"),a("family"),a("color"),a("weight"),a("style"),a("variant"),t?(r.bgcolor||(r.bgcolor=L.combine(v.legend.bgcolor,v.paper_bgcolor)),r.bordercolor||(r.bordercolor=v.legend.bordercolor)):r.bgcolor||(r.bgcolor=v.paper_bgcolor)),g("hoverlabel.bgcolor",r.bgcolor),g("hoverlabel.bordercolor",r.bordercolor),g("hoverlabel.namelength",r.namelength),p.coerceFont(g,"hoverlabel.font",r.font),g("hoverlabel.align",r.align)}},41008:function(V,Y,e){var p=e(3400),L=e(65460);V.exports=function(C,S){function v(g,r){return S[g]!==void 0?S[g]:p.coerce(C,S,L,g,r)}return v("clickmode"),v("hoversubplots"),v("hovermode")}},93024:function(V,Y,e){var p=e(33428),L=e(3400),o=e(86476),C=e(10624),S=e(65460),v=e(83292);V.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:S},attributes:e(55756),layoutAttributes:S,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:v.hover,unhover:o.unhover,loneHover:v.loneHover,loneUnhover:g,click:e(62376)};function g(a){var n=L.isD3Selection(a)?a:p.select(a);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function r(a,n,f){return L.castOption(a,n,"hoverlabel."+f)}function t(a,n,f){function u(l){return L.coerceHoverinfo({hoverinfo:l},{_module:a._module},n)}return L.castOption(a,f,"hoverinfo",u)}},65460:function(V,Y,e){var p=e(92456),L=e(25376),o=L({editType:"none"});o.family.dflt=p.HOVERFONT,o.size.dflt=p.HOVERFONTSIZE,V.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(V,Y,e){var p=e(3400),L=e(65460),o=e(41008),C=e(16132);V.exports=function(v,g){function r(l,y){return p.coerce(v,g,L,l,y)}var t=o(v,g);t&&(r("hoverdistance"),r("spikedistance"));var a=r("dragmode");a==="select"&&r("selectdirection");var n=g._has("mapbox"),f=g._has("geo"),u=g._basePlotModules.length;g.dragmode==="zoom"&&((n||f)&&u===1||n&&f&&u===2)&&(g.dragmode="pan"),C(v,g,r),p.coerceFont(r,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},81976:function(V,Y,e){var p=e(3400),L=e(16132),o=e(65460);V.exports=function(S,v){function g(r,t){return p.coerce(S,v,o,r,t)}L(S,v,g)}},12704:function(V,Y,e){var p=e(3400),L=e(53756).counter,o=e(86968).u,C=e(33816).idRegex,S=e(31780),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(f,u,l){var y=u[l+"axes"],h=Object.keys((f._splomAxes||{})[l]||{});if(Array.isArray(y))return y;if(h.length)return h}function r(f,u){var l=f.grid||{},y=g(u,l,"x"),h=g(u,l,"y");if(!f.grid&&!y&&!h)return;var T=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),c=Array.isArray(y),i=Array.isArray(h),d=c&&y!==l.xaxes&&i&&h!==l.yaxes,x,w;T?(x=l.subplots.length,w=l.subplots[0].length):(i&&(x=h.length),c&&(w=y.length));var _=S.newContainer(u,"grid");function m(B,U){return p.coerce(l,_,v,B,U)}var E=m("rows",x),A=m("columns",w);if(!(E*A>1)){delete u.grid;return}if(!T&&!c&&!i){var s=m("pattern")==="independent";s&&(T=!0)}_._hasSubplotGrid=T;var M=m("roworder"),b=M==="top to bottom",N=T?.2:.1,k=T?.3:.1,H,F;d&&u._splomGridDflt&&(H=u._splomGridDflt.xside,F=u._splomGridDflt.yside),_._domains={x:t("x",m,N,H,A),y:t("y",m,k,F,E,b)}}function t(f,u,l,y,h,T){var c=u(f+"gap",l),i=u("domain."+f);u(f+"side",y);for(var d=new Array(h),x=i[0],w=(i[1]-x)/(h-c),_=w*(1-c),m=0;m<h;m++){var E=x+w*m;d[T?h-1-m:m]=[E,E+_]}return d}function a(f,u){var l=u.grid;if(!(!l||!l._domains)){var y=f.grid||{},h=u._subplots,T=l._hasSubplotGrid,c=l.rows,i=l.columns,d=l.pattern==="independent",x,w,_,m,E,A,s,M=l._axisMap={};if(T){var b=y.subplots||[];A=l.subplots=new Array(c);var N=1;for(x=0;x<c;x++){var k=A[x]=new Array(i),H=b[x]||[];for(w=0;w<i;w++)if(d?(E=N===1?"xy":"x"+N+"y"+N,N++):E=H[w],k[w]="",h.cartesian.indexOf(E)!==-1){if(s=E.indexOf("y"),_=E.slice(0,s),m=E.slice(s),M[_]!==void 0&&M[_]!==w||M[m]!==void 0&&M[m]!==x)continue;k[w]=E,M[_]=w,M[m]=x}}}else{var F=g(u,y,"x"),B=g(u,y,"y");l.xaxes=n(F,h.xaxis,i,M,"x"),l.yaxes=n(B,h.yaxis,c,M,"y")}var U=l._anchors={},z=l.roworder==="top to bottom";for(var W in M){var j=W.charAt(0),ee=l[j+"side"],ie,oe,he;if(ee.length<8)U[W]="free";else if(j==="x"){if(ee.charAt(0)==="t"===z?(ie=0,oe=1,he=c):(ie=c-1,oe=-1,he=-1),T){var ne=M[W];for(x=ie;x!==he;x+=oe)if(E=A[x][ne],!!E&&(s=E.indexOf("y"),E.slice(0,s)===W)){U[W]=E.slice(s);break}}else for(x=ie;x!==he;x+=oe)if(m=l.yaxes[x],h.cartesian.indexOf(W+m)!==-1){U[W]=m;break}}else if(ee.charAt(0)==="l"?(ie=0,oe=1,he=i):(ie=i-1,oe=-1,he=-1),T){var q=M[W];for(x=ie;x!==he;x+=oe)if(E=A[q][x],!!E&&(s=E.indexOf("y"),E.slice(s)===W)){U[W]=E.slice(0,s);break}}else for(x=ie;x!==he;x+=oe)if(_=l.xaxes[x],h.cartesian.indexOf(_+W)!==-1){U[W]=_;break}}}}function n(f,u,l,y,h){var T=new Array(l),c;function i(d,x){u.indexOf(x)!==-1&&y[x]===void 0?(T[d]=x,y[x]=d):T[d]=""}if(Array.isArray(f))for(c=0;c<l;c++)i(c,f[c]);else for(i(0,h),c=1;c<l;c++)i(c,h+(c+1));return T}V.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:r,contentDefaults:a}},65760:function(V,Y,e){var p=e(33816),L=e(31780).templatedArray;e(36208),V.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(V,Y,e){var p=e(38248),L=e(36896);V.exports=function(C,S,v,g){S=S||{};var r=v==="log"&&S.type==="linear",t=v==="linear"&&S.type==="log";if(r||t){for(var a=C._fullLayout.images,n=S._id.charAt(0),f,u,l=0;l<a.length;l++)if(f=a[l],u="images["+l+"].",f[n+"ref"]===S._id){var y=f[n],h=f["size"+n],T=null,c=null;if(r){T=L(y,S.range);var i=h/Math.pow(10,T)/2;c=2*Math.log(i+Math.sqrt(1+i*i))/Math.LN10}else T=Math.pow(10,y),c=T*(Math.pow(10,h/2)-Math.pow(10,-h/2));p(T)?p(c)||(c=null):(T=null,c=null),g(u+n,T),g(u+"size"+n,c)}}}},25024:function(V,Y,e){var p=e(3400),L=e(54460),o=e(51272),C=e(65760),S="images";V.exports=function(r,t){var a={name:S,handleItemDefaults:v};o(r,t,a)};function v(g,r,t){function a(i,d){return p.coerce(g,r,C,i,d)}var n=a("source"),f=a("visible",!!n);if(!f)return r;a("layer"),a("xanchor"),a("yanchor"),a("sizex"),a("sizey"),a("sizing"),a("opacity");for(var u={_fullLayout:t},l=["x","y"],y=0;y<2;y++){var h=l[y],T=L.coerceRef(g,r,u,h,"paper",void 0);if(T!=="paper"){var c=L.getFromId(u,T);c._imgIndices.push(r._index)}L.coercePosition(r,u,a,T,h,0)}return r}},60963:function(V,Y,e){var p=e(33428),L=e(43616),o=e(54460),C=e(79811),S=e(9616);V.exports=function(g){var r=g._fullLayout,t=[],a={},n=[],f,u;for(u=0;u<r.images.length;u++){var l=r.images[u];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){f=C.ref2id(l.xref)+C.ref2id(l.yref);var y=r._plots[f];if(!y){n.push(l);continue}y.mainplot&&(f=y.mainplot.id),a[f]||(a[f]=[]),a[f].push(l)}else l.layer==="above"?t.push(l):n.push(l)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(m){var E=p.select(this);if(this._imgSrc!==m.source)if(E.attr("xmlns",S.svg),m.source&&m.source.slice(0,5)==="data:")E.attr("xlink:href",m.source),this._imgSrc=m.source;else{var A=new Promise((function(s){var M=new Image;this.img=M,M.setAttribute("crossOrigin","anonymous"),M.onerror=b,M.onload=function(){var N=document.createElement("canvas");N.width=this.width,N.height=this.height;var k=N.getContext("2d",{willReadFrequently:!0});k.drawImage(this,0,0);var H=N.toDataURL("image/png");E.attr("xlink:href",H),s()},E.on("error",b),M.src=m.source,this._imgSrc=m.source;function b(){E.remove(),s()}}).bind(this));g._promises.push(A)}}function c(m){var E=p.select(this),A=o.getFromId(g,m.xref),s=o.getFromId(g,m.yref),M=o.getRefType(m.xref)==="domain",b=o.getRefType(m.yref)==="domain",N=r._size,k,H;A!==void 0?k=typeof m.xref=="string"&&M?A._length*m.sizex:Math.abs(A.l2p(m.sizex)-A.l2p(0)):k=m.sizex*N.w,s!==void 0?H=typeof m.yref=="string"&&b?s._length*m.sizey:Math.abs(s.l2p(m.sizey)-s.l2p(0)):H=m.sizey*N.h;var F=k*h.x[m.xanchor].offset,B=H*h.y[m.yanchor].offset,U=h.x[m.xanchor].sizing+h.y[m.yanchor].sizing,z,W;switch(A!==void 0?z=typeof m.xref=="string"&&M?A._length*m.x+A._offset:A.r2p(m.x)+A._offset:z=m.x*N.w+N.l,z+=F,s!==void 0?W=typeof m.yref=="string"&&b?s._length*(1-m.y)+s._offset:s.r2p(m.y)+s._offset:W=N.h-m.y*N.h+N.t,W+=B,m.sizing){case"fill":U+=" slice";break;case"stretch":U="none";break}E.attr({x:z,y:W,width:k,height:H,preserveAspectRatio:U,opacity:m.opacity});var j=A&&o.getRefType(m.xref)!=="domain"?A._id:"",ee=s&&o.getRefType(m.yref)!=="domain"?s._id:"",ie=j+ee;L.setClipUrl(E,ie?"clip"+r._uid+ie:null,g)}var i=r._imageLowerLayer.selectAll("image").data(n),d=r._imageUpperLayer.selectAll("image").data(t);i.enter().append("image"),d.enter().append("image"),i.exit().remove(),d.exit().remove(),i.each(function(m){T.bind(this)(m),c.bind(this)(m)}),d.each(function(m){T.bind(this)(m),c.bind(this)(m)});var x=Object.keys(r._plots);for(u=0;u<x.length;u++){f=x[u];var w=r._plots[f];if(w.imagelayer){var _=w.imagelayer.selectAll("image").data(a[f]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(m){T.bind(this)(m),c.bind(this)(m)})}}}},7402:function(V,Y,e){V.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(V,Y,e){var p=e(25376),L=e(22548);V.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(V){V.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(V,Y,e){var p=e(24040),L=e(3400),o=e(31780),C=e(45464),S=e(3800),v=e(64859),g=e(42451);function r(t,a,n,f){var u=a[t]||{},l=o.newContainer(n,t);function y(he,ne){return L.coerce(u,l,S,he,ne)}var h=L.coerceFont(y,"font",n.font);y("bgcolor",n.paper_bgcolor),y("bordercolor");var T=y("visible");if(T){for(var c,i=function(he,ne){var q=c._input,le=c;return L.coerce(q,le,C,he,ne)},d=n.font||{},x=L.coerceFont(y,"grouptitlefont",d,{overrideDflt:{size:Math.round(d.size*1.1)}}),w=0,_=!1,m="normal",E=(n.shapes||[]).filter(function(he){return he.showlegend}),A=f.concat(E).filter(function(he){return t===(he.legend||"legend")}),s=0;s<A.length;s++)if(c=A[s],!!c.visible){var M=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(_=!0,(!M&&p.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),L.coerceFont(i,"legendgrouptitle.font",x)),(!M&&p.traceIs(c,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(m=g.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(m=g.isReversed({traceorder:m})?"reversed+grouped":"grouped")}var b=L.coerce(a,n,v,"showlegend",_&&w>(t==="legend"?1:0));if(b===!1&&(n[t]=void 0),!(b===!1&&!u.uirevision)&&(y("uirevision",n.uirevision),b!==!1)){y("borderwidth");var N=y("orientation"),k=y("yref"),H=y("xref"),F=N==="h",B=k==="paper",U=H==="paper",z,W,j,ee="left";F?(z=0,p.getComponentMethod("rangeslider","isVisible")(a.xaxis)?B?(W=1.1,j="bottom"):(W=1,j="top"):B?(W=-.1,j="top"):(W=0,j="bottom")):(W=1,j="auto",U?z=1.02:(z=1,ee="right")),L.coerce(u,l,{x:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:z}},"x"),L.coerce(u,l,{y:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:W}},"y"),y("traceorder",m),g.isGrouped(n[t])&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("indentation"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",ee),y("yanchor",j),y("valign"),L.noneOrAll(u,l,["x","y"]);var ie=y("title.text");if(ie){y("title.side",F?"left":"top");var oe=L.extendFlat({},h,{size:L.bigFont(h.size)});L.coerceFont(y,"title.font",oe)}}}}V.exports=function(a,n,f){var u,l=f.slice(),y=n.shapes;if(y)for(u=0;u<y.length;u++){var h=y[u];if(h.showlegend){var T={_input:h._input,visible:h.visible,showlegend:h.showlegend,legend:h.legend};l.push(T)}}var c=["legend"];for(u=0;u<l.length;u++)L.pushUnique(c,l[u].legend);for(n._legends=[],u=0;u<c.length;u++){var i=c[u];r(i,a,n,l),n[i]&&n[i].visible&&(n[i]._id=i),n._legends.push(i)}}},31140:function(V,Y,e){var p=e(33428),L=e(3400),o=e(7316),C=e(24040),S=e(95924),v=e(86476),g=e(43616),r=e(76308),t=e(72736),a=e(33048),n=e(65196),f=e(84284),u=f.LINE_SPACING,l=f.FROM_TL,y=f.FROM_BR,h=e(35456),T=e(2012),c=e(42451),i=1,d=/^legend[0-9]*$/;V.exports=function(W,j){if(j)w(W,j);else{var ee=W._fullLayout,ie=ee._legends,oe=ee._infolayer.selectAll('[class^="legend"]');oe.each(function(){var le=p.select(this),Q=le.attr("class"),te=Q.split(" ")[0];te.match(d)&&ie.indexOf(te)===-1&&le.remove()});for(var he=0;he<ie.length;he++){var ne=ie[he],q=W._fullLayout[ne];w(W,q)}}};function x(z,W,j){if(!(W.title.side!=="top center"&&W.title.side!=="top right")){var ee=W.title.font,ie=ee.size*u,oe=0,he=z.node(),ne=g.bBox(he).width;W.title.side==="top center"?oe=.5*(W._width-2*j-2*n.titlePad-ne):W.title.side==="top right"&&(oe=W._width-2*j-2*n.titlePad-ne),t.positionText(z,j+n.titlePad+oe,j+ie)}}function w(z,W){var j=W||{},ee=z._fullLayout,ie=U(j),oe,he,ne=j._inHover;if(ne?(he=j.layer,oe="hover"):(he=ee._infolayer,oe=ie),!!he){oe+=ee._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0);var q;if(ne){if(!j.entries)return;q=h(j.entries,j)}else{for(var le=(z.calcdata||[]).slice(),Q=ee.shapes,te=0;te<Q.length;te++){var ue=Q[te];if(ue.showlegend){var J={_isShape:!0,_fullInput:ue,index:ue._index,name:ue.name||ue.label.text||"shape "+ue._index,legend:ue.legend,legendgroup:ue.legendgroup,legendgrouptitle:ue.legendgrouptitle,legendrank:ue.legendrank,legendwidth:ue.legendwidth,showlegend:ue.showlegend,visible:ue.visible,opacity:ue.opacity,mode:ue.type==="line"?"lines":"markers",line:ue.line,marker:{line:ue.line,color:ue.fillcolor,size:12,symbol:ue.type==="rect"?"square":ue.type==="circle"?"circle":"hexagon2"}};le.push([{trace:J}])}}q=ee.showlegend&&h(le,j,ee._legends.length>1)}var K=ee.hiddenlabels||[];if(!ne&&(!ee.showlegend||!q.length))return he.selectAll("."+ie).remove(),ee._topdefs.select("#"+oe).remove(),o.autoMargin(z,ie);var ce=L.ensureSingle(he,"g",ie,function(Me){ne||Me.attr("pointer-events","all")}),ae=L.ensureSingleById(ee._topdefs,"clipPath",oe,function(Me){Me.append("rect")}),de=L.ensureSingle(ce,"rect","bg",function(Me){Me.attr("shape-rendering","crispEdges")});de.call(r.stroke,j.bordercolor).call(r.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px");var be=L.ensureSingle(ce,"g","scrollbox"),Se=j.title;j._titleWidth=0,j._titleHeight=0;var Te;Se.text?(Te=L.ensureSingle(be,"text",ie+"titletext"),Te.attr("text-anchor","start").call(g.font,Se.font).text(Se.text),M(Te,be,z,j,i)):be.selectAll("."+ie+"titletext").remove();var Ie=L.ensureSingle(ce,"rect","scrollbar",function(Me){Me.attr(n.scrollBarEnterAttrs).call(r.fill,n.scrollBarColor)}),ke=be.selectAll("g.groups").data(q);ke.enter().append("g").attr("class","groups"),ke.exit().remove();var Be=ke.selectAll("g.traces").data(L.identity);Be.enter().append("g").attr("class","traces"),Be.exit().remove(),Be.style("opacity",function(Me){var Oe=Me[0].trace;return C.traceIs(Oe,"pie-like")?K.indexOf(Me[0].label)!==-1?.5:1:Oe.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(E,z,j)}).call(T,z,j).each(function(){ne||p.select(this).call(s,z,ie)}),L.syncOrAsync([o.previousPromises,function(){return k(z,ke,Be,j)},function(){var Me=ee._size,Oe=j.borderwidth,_e=j.xref==="paper",Ne=j.yref==="paper";if(Se.text&&x(Te,j,Oe),!ne){var Ce,Ye;_e?Ce=Me.l+Me.w*j.x-l[F(j)]*j._width:Ce=ee.width*j.x-l[F(j)]*j._width,Ne?Ye=Me.t+Me.h*(1-j.y)-l[B(j)]*j._effHeight:Ye=ee.height*(1-j.y)-l[B(j)]*j._effHeight;var rt=H(z,ie,Ce,Ye);if(rt)return;if(ee.margin.autoexpand){var ot=Ce,$e=Ye;Ce=_e?L.constrain(Ce,0,ee.width-j._width):ot,Ye=Ne?L.constrain(Ye,0,ee.height-j._effHeight):$e,Ce!==ot&&L.log("Constrain "+ie+".x to make legend fit inside graph"),Ye!==$e&&L.log("Constrain "+ie+".y to make legend fit inside graph")}g.setTranslate(ce,Ce,Ye)}if(Ie.on(".drag",null),ce.on("wheel",null),ne||j._height<=j._maxHeight||z._context.staticPlot){var qe=j._effHeight;ne&&(qe=j._height),de.attr({width:j._width-Oe,height:qe-Oe,x:Oe/2,y:Oe/2}),g.setTranslate(be,0,0),ae.select("rect").attr({width:j._width-2*Oe,height:qe-2*Oe,x:Oe,y:Oe}),g.setClipUrl(be,oe,z),g.setRect(Ie,0,0,0,0),delete j._scrollY}else{var ht=Math.max(n.scrollBarMinHeight,j._effHeight*j._effHeight/j._height),vt=j._effHeight-ht-2*n.scrollBarMargin,pt=j._height-j._effHeight,wt=vt/pt,Mt=Math.min(j._scrollY||0,pt);de.attr({width:j._width-2*Oe+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-Oe,x:Oe/2,y:Oe/2}),ae.select("rect").attr({width:j._width-2*Oe+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-2*Oe,x:Oe,y:Oe+Mt}),g.setClipUrl(be,oe,z),je(Mt,ht,wt),ce.on("wheel",function(){Mt=L.constrain(j._scrollY+p.event.deltaY/vt*pt,0,pt),je(Mt,ht,wt),Mt!==0&&Mt!==pt&&p.event.preventDefault()});var nt,Fe,We,Ze=function(et,st,lt){var Wt=(lt-st)/wt+et;return L.constrain(Wt,0,pt)},Ge=function(et,st,lt){var Wt=(st-lt)/wt+et;return L.constrain(Wt,0,pt)},Pe=p.behavior.drag().on("dragstart",function(){var et=p.event.sourceEvent;et.type==="touchstart"?nt=et.changedTouches[0].clientY:nt=et.clientY,We=Mt}).on("drag",function(){var et=p.event.sourceEvent;et.buttons===2||et.ctrlKey||(et.type==="touchmove"?Fe=et.changedTouches[0].clientY:Fe=et.clientY,Mt=Ze(We,nt,Fe),je(Mt,ht,wt))});Ie.call(Pe);var Re=p.behavior.drag().on("dragstart",function(){var et=p.event.sourceEvent;et.type==="touchstart"&&(nt=et.changedTouches[0].clientY,We=Mt)}).on("drag",function(){var et=p.event.sourceEvent;et.type==="touchmove"&&(Fe=et.changedTouches[0].clientY,Mt=Ge(We,nt,Fe),je(Mt,ht,wt))});be.call(Re)}function je(et,st,lt){j._scrollY=z._fullLayout[ie]._scrollY=et,g.setTranslate(be,0,-et),g.setRect(Ie,j._width,n.scrollBarMargin+et*lt,n.scrollBarWidth,st),ae.select("rect").attr("y",Oe+et)}if(z._context.edits.legendPosition){var De,ge,we,Ue;ce.classed("cursor-move",!0),v.init({element:ce.node(),gd:z,prepFn:function(et){if(et.target!==Ie.node()){var st=g.getTranslate(ce);we=st.x,Ue=st.y}},moveFn:function(et,st){if(we!==void 0&&Ue!==void 0){var lt=we+et,Wt=Ue+st;g.setTranslate(ce,lt,Wt),De=v.align(lt,j._width,Me.l,Me.l+Me.w,j.xanchor),ge=v.align(Wt+j._height,-j._height,Me.t+Me.h,Me.t,j.yanchor)}},doneFn:function(){if(De!==void 0&&ge!==void 0){var et={};et[ie+".x"]=De,et[ie+".y"]=ge,C.call("_guiRelayout",z,et)}},clickFn:function(et,st){var lt=he.selectAll("g.traces").filter(function(){var Wt=this.getBoundingClientRect();return st.clientX>=Wt.left&&st.clientX<=Wt.right&&st.clientY>=Wt.top&&st.clientY<=Wt.bottom});lt.size()>0&&m(z,ce,lt,et,st)}})}}],z)}}function _(z,W,j){var ee=z[0],ie=ee.width,oe=W.entrywidthmode,he=ee.trace.legendwidth||W.entrywidth;return oe==="fraction"?W._maxWidth*he:j+(he||ie)}function m(z,W,j,ee,ie){var oe=j.data()[0][0].trace,he={event:ie,node:j.node(),curveNumber:oe.index,expandedIndex:oe._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};oe._group&&(he.group=oe._group),C.traceIs(oe,"pie-like")&&(he.label=j.datum()[0].label);var ne=S.triggerHandler(z,"plotly_legendclick",he);if(ee===1){if(ne===!1)return;W._clickTimeout=setTimeout(function(){z._fullLayout&&a(j,z,ee)},z._context.doubleClickDelay)}else if(ee===2){W._clickTimeout&&clearTimeout(W._clickTimeout),z._legendMouseDownTime=0;var q=S.triggerHandler(z,"plotly_legenddoubleclick",he);q!==!1&&ne!==!1&&a(j,z,ee)}}function E(z,W,j){var ee=U(j),ie=z.data()[0][0],oe=ie.trace,he=C.traceIs(oe,"pie-like"),ne=!j._inHover&&W._context.edits.legendText&&!he,q=j._maxNameLength,le,Q;ie.groupTitle?(le=ie.groupTitle.text,Q=ie.groupTitle.font):(Q=j.font,j.entries?le=ie.text:(le=he?ie.label:oe.name,oe._meta&&(le=L.templateString(le,oe._meta))));var te=L.ensureSingle(z,"text",ee+"text");te.attr("text-anchor","start").call(g.font,Q).text(ne?A(le,q):le);var ue=j.indentation+j.itemwidth+n.itemGap*2;t.positionText(te,ue,0),ne?te.call(t.makeEditable,{gd:W,text:le}).call(M,z,W,j).on("edit",function(J){this.text(A(J,q)).call(M,z,W,j);var K=ie.trace._fullInput||{},ce={};if(C.hasTransform(K,"groupby")){var ae=C.getTransformIndices(K,"groupby"),de=ae[ae.length-1],be=L.keyedContainer(K,"transforms["+de+"].styles","target","value.name");be.set(ie.trace._group,J),ce=be.constructUpdate()}else ce.name=J;return K._isShape?C.call("_guiRelayout",W,"shapes["+oe.index+"].name",ce.name):C.call("_guiRestyle",W,ce,oe.index)}):M(te,z,W,j)}function A(z,W){var j=Math.max(4,W);if(z&&z.trim().length>=j/2)return z;z=z||"";for(var ee=j-z.length;ee>0;ee--)z+=" ";return z}function s(z,W,j){var ee=W._context.doubleClickDelay,ie,oe=1,he=L.ensureSingle(z,"rect",j+"toggle",function(ne){W._context.staticPlot||ne.style("cursor","pointer").attr("pointer-events","all"),ne.call(r.fill,"rgba(0,0,0,0)")});W._context.staticPlot||(he.on("mousedown",function(){ie=new Date().getTime(),ie-W._legendMouseDownTime<ee?oe+=1:(oe=1,W._legendMouseDownTime=ie)}),he.on("mouseup",function(){if(!(W._dragged||W._editing)){var ne=W._fullLayout[j];new Date().getTime()-W._legendMouseDownTime>ee&&(oe=Math.max(oe-1,1)),m(W,ne,z,oe,p.event)}}))}function M(z,W,j,ee,ie){ee._inHover&&z.attr("data-notex",!0),t.convertToTspans(z,j,function(){b(W,j,ee,ie)})}function b(z,W,j,ee){var ie=z.data()[0][0];if(!j._inHover&&ie&&!ie.trace.showlegend){z.remove();return}var oe=z.select("g[class*=math-group]"),he=oe.node(),ne=U(j);j||(j=W._fullLayout[ne]);var q=j.borderwidth,le;ee===i?le=j.title.font:ie.groupTitle?le=ie.groupTitle.font:le=j.font;var Q=le.size*u,te,ue;if(he){var J=g.bBox(he);te=J.height,ue=J.width,ee===i?g.setTranslate(oe,q,q+te*.75):g.setTranslate(oe,0,te*.25)}else{var K="."+ne+(ee===i?"title":"")+"text",ce=z.select(K),ae=t.lineCount(ce),de=ce.node();if(te=Q*ae,ue=de?g.bBox(de).width:0,ee===i)j.title.side==="left"&&(ue+=n.itemGap*2),t.positionText(ce,q+n.titlePad,q+Q);else{var be=n.itemGap*2+j.indentation+j.itemwidth;ie.groupTitle&&(be=n.itemGap,ue-=j.indentation+j.itemwidth),t.positionText(ce,be,-Q*((ae-1)/2-.3))}}ee===i?(j._titleWidth=ue,j._titleHeight=te):(ie.lineHeight=Q,ie.height=Math.max(te,16)+3,ie.width=ue)}function N(z){var W=0,j=0,ee=z.title.side;return ee&&(ee.indexOf("left")!==-1&&(W=z._titleWidth),ee.indexOf("top")!==-1&&(j=z._titleHeight)),[W,j]}function k(z,W,j,ee){var ie=z._fullLayout,oe=U(ee);ee||(ee=ie[oe]);var he=ie._size,ne=c.isVertical(ee),q=c.isGrouped(ee),le=ee.entrywidthmode==="fraction",Q=ee.borderwidth,te=2*Q,ue=n.itemGap,J=ee.indentation+ee.itemwidth+ue*2,K=2*(Q+ue),ce=B(ee),ae=ee.y<0||ee.y===0&&ce==="top",de=ee.y>1||ee.y===1&&ce==="bottom",be=ee.tracegroupgap,Se={};ee._maxHeight=Math.max(ae||de?ie.height/2:he.h,30);var Te=0;ee._width=0,ee._height=0;var Ie=N(ee);if(ne)j.each(function(We){var Ze=We[0].height;g.setTranslate(this,Q+Ie[0],Q+Ie[1]+ee._height+Ze/2+ue),ee._height+=Ze,ee._width=Math.max(ee._width,We[0].width)}),Te=J+ee._width,ee._width+=ue+J+te,ee._height+=K,q&&(W.each(function(We,Ze){g.setTranslate(this,0,Ze*ee.tracegroupgap)}),ee._height+=(ee._lgroupsLength-1)*ee.tracegroupgap);else{var ke=F(ee),Be=ee.x<0||ee.x===0&&ke==="right",Me=ee.x>1||ee.x===1&&ke==="left",Oe=de||ae,_e=ie.width/2;ee._maxWidth=Math.max(Be?Oe&&ke==="left"?he.l+he.w:_e:Me?Oe&&ke==="right"?he.r+he.w:_e:he.w,2*J);var Ne=0,Ce=0;j.each(function(We){var Ze=_(We,ee,J);Ne=Math.max(Ne,Ze),Ce+=Ze}),Te=null;var Ye=0;if(q){var rt=0,ot=0,$e=0;W.each(function(){var We=0,Ze=0;p.select(this).selectAll("g.traces").each(function(Pe){var Re=_(Pe,ee,J),je=Pe[0].height;g.setTranslate(this,Ie[0],Ie[1]+Q+ue+je/2+Ze),Ze+=je,We=Math.max(We,Re),Se[Pe[0].trace.legendgroup]=We});var Ge=We+ue;ot>0&&Ge+Q+ot>ee._maxWidth?(Ye=Math.max(Ye,ot),ot=0,$e+=rt+be,rt=Ze):rt=Math.max(rt,Ze),g.setTranslate(this,ot,$e),ot+=Ge}),ee._width=Math.max(Ye,ot)+Q,ee._height=$e+rt+K}else{var qe=j.size(),ht=Ce+te+(qe-1)*ue<ee._maxWidth,vt=0,pt=0,wt=0,Mt=0;j.each(function(We){var Ze=We[0].height,Ge=_(We,ee,J),Pe=ht?Ge:Ne;le||(Pe+=ue),Pe+Q+pt-ue>=ee._maxWidth&&(Ye=Math.max(Ye,Mt),pt=0,wt+=vt,ee._height+=vt,vt=0),g.setTranslate(this,Ie[0]+Q+pt,Ie[1]+Q+wt+Ze/2+ue),Mt=pt+Ge+ue,pt+=Pe,vt=Math.max(vt,Ze)}),ht?(ee._width=pt+te,ee._height=vt+K):(ee._width=Math.max(Ye,Mt)+te,ee._height+=vt+K)}}ee._width=Math.ceil(Math.max(ee._width+Ie[0],ee._titleWidth+2*(Q+n.titlePad))),ee._height=Math.ceil(Math.max(ee._height+Ie[1],ee._titleHeight+2*(Q+n.itemGap))),ee._effHeight=Math.min(ee._height,ee._maxHeight);var nt=z._context.edits,Fe=nt.legendText||nt.legendPosition;j.each(function(We){var Ze=p.select(this).select("."+oe+"toggle"),Ge=We[0].height,Pe=We[0].trace.legendgroup,Re=_(We,ee,J);q&&Pe!==""&&(Re=Se[Pe]);var je=Fe?J:Te||Re;!ne&&!le&&(je+=ue/2),g.setRect(Ze,0,-Ge/2,je,Ge)})}function H(z,W,j,ee){var ie=z._fullLayout,oe=ie[W],he=F(oe),ne=B(oe),q=oe.xref==="paper",le=oe.yref==="paper";z._fullLayout._reservedMargin[W]={};var Q=oe.y<.5?"b":"t",te=oe.x<.5?"l":"r",ue={r:ie.width-j,l:j+oe._width,b:ie.height-ee,t:ee+oe._effHeight};if(q&&le)return o.autoMargin(z,W,{x:oe.x,y:oe.y,l:oe._width*l[he],r:oe._width*y[he],b:oe._effHeight*y[ne],t:oe._effHeight*l[ne]});q?z._fullLayout._reservedMargin[W][Q]=ue[Q]:le||oe.orientation==="v"?z._fullLayout._reservedMargin[W][te]=ue[te]:z._fullLayout._reservedMargin[W][Q]=ue[Q]}function F(z){return L.isRightAnchor(z)?"right":L.isCenterAnchor(z)?"center":"left"}function B(z){return L.isBottomAnchor(z)?"bottom":L.isMiddleAnchor(z)?"middle":"top"}function U(z){return z._id||"legend"}},35456:function(V,Y,e){var p=e(24040),L=e(42451);V.exports=function(C,S,v){var g=S._inHover,r=L.isGrouped(S),t=L.isReversed(S),a={},n=[],f=!1,u={},l=0,y=0,h,T;function c(z,W,j){if(S.visible!==!1&&!(v&&z!==S._id))if(W===""||!L.isGrouped(S)){var ee="~~i"+l;n.push(ee),a[ee]=[j],l++}else n.indexOf(W)===-1?(n.push(W),f=!0,a[W]=[j]):a[W].push(j)}for(h=0;h<C.length;h++){var i=C[h],d=i[0],x=d.trace,w=x.legend,_=x.legendgroup;if(!(!g&&(!x.visible||!x.showlegend)))if(p.traceIs(x,"pie-like"))for(u[_]||(u[_]={}),T=0;T<i.length;T++){var m=i[T].label;u[_][m]||(c(w,_,{label:m,color:i[T].color,i:i[T].i,trace:x,pts:i[T].pts}),u[_][m]=!0,y=Math.max(y,(m||"").length))}else c(w,_,d),y=Math.max(y,(x.name||"").length)}if(!n.length)return[];var E=!f||!r,A=[];for(h=0;h<n.length;h++){var s=a[n[h]];E?A.push(s[0]):A.push(s)}for(E&&(A=[A]),h=0;h<A.length;h++){var M=1/0;for(T=0;T<A[h].length;T++){var b=A[h][T].trace.legendrank;M>b&&(M=b)}A[h][0]._groupMinRank=M,A[h][0]._preGroupSort=h}var N=function(z,W){return z[0]._groupMinRank-W[0]._groupMinRank||z[0]._preGroupSort-W[0]._preGroupSort},k=function(z,W){return z.trace.legendrank-W.trace.legendrank||z._preSort-W._preSort};for(A.forEach(function(z,W){z[0]._preGroupSort=W}),A.sort(N),h=0;h<A.length;h++){A[h].forEach(function(z,W){z._preSort=W}),A[h].sort(k);var H=A[h][0].trace,F=null;for(T=0;T<A[h].length;T++){var B=A[h][T].trace.legendgrouptitle;if(B&&B.text){F=B,g&&(B.font=S._groupTitleFont);break}}if(t&&A[h].reverse(),F){var U=!1;for(T=0;T<A[h].length;T++)if(p.traceIs(A[h][T].trace,"pie-like")){U=!0;break}A[h].unshift({i:-1,groupTitle:F,noClick:U,trace:{showlegend:H.showlegend,legendgroup:H.legendgroup,visible:S.groupclick==="toggleitem"?!0:H.visible}})}for(T=0;T<A[h].length;T++)A[h][T]=[A[h][T]]}return S._lgroupsLength=A.length,S._maxNameLength=y,A}},33048:function(V,Y,e){var p=e(24040),L=e(3400),o=L.pushUnique,C=!0;V.exports=function(v,g,r){var t=g._fullLayout;if(g._dragged||g._editing)return;var a=t.legend.itemclick,n=t.legend.itemdoubleclick,f=t.legend.groupclick;r===1&&a==="toggle"&&n==="toggleothers"&&C&&g.data&&g._context.showTips&&L.notifier(L._(g,"Double-click on legend to isolate one trace"),"long"),C=!1;var u;if(r===1?u=a:r===2&&(u=n),!u)return;var l=f==="togglegroup",y=t.hiddenlabels?t.hiddenlabels.slice():[],h=v.data()[0][0];if(h.groupTitle&&h.noClick)return;var T=g._fullData,c=(t.shapes||[]).filter(function(_e){return _e.showlegend}),i=T.concat(c),d=h.trace;d._isShape&&(d=d._fullInput);var x=d.legendgroup,w,_,m,E,A,s,M={},b=[],N=[],k=[];function H(_e,Ne){var Ce=b.indexOf(_e),Ye=M.visible;return Ye||(Ye=M.visible=[]),b.indexOf(_e)===-1&&(b.push(_e),Ce=b.length-1),Ye[Ce]=Ne,Ce}var F=(t.shapes||[]).map(function(_e){return _e._input}),B=!1;function U(_e,Ne){F[_e].visible=Ne,B=!0}function z(_e,Ne){if(!(h.groupTitle&&!l)){var Ce=_e._fullInput||_e,Ye=Ce._isShape,rt=Ce.index;if(rt===void 0&&(rt=Ce._index),p.hasTransform(Ce,"groupby")){var ot=N[rt];if(!ot){var $e=p.getTransformIndices(Ce,"groupby"),qe=$e[$e.length-1];ot=L.keyedContainer(Ce,"transforms["+qe+"].styles","target","value.visible"),N[rt]=ot}var ht=ot.get(_e._group);ht===void 0&&(ht=!0),ht!==!1&&ot.set(_e._group,Ne),k[rt]=H(rt,Ce.visible!==!1)}else{var vt=Ce.visible===!1?!1:Ne;Ye?U(rt,vt):H(rt,vt)}}}var W=d.legend,j=d._fullInput,ee=j&&j._isShape;if(!ee&&p.traceIs(d,"pie-like")){var ie=h.label,oe=y.indexOf(ie);if(u==="toggle")oe===-1?y.push(ie):y.splice(oe,1);else if(u==="toggleothers"){var he=oe!==-1,ne=[];for(w=0;w<g.calcdata.length;w++){var q=g.calcdata[w];for(_=0;_<q.length;_++){var le=q[_],Q=le.label;W===q[0].trace.legend&&ie!==Q&&(y.indexOf(Q)===-1&&(he=!0),o(y,Q),ne.push(Q))}}if(!he)for(var te=0;te<ne.length;te++){var ue=y.indexOf(ne[te]);ue!==-1&&y.splice(ue,1)}}p.call("_guiRelayout",g,"hiddenlabels",y)}else{var J=x&&x.length,K=[],ce;if(J)for(w=0;w<i.length;w++)ce=i[w],ce.visible&&ce.legendgroup===x&&K.push(w);if(u==="toggle"){var ae;switch(d.visible){case!0:ae="legendonly";break;case!1:ae=!1;break;case"legendonly":ae=!0;break}if(J)if(l)for(w=0;w<i.length;w++){var de=i[w];de.visible!==!1&&de.legendgroup===x&&z(de,ae)}else z(d,ae);else z(d,ae)}else if(u==="toggleothers"){var be,Se,Te,Ie,ke,Be=!0;for(w=0;w<i.length;w++)if(ke=i[w],be=ke===d,Te=ke.showlegend!==!0,!(be||Te)&&(Se=J&&ke.legendgroup===x,!Se&&ke.legend===W&&ke.visible===!0&&!p.traceIs(ke,"notLegendIsolatable"))){Be=!1;break}for(w=0;w<i.length;w++)if(ke=i[w],!(ke.visible===!1||ke.legend!==W)&&!p.traceIs(ke,"notLegendIsolatable"))switch(d.visible){case"legendonly":z(ke,!0);break;case!0:Ie=Be?!0:"legendonly",be=ke===d,Te=ke.showlegend!==!0&&!ke.legendgroup,Se=be||J&&ke.legendgroup===x,z(ke,Se||Te?!0:Ie);break}}for(w=0;w<N.length;w++)if(m=N[w],!!m){var Me=m.constructUpdate(),Oe=Object.keys(Me);for(_=0;_<Oe.length;_++)E=Oe[_],s=M[E]=M[E]||[],s[k[w]]=Me[E]}for(A=Object.keys(M),w=0;w<A.length;w++)for(E=A[w],_=0;_<b.length;_++)M[E].hasOwnProperty(_)||(M[E][_]=void 0);B?p.call("_guiUpdate",g,M,{shapes:F},b):p.call("_guiRestyle",g,M,b)}}},42451:function(V,Y){Y.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},Y.isVertical=function(p){return p.orientation!=="h"},Y.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2780:function(V,Y,e){V.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(V,Y,e){var p=e(33428),L=e(24040),o=e(3400),C=o.strTranslate,S=e(43616),v=e(76308),g=e(94288).extractOpts,r=e(43028),t=e(10528),a=e(69656).castOption,n=e(65196),f=12,u=5,l=2,y=10,h=5;V.exports=function(x,w,_){var m=w._fullLayout;_||(_=m.legend);var E=_.itemsizing==="constant",A=_.itemwidth,s=(A+n.itemGap*2)/2,M=C(s,0),b=function(ne,q,le,Q){var te;if(ne+1)te=ne;else if(q&&q.width>0)te=q.width;else return 0;return E?Q:Math.min(te,le)};x.each(function(ne){var q=p.select(this),le=o.ensureSingle(q,"g","layers");le.style("opacity",ne[0].trace.opacity);var Q=_.indentation,te=_.valign,ue=ne[0].lineHeight,J=ne[0].height;if(te==="middle"&&Q===0||!ue||!J)le.attr("transform",null);else{var K={top:1,bottom:-1}[te],ce=K*(.5*(ue-J+3))||0,ae=_.indentation;le.attr("transform",C(ae,ce))}var de=le.selectAll("g.legendfill").data([ne]);de.enter().append("g").classed("legendfill",!0);var be=le.selectAll("g.legendlines").data([ne]);be.enter().append("g").classed("legendlines",!0);var Se=le.selectAll("g.legendsymbols").data([ne]);Se.enter().append("g").classed("legendsymbols",!0),Se.selectAll("g.legendpoints").data([ne]).enter().append("g").classed("legendpoints",!0)}).each(he).each(H).each(B).each(F).each(z).each(ie).each(ee).each(N).each(k).each(W).each(j);function N(ne){var q=c(ne),le=q.showFill,Q=q.showLine,te=q.showGradientLine,ue=q.showGradientFill,J=q.anyFill,K=q.anyLine,ce=ne[0],ae=ce.trace,de,be,Se=g(ae),Te=Se.colorscale,Ie=Se.reversescale,ke=function(Ye){if(Ye.size())if(le)S.fillGroupStyle(Ye,w,!0);else{var rt="legendfill-"+ae.uid;S.gradient(Ye,w,rt,T(Ie),Te,"fill")}},Be=function(Ye){if(Ye.size()){var rt="legendline-"+ae.uid;S.lineGroupStyle(Ye),S.gradient(Ye,w,rt,T(Ie),Te,"stroke")}},Me=r.hasMarkers(ae)||!J?"M5,0":K?"M5,-2":"M5,-3",Oe=p.select(this),_e=Oe.select(".legendfill").selectAll("path").data(le||ue?[ne]:[]);if(_e.enter().append("path").classed("js-fill",!0),_e.exit().remove(),_e.attr("d",Me+"h"+A+"v6h-"+A+"z").call(ke),Q||te){var Ne=b(void 0,ae.line,y,u);be=o.minExtend(ae,{line:{width:Ne}}),de=[o.minExtend(ce,{trace:be})]}var Ce=Oe.select(".legendlines").selectAll("path").data(Q||te?[de]:[]);Ce.enter().append("path").classed("js-line",!0),Ce.exit().remove(),Ce.attr("d",Me+(te?"l"+A+",0.0001":"h"+A)).call(Q?S.lineGroupStyle:Be)}function k(ne){var q=c(ne),le=q.anyFill,Q=q.anyLine,te=q.showLine,ue=q.showMarker,J=ne[0],K=J.trace,ce=!ue&&!Q&&!le&&r.hasText(K),ae,de;function be(_e,Ne,Ce,Ye){var rt=o.nestedProperty(K,_e).get(),ot=o.isArrayOrTypedArray(rt)&&Ne?Ne(rt):rt;if(E&&ot&&Ye!==void 0&&(ot=Ye),Ce){if(ot<Ce[0])return Ce[0];if(ot>Ce[1])return Ce[1]}return ot}function Se(_e){return J._distinct&&J.index&&_e[J.index]?_e[J.index]:_e[0]}if(ue||ce||te){var Te={},Ie={};if(ue){Te.mc=be("marker.color",Se),Te.mx=be("marker.symbol",Se),Te.mo=be("marker.opacity",o.mean,[.2,1]),Te.mlc=be("marker.line.color",Se),Te.mlw=be("marker.line.width",o.mean,[0,5],l),Ie.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ke=be("marker.size",o.mean,[2,16],f);Te.ms=ke,Ie.marker.size=ke}te&&(Ie.line={width:be("line.width",Se,[0,10],u)}),ce&&(Te.tx="Aa",Te.tp=be("textposition",Se),Te.ts=10,Te.tc=be("textfont.color",Se),Te.tf=be("textfont.family",Se),Te.tw=be("textfont.weight",Se),Te.ty=be("textfont.style",Se),Te.tv=be("textfont.variant",Se),Te.tC=be("textfont.textcase",Se),Te.tE=be("textfont.lineposition",Se),Te.tS=be("textfont.shadow",Se)),ae=[o.minExtend(J,Te)],de=o.minExtend(K,Ie),de.selectedpoints=null,de.texttemplate=null}var Be=p.select(this).select("g.legendpoints"),Me=Be.selectAll("path.scatterpts").data(ue?ae:[]);Me.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",M),Me.exit().remove(),Me.call(S.pointStyle,de,w),ue&&(ae[0].mrc=3);var Oe=Be.selectAll("g.pointtext").data(ce?ae:[]);Oe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",M),Oe.exit().remove(),Oe.selectAll("text").call(S.textPointStyle,de,w)}function H(ne){var q=ne[0].trace,le=q.type==="waterfall";if(ne[0]._distinct&&le){var Q=ne[0].trace[ne[0].dir].marker;return ne[0].mc=Q.color,ne[0].mlw=Q.line.width,ne[0].mlc=Q.line.color,U(ne,this,"waterfall")}var te=[];q.visible&&le&&(te=ne[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ue=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(te);ue.enter().append("path").classed("legendwaterfall",!0).attr("transform",M).style("stroke-miterlimit",1),ue.exit().remove(),ue.each(function(J){var K=p.select(this),ce=q[J[0]].marker,ae=b(void 0,ce.line,h,l);K.attr("d",J[1]).style("stroke-width",ae+"px").call(v.fill,ce.color),ae&&K.call(v.stroke,ce.line.color)})}function F(ne){U(ne,this)}function B(ne){U(ne,this,"funnel")}function U(ne,q,le){var Q=ne[0].trace,te=Q.marker||{},ue=te.line||{},J=te.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",K=le?Q.visible&&Q.type===le:L.traceIs(Q,"bar"),ce=p.select(q).select("g.legendpoints").selectAll("path.legend"+le).data(K?[ne]:[]);ce.enter().append("path").classed("legend"+le,!0).attr("d",J).attr("transform",M),ce.exit().remove(),ce.each(function(ae){var de=p.select(this),be=ae[0],Se=b(be.mlw,te.line,h,l);de.style("stroke-width",Se+"px");var Te=be.mcc;if(!_._inHover&&"mc"in be){var Ie=g(te),ke=Ie.mid;ke===void 0&&(ke=(Ie.max+Ie.min)/2),Te=S.tryColorscale(te,"")(ke)}var Be=Te||be.mc||te.color,Me=te.pattern,Oe=Me&&S.getPatternAttr(Me.shape,0,"");if(Oe){var _e=S.getPatternAttr(Me.bgcolor,0,null),Ne=S.getPatternAttr(Me.fgcolor,0,null),Ce=Me.fgopacity,Ye=i(Me.size,8,10),rt=i(Me.solidity,.5,1),ot="legend-"+Q.uid;de.call(S.pattern,"legend",w,ot,Oe,Ye,rt,Te,Me.fillmode,_e,Ne,Ce)}else de.call(v.fill,Be);Se&&v.stroke(de,be.mlc||ue.color)})}function z(ne){var q=ne[0].trace,le=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(q.visible&&L.traceIs(q,"box-violin")?[ne]:[]);le.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",M),le.exit().remove(),le.each(function(){var Q=p.select(this);if((q.boxpoints==="all"||q.points==="all")&&v.opacity(q.fillcolor)===0&&v.opacity((q.line||{}).color)===0){var te=o.minExtend(q,{marker:{size:E?f:o.constrain(q.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});le.call(S.pointStyle,te,w)}else{var ue=b(void 0,q.line,h,l);Q.style("stroke-width",ue+"px").call(v.fill,q.fillcolor),ue&&v.stroke(Q,q.line.color)}})}function W(ne){var q=ne[0].trace,le=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(q.visible&&q.type==="candlestick"?[ne,ne]:[]);le.enter().append("path").classed("legendcandle",!0).attr("d",function(Q,te){return te?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",M).style("stroke-miterlimit",1),le.exit().remove(),le.each(function(Q,te){var ue=p.select(this),J=q[te?"increasing":"decreasing"],K=b(void 0,J.line,h,l);ue.style("stroke-width",K+"px").call(v.fill,J.fillcolor),K&&v.stroke(ue,J.line.color)})}function j(ne){var q=ne[0].trace,le=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(q.visible&&q.type==="ohlc"?[ne,ne]:[]);le.enter().append("path").classed("legendohlc",!0).attr("d",function(Q,te){return te?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",M).style("stroke-miterlimit",1),le.exit().remove(),le.each(function(Q,te){var ue=p.select(this),J=q[te?"increasing":"decreasing"],K=b(void 0,J.line,h,l);ue.style("fill","none").call(S.dashLine,J.line.dash,K),K&&v.stroke(ue,J.line.color)})}function ee(ne){oe(ne,this,"pie")}function ie(ne){oe(ne,this,"funnelarea")}function oe(ne,q,le){var Q=ne[0],te=Q.trace,ue=le?te.visible&&te.type===le:L.traceIs(te,le),J=p.select(q).select("g.legendpoints").selectAll("path.legend"+le).data(ue?[ne]:[]);if(J.enter().append("path").classed("legend"+le,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",M),J.exit().remove(),J.size()){var K=te.marker||{},ce=b(a(K.line.width,Q.pts),K.line,h,l),ae="pieLike",de=o.minExtend(te,{marker:{line:{width:ce}}},ae),be=o.minExtend(Q,{trace:de},ae);t(J,be,de,w)}}function he(ne){var q=ne[0].trace,le,Q=[];if(q.visible)switch(q.type){case"histogram2d":case"heatmap":Q=[["M-15,-2V4H15V-2Z"]],le=!0;break;case"choropleth":case"choroplethmapbox":Q=[["M-6,-6V6H6V-6Z"]],le=!0;break;case"densitymapbox":Q=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],le="radial";break;case"cone":Q=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],le=!1;break;case"streamtube":Q=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],le=!1;break;case"surface":Q=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],le=!0;break;case"mesh3d":Q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],le=!1;break;case"volume":Q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],le=!0;break;case"isosurface":Q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],le=!1;break}var te=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Q);te.enter().append("path").classed("legend3dandfriends",!0).attr("transform",M).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(ue,J){var K=p.select(this),ce=g(q),ae=ce.colorscale,de=ce.reversescale,be=function(ke){if(ke.size()){var Be="legendfill-"+q.uid;S.gradient(ke,w,Be,T(de,le==="radial"),ae,"fill")}},Se;if(ae){if(!le){var Ie=ae.length;Se=J===0?ae[de?Ie-1:0][1]:J===1?ae[de?0:Ie-1][1]:ae[Math.floor((Ie-1)/2)][1]}}else{var Te=q.vertexcolor||q.facecolor||q.color;Se=o.isArrayOrTypedArray(Te)?Te[J]||Te[0]:Te}K.attr("d",ue[0]),Se?K.call(v.fill,Se):K.call(be)})}};function T(d,x){var w=x?"radial":"horizontal";return w+(d?"":"reversed")}function c(d){var x=d[0].trace,w=x.contours,_=r.hasLines(x),m=r.hasMarkers(x),E=x.visible&&x.fill&&x.fill!=="none",A=!1,s=!1;if(w){var M=w.coloring;M==="lines"?A=!0:_=M==="none"||M==="heatmap"||w.showlines,w.type==="constraint"?E=w._operation!=="=":(M==="fill"||M==="heatmap")&&(s=!0)}return{showMarker:m,showLine:_,showFill:E,showGradientLine:A,showGradientFill:s,anyLine:_||A,anyFill:E||s}}function i(d,x,w){return d&&o.isArrayOrTypedArray(d)?x:d>w?w:d}},66540:function(V,Y,e){e(76052),V.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(V,Y,e){var p=e(24040),L=e(7316),o=e(79811),C=e(9224),S=e(4016).eraseActiveShape,v=e(3400),g=v._,r=V.exports={};r.toImage={name:"toImage",title:function(d){var x=d._context.toImageButtonOptions||{},w=x.format||"png";return w==="png"?g(d,"Download plot as a png"):g(d,"Download plot")},icon:C.camera,click:function(d){var x=d._context.toImageButtonOptions,w={format:x.format||"png"};v.notifier(g(d,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&v.isIE()&&(v.notifier(g(d,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(_){_ in x&&(w[_]=x[_])}),p.call("downloadImage",d,w).then(function(_){v.notifier(g(d,"Snapshot succeeded")+" - "+_,"long")}).catch(function(){v.notifier(g(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(d){return g(d,"Edit in Chart Studio")},icon:C.disk,click:function(d){L.sendDataToCloud(d)}},r.editInChartStudio={name:"editInChartStudio",title:function(d){return g(d,"Edit in Chart Studio")},icon:C.pencil,click:function(d){L.sendDataToCloud(d)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(d){return g(d,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return g(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(d){return g(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(d){return g(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:t},r.drawline={name:"drawline",title:function(d){return g(d,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:t},r.drawrect={name:"drawrect",title:function(d){return g(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(d){return g(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(d){return g(d,"Erase active shape")},icon:C.eraseshape,click:S},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return g(d,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return g(d,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return g(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return g(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:t};function t(d,x){var w=x.currentTarget,_=w.getAttribute("data-attr"),m=w.getAttribute("data-val")||!0,E=d._fullLayout,A={},s=o.list(d,null,!0),M=E._cartesianSpikesEnabled,b,N;if(_==="zoom"){var k=m==="in"?.5:2,H=(1+k)/2,F=(1-k)/2,B;for(N=0;N<s.length;N++)if(b=s[N],!b.fixedrange)if(B=b._name,m==="auto")A[B+".autorange"]=!0;else if(m==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?A[B+".autorange"]=!0:b._rangeInitial0===void 0?(A[B+".autorange"]=b._autorangeInitial,A[B+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(A[B+".range"]=[b._rangeInitial0,null],A[B+".autorange"]=b._autorangeInitial):A[B+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(A[B+".showspikes"]=b._showSpikeInitial,M==="on"&&!b._showSpikeInitial&&(M="off"));else{var U=[b.r2l(b.range[0]),b.r2l(b.range[1])],z=[H*U[0]+F*U[1],H*U[1]+F*U[0]];A[B+".range[0]"]=b.l2r(z[0]),A[B+".range[1]"]=b.l2r(z[1])}}else _==="hovermode"&&(m==="x"||m==="y")&&(m=E._isHoriz?"y":"x",w.setAttribute("data-val",m)),A[_]=m;E._cartesianSpikesEnabled=M,p.call("_guiRelayout",d,A)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:a},r.pan3d={name:"pan3d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:a},r.orbitRotation={name:"orbitRotation",title:function(d){return g(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:a},r.tableRotation={name:"tableRotation",title:function(d){return g(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:a};function a(d,x){for(var w=x.currentTarget,_=w.getAttribute("data-attr"),m=w.getAttribute("data-val")||!0,E=d._fullLayout._subplots.gl3d||[],A={},s=_.split("."),M=0;M<E.length;M++)A[E[M]+"."+s[1]]=m;var b=m==="pan"?m:"zoom";A.dragmode=b,p.call("_guiRelayout",d,A)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return g(d,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:n},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return g(d,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:n};function n(d,x){for(var w=x.currentTarget,_=w.getAttribute("data-attr"),m=_==="resetLastSave",E=_==="resetDefault",A=d._fullLayout,s=A._subplots.gl3d||[],M={},b=0;b<s.length;b++){var N=s[b],k=N+".camera",H=N+".aspectratio",F=N+".aspectmode",B=A[N]._scene,U;m?(M[k+".up"]=B.viewInitial.up,M[k+".eye"]=B.viewInitial.eye,M[k+".center"]=B.viewInitial.center,U=!0):E&&(M[k+".up"]=null,M[k+".eye"]=null,M[k+".center"]=null,U=!0),U&&(M[H+".x"]=B.viewInitial.aspectratio.x,M[H+".y"]=B.viewInitial.aspectratio.y,M[H+".z"]=B.viewInitial.aspectratio.z,M[F]=B.viewInitial.aspectmode)}p.call("_guiRelayout",d,M)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:u};function f(d,x){var w=x.currentTarget,_=w._previousVal,m=d._fullLayout,E=m._subplots.gl3d||[],A=["xaxis","yaxis","zaxis"],s={},M={};if(_)M=_,w._previousVal=null;else{for(var b=0;b<E.length;b++){var N=E[b],k=m[N],H=N+".hovermode";s[H]=k.hovermode,M[H]=!1;for(var F=0;F<3;F++){var B=A[F],U=N+"."+B+".showspikes";M[U]=!1,s[U]=k[B].showspikes}}w._previousVal=s}return M}function u(d,x){var w=f(d,x);p.call("_guiRelayout",d,w)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:l},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:l},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return g(d,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:l},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h};function l(d,x){for(var w=x.currentTarget,_=w.getAttribute("data-attr"),m=w.getAttribute("data-val")||!0,E=d._fullLayout,A=E._subplots.geo||[],s=0;s<A.length;s++){var M=A[s],b=E[M];if(_==="zoom"){var N=b.projection.scale,k=m==="in"?2*N:.5*N;p.call("_guiRelayout",d,M+".projection.scale",k)}}_==="reset"&&i(d,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:h},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:h};function y(d){var x=d._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function h(d){var x=y(d);p.call("_guiRelayout",d,"hovermode",x)}r.resetViewSankey={name:"resetSankeyGroup",title:function(d){return g(d,"Reset view")},icon:C.home,click:function(d){for(var x={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<d._fullData.length;w++){var _=d._fullData[w]._viewInitial;x["node.groups"].push(_.node.groups.slice()),x["node.x"].push(_.node.x.slice()),x["node.y"].push(_.node.y.slice())}p.call("restyle",d,x)}},r.toggleHover={name:"toggleHover",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(d,x){var w=f(d,x);w.hovermode=y(d),p.call("_guiRelayout",d,w)}},r.resetViews={name:"resetViews",title:function(d){return g(d,"Reset views")},icon:C.home,click:function(d,x){var w=x.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(d,x),w.setAttribute("data-attr","resetLastSave"),n(d,x),i(d,"geo"),i(d,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(d){return g(d,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var x=d._fullLayout,w=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=w==="on"?"off":"on",p.call("_guiRelayout",d,T(d))}};function T(d){for(var x=d._fullLayout,w=x._cartesianSpikesEnabled==="on",_=o.list(d,null,!0),m={},E=0;E<_.length;E++){var A=_[E];m[A._name+".showspikes"]=w?!0:A._showSpikeInitial}return m}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return g(d,"Reset view")},attr:"reset",icon:C.home,click:function(d){i(d,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:c},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:c};function c(d,x){for(var w=x.currentTarget,_=w.getAttribute("data-val"),m=d._fullLayout,E=m._subplots.mapbox||[],A=1.05,s={},M=0;M<E.length;M++){var b=E[M],N=m[b].zoom,k=_==="in"?A*N:N/A;s[b+".zoom"]=k}p.call("_guiRelayout",d,s)}function i(d,x){for(var w=d._fullLayout,_=w._subplots[x]||[],m={},E=0;E<_.length;E++)for(var A=_[E],s=w[A]._subplot,M=s.viewInitial,b=Object.keys(M),N=0;N<b.length;N++){var k=b[N];m[A+"."+k]=M[k]}p.call("_guiRelayout",d,m)}},76052:function(V,Y,e){var p=e(44248),L=Object.keys(p),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),S=[],v=function(g){if(C.indexOf(g._cat||g.name)===-1){var r=g.name,t=(g._cat||g.name).toLowerCase();S.indexOf(r)===-1&&S.push(r),S.indexOf(t)===-1&&S.push(t)}};L.forEach(function(g){v(p[g])}),S.sort(),V.exports={DRAW_MODES:o,backButtons:C,foreButtons:S}},90824:function(V,Y,e){var p=e(3400),L=e(76308),o=e(31780),C=e(66540);V.exports=function(v,g){var r=v.modebar||{},t=o.newContainer(g,"modebar");function a(f,u){return p.coerce(r,t,C,f,u)}a("orientation"),a("bgcolor",L.addOpacity(g.paper_bgcolor,.5));var n=L.contrast(L.rgb(g.modebar.bgcolor));a("color",L.addOpacity(n,.3)),a("activecolor",L.addOpacity(n,.7)),a("uirevision",g.uirevision),a("add"),a("remove")}},45460:function(V,Y,e){V.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(V,Y,e){var p=e(79811),L=e(43028),o=e(24040),C=e(10624).isUnifiedHover,S=e(66400),v=e(44248),g=e(76052).DRAW_MODES,r=e(3400).extendDeep;V.exports=function(h){var T=h._fullLayout,c=h._context,i=T._modeBar;if(!c.displayModeBar&&!c.watermark){i&&(i.destroy(),delete T._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=c.modeBarButtons,x;Array.isArray(d)&&d.length?x=l(d):!c.displayModeBar&&c.watermark?x=[]:x=t(h),i?i.update(h,x):T._modeBar=S(h,x)};function t(y){var h=y._fullLayout,T=y._fullData,c=y._context;function i(J,K){if(typeof K=="string"){if(K.toLowerCase()===J.toLowerCase())return!0}else{var ce=K.name,ae=K._cat||K.name;if(ce===J||ae===J.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var x=h.modebar.remove;typeof x=="string"&&(x=[x]);var w=c.modeBarButtonsToAdd.concat(d.filter(function(J){for(var K=0;K<c.modeBarButtonsToRemove.length;K++)if(i(J,c.modeBarButtonsToRemove[K]))return!1;return!0})),_=c.modeBarButtonsToRemove.concat(x.filter(function(J){for(var K=0;K<c.modeBarButtonsToAdd.length;K++)if(i(J,c.modeBarButtonsToAdd[K]))return!1;return!0})),m=h._has("cartesian"),E=h._has("gl3d"),A=h._has("geo"),s=h._has("pie"),M=h._has("funnelarea"),b=h._has("gl2d"),N=h._has("ternary"),k=h._has("mapbox"),H=h._has("polar"),F=h._has("smith"),B=h._has("sankey"),U=a(h),z=C(h.hovermode),W=[];function j(J){if(J.length){for(var K=[],ce=0;ce<J.length;ce++){for(var ae=J[ce],de=v[ae],be=de.name.toLowerCase(),Se=(de._cat||de.name).toLowerCase(),Te=!1,Ie=0;Ie<_.length;Ie++){var ke=_[Ie].toLowerCase();if(ke===be||ke===Se){Te=!0;break}}Te||K.push(v[ae])}W.push(K)}}var ee=["toImage"];c.showEditInChartStudio?ee.push("editInChartStudio"):c.showSendToCloud&&ee.push("sendDataToCloud"),j(ee);var ie=[],oe=[],he=[],ne=[];(m||b||s||M||N)+A+E+k+H+F>1?(oe=["toggleHover"],he=["resetViews"]):A?(ie=["zoomInGeo","zoomOutGeo"],oe=["hoverClosestGeo"],he=["resetGeo"]):E?(oe=["hoverClosest3d"],he=["resetCameraDefault3d","resetCameraLastSave3d"]):k?(ie=["zoomInMapbox","zoomOutMapbox"],oe=["toggleHover"],he=["resetViewMapbox"]):b?oe=["hoverClosestGl2d"]:s?oe=["hoverClosestPie"]:B?(oe=["hoverClosestCartesian","hoverCompareCartesian"],he=["resetViewSankey"]):oe=["toggleHover"],m&&(oe=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(f(T)||z)&&(oe=[]),(m||b)&&!U&&(ie=["zoomIn2d","zoomOut2d","autoScale2d"],he[0]!=="resetViews"&&(he=["resetScale2d"])),E?ne=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||b)&&!U||N?ne=["zoom2d","pan2d"]:k||A?ne=["pan2d"]:H&&(ne=["zoom2d"]),n(T)&&ne.push("select2d","lasso2d");var q=[],le=function(J){q.indexOf(J)===-1&&oe.indexOf(J)!==-1&&q.push(J)};if(Array.isArray(w)){for(var Q=[],te=0;te<w.length;te++){var ue=w[te];typeof ue=="string"?(ue=ue.toLowerCase(),g.indexOf(ue)!==-1?(h._has("mapbox")||h._has("cartesian"))&&ne.push(ue):ue==="togglespikelines"?le("toggleSpikelines"):ue==="togglehover"?le("toggleHover"):ue==="hovercompare"?le("hoverCompareCartesian"):ue==="hoverclosest"?(le("hoverClosestCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie")):ue==="v1hovermode"&&(le("toggleHover"),le("hoverClosestCartesian"),le("hoverCompareCartesian"),le("hoverClosestGeo"),le("hoverClosest3d"),le("hoverClosestGl2d"),le("hoverClosestPie"))):Q.push(ue)}w=Q}return j(ne),j(ie.concat(he)),j(q),u(W,w)}function a(y){for(var h=p.list({_fullLayout:y},null,!0),T=0;T<h.length;T++)if(!h[T].fixedrange)return!1;return!0}function n(y){for(var h=!1,T=0;T<y.length&&!h;T++){var c=y[T];!c._module||!c._module.selectPoints||(o.traceIs(c,"scatter-like")?(L.hasMarkers(c)||L.hasText(c))&&(h=!0):o.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(h=!0):h=!0)}return h}function f(y){for(var h=0;h<y.length;h++)if(!o.traceIs(y[h],"noHover"))return!1;return!0}function u(y,h){if(h.length)if(Array.isArray(h[0]))for(var T=0;T<h.length;T++)y.push(h[T]);else y.push(h);return y}function l(y){for(var h=r([],y),T=0;T<h.length;T++)for(var c=h[T],i=0;i<c.length;i++){var d=c[i];if(typeof d=="string")if(v[d]!==void 0)h[T][i]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},66400:function(V,Y,e){var p=e(33428),L=e(38248),o=e(3400),C=e(9224),S=e(25788).version,v=new DOMParser;function g(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var r=g.prototype;r.update=function(n,f){this.graphInfo=n;var u=this.graphInfo._context,l=this.graphInfo._fullLayout,y="modebar-"+l._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",f=f.reverse());var h=l.modebar,T=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(y),o.addRelatedStyleRule(y,T+"#"+y+" .modebar-group","background-color: "+h.bgcolor),o.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+h.color),o.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+h.activecolor),o.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+h.activecolor);var c=!this.hasButtons(f),i=this.hasLogo!==u.displaylogo,d=this.locale!==u.locale;if(this.locale=u.locale,(c||i||d)&&(this.removeAllButtons(),this.updateButtons(f),u.watermark||u.displaylogo)){var x=this.getLogo();u.watermark&&(x.className=x.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(n){var f=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var l=f.createGroup();u.forEach(function(y){var h=y.name;if(!h)throw new Error("must provide button 'name' in button config");if(f.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");f.buttonsNames.push(h);var T=f.createButton(y);f.buttonElements.push(T),l.appendChild(T)}),f.element.appendChild(l)})},r.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},r.createButton=function(n){var f=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var l=n.title;l===void 0?l=n.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&u.setAttribute("data-title",l),n.attr!==void 0&&u.setAttribute("data-attr",n.attr);var y=n.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),u.setAttribute("data-val",y));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(c){n.click(f.graphInfo,c),f.updateActiveButton(c.currentTarget)}),u.setAttribute("data-toggle",n.toggle||!1),n.toggle&&p.select(u).classed("active",!0);var T=n.icon;return typeof T=="function"?u.appendChild(T()):u.appendChild(this.createIcon(T||C.question)),u.setAttribute("data-gravity",n.gravity||"n"),u},r.createIcon=function(n){var f=L(n.height)?Number(n.height):n.ascent-n.descent,u="http://www.w3.org/2000/svg",l;if(n.path){l=document.createElementNS(u,"svg"),l.setAttribute("viewBox",[0,0,n.width,f].join(" ")),l.setAttribute("class","icon");var y=document.createElementNS(u,"path");y.setAttribute("d",n.path),n.transform?y.setAttribute("transform",n.transform):n.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),l.appendChild(y)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");l=h.childNodes[0]}return l.setAttribute("height","1em"),l.setAttribute("width","1em"),l},r.updateActiveButton=function(n){var f=this.graphInfo._fullLayout,u=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var y=l.getAttribute("data-val")||!0,h=l.getAttribute("data-attr"),T=l.getAttribute("data-toggle")==="true",c=p.select(l);if(T)h===u&&c.classed("active",!c.classed("active"));else{var i=h===null?h:o.nestedProperty(f,h).get();c.classed("active",i===y)}})},r.hasButtons=function(n){var f=this.buttons;if(!f||n.length!==f.length)return!1;for(var u=0;u<n.length;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;l++)if(n[u][l].name!==f[u][l].name)return!1}return!0};function t(n){return n+" (v"+S+")"}r.getLogo=function(){var n=this.createGroup(),f=document.createElement("a");return f.href="https://plotly.com/",f.target="_blank",f.setAttribute("data-title",t(o._(this.graphInfo,"Produced with Plotly.js"))),f.className="modebar-btn plotlyjsicon modebar-btn--logo",f.appendChild(this.createIcon(C.newplotlylogo)),n.appendChild(f),n},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)};function a(n,f){var u=n._fullLayout,l=new g({graphInfo:n,container:u._modebardiv.node(),buttons:f});return u._privateplot&&p.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}V.exports=a},26680:function(V,Y,e){var p=e(25376),L=e(22548),o=e(31780).templatedArray,C=o("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});V.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(V){V.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(V,Y,e){var p=e(3400),L=e(76308),o=e(31780),C=e(51272),S=e(26680),v=e(85984);V.exports=function(a,n,f,u,l){var y=a.rangeselector||{},h=o.newContainer(n,"rangeselector");function T(w,_){return p.coerce(y,h,S,w,_)}var c=C(y,h,{name:"buttons",handleItemDefaults:g,calendar:l}),i=T("visible",c.length>0);if(i){var d=r(n,f,u);T("x",d[0]),T("y",d[1]),p.noneOrAll(a,n,["x","y"]),T("xanchor"),T("yanchor"),p.coerceFont(T,"font",f.font);var x=T("bgcolor");T("activecolor",L.contrast(x,v.lightAmount,v.darkAmount)),T("bordercolor"),T("borderwidth")}};function g(t,a,n,f){var u=f.calendar;function l(T,c){return p.coerce(t,a,S.buttons,T,c)}var y=l("visible");if(y){var h=l("step");h!=="all"&&(u&&u!=="gregorian"&&(h==="month"||h==="year")?a.stepmode="backward":l("stepmode"),l("count")),l("label")}}function r(t,a,n){for(var f=n.filter(function(h){return a[h].anchor===t._id}),u=0,l=0;l<f.length;l++){var y=a[f[l]].domain;y&&(u=Math.max(y[1],u))}return[t.domain[0],u+v.yPad]}},50216:function(V,Y,e){var p=e(33428),L=e(24040),o=e(7316),C=e(76308),S=e(43616),v=e(3400),g=v.strTranslate,r=e(72736),t=e(79811),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,u=a.FROM_BR,l=e(85984),y=e(48040);V.exports=function(E){var A=E._fullLayout,s=A._infolayer.selectAll(".rangeselector").data(h(E),T);s.enter().append("g").classed("rangeselector",!0),s.exit().remove(),s.style({cursor:"pointer","pointer-events":"all"}),s.each(function(M){var b=p.select(this),N=M,k=N.rangeselector,H=b.selectAll("g.button").data(v.filterVisible(k.buttons));H.enter().append("g").classed("button",!0),H.exit().remove(),H.each(function(F){var B=p.select(this),U=y(N,F);F._isActive=c(N,F,U),B.call(i,k,F),B.call(x,k,F,E),B.on("click",function(){E._dragged||L.call("_guiRelayout",E,U)}),B.on("mouseover",function(){F._isHovered=!0,B.call(i,k,F)}),B.on("mouseout",function(){F._isHovered=!1,B.call(i,k,F)})}),_(E,H,k,N._name,b)})};function h(m){for(var E=t.list(m,"x",!0),A=[],s=0;s<E.length;s++){var M=E[s];M.rangeselector&&M.rangeselector.visible&&A.push(M)}return A}function T(m){return m._id}function c(m,E,A){if(E.step==="all")return m.autorange===!0;var s=Object.keys(A);return m.range[0]===A[s[0]]&&m.range[1]===A[s[1]]}function i(m,E,A){var s=v.ensureSingle(m,"rect","selector-rect",function(M){M.attr("shape-rendering","crispEdges")});s.attr({rx:l.rx,ry:l.ry}),s.call(C.stroke,E.bordercolor).call(C.fill,d(E,A)).style("stroke-width",E.borderwidth+"px")}function d(m,E){return E._isActive||E._isHovered?m.activecolor:m.bgcolor}function x(m,E,A,s){function M(N){r.convertToTspans(N,s)}var b=v.ensureSingle(m,"text","selector-text",function(N){N.attr("text-anchor","middle")});b.call(S.font,E.font).text(w(A,s._fullLayout._meta)).call(M)}function w(m,E){return m.label?E?v.templateString(m.label,E):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function _(m,E,A,s,M){var b=0,N=0,k=A.borderwidth;E.each(function(){var W=p.select(this),j=W.select(".selector-text"),ee=A.font.size*n,ie=Math.max(ee*r.lineCount(j),16)+3;N=Math.max(N,ie)}),E.each(function(){var W=p.select(this),j=W.select(".selector-rect"),ee=W.select(".selector-text"),ie=ee.node()&&S.bBox(ee.node()).width,oe=A.font.size*n,he=r.lineCount(ee),ne=Math.max(ie+10,l.minButtonWidth);W.attr("transform",g(k+b,k)),j.attr({x:0,y:0,width:ne,height:N}),r.positionText(ee,ne/2,N/2-(he-1)*oe/2+3),b+=ne+5});var H=m._fullLayout._size,F=H.l+H.w*A.x,B=H.t+H.h*(1-A.y),U="left";v.isRightAnchor(A)&&(F-=b,U="right"),v.isCenterAnchor(A)&&(F-=b/2,U="center");var z="top";v.isBottomAnchor(A)&&(B-=N,z="bottom"),v.isMiddleAnchor(A)&&(B-=N/2,z="middle"),b=Math.ceil(b),N=Math.ceil(N),F=Math.round(F),B=Math.round(B),o.autoMargin(m,s+"-range-selector",{x:A.x,y:A.y,l:b*f[U],r:b*u[U],b:N*u[z],t:N*f[z]}),M.attr("transform",g(F,B))}},48040:function(V,Y,e){var p=e(73220),L=e(3400).titleCase;V.exports=function(S,v){var g=S._name,r={};if(v.step==="all")r[g+".autorange"]=!0;else{var t=o(S,v);r[g+".range[0]"]=t[0],r[g+".range[1]"]=t[1]}return r};function o(C,S){var v=C.range,g=new Date(C.r2l(v[1])),r=S.step,t=p["utc"+L(r)],a=S.count,n;switch(S.stepmode){case"backward":n=C.l2r(+t.offset(g,-a));break;case"todate":var f=t.offset(g,-a);n=C.l2r(+t.ceil(f));break}var u=v[1];return[n,u]}},41152:function(V,Y,e){V.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(V,Y,e){var p=e(22548);V.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(V,Y,e){var p=e(79811).list,L=e(19280).getAutoRange,o=e(74636);V.exports=function(S){for(var v=p(S,"x",!0),g=0;g<v.length;g++){var r=v[g],t=r[o.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=L(S,r))}}},74636:function(V){V.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(V,Y,e){var p=e(3400),L=e(31780),o=e(79811),C=e(11200),S=e(10936);V.exports=function(g,r,t){var a=g[t],n=r[t];if(!(a.rangeslider||r._requestRangeslider[n._id]))return;p.isPlainObject(a.rangeslider)||(a.rangeslider={});var f=a.rangeslider,u=L.newContainer(n,"rangeslider");function l(s,M){return p.coerce(f,u,C,s,M)}var y,h;function T(s,M){return p.coerce(y,h,S,s,M)}var c=l("visible");if(c){l("bgcolor",r.plot_bgcolor),l("bordercolor"),l("borderwidth"),l("thickness"),l("autorange",!n.isValidRange(f.range)),l("range");var i=r._subplots;if(i)for(var d=i.cartesian.filter(function(s){return s.substr(0,s.indexOf("y"))===o.name2id(t)}).map(function(s){return s.substr(s.indexOf("y"),s.length)}),x=p.simpleMap(d,o.id2name),w=0;w<x.length;w++){var _=x[w];y=f[_]||{},h=L.newContainer(u,_,"yaxis");var m=r[_],E;y.range&&m.isValidRange(y.range)&&(E="fixed");var A=T("rangemode",E);A!=="match"&&T("range",m.range.slice())}u._input=f}}},20060:function(V,Y,e){var p=e(33428),L=e(24040),o=e(7316),C=e(3400),S=C.strTranslate,v=e(43616),g=e(76308),r=e(81668),t=e(57952),a=e(79811),n=e(86476),f=e(93972),u=e(74636);V.exports=function(E){for(var A=E._fullLayout,s=A._rangeSliderData,M=0;M<s.length;M++){var b=s[M][u.name];b._clipId=b._id+"-"+A._uid}function N(H){return H._name}var k=A._infolayer.selectAll("g."+u.containerClassName).data(s,N);k.exit().each(function(H){var F=H[u.name];A._topdefs.select("#"+F._clipId).remove()}).remove(),s.length!==0&&(k.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),k.each(function(H){var F=p.select(this),B=H[u.name],U=A[a.id2name(H.anchor)],z=B[a.id2name(H.anchor)];if(B.range){var W=C.simpleMap(B.range,H.r2l),j=C.simpleMap(H.range,H.r2l),ee;j[0]<j[1]?ee=[Math.min(W[0],j[0]),Math.max(W[1],j[1])]:ee=[Math.max(W[0],j[0]),Math.min(W[1],j[1])],B.range=B._input.range=C.simpleMap(ee,H.l2r)}H.cleanRange("rangeslider.range");var ie=A._size,oe=H.domain;B._width=ie.w*(oe[1]-oe[0]);var he=Math.round(ie.l+ie.w*oe[0]),ne=Math.round(ie.t+ie.h*(1-H._counterDomainMin)+(H.side==="bottom"?H._depth:0)+B._offsetShift+u.extraPad);F.attr("transform",S(he,ne)),B._rl=C.simpleMap(B.range,H.r2l);var q=B._rl[0],le=B._rl[1],Q=le-q;if(B.p2d=function(Te){return Te/B._width*Q+q},B.d2p=function(Te){return(Te-q)/Q*B._width},H.rangebreaks){var te=H.locateBreaks(q,le);if(te.length){var ue,J,K=0;for(ue=0;ue<te.length;ue++)J=te[ue],K+=J.max-J.min;var ce=B._width/(le-q-K),ae=[-ce*q];for(ue=0;ue<te.length;ue++)J=te[ue],ae.push(ae[ae.length-1]-ce*(J.max-J.min));for(B.d2p=function(Te){for(var Ie=ae[0],ke=0;ke<te.length;ke++){var Be=te[ke];if(Te>=Be.max)Ie=ae[ke+1];else if(Te<Be.min)break}return Ie+ce*Te},ue=0;ue<te.length;ue++)J=te[ue],J.pmin=B.d2p(J.min),J.pmax=B.d2p(J.max);B.p2d=function(Te){for(var Ie=ae[0],ke=0;ke<te.length;ke++){var Be=te[ke];if(Te>=Be.pmax)Ie=ae[ke+1];else if(Te<Be.pmin)break}return(Te-Ie)/ce}}}if(z.rangemode!=="match"){var de=U.r2l(z.range[0]),be=U.r2l(z.range[1]),Se=be-de;B.d2pOppAxis=function(Te){return(Te-de)/Se*B._height}}F.call(c,E,H,B).call(i,E,H,B).call(d,E,H,B).call(w,E,H,B,z).call(_,E,H,B).call(m,E,H,B),y(F,E,H,B),T(F,E,H,B,U,z),H.side==="bottom"&&r.draw(E,H._id+"title",{propContainer:H,propName:H._name+".title",placeholder:A._dfltTitle.x,attributes:{x:H._offset+H._length/2,y:ne+B._height+B._offsetShift+10+1.5*H.title.font.size,"text-anchor":"middle"}})}))};function l(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function y(E,A,s,M){if(A._context.staticPlot)return;var b=E.select("rect."+u.slideBoxClassName).node(),N=E.select("rect."+u.grabAreaMinClassName).node(),k=E.select("rect."+u.grabAreaMaxClassName).node();function H(){var F=p.event,B=F.target,U=l(F),z=U-E.node().getBoundingClientRect().left,W=M.d2p(s._rl[0]),j=M.d2p(s._rl[1]),ee=n.coverSlip();this.addEventListener("touchmove",ie),this.addEventListener("touchend",oe),ee.addEventListener("mousemove",ie),ee.addEventListener("mouseup",oe);function ie(he){var ne=l(he),q=+ne-U,le,Q,te;switch(B){case b:if(te="ew-resize",W+q>s._length||j+q<0)return;le=W+q,Q=j+q;break;case N:if(te="col-resize",W+q>s._length)return;le=W+q,Q=j;break;case k:if(te="col-resize",j+q<0)return;le=W,Q=j+q;break;default:te="ew-resize",le=z,Q=z+q;break}if(Q<le){var ue=Q;Q=le,le=ue}M._pixelMin=le,M._pixelMax=Q,f(p.select(ee),te),h(E,A,s,M)}function oe(){ee.removeEventListener("mousemove",ie),ee.removeEventListener("mouseup",oe),this.removeEventListener("touchmove",ie),this.removeEventListener("touchend",oe),C.removeElement(ee)}}E.on("mousedown",H),E.on("touchstart",H)}function h(E,A,s,M){function b(H){return s.l2r(C.constrain(H,M._rl[0],M._rl[1]))}var N=b(M.p2d(M._pixelMin)),k=b(M.p2d(M._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",A,s._name+".range",[N,k])})}function T(E,A,s,M,b,N){var k=u.handleWidth/2;function H(he){return C.constrain(he,0,M._width)}function F(he){return C.constrain(he,0,M._height)}function B(he){return C.constrain(he,-k,M._width+k)}var U=H(M.d2p(s._rl[0])),z=H(M.d2p(s._rl[1]));if(E.select("rect."+u.slideBoxClassName).attr("x",U).attr("width",z-U),E.select("rect."+u.maskMinClassName).attr("width",U),E.select("rect."+u.maskMaxClassName).attr("x",z).attr("width",M._width-z),N.rangemode!=="match"){var W=M._height-F(M.d2pOppAxis(b._rl[1])),j=M._height-F(M.d2pOppAxis(b._rl[0]));E.select("rect."+u.maskMinOppAxisClassName).attr("x",U).attr("height",W).attr("width",z-U),E.select("rect."+u.maskMaxOppAxisClassName).attr("x",U).attr("y",j).attr("height",M._height-j).attr("width",z-U),E.select("rect."+u.slideBoxClassName).attr("y",W).attr("height",j-W)}var ee=.5,ie=Math.round(B(U-k))-ee,oe=Math.round(B(z-k))+ee;E.select("g."+u.grabberMinClassName).attr("transform",S(ie,ee)),E.select("g."+u.grabberMaxClassName).attr("transform",S(oe,ee))}function c(E,A,s,M){var b=C.ensureSingle(E,"rect",u.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),N=M.borderwidth%2===0?M.borderwidth:M.borderwidth-1,k=-M._offsetShift,H=v.crispRound(A,M.borderwidth);b.attr({width:M._width+N,height:M._height+N,transform:S(k,k),"stroke-width":H}).call(g.stroke,M.bordercolor).call(g.fill,M.bgcolor)}function i(E,A,s,M){var b=A._fullLayout,N=C.ensureSingleById(b._topdefs,"clipPath",M._clipId,function(k){k.append("rect").attr({x:0,y:0})});N.select("rect").attr({width:M._width,height:M._height})}function d(E,A,s,M){var b=A.calcdata,N=E.selectAll("g."+u.rangePlotClassName).data(s._subplotsWith,C.identity);N.enter().append("g").attr("class",function(H){return u.rangePlotClassName+" "+H}).call(v.setClipUrl,M._clipId,A),N.order(),N.exit().remove();var k;N.each(function(H,F){var B=p.select(this),U=F===0,z=a.getFromId(A,H,"y"),W=z._name,j=M[W],ee={data:[],layout:{xaxis:{type:s.type,domain:[0,1],range:M.range.slice(),calendar:s.calendar},width:M._width,height:M._height,margin:{t:0,b:0,l:0,r:0}},_context:A._context};s.rangebreaks&&(ee.layout.xaxis.rangebreaks=s.rangebreaks),ee.layout[W]={type:z.type,domain:[0,1],range:j.rangemode!=="match"?j.range.slice():z.range.slice(),calendar:z.calendar},z.rangebreaks&&(ee.layout[W].rangebreaks=z.rangebreaks),o.supplyDefaults(ee);var ie=ee._fullLayout.xaxis,oe=ee._fullLayout[W];ie.clearCalc(),ie.setScale(),oe.clearCalc(),oe.setScale();var he={id:H,plotgroup:B,xaxis:ie,yaxis:oe,isRangePlot:!0};U?k=he:(he.mainplot="xy",he.mainplotinfo=k),t.rangePlot(A,he,x(b,H))})}function x(E,A){for(var s=[],M=0;M<E.length;M++){var b=E[M],N=b[0].trace;N.xaxis+N.yaxis===A&&s.push(b)}return s}function w(E,A,s,M,b){var N=C.ensureSingle(E,"rect",u.maskMinClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})});N.attr("height",M._height).call(g.fill,u.maskColor);var k=C.ensureSingle(E,"rect",u.maskMaxClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});if(k.attr("height",M._height).call(g.fill,u.maskColor),b.rangemode!=="match"){var H=C.ensureSingle(E,"rect",u.maskMinOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});H.attr("width",M._width).call(g.fill,u.maskOppAxisColor);var F=C.ensureSingle(E,"rect",u.maskMaxOppAxisClassName,function(B){B.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",M._width).style("border-top",u.maskOppBorder).call(g.fill,u.maskOppAxisColor)}}function _(E,A,s,M){if(!A._context.staticPlot){var b=C.ensureSingle(E,"rect",u.slideBoxClassName,function(N){N.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});b.attr({height:M._height,fill:u.slideBoxFill})}}function m(E,A,s,M){var b=C.ensureSingle(E,"g",u.grabberMinClassName),N=C.ensureSingle(E,"g",u.grabberMaxClassName),k={x:0,width:u.handleWidth,rx:u.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},H={y:Math.round(M._height/4),height:Math.round(M._height/2)},F=C.ensureSingle(b,"rect",u.handleMinClassName,function(j){j.attr(k)});F.attr(H);var B=C.ensureSingle(N,"rect",u.handleMaxClassName,function(j){j.attr(k)});B.attr(H);var U={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:A._context.staticPlot?void 0:u.grabAreaCursor},z=C.ensureSingle(b,"rect",u.grabAreaMinClassName,function(j){j.attr(U)});z.attr("height",M._height);var W=C.ensureSingle(N,"rect",u.grabAreaMaxClassName,function(j){j.attr(U)});W.attr("height",M._height)}},97944:function(V,Y,e){var p=e(79811),L=e(72736),o=e(74636),C=e(84284).LINE_SPACING,S=o.name;function v(g){var r=g&&g[S];return r&&r.visible}Y.isVisible=v,Y.makeData=function(g){var r=p.list({_fullLayout:g},"x",!0),t=g.margin,a=[];if(!g._has("gl2d"))for(var n=0;n<r.length;n++){var f=r[n];if(v(f)){a.push(f);var u=f[S];u._id=S+f._id,u._height=(g.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}g._rangeSliderData=a},Y.autoMarginOpts=function(g,r){var t=g._fullLayout,a=r[S],n=r._id.charAt(0),f=0,u=0;if(r.side==="bottom"&&(f=r._depth,r.title.text!==t._dfltTitle[n])){u=1.5*r.title.font.size+10+a._offsetShift;var l=(r.title.text.match(L.BR_TAG_ALL)||[]).length;u+=l*r.title.font.size*C}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:a._height+f+Math.max(t.margin.b,u),pad:o.extraPad+a._offsetShift*2}}},49692:function(V,Y,e){var p=e(3400),L=e(11200),o=e(10936),C=e(97944);V.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},L,{yaxis:o})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},10936:function(V){V.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(V,Y,e){var p=e(13916),L=e(52904).line,o=e(98192).u,C=e(92880).extendFlat,S=e(67824).overrideAll,v=e(31780).templatedArray;e(36208),V.exports=S(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},p.xref,{}),yref:C({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:C({},L.width,{min:1,dflt:1}),dash:C({},o,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(V){V.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(V,Y,e){var p=e(3400),L=e(54460),o=e(51272),C=e(93956),S=e(65152);V.exports=function(r,t){o(r,t,{name:"selections",handleItemDefaults:v});for(var a=t.selections,n=0;n<a.length;n++){var f=a[n];f&&f.path===void 0&&(f.x0===void 0||f.x1===void 0||f.y0===void 0||f.y1===void 0)&&(t.selections[n]=null)}};function v(g,r,t){function a(b,N){return p.coerce(g,r,C,b,N)}var n=a("path"),f=n?"path":"rect",u=a("type",f),l=u!=="path";l&&delete r.path,a("opacity"),a("line.color"),a("line.width"),a("line.dash");for(var y=["x","y"],h=0;h<2;h++){var T=y[h],c={_fullLayout:t},i,d,x,w=L.coerceRef(g,r,c,T);if(i=L.getFromId(c,w),i._selectionIndices.push(r._index),x=S.rangeToShapePosition(i),d=S.shapePositionToRange(i),l){var _=T+"0",m=T+"1",E=g[_],A=g[m];g[_]=d(g[_],!0),g[m]=d(g[m],!0),L.coercePosition(r,c,a,w,_),L.coercePosition(r,c,a,w,m);var s=r[_],M=r[m];s!==void 0&&M!==void 0&&(r[_]=x(s),r[m]=x(M),g[_]=E,g[m]=A)}}l&&p.noneOrAll(g,r,["x0","x1","y0","y1"])}},23640:function(V,Y,e){var p=e(9856).readPaths,L=e(55496),o=e(1936).clearOutlineControllers,C=e(76308),S=e(43616),v=e(31780).arrayEditor,g=e(65152),r=g.getPathString;V.exports={draw:t,drawOne:n,activateLastSelection:l};function t(h){var T=h._fullLayout;o(h),T._selectionLayer.selectAll("path").remove();for(var c in T._plots){var i=T._plots[c].selectionLayer;i&&i.selectAll("path").remove()}for(var d=0;d<T.selections.length;d++)n(h,d)}function a(h){return h._context.editSelection}function n(h,T){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var c=g.makeSelectionsOptionsAndPlotinfo(h,T),i=c.options,d=c.plotinfo;if(!i._input)return;x(h._fullLayout._selectionLayer);function x(w){var _=r(h,i),m={"data-index":T,"fill-rule":"evenodd",d:_},E=i.opacity,A="rgba(0,0,0,0)",s=i.line.color||C.contrast(h._fullLayout.plot_bgcolor),M=i.line.width,b=i.line.dash;M||(M=5,b="solid");var N=a(h)&&h._fullLayout._activeSelectionIndex===T;N&&(A=h._fullLayout.activeselection.fillcolor,E=h._fullLayout.activeselection.opacity);for(var k=[],H=1;H>=0;H--){var F=w.append("path").attr(m).style("opacity",H?.1:E).call(C.stroke,s).call(C.fill,A).call(S.dashLine,H?"solid":b,H?4+M:M);if(f(F,h,i),N){var B=v(h.layout,"selections",i);F.style({cursor:"move"});var U={element:F.node(),plotinfo:d,gd:h,editHelpers:B,isActiveSelection:!0},z=p(_,h);L(z,F,U)}else F.style("pointer-events",H?"all":"none");k[H]=F}var W=k[0],j=k[1];j.node().addEventListener("click",function(){return u(h,W)})}}function f(h,T,c){var i=c.xref+c.yref;S.setClipUrl(h,"clip"+T._fullLayout._uid+i,T)}function u(h,T){if(a(h)){var c=T.node(),i=+c.getAttribute("data-index");if(i>=0){if(i===h._fullLayout._activeSelectionIndex){y(h);return}h._fullLayout._activeSelectionIndex=i,h._fullLayout._deactivateSelection=y,t(h)}}}function l(h){if(a(h)){var T=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=T,h._fullLayout._deactivateSelection=y,t(h)}}function y(h){if(a(h)){var T=h._fullLayout._activeSelectionIndex;T>=0&&(o(h),delete h._fullLayout._activeSelectionIndex,t(h))}}},34200:function(V,Y,e){var p=e(98192).u,L=e(92880).extendFlat;V.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(V){V.exports=function(e,p,L){L("newselection.mode");var o=L("newselection.line.width");o&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},5968:function(V,Y,e){var p=e(72760),L=p.selectMode,o=e(1936),C=o.clearOutline,S=e(9856),v=S.readPaths,g=S.writePaths,r=S.fixDatesForPaths;V.exports=function(a,n){if(a.length){var f=a[0][0];if(f){var u=f.getAttribute("d"),l=n.gd,y=l._fullLayout.newselection,h=n.plotinfo,T=h.xaxis,c=h.yaxis,i=n.isActiveSelection,d=n.dragmode,x=(l.layout||{}).selections||[];if(!L(d)&&i!==void 0){var w=l._fullLayout._activeSelectionIndex;if(w<x.length)switch(l._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var _=v(u,l,h,i),m={xref:T._id,yref:c._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},E;_.length===1&&(E=_[0]),E&&E.length===5&&d==="select"?(m.type="rect",m.x0=E[0][1],m.y0=E[0][2],m.x1=E[2][1],m.y1=E[2][2]):(m.type="path",T&&c&&r(_,T,c),m.path=g(_),E=null),C(l);for(var A=n.editHelpers,s=(A||{}).modifyItem,M=[],b=0;b<x.length;b++){var N=l._fullLayout.selections[b];if(!N){M[b]=N;continue}if(M[b]=N._input,i!==void 0&&b===l._fullLayout._activeSelectionIndex){var k=m;switch(N.type){case"rect":s("x0",k.x0),s("x1",k.x1),s("y0",k.y0),s("y1",k.y1);break;case"path":s("path",k.path);break}}}return i===void 0?(M.push(m),M):A?A.getUpdateObj():{}}}}},5840:function(V,Y,e){var p=e(3400).strTranslate;function L(v,g){switch(v.type){case"log":return v.p2d(g);case"date":return v.p2r(g,0,v.calendar);default:return v.p2r(g)}}function o(v,g){switch(v.type){case"log":return v.d2p(g);case"date":return v.r2p(g,0,v.calendar);default:return v.r2p(g)}}function C(v){var g=v._id.charAt(0)==="y"?1:0;return function(r){return L(v,r[g])}}function S(v){return p(v.xaxis._offset,v.yaxis._offset)}V.exports={p2r:L,r2p:o,axValue:C,getTransform:S}},22676:function(V,Y,e){var p=e(23640),L=e(43156);V.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},43156:function(V,Y,e){var p=e(14756),L=e(61456),o=e(24040),C=e(43616).dashStyle,S=e(76308),v=e(93024),g=e(10624).makeEventData,r=e(72760),t=r.freeMode,a=r.rectMode,n=r.drawMode,f=r.openMode,u=r.selectMode,l=e(65152),y=e(85448),h=e(55496),T=e(1936).clearOutline,c=e(9856),i=c.handleEllipse,d=c.readPaths,x=e(93940).newShapes,w=e(5968),_=e(23640).activateLastSelection,m=e(3400),E=m.sorterAsc,A=e(92065),s=e(91200),M=e(79811).getFromId,b=e(73696),N=e(39172).redrawReglTraces,k=e(83280),H=k.MINSELECT,F=A.filter,B=A.tester,U=e(5840),z=U.p2r,W=U.axValue,j=U.getTransform;function ee(Ge){return Ge.subplot!==void 0}function ie(Ge,Pe,Re,je,De){var ge=!ee(je),we=t(De),Ue=a(De),et=f(De),st=n(De),lt=u(De),Wt=De==="drawline",jt=De==="drawcircle",Tt=Wt||jt,Rt=je.gd,Zt=Rt._fullLayout,mr=lt&&Zt.newselection.mode==="immediate"&&ge,gt=Zt._zoomlayer,Kt=je.element.getBoundingClientRect(),$t=je.plotinfo,br=j($t),lr=Pe-Kt.left,mt=Re-Kt.top;Zt._calcInverseTransform(Rt);var ut=m.apply3DTransform(Zt._invTransform)(lr,mt);lr=ut[0],mt=ut[1];var bt=Zt._invScaleX,Et=Zt._invScaleY,Dt=lr,Yt=mt,Bt="M"+lr+","+mt,Ut=je.xaxes[0],Jt=je.yaxes[0],hr=Ut._length,vr=Jt._length,gr=Ge.altKey&&!(n(De)&&et),Xe,He,Nt,Pt,Qt,ur,cr;Q(Ge,Rt,je),we&&(Xe=F([[lr,mt]],k.BENDPX));var tr=gt.selectAll("path.select-outline-"+$t.id).data([1]),zt=st?Zt.newshape:Zt.newselection;st&&(je.hasText=zt.label.text||zt.label.texttemplate);var or=st&&!et?zt.fillcolor:"rgba(0,0,0,0)",dr=zt.line.color||(ge?S.contrast(Rt._fullLayout.plot_bgcolor):"#7f7f7f");tr.enter().append("path").attr("class","select-outline select-outline-"+$t.id).style({opacity:st?zt.opacity/2:1,"stroke-dasharray":C(zt.line.dash,zt.line.width),"stroke-width":zt.line.width+"px","shape-rendering":"crispEdges"}).call(S.stroke,dr).call(S.fill,or).attr("fill-rule","evenodd").classed("cursor-move",!!st).attr("transform",br).attr("d",Bt+"Z");var wr=gt.append("path").attr("class","zoombox-corners").style({fill:S.background,stroke:S.defaultLine,"stroke-width":1}).attr("transform",br).attr("d","M0,0Z");if(st&&je.hasText){var pr=gt.select(".label-temp");pr.empty()&&(pr=gt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Wr=Zt._uid+k.SELECTID,Pr=[],Ir=ce(Rt,je.xaxes,je.yaxes,je.subplot);mr&&!Ge.shiftKey&&(je._clearSubplotSelections=function(){if(ge){var an=Ut._id,_n=Jt._id;ot(Rt,an,_n,Ir);for(var Mn=(Rt.layout||{}).selections||[],Sr=[],Nr=!1,Zr=0;Zr<Mn.length;Zr++){var Fr=Zt.selections[Zr];Fr.xref!==an||Fr.yref!==_n?Sr.push(Mn[Zr]):Nr=!0}Nr&&(Rt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",Rt,{selections:Sr}))}});var ln=nt(je);je.moveFn=function(an,_n){je._clearSubplotSelections&&(je._clearSubplotSelections(),je._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(hr,bt*an+lr)),Yt=Math.max(0,Math.min(vr,Et*_n+mt));var Mn=Math.abs(Dt-lr),Sr=Math.abs(Yt-mt);if(Ue){var Nr,Zr,Fr;if(lt){var cn=Zt.selectdirection;switch(cn==="any"?Sr<Math.min(Mn*.6,H)?Nr="h":Mn<Math.min(Sr*.6,H)?Nr="v":Nr="d":Nr=cn,Nr){case"h":Zr=jt?vr/2:0,Fr=vr;break;case"v":Zr=jt?hr/2:0,Fr=hr;break}}if(st)switch(Zt.newshape.drawdirection){case"vertical":Nr="h",Zr=jt?vr/2:0,Fr=vr;break;case"horizontal":Nr="v",Zr=jt?hr/2:0,Fr=hr;break;case"ortho":Mn<Sr?(Nr="h",Zr=mt,Fr=Yt):(Nr="v",Zr=lr,Fr=Dt);break;default:Nr="d"}Nr==="h"?(Pt=Tt?i(jt,[Dt,Zr],[Dt,Fr]):[[lr,Zr],[lr,Fr],[Dt,Fr],[Dt,Zr]],Pt.xmin=Tt?Dt:Math.min(lr,Dt),Pt.xmax=Tt?Dt:Math.max(lr,Dt),Pt.ymin=Math.min(Zr,Fr),Pt.ymax=Math.max(Zr,Fr),wr.attr("d","M"+Pt.xmin+","+(mt-H)+"h-4v"+2*H+"h4ZM"+(Pt.xmax-1)+","+(mt-H)+"h4v"+2*H+"h-4Z")):Nr==="v"?(Pt=Tt?i(jt,[Zr,Yt],[Fr,Yt]):[[Zr,mt],[Zr,Yt],[Fr,Yt],[Fr,mt]],Pt.xmin=Math.min(Zr,Fr),Pt.xmax=Math.max(Zr,Fr),Pt.ymin=Tt?Yt:Math.min(mt,Yt),Pt.ymax=Tt?Yt:Math.max(mt,Yt),wr.attr("d","M"+(lr-H)+","+Pt.ymin+"v-4h"+2*H+"v4ZM"+(lr-H)+","+(Pt.ymax-1)+"v4h"+2*H+"v-4Z")):Nr==="d"&&(Pt=Tt?i(jt,[lr,mt],[Dt,Yt]):[[lr,mt],[lr,Yt],[Dt,Yt],[Dt,mt]],Pt.xmin=Math.min(lr,Dt),Pt.xmax=Math.max(lr,Dt),Pt.ymin=Math.min(mt,Yt),Pt.ymax=Math.max(mt,Yt),wr.attr("d","M0,0Z"))}else we&&(Xe.addPt([Dt,Yt]),Pt=Xe.filtered);if(je.selectionDefs&&je.selectionDefs.length?(Nt=Me(je.mergedPolygons,Pt,gr),Pt.subtract=gr,He=le(je.selectionDefs.concat([Pt]))):(Nt=[Pt],He=B(Pt)),h(_e(Nt,et),tr,je),lt){var vn=Ce(Rt,!1),Cn=vn.eventData?vn.eventData.points.slice():[];vn=Ce(Rt,!1,He,Ir,je),He=vn.selectionTesters,cr=vn.eventData;var Rn;Xe?Rn=Xe.filtered:Rn=pt(Nt),s.throttle(Wr,k.SELECTDELAY,function(){Pr=Ne(He,Ir);for(var Gn=Pr.slice(),ua=0;ua<Cn.length;ua++){for(var wa=Cn[ua],Ma=!1,Zn=0;Zn<Gn.length;Zn++)if(Gn[Zn].curveNumber===wa.curveNumber&&Gn[Zn].pointNumber===wa.pointNumber){Ma=!0;break}Ma||Gn.push(wa)}Gn.length&&(cr||(cr={}),cr.points=Gn),ln(cr,Rn),Fe(Rt,cr)})}},je.clickFn=function(an,_n){if(wr.remove(),Rt._fullLayout._activeShapeIndex>=0){Rt._fullLayout._deactivateShape(Rt);return}if(!st){var Mn=Zt.clickmode;s.done(Wr).then(function(){if(s.clear(Wr),an===2){for(tr.remove(),Qt=0;Qt<Ir.length;Qt++)ur=Ir[Qt],ur._module.selectPoints(ur,!1);if(ke(Rt,Ir),J(je),Ze(Rt),Ir.length){var Sr=Ir[0].xaxis,Nr=Ir[0].yaxis;if(Sr&&Nr){for(var Zr=[],Fr=Rt._fullLayout.selections,cn=0;cn<Fr.length;cn++){var vn=Fr[cn];vn&&(vn.xref!==Sr._id||vn.yref!==Nr._id)&&Zr.push(vn)}Zr.length<Fr.length&&(Rt._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",Rt,{selections:Zr}))}}}else Mn.indexOf("select")>-1&&oe(_n,Rt,je.xaxes,je.yaxes,je.subplot,je,tr),Mn==="event"&&We(Rt,void 0);v.click(Rt,_n,$t.id)}).catch(m.error)}},je.doneFn=function(){wr.remove(),s.done(Wr).then(function(){s.clear(Wr),!mr&&Pt&&je.selectionDefs&&(Pt.subtract=gr,je.selectionDefs.push(Pt),je.mergedPolygons.length=0,[].push.apply(je.mergedPolygons,Nt)),(mr||st)&&J(je,mr),je.doneFnCompleted&&je.doneFnCompleted(Pr),lt&&We(Rt,cr)}).catch(m.error)}}function oe(Ge,Pe,Re,je,De,ge,we){var Ue=Pe._hoverdata,et=Pe._fullLayout,st=et.clickmode,lt=st.indexOf("event")>-1,Wt=[],jt,Tt,Rt,Zt,mr,gt,Kt,$t,br,lr;if(de(Ue)){Q(Ge,Pe,ge),jt=ce(Pe,Re,je,De);var mt=be(Ue,jt),ut=mt.pointNumbers.length>0;if(ut?Te(jt,mt):Ie(jt)&&(Kt=Se(mt))){for(we&&we.remove(),lr=0;lr<jt.length;lr++)Tt=jt[lr],Tt._module.selectPoints(Tt,!1);ke(Pe,jt),J(ge),lt&&Ze(Pe)}else{$t=Ge.shiftKey&&(Kt!==void 0?Kt:Se(mt)),Rt=he(mt.pointNumber,mt.searchInfo,$t);var bt=ge.selectionDefs.concat([Rt]);for(Zt=le(bt),lr=0;lr<jt.length;lr++)if(mr=jt[lr]._module.selectPoints(jt[lr],Zt),gt=Oe(mr,jt[lr]),Wt.length)for(var Et=0;Et<gt.length;Et++)Wt.push(gt[Et]);else Wt=gt;if(br={points:Wt},ke(Pe,jt,br),Rt&&ge&&ge.selectionDefs.push(Rt),we){var Dt=ge.mergedPolygons,Yt=f(ge.dragmode);h(_e(Dt,Yt),we,ge)}lt&&We(Pe,br)}}}function he(Ge,Pe,Re){return{pointNumber:Ge,searchInfo:Pe,subtract:!!Re}}function ne(Ge){return"pointNumber"in Ge&&"searchInfo"in Ge}function q(Ge){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Pe,Re,je,De){var ge=Ge.searchInfo.cd[0].trace._expandedIndex,we=De.cd[0].trace._expandedIndex;return we===ge&&je===Ge.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ge.subtract}}function le(Ge){if(!Ge.length)return;for(var Pe=[],Re=ne(Ge[0])?0:Ge[0][0][0],je=Re,De=ne(Ge[0])?0:Ge[0][0][1],ge=De,we=0;we<Ge.length;we++)if(ne(Ge[we]))Pe.push(q(Ge[we]));else{var Ue=B(Ge[we]);Ue.subtract=!!Ge[we].subtract,Pe.push(Ue),Re=Math.min(Re,Ue.xmin),je=Math.max(je,Ue.xmax),De=Math.min(De,Ue.ymin),ge=Math.max(ge,Ue.ymax)}function et(st,lt,Wt,jt){for(var Tt=!1,Rt=0;Rt<Pe.length;Rt++)Pe[Rt].contains(st,lt,Wt,jt)&&(Tt=!Pe[Rt].subtract);return Tt}return{xmin:Re,xmax:je,ymin:De,ymax:ge,pts:[],contains:et,isRect:!1,degenerate:!1}}function Q(Ge,Pe,Re){var je=Pe._fullLayout,De=Re.plotinfo,ge=Re.dragmode,we=je._lastSelectedSubplot&&je._lastSelectedSubplot===De.id,Ue=(Ge.shiftKey||Ge.altKey)&&!(n(ge)&&f(ge));we&&Ue&&De.selection&&De.selection.selectionDefs&&!Re.selectionDefs?(Re.selectionDefs=De.selection.selectionDefs,Re.mergedPolygons=De.selection.mergedPolygons):(!Ue||!De.selection)&&J(Re),we||(T(Pe),je._lastSelectedSubplot=De.id)}function te(Ge){return Ge._fullLayout._activeShapeIndex>=0}function ue(Ge){return Ge._fullLayout._activeSelectionIndex>=0}function J(Ge,Pe){var Re=Ge.dragmode,je=Ge.plotinfo,De=Ge.gd;te(De)&&De._fullLayout._deactivateShape(De),ue(De)&&De._fullLayout._deactivateSelection(De);var ge=De._fullLayout,we=ge._zoomlayer,Ue=n(Re),et=u(Re);if(Ue||et){var st=we.selectAll(".select-outline-"+je.id);if(st&&De._fullLayout._outlining){var lt;Ue&&(lt=x(st,Ge)),lt&&o.call("_guiRelayout",De,{shapes:lt});var Wt;et&&!ee(Ge)&&(Wt=w(st,Ge)),Wt&&(De._fullLayout._noEmitSelectedAtStart=!0,o.call("_guiRelayout",De,{selections:Wt}).then(function(){Pe&&_(De)})),De._fullLayout._outlining=!1}}je.selection={},je.selection.selectionDefs=Ge.selectionDefs=[],je.selection.mergedPolygons=Ge.mergedPolygons=[]}function K(Ge){return Ge._id}function ce(Ge,Pe,Re,je){if(!Ge.calcdata)return[];var De=[],ge=Pe.map(K),we=Re.map(K),Ue,et,st;for(st=0;st<Ge.calcdata.length;st++)if(Ue=Ge.calcdata[st],et=Ue[0].trace,!(et.visible!==!0||!et._module||!et._module.selectPoints))if(ee({subplot:je})&&(et.subplot===je||et.geo===je))De.push(ae(et._module,Ue,Pe[0],Re[0]));else if(et.type==="splom"){if(et._xaxes[ge[0]]&&et._yaxes[we[0]]){var lt=ae(et._module,Ue,Pe[0],Re[0]);lt.scene=Ge._fullLayout._splomScenes[et.uid],De.push(lt)}}else if(et.type==="sankey"){var Wt=ae(et._module,Ue,Pe[0],Re[0]);De.push(Wt)}else{if(ge.indexOf(et.xaxis)===-1&&(!et._xA||!et._xA.overlaying)||we.indexOf(et.yaxis)===-1&&(!et._yA||!et._yA.overlaying))continue;De.push(ae(et._module,Ue,M(Ge,et.xaxis),M(Ge,et.yaxis)))}return De}function ae(Ge,Pe,Re,je){return{_module:Ge,cd:Pe,xaxis:Re,yaxis:je}}function de(Ge){return Ge&&Array.isArray(Ge)&&Ge[0].hoverOnBox!==!0}function be(Ge,Pe){var Re=Ge[0],je=-1,De=[],ge,we;for(we=0;we<Pe.length;we++)if(ge=Pe[we],Re.fullData._expandedIndex===ge.cd[0].trace._expandedIndex){if(Re.hoverOnBox===!0)break;Re.pointNumber!==void 0?je=Re.pointNumber:Re.binNumber!==void 0&&(je=Re.binNumber,De=Re.pointNumbers);break}return{pointNumber:je,pointNumbers:De,searchInfo:ge}}function Se(Ge){var Pe=Ge.searchInfo.cd[0].trace,Re=Ge.pointNumber,je=Ge.pointNumbers,De=je.length>0,ge=De?je[0]:Re;return Pe.selectedpoints?Pe.selectedpoints.indexOf(ge)>-1:!1}function Te(Ge,Pe){var Re=[],je,De,ge,we;for(we=0;we<Ge.length;we++)je=Ge[we],je.cd[0].trace.selectedpoints&&je.cd[0].trace.selectedpoints.length>0&&Re.push(je);if(Re.length===1&&(ge=Re[0]===Pe.searchInfo,ge&&(De=Pe.searchInfo.cd[0].trace,De.selectedpoints.length===Pe.pointNumbers.length))){for(we=0;we<Pe.pointNumbers.length;we++)if(De.selectedpoints.indexOf(Pe.pointNumbers[we])<0)return!1;return!0}return!1}function Ie(Ge){var Pe=0,Re,je,De;for(De=0;De<Ge.length;De++)if(Re=Ge[De],je=Re.cd[0].trace,je.selectedpoints&&(je.selectedpoints.length>1||(Pe+=je.selectedpoints.length,Pe>1)))return!1;return Pe===1}function ke(Ge,Pe,Re){var je;for(je=0;je<Pe.length;je++){var De=Pe[je].cd[0].trace._fullInput,ge=Ge._fullLayout._tracePreGUI[De.uid]||{};ge.selectedpoints===void 0&&(ge.selectedpoints=De._input.selectedpoints||null)}var we;if(Re){var Ue=Re.points||[];for(je=0;je<Pe.length;je++)we=Pe[je].cd[0].trace,we._input.selectedpoints=we._fullInput.selectedpoints=[],we._fullInput!==we&&(we.selectedpoints=[]);for(var et=0;et<Ue.length;et++){var st=Ue[et],lt=st.data,Wt=st.fullData,jt=st.pointIndex,Tt=st.pointIndices;Tt?([].push.apply(lt.selectedpoints,Tt),we._fullInput!==we&&[].push.apply(Wt.selectedpoints,Tt)):(lt.selectedpoints.push(jt),we._fullInput!==we&&Wt.selectedpoints.push(jt))}}else for(je=0;je<Pe.length;je++)we=Pe[je].cd[0].trace,delete we.selectedpoints,delete we._input.selectedpoints,we._fullInput!==we&&delete we._fullInput.selectedpoints;Be(Ge,Pe)}function Be(Ge,Pe){for(var Re=!1,je=0;je<Pe.length;je++){var De=Pe[je],ge=De.cd;o.traceIs(ge[0].trace,"regl")&&(Re=!0);var we=De._module,Ue=we.styleOnSelect||we.style;Ue&&(Ue(Ge,ge,ge[0].node3),ge[0].nodeRangePlot3&&Ue(Ge,ge,ge[0].nodeRangePlot3))}Re&&(b(Ge),N(Ge))}function Me(Ge,Pe,Re){for(var je=Re?p.difference:p.union,De=je({regions:Ge},{regions:[Pe]}),ge=De.regions.reverse(),we=0;we<ge.length;we++){var Ue=ge[we];Ue.subtract=ht(Ue,ge.slice(0,we))}return ge}function Oe(Ge,Pe){if(Array.isArray(Ge))for(var Re=Pe.cd,je=Pe.cd[0].trace,De=0;De<Ge.length;De++)Ge[De]=g(Ge[De],je,Re);return Ge}function _e(Ge,Pe){for(var Re=[],je=0;je<Ge.length;je++){Re[je]=[];for(var De=0;De<Ge[je].length;De++){Re[je][De]=[],Re[je][De][0]=De?"L":"M";for(var ge=0;ge<Ge[je][De].length;ge++)Re[je][De].push(Ge[je][De][ge])}Pe||Re[je].push(["Z",Re[je][0][1],Re[je][0][2]])}return Re}function Ne(Ge,Pe){for(var Re=[],je,De,ge=0;ge<Pe.length;ge++){var we=Pe[ge];De=we._module.selectPoints(we,Ge),je=Oe(De,we),Re=Re.concat(je)}return Re}function Ce(Ge,Pe,Re,je,De){var ge=!!je,we,Ue,et;De&&(we=De.plotinfo,Ue=De.xaxes[0]._id,et=De.yaxes[0]._id);var st=[],lt=[],Wt=qe(Ge),jt=Ge._fullLayout;if(we){var Tt=jt._zoomlayer,Rt=jt.dragmode,Zt=n(Rt),mr=u(Rt);if(Zt||mr){var gt=M(Ge,Ue,"x"),Kt=M(Ge,et,"y");if(gt&&Kt){var $t=Tt.selectAll(".select-outline-"+we.id);if($t&&Ge._fullLayout._outlining&&$t.length){for(var br=$t[0][0],lr=br.getAttribute("d"),mt=d(lr,Ge,we),ut=[],bt=0;bt<mt.length;bt++){for(var Et=mt[bt],Dt=[],Yt=0;Yt<Et.length;Yt++)Dt.push([vt(gt,Et[Yt][1]),vt(Kt,Et[Yt][2])]);Dt.xref=Ue,Dt.yref=et,Dt.subtract=ht(Dt,ut),ut.push(Dt)}Wt=Wt.concat(ut)}}}}var Bt=Ue&&et?[Ue+et]:jt._subplots.cartesian;Ye(Ge);for(var Ut={},Jt=0;Jt<Bt.length;Jt++){var hr=Bt[Jt],vr=hr.indexOf("y"),gr=hr.slice(0,vr),Xe=hr.slice(vr),He=Ue&&et?Re:void 0;if(He=$e(Wt,gr,Xe,He),He){var Nt=je;if(!ge){var Pt=M(Ge,gr,"x"),Qt=M(Ge,Xe,"y");Nt=ce(Ge,[Pt],[Qt],hr);for(var ur=0;ur<Nt.length;ur++){var cr=Nt[ur],tr=cr.cd[0],zt=tr.trace;if(cr._module.name==="scattergl"&&!tr.t.xpx){var or=zt.x,dr=zt.y,wr=zt._length;tr.t.xpx=[],tr.t.ypx=[];for(var pr=0;pr<wr;pr++)tr.t.xpx[pr]=Pt.c2p(or[pr]),tr.t.ypx[pr]=Qt.c2p(dr[pr])}cr._module.name==="splom"&&(Ut[zt.uid]||(Ut[zt.uid]=!0))}}var Wr=Ne(He,Nt);st=st.concat(Wr),lt=lt.concat(Nt)}}var Pr={points:st};ke(Ge,lt,Pr);var Ir=jt.clickmode,ln=Ir.indexOf("event")>-1&&Pe;if(!we&&Pe){var an=qe(Ge,!0);if(an.length){var _n=an[0].xref,Mn=an[0].yref;if(_n&&Mn){var Sr=pt(an),Nr=Mt([M(Ge,_n,"x"),M(Ge,Mn,"y")]);Nr(Pr,Sr)}}Ge._fullLayout._noEmitSelectedAtStart?Ge._fullLayout._noEmitSelectedAtStart=!1:ln&&We(Ge,Pr),jt._reselect=!1}if(!we&&jt._deselect){var Zr=jt._deselect;Ue=Zr.xref,et=Zr.yref,rt(Ue,et,lt)||ot(Ge,Ue,et,je),ln&&(Pr.points.length?We(Ge,Pr):Ze(Ge)),jt._deselect=!1}return{eventData:Pr,selectionTesters:Re}}function Ye(Ge){var Pe=Ge.calcdata;if(Pe)for(var Re=0;Re<Pe.length;Re++){var je=Pe[Re][0],De=je.trace,ge=Ge._fullLayout._splomScenes;if(ge){var we=ge[De.uid];we&&(we.selectBatch=[])}}}function rt(Ge,Pe,Re){for(var je=0;je<Re.length;je++){var De=Re[je];if(De.xaxis&&De.xaxis._id===Ge&&De.yaxis&&De.yaxis._id===Pe)return!0}return!1}function ot(Ge,Pe,Re,je){je=ce(Ge,[M(Ge,Pe,"x")],[M(Ge,Re,"y")],Pe+Re);for(var De=0;De<je.length;De++){var ge=je[De];ge._module.selectPoints(ge,!1)}ke(Ge,je)}function $e(Ge,Pe,Re,je){for(var De,ge=0;ge<Ge.length;ge++){var we=Ge[ge];if(!(Pe!==we.xref||Re!==we.yref))if(De){var Ue=!!we.subtract;De=Me(De,we,Ue),je=le(De)}else De=[we],je=B(we)}return je}function qe(Ge,Pe){for(var Re=[],je=Ge._fullLayout,De=je.selections,ge=De.length,we=0;we<ge;we++)if(!(Pe&&we!==je._activeSelectionIndex)){var Ue=De[we];if(Ue){var et=Ue.xref,st=Ue.yref,lt=M(Ge,et,"x"),Wt=M(Ge,st,"y"),jt,Tt,Rt,Zt,mr;if(Ue.type==="rect"){mr=[];var gt=vt(lt,Ue.x0),Kt=vt(lt,Ue.x1),$t=vt(Wt,Ue.y0),br=vt(Wt,Ue.y1);mr=[[gt,$t],[gt,br],[Kt,br],[Kt,$t]],jt=Math.min(gt,Kt),Tt=Math.max(gt,Kt),Rt=Math.min($t,br),Zt=Math.max($t,br),mr.xmin=jt,mr.xmax=Tt,mr.ymin=Rt,mr.ymax=Zt,mr.xref=et,mr.yref=st,mr.subtract=!1,mr.isRect=!0,Re.push(mr)}else if(Ue.type==="path")for(var lr=Ue.path.split("Z"),mt=[],ut=0;ut<lr.length;ut++){var bt=lr[ut];if(bt){bt+="Z";var Et=l.extractPathCoords(bt,y.paramIsX,"raw"),Dt=l.extractPathCoords(bt,y.paramIsY,"raw");jt=1/0,Tt=-1/0,Rt=1/0,Zt=-1/0,mr=[];for(var Yt=0;Yt<Et.length;Yt++){var Bt=vt(lt,Et[Yt]),Ut=vt(Wt,Dt[Yt]);mr.push([Bt,Ut]),jt=Math.min(Bt,jt),Tt=Math.max(Bt,Tt),Rt=Math.min(Ut,Rt),Zt=Math.max(Ut,Zt)}mr.xmin=jt,mr.xmax=Tt,mr.ymin=Rt,mr.ymax=Zt,mr.xref=et,mr.yref=st,mr.subtract=ht(mr,mt),mt.push(mr),Re.push(mr)}}}}return Re}function ht(Ge,Pe){for(var Re=!1,je=0;je<Pe.length;je++)for(var De=Pe[je],ge=0;ge<Ge.length;ge++)if(L(Ge[ge],De)){Re=!Re;break}return Re}function vt(Ge,Pe){return Ge.type==="date"&&(Pe=Pe.replace("_"," ")),Ge.type==="log"?Ge.c2p(Pe):Ge.r2p(Pe,null,Ge.calendar)}function pt(Ge){for(var Pe=Ge.length,Re=[],je=0;je<Pe;je++){var De=Ge[je];Re=Re.concat(De),Re=Re.concat([De[0]])}return wt(Re)}function wt(Ge){return Ge.isRect=Ge.length===5&&Ge[0][0]===Ge[4][0]&&Ge[0][1]===Ge[4][1]&&Ge[0][0]===Ge[1][0]&&Ge[2][0]===Ge[3][0]&&Ge[0][1]===Ge[3][1]&&Ge[1][1]===Ge[2][1]||Ge[0][1]===Ge[1][1]&&Ge[2][1]===Ge[3][1]&&Ge[0][0]===Ge[3][0]&&Ge[1][0]===Ge[2][0],Ge.isRect&&(Ge.xmin=Math.min(Ge[0][0],Ge[2][0]),Ge.xmax=Math.max(Ge[0][0],Ge[2][0]),Ge.ymin=Math.min(Ge[0][1],Ge[2][1]),Ge.ymax=Math.max(Ge[0][1],Ge[2][1])),Ge}function Mt(Ge){return function(Pe,Re){for(var je,De,ge=0;ge<Ge.length;ge++){var we=Ge[ge],Ue=we._id,et=Ue.charAt(0);if(Re.isRect){je||(je={});var st=Re[et+"min"],lt=Re[et+"max"];st!==void 0&&lt!==void 0&&(je[Ue]=[z(we,st),z(we,lt)].sort(E))}else De||(De={}),De[Ue]=Re.map(W(we))}je&&(Pe.range=je),De&&(Pe.lassoPoints=De)}}function nt(Ge){var Pe=Ge.plotinfo;return Pe.fillRangeItems||Mt(Ge.xaxes.concat(Ge.yaxes))}function Fe(Ge,Pe){Ge.emit("plotly_selecting",Pe)}function We(Ge,Pe){Pe&&(Pe.selections=(Ge.layout||{}).selections||[]),Ge.emit("plotly_selected",Pe)}function Ze(Ge){Ge.emit("plotly_deselect",null)}V.exports={reselect:Ce,prepSelect:ie,clearOutline:T,clearSelectionsCache:J,selectOnClick:oe}},46056:function(V,Y,e){var p=e(13916),L=e(25376),o=e(52904).line,C=e(98192).u,S=e(92880).extendFlat,v=e(31780).templatedArray;e(36208);var g=e(45464),r=e(21776).ye,t=e(97728);V.exports=v("shape",{visible:S({},g.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:S({},g.legend,{editType:"calc+arraydraw"}),legendgroup:S({},g.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:S({},g.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:L({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:S({},g.legendrank,{editType:"calc+arraydraw"}),legendwidth:S({},g.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:S({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:S({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:S({},o.color,{editType:"arraydraw"}),width:S({},o.width,{editType:"calc+arraydraw"}),dash:S({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(V,Y,e){var p=e(3400),L=e(54460),o=e(85448),C=e(65152);V.exports=function(a){var n=a._fullLayout,f=p.filterVisible(n.shapes);if(!(!f.length||!a._fullData.length))for(var u=0;u<f.length;u++){var l=f[u];l._extremes={};var y,h,T=L.getRefType(l.xref),c=L.getRefType(l.yref);if(l.xref!=="paper"&&T!=="domain"){var i=l.xsizemode==="pixel"?l.xanchor:l.x0,d=l.xsizemode==="pixel"?l.xanchor:l.x1;y=L.getFromId(a,l.xref),h=r(y,i,d,l.path,o.paramIsX),h&&(l._extremes[y._id]=L.findExtremes(y,h,S(l)))}if(l.yref!=="paper"&&c!=="domain"){var x=l.ysizemode==="pixel"?l.yanchor:l.y0,w=l.ysizemode==="pixel"?l.yanchor:l.y1;y=L.getFromId(a,l.yref),h=r(y,x,w,l.path,o.paramIsY),h&&(l._extremes[y._id]=L.findExtremes(y,h,v(l)))}}};function S(t){return g(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function v(t){return g(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function g(t,a,n,f,u,l){var y=t/2,h=l;if(a==="pixel"){var T=u?C.extractPathCoords(u,l?o.paramIsY:o.paramIsX):[n,f],c=p.aggNums(Math.max,null,T),i=p.aggNums(Math.min,null,T),d=i<0?Math.abs(i)+y:y,x=c>0?c+y:y;return{ppad:y,ppadplus:h?d:x,ppadminus:h?x:d}}else return{ppad:y}}function r(t,a,n,f,u){var l=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(a!==void 0)return[l(a),l(n)];if(f){var y=1/0,h=-1/0,T=f.match(o.segmentRE),c,i,d,x,w;for(t.type==="date"&&(l=C.decodeDate(l)),c=0;c<T.length;c++)i=T[c],d=u[i.charAt(0)].drawn,d!==void 0&&(x=T[c].substr(1).match(o.paramRE),!(!x||x.length<d)&&(w=l(x[d]),w<y&&(y=w),w>h&&(h=w)));if(h>=y)return[y,h]}}},85448:function(V){V.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(V,Y,e){var p=e(3400),L=e(54460),o=e(51272),C=e(46056),S=e(65152);V.exports=function(t,a){o(t,a,{name:"shapes",handleItemDefaults:g})};function v(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function g(r,t,a){function n(ne,q){return p.coerce(r,t,C,ne,q)}t._isShape=!0;var f=n("visible");if(f){var u=n("showlegend");u&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),p.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var l=n("path"),y=l?"path":"rect",h=n("type",y),T=h!=="path";T&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var c=n("line.width");c&&(n("line.color"),n("line.dash"));for(var i=n("xsizemode"),d=n("ysizemode"),x=["x","y"],w=0;w<2;w++){var _=x[w],m=_+"anchor",E=_==="x"?i:d,A={_fullLayout:a},s,M,b,N=L.coerceRef(r,t,A,_,void 0,"paper"),k=L.getRefType(N);if(k==="range"?(s=L.getFromId(A,N),s._shapeIndices.push(t._index),b=S.rangeToShapePosition(s),M=S.shapePositionToRange(s)):M=b=p.identity,T){var H=.25,F=.75,B=_+"0",U=_+"1",z=r[B],W=r[U];r[B]=M(r[B],!0),r[U]=M(r[U],!0),E==="pixel"?(n(B,0),n(U,10)):(L.coercePosition(t,A,n,N,B,H),L.coercePosition(t,A,n,N,U,F)),t[B]=b(t[B]),t[U]=b(t[U]),r[B]=z,r[U]=W}if(E==="pixel"){var j=r[m];r[m]=M(r[m],!0),L.coercePosition(t,A,n,N,m,.25),t[m]=b(t[m]),r[m]=j}}T&&p.noneOrAll(r,t,["x0","x1","y0","y1"]);var ee=h==="line",ie,oe;if(T&&(ie=n("label.texttemplate")),ie||(oe=n("label.text")),oe||ie){n("label.textangle");var he=n("label.textposition",ee?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(ee,he)),n("label.padding"),p.coerceFont(n,"label.font",a.font)}}}},60728:function(V,Y,e){var p=e(3400),L=e(54460),o=e(72736),C=e(43616),S=e(9856).readPaths,v=e(65152),g=v.getPathString,r=e(97728),t=e(84284).FROM_TL;V.exports=function(u,l,y,h){if(h.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var T;if(y.label.texttemplate){var c={};if(y.type!=="path"){var i=L.getFromId(u,y.xref),d=L.getFromId(u,y.yref);for(var x in r){var w=r[x](y,i,d);w!==void 0&&(c[x]=w)}}T=p.texttemplateStringForShapes(y.label.texttemplate,{},u._fullLayout._d3locale,c)}else T=y.label.text;var _={"data-index":l},m=y.label.font,E={"data-notex":1},A=h.append("g").attr(_).classed("shape-label",!0),s=A.append("text").attr(E).classed("shape-label-text",!0).text(T),M,b,N,k;if(y.path){var H=g(u,y),F=S(H,u);M=1/0,N=1/0,b=-1/0,k=-1/0;for(var B=0;B<F.length;B++)for(var U=0;U<F[B].length;U++)for(var z=F[B][U],W=1;W<z.length;W+=2){var j=z[W],ee=z[W+1];M=Math.min(M,j),b=Math.max(b,j),N=Math.min(N,ee),k=Math.max(k,ee)}}else{var ie=L.getFromId(u,y.xref),oe=L.getRefType(y.xref),he=L.getFromId(u,y.yref),ne=L.getRefType(y.yref),q=v.getDataToPixel(u,ie,!1,oe),le=v.getDataToPixel(u,he,!0,ne);M=q(y.x0),b=q(y.x1),N=le(y.y0),k=le(y.y1)}var Q=y.label.textangle;Q==="auto"&&(y.type==="line"?Q=a(M,N,b,k):Q=0),s.call(function(ae){return ae.call(C.font,m).attr({}),o.convertToTspans(ae,u),ae});var te=C.bBox(s.node()),ue=n(M,N,b,k,y,Q,te),J=ue.textx,K=ue.texty,ce=ue.xanchor;s.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ce],y:K,x:J,transform:"rotate("+Q+","+J+","+K+")"}).call(o.positionText,J,K)}};function a(f,u,l,y){var h,T;return T=Math.abs(l-f),l>=f?h=u-y:h=y-u,-180/Math.PI*Math.atan2(h,T)}function n(f,u,l,y,h,T,c){var i=h.label.textposition,d=h.label.textangle,x=h.label.padding,w=h.type,_=Math.PI/180*T,m=Math.sin(_),E=Math.cos(_),A=h.label.xanchor,s=h.label.yanchor,M,b,N,k;if(w==="line"){i==="start"?(M=f,b=u):i==="end"?(M=l,b=y):(M=(f+l)/2,b=(u+y)/2),A==="auto"&&(i==="start"?d==="auto"?l>f?A="left":l<f?A="right":A="center":l>f?A="right":l<f?A="left":A="center":i==="end"?d==="auto"?l>f?A="right":l<f?A="left":A="center":l>f?A="left":l<f?A="right":A="center":A="center");var H={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(d==="auto"){var B=F[s];N=-x*m*B,k=x*E*B}else{var U=H[A],z=F[s];N=x*U,k=x*z}M=M+N,b=b+k}else N=x+3,i.indexOf("right")!==-1?(M=Math.max(f,l)-N,A==="auto"&&(A="right")):i.indexOf("left")!==-1?(M=Math.min(f,l)+N,A==="auto"&&(A="left")):(M=(f+l)/2,A==="auto"&&(A="center")),i.indexOf("top")!==-1?b=Math.min(u,y):i.indexOf("bottom")!==-1?b=Math.max(u,y):b=(u+y)/2,k=x,s==="bottom"?b=b-k:s==="top"&&(b=b+k);var W=t[s],j=h.label.font.size,ee=c.height,ie=(ee*W-j)*m,oe=-(ee*W-j)*E;return{textx:M+ie,texty:b+oe,xanchor:A}}},55496:function(V,Y,e){var p=e(3400),L=p.strTranslate,o=e(86476),C=e(72760),S=C.drawMode,v=C.selectMode,g=e(24040),r=e(76308),t=e(7e3),a=t.i000,n=t.i090,f=t.i180,u=t.i270,l=e(1936),y=l.clearOutlineControllers,h=e(9856),T=h.pointsOnRectangle,c=h.pointsOnEllipse,i=h.writePaths,d=e(93940).newShapes,x=e(93940).createShapeObj,w=e(5968),_=e(60728);V.exports=function s(M,b,N,k){k||(k=0);var H=N.gd;function F(){s(M,b,N,k++),(c(M[0])||N.hasText)&&B({redrawing:!0})}function B(Me){var Oe={};N.isActiveShape!==void 0&&(N.isActiveShape=!1,Oe=d(b,N)),N.isActiveSelection!==void 0&&(N.isActiveSelection=!1,Oe=w(b,N),H._fullLayout._reselect=!0),Object.keys(Oe).length&&g.call((Me||{}).redrawing?"relayout":"_guiRelayout",H,Oe)}var U=H._fullLayout,z=U._zoomlayer,W=N.dragmode,j=S(W),ee=v(W);(j||ee)&&(H._fullLayout._outlining=!0),y(H),b.attr("d",i(M));var ie,oe,he,ne,q;if(!k&&(N.isActiveShape||N.isActiveSelection)){q=m([],M);var le=z.append("g").attr("class","outline-controllers");de(le),Be()}if(j&&N.hasText){var Q=z.select(".label-temp"),te=x(b,N,N.dragmode);_(H,"label-temp",te,Q)}function ue(Me){he=+Me.srcElement.getAttribute("data-i"),ne=+Me.srcElement.getAttribute("data-j"),ie[he][ne].moveFn=J}function J(Me,Oe){if(M.length){var _e=q[he][ne][1],Ne=q[he][ne][2],Ce=M[he],Ye=Ce.length;if(T(Ce)){var rt=Me,ot=Oe;if(N.isActiveSelection){var $e=E(Ce,ne);$e[1]===Ce[ne][1]?ot=0:rt=0}for(var qe=0;qe<Ye;qe++)if(qe!==ne){var ht=Ce[qe];ht[1]===Ce[ne][1]&&(ht[1]=_e+rt),ht[2]===Ce[ne][2]&&(ht[2]=Ne+ot)}if(Ce[ne][1]=_e+rt,Ce[ne][2]=Ne+ot,!T(Ce))for(var vt=0;vt<Ye;vt++)for(var pt=0;pt<Ce[vt].length;pt++)Ce[vt][pt]=q[he][vt][pt]}else Ce[ne][1]=_e+Me,Ce[ne][2]=Ne+Oe;F()}}function K(){B()}function ce(){if(M.length&&M[he]&&M[he].length){for(var Me=[],Oe=0;Oe<M[he].length;Oe++)Oe!==ne&&Me.push(M[he][Oe]);Me.length>1&&!(Me.length===2&&Me[1][0]==="Z")&&(ne===0&&(Me[0][0]="M"),M[he]=Me,F(),B())}}function ae(Me,Oe){if(Me===2){he=+Oe.srcElement.getAttribute("data-i"),ne=+Oe.srcElement.getAttribute("data-j");var _e=M[he];!T(_e)&&!c(_e)&&ce()}}function de(Me){ie=[];for(var Oe=0;Oe<M.length;Oe++){var _e=M[Oe],Ne=T(_e),Ce=!Ne&&c(_e);ie[Oe]=[];for(var Ye=_e.length,rt=0;rt<Ye;rt++)if(_e[rt][0]!=="Z"&&!(Ce&&rt!==a&&rt!==n&&rt!==f&&rt!==u)){var ot=Ne&&N.isActiveSelection,$e;ot&&($e=E(_e,rt));var qe=_e[rt][1],ht=_e[rt][2],vt=Me.append(ot?"rect":"circle").attr("data-i",Oe).attr("data-j",rt).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(ot){var pt=$e[1]-qe,wt=$e[2]-ht,Mt=wt?5:Math.max(Math.min(25,Math.abs(pt)-5),5),nt=pt?5:Math.max(Math.min(25,Math.abs(wt)-5),5);vt.classed(wt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Mt).attr("height",nt).attr("x",qe-Mt/2).attr("y",ht-nt/2).attr("transform",L(pt/2,wt/2))}else vt.classed("cursor-grab",!0).attr("r",5).attr("cx",qe).attr("cy",ht);ie[Oe][rt]={element:vt.node(),gd:H,prepFn:ue,doneFn:K,clickFn:ae},o.init(ie[Oe][rt])}}}function be(Me,Oe){if(M.length)for(var _e=0;_e<M.length;_e++)for(var Ne=0;Ne<M[_e].length;Ne++)for(var Ce=0;Ce+2<M[_e][Ne].length;Ce+=2)M[_e][Ne][Ce+1]=q[_e][Ne][Ce+1]+Me,M[_e][Ne][Ce+2]=q[_e][Ne][Ce+2]+Oe}function Se(Me,Oe){be(Me,Oe),F()}function Te(Me){he=+Me.srcElement.getAttribute("data-i"),he||(he=0),oe[he].moveFn=Se}function Ie(){B()}function ke(Me){Me===2&&A(H)}function Be(){if(oe=[],!!M.length){var Me=0;oe[Me]={element:b[0][0],gd:H,prepFn:Te,doneFn:Ie,clickFn:ke},o.init(oe[Me])}}};function m(s,M){for(var b=0;b<M.length;b++){var N=M[b];s[b]=[];for(var k=0;k<N.length;k++){s[b][k]=[];for(var H=0;H<N[k].length;H++)s[b][k][H]=N[k][H]}}return s}function E(s,M){var b=s[M][1],N=s[M][2],k=s.length,H,F,B;return H=(M+1)%k,F=s[H][1],B=s[H][2],F===b&&B===N&&(H=(M+2)%k,F=s[H][1],B=s[H][2]),[H,F,B]}function A(s){if(v(s._fullLayout.dragmode)){y(s);var M=s._fullLayout._activeSelectionIndex,b=(s.layout||{}).selections||[];if(M<b.length){for(var N=[],k=0;k<b.length;k++)k!==M&&N.push(b[k]);delete s._fullLayout._activeSelectionIndex;var H=s._fullLayout.selections[M];s._fullLayout._deselect={xref:H.xref,yref:H.yref},g.call("_guiRelayout",s,{selections:N})}}}},4016:function(V,Y,e){var p=e(33428),L=e(24040),o=e(3400),C=e(54460),S=e(9856).readPaths,v=e(55496),g=e(60728),r=e(1936).clearOutlineControllers,t=e(76308),a=e(43616),n=e(31780).arrayEditor,f=e(86476),u=e(93972),l=e(85448),y=e(65152),h=y.getPathString;V.exports={draw:T,drawOne:d,eraseActiveShape:A,drawLabel:g};function T(s){var M=s._fullLayout;M._shapeUpperLayer.selectAll("path").remove(),M._shapeLowerLayer.selectAll("path").remove(),M._shapeUpperLayer.selectAll("text").remove(),M._shapeLowerLayer.selectAll("text").remove();for(var b in M._plots){var N=M._plots[b].shapelayer;N&&(N.selectAll("path").remove(),N.selectAll("text").remove())}for(var k=0;k<M.shapes.length;k++)M.shapes[k].visible===!0&&d(s,k)}function c(s){return!!s._fullLayout._outlining}function i(s){return!s._context.edits.shapePosition}function d(s,M){s._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+M+'"]').remove();var b=y.makeShapesOptionsAndPlotinfo(s,M),N=b.options,k=b.plotinfo;if(!N._input||N.visible!==!0)return;if(N.layer==="above")F(s._fullLayout._shapeUpperLayer);else if(N.xref==="paper"||N.yref==="paper")F(s._fullLayout._shapeLowerLayer);else if(N.layer==="between")F(k.shapelayerBetween);else if(k._hadPlotinfo){var H=k.mainplotinfo||k;F(H.shapelayer)}else F(s._fullLayout._shapeLowerLayer);function F(B){var U=h(s,N),z={"data-index":M,"fill-rule":N.fillrule,d:U},W=N.opacity,j=N.fillcolor,ee=N.line.width?N.line.color:"rgba(0,0,0,0)",ie=N.line.width,oe=N.line.dash;!ie&&N.editable===!0&&(ie=5,oe="solid");var he=U[U.length-1]!=="Z",ne=i(s)&&N.editable&&s._fullLayout._activeShapeIndex===M;ne&&(j=he?"rgba(0,0,0,0)":s._fullLayout.activeshape.fillcolor,W=s._fullLayout.activeshape.opacity);var q=B.append("g").classed("shape-group",!0).attr({"data-index":M}),le=q.append("path").attr(z).style("opacity",W).call(t.stroke,ee).call(t.fill,j).call(a.dashLine,oe,ie);x(q,s,N),g(s,M,N,q);var Q;if((ne||s._context.edits.shapePosition)&&(Q=n(s.layout,"shapes",N)),ne){le.style({cursor:"move"});var te={element:le.node(),plotinfo:k,gd:s,editHelpers:Q,hasText:N.label.text||N.label.texttemplate,isActiveShape:!0},ue=S(U,s);v(ue,le,te)}else s._context.edits.shapePosition?w(s,le,N,M,B,Q):N.editable===!0&&le.style("pointer-events",he||t.opacity(j)*W<=.5?"stroke":"all");le.node().addEventListener("click",function(){return m(s,le)})}}function x(s,M,b){var N=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");a.setClipUrl(s,N?"clip"+M._fullLayout._uid+N:null,M)}function w(s,M,b,N,k,H){var F=10,B=10,U=b.xsizemode==="pixel",z=b.ysizemode==="pixel",W=b.type==="line",j=b.type==="path",ee=H.modifyItem,ie,oe,he,ne,q,le,Q,te,ue,J,K,ce,ae,de,be,Se=p.select(M.node().parentNode),Te=C.getFromId(s,b.xref),Ie=C.getRefType(b.xref),ke=C.getFromId(s,b.yref),Be=C.getRefType(b.yref),Me=y.getDataToPixel(s,Te,!1,Ie),Oe=y.getDataToPixel(s,ke,!0,Be),_e=y.getPixelToData(s,Te,!1,Ie),Ne=y.getPixelToData(s,ke,!0,Be),Ce=ot(),Ye={element:Ce.node(),gd:s,prepFn:ht,doneFn:vt,clickFn:pt},rt;f.init(Ye),Ce.node().onmousemove=qe;function ot(){return W?$e():M}function $e(){var Ze=10,Ge=Math.max(b.line.width,Ze),Pe=k.append("g").attr("data-index",N).attr("drag-helper",!0);Pe.append("path").attr("d",M.attr("d")).style({cursor:"move","stroke-width":Ge,"stroke-opacity":"0"});var Re={"fill-opacity":"0"},je=Math.max(Ge/2,Ze);return Pe.append("circle").attr({"data-line-point":"start-point",cx:U?Me(b.xanchor)+b.x0:Me(b.x0),cy:z?Oe(b.yanchor)-b.y0:Oe(b.y0),r:je}).style(Re).classed("cursor-grab",!0),Pe.append("circle").attr({"data-line-point":"end-point",cx:U?Me(b.xanchor)+b.x1:Me(b.x1),cy:z?Oe(b.yanchor)-b.y1:Oe(b.y1),r:je}).style(Re).classed("cursor-grab",!0),Pe}function qe(Ze){if(c(s)){rt=null;return}if(W)Ze.target.tagName==="path"?rt="move":rt=Ze.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ge=Ye.element.getBoundingClientRect(),Pe=Ge.right-Ge.left,Re=Ge.bottom-Ge.top,je=Ze.clientX-Ge.left,De=Ze.clientY-Ge.top,ge=!j&&Pe>F&&Re>B&&!Ze.shiftKey?f.getCursor(je/Pe,1-De/Re):"move";u(M,ge),rt=ge.split("-")[0]}}function ht(Ze){c(s)||(U&&(q=Me(b.xanchor)),z&&(le=Oe(b.yanchor)),b.type==="path"?be=b.path:(ie=U?b.x0:Me(b.x0),oe=z?b.y0:Oe(b.y0),he=U?b.x1:Me(b.x1),ne=z?b.y1:Oe(b.y1)),ie<he?(ue=ie,ae="x0",J=he,de="x1"):(ue=he,ae="x1",J=ie,de="x0"),!z&&oe<ne||z&&oe>ne?(Q=oe,K="y0",te=ne,ce="y1"):(Q=ne,K="y1",te=oe,ce="y0"),qe(Ze),nt(k,b),We(M,b,s),Ye.moveFn=rt==="move"?wt:Mt,Ye.altKey=Ze.altKey)}function vt(){c(s)||(u(M),Fe(k),x(M,s,b),L.call("_guiRelayout",s,H.getUpdateObj()))}function pt(){c(s)||Fe(k)}function wt(Ze,Ge){if(b.type==="path"){var Pe=function(De){return De},Re=Pe,je=Pe;U?ee("xanchor",b.xanchor=_e(q+Ze)):(Re=function(ge){return _e(Me(ge)+Ze)},Te&&Te.type==="date"&&(Re=y.encodeDate(Re))),z?ee("yanchor",b.yanchor=Ne(le+Ge)):(je=function(ge){return Ne(Oe(ge)+Ge)},ke&&ke.type==="date"&&(je=y.encodeDate(je))),ee("path",b.path=_(be,Re,je))}else U?ee("xanchor",b.xanchor=_e(q+Ze)):(ee("x0",b.x0=_e(ie+Ze)),ee("x1",b.x1=_e(he+Ze))),z?ee("yanchor",b.yanchor=Ne(le+Ge)):(ee("y0",b.y0=Ne(oe+Ge)),ee("y1",b.y1=Ne(ne+Ge)));M.attr("d",h(s,b)),nt(k,b),g(s,N,b,Se)}function Mt(Ze,Ge){if(j){var Pe=function(gt){return gt},Re=Pe,je=Pe;U?ee("xanchor",b.xanchor=_e(q+Ze)):(Re=function(Kt){return _e(Me(Kt)+Ze)},Te&&Te.type==="date"&&(Re=y.encodeDate(Re))),z?ee("yanchor",b.yanchor=Ne(le+Ge)):(je=function(Kt){return Ne(Oe(Kt)+Ge)},ke&&ke.type==="date"&&(je=y.encodeDate(je))),ee("path",b.path=_(be,Re,je))}else if(W){if(rt==="resize-over-start-point"){var De=ie+Ze,ge=z?oe-Ge:oe+Ge;ee("x0",b.x0=U?De:_e(De)),ee("y0",b.y0=z?ge:Ne(ge))}else if(rt==="resize-over-end-point"){var we=he+Ze,Ue=z?ne-Ge:ne+Ge;ee("x1",b.x1=U?we:_e(we)),ee("y1",b.y1=z?Ue:Ne(Ue))}}else{var et=function(gt){return rt.indexOf(gt)!==-1},st=et("n"),lt=et("s"),Wt=et("w"),jt=et("e"),Tt=st?Q+Ge:Q,Rt=lt?te+Ge:te,Zt=Wt?ue+Ze:ue,mr=jt?J+Ze:J;z&&(st&&(Tt=Q-Ge),lt&&(Rt=te-Ge)),(!z&&Rt-Tt>B||z&&Tt-Rt>B)&&(ee(K,b[K]=z?Tt:Ne(Tt)),ee(ce,b[ce]=z?Rt:Ne(Rt))),mr-Zt>F&&(ee(ae,b[ae]=U?Zt:_e(Zt)),ee(de,b[de]=U?mr:_e(mr)))}M.attr("d",h(s,b)),nt(k,b),g(s,N,b,Se)}function nt(Ze,Ge){(U||z)&&Pe();function Pe(){var Re=Ge.type!=="path",je=Ze.selectAll(".visual-cue").data([0]),De=1;je.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":De}).classed("visual-cue",!0);var ge=Me(U?Ge.xanchor:o.midRange(Re?[Ge.x0,Ge.x1]:y.extractPathCoords(Ge.path,l.paramIsX))),we=Oe(z?Ge.yanchor:o.midRange(Re?[Ge.y0,Ge.y1]:y.extractPathCoords(Ge.path,l.paramIsY)));if(ge=y.roundPositionForSharpStrokeRendering(ge,De),we=y.roundPositionForSharpStrokeRendering(we,De),U&&z){var Ue="M"+(ge-1-De)+","+(we-1-De)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";je.attr("d",Ue)}else if(U){var et="M"+(ge-1-De)+","+(we-9-De)+"v18 h2 v-18 Z";je.attr("d",et)}else{var st="M"+(ge-9-De)+","+(we-1-De)+"h18 v2 h-18 Z";je.attr("d",st)}}}function Fe(Ze){Ze.selectAll(".visual-cue").remove()}function We(Ze,Ge,Pe){var Re=Ge.xref,je=Ge.yref,De=C.getFromId(Pe,Re),ge=C.getFromId(Pe,je),we="";Re!=="paper"&&!De.autorange&&(we+=Re),je!=="paper"&&!ge.autorange&&(we+=je),a.setClipUrl(Ze,we?"clip"+Pe._fullLayout._uid+we:null,Pe)}}function _(s,M,b){return s.replace(l.segmentRE,function(N){var k=0,H=N.charAt(0),F=l.paramIsX[H],B=l.paramIsY[H],U=l.numParams[H],z=N.substr(1).replace(l.paramRE,function(W){return k>=U||(F[k]?W=M(W):B[k]&&(W=b(W)),k++),W});return H+z})}function m(s,M){if(i(s)){var b=M.node(),N=+b.getAttribute("data-index");if(N>=0){if(N===s._fullLayout._activeShapeIndex){E(s);return}s._fullLayout._activeShapeIndex=N,s._fullLayout._deactivateShape=E,T(s)}}}function E(s){if(i(s)){var M=s._fullLayout._activeShapeIndex;M>=0&&(r(s),delete s._fullLayout._activeShapeIndex,T(s))}}function A(s){if(i(s)){r(s);var M=s._fullLayout._activeShapeIndex,b=(s.layout||{}).shapes||[];if(M<b.length){for(var N=[],k=0;k<b.length;k++)k!==M&&N.push(b[k]);return delete s._fullLayout._activeShapeIndex,L.call("_guiRelayout",s,{shapes:N})}}}},92872:function(V,Y,e){var p=e(67824).overrideAll,L=e(45464),o=e(25376),C=e(98192).u,S=e(92880).extendFlat,v=e(21776).ye,g=e(97728);V.exports=p({newshape:{visible:S({},L.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:S({},L.legend,{}),legendgroup:S({},L.legendgroup,{}),legendgrouptitle:{text:S({},L.legendgrouptitle.text,{}),font:o({})},legendrank:S({},L.legendrank,{}),legendwidth:S({},L.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:S({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:S({},L.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(g)}),font:o({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(V){var Y=32;V.exports={CIRCLE_SIDES:Y,i000:0,i090:Y/4,i180:Y/2,i270:Y/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(V,Y,e){var p=e(76308),L=e(3400);function o(C,S){return C?"bottom":S.indexOf("top")!==-1?"top":S.indexOf("bottom")!==-1?"bottom":"middle"}V.exports=function(S,v,g){g("newshape.visible"),g("newshape.name"),g("newshape.showlegend"),g("newshape.legend"),g("newshape.legendwidth"),g("newshape.legendgroup"),g("newshape.legendgrouptitle.text"),L.coerceFont(g,"newshape.legendgrouptitle.font"),g("newshape.legendrank"),g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity");var r=g("newshape.line.width");if(r){var t=(S||{}).plot_bgcolor||"#FFF";g("newshape.line.color",p.contrast(t)),g("newshape.line.dash")}var a=S.dragmode==="drawline",n=g("newshape.label.text"),f=g("newshape.label.texttemplate");if(n||f){g("newshape.label.textangle");var u=g("newshape.label.textposition",a?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",o(a,u)),g("newshape.label.padding"),L.coerceFont(g,"newshape.label.font",v.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},9856:function(V,Y,e){var p=e(21984),L=e(7e3),o=L.CIRCLE_SIDES,C=L.SQRT2,S=e(5840),v=S.p2r,g=S.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];Y.writePaths=function(f){var u=f.length;if(!u)return"M0,0Z";for(var l="",y=0;y<u;y++)for(var h=f[y].length,T=0;T<h;T++){var c=f[y][T][0];if(c==="Z")l+="Z";else for(var i=f[y][T].length,d=0;d<i;d++){var x=d;c==="Q"||c==="S"?x=t[d]:c==="C"&&(x=r[d]),l+=f[y][T][x],d>0&&d<i-1&&(l+=",")}}return l},Y.readPaths=function(f,u,l,y){var h=p(f),T=[],c=-1,i=function(){c++,T[c]=[]},d,x=0,w=0,_,m,E=function(){_=x,m=w};E();for(var A=0;A<h.length;A++){var s=[],M,b,N,k,H=h[A][0],F=H;switch(H){case"M":i(),x=+h[A][1],w=+h[A][2],s.push([F,x,w]),E();break;case"Q":case"S":M=+h[A][1],N=+h[A][2],x=+h[A][3],w=+h[A][4],s.push([F,x,w,M,N]);break;case"C":M=+h[A][1],N=+h[A][2],b=+h[A][3],k=+h[A][4],x=+h[A][5],w=+h[A][6],s.push([F,x,w,M,N,b,k]);break;case"T":case"L":x=+h[A][1],w=+h[A][2],s.push([F,x,w]);break;case"H":F="L",x=+h[A][1],s.push([F,x,w]);break;case"V":F="L",w=+h[A][1],s.push([F,x,w]);break;case"A":F="L";var B=+h[A][1],U=+h[A][2];+h[A][4]||(B=-B,U=-U);var z=x-B,W=w;for(d=1;d<=o/2;d++){var j=2*Math.PI*d/o;s.push([F,z+B*Math.cos(j),W+U*Math.sin(j)])}break;case"Z":(x!==_||w!==m)&&(x=_,w=m,s.push([F,x,w]));break}for(var ee=(l||{}).domain,ie=u._fullLayout._size,oe=l&&l.xsizemode==="pixel",he=l&&l.ysizemode==="pixel",ne=y===!1,q=0;q<s.length;q++){for(d=0;d+2<7;d+=2){var le=s[q][d+1],Q=s[q][d+2];le===void 0||Q===void 0||(x=le,w=Q,l&&(l.xaxis&&l.xaxis.p2r?(ne&&(le-=l.xaxis._offset),oe?le=g(l.xaxis,l.xanchor)+le:le=v(l.xaxis,le)):(ne&&(le-=ie.l),ee?le=ee.x[0]+le/ie.w:le=le/ie.w),l.yaxis&&l.yaxis.p2r?(ne&&(Q-=l.yaxis._offset),he?Q=g(l.yaxis,l.yanchor)-Q:Q=v(l.yaxis,Q)):(ne&&(Q-=ie.t),ee?Q=ee.y[1]-Q/ie.h:Q=1-Q/ie.h)),s[q][d+1]=le,s[q][d+2]=Q)}T[c].push(s[q].slice())}}return T};function a(f,u){return Math.abs(f-u)<=1e-6}function n(f,u){var l=u[1]-f[1],y=u[2]-f[2];return Math.sqrt(l*l+y*y)}Y.pointsOnRectangle=function(f){var u=f.length;if(u!==5)return!1;for(var l=1;l<3;l++){var y=f[0][l]-f[1][l],h=f[3][l]-f[2][l];if(!a(y,h))return!1;var T=f[0][l]-f[3][l],c=f[1][l]-f[2][l];if(!a(T,c))return!1}return!a(f[0][1],f[1][1])&&!a(f[0][1],f[3][1])?!1:!!(n(f[0],f[1])*n(f[0],f[3]))},Y.pointsOnEllipse=function(f){var u=f.length;if(u!==o+1)return!1;u=o;for(var l=0;l<u;l++){var y=(u*2-l)%u,h=(u/2+y)%u,T=(u/2+l)%u;if(!a(n(f[l],f[T]),n(f[y],f[h])))return!1}return!0},Y.handleEllipse=function(f,u,l){if(!f)return[u,l];var y=Y.ellipseOver({x0:u[0],y0:u[1],x1:l[0],y1:l[1]}),h=(y.x1+y.x0)/2,T=(y.y1+y.y0)/2,c=(y.x1-y.x0)/2,i=(y.y1-y.y0)/2;c||(c=i=i/C),i||(i=c=c/C);for(var d=[],x=0;x<o;x++){var w=x*2*Math.PI/o;d.push([h+c*Math.cos(w),T+i*Math.sin(w)])}return d},Y.ellipseOver=function(f){var u=f.x0,l=f.y0,y=f.x1,h=f.y1,T=y-u,c=h-l;u-=T,l-=c;var i=(u+y)/2,d=(l+h)/2,x=C;return T*=x,c*=x,{x0:i-T,y0:d-c,x1:i+T,y1:d+c}},Y.fixDatesForPaths=function(f,u,l){var y=u.type==="date",h=l.type==="date";if(!y&&!h)return f;for(var T=0;T<f.length;T++)for(var c=0;c<f[T].length;c++)for(var i=0;i+2<f[T][c].length;i+=2)y&&(f[T][c][i+1]=f[T][c][i+1].replace(" ","_")),h&&(f[T][c][i+2]=f[T][c][i+2].replace(" ","_"));return f}},93940:function(V,Y,e){var p=e(72760),L=p.drawMode,o=p.openMode,C=e(7e3),S=C.i000,v=C.i090,g=C.i180,r=C.i270,t=C.cos45,a=C.sin45,n=e(5840),f=n.p2r,u=n.r2p,l=e(1936),y=l.clearOutline,h=e(9856),T=h.readPaths,c=h.writePaths,i=h.ellipseOver,d=h.fixDatesForPaths;function x(_,m){if(_.length){var E=_[0][0];if(E){var A=m.gd,s=m.isActiveShape,M=m.dragmode,b=(A.layout||{}).shapes||[];if(!L(M)&&s!==void 0){var N=A._fullLayout._activeShapeIndex;if(N<b.length)switch(A._fullLayout.shapes[N].type){case"rect":M="drawrect";break;case"circle":M="drawcircle";break;case"line":M="drawline";break;case"path":var k=b[N].path||"";k[k.length-1]==="Z"?M="drawclosedpath":M="drawopenpath";break}}var H=w(_,m,M);y(A);for(var F=m.editHelpers,B=(F||{}).modifyItem,U=[],z=0;z<b.length;z++){var W=A._fullLayout.shapes[z];if(U[z]=W._input,s!==void 0&&z===A._fullLayout._activeShapeIndex){var j=H;switch(W.type){case"line":case"rect":case"circle":B("x0",j.x0),B("x1",j.x1),B("y0",j.y0),B("y1",j.y1);break;case"path":B("path",j.path);break}}}return s===void 0?(U.push(H),U):F?F.getUpdateObj():{}}}}function w(_,m,E){var A=_[0][0],s=m.gd,M=A.getAttribute("d"),b=s._fullLayout.newshape,N=m.plotinfo,k=m.isActiveShape,H=N.xaxis,F=N.yaxis,B=!!N.domain||!N.xaxis,U=!!N.domain||!N.yaxis,z=o(E),W=T(M,s,N,k),j={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:B?"paper":H._id,yref:U?"paper":F._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};z||(j.fillcolor=b.fillcolor,j.fillrule=b.fillrule);var ee;if(W.length===1&&(ee=W[0]),ee&&ee.length===5&&E==="drawrect")j.type="rect",j.x0=ee[0][1],j.y0=ee[0][2],j.x1=ee[2][1],j.y1=ee[2][2];else if(ee&&E==="drawline")j.type="line",j.x0=ee[0][1],j.y0=ee[0][2],j.x1=ee[1][1],j.y1=ee[1][2];else if(ee&&E==="drawcircle"){j.type="circle";var ie=ee[S][1],oe=ee[v][1],he=ee[g][1],ne=ee[r][1],q=ee[S][2],le=ee[v][2],Q=ee[g][2],te=ee[r][2],ue=N.xaxis&&(N.xaxis.type==="date"||N.xaxis.type==="log"),J=N.yaxis&&(N.yaxis.type==="date"||N.yaxis.type==="log");ue&&(ie=u(N.xaxis,ie),oe=u(N.xaxis,oe),he=u(N.xaxis,he),ne=u(N.xaxis,ne)),J&&(q=u(N.yaxis,q),le=u(N.yaxis,le),Q=u(N.yaxis,Q),te=u(N.yaxis,te));var K=(oe+ne)/2,ce=(q+Q)/2,ae=(ne-oe+he-ie)/2,de=(te-le+Q-q)/2,be=i({x0:K,y0:ce,x1:K+ae*t,y1:ce+de*a});ue&&(be.x0=f(N.xaxis,be.x0),be.x1=f(N.xaxis,be.x1)),J&&(be.y0=f(N.yaxis,be.y0),be.y1=f(N.yaxis,be.y1)),j.x0=be.x0,j.y0=be.y0,j.x1=be.x1,j.y1=be.y1}else j.type="path",H&&F&&d(W,H,F),j.path=c(W),ee=null;return j}V.exports={newShapes:x,createShapeObj:w}},1936:function(V){function Y(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}V.exports={clearOutlineControllers:Y,clearOutline:e}},65152:function(V,Y,e){var p=e(85448),L=e(3400),o=e(54460);Y.rangeToShapePosition=function(S){return S.type==="log"?S.r2d:function(v){return v}},Y.shapePositionToRange=function(S){return S.type==="log"?S.d2r:function(v){return v}},Y.decodeDate=function(S){return function(v){return v.replace&&(v=v.replace("_"," ")),S(v)}},Y.encodeDate=function(S){return function(v){return S(v).replace(" ","_")}},Y.extractPathCoords=function(S,v,g){var r=[],t=S.match(p.segmentRE);return t.forEach(function(a){var n=v[a.charAt(0)].drawn;if(n!==void 0){var f=a.substr(1).match(p.paramRE);if(!(!f||f.length<n)){var u=f[n],l=g?u:L.cleanNumber(u);r.push(l)}}}),r},Y.getDataToPixel=function(S,v,g,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){return v._length*(g?1-f:f)+v._offset};else{var n=Y.shapePositionToRange(v);a=function(f){return v._offset+v.r2p(n(f,!0))},v.type==="date"&&(a=Y.decodeDate(a))}else g?a=function(f){return t.t+t.h*(1-f)}:a=function(f){return t.l+t.w*f};return a},Y.getPixelToData=function(S,v,g,r){var t=S._fullLayout._size,a;if(v)if(r==="domain")a=function(f){var u=(f-v._offset)/v._length;return g?1-u:u};else{var n=Y.rangeToShapePosition(v);a=function(f){return n(v.p2r(f-v._offset))}}else g?a=function(f){return 1-(f-t.t)/t.h}:a=function(f){return(f-t.l)/t.w};return a},Y.roundPositionForSharpStrokeRendering=function(S,v){var g=Math.round(v%2)===1,r=Math.round(S);return g?r+.5:r},Y.makeShapesOptionsAndPlotinfo=function(S,v){var g=S._fullLayout.shapes[v]||{},r=S._fullLayout._plots[g.xref+g.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},g.xref&&g.xref!=="paper"&&(r.xaxis=S._fullLayout[g.xref+"axis"]),g.yref&&g.yref!=="paper"&&(r.yaxis=S._fullLayout[g.yref+"axis"])),r.xsizemode=g.xsizemode,r.ysizemode=g.ysizemode,r.xanchor=g.xanchor,r.yanchor=g.yanchor,{options:g,plotinfo:r}},Y.makeSelectionsOptionsAndPlotinfo=function(S,v){var g=S._fullLayout.selections[v]||{},r=S._fullLayout._plots[g.xref+g.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},g.xref&&(r.xaxis=S._fullLayout[g.xref+"axis"]),g.yref&&(r.yaxis=S._fullLayout[g.yref+"axis"])),{options:g,plotinfo:r}},Y.getPathString=function(S,v){var g=v.type,r=o.getRefType(v.xref),t=o.getRefType(v.yref),a=o.getFromId(S,v.xref),n=o.getFromId(S,v.yref),f=S._fullLayout._size,u,l,y,h,T,c,i,d;if(a?r==="domain"?l=function(N){return a._offset+a._length*N}:(u=Y.shapePositionToRange(a),l=function(N){return a._offset+a.r2p(u(N,!0))}):l=function(N){return f.l+f.w*N},n?t==="domain"?h=function(N){return n._offset+n._length*(1-N)}:(y=Y.shapePositionToRange(n),h=function(N){return n._offset+n.r2p(y(N,!0))}):h=function(N){return f.t+f.h*(1-N)},g==="path")return a&&a.type==="date"&&(l=Y.decodeDate(l)),n&&n.type==="date"&&(h=Y.decodeDate(h)),C(v,l,h);if(v.xsizemode==="pixel"){var x=l(v.xanchor);T=x+v.x0,c=x+v.x1}else T=l(v.x0),c=l(v.x1);if(v.ysizemode==="pixel"){var w=h(v.yanchor);i=w-v.y0,d=w-v.y1}else i=h(v.y0),d=h(v.y1);if(g==="line")return"M"+T+","+i+"L"+c+","+d;if(g==="rect")return"M"+T+","+i+"H"+c+"V"+d+"H"+T+"Z";var _=(T+c)/2,m=(i+d)/2,E=Math.abs(_-T),A=Math.abs(m-i),s="A"+E+","+A,M=_+E+","+m,b=_+","+(m-A);return"M"+M+s+" 0 1,1 "+b+s+" 0 0,1 "+M+"Z"};function C(S,v,g){var r=S.path,t=S.xsizemode,a=S.ysizemode,n=S.xanchor,f=S.yanchor;return r.replace(p.segmentRE,function(u){var l=0,y=u.charAt(0),h=p.paramIsX[y],T=p.paramIsY[y],c=p.numParams[y],i=u.substr(1).replace(p.paramRE,function(d){return h[l]?t==="pixel"?d=v(n)+Number(d):d=v(d):T[l]&&(a==="pixel"?d=g(f)-Number(d):d=g(d)),l++,l>c&&(d="X"),d});return l>c&&(i=i.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+u)),y+i})}},41592:function(V,Y,e){var p=e(4016);V.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:p.draw,drawOne:p.drawOne}},97728:function(V){function Y(u,l){return l?l.d2l(u):u}function e(u,l){return l?l.l2d(u):u}function p(u){return u.x0}function L(u){return u.x1}function o(u){return u.y0}function C(u){return u.y1}function S(u,l){return Y(u.x1,l)-Y(u.x0,l)}function v(u,l,y){return Y(u.y1,y)-Y(u.y0,y)}function g(u,l){return Math.abs(S(u,l))}function r(u,l,y){return Math.abs(v(u,l,y))}function t(u,l,y){return u.type!=="line"?void 0:Math.sqrt(Math.pow(S(u,l),2)+Math.pow(v(u,l,y),2))}function a(u,l){return e((Y(u.x1,l)+Y(u.x0,l))/2,l)}function n(u,l,y){return e((Y(u.y1,y)+Y(u.y0,y))/2,y)}function f(u,l,y){return u.type!=="line"?void 0:v(u,l,y)/S(u,l)}V.exports={x0:p,x1:L,y0:o,y1:C,slope:f,dx:S,dy:v,width:g,height:r,length:t,xcenter:a,ycenter:n}},89861:function(V,Y,e){var p=e(25376),L=e(66741),o=e(92880).extendDeepAll,C=e(67824).overrideAll,S=e(85656),v=e(31780).templatedArray,g=e(60876),r=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});V.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:S.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},60876:function(V){V.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(V,Y,e){var p=e(3400),L=e(51272),o=e(89861),C=e(60876),S=C.name,v=o.steps;V.exports=function(a,n){L(a,n,{name:S,handleItemDefaults:g})};function g(t,a,n){function f(d,x){return p.coerce(t,a,o,d,x)}for(var u=L(t,a,{name:"steps",handleItemDefaults:r}),l=0,y=0;y<u.length;y++)u[y].visible&&l++;var h;if(l<2?h=a.visible=!1:h=f("visible"),!!h){a._stepCount=l;var T=a._visibleSteps=p.filterVisible(u),c=f("active");(u[c]||{}).visible||(a.active=T[0]._index),f("x"),f("y"),p.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("len"),f("lenmode"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),p.coerceFont(f,"font",n.font);var i=f("currentvalue.visible");i&&(f("currentvalue.xanchor"),f("currentvalue.prefix"),f("currentvalue.suffix"),f("currentvalue.offset"),p.coerceFont(f,"currentvalue.font",a.font)),f("transition.duration"),f("transition.easing"),f("bgcolor"),f("activebgcolor"),f("bordercolor"),f("borderwidth"),f("ticklen"),f("tickwidth"),f("tickcolor"),f("minorticklen")}}function r(t,a){function n(l,y){return p.coerce(t,a,v,l,y)}var f;if(t.method!=="skip"&&!Array.isArray(t.args)?f=a.visible=!1:f=n("visible"),f){n("method"),n("args");var u=n("label","step-"+a._index);n("value",u),n("execute")}}},79664:function(V,Y,e){var p=e(33428),L=e(7316),o=e(76308),C=e(43616),S=e(3400),v=S.strTranslate,g=e(72736),r=e(31780).arrayEditor,t=e(60876),a=e(84284),n=a.LINE_SPACING,f=a.FROM_TL,u=a.FROM_BR;V.exports=function(B){var U=B._context.staticPlot,z=B._fullLayout,W=y(z,B),j=z._infolayer.selectAll("g."+t.containerClassName).data(W.length>0?[0]:[]);j.enter().append("g").classed(t.containerClassName,!0).style("cursor",U?null:"ew-resize");function ee(ne){ne._commandObserver&&(ne._commandObserver.remove(),delete ne._commandObserver),L.autoMargin(B,l(ne))}if(j.exit().each(function(){p.select(this).selectAll("g."+t.groupClassName).each(ee)}).remove(),W.length!==0){var ie=j.selectAll("g."+t.groupClassName).data(W,h);ie.enter().append("g").classed(t.groupClassName,!0),ie.exit().each(ee).remove();for(var oe=0;oe<W.length;oe++){var he=W[oe];T(B,he)}ie.each(function(ne){var q=p.select(this);s(ne),L.manageCommandObserver(B,ne,ne._visibleSteps,function(le){var Q=q.data()[0];Q.active!==le.index&&(Q._dragging||m(B,q,Q,le.index,!1,!0))}),c(B,p.select(this),ne)})}};function l(F){return t.autoMarginIdRoot+F._index}function y(F,B){for(var U=F[t.name],z=[],W=0;W<U.length;W++){var j=U[W];j.visible&&(j._gd=B,z.push(j))}return z}function h(F){return F._index}function T(F,B){var U=C.tester.selectAll("g."+t.labelGroupClass).data(B._visibleSteps);U.enter().append("g").classed(t.labelGroupClass,!0);var z=0,W=0;U.each(function(te){var ue=p.select(this),J=x(ue,{step:te},B),K=J.node();if(K){var ce=C.bBox(K);W=Math.max(W,ce.height),z=Math.max(z,ce.width)}}),U.remove();var j=B._dims={};j.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ee=F._fullLayout._size;j.lx=ee.l+ee.w*B.x,j.ly=ee.t+ee.h*(1-B.y),B.lenmode==="fraction"?j.outerLength=Math.round(ee.w*B.len):j.outerLength=B.len,j.inputAreaStart=0,j.inputAreaLength=Math.round(j.outerLength-B.pad.l-B.pad.r);var ie=j.inputAreaLength-2*t.stepInset,oe=ie/(B._stepCount-1),he=z+t.labelPadding;if(j.labelStride=Math.max(1,Math.ceil(he/oe)),j.labelHeight=W,j.currentValueMaxWidth=0,j.currentValueHeight=0,j.currentValueTotalHeight=0,j.currentValueMaxLines=1,B.currentvalue.visible){var ne=C.tester.append("g");U.each(function(te){var ue=i(ne,B,te.label),J=ue.node()&&C.bBox(ue.node())||{width:0,height:0},K=g.lineCount(ue);j.currentValueMaxWidth=Math.max(j.currentValueMaxWidth,Math.ceil(J.width)),j.currentValueHeight=Math.max(j.currentValueHeight,Math.ceil(J.height)),j.currentValueMaxLines=Math.max(j.currentValueMaxLines,K)}),j.currentValueTotalHeight=j.currentValueHeight+B.currentvalue.offset,ne.remove()}j.height=j.currentValueTotalHeight+t.tickOffset+B.ticklen+t.labelOffset+j.labelHeight+B.pad.t+B.pad.b;var q="left";S.isRightAnchor(B)&&(j.lx-=j.outerLength,q="right"),S.isCenterAnchor(B)&&(j.lx-=j.outerLength/2,q="center");var le="top";S.isBottomAnchor(B)&&(j.ly-=j.height,le="bottom"),S.isMiddleAnchor(B)&&(j.ly-=j.height/2,le="middle"),j.outerLength=Math.ceil(j.outerLength),j.height=Math.ceil(j.height),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly);var Q={y:B.y,b:j.height*u[le],t:j.height*f[le]};B.lenmode==="fraction"?(Q.l=0,Q.xl=B.x-B.len*f[q],Q.r=0,Q.xr=B.x+B.len*u[q]):(Q.x=B.x,Q.l=j.outerLength*f[q],Q.r=j.outerLength*u[q]),L.autoMargin(F,l(B),Q)}function c(F,B,U){(U.steps[U.active]||{}).visible||(U.active=U._visibleSteps[0]._index),B.call(i,U).call(H,U).call(w,U).call(A,U).call(k,F,U).call(d,F,U);var z=U._dims;C.setTranslate(B,z.lx+U.pad.l,z.ly+U.pad.t),B.call(M,U,!1),B.call(i,U)}function i(F,B,U){if(B.currentvalue.visible){var z=B._dims,W,j;switch(B.currentvalue.xanchor){case"right":W=z.inputAreaLength-t.currentValueInset-z.currentValueMaxWidth,j="left";break;case"center":W=z.inputAreaLength*.5,j="middle";break;default:W=t.currentValueInset,j="left"}var ee=S.ensureSingle(F,"text",t.labelClass,function(le){le.attr({"text-anchor":j,"data-notex":1})}),ie=B.currentvalue.prefix?B.currentvalue.prefix:"";if(typeof U=="string")ie+=U;else{var oe=B.steps[B.active].label,he=B._gd._fullLayout._meta;he&&(oe=S.templateString(oe,he)),ie+=oe}B.currentvalue.suffix&&(ie+=B.currentvalue.suffix),ee.call(C.font,B.currentvalue.font).text(ie).call(g.convertToTspans,B._gd);var ne=g.lineCount(ee),q=(z.currentValueMaxLines+1-ne)*B.currentvalue.font.size*n;return g.positionText(ee,W,q),ee}}function d(F,B,U){var z=S.ensureSingle(F,"rect",t.gripRectClass,function(W){W.call(E,B,F,U).style("pointer-events","all")});z.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(o.stroke,U.bordercolor).call(o.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function x(F,B,U){var z=S.ensureSingle(F,"text",t.labelClass,function(ee){ee.attr({"text-anchor":"middle","data-notex":1})}),W=B.step.label,j=U._gd._fullLayout._meta;return j&&(W=S.templateString(W,j)),z.call(C.font,U.font).text(W).call(g.convertToTspans,U._gd),z}function w(F,B){var U=S.ensureSingle(F,"g",t.labelsClass),z=B._dims,W=U.selectAll("g."+t.labelGroupClass).data(z.labelSteps);W.enter().append("g").classed(t.labelGroupClass,!0),W.exit().remove(),W.each(function(j){var ee=p.select(this);ee.call(x,j,B),C.setTranslate(ee,b(B,j.fraction),t.tickOffset+B.ticklen+B.font.size*n+t.labelOffset+z.currentValueTotalHeight)})}function _(F,B,U,z,W){var j=Math.round(z*(U._stepCount-1)),ee=U._visibleSteps[j]._index;ee!==U.active&&m(F,B,U,ee,!0,W)}function m(F,B,U,z,W,j){var ee=U.active;U.active=z,r(F.layout,t.name,U).applyUpdate("active",z);var ie=U.steps[U.active];B.call(M,U,j),B.call(i,U),F.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:W,previousActive:ee}),ie&&ie.method&&W&&(B._nextMethod?(B._nextMethod.step=ie,B._nextMethod.doCallback=W,B._nextMethod.doTransition=j):(B._nextMethod={step:ie,doCallback:W,doTransition:j},B._nextMethodRaf=window.requestAnimationFrame(function(){var oe=B._nextMethod.step;oe.method&&(oe.execute&&L.executeAPICommand(F,oe.method,oe.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function E(F,B,U){if(B._context.staticPlot)return;var z=U.node(),W=p.select(B);function j(){return U.data()[0]}function ee(){var ie=j();B.emit("plotly_sliderstart",{slider:ie});var oe=U.select("."+t.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),oe.call(o.fill,ie.activebgcolor);var he=N(ie,p.mouse(z)[0]);_(B,U,ie,he,!0),ie._dragging=!0;function ne(){var le=j(),Q=N(le,p.mouse(z)[0]);_(B,U,le,Q,!1)}W.on("mousemove",ne),W.on("touchmove",ne);function q(){var le=j();le._dragging=!1,oe.call(o.fill,le.bgcolor),W.on("mouseup",null),W.on("mousemove",null),W.on("touchend",null),W.on("touchmove",null),B.emit("plotly_sliderend",{slider:le,step:le.steps[le.active]})}W.on("mouseup",q),W.on("touchend",q)}F.on("mousedown",ee),F.on("touchstart",ee)}function A(F,B){var U=F.selectAll("rect."+t.tickRectClass).data(B._visibleSteps),z=B._dims;U.enter().append("rect").classed(t.tickRectClass,!0),U.exit().remove(),U.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(W,j){var ee=j%z.labelStride===0,ie=p.select(this);ie.attr({height:ee?B.ticklen:B.minorticklen}).call(o.fill,B.tickcolor),C.setTranslate(ie,b(B,j/(B._stepCount-1))-.5*B.tickwidth,(ee?t.tickOffset:t.minorTickOffset)+z.currentValueTotalHeight)})}function s(F){var B=F._dims;B.labelSteps=[];for(var U=F._stepCount,z=0;z<U;z+=B.labelStride)B.labelSteps.push({fraction:z/(U-1),step:F._visibleSteps[z]})}function M(F,B,U){for(var z=F.select("rect."+t.gripRectClass),W=0,j=0;j<B._stepCount;j++)if(B._visibleSteps[j]._index===B.active){W=j;break}var ee=b(B,W/(B._stepCount-1));if(!B._invokingCommand){var ie=z;U&&B.transition.duration>0&&(ie=ie.transition().duration(B.transition.duration).ease(B.transition.easing)),ie.attr("transform",v(ee-t.gripWidth*.5,B._dims.currentValueTotalHeight))}}function b(F,B){var U=F._dims;return U.inputAreaStart+t.stepInset+(U.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,B))}function N(F,B){var U=F._dims;return Math.min(1,Math.max(0,(B-t.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*t.stepInset-2*U.inputAreaStart)))}function k(F,B,U){var z=U._dims,W=S.ensureSingle(F,"rect",t.railTouchRectClass,function(j){j.call(E,B,F,U).style("pointer-events","all")});W.attr({width:z.inputAreaLength,height:Math.max(z.inputAreaWidth,t.tickOffset+U.ticklen+z.labelHeight)}).call(o.fill,U.bgcolor).attr("opacity",0),C.setTranslate(W,0,z.currentValueTotalHeight)}function H(F,B){var U=B._dims,z=U.inputAreaLength-t.railInset*2,W=S.ensureSingle(F,"rect",t.railRectClass);W.attr({width:z,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,B.bordercolor).call(o.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),C.setTranslate(W,t.railInset,(U.inputAreaWidth-t.railWidth)*.5+U.currentValueTotalHeight)}},97544:function(V,Y,e){var p=e(60876);V.exports={moduleType:"component",name:p.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(V,Y,e){var p=e(33428),L=e(38248),o=e(7316),C=e(24040),S=e(3400),v=S.strTranslate,g=e(43616),r=e(76308),t=e(72736),a=e(13448),n=e(84284).OPPOSITE_SIDE,f=/ [XY][0-9]* /;function u(l,y,h){var T=h.propContainer,c=h.propName,i=h.placeholder,d=h.traceIndex,x=h.avoid||{},w=h.attributes,_=h.transform,m=h.containerGroup,E=l._fullLayout,A=1,s=!1,M=T.title,b=(M&&M.text?M.text:"").trim(),N=M&&M.font?M.font:{},k=N.family,H=N.size,F=N.color,B=N.weight,U=N.style,z=N.variant,W=N.textcase,j=N.lineposition,ee=N.shadow,ie;c==="title.text"?ie="titleText":c.indexOf("axis")!==-1?ie="axisTitleText":c.indexOf("colorbar"!==-1)&&(ie="colorbarTitleText");var oe=l._context.edits[ie];b===""?A=0:b.replace(f," % ")===i.replace(f," % ")&&(A=.2,s=!0,oe||(b="")),h._meta?b=S.templateString(b,h._meta):E._meta&&(b=S.templateString(b,E._meta));var he=b||oe,ne;m||(m=S.ensureSingle(E._infolayer,"g","g-"+y),ne=E._hColorbarMoveTitle);var q=m.selectAll("text").data(he?[0]:[]);if(q.enter().append("text"),q.text(b).attr("class",y),q.exit().remove(),!he)return m;function le(J){S.syncOrAsync([Q,te],J)}function Q(J){var K;return!_&&ne&&(_={}),_?(K="",_.rotate&&(K+="rotate("+[_.rotate,w.x,w.y]+")"),(_.offset||ne)&&(K+=v(0,(_.offset||0)-(ne||0)))):K=null,J.attr("transform",K),J.style("opacity",A*r.opacity(F)).call(g.font,{color:r.rgb(F),size:p.round(H,2),family:k,weight:B,style:U,variant:z,textcase:W,shadow:ee,lineposition:j}).attr(w).call(t.convertToTspans,l),o.previousPromises(l)}function te(J){var K=p.select(J.node().parentNode);if(x&&x.selection&&x.side&&b){K.attr("transform",null);var ce=n[x.side],ae=x.side==="left"||x.side==="top"?-1:1,de=L(x.pad)?x.pad:2,be=g.bBox(K.node()),Se={t:0,b:0,l:0,r:0},Te=l._fullLayout._reservedMargin;for(var Ie in Te)for(var ke in Te[Ie]){var Be=Te[Ie][ke];Se[ke]=Math.max(Se[ke],Be)}var Me={left:Se.l,top:Se.t,right:E.width-Se.r,bottom:E.height-Se.b},Oe=x.maxShift||ae*(Me[x.side]-be[x.side]),_e=0;if(Oe<0)_e=Oe;else{var Ne=x.offsetLeft||0,Ce=x.offsetTop||0;be.left-=Ne,be.right-=Ne,be.top-=Ce,be.bottom-=Ce,x.selection.each(function(){var rt=g.bBox(this);S.bBoxIntersect(be,rt,de)&&(_e=Math.max(_e,ae*(rt[x.side]-be[ce])+de))}),_e=Math.min(Oe,_e),T._titleScoot=Math.abs(_e)}if(_e>0||Oe<0){var Ye={left:[-_e,0],right:[_e,0],top:[0,-_e],bottom:[0,_e]}[x.side];K.attr("transform",v(Ye[0],Ye[1]))}}}q.call(le);function ue(){A=0,s=!0,q.text(i).on("mouseover.opacity",function(){p.select(this).transition().duration(a.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(a.HIDE_PLACEHOLDER).style("opacity",0)})}return oe&&(b?q.on(".opacity",null):ue(),q.call(t.makeEditable,{gd:l}).on("edit",function(J){d!==void 0?C.call("_guiRestyle",l,c,J,d):C.call("_guiRelayout",l,c,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(le)}).on("input",function(J){this.text(J||" ").call(t.positionText,w.x,w.y)})),q.classed("js-placeholder",s),m}V.exports={draw:u}},88444:function(V,Y,e){var p=e(25376),L=e(22548),o=e(92880).extendFlat,C=e(67824).overrideAll,S=e(66741),v=e(31780).templatedArray,g=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});V.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(S({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(V){V.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},91384:function(V,Y,e){var p=e(3400),L=e(51272),o=e(88444),C=e(73712),S=C.name,v=o.buttons;V.exports=function(a,n){var f={name:S,handleItemDefaults:g};L(a,n,f)};function g(t,a,n){function f(y,h){return p.coerce(t,a,o,y,h)}var u=L(t,a,{name:"buttons",handleItemDefaults:r}),l=f("visible",u.length>0);l&&(f("active"),f("direction"),f("type"),f("showactive"),f("x"),f("y"),p.noneOrAll(t,a,["x","y"]),f("xanchor"),f("yanchor"),f("pad.t"),f("pad.r"),f("pad.b"),f("pad.l"),p.coerceFont(f,"font",n.font),f("bgcolor",n.paper_bgcolor),f("bordercolor"),f("borderwidth"))}function r(t,a){function n(u,l){return p.coerce(t,a,v,u,l)}var f=n("visible",t.method==="skip"||Array.isArray(t.args));f&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},14420:function(V,Y,e){var p=e(33428),L=e(7316),o=e(76308),C=e(43616),S=e(3400),v=e(72736),g=e(31780).arrayEditor,r=e(84284).LINE_SPACING,t=e(73712),a=e(37400);V.exports=function(N){var k=N._fullLayout,H=S.filterVisible(k[t.name]);function F(oe){L.autoMargin(N,A(oe))}var B=k._menulayer.selectAll("g."+t.containerClassName).data(H.length>0?[0]:[]);if(B.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),B.exit().each(function(){p.select(this).selectAll("g."+t.headerGroupClassName).each(F)}).remove(),H.length!==0){var U=B.selectAll("g."+t.headerGroupClassName).data(H,n);U.enter().append("g").classed(t.headerGroupClassName,!0);for(var z=S.ensureSingle(B,"g",t.dropdownButtonGroupClassName,function(oe){oe.style("pointer-events","all")}),W=0;W<H.length;W++){var j=H[W];E(N,j)}var ee="updatemenus"+k._uid,ie=new a(N,z,ee);U.enter().size()&&(z.node().parentNode.appendChild(z.node()),z.call(M)),U.exit().each(function(oe){z.call(M),F(oe)}).remove(),U.each(function(oe){var he=p.select(this),ne=oe.type==="dropdown"?z:null;L.manageCommandObserver(N,oe,oe.buttons,function(q){l(N,oe,oe.buttons[q.index],he,ne,ie,q.index,!0)}),oe.type==="dropdown"?(y(N,he,z,ie,oe),u(z,oe)&&h(N,he,z,ie,oe)):h(N,he,null,null,oe)})}};function n(b){return b._index}function f(b){return+b.attr(t.menuIndexAttrName)==-1}function u(b,N){return+b.attr(t.menuIndexAttrName)===N._index}function l(b,N,k,H,F,B,U,z){N.active=U,g(b.layout,t.name,N).applyUpdate("active",U),N.type==="buttons"?h(b,H,null,null,N):N.type==="dropdown"&&(F.attr(t.menuIndexAttrName,"-1"),y(b,H,F,B,N),z||h(b,H,F,B,N))}function y(b,N,k,H,F){var B=S.ensureSingle(N,"g",t.headerClassName,function(oe){oe.style("pointer-events","all")}),U=F._dims,z=F.active,W=F.buttons[z]||t.blankHeaderOpts,j={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},ee={width:U.headerWidth,height:U.headerHeight};B.call(i,F,W,b).call(s,F,j,ee);var ie=S.ensureSingle(N,"text",t.headerArrowClassName,function(oe){oe.attr("text-anchor","end").call(C.font,F.font).text(t.arrowSymbol[F.direction])});ie.attr({x:U.headerWidth-t.arrowOffsetX+F.pad.l,y:U.headerHeight/2+t.textOffsetY+F.pad.t}),B.on("click",function(){k.call(M,String(u(k,F)?-1:F._index)),h(b,N,k,H,F)}),B.on("mouseover",function(){B.call(_)}),B.on("mouseout",function(){B.call(m,F)}),C.setTranslate(N,U.lx,U.ly)}function h(b,N,k,H,F){k||(k=N,k.attr("pointer-events","all"));var B=!f(k)||F.type==="buttons"?F.buttons:[],U=F.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,z=k.selectAll("g."+U).data(S.filterVisible(B)),W=z.enter().append("g").classed(U,!0),j=z.exit();F.type==="dropdown"?(W.attr("opacity","0").transition().attr("opacity","1"),j.transition().attr("opacity","0").remove()):j.remove();var ee=0,ie=0,oe=F._dims,he=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(he?ie=oe.headerHeight+t.gapButtonHeader:ee=oe.headerWidth+t.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(ie=-t.gapButtonHeader+t.gapButton-oe.openHeight),F.type==="dropdown"&&F.direction==="left"&&(ee=-t.gapButtonHeader+t.gapButton-oe.openWidth);var ne={x:oe.lx+ee+F.pad.l,y:oe.ly+ie+F.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},q={l:ne.x+F.borderwidth,t:ne.y+F.borderwidth};z.each(function(le,Q){var te=p.select(this);te.call(i,F,le,b).call(s,F,ne),te.on("click",function(){p.event.defaultPrevented||(le.execute&&(le.args2&&F.active===Q?(l(b,F,le,N,k,H,-1),L.executeAPICommand(b,le.method,le.args2)):(l(b,F,le,N,k,H,Q),L.executeAPICommand(b,le.method,le.args))),b.emit("plotly_buttonclicked",{menu:F,button:le,active:F.active}))}),te.on("mouseover",function(){te.call(_)}),te.on("mouseout",function(){te.call(m,F),z.call(w,F)})}),z.call(w,F),he?(q.w=Math.max(oe.openWidth,oe.headerWidth),q.h=ne.y-q.t):(q.w=ne.x-q.l,q.h=Math.max(oe.openHeight,oe.headerHeight)),q.direction=F.direction,H&&(z.size()?T(b,N,k,H,F,q):c(H))}function T(b,N,k,H,F,B){var U=F.direction,z=U==="up"||U==="down",W=F._dims,j=F.active,ee,ie,oe;if(z)for(ie=0,oe=0;oe<j;oe++)ie+=W.heights[oe]+t.gapButton;else for(ee=0,oe=0;oe<j;oe++)ee+=W.widths[oe]+t.gapButton;H.enable(B,ee,ie),H.hbar&&H.hbar.attr("opacity","0").transition().attr("opacity","1"),H.vbar&&H.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(b){var N=!!b.hbar,k=!!b.vbar;N&&b.hbar.transition().attr("opacity","0").each("end",function(){N=!1,k||b.disable()}),k&&b.vbar.transition().attr("opacity","0").each("end",function(){k=!1,N||b.disable()})}function i(b,N,k,H){b.call(d,N).call(x,N,k,H)}function d(b,N){var k=S.ensureSingle(b,"rect",t.itemRectClassName,function(H){H.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});k.call(o.stroke,N.bordercolor).call(o.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px")}function x(b,N,k,H){var F=S.ensureSingle(b,"text",t.itemTextClassName,function(z){z.attr({"text-anchor":"start","data-notex":1})}),B=k.label,U=H._fullLayout._meta;U&&(B=S.templateString(B,U)),F.call(C.font,N.font).text(B).call(v.convertToTspans,H)}function w(b,N){var k=N.active;b.each(function(H,F){var B=p.select(this);F===k&&N.showactive&&B.select("rect."+t.itemRectClassName).call(o.fill,t.activeColor)})}function _(b){b.select("rect."+t.itemRectClassName).call(o.fill,t.hoverColor)}function m(b,N){b.select("rect."+t.itemRectClassName).call(o.fill,N.bgcolor)}function E(b,N){var k=N._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},H=C.tester.selectAll("g."+t.dropdownButtonClassName).data(S.filterVisible(N.buttons));H.enter().append("g").classed(t.dropdownButtonClassName,!0);var F=["up","down"].indexOf(N.direction)!==-1;H.each(function(ee,ie){var oe=p.select(this);oe.call(i,N,ee,b);var he=oe.select("."+t.itemTextClassName),ne=he.node()&&C.bBox(he.node()).width,q=Math.max(ne+t.textPadX,t.minWidth),le=N.font.size*r,Q=v.lineCount(he),te=Math.max(le*Q,t.minHeight)+t.textOffsetY;te=Math.ceil(te),q=Math.ceil(q),k.widths[ie]=q,k.heights[ie]=te,k.height1=Math.max(k.height1,te),k.width1=Math.max(k.width1,q),F?(k.totalWidth=Math.max(k.totalWidth,q),k.openWidth=k.totalWidth,k.totalHeight+=te+t.gapButton,k.openHeight+=te+t.gapButton):(k.totalWidth+=q+t.gapButton,k.openWidth+=q+t.gapButton,k.totalHeight=Math.max(k.totalHeight,te),k.openHeight=k.totalHeight)}),F?k.totalHeight-=t.gapButton:k.totalWidth-=t.gapButton,k.headerWidth=k.width1+t.arrowPadX,k.headerHeight=k.height1,N.type==="dropdown"&&(F?(k.width1+=t.arrowPadX,k.totalHeight=k.height1):k.totalWidth=k.width1,k.totalWidth+=t.arrowPadX),H.remove();var B=k.totalWidth+N.pad.l+N.pad.r,U=k.totalHeight+N.pad.t+N.pad.b,z=b._fullLayout._size;k.lx=z.l+z.w*N.x,k.ly=z.t+z.h*(1-N.y);var W="left";S.isRightAnchor(N)&&(k.lx-=B,W="right"),S.isCenterAnchor(N)&&(k.lx-=B/2,W="center");var j="top";S.isBottomAnchor(N)&&(k.ly-=U,j="bottom"),S.isMiddleAnchor(N)&&(k.ly-=U/2,j="middle"),k.totalWidth=Math.ceil(k.totalWidth),k.totalHeight=Math.ceil(k.totalHeight),k.lx=Math.round(k.lx),k.ly=Math.round(k.ly),L.autoMargin(b,A(N),{x:N.x,y:N.y,l:B*({right:1,center:.5}[W]||0),r:B*({left:1,center:.5}[W]||0),b:U*({top:1,middle:.5}[j]||0),t:U*({bottom:1,middle:.5}[j]||0)})}function A(b){return t.autoMarginIdRoot+b._index}function s(b,N,k,H){H=H||{};var F=b.select("."+t.itemRectClassName),B=b.select("."+t.itemTextClassName),U=N.borderwidth,z=k.index,W=N._dims;C.setTranslate(b,U+k.x,U+k.y);var j=["up","down"].indexOf(N.direction)!==-1,ee=H.height||(j?W.heights[z]:W.height1);F.attr({x:0,y:0,width:H.width||(j?W.width1:W.widths[z]),height:ee});var ie=N.font.size*r,oe=v.lineCount(B),he=(oe-1)*ie/2;v.positionText(B,t.textOffsetX,ee/2-he+t.textOffsetY),j?k.y+=W.heights[z]+k.yPad:k.x+=W.widths[z]+k.xPad,k.index++}function M(b,N){b.attr(t.menuIndexAttrName,N||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},76908:function(V,Y,e){var p=e(73712);V.exports={moduleType:"component",name:p.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(V,Y,e){V.exports=S;var p=e(33428),L=e(76308),o=e(43616),C=e(3400);function S(v,g,r){this.gd=v,this.container=g,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}S.barWidth=2,S.barLength=20,S.barRadius=2,S.barPad=1,S.barColor="#808BA4",S.prototype.enable=function(g,r,t){var a=this.gd._fullLayout,n=a.width,f=a.height;this.position=g;var u=this.position.l,l=this.position.w,y=this.position.t,h=this.position.h,T=this.position.direction,c=T==="down",i=T==="left",d=T==="right",x=T==="up",w=l,_=h,m,E,A,s;!c&&!i&&!d&&!x&&(this.position.direction="down",c=!0);var M=c||x;M?(m=u,E=m+w,c?(A=y,s=Math.min(A+_,f),_=s-A):(s=y+_,A=Math.max(s-_,0),_=s-A)):(A=y,s=A+_,i?(E=u+w,m=Math.max(E-w,0),w=E-m):(m=u,E=Math.min(m+w,n),w=E-m)),this._box={l:m,t:A,w,h:_};var b=l>w,N=S.barLength+2*S.barPad,k=S.barWidth+2*S.barPad,H=u,F=y+h;F+k>f&&(F=f-k);var B=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,S.barColor),b?(this.hbar=B.attr({rx:S.barRadius,ry:S.barRadius,x:H,y:F,width:N,height:k}),this._hbarXMin=H+N/2,this._hbarTranslateMax=w-N):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=h>_,z=S.barWidth+2*S.barPad,W=S.barLength+2*S.barPad,j=u+l,ee=y;j+z>n&&(j=n-z);var ie=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);ie.exit().on(".drag",null).remove(),ie.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,S.barColor),U?(this.vbar=ie.attr({rx:S.barRadius,ry:S.barRadius,x:j,y:ee,width:z,height:W}),this._vbarYMin=ee+W/2,this._vbarTranslateMax=_-W):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var oe=this.id,he=m-.5,ne=U?E+z+.5:E+.5,q=A-.5,le=b?s+k+.5:s+.5,Q=a._topdefs.selectAll("#"+oe).data(b||U?[0]:[]);if(Q.exit().remove(),Q.enter().append("clipPath").attr("id",oe).append("rect"),b||U?(this._clipRect=Q.select("rect").attr({x:Math.floor(he),y:Math.floor(q),width:Math.ceil(ne)-Math.floor(he),height:Math.ceil(le)-Math.floor(q)}),this.container.call(o.setClipUrl,oe,this.gd),this.bg.attr({x:u,y,width:l,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),b||U){var te=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(te);var ue=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(ue),U&&this.vbar.on(".drag",null).call(ue)}this.setTranslate(r,t)},S.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},S.prototype._onBoxDrag=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g-=p.event.dx),this.vbar&&(r-=p.event.dy),this.setTranslate(g,r)},S.prototype._onBoxWheel=function(){var g=this.translateX,r=this.translateY;this.hbar&&(g+=p.event.deltaY),this.vbar&&(r+=p.event.deltaY),this.setTranslate(g,r)},S.prototype._onBarDrag=function(){var g=this.translateX,r=this.translateY;if(this.hbar){var t=g+this._hbarXMin,a=t+this._hbarTranslateMax,n=C.constrain(p.event.x,t,a),f=(n-t)/(a-t),u=this.position.w-this._box.w;g=f*u}if(this.vbar){var l=r+this._vbarYMin,y=l+this._vbarTranslateMax,h=C.constrain(p.event.y,l,y),T=(h-l)/(y-l),c=this.position.h-this._box.h;r=T*c}this.setTranslate(g,r)},S.prototype.setTranslate=function(g,r){var t=this.position.w-this._box.w,a=this.position.h-this._box.h;if(g=C.constrain(g||0,0,t),r=C.constrain(r||0,0,a),this.translateX=g,this.translateY=r,this.container.call(o.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var n=g/t;this.hbar.call(o.setTranslate,g+n*this._hbarTranslateMax,r)}if(this.vbar){var f=r/a;this.vbar.call(o.setTranslate,g,r+f*this._vbarTranslateMax)}}},84284:function(V){V.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(V){V.exports={axisRefDescription:function(Y,e,p){return["If set to a",Y,"axis id (e.g. *"+Y+"* or","*"+Y+"2*), the `"+Y+"` position refers to a",Y,"coordinate. If set to *paper*, the `"+Y+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",Y,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+Y+"2 domain* refers to the domain of the second",Y," axis and a",Y,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",Y,"axis."].join(" ")}}},48164:function(V){V.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},26880:function(V){V.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(V){V.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(V){V.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(V){V.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},13448:function(V){V.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(V){V.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},2264:function(V,Y){Y.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],Y.STYLE=Y.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(V,Y){Y.xmlns="http://www.w3.org/2000/xmlns/",Y.svg="http://www.w3.org/2000/svg",Y.xlink="http://www.w3.org/1999/xlink",Y.svgAttrs={xmlns:Y.svg,"xmlns:xlink":Y.xlink}},64884:function(V,Y,e){Y.version=e(25788).version,e(88324),e(79288);for(var p=e(24040),L=Y.register=p.register,o=e(22448),C=Object.keys(o),S=0;S<C.length;S++){var v=C[S];v.charAt(0)!=="_"&&(Y[v]=o[v]),L({moduleType:"apiMethod",name:v,fn:o[v]})}L(e(65875)),L([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),L([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),Y.Icons=e(9224);var g=e(93024),r=e(7316);Y.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},Y.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},Y.Snapshot=e(78904),Y.PlotSchema=e(73060)},9224:function(V){V.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(V,Y){Y.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},Y.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},Y.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},Y.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},Y.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},Y.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},11864:function(V,Y,e){var p=e(20435),L=p.mod,o=p.modHalf,C=Math.PI,S=2*C;function v(T){return T/180*C}function g(T){return T/C*180}function r(T){return Math.abs(T[1]-T[0])>S-1e-14}function t(T,c){return o(c-T,S)}function a(T,c){return Math.abs(t(T,c))}function n(T,c){if(r(c))return!0;var i,d;c[0]<c[1]?(i=c[0],d=c[1]):(i=c[1],d=c[0]),i=L(i,S),d=L(d,S),i>d&&(d+=S);var x=L(T,S),w=x+S;return x>=i&&x<=d||w>=i&&w<=d}function f(T,c,i,d){if(!n(c,d))return!1;var x,w;return i[0]<i[1]?(x=i[0],w=i[1]):(x=i[1],w=i[0]),T>=x&&T<=w}function u(T,c,i,d,x,w,_){x=x||0,w=w||0;var m=r([i,d]),E,A,s,M,b;m?(E=0,A=C,s=S):i<d?(E=i,s=d):(E=d,s=i),T<c?(M=T,b=c):(M=c,b=T);function N(B,U){return[B*Math.cos(U)+x,w-B*Math.sin(U)]}var k=Math.abs(s-E)<=C?0:1;function H(B,U,z){return"A"+[B,B]+" "+[0,k,z]+" "+N(B,U)}var F;return m?M===null?F="M"+N(b,E)+H(b,A,0)+H(b,s,0)+"Z":F="M"+N(M,E)+H(M,A,0)+H(M,s,0)+"ZM"+N(b,E)+H(b,A,1)+H(b,s,1)+"Z":M===null?(F="M"+N(b,E)+H(b,s,0),_&&(F+="L0,0Z")):F="M"+N(M,E)+"L"+N(b,E)+H(b,s,0)+"L"+N(M,s)+H(M,E,1)+"Z",F}function l(T,c,i,d,x){return u(null,T,c,i,d,x,0)}function y(T,c,i,d,x){return u(null,T,c,i,d,x,1)}function h(T,c,i,d,x,w){return u(T,c,i,d,x,w,1)}V.exports={deg2rad:v,rad2deg:g,angleDelta:t,angleDist:a,isFullCircle:r,isAngleInsideSector:n,isPtInsideSector:f,pathArc:l,pathSector:y,pathAnnulus:h}},38116:function(V,Y,e){var p=e(83160).decode,L=e(63620),o=Array.isArray,C=ArrayBuffer,S=DataView;function v(u){return C.isView(u)&&!(u instanceof S)}Y.isTypedArray=v;function g(u){return o(u)||v(u)}Y.isArrayOrTypedArray=g;function r(u){return!g(u[0])}Y.isArray1D=r,Y.ensureArray=function(u,l){return o(u)||(u=[]),u.length=l,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function a(u){return u.constructor===ArrayBuffer}Y.isArrayBuffer=a,Y.decodeTypedArraySpec=function(u){var l=[],y=n(u),h=y.dtype,T=t[h];if(!T)throw new Error('Error in dtype: "'+h+'"');var c=T.BYTES_PER_ELEMENT,i=y.bdata;a(i)||(i=p(i));var d=y.shape===void 0?[i.byteLength/c]:(""+y.shape).split(",");d.reverse();var x=d.length,w,_,m=+d[0],E=c*m,A=0;if(x===1)l=new T(i);else if(x===2)for(w=+d[1],_=0;_<w;_++)l[_]=new T(i,A,m),A+=E;else if(x===3){w=+d[1];for(var s=+d[2],M=0;M<s;M++)for(l[M]=[],_=0;_<w;_++)l[M][_]=new T(i,A,m),A+=E}else throw new Error("ndim: "+x+'is not supported with the shape:"'+y.shape+'"');return l.bdata=y.bdata,l.dtype=y.dtype,l.shape=d.reverse().join(","),u._inputArray=l,l},Y.isTypedArraySpec=function(u){return L(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||a(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function n(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}Y.concat=function(){var u=[],l=!0,y=0,h,T,c,i,d,x,w,_;for(c=0;c<arguments.length;c++)i=arguments[c],x=i.length,x&&(T?u.push(i):(T=i,d=x),o(i)?h=!1:(l=!1,y?h!==i.constructor&&(h=!1):h=i.constructor),y+=x);if(!y)return[];if(!u.length)return T;if(l)return T.concat.apply(T,u);if(h){for(w=new h(y),w.set(T),c=0;c<u.length;c++)i=u[c],w.set(i,d),d+=i.length;return w}for(w=new Array(y),_=0;_<T.length;_++)w[_]=T[_];for(c=0;c<u.length;c++){for(i=u[c],_=0;_<i.length;_++)w[d+_]=i[_];d+=_}return w},Y.maxRowLength=function(u){return f(u,Math.max,0)},Y.minRowLength=function(u){return f(u,Math.min,1/0)};function f(u,l,y){if(g(u))if(g(u[0])){for(var h=y,T=0;T<u.length;T++)h=l(h,u[T].length);return h}else return u.length;return 0}},54037:function(V,Y,e){var p=e(38248),L=e(39032).BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;V.exports=function(S){return typeof S=="string"&&(S=S.replace(o,"")),p(S)?Number(S):L}},73696:function(V){V.exports=function(e){var p=e._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},75352:function(V){V.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},63064:function(V,Y,e){var p=e(38248),L=e(49760),o=e(92880).extendFlat,C=e(45464),S=e(88304),v=e(76308),g=e(13448).DESELECTDIM,r=e(22296),t=e(53756).counter,a=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,f=e(38116).isTypedArraySpec,u=e(38116).decodeTypedArraySpec;Y.valObjectMeta={data_array:{coerceFunction:function(y,h,T){h.set(n(y)?y:f(y)?u(y):T)}},enumerated:{coerceFunction:function(y,h,T,c){c.coerceNumber&&(y=+y),c.values.indexOf(y)===-1?h.set(T):h.set(y)},validateFunction:function(y,h){h.coerceNumber&&(y=+y);for(var T=h.values,c=0;c<T.length;c++){var i=String(T[c]);if(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"){var d=new RegExp(i.substr(1,i.length-2));if(d.test(y))return!0}else if(y===T[c])return!0}return!1}},boolean:{coerceFunction:function(y,h,T){y===!0||y===!1?h.set(y):h.set(T)}},number:{coerceFunction:function(y,h,T,c){f(y)&&(y=u(y)),!p(y)||c.min!==void 0&&y<c.min||c.max!==void 0&&y>c.max?h.set(T):h.set(+y)}},integer:{coerceFunction:function(y,h,T,c){if((c.extras||[]).indexOf(y)!==-1){h.set(y);return}f(y)&&(y=u(y)),y%1||!p(y)||c.min!==void 0&&y<c.min||c.max!==void 0&&y>c.max?h.set(T):h.set(+y)}},string:{coerceFunction:function(y,h,T,c){if(typeof y!="string"){var i=typeof y=="number";c.strict===!0||!i?h.set(T):h.set(String(y))}else c.noBlank&&!y?h.set(T):h.set(y)}},color:{coerceFunction:function(y,h,T){f(y)&&(y=u(y)),L(y).isValid()?h.set(y):h.set(T)}},colorlist:{coerceFunction:function(y,h,T){function c(i){return L(i).isValid()}!Array.isArray(y)||!y.length?h.set(T):y.every(c)?h.set(y):h.set(T)}},colorscale:{coerceFunction:function(y,h,T){h.set(S.get(y,T))}},angle:{coerceFunction:function(y,h,T){f(y)&&(y=u(y)),y==="auto"?h.set("auto"):p(y)?h.set(a(+y,360)):h.set(T)}},subplotid:{coerceFunction:function(y,h,T,c){var i=c.regex||t(T);if(typeof y=="string"&&i.test(y)){h.set(y);return}h.set(T)},validateFunction:function(y,h){var T=h.dflt;return y===T?!0:typeof y!="string"?!1:!!t(T).test(y)}},flaglist:{coerceFunction:function(y,h,T,c){if((c.extras||[]).indexOf(y)!==-1){h.set(y);return}if(typeof y!="string"){h.set(T);return}for(var i=y.split("+"),d=0;d<i.length;){var x=i[d];c.flags.indexOf(x)===-1||i.indexOf(x)<d?i.splice(d,1):d++}i.length?h.set(i.join("+")):h.set(T)}},any:{coerceFunction:function(y,h,T){y===void 0?h.set(T):h.set(f(y)?u(y):y)}},info_array:{coerceFunction:function(y,h,T,c){function i(F,B,U){var z,W={set:function(j){z=j}};return U===void 0&&(U=B.dflt),Y.valObjectMeta[B.valType].coerceFunction(F,W,U,B),z}if(f(y)&&(y=u(y)),!n(y)){h.set(T);return}var d=c.dimensions===2||c.dimensions==="1-2"&&Array.isArray(y)&&n(y[0]),x=c.items,w=[],_=Array.isArray(x),m=_&&d&&n(x[0]),E=d&&_&&!m,A=_&&!E?x.length:y.length,s,M,b,N,k,H;if(T=Array.isArray(T)?T:[],d)for(s=0;s<A;s++)for(w[s]=[],b=n(y[s])?y[s]:[],E?k=x.length:_?k=x[s].length:k=b.length,M=0;M<k;M++)E?N=x[M]:_?N=x[s][M]:N=x,H=i(b[M],N,(T[s]||[])[M]),H!==void 0&&(w[s][M]=H);else for(s=0;s<A;s++)H=i(y[s],_?x[s]:x,T[s]),H!==void 0&&(w[s]=H);h.set(w)},validateFunction:function(y,h){if(!n(y))return!1;var T=h.items,c=Array.isArray(T),i=h.dimensions===2;if(!h.freeLength&&y.length!==T.length)return!1;for(var d=0;d<y.length;d++)if(i){if(!n(y[d])||!h.freeLength&&y[d].length!==T[d].length)return!1;for(var x=0;x<y[d].length;x++)if(!l(y[d][x],c?T[d][x]:T))return!1}else if(!l(y[d],c?T[d]:T))return!1;return!0}}},Y.coerce=function(y,h,T,c,i){var d=r(T,c).get(),x=r(y,c),w=r(h,c),_=x.get(),m=h._template;if(_===void 0&&m&&(_=r(m,c).get(),m=0),i===void 0&&(i=d.dflt),d.arrayOk){if(n(_))return w.set(_),_;if(f(_))return _=u(_),w.set(_),_}var E=Y.valObjectMeta[d.valType].coerceFunction;E(_,w,i,d);var A=w.get();return m&&A===i&&!l(_,d)&&(_=r(m,c).get(),E(_,w,i,d),A=w.get()),A},Y.coerce2=function(y,h,T,c,i){var d=r(y,c),x=Y.coerce(y,h,T,c,i),w=d.get();return w!=null?x:!1},Y.coerceFont=function(y,h,T,c){c||(c={}),T=o({},T),T=o(T,c.overrideDflt||{});var i={family:y(h+".family",T.family),size:y(h+".size",T.size),color:y(h+".color",T.color),weight:y(h+".weight",T.weight),style:y(h+".style",T.style)};if(c.noFontVariant||(i.variant=y(h+".variant",T.variant)),c.noFontLineposition||(i.lineposition=y(h+".lineposition",T.lineposition)),c.noFontTextcase||(i.textcase=y(h+".textcase",T.textcase)),!c.noFontShadow){var d=T.shadow;d==="none"&&c.autoShadowDflt&&(d="auto"),i.shadow=y(h+".shadow",d)}return i},Y.coercePattern=function(y,h,T,c){var i=y(h+".shape");if(i){y(h+".solidity"),y(h+".size");var d=y(h+".fillmode"),x=d==="overlay";if(!c){var w=y(h+".bgcolor",x?T:void 0);y(h+".fgcolor",x?v.contrast(w):T)}y(h+".fgopacity",x?.5:1)}},Y.coerceHoverinfo=function(y,h,T){var c=h._module.attributes,i=c.hoverinfo?c:C,d=i.hoverinfo,x;if(T._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),x=w.join("+")}return Y.coerce(y,h,i,"hoverinfo",x)},Y.coerceSelectionMarkerOpacity=function(y,h){if(y.marker){var T=y.marker.opacity;if(T!==void 0){var c,i;!n(T)&&!y.selected&&!y.unselected&&(c=T,i=g*T),h("selected.marker.opacity",c),h("unselected.marker.opacity",i)}}};function l(y,h){var T=Y.valObjectMeta[h.valType];if(h.arrayOk&&n(y))return!0;if(T.validateFunction)return T.validateFunction(y,h);var c={},i=c,d={set:function(x){i=x}};return T.coerceFunction(y,d,c,h),i!==c}Y.validate=l},67555:function(V,Y,e){var p=e(94336).Yn,L=e(38248),o=e(24248),C=e(20435).mod,S=e(39032),v=S.BADNUM,g=S.ONEDAY,r=S.ONEHOUR,t=S.ONEMIN,a=S.ONESEC,n=S.EPOCHJD,f=e(24040),u=e(94336).E9,l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function T(F){return F&&f.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}Y.dateTick0=function(F,B){var U=c(F,!!B);if(B<2)return U;var z=Y.dateTime2ms(U,F);return z+=g*(B-1),Y.ms2DateTime(z,0,F)};function c(F,B){return T(F)?B?f.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:f.getComponentMethod("calendars","CANONICAL_TICK")[F]:B?"2000-01-02":"2000-01-01"}Y.dfltRange=function(F){return T(F)?f.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},Y.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var i,d;Y.dateTime2ms=function(F,B){if(Y.isJSDate(F)){var U=F.getTimezoneOffset()*t,z=(F.getUTCMinutes()-F.getMinutes())*t+(F.getUTCSeconds()-F.getSeconds())*a+(F.getUTCMilliseconds()-F.getMilliseconds());if(z){var W=3*t;U=U-W/2+C(z-U+W/2,W)}return F=Number(F)-U,F>=i&&F<=d?F:v}if(typeof F!="string"&&typeof F!="number")return v;F=String(F);var j=T(B),ee=F.charAt(0);j&&(ee==="G"||ee==="g")&&(F=F.substr(1),B="");var ie=j&&B.substr(0,7)==="chinese",oe=F.match(ie?y:l);if(!oe)return v;var he=oe[1],ne=oe[3]||"1",q=Number(oe[5]||1),le=Number(oe[7]||0),Q=Number(oe[9]||0),te=Number(oe[11]||0);if(j){if(he.length===2)return v;he=Number(he);var ue;try{var J=f.getComponentMethod("calendars","getCal")(B);if(ie){var K=ne.charAt(ne.length-1)==="i";ne=parseInt(ne,10),ue=J.newDate(he,J.toMonthIndex(he,ne,K),q)}else ue=J.newDate(he,Number(ne),q)}catch{return v}return ue?(ue.toJD()-n)*g+le*r+Q*t+te*a:v}he.length===2?he=(Number(he)+2e3-h)%100+h:he=Number(he),ne-=1;var ce=new Date(Date.UTC(2e3,ne,q,le,Q));return ce.setUTCFullYear(he),ce.getUTCMonth()!==ne||ce.getUTCDate()!==q?v:ce.getTime()+te*a},i=Y.MIN_MS=Y.dateTime2ms("-9999"),d=Y.MAX_MS=Y.dateTime2ms("9999-12-31 23:59:59.9999"),Y.isDateTime=function(F,B){return Y.dateTime2ms(F,B)!==v};function x(F,B){return String(F+Math.pow(10,B)).substr(1)}var w=90*g,_=3*r,m=5*t;Y.ms2DateTime=function(F,B,U){if(typeof F!="number"||!(F>=i&&F<=d))return v;B||(B=0);var z=Math.floor(C(F+.05,1)*10),W=Math.round(F-z/10),j,ee,ie,oe,he,ne;if(T(U)){var q=Math.floor(W/g)+n,le=Math.floor(C(F,g));try{j=f.getComponentMethod("calendars","getCal")(U).fromJD(q).formatDate("yyyy-mm-dd")}catch{j=u("G%Y-%m-%d")(new Date(W))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;ee=B<w?Math.floor(le/r):0,ie=B<w?Math.floor(le%r/t):0,oe=B<_?Math.floor(le%t/a):0,he=B<m?le%a*10+z:0}else ne=new Date(W),j=u("%Y-%m-%d")(ne),ee=B<w?ne.getUTCHours():0,ie=B<w?ne.getUTCMinutes():0,oe=B<_?ne.getUTCSeconds():0,he=B<m?ne.getUTCMilliseconds()*10+z:0;return E(j,ee,ie,oe,he)},Y.ms2DateTimeLocal=function(F){if(!(F>=i+g&&F<=d-g))return v;var B=Math.floor(C(F+.05,1)*10),U=new Date(Math.round(F-B/10)),z=p("%Y-%m-%d")(U),W=U.getHours(),j=U.getMinutes(),ee=U.getSeconds(),ie=U.getUTCMilliseconds()*10+B;return E(z,W,j,ee,ie)};function E(F,B,U,z,W){if((B||U||z||W)&&(F+=" "+x(B,2)+":"+x(U,2),(z||W)&&(F+=":"+x(z,2),W))){for(var j=4;W%10===0;)j-=1,W/=10;F+="."+x(W,j)}return F}Y.cleanDate=function(F,B,U){if(F===v)return B;if(Y.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(T(U))return o.error("JS Dates and milliseconds are incompatible with world calendars",F),B;if(F=Y.ms2DateTimeLocal(+F),!F&&B!==void 0)return B}else if(!Y.isDateTime(F,U))return o.error("unrecognized date",F),B;return F};var A=/%\d?f/g,s=/%h/g,M={1:"1",2:"1",3:"2",4:"2"};function b(F,B,U,z){F=F.replace(A,function(j){var ee=Math.min(+j.charAt(1)||6,6),ie=(B/1e3%1+2).toFixed(ee).substr(2).replace(/0+$/,"")||"0";return ie});var W=new Date(Math.floor(B+.05));if(F=F.replace(s,function(){return M[U("%q")(W)]}),T(z))try{F=f.getComponentMethod("calendars","worldCalFmt")(F,B,z)}catch{return"Invalid"}return U(F)(W)}var N=[59,59.9,59.99,59.999,59.9999];function k(F,B){var U=C(F+.05,g),z=x(Math.floor(U/r),2)+":"+x(C(Math.floor(U/t),60),2);if(B!=="M"){L(B)||(B=0);var W=Math.min(C(F/a,60),N[B]),j=(100+W).toFixed(B).substr(1);B>0&&(j=j.replace(/0+$/,"").replace(/[\.]$/,"")),z+=":"+j}return z}Y.formatDate=function(F,B,U,z,W,j){if(W=T(W)&&W,!B)if(U==="y")B=j.year;else if(U==="m")B=j.month;else if(U==="d")B=j.dayMonth+`
`+j.year;else return k(F,U)+`
`+b(j.dayMonthYear,F,z,W);return b(B,F,z,W)};var H=3*g;Y.incrementMonth=function(F,B,U){U=T(U)&&U;var z=C(F,g);if(F=Math.round(F-z),U)try{var W=Math.round(F/g)+n,j=f.getComponentMethod("calendars","getCal")(U),ee=j.fromJD(W);return B%12?j.add(ee,B,"m"):j.add(ee,B/12,"y"),(ee.toJD()-n)*g+z}catch{o.error("invalid ms "+F+" in calendar "+U)}var ie=new Date(F+H);return ie.setUTCMonth(ie.getUTCMonth()+B)+z-H},Y.findExactDates=function(F,B){for(var U=0,z=0,W=0,j=0,ee,ie,oe=T(B)&&f.getComponentMethod("calendars","getCal")(B),he=0;he<F.length;he++){if(ie=F[he],!L(ie)){j++;continue}if(!(ie%g))if(oe)try{ee=oe.fromJD(ie/g+n),ee.day()===1?ee.month()===1?U++:z++:W++}catch{}else ee=new Date(ie),ee.getUTCDate()===1?ee.getUTCMonth()===0?U++:z++:W++}z+=U,W+=z;var ne=F.length-j;return{exactYears:U/ne,exactMonths:z/ne,exactDays:W/ne}}},52200:function(V,Y,e){var p=e(33428),L=e(24248),o=e(52248),C=e(36524);function S(h){var T;if(typeof h=="string"){if(T=document.getElementById(h),T===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return T}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var T=p.select(h);return T.node()instanceof HTMLElement&&T.size()&&T.classed("js-plotly-plot")}function g(h){var T=h&&h.parentNode;T&&T.removeChild(h)}function r(h,T){t("global",h,T)}function t(h,T,c){var i="plotly.js-style-"+h,d=document.getElementById(i);d||(d=document.createElement("style"),d.setAttribute("id",i),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var x=d.sheet;x.insertRule?x.insertRule(T+"{"+c+"}",0):x.addRule?x.addRule(T,c,0):L.warn("addStyleRule failed")}function a(h){var T="plotly.js-style-"+h,c=document.getElementById(T);c&&g(c)}function n(h){var T=u(h),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return T.forEach(function(i){var d=f(i);if(d){var x=o.convertCssMatrix(d);c=C.multiply(c,c,x)}}),c}function f(h){var T=window.getComputedStyle(h,null),c=T.getPropertyValue("-webkit-transform")||T.getPropertyValue("-moz-transform")||T.getPropertyValue("-ms-transform")||T.getPropertyValue("-o-transform")||T.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(i){return+i})}function u(h){for(var T=[];l(h);)T.push(h),h=h.parentNode,typeof ShadowRoot=="function"&&h instanceof ShadowRoot&&(h=h.host);return T}function l(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function y(h,T){return h&&T&&h.top===T.top&&h.left===T.left&&h.right===T.right&&h.bottom===T.bottom}V.exports={getGraphDiv:S,isPlotDiv:v,removeElement:g,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:a,getFullTransformMatrix:n,getElementTransformMatrix:f,getElementAndAncestors:u,equalDomRects:y}},95924:function(V,Y,e){var p=e(61252).EventEmitter,L={init:function(o){if(o._ev instanceof p)return o;var C=new p,S=new p;return o._ev=C,o._internalEv=S,o.on=C.on.bind(C),o.once=C.once.bind(C),o.removeListener=C.removeListener.bind(C),o.removeAllListeners=C.removeAllListeners.bind(C),o._internalOn=S.on.bind(S),o._internalOnce=S.once.bind(S),o._removeInternalListener=S.removeListener.bind(S),o._removeAllInternalListeners=S.removeAllListeners.bind(S),o.emit=function(v,g){typeof jQuery<"u"&&jQuery(o).trigger(v,g),C.emit(v,g),S.emit(v,g)},o},triggerHandler:function(o,C,S){var v,g;typeof jQuery<"u"&&(v=jQuery(o).triggerHandler(C,S));var r=o._ev;if(!r)return v;var t=r._events[C];if(!t)return v;function a(f){if(f.listener){if(r.removeListener(C,f.listener),!f.fired)return f.fired=!0,f.listener.apply(r,[S])}else return f.apply(r,[S])}t=Array.isArray(t)?t:[t];var n;for(n=0;n<t.length-1;n++)a(t[n]);return g=a(t[n]),v!==void 0?v:g},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}};V.exports=L},92880:function(V,Y,e){var p=e(63620),L=Array.isArray;function o(S,v){var g,r;for(g=0;g<S.length;g++){if(r=S[g],r!==null&&typeof r=="object")return!1;r!==void 0&&(v[g]=r)}return!0}Y.extendFlat=function(){return C(arguments,!1,!1,!1)},Y.extendDeep=function(){return C(arguments,!0,!1,!1)},Y.extendDeepAll=function(){return C(arguments,!0,!0,!1)},Y.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(S,v,g,r){var t=S[0],a=S.length,n,f,u,l,y,h,T;if(a===2&&L(t)&&L(S[1])&&t.length===0){if(T=o(S[1],t),T)return t;t.splice(0,t.length)}for(var c=1;c<a;c++){n=S[c];for(f in n)u=t[f],l=n[f],r&&L(l)?t[f]=l:v&&l&&(p(l)||(y=L(l)))?(y?(y=!1,h=u&&L(u)?u:[]):h=u&&p(u)?u:{},t[f]=C([h,l],v,g,r)):(typeof l<"u"||g)&&(t[f]=l)}return t}},68944:function(V){V.exports=function(e){for(var p={},L=[],o=0,C=0;C<e.length;C++){var S=e[C];p[S]!==1&&(p[S]=1,L[o++]=S)}return L}},43880:function(V){V.exports=function(o){for(var C=p(o)?e:Y,S=[],v=0;v<o.length;v++){var g=o[v];C(g)&&S.push(g)}return S};function Y(L){return L.visible===!0}function e(L){var o=L[0].trace;return o.visible===!0&&o._length!==0}function p(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},27144:function(V,Y,e){var p=e(33428),L=e(36116),o=e(40440),C=e(77844),S=e(42428),v=e(35536),g=e(24248),r=e(63620),t=e(22296),a=e(92065),n=Object.keys(L),f={"ISO-3":v,"USA-states":v,"country names":u};function u(x){for(var w=0;w<n.length;w++){var _=n[w],m=new RegExp(L[_]);if(m.test(x.trim().toLowerCase()))return _}return g.log("Unrecognized country name: "+x+"."),!1}function l(x,w,_){if(!w||typeof w!="string")return!1;var m=f[x](w),E,A,s;if(m){if(x==="USA-states")for(E=[],s=0;s<_.length;s++)A=_[s],A.properties&&A.properties.gu&&A.properties.gu==="USA"&&E.push(A);else E=_;for(s=0;s<E.length;s++)if(A=E[s],A.id===m)return A;g.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(x){var w=x.geometry,_=w.coordinates,m=x.id,E=[],A,s,M,b;function N(k){for(var H=0;H<k.length-1;H++)if(k[H][0]>0&&k[H+1][0]<0)return H;return null}switch(m==="RUS"||m==="FJI"?A=function(k){var H;if(N(k)===null)H=k;else for(H=new Array(k.length),b=0;b<k.length;b++)H[b]=[k[b][0]<0?k[b][0]+360:k[b][0],k[b][1]];E.push(a.tester(H))}:m==="ATA"?A=function(k){var H=N(k);if(H===null)return E.push(a.tester(k));var F=new Array(k.length+1),B=0;for(b=0;b<k.length;b++)b>H?F[B++]=[k[b][0]+360,k[b][1]]:b===H?(F[B++]=k[b],F[B++]=[k[b][0],-90]):F[B++]=k[b];var U=a.tester(F);U.pts.pop(),E.push(U)}:A=function(k){E.push(a.tester(k))},w.type){case"MultiPolygon":for(s=0;s<_.length;s++)for(M=0;M<_[s].length;M++)A(_[s][M]);break;case"Polygon":for(s=0;s<_.length;s++)A(_[s]);break}return E}function h(x){var w=x.geojson,_=window.PlotlyGeoAssets||{},m=typeof w=="string"?_[w]:w;return r(m)?m:(g.error("Oops ... something went wrong when fetching "+w),!1)}function T(x){var w=x[0].trace,_=h(w);if(!_)return!1;var m={},E=[],A;for(A=0;A<w._length;A++){var s=x[A];(s.loc||s.loc===0)&&(m[s.loc]=s)}function M(k){var H=t(k,w.featureidkey||"id").get(),F=m[H];if(F){var B=k.geometry;if(B.type==="Polygon"||B.type==="MultiPolygon"){var U={type:"Feature",id:H,geometry:B,properties:{}};U.properties.ct=c(U),F.fIn=k,F.fOut=U,E.push(U)}else g.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[H]}switch(_.type){case"FeatureCollection":var b=_.features;for(A=0;A<b.length;A++)M(b[A]);break;case"Feature":M(_);break;default:return g.warn(["Invalid GeoJSON type",(_.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var N in m)g.log(["Location *"+N+"*","does not have a matching feature with id-key","*"+w.featureidkey+"*."].join(" "));return E}function c(x){var w=x.geometry,_;if(w.type==="MultiPolygon")for(var m=w.coordinates,E=0,A=0;A<m.length;A++){var s={type:"Polygon",coordinates:m[A]},M=o.default(s);M>E&&(E=M,_=s)}else _=w;return C.default(_).geometry.coordinates}function i(x){var w=window.PlotlyGeoAssets||{},_=[];function m(b){return new Promise(function(N,k){p.json(b,function(H,F){if(H){delete w[b];var B=H.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return k(new Error(B))}return w[b]=F,N(F)})})}function E(b){return new Promise(function(N,k){var H=0,F=setInterval(function(){if(w[b]&&w[b]!=="pending")return clearInterval(F),N(w[b]);if(H>100)return clearInterval(F),k("Unexpected error while fetching from "+b);H++},50)})}for(var A=0;A<x.length;A++){var s=x[A][0].trace,M=s.geojson;typeof M=="string"&&(w[M]?w[M]==="pending"&&_.push(E(M)):(w[M]="pending",_.push(m(M))))}return _}function d(x){return S.default(x)}V.exports={locationToFeature:l,feature2polygons:y,getTraceGeojson:h,extractTraceFeature:T,fetchTraceGeoData:i,computeBbox:d}},44808:function(V,Y,e){var p=e(39032).BADNUM;Y.calcTraceToLineCoords=function(L){for(var o=L[0].trace,C=o.connectgaps,S=[],v=[],g=0;g<L.length;g++){var r=L[g],t=r.lonlat;t[0]!==p?v.push(t):!C&&v.length>0&&(S.push(v),v=[])}return v.length>0&&S.push(v),S},Y.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},Y.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var o=new Array(L.length),C=0;C<L.length;C++)o[C]=[L[C]];return{type:"MultiPolygon",coordinates:o}},Y.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(V,Y,e){var p=e(20435).mod;Y.segmentsIntersect=L;function L(g,r,t,a,n,f,u,l){var y=t-g,h=n-g,T=u-n,c=a-r,i=f-r,d=l-f,x=y*d-T*c;if(x===0)return null;var w=(h*d-T*i)/x,_=(h*c-y*i)/x;return _<0||_>1||w<0||w>1?null:{x:g+y*w,y:r+c*w}}Y.segmentDistance=function(r,t,a,n,f,u,l,y){if(L(r,t,a,n,f,u,l,y))return 0;var h=a-r,T=n-t,c=l-f,i=y-u,d=h*h+T*T,x=c*c+i*i,w=Math.min(o(h,T,d,f-r,u-t),o(h,T,d,l-r,y-t),o(c,i,x,r-f,t-u),o(c,i,x,a-f,n-u));return Math.sqrt(w)};function o(g,r,t,a,n){var f=a*g+n*r;if(f<0)return a*a+n*n;if(f>t){var u=a-g,l=n-r;return u*u+l*l}else{var y=a*r-n*g;return y*y/t}}var C,S,v;Y.getTextLocation=function(r,t,a,n){if((r!==S||n!==v)&&(C={},S=r,v=n),C[a])return C[a];var f=r.getPointAtLength(p(a-n/2,t)),u=r.getPointAtLength(p(a+n/2,t)),l=Math.atan((u.y-f.y)/(u.x-f.x)),y=r.getPointAtLength(p(a,t)),h=(y.x*4+f.x+u.x)/6,T=(y.y*4+f.y+u.y)/6,c={x:h,y:T,theta:l};return C[a]=c,c},Y.clearLocationCache=function(){S=null},Y.getVisibleSegment=function(r,t,a){var n=t.left,f=t.right,u=t.top,l=t.bottom,y=0,h=r.getTotalLength(),T=h,c,i;function d(w){var _=r.getPointAtLength(w);w===0?c=_:w===h&&(i=_);var m=_.x<n?n-_.x:_.x>f?_.x-f:0,E=_.y<u?u-_.y:_.y>l?_.y-l:0;return Math.sqrt(m*m+E*E)}for(var x=d(y);x;){if(y+=x+a,y>T)return;x=d(y)}for(x=d(T);x;){if(T-=x+a,y>T)return;x=d(T)}return{min:y,max:T,len:T-y,total:h,isClosed:y===0&&T===h&&Math.abs(c.x-i.x)<.1&&Math.abs(c.y-i.y)<.1}},Y.findPointOnPath=function(r,t,a,n){n=n||{};for(var f=n.pathLength||r.getTotalLength(),u=n.tolerance||.001,l=n.iterationLimit||30,y=r.getPointAtLength(0)[a]>r.getPointAtLength(f)[a]?-1:1,h=0,T=0,c=f,i,d,x;h<l;){if(i=(T+c)/2,d=r.getPointAtLength(i),x=d[a]-t,Math.abs(x)<u)return d;y*x>0?c=i:T=i,h++}return d}},33040:function(V,Y,e){var p=e(38248),L=e(49760),o=e(72160),C=e(8932),S=e(22548).defaultLine,v=e(38116).isArrayOrTypedArray,g=o(S),r=1;function t(l,y){var h=l;return h[3]*=y,h}function a(l){if(p(l))return g;var y=o(l);return y.length?y:g}function n(l){return p(l)?l:r}function f(l,y,h){var T=l.color;T&&T._inputArray&&(T=T._inputArray);var c=v(T),i=v(y),d=C.extractOpts(l),x=[],w,_,m,E,A;if(d.colorscale!==void 0?w=C.makeColorScaleFuncFromTrace(l):w=a,c?_=function(M,b){return M[b]===void 0?g:o(w(M[b]))}:_=a,i?m=function(M,b){return M[b]===void 0?r:n(M[b])}:m=n,c||i)for(var s=0;s<h;s++)E=_(T,s),A=m(y,s),x[s]=t(E,A);else x=t(o(T),y);return x}function u(l){var y=C.extractOpts(l),h=y.colorscale;return y.reversescale&&(h=C.flipScale(y.colorscale)),h.map(function(T){var c=T[0],i=L(T[1]),d=i.toRgb();return{index:c,rgb:[d.r,d.g,d.b,d.a]}})}V.exports={formatColor:f,parseColorScale:u}},71688:function(V,Y,e){var p=e(35536);function L(o){return[o]}V.exports={keyFun:function(o){return o.key},repeat:L,descend:p,wrap:L,unwrap:function(o){return o[0]}}},35536:function(V){V.exports=function(e){return e}},1396:function(V){V.exports=function(e,p){if(!p)return e;var L=1/Math.abs(p),o=L>1?(L*e+L*p)/L:e+p,C=String(o).length;if(C>16){var S=String(p).length,v=String(e).length;if(C>=v+S){var g=parseFloat(o).toPrecision(12);g.indexOf("e+")===-1&&(o=+g)}}return o}},3400:function(V,Y,e){var p=e(33428),L=e(94336).E9,o=e(57624).E9,C=e(38248),S=e(39032),v=S.FP_SAFE,g=-v,r=S.BADNUM,t=V.exports={};t.adjustFormat=function(ue){return!ue||/^\d[.]\df/.test(ue)||/[.]\d%/.test(ue)?ue:ue==="0.f"?"~f":/^\d%/.test(ue)?"~%":/^\ds/.test(ue)?"~s":!/^[~,.0$]/.test(ue)&&/[&fps]/.test(ue)?"~"+ue:ue};var a={};t.warnBadFormat=function(te){var ue=String(te);a[ue]||(a[ue]=1,t.warn('encountered bad format: "'+ue+'"'))},t.noFormat=function(te){return String(te)},t.numberFormat=function(te){var ue;try{ue=o(t.adjustFormat(te))}catch{return t.warnBadFormat(te),t.noFormat}return ue},t.nestedProperty=e(22296),t.keyedContainer=e(37804),t.relativeAttr=e(23193),t.isPlainObject=e(63620),t.toLogRange=e(36896),t.relinkPrivateKeys=e(51528);var n=e(38116);t.isArrayBuffer=n.isArrayBuffer,t.isTypedArray=n.isTypedArray,t.isArrayOrTypedArray=n.isArrayOrTypedArray,t.isArray1D=n.isArray1D,t.ensureArray=n.ensureArray,t.concat=n.concat,t.maxRowLength=n.maxRowLength,t.minRowLength=n.minRowLength;var f=e(20435);t.mod=f.mod,t.modHalf=f.modHalf;var u=e(63064);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var l=e(67555);t.dateTime2ms=l.dateTime2ms,t.isDateTime=l.isDateTime,t.ms2DateTime=l.ms2DateTime,t.ms2DateTimeLocal=l.ms2DateTimeLocal,t.cleanDate=l.cleanDate,t.isJSDate=l.isJSDate,t.formatDate=l.formatDate,t.incrementMonth=l.incrementMonth,t.dateTick0=l.dateTick0,t.dfltRange=l.dfltRange,t.findExactDates=l.findExactDates,t.MIN_MS=l.MIN_MS,t.MAX_MS=l.MAX_MS;var y=e(14952);t.findBin=y.findBin,t.sorterAsc=y.sorterAsc,t.sorterDes=y.sorterDes,t.distinctVals=y.distinctVals,t.roundUp=y.roundUp,t.sort=y.sort,t.findIndexOfMin=y.findIndexOfMin,t.sortObjectKeys=e(95376);var h=e(63084);t.aggNums=h.aggNums,t.len=h.len,t.mean=h.mean,t.median=h.median,t.midRange=h.midRange,t.variance=h.variance,t.stdev=h.stdev,t.interp=h.interp;var T=e(52248);t.init2dArray=T.init2dArray,t.transposeRagged=T.transposeRagged,t.dot=T.dot,t.translationMatrix=T.translationMatrix,t.rotationMatrix=T.rotationMatrix,t.rotationXYMatrix=T.rotationXYMatrix,t.apply3DTransform=T.apply3DTransform,t.apply2DTransform=T.apply2DTransform,t.apply2DTransform2=T.apply2DTransform2,t.convertCssMatrix=T.convertCssMatrix,t.inverseTransformMatrix=T.inverseTransformMatrix;var c=e(11864);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var i=e(98308);t.isLeftAnchor=i.isLeftAnchor,t.isCenterAnchor=i.isCenterAnchor,t.isRightAnchor=i.isRightAnchor,t.isTopAnchor=i.isTopAnchor,t.isMiddleAnchor=i.isMiddleAnchor,t.isBottomAnchor=i.isBottomAnchor;var d=e(92348);t.segmentsIntersect=d.segmentsIntersect,t.segmentDistance=d.segmentDistance,t.getTextLocation=d.getTextLocation,t.clearLocationCache=d.clearLocationCache,t.getVisibleSegment=d.getVisibleSegment,t.findPointOnPath=d.findPointOnPath;var x=e(92880);t.extendFlat=x.extendFlat,t.extendDeep=x.extendDeep,t.extendDeepAll=x.extendDeepAll,t.extendDeepNoArrays=x.extendDeepNoArrays;var w=e(24248);t.log=w.log,t.warn=w.warn,t.error=w.error;var _=e(53756);t.counterRegex=_.counter;var m=e(91200);t.throttle=m.throttle,t.throttleDone=m.done,t.clearThrottle=m.clear;var E=e(52200);t.getGraphDiv=E.getGraphDiv,t.isPlotDiv=E.isPlotDiv,t.removeElement=E.removeElement,t.addStyleRule=E.addStyleRule,t.addRelatedStyleRule=E.addRelatedStyleRule,t.deleteRelatedStyleRule=E.deleteRelatedStyleRule,t.getFullTransformMatrix=E.getFullTransformMatrix,t.getElementTransformMatrix=E.getElementTransformMatrix,t.getElementAndAncestors=E.getElementAndAncestors,t.equalDomRects=E.equalDomRects,t.clearResponsive=e(75352),t.preserveDrawingBuffer=e(34296),t.makeTraceGroups=e(30988),t._=e(98356),t.notifier=e(41792),t.filterUnique=e(68944),t.filterVisible=e(43880),t.pushUnique=e(52416),t.increment=e(1396),t.cleanNumber=e(54037),t.ensureNumber=function(ue){return C(ue)?(ue=Number(ue),ue>v||ue<g?r:ue):r},t.isIndex=function(te,ue){return ue!==void 0&&te>=ue?!1:C(te)&&te>=0&&te%1===0},t.noop=e(16628),t.identity=e(35536),t.repeat=function(te,ue){for(var J=new Array(ue),K=0;K<ue;K++)J[K]=te;return J},t.swapAttrs=function(te,ue,J,K){J||(J="x"),K||(K="y");for(var ce=0;ce<ue.length;ce++){var ae=ue[ce],de=t.nestedProperty(te,ae.replace("?",J)),be=t.nestedProperty(te,ae.replace("?",K)),Se=de.get();de.set(be.get()),be.set(Se)}},t.raiseToTop=function(ue){ue.parentNode.appendChild(ue)},t.cancelTransition=function(te){return te.transition().duration(0)},t.constrain=function(te,ue,J){return ue>J?Math.max(J,Math.min(ue,te)):Math.max(ue,Math.min(J,te))},t.bBoxIntersect=function(te,ue,J){return J=J||0,te.left<=ue.right+J&&ue.left<=te.right+J&&te.top<=ue.bottom+J&&ue.top<=te.bottom+J},t.simpleMap=function(te,ue,J,K,ce){for(var ae=te.length,de=new Array(ae),be=0;be<ae;be++)de[be]=ue(te[be],J,K,ce);return de},t.randstr=function te(ue,J,K,ce){if(K||(K=16),J===void 0&&(J=24),J<=0)return"0";var ae=Math.log(Math.pow(2,J))/Math.log(K),de="",be,Se,Te;for(be=2;ae===1/0;be*=2)ae=Math.log(Math.pow(2,J/be))/Math.log(K)*be;var Ie=ae-Math.floor(ae);for(be=0;be<Math.floor(ae);be++)Te=Math.floor(Math.random()*K).toString(K),de=Te+de;Ie&&(Se=Math.pow(K,Ie),Te=Math.floor(Math.random()*Se).toString(K),de=Te+de);var ke=parseInt(de,K);return ue&&ue[de]||ke!==1/0&&ke>=Math.pow(2,J)?ce>10?(t.warn("randstr failed uniqueness"),de):te(ue,J,K,(ce||0)+1):de},t.OptionControl=function(te,ue){te||(te={}),ue||(ue="opt");var J={};return J.optionList=[],J._newoption=function(K){K[ue]=te,J[K.name]=K,J.optionList.push(K)},J["_"+ue]=te,J},t.smooth=function(te,ue){if(ue=Math.round(ue)||0,ue<2)return te;var J=te.length,K=2*J,ce=2*ue-1,ae=new Array(ce),de=new Array(J),be,Se,Te,Ie;for(be=0;be<ce;be++)ae[be]=(1-Math.cos(Math.PI*(be+1)/ue))/(2*ue);for(be=0;be<J;be++){for(Ie=0,Se=0;Se<ce;Se++)Te=be+Se+1-ue,Te<-J?Te-=K*Math.round(Te/K):Te>=K&&(Te-=K*Math.floor(Te/K)),Te<0?Te=-1-Te:Te>=J&&(Te=K-1-Te),Ie+=te[Te]*ae[Se];de[be]=Ie}return de},t.syncOrAsync=function(te,ue,J){var K,ce;function ae(){return t.syncOrAsync(te,ue,J)}for(;te.length;)if(ce=te.splice(0,1)[0],K=ce(ue),K&&K.then)return K.then(ae);return J&&J(ue)},t.stripTrailingSlash=function(te){return te.substr(-1)==="/"?te.substr(0,te.length-1):te},t.noneOrAll=function(te,ue,J){if(te){var K=!1,ce=!0,ae,de;for(ae=0;ae<J.length;ae++)de=te[J[ae]],de!=null?K=!0:ce=!1;if(K&&!ce)for(ae=0;ae<J.length;ae++)te[J[ae]]=ue[J[ae]]}},t.mergeArray=function(te,ue,J,K){var ce=typeof K=="function";if(t.isArrayOrTypedArray(te))for(var ae=Math.min(te.length,ue.length),de=0;de<ae;de++){var be=te[de];ue[de][J]=ce?K(be):be}},t.mergeArrayCastPositive=function(te,ue,J){return t.mergeArray(te,ue,J,function(K){var ce=+K;return isFinite(ce)&&ce>0?ce:0})},t.fillArray=function(te,ue,J,K){if(K=K||t.identity,t.isArrayOrTypedArray(te))for(var ce=0;ce<ue.length;ce++)ue[ce][J]=K(te[ce])},t.castOption=function(te,ue,J,K){K=K||t.identity;var ce=t.nestedProperty(te,J).get();return t.isArrayOrTypedArray(ce)?Array.isArray(ue)&&t.isArrayOrTypedArray(ce[ue[0]])?K(ce[ue[0]][ue[1]]):K(ce[ue]):ce},t.extractOption=function(te,ue,J,K){if(J in te)return te[J];var ce=t.nestedProperty(ue,K).get();if(!Array.isArray(ce))return ce};function A(te){var ue={};for(var J in te)for(var K=te[J],ce=0;ce<K.length;ce++)ue[K[ce]]=+J;return ue}t.tagSelected=function(te,ue,J){var K=ue.selectedpoints,ce=ue._indexToPoints,ae;ce&&(ae=A(ce));function de(ke){return ke!==void 0&&ke<te.length}for(var be=0;be<K.length;be++){var Se=K[be];if(t.isIndex(Se)||t.isArrayOrTypedArray(Se)&&t.isIndex(Se[0])&&t.isIndex(Se[1])){var Te=ae?ae[Se]:Se,Ie=J?J[Te]:Te;de(Ie)&&(te[Ie].selected=1)}}},t.selIndices2selPoints=function(te){var ue=te.selectedpoints,J=te._indexToPoints;if(J){for(var K=A(J),ce=[],ae=0;ae<ue.length;ae++){var de=ue[ae];if(t.isIndex(de)){var be=K[de];t.isIndex(be)&&ce.push(be)}}return ce}else return ue},t.getTargetArray=function(te,ue){var J=ue.target;if(typeof J=="string"&&J){var K=t.nestedProperty(te,J).get();return t.isArrayOrTypedArray(K)?K:!1}else if(t.isArrayOrTypedArray(J))return J;return!1};function s(te,ue,J){var K={};typeof ue!="object"&&(ue={});var ce=J==="pieLike"?-1:3,ae=Object.keys(te),de,be,Se;for(de=0;de<ae.length;de++)be=ae[de],Se=te[be],!(be.charAt(0)==="_"||typeof Se=="function")&&(be==="module"?K[be]=Se:Array.isArray(Se)?be==="colorscale"||ce===-1?K[be]=Se.slice():K[be]=Se.slice(0,ce):t.isTypedArray(Se)?ce===-1?K[be]=Se.subarray():K[be]=Se.subarray(0,ce):Se&&typeof Se=="object"?K[be]=s(te[be],ue[be],J):K[be]=Se);for(ae=Object.keys(ue),de=0;de<ae.length;de++)be=ae[de],Se=ue[be],(typeof Se!="object"||!(be in K)||typeof K[be]!="object")&&(K[be]=Se);return K}t.minExtend=s,t.titleCase=function(te){return te.charAt(0).toUpperCase()+te.substr(1)},t.containsAny=function(te,ue){for(var J=0;J<ue.length;J++)if(te.indexOf(ue[J])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var M=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return M.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;t.isIOS=function(){return b.test(window.navigator.userAgent)};var N=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var te=N.exec(window.navigator.userAgent);if(te&&te.length===2){var ue=parseInt(te[1]);if(!isNaN(ue))return ue}return null},t.isD3Selection=function(te){return te instanceof p.selection},t.ensureSingle=function(te,ue,J,K){var ce=te.select(ue+(J?"."+J:""));if(ce.size())return ce;var ae=te.append(ue);return J&&ae.classed(J,!0),K&&ae.call(K),ae},t.ensureSingleById=function(te,ue,J,K){var ce=te.select(ue+"#"+J);if(ce.size())return ce;var ae=te.append(ue).attr("id",J);return K&&ae.call(K),ae},t.objectFromPath=function(te,ue){for(var J=te.split("."),K,ce=K={},ae=0;ae<J.length;ae++){var de=J[ae],be=null,Se=J[ae].match(/(.*)\[([0-9]+)\]/);Se?(de=Se[1],be=Se[2],K=K[de]=[],ae===J.length-1?K[be]=ue:K[be]={},K=K[be]):(ae===J.length-1?K[de]=ue:K[de]={},K=K[de])}return ce};var k=/^([^\[\.]+)\.(.+)?/,H=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(te){return te.slice(0,2)==="__"}t.expandObjectPaths=function(te){var ue,J,K,ce,ae,de,be;if(typeof te=="object"&&!Array.isArray(te)){for(J in te)if(te.hasOwnProperty(J))if(ue=J.match(k)){if(ce=te[J],K=ue[1],F(K))continue;delete te[J],te[K]=t.extendDeepNoArrays(te[K]||{},t.objectFromPath(J,t.expandObjectPaths(ce))[K])}else if(ue=J.match(H)){if(ce=te[J],K=ue[1],F(K))continue;if(ae=parseInt(ue[2]),delete te[J],te[K]=te[K]||[],ue[3]===".")be=ue[4],de=te[K][ae]=te[K][ae]||{},t.extendDeepNoArrays(de,t.objectFromPath(be,t.expandObjectPaths(ce)));else{if(F(K))continue;te[K][ae]=t.expandObjectPaths(ce)}}else{if(F(J))continue;te[J]=t.expandObjectPaths(te[J])}}return te},t.numSeparate=function(te,ue,J){if(J||(J=!1),typeof ue!="string"||ue.length===0)throw new Error("Separator string required for formatting!");typeof te=="number"&&(te=String(te));var K=/(\d+)(\d{3})/,ce=ue.charAt(0),ae=ue.charAt(1),de=te.split("."),be=de[0],Se=de.length>1?ce+de[1]:"";if(ae&&(de.length>1||be.length>4||J))for(;K.test(be);)be=be.replace(K,"$1"+ae+"$2");return be+Se},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;t.templateString=function(te,ue){var J={};return te.replace(t.TEMPLATE_STRING_REGEX,function(K,ce){var ae;return B.test(ce)?ae=ue[ce]:(J[ce]=J[ce]||t.nestedProperty(ue,ce).get,ae=J[ce]()),t.isValidTextValue(ae)?ae:""})};var U={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return oe.apply(U,arguments)};var z={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return oe.apply(z,arguments)};var W=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function j(te){var ue=te.match(W);return ue?{key:ue[1],op:ue[2],number:Number(ue[3])}:{key:te,op:null,number:null}}var ee={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return oe.apply(ee,arguments)};var ie=/^[:|\|]/;function oe(te,ue,J){var K=this,ce=arguments;ue||(ue={});var ae={};return te.replace(t.TEMPLATE_STRING_REGEX,function(de,be,Se){var Te=be==="xother"||be==="yother",Ie=be==="_xother"||be==="_yother",ke=be==="_xother_"||be==="_yother_",Be=be==="xother_"||be==="yother_",Me=Te||Ie||Be||ke,Oe=be;(Ie||ke)&&(Oe=Oe.substring(1)),(Be||ke)&&(Oe=Oe.substring(0,Oe.length-1));var _e=null,Ne=null;if(K.parseMultDiv){var Ce=j(Oe);Oe=Ce.key,_e=Ce.op,Ne=Ce.number}var Ye;if(Me){if(Ye=ue[Oe],Ye===void 0)return""}else{var rt,ot;for(ot=3;ot<ce.length;ot++)if(rt=ce[ot],!!rt){if(rt.hasOwnProperty(Oe)){Ye=rt[Oe];break}if(B.test(Oe)||(Ye=t.nestedProperty(rt,Oe).get(),Ye=ae[Oe]||t.nestedProperty(rt,Oe).get(),Ye&&(ae[Oe]=Ye)),Ye!==void 0)break}}if(Ye!==void 0&&(_e==="*"&&(Ye*=Ne),_e==="/"&&(Ye/=Ne)),Ye===void 0&&K)return K.count<K.max&&(t.warn("Variable '"+Oe+"' in "+K.name+" could not be found!"),Ye=de),K.count===K.max&&t.warn("Too many "+K.name+" warnings - additional warnings will be suppressed"),K.count++,de;if(Se){var $e;if(Se[0]===":"&&($e=J?J.numberFormat:t.numberFormat,Ye!==""&&(Ye=$e(Se.replace(ie,""))(Ye))),Se[0]==="|"){$e=J?J.timeFormat:L;var qe=t.dateTime2ms(Ye);Ye=t.formatDate(qe,Se.replace(ie,""),!1,$e)}}else{var ht=Oe+"Label";ue.hasOwnProperty(ht)&&(Ye=ue[ht])}return Me&&(Ye="("+Ye+")",(Ie||ke)&&(Ye=" "+Ye),(Be||ke)&&(Ye=Ye+" ")),Ye})}var he=48,ne=57;t.subplotSort=function(te,ue){for(var J=Math.min(te.length,ue.length)+1,K=0,ce=0,ae=0;ae<J;ae++){var de=te.charCodeAt(ae)||0,be=ue.charCodeAt(ae)||0,Se=de>=he&&de<=ne,Te=be>=he&&be<=ne;if(Se&&(K=10*K+de-he),Te&&(ce=10*ce+be-he),!Se||!Te){if(K!==ce)return K-ce;if(de!==be)return de-be}}return ce-K};var q=2e9;t.seedPseudoRandom=function(){q=2e9},t.pseudoRandom=function(){var te=q;return q=(69069*q+1)%4294967296,Math.abs(q-te)<429496729?t.pseudoRandom():q/4294967296},t.fillText=function(te,ue,J){var K=Array.isArray(J)?function(de){J.push(de)}:function(de){J.text=de},ce=t.extractOption(te,ue,"htx","hovertext");if(t.isValidTextValue(ce))return K(ce);var ae=t.extractOption(te,ue,"tx","text");if(t.isValidTextValue(ae))return K(ae)},t.isValidTextValue=function(te){return te||te===0},t.formatPercent=function(te,ue){ue=ue||0;for(var J=(Math.round(100*te*Math.pow(10,ue))*Math.pow(.1,ue)).toFixed(ue)+"%",K=0;K<ue;K++)J.indexOf(".")!==-1&&(J=J.replace("0%","%"),J=J.replace(".%","%"));return J},t.isHidden=function(te){var ue=window.getComputedStyle(te).display;return!ue||ue==="none"},t.strTranslate=function(te,ue){return te||ue?"translate("+te+","+ue+")":""},t.strRotate=function(te){return te?"rotate("+te+")":""},t.strScale=function(te){return te!==1?"scale("+te+")":""},t.getTextTransform=function(te){var ue=te.noCenter,J=te.textX,K=te.textY,ce=te.targetX,ae=te.targetY,de=te.anchorX||0,be=te.anchorY||0,Se=te.rotate,Te=te.scale;return Te?Te>1&&(Te=1):Te=0,t.strTranslate(ce-Te*(J+de),ae-Te*(K+be))+t.strScale(Te)+(Se?"rotate("+Se+(ue?"":" "+J+" "+K)+")":"")},t.setTransormAndDisplay=function(te,ue){te.attr("transform",t.getTextTransform(ue)),te.style("display",ue.scale?null:"none")},t.ensureUniformFontSize=function(te,ue){var J=t.extendFlat({},ue);return J.size=Math.max(ue.size,te._fullLayout.uniformtext.minsize||0),J},t.join2=function(te,ue,J){var K=te.length;return K>1?te.slice(0,-1).join(ue)+J+te[K-1]:te.join(ue)},t.bigFont=function(te){return Math.round(1.2*te)};var le=t.getFirefoxVersion(),Q=le!==null&&le<86;t.getPositionFromD3Event=function(){return Q?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},63620:function(V){V.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},37804:function(V,Y,e){var p=e(22296),L=/^\w*$/,o=0,C=1,S=2,v=3,g=4;V.exports=function(t,a,n,f){n=n||"name",f=f||"value";var u,l,y,h={};a&&a.length?(y=p(t,a),l=y.get()):l=t,a=a||"";var T={};if(l)for(u=0;u<l.length;u++)T[l[u][n]]=u;var c=L.test(f),i={set:function(d,x){var w=x===null?g:o;if(!l){if(!y||w===g)return;l=[],y.set(l)}var _=T[d];if(_===void 0){if(w===g)return;w=w|v,_=l.length,T[d]=_}else x!==(c?l[_][f]:p(l[_],f).get())&&(w=w|S);var m=l[_]=l[_]||{};return m[n]=d,c?m[f]=x:p(m,f).set(x),x!==null&&(w=w&~g),h[_]=h[_]|w,i},get:function(d){if(l){var x=T[d];if(x!==void 0)return c?l[x][f]:p(l[x],f).get()}},rename:function(d,x){var w=T[d];return w===void 0||(h[w]=h[w]|C,T[x]=w,delete T[d],l[w][n]=x),i},remove:function(d){var x=T[d];if(x===void 0)return i;var w=l[x];if(Object.keys(w).length>2)return h[x]=h[x]|S,i.set(d,null);if(c){for(u=x;u<l.length;u++)h[u]=h[u]|v;for(u=x;u<l.length;u++)T[l[u][n]]--;l.splice(x,1),delete T[d]}else p(w,f).set(null),h[x]=h[x]|S|g;return i},constructUpdate:function(){for(var d,x,w={},_=Object.keys(h),m=0;m<_.length;m++)x=_[m],d=a+"["+x+"]",l[x]?(h[x]&C&&(w[d+"."+n]=l[x][n]),h[x]&S&&(c?w[d+"."+f]=h[x]&g?null:l[x][f]:w[d+"."+f]=h[x]&g?null:p(l[x],f).get())):w[d]=null;return w}};return i}},98356:function(V,Y,e){var p=e(24040);V.exports=function(o,C){for(var S=o._context.locale,v=0;v<2;v++){for(var g=o._context.locales,r=0;r<2;r++){var t=(g[S]||{}).dictionary;if(t){var a=t[C];if(a)return a}g=p.localeRegistry}var n=S.split("-")[0];if(n===S)break;S=n}return C}},24248:function(V,Y,e){var p=e(20556).dfltConfig,L=e(41792),o=V.exports={};o.log=function(){var C;if(p.logging>1){var S=["LOG:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.trace.apply(console,S)}if(p.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"long")}},o.warn=function(){var C;if(p.logging>0){var S=["WARN:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.trace.apply(console,S)}if(p.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}},o.error=function(){var C;if(p.logging>0){var S=["ERROR:"];for(C=0;C<arguments.length;C++)S.push(arguments[C]);console.error.apply(console,S)}if(p.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);L(v.join("<br>"),"stick")}}},30988:function(V,Y,e){var p=e(33428);V.exports=function(o,C,S){var v=o.selectAll("g."+S.replace(/\s/g,".")).data(C,function(r){return r[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",S),v.order();var g=o.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(r){r[0][g]=p.select(this)}),v}},52248:function(V,Y,e){var p=e(36524);Y.init2dArray=function(L,o){for(var C=new Array(L),S=0;S<L;S++)C[S]=new Array(o);return C},Y.transposeRagged=function(L){var o=0,C=L.length,S,v;for(S=0;S<C;S++)o=Math.max(o,L[S].length);var g=new Array(o);for(S=0;S<o;S++)for(g[S]=new Array(C),v=0;v<C;v++)g[S][v]=L[v][S];return g},Y.dot=function(L,o){if(!(L.length&&o.length)||L.length!==o.length)return null;var C=L.length,S,v;if(L[0].length)for(S=new Array(C),v=0;v<C;v++)S[v]=Y.dot(L[v],o);else if(o[0].length){var g=Y.transposeRagged(o);for(S=new Array(g.length),v=0;v<g.length;v++)S[v]=Y.dot(L,g[v])}else for(S=0,v=0;v<C;v++)S+=L[v]*o[v];return S},Y.translationMatrix=function(L,o){return[[1,0,L],[0,1,o],[0,0,1]]},Y.rotationMatrix=function(L){var o=L*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},Y.rotationXYMatrix=function(L,o,C){return Y.dot(Y.dot(Y.translationMatrix(o,C),Y.rotationMatrix(L)),Y.translationMatrix(-o,-C))},Y.apply3DTransform=function(L){return function(){var o=arguments,C=arguments.length===1?o[0]:[o[0],o[1],o[2]||0];return Y.dot(L,[C[0],C[1],C[2],1]).slice(0,3)}},Y.apply2DTransform=function(L){return function(){var o=arguments;o.length===3&&(o=o[0]);var C=arguments.length===1?o[0]:[o[0],o[1]];return Y.dot(L,[C[0],C[1],1]).slice(0,2)}},Y.apply2DTransform2=function(L){var o=Y.apply2DTransform(L);return function(C){return o(C.slice(0,2)).concat(o(C.slice(2,4)))}},Y.convertCssMatrix=function(L){if(L){var o=L.length;if(o===16)return L;if(o===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},Y.inverseTransformMatrix=function(L){var o=[];return p.invert(o,L),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},20435:function(V){function Y(p,L){var o=p%L;return o<0?o+L:o}function e(p,L){return Math.abs(p)>L/2?p-Math.round(p/L)*L:p}V.exports={mod:Y,modHalf:e}},22296:function(V,Y,e){var p=e(38248),L=e(38116).isArrayOrTypedArray;V.exports=function(f,u){if(p(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var l=u.split("."),y,h,T,c;for(c=0;c<l.length;c++)if(String(l[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<l.length;){if(y=String(l[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])l[c]=y[1];else if(c===0)l.splice(0,1);else throw"bad property string";for(h=y[2].substr(1,y[2].length-2).split("]["),T=0;T<h.length;T++)c++,l.splice(c,0,Number(h[T]))}c++}return typeof f!="object"?a(f,u,l):{set:v(f,l,u),get:o(f,l),astr:u,parts:l,obj:f}};function o(n,f){return function(){var u=n,l,y,h,T,c;for(T=0;T<f.length-1;T++){if(l=f[T],l===-1){for(y=!0,h=[],c=0;c<u.length;c++)h[c]=o(u[c],f.slice(T+1))(),h[c]!==h[0]&&(y=!1);return y?h[0]:h}if(typeof l=="number"&&!L(u)||(u=u[l],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(h=u[f[T]],h!==null))return h}}var C=/(^|\.)args\[/;function S(n,f){return n===void 0||n===null&&!f.match(C)}function v(n,f,u){return function(l){var y=n,h="",T=S(l,u),c,i;for(i=0;i<f.length-1;i++){if(c=f[i],typeof c=="number"&&!L(y))throw"array index but container is not an array";if(c===-1){if(T=!r(y,f.slice(i+1),l,u),T)break;return}if(!t(y,c,f[i+1],T))break;if(y=y[c],typeof y!="object"||y===null)throw"container is not an object";h=g(h,c)}if(T){if(i===f.length-1&&(delete y[f[i]],Array.isArray(y)&&+f[i]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[f[i]]=l}}function g(n,f){var u=f;return p(f)?u="["+f+"]":n&&(u="."+f),n+u}function r(n,f,u,l){var y=L(u),h=!0,T=u,c=l.replace("-1",0),i=y?!1:S(u,c),d=f[0],x;for(x=0;x<n.length;x++)c=l.replace("-1",x),y&&(T=u[x%u.length],i=S(T,c)),i&&(h=!1),t(n,x,d,i)&&v(n[x],f,l.replace("-1",x))(T);return h}function t(n,f,u,l){if(n[f]===void 0){if(l)return!1;typeof u=="number"?n[f]=[]:n[f]={}}return!0}function a(n,f,u){return{set:function(){throw"bad container"},get:function(){},astr:f,parts:u,obj:n}}},16628:function(V){V.exports=function(){}},41792:function(V,Y,e){var p=e(33428),L=e(38248),o=[];V.exports=function(C,S){if(o.indexOf(C)!==-1)return;o.push(C);var v=1e3;L(S)?v=S:S==="long"&&(v=3e3);var g=p.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0);var r=g.selectAll(".notifier-note").data(o);function t(a){a.duration(700).style("opacity",0).each("end",function(n){var f=o.indexOf(n);f!==-1&&o.splice(f,1),p.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var n=p.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var f=n.append("p"),u=a.split(/<br\s*\/?>/g),l=0;l<u.length;l++)l&&f.append("br"),f.append("span").text(u[l]);S==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(t)})}},72213:function(V,Y,e){var p=e(93972),L="data-savedcursor",o="!!";V.exports=function(S,v){var g=S.attr(L);if(v){if(!g){for(var r=(S.attr("class")||"").split(" "),t=0;t<r.length;t++){var a=r[t];a.indexOf("cursor-")===0&&S.attr(L,a.substr(7)).classed(a,!1)}S.attr(L)||S.attr(L,o)}p(S,v)}else g&&(S.attr(L,null),g===o?p(S):p(S,g))}},92065:function(V,Y,e){var p=e(52248).dot,L=e(39032).BADNUM,o=V.exports={};o.tester=function(S){var v=S.slice(),g=v[0][0],r=g,t=v[0][1],a=t,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)g=Math.min(g,v[n][0]),r=Math.max(r,v[n][0]),t=Math.min(t,v[n][1]),a=Math.max(a,v[n][1]);var f=!1,u;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(f=!0,u=function(c){return c[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(f=!0,u=function(c){return c[1]===v[0][1]}));function l(c,i){var d=c[0],x=c[1];return!(d===L||d<g||d>r||x===L||x<t||x>a||i&&u(c))}function y(c,i){var d=c[0],x=c[1];if(d===L||d<g||d>r||x===L||x<t||x>a)return!1;var w=v.length,_=v[0][0],m=v[0][1],E=0,A,s,M,b,N;for(A=1;A<w;A++)if(s=_,M=m,_=v[A][0],m=v[A][1],b=Math.min(s,_),!(d<b||d>Math.max(s,_)||x>Math.max(M,m)))if(x<Math.min(M,m))d!==b&&E++;else{if(_===s?N=x:N=M+(d-s)*(m-M)/(_-s),x===N)return!(A===1&&i);x<=N&&d!==b&&E++}return E%2===1}var h=!0,T=v[0];for(n=1;n<v.length;n++)if(T[0]!==v[n][0]||T[1]!==v[n][1]){h=!1;break}return{xmin:g,xmax:r,ymin:t,ymax:a,pts:v,contains:f?l:y,isRect:f,degenerate:h}},o.isSegmentBent=function(S,v,g,r){var t=S[v],a=[S[g][0]-t[0],S[g][1]-t[1]],n=p(a,a),f=Math.sqrt(n),u=[-a[1]/f,a[0]/f],l,y,h;for(l=v+1;l<g;l++)if(y=[S[l][0]-t[0],S[l][1]-t[1]],h=p(y,a),h<0||h>n||Math.abs(p(y,u))>r)return!0;return!1},o.filter=function(S,v){var g=[S[0]],r=0,t=0;function a(f){S.push(f);var u=g.length,l=r;g.splice(t+1);for(var y=l+1;y<S.length;y++)(y===S.length-1||o.isSegmentBent(S,l,y+1,v))&&(g.push(S[y]),g.length<u-2&&(r=y,t=g.length-1),l=y)}if(S.length>1){var n=S.pop();a(n)}return{addPt:a,raw:S,filtered:g}}},5048:function(V,Y,e){var p=e(16576),L=e(28624);V.exports=function(C,S,v){var g=C._fullLayout,r=!0;return g._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(v);return}if(!(t.pick&&!g._has("parcoords"))){try{t.regl=L({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:S||[],cachedCode:v||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(a){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:a,layer:t.key})},!1)}}),r||p({container:g._glcontainer.node()}),r}},34296:function(V,Y,e){var p=e(38248),L=e(25928);V.exports=function(S){var v;if(S&&S.hasOwnProperty("userAgent")?v=S.userAgent:v=o(),typeof v!="string")return!0;var g=L({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!g)for(var r=v.split(" "),t=1;t<r.length;t++){var a=r[t];if(a.indexOf("Safari")!==-1)for(var n=t-1;n>-1;n--){var f=r[n];if(f.substr(0,8)==="Version/"){var u=f.substr(8).split(".")[0];if(p(u)&&(u=+u),u>=13)return!0}}}return g};function o(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},52416:function(V){V.exports=function(e,p){if(p instanceof RegExp){for(var L=p.toString(),o=0;o<e.length;o++)if(e[o]instanceof RegExp&&e[o].toString()===L)return e;e.push(p)}else(p||p===0)&&e.indexOf(p)===-1&&e.push(p);return e}},94552:function(V,Y,e){var p=e(3400),L=e(20556).dfltConfig;function o(S,v){for(var g=[],r,t=0;t<v.length;t++)r=v[t],r===S?g[t]=r:typeof r=="object"?g[t]=Array.isArray(r)?p.extendDeep([],r):p.extendDeepAll({},r):g[t]=r;return g}var C={};C.add=function(S,v,g,r,t){var a,n;if(S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},n=S.undoQueue.index,S.autoplay){S.undoQueue.inSequence||(S.autoplay=!1);return}!S.undoQueue.sequence||S.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},S.undoQueue.queue.splice(n,S.undoQueue.queue.length-n,a),S.undoQueue.index+=1):a=S.undoQueue.queue[n-1],S.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(v),a.undo.args.unshift(g),a.redo.calls.push(r),a.redo.args.push(t)),S.undoQueue.queue.length>L.queueLength&&(S.undoQueue.queue.shift(),S.undoQueue.index--)},C.startSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!0,S.undoQueue.beginSequence=!0},C.stopSequence=function(S){S.undoQueue=S.undoQueue||{index:0,queue:[],sequence:!1},S.undoQueue.sequence=!1,S.undoQueue.beginSequence=!1},C.undo=function(v){var g,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<g.undo.calls.length;r++)C.plotDo(v,g.undo.calls[r],g.undo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var g,r;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(g=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,r=0;r<g.redo.calls.length;r++)C.plotDo(v,g.redo.calls[r],g.redo.args[r]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(S,v,g){S.autoplay=!0,g=o(S,g),v.apply(null,g)},V.exports=C},53756:function(V,Y){Y.counter=function(e,p,L,o){var C=(p||"")+(L?"":"$"),S=o===!1?"":"^";return e==="xy"?new RegExp(S+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(S+e+"([2-9]|[1-9][0-9]+)?"+C)}},23193:function(V){var Y=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;V.exports=function(p,L){for(;L;){var o=p.match(Y);if(o)p=o[1];else if(p.match(e))p="";else throw new Error("bad relativeAttr call:"+[p,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return p&&L.charAt(0)!=="["?p+"."+L:p+L}},51528:function(V,Y,e){var p=e(38116).isArrayOrTypedArray,L=e(63620);V.exports=function o(C,S){for(var v in S){var g=S[v],r=C[v];if(r!==g)if(v.charAt(0)==="_"||typeof g=="function"){if(v in C)continue;C[v]=g}else if(p(g)&&p(r)&&L(g[0])){if(v==="customdata"||v==="ids")continue;for(var t=Math.min(g.length,r.length),a=0;a<t;a++)r[a]!==g[a]&&L(g[a])&&L(r[a])&&o(r[a],g[a])}else L(g)&&L(r)&&(o(r,g),Object.keys(r).length||delete C[v])}}},14952:function(V,Y,e){var p=e(38248),L=e(24248),o=e(35536),C=e(39032).BADNUM,S=1e-9;Y.findBin=function(a,n,f){if(p(n.start))return f?Math.ceil((a-n.start)/n.size-S)-1:Math.floor((a-n.start)/n.size+S);var u=0,l=n.length,y=0,h=l>1?(n[l-1]-n[0])/(l-1):1,T,c;for(h>=0?c=f?v:g:c=f?t:r,a+=h*S*(f?-1:1)*(h>=0?1:-1);u<l&&y++<100;)T=Math.floor((u+l)/2),c(n[T],a)?u=T+1:l=T;return y>90&&L.log("Long binary search..."),u-1};function v(a,n){return a<n}function g(a,n){return a<=n}function r(a,n){return a>n}function t(a,n){return a>=n}Y.sorterAsc=function(a,n){return a-n},Y.sorterDes=function(a,n){return n-a},Y.distinctVals=function(a){var n=a.slice();n.sort(Y.sorterAsc);var f;for(f=n.length-1;f>-1&&n[f]===C;f--);for(var u=n[f]-n[0]||1,l=u/(f||1)/1e4,y=[],h,T=0;T<=f;T++){var c=n[T],i=c-h;h===void 0?(y.push(c),h=c):i>l&&(u=Math.min(u,i),y.push(c),h=c)}return{vals:y,minDiff:u}},Y.roundUp=function(a,n,f){for(var u=0,l=n.length-1,y,h=0,T=f?0:1,c=f?1:0,i=f?Math.ceil:Math.floor;u<l&&h++<100;)y=i((u+l)/2),n[y]<=a?u=y+T:l=y-c;return n[u]},Y.sort=function(a,n){for(var f=0,u=0,l=1;l<a.length;l++){var y=n(a[l],a[l-1]);if(y<0?f=1:y>0&&(u=1),f&&u)return a.sort(n)}return u?a:a.reverse()},Y.findIndexOfMin=function(a,n){n=n||o;for(var f=1/0,u,l=0;l<a.length;l++){var y=n(a[l]);y<f&&(f=y,u=l)}return u}},93972:function(V){V.exports=function(e,p){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),p&&e.classed("cursor-"+p,!0)}},16576:function(V,Y,e){var p=e(76308),L=function(){};V.exports=function(C){for(var S in C)typeof C[S]=="function"&&(C[S]=L);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=p.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=p.lightLine,v.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",v.appendChild(g),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(V){V.exports=function(e){return Object.keys(e).sort()}},63084:function(V,Y,e){var p=e(38248),L=e(38116).isArrayOrTypedArray;Y.aggNums=function(o,C,S,v){var g,r;if((!v||v>S.length)&&(v=S.length),p(C)||(C=!1),L(S[0])){for(r=new Array(v),g=0;g<v;g++)r[g]=Y.aggNums(o,C,S[g]);S=r}for(g=0;g<v;g++)p(C)?p(S[g])&&(C=o(+C,+S[g])):C=S[g];return C},Y.len=function(o){return Y.aggNums(function(C){return C+1},0,o)},Y.mean=function(o,C){return C||(C=Y.len(o)),Y.aggNums(function(S,v){return S+v},0,o)/C},Y.midRange=function(o){if(!(o===void 0||o.length===0))return(Y.aggNums(Math.max,null,o)+Y.aggNums(Math.min,null,o))/2},Y.variance=function(o,C,S){return C||(C=Y.len(o)),p(S)||(S=Y.mean(o,C)),Y.aggNums(function(v,g){return v+Math.pow(g-S,2)},0,o)/C},Y.stdev=function(o,C,S){return Math.sqrt(Y.variance(o,C,S))},Y.median=function(o){var C=o.slice().sort();return Y.interp(C,.5)},Y.interp=function(o,C){if(!p(C))throw"n should be a finite number";if(C=C*o.length-.5,C<0)return o[0];if(C>o.length-1)return o[o.length-1];var S=C%1;return S*o[Math.ceil(C)]+(1-S)*o[Math.floor(C)]}},43080:function(V,Y,e){var p=e(72160);function L(o){return o?p(o):[0,0,0,1]}V.exports=L},9188:function(V,Y,e){var p=e(2264),L=e(43616),o=e(3400),C=null;function S(){if(C!==null)return C;C=!1;var v=o.isIE()||o.isSafari()||o.isIOS();if(window.navigator.userAgent&&!v){var g=Array.from(p.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")C=g.some(function(f){return r.apply(null,f)});else{var t=L.tester.append("image").attr("style",p.STYLE),a=window.getComputedStyle(t.node()),n=a.imageRendering;C=g.some(function(f){var u=f[1];return n===u||n===u.toLowerCase()}),t.remove()}}return C}V.exports=S},72736:function(V,Y,e){var p=e(33428),L=e(3400),o=L.strTranslate,C=e(9616),S=e(84284).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;Y.convertToTspans=function(U,z,W){var j=U.text(),ee=!U.attr("data-notex")&&z&&z._context.typesetMath&&typeof MathJax<"u"&&j.match(v),ie=p.select(U.node().parentNode);if(ie.empty())return;var oe=U.attr("class")?U.attr("class").split(" ")[0]:"text";oe+="-math",ie.selectAll("svg."+oe).remove(),ie.selectAll("g."+oe+"-group").remove(),U.style("display",null).attr({"data-unformatted":j,"data-math":"N"});function he(){ie.empty()||(oe=U.attr("class")+"-math",ie.select("svg."+oe).remove()),U.text("").style("white-space","pre");var ne=k(U.node(),j);ne&&U.style("pointer-events","all"),Y.positionText(U),W&&W.call(U)}return ee?(z&&z._promises||[]).push(new Promise(function(ne){U.style("display","none");var q=parseInt(U.node().style.fontSize,10),le={fontSize:q};n(ee[2],le,function(Q,te,ue){ie.selectAll("svg."+oe).remove(),ie.selectAll("g."+oe+"-group").remove();var J=Q&&Q.select("svg");if(!J||!J.node()){he(),ne();return}var K=ie.append("g").classed(oe+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});K.node().appendChild(J.node()),te&&te.node()&&J.node().insertBefore(te.node().cloneNode(!0),J.node().firstChild);var ce=ue.width,ae=ue.height;J.attr({class:oe,height:ae,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var de=U.node().style.fill||"black",be=J.select("g");be.attr({fill:de,stroke:de});var Se=be.node().getBoundingClientRect(),Te=Se.width,Ie=Se.height;(Te>ce||Ie>ae)&&(J.style("overflow","hidden"),Se=J.node().getBoundingClientRect(),Te=Se.width,Ie=Se.height);var ke=+U.attr("x"),Be=+U.attr("y"),Me=q||U.node().getBoundingClientRect().height,Oe=-Me/4;if(oe[0]==="y")K.attr({transform:"rotate("+[-90,ke,Be]+")"+o(-Te/2,Oe-Ie/2)});else if(oe[0]==="l")Be=Oe-Ie/2;else if(oe[0]==="a"&&oe.indexOf("atitle")!==0)ke=0,Be=Oe;else{var _e=U.attr("text-anchor");ke=ke-Te*(_e==="middle"?.5:_e==="end"?1:0),Be=Be+Oe-Ie/2}J.attr({x:ke,y:Be}),W&&W.call(U,K),ne(K)})})):he(),U};var g=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(U){return U.replace(g,"\\lt ").replace(r,"\\gt ")}var a=[["$","$"],["\\(","\\)"]];function n(U,z,W){var j=parseInt((MathJax.version||"").split(".")[0]);if(j!==2&&j!==3){L.warn("No MathJax version:",MathJax.version);return}var ee,ie,oe,he,ne=function(){return ie=L.extendDeepAll({},MathJax.Hub.config),oe=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:a},displayAlign:"left"})},q=function(){ie=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=a},le=function(){if(ee=MathJax.Hub.config.menuSettings.renderer,ee!=="SVG")return MathJax.Hub.setRenderer("SVG")},Q=function(){ee=MathJax.config.startup.output,ee!=="svg"&&(MathJax.config.startup.output="svg")},te=function(){var de="math-output-"+L.randstr({},64);he=p.select("body").append("div").attr({id:de}).style({visibility:"hidden",position:"absolute","font-size":z.fontSize+"px"}).text(t(U));var be=he.node();return j===2?MathJax.Hub.Typeset(be):MathJax.typeset([be])},ue=function(){var de=he.select(j===2?".MathJax_SVG":".MathJax"),be=!de.empty()&&he.select("svg").node();if(!be)L.log("There was an error in the tex syntax.",U),W();else{var Se=be.getBoundingClientRect(),Te;j===2?Te=p.select("body").select("#MathJax_SVG_glyphs"):Te=de.select("defs"),W(de,Te,Se)}he.remove()},J=function(){if(ee!=="SVG")return MathJax.Hub.setRenderer(ee)},K=function(){ee!=="svg"&&(MathJax.config.startup.output=ee)},ce=function(){return oe!==void 0&&(MathJax.Hub.processSectionDelay=oe),MathJax.Hub.Config(ie)},ae=function(){MathJax.config=ie};j===2?MathJax.Hub.Queue(ne,le,te,ue,J,ce):j===3&&(q(),Q(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){te(),ue(),K(),ae()}))}var f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},y="​",h=["http:","https:","mailto:","",void 0,":"],T=Y.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,i=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;Y.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,_=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(U,z){if(!U)return null;var W=U.match(z),j=W&&(W[3]||W[4]);return j&&b(j)}var A=/(^|;)\s*color:/;Y.plainText=function(U,z){z=z||{};for(var W=z.len!==void 0&&z.len!==-1?z.len:1/0,j=z.allowedTags!==void 0?z.allowedTags:["br"],ee="...",ie=ee.length,oe=U.split(c),he=[],ne="",q=0,le=0;le<oe.length;le++){var Q=oe[le],te=Q.match(i),ue=te&&te[2].toLowerCase();if(ue)j.indexOf(ue)!==-1&&(he.push(Q),ne=ue);else{var J=Q.length;if(q+J<W)he.push(Q),q+=J;else if(q<W){var K=W-q;ne&&(ne!=="br"||K<=ie||J<=ie)&&he.pop(),W>ie?he.push(Q.substr(0,K-ie)+ee):he.push(Q.substr(0,K));break}ne=""}}return he.join("")};var s={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},M=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(U){return U.replace(M,function(z,W){var j;return W.charAt(0)==="#"?j=N(W.charAt(1)==="x"?parseInt(W.substr(2),16):parseInt(W.substr(1),10)):j=s[W],j||z})}Y.convertEntities=b;function N(U){if(!(U>1114111)){var z=String.fromCodePoint;if(z)return z(U);var W=String.fromCharCode;return U<=65535?W(U):W((U>>10)+55232,U%1024+56320)}}function k(U,z){z=z.replace(T," ");var W=!1,j=[],ee,ie=-1;function oe(){ie++;var Ie=document.createElementNS(C.svg,"tspan");p.select(Ie).attr({class:"line",dy:ie*S+"em"}),U.appendChild(Ie),ee=Ie;var ke=j;if(j=[{node:Ie}],ke.length>1)for(var Be=1;Be<ke.length;Be++)he(ke[Be])}function he(Ie){var ke=Ie.type,Be={},Me;if(ke==="a"){Me="a";var Oe=Ie.target,_e=Ie.href,Ne=Ie.popup;_e&&(Be={"xlink:xlink:show":Oe==="_blank"||Oe.charAt(0)!=="_"?"new":"replace",target:Oe,"xlink:xlink:href":_e},Ne&&(Be.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ne+'");return false;'))}else Me="tspan";Ie.style&&(Be.style=Ie.style);var Ce=document.createElementNS(C.svg,Me);if(ke==="sup"||ke==="sub"){ne(ee,y),ee.appendChild(Ce);var Ye=document.createElementNS(C.svg,"tspan");ne(Ye,y),p.select(Ye).attr("dy",l[ke]),Be.dy=u[ke],ee.appendChild(Ce),ee.appendChild(Ye)}else ee.appendChild(Ce);p.select(Ce).attr(Be),ee=Ie.node=Ce,j.push(Ie)}function ne(Ie,ke){Ie.appendChild(document.createTextNode(ke))}function q(Ie){if(j.length===1){L.log("Ignoring unexpected end tag </"+Ie+">.",z);return}var ke=j.pop();Ie!==ke.type&&L.log("Start tag <"+ke.type+"> doesnt match end tag <"+Ie+">. Pretending it did match.",z),ee=j[j.length-1].node}var le=d.test(z);le?oe():(ee=U,j=[{node:U}]);for(var Q=z.split(c),te=0;te<Q.length;te++){var ue=Q[te],J=ue.match(i),K=J&&J[2].toLowerCase(),ce=f[K];if(K==="br")oe();else if(ce===void 0)ne(ee,b(ue));else if(J[1])q(K);else{var ae=J[4],de={type:K},be=E(ae,x);if(be?(be=be.replace(A,"$1 fill:"),ce&&(be+=";"+ce)):ce&&(be=ce),be&&(de.style=be),K==="a"){W=!0;var Se=E(ae,w);if(Se){var Te=H(Se);Te&&(de.href=Te,de.target=E(ae,_)||"_blank",de.popup=E(ae,m))}}he(de)}}return W}function H(U){var z=encodeURI(decodeURI(U)),W=document.createElement("a"),j=document.createElement("a");W.href=U,j.href=z;var ee=W.protocol,ie=j.protocol;return h.indexOf(ee)!==-1&&h.indexOf(ie)!==-1?z:""}Y.sanitizeHTML=function(z){z=z.replace(T," ");for(var W=document.createElement("p"),j=W,ee=[],ie=z.split(c),oe=0;oe<ie.length;oe++){var he=ie[oe],ne=he.match(i),q=ne&&ne[2].toLowerCase();if(q in f)if(ne[1])ee.length&&(j=ee.pop());else{var le=ne[4],Q=E(le,x),te=Q?{style:Q}:{};if(q==="a"){var ue=E(le,w);if(ue){var J=H(ue);if(J){te.href=J;var K=E(le,_);K&&(te.target=K)}}}var ce=document.createElement(q);j.appendChild(ce),p.select(ce).attr(te),j=ce,ee.push(ce)}else j.appendChild(document.createTextNode(b(he)))}var ae="innerHTML";return W[ae]},Y.lineCount=function(z){return z.selectAll("tspan.line").size()||1},Y.positionText=function(z,W,j){return z.each(function(){var ee=p.select(this);function ie(ne,q){return q===void 0?(q=ee.attr(ne),q===null&&(ee.attr(ne,0),q=0)):ee.attr(ne,q),q}var oe=ie("x",W),he=ie("y",j);this.nodeName==="text"&&ee.selectAll("tspan.line").attr({x:oe,y:he})})};function F(U,z,W){var j=W.horizontalAlign,ee=W.verticalAlign||"top",ie=U.node().getBoundingClientRect(),oe=z.node().getBoundingClientRect(),he,ne,q;return ee==="bottom"?ne=function(){return ie.bottom-he.height}:ee==="middle"?ne=function(){return ie.top+(ie.height-he.height)/2}:ne=function(){return ie.top},j==="right"?q=function(){return ie.right-he.width}:j==="center"?q=function(){return ie.left+(ie.width-he.width)/2}:q=function(){return ie.left},function(){he=this.node().getBoundingClientRect();var le=q()-oe.left,Q=ne()-oe.top,te=W.gd||{};if(W.gd){te._fullLayout._calcInverseTransform(te);var ue=L.apply3DTransform(te._fullLayout._invTransform)(le,Q);le=ue[0],Q=ue[1]}return this.style({top:Q+"px",left:le+"px","z-index":1e3}),this}}var B="1px ";Y.makeTextShadow=function(U){var z=B,W=B,j=B;return z+W+j+U+", -"+z+"-"+W+j+U+", "+z+"-"+W+j+U+", -"+z+W+j+U},Y.makeEditable=function(U,z){var W=z.gd,j=z.delegate,ee=p.dispatch("edit","input","cancel"),ie=j||U;if(U.style({"pointer-events":j?"none":"all"}),U.size()!==1)throw new Error("boo");function oe(){ne(),U.style({opacity:0});var q=ie.attr("class"),le;q?le="."+q.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&p.select(U.node().parentNode).select(le).style({opacity:0})}function he(q){var le=q.node(),Q=document.createRange();Q.selectNodeContents(le);var te=window.getSelection();te.removeAllRanges(),te.addRange(Q),le.focus()}function ne(){var q=p.select(W),le=q.select(".svg-container"),Q=le.append("div"),te=U.node().style,ue=parseFloat(te.fontSize||12),J=z.text;J===void 0&&(J=U.attr("data-unformatted")),Q.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":ue,color:z.fill||te.fill||"black",opacity:1,"background-color":z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ue/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(F(U,le,z)).on("blur",function(){W._editing=!1,U.text(this.textContent).style({opacity:1});var K=p.select(this).attr("class"),ce;K?ce="."+K.split(" ")[0]+"-math-group":ce="[class*=-math-group]",ce&&p.select(U.node().parentNode).select(ce).style({opacity:0});var ae=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),ee.edit.call(U,ae)}).on("focus",function(){var K=this;W._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===K)return!1;document.activeElement===Q.node()&&Q.node().blur()})}).on("keyup",function(){p.event.which===27?(W._editing=!1,U.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ee.cancel.call(U,this.textContent)):(ee.input.call(U,this.textContent),p.select(this).call(F(U,le,z)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(he)}return z.immediate?oe():ie.on("click",oe),p.rebind(U,ee,"on")}},91200:function(V,Y){var e={};Y.throttle=function(o,C,S){var v=e[o],g=Date.now();if(!v){for(var r in e)e[r].ts<g-6e4&&delete e[r];v=e[o]={ts:0,timer:null}}p(v);function t(){S(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(g>v.ts+C){t();return}v.timer=setTimeout(function(){t(),v.timer=null},C)},Y.done=function(L){var o=e[L];return!o||!o.timer?Promise.resolve():new Promise(function(C){var S=o.onDone;o.onDone=function(){S&&S(),C(),o.onDone=null}})},Y.clear=function(L){if(L)p(e[L]),delete e[L];else for(var o in e)Y.clear(o)};function p(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},36896:function(V,Y,e){var p=e(38248);V.exports=function(o,C){if(o>0)return Math.log(o)/Math.LN10;var S=Math.log(Math.min(C[0],C[1]))/Math.LN10;return p(S)||(S=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),S}},59972:function(V,Y,e){var p=V.exports={},L=e(79552).locationmodeToLayer,o=e(55712).NO;p.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(C,S){return C+S+".json"},p.getTopojsonFeatures=function(C,S){var v=L[C.locationmode],g=S.objects[v];return o(S,g).features}},11680:function(V){V.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(V){V.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(V,Y,e){var p=e(24040);V.exports=function(o){for(var C=p.layoutArrayContainers,S=p.layoutArrayRegexes,v=o.split("[")[0],g,r,t=0;t<S.length;t++)if(r=o.match(S[t]),r&&r.index===0){g=r[0];break}if(g||(g=C[C.indexOf(v)]),!g)return!1;var a=o.substr(g.length);return a?(r=a.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:g,index:Number(r[1]),property:r[3]||""}:!1):{array:g,index:"",property:""}}},67824:function(V,Y,e){var p=e(92880).extendFlat,L=e(63620),o={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},S=o.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");V.exports={traces:o,layout:C,traceFlags:function(){return g(S)},layoutFlags:function(){return g(v)},update:function(a,n){var f=n.editType;if(f&&f!=="none")for(var u=f.split("+"),l=0;l<u.length;l++)a[u[l]]=!0},overrideAll:r};function g(a){for(var n={},f=0;f<a.length;f++)n[a[f]]=!1;return n}function r(a,n,f){var u=p({},a);for(var l in u){var y=u[l];L(y)&&(u[l]=t(y,n,f,l))}return f==="from-root"&&(u.editType=n),u}function t(a,n,f,u){if(a.valType){var l=p({},a);if(l.editType=n,Array.isArray(a.items)){l.items=new Array(a.items.length);for(var y=0;y<a.items.length;y++)l.items[y]=t(a.items[y],n)}return l}else return r(a,n,u.charAt(0)==="_"?"nested":"from-root")}},93404:function(V,Y,e){var p=e(38248),L=e(61784),o=e(24040),C=e(3400),S=e(7316),v=e(79811),g=e(76308),r=v.cleanId,t=v.getFromTrace,a=o.traceIs;Y.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&C.log("Clearing previous rejected promises from queue."),d._promises=[]},Y.cleanLayout=function(d){var x,w;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var _=(S.subplotsRegistry.cartesian||{}).attrRegex,m=(S.subplotsRegistry.polar||{}).attrRegex,E=(S.subplotsRegistry.ternary||{}).attrRegex,A=(S.subplotsRegistry.gl3d||{}).attrRegex,s=Object.keys(d);for(x=0;x<s.length;x++){var M=s[x];if(_&&_.test(M)){var b=d[M];b.anchor&&b.anchor!=="free"&&(b.anchor=r(b.anchor)),b.overlaying&&(b.overlaying=r(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,h(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),f(b)}else if(m&&m.test(M)){var N=d[M];f(N.radialaxis)}else if(E&&E.test(M)){var k=d[M];f(k.aaxis),f(k.baxis),f(k.caxis)}else if(A&&A.test(M)){var H=d[M],F=H.cameraposition;if(Array.isArray(F)&&F[0].length===4){var B=F[0],U=F[1],z=F[2],W=L([],B),j=[];for(w=0;w<3;++w)j[w]=U[w]+z*W[2+4*w];H.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:U[0],y:U[1],z:U[2]},up:{x:0,y:0,z:1}},delete H.cameraposition}f(H.xaxis),f(H.yaxis),f(H.zaxis)}}var ee=Array.isArray(d.annotations)?d.annotations.length:0;for(x=0;x<ee;x++){var ie=d.annotations[x];C.isPlainObject(ie)&&(ie.ref&&(ie.ref==="paper"?(ie.xref="paper",ie.yref="paper"):ie.ref==="data"&&(ie.xref="x",ie.yref="y"),delete ie.ref),n(ie,"xref"),n(ie,"yref"))}var oe=Array.isArray(d.shapes)?d.shapes.length:0;for(x=0;x<oe;x++){var he=d.shapes[x];C.isPlainObject(he)&&(n(he,"xref"),n(he,"yref"))}var ne=Array.isArray(d.images)?d.images.length:0;for(x=0;x<ne;x++){var q=d.images[x];C.isPlainObject(q)&&(n(q,"xref"),n(q,"yref"))}var le=d.legend;return le&&(le.x>3?(le.x=1.02,le.xanchor="left"):le.x<-2&&(le.x=-.02,le.xanchor="right"),le.y>3?(le.y=1.02,le.yanchor="bottom"):le.y<-2&&(le.y=-.02,le.yanchor="top")),f(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),g.clean(d),d.template&&d.template.layout&&Y.cleanLayout(d.template.layout),d};function n(d,x){var w=d[x],_=x.charAt(0);w&&w!=="paper"&&(d[x]=r(w,_,!0))}function f(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(w,_){var m=d[w],E=d.title&&d.title[_];m&&!E&&(d.title||(d.title={}),d.title[_]=d[w],delete d[w])}}Y.cleanData=function(d){for(var x=0;x<d.length;x++){var w=d[x],_;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var m=g.defaults,E=w.error_y.color||(a(w,"bar")?g.defaultLine:m[x%m.length]);w.error_y.color=g.addOpacity(g.rgb(E),g.opacity(E)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(a(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",Y.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&Y.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=r(w.xaxis,"x")),w.yaxis&&(w.yaxis=r(w.yaxis,"y")),a(w,"gl3d")&&w.scene&&(w.scene=S.subplotsRegistry.gl3d.cleanId(w.scene)),!a(w,"pie-like")&&!a(w,"bar-like"))if(Array.isArray(w.textposition))for(_=0;_<w.textposition.length;_++)w.textposition[_]=y(w.textposition[_]);else w.textposition&&(w.textposition=y(w.textposition));var A=o.getModule(w);if(A&&A.colorbar){var s=A.colorbar.container,M=s?w[s]:w;M&&M.colorscale&&(M.colorscale==="YIGnBu"&&(M.colorscale="YlGnBu"),M.colorscale==="YIOrRd"&&(M.colorscale="YlOrRd"))}if(w.type==="surface"&&C.isPlainObject(w.contours)){var b=["x","y","z"];for(_=0;_<b.length;_++){var N=w.contours[b[_]];C.isPlainObject(N)&&(N.highlightColor&&(N.highlightcolor=N.highlightColor,delete N.highlightColor),N.highlightWidth&&(N.highlightwidth=N.highlightWidth,delete N.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var k=(w.increasing||{}).showlegend!==!1,H=(w.decreasing||{}).showlegend!==!1,F=u(w.increasing),B=u(w.decreasing);if(F!==!1&&B!==!1){var U=l(F,B,k,H);U&&(w.name=U)}else(F||B)&&!w.name&&(w.name=F||B)}if(Array.isArray(w.transforms)){var z=w.transforms;for(_=0;_<z.length;_++){var W=z[_];if(C.isPlainObject(W))switch(W.type){case"filter":W.filtersrc&&(W.target=W.filtersrc,delete W.filtersrc),W.calendar&&(W.valuecalendar||(W.valuecalendar=W.calendar),delete W.calendar);break;case"groupby":if(W.styles=W.styles||W.style,W.styles&&!Array.isArray(W.styles)){var j=W.styles,ee=Object.keys(j);W.styles=[];for(var ie=0;ie<ee.length;ie++)W.styles.push({target:ee[ie],value:j[ee[ie]]})}break}}}h(w,"line")&&delete w.line,"marker"in w&&(h(w.marker,"line")&&delete w.marker.line,h(w,"marker")&&delete w.marker),g.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),f(w),w.colorbar&&f(w.colorbar),w.marker&&w.marker.colorbar&&f(w.marker.colorbar),w.line&&w.line.colorbar&&f(w.line.colorbar),w.aaxis&&f(w.aaxis),w.baxis&&f(w.baxis)}};function u(d){if(!C.isPlainObject(d))return!1;var x=d.name;return delete d.name,delete d.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function l(d,x,w,_){if(w&&!_)return d;if(_&&!w||!d.trim())return x;if(!x.trim())return d;var m=Math.min(d.length,x.length),E;for(E=0;E<m&&d.charAt(E)===x.charAt(E);E++);var A=d.substr(0,E);return A.trim()}function y(d){var x="middle",w="center";return typeof d=="string"&&(d.indexOf("top")!==-1?x="top":d.indexOf("bottom")!==-1&&(x="bottom"),d.indexOf("left")!==-1?w="left":d.indexOf("right")!==-1&&(w="right")),x+" "+w}function h(d,x){return x in d&&typeof d[x]=="object"&&Object.keys(d[x]).length===0}Y.swapXYData=function(d){var x;if(C.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var w=d.error_y,_="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);C.swapAttrs(d,["error_?.copy_ystyle"]),_&&C.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var m=d.hoverinfo.split("+");for(x=0;x<m.length;x++)m[x]==="x"?m[x]="y":m[x]==="y"&&(m[x]="x");d.hoverinfo=m.join("+")}},Y.coerceTraceIndices=function(d,x){if(p(x))return[x];if(!Array.isArray(x)||!x.length)return d.data.map(function(m,E){return E});if(Array.isArray(x)){for(var w=[],_=0;_<x.length;_++)C.isIndex(x[_],d.data.length)?w.push(x[_]):C.warn("trace index (",x[_],") is not a number or is out of bounds");return w}return x},Y.manageArrayContainers=function(d,x,w){var _=d.obj,m=d.parts,E=m.length,A=m[E-1],s=p(A);if(s&&x===null){var M=m.slice(0,E-1).join("."),b=C.nestedProperty(_,M).get();b.splice(A,1)}else s&&d.get()===void 0&&d.get()===void 0&&(w[d.astr]=null),d.set(x)};var T=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(d){var x=d.search(T);if(x>0)return d.substr(0,x)}Y.hasParent=function(d,x){for(var w=c(x);w;){if(w in d)return!0;w=c(w)}return!1};var i=["x","y","z"];Y.clearAxisTypes=function(d,x,w){for(var _=0;_<x.length;_++)for(var m=d._fullData[_],E=0;E<3;E++){var A=t(d,m,i[E]);if(A&&A.type!=="log"){var s=A._name,M=A._id.substr(1);if(M.substr(0,5)==="scene"){if(w[M]!==void 0)continue;s=M+"."+s}var b=s+".type";w[s]===void 0&&w[b]===void 0&&C.nestedProperty(d.layout,b).set(null)}}}},22448:function(V,Y,e){var p=e(36424);Y._doPlot=p._doPlot,Y.newPlot=p.newPlot,Y.restyle=p.restyle,Y.relayout=p.relayout,Y.redraw=p.redraw,Y.update=p.update,Y._guiRestyle=p._guiRestyle,Y._guiRelayout=p._guiRelayout,Y._guiUpdate=p._guiUpdate,Y._storeDirectGUIEdit=p._storeDirectGUIEdit,Y.react=p.react,Y.extendTraces=p.extendTraces,Y.prependTraces=p.prependTraces,Y.addTraces=p.addTraces,Y.deleteTraces=p.deleteTraces,Y.moveTraces=p.moveTraces,Y.purge=p.purge,Y.addFrames=p.addFrames,Y.deleteFrames=p.deleteFrames,Y.animate=p.animate,Y.setPlotConfig=p.setPlotConfig;var L=e(52200).getGraphDiv,o=e(4016).eraseActiveShape;Y.deleteActiveShape=function(S){return o(L(S))},Y.toImage=e(67024),Y.validate=e(21480),Y.downloadImage=e(39792);var C=e(94828);Y.makeTemplate=C.makeTemplate,Y.validateTemplate=C.validateTemplate},17680:function(V,Y,e){var p=e(63620),L=e(16628),o=e(24248),C=e(14952).sorterAsc,S=e(24040);Y.containerArrayMatch=e(69820);var v=Y.isAddVal=function(t){return t==="add"||p(t)},g=Y.isRemoveVal=function(t){return t===null||t==="remove"};Y.applyContainerArrayChanges=function(t,a,n,f,u){var l=a.astr,y=S.getComponentMethod(l,"supplyLayoutDefaults"),h=S.getComponentMethod(l,"draw"),T=S.getComponentMethod(l,"drawOne"),c=f.replot||f.recalc||y===L||h===L,i=t.layout,d=t._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",l);var x=n[""][""];if(g(x))a.set(null);else if(Array.isArray(x))a.set(x);else return o.warn("Unrecognized full array edit value",l,x),!0;return c?!1:(y(i,d),h(t),!0)}var w=Object.keys(n).map(Number).sort(C),_=a.get(),m=_||[],E=u(d,l).get(),A=[],s=-1,M=m.length,b,N,k,H,F,B,U,z;for(b=0;b<w.length;b++){if(k=w[b],H=n[k],F=Object.keys(H),B=H[""],U=v(B),k<0||k>m.length-(U?0:1)){o.warn("index out of range",l,k);continue}if(B!==void 0)F.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",l,k),g(B)?A.push(k):U?(B==="add"&&(B={}),m.splice(k,0,B),E&&E.splice(k,0,{})):o.warn("Unrecognized full object edit value",l,k,B),s===-1&&(s=k);else for(N=0;N<F.length;N++)z=l+"["+k+"].",u(m[k],F[N],z).set(H[F[N]])}for(b=A.length-1;b>=0;b--)m.splice(A[b],1),E&&E.splice(A[b],1);if(m.length?_||a.set(m):a.set(null),c)return!1;if(y(i,d),T!==L){var W;if(s===-1)W=w;else{for(M=Math.max(m.length,M),W=[],b=0;b<w.length&&(k=w[b],!(k>=s));b++)W.push(k);for(b=s;b<M;b++)W.push(b)}for(b=0;b<W.length;b++)T(t,W[b])}else h(t);return!0}},36424:function(V,Y,e){var p=e(33428),L=e(38248),o=e(52264),C=e(3400),S=C.nestedProperty,v=e(95924),g=e(94552),r=e(24040),t=e(73060),a=e(7316),n=e(54460),f=e(96312),u=e(94724),l=e(43616),y=e(76308),h=e(42464).initInteractions,T=e(9616),c=e(22676).clearOutline,i=e(20556).dfltConfig,d=e(17680),x=e(93404),w=e(39172),_=e(67824),m=e(33816).AX_NAME_PATTERN,E=0,A=5;function s(ge,we,Ue,et){var st;if(ge=C.getGraphDiv(ge),v.init(ge),C.isPlainObject(we)){var lt=we;we=lt.data,Ue=lt.layout,et=lt.config,st=lt.frames}var Wt=v.triggerHandler(ge,"plotly_beforeplot",[we,Ue,et]);if(Wt===!1)return Promise.reject();!we&&!Ue&&!C.isPlotDiv(ge)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ge);function jt(){if(st)return Y.addFrames(ge,st)}H(ge,et),Ue||(Ue={}),p.select(ge).classed("js-plotly-plot",!0),l.makeTester(),Array.isArray(ge._promises)||(ge._promises=[]);var Tt=(ge.data||[]).length===0&&Array.isArray(we);Array.isArray(we)&&(x.cleanData(we),Tt?ge.data=we:ge.data.push.apply(ge.data,we),ge.empty=!1),(!ge.layout||Tt)&&(ge.layout=x.cleanLayout(Ue)),a.supplyDefaults(ge);var Rt=ge._fullLayout,Zt=Rt._has("cartesian");Rt._replotting=!0,(Tt||Rt._shouldCreateBgLayer)&&(De(ge),Rt._shouldCreateBgLayer&&delete Rt._shouldCreateBgLayer),l.initGradients(ge),l.initPatterns(ge),Tt&&n.saveShowSpikeInitial(ge);var mr=!ge.calcdata||ge.calcdata.length!==(ge._fullData||[]).length;mr&&a.doCalcdata(ge);for(var gt=0;gt<ge.calcdata.length;gt++)ge.calcdata[gt][0].trace=ge._fullData[gt];ge._context.responsive?ge._responsiveChartHandler||(ge._responsiveChartHandler=function(){C.isHidden(ge)||a.resize(ge)},window.addEventListener("resize",ge._responsiveChartHandler)):C.clearResponsive(ge);var Kt=C.extendFlat({},Rt._size),$t=0;function br(){for(var Bt=Rt._basePlotModules,Ut=0;Ut<Bt.length;Ut++)Bt[Ut].drawFramework&&Bt[Ut].drawFramework(ge);!Rt._glcanvas&&Rt._has("gl")&&(Rt._glcanvas=Rt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(gr){return gr.key}),Rt._glcanvas.enter().append("canvas").attr("class",function(gr){return"gl-canvas gl-canvas-"+gr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Jt=ge._context.plotGlPixelRatio;if(Rt._glcanvas){Rt._glcanvas.attr("width",Rt.width*Jt).attr("height",Rt.height*Jt).style("width",Rt.width+"px").style("height",Rt.height+"px");var hr=Rt._glcanvas.data()[0].regl;if(hr&&(Math.floor(Rt.width*Jt)!==hr._gl.drawingBufferWidth||Math.floor(Rt.height*Jt)!==hr._gl.drawingBufferHeight)){var vr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if($t)C.error(vr);else return C.log(vr+" Clearing graph and plotting again."),a.cleanPlot([],{},ge._fullData,Rt),a.supplyDefaults(ge),Rt=ge._fullLayout,a.doCalcdata(ge),$t++,br()}}return Rt.modebar.orientation==="h"?Rt._modebardiv.style("height",null).style("width","100%"):Rt._modebardiv.style("width",null).style("height",Rt.height+"px"),a.previousPromises(ge)}function lr(){if(a.clearAutoMarginIds(ge),w.drawMarginPushers(ge),n.allowAutoMargin(ge),ge._fullLayout.title.text&&ge._fullLayout.title.automargin&&a.allowAutoMargin(ge,"title.automargin"),Rt._has("pie"))for(var Bt=ge._fullData,Ut=0;Ut<Bt.length;Ut++){var Jt=Bt[Ut];Jt.type==="pie"&&Jt.automargin&&a.allowAutoMargin(ge,"pie."+Jt.uid+".automargin")}return a.doAutoMargin(ge),a.previousPromises(ge)}function mt(){if(a.didMarginChange(Kt,Rt._size))return C.syncOrAsync([lr,w.layoutStyles],ge)}function ut(){if(!mr){bt();return}return C.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),bt],ge)}function bt(){ge._transitioning||(w.doAutoRangeAndConstraints(ge),Tt&&n.saveRangeInitial(ge),r.getComponentMethod("rangeslider","calcAutorange")(ge))}function Et(){return n.draw(ge,Tt?"":"redraw")}var Dt=[a.previousPromises,jt,br,lr,mt];Zt&&Dt.push(ut),Dt.push(w.layoutStyles),Zt&&Dt.push(Et,function(Ut){var Jt=Ut._fullLayout._insideTickLabelsUpdaterange;if(Jt)return Ut._fullLayout._insideTickLabelsUpdaterange=void 0,Se(Ut,Jt).then(function(){n.saveRangeInitial(Ut,!0)})}),Dt.push(w.drawData,w.finalDraw,h,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Yt=C.syncOrAsync(Dt,ge);return(!Yt||!Yt.then)&&(Yt=Promise.resolve()),Yt.then(function(){return M(ge),ge})}function M(ge){var we=ge._fullLayout;we._redrawFromAutoMarginCount?we._redrawFromAutoMarginCount--:ge.emit("plotly_afterplot")}function b(ge){return C.extendFlat(i,ge)}function N(ge,we){try{ge._fullLayout._paper.style("background",we)}catch(Ue){C.error(Ue)}}function k(ge,we){var Ue=y.combine(we,"white");N(ge,Ue)}function H(ge,we){if(!ge._context){ge._context=C.extendDeep({},i);var Ue=p.select("base");ge._context._baseUrl=Ue.size()&&Ue.attr("href")?window.location.href.split("#")[0]:""}var et=ge._context,st,lt,Wt;if(we){for(lt=Object.keys(we),st=0;st<lt.length;st++)Wt=lt[st],!(Wt==="editable"||Wt==="edits")&&Wt in et&&(Wt==="setBackground"&&we[Wt]==="opaque"?et[Wt]=k:et[Wt]=we[Wt]);we.plot3dPixelRatio&&!et.plotGlPixelRatio&&(et.plotGlPixelRatio=et.plot3dPixelRatio);var jt=we.editable;if(jt!==void 0)for(et.editable=jt,lt=Object.keys(et.edits),st=0;st<lt.length;st++)et.edits[lt[st]]=jt;if(we.edits)for(lt=Object.keys(we.edits),st=0;st<lt.length;st++)Wt=lt[st],Wt in et.edits&&(et.edits[Wt]=we.edits[Wt]);et._exportedPlot=we._exportedPlot}et.staticPlot&&(et.editable=!1,et.edits={},et.autosizable=!1,et.scrollZoom=!1,et.doubleClick=!1,et.showTips=!1,et.showLink=!1,et.displayModeBar=!1),et.displayModeBar==="hover"&&!o&&(et.displayModeBar=!0),(et.setBackground==="transparent"||typeof et.setBackground!="function")&&(et.setBackground=N),et._hasZeroHeight=et._hasZeroHeight||ge.clientHeight===0,et._hasZeroWidth=et._hasZeroWidth||ge.clientWidth===0;var Tt=et.scrollZoom,Rt=et._scrollZoom={};if(Tt===!0)Rt.cartesian=1,Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1;else if(typeof Tt=="string"){var Zt=Tt.split("+");for(st=0;st<Zt.length;st++)Rt[Zt[st]]=1}else Tt!==!1&&(Rt.gl3d=1,Rt.geo=1,Rt.mapbox=1)}function F(ge){if(ge=C.getGraphDiv(ge),!C.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge);return x.cleanData(ge.data),x.cleanLayout(ge.layout),ge.calcdata=void 0,Y._doPlot(ge).then(function(){return ge.emit("plotly_redraw"),ge})}function B(ge,we,Ue,et){return ge=C.getGraphDiv(ge),a.cleanPlot([],{},ge._fullData||[],ge._fullLayout||{}),a.purge(ge),Y._doPlot(ge,we,Ue,et)}function U(ge,we){var Ue=we+1,et=[],st,lt;for(st=0;st<ge.length;st++)lt=ge[st],lt<0?et.push(Ue+lt):et.push(lt);return et}function z(ge,we,Ue){var et,st;for(et=0;et<we.length;et++){if(st=we[et],st!==parseInt(st,10))throw new Error("all values in "+Ue+" must be integers");if(st>=ge.data.length||st<-ge.data.length)throw new Error(Ue+" must be valid indices for gd.data.");if(we.indexOf(st,et+1)>-1||st>=0&&we.indexOf(-ge.data.length+st)>-1||st<0&&we.indexOf(ge.data.length+st)>-1)throw new Error("each index in "+Ue+" must be unique.")}}function W(ge,we,Ue){if(!Array.isArray(ge.data))throw new Error("gd.data must be an array.");if(typeof we>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(we)||(we=[we]),z(ge,we,"currentIndices"),typeof Ue<"u"&&!Array.isArray(Ue)&&(Ue=[Ue]),typeof Ue<"u"&&z(ge,Ue,"newIndices"),typeof Ue<"u"&&we.length!==Ue.length)throw new Error("current and new indices must be of equal length.")}function j(ge,we,Ue){var et,st;if(!Array.isArray(ge.data))throw new Error("gd.data must be an array.");if(typeof we>"u")throw new Error("traces must be defined.");for(Array.isArray(we)||(we=[we]),et=0;et<we.length;et++)if(st=we[et],typeof st!="object"||Array.isArray(st)||st===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ue<"u"&&!Array.isArray(Ue)&&(Ue=[Ue]),typeof Ue<"u"&&Ue.length!==we.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ee(ge,we,Ue,et){var st=C.isPlainObject(et);if(!Array.isArray(ge.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(we))throw new Error("update must be a key:value object");if(typeof Ue>"u")throw new Error("indices must be an integer or array of integers");z(ge,Ue,"indices");for(var lt in we){if(!Array.isArray(we[lt])||we[lt].length!==Ue.length)throw new Error("attribute "+lt+" must be an array of length equal to indices array length");if(st&&(!(lt in et)||!Array.isArray(et[lt])||et[lt].length!==we[lt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ie(ge,we,Ue,et){var st=C.isPlainObject(et),lt=[],Wt,jt,Tt,Rt,Zt;Array.isArray(Ue)||(Ue=[Ue]),Ue=U(Ue,ge.data.length-1);for(var mr in we)for(var gt=0;gt<Ue.length;gt++){if(Wt=ge.data[Ue[gt]],Tt=S(Wt,mr),jt=Tt.get(),Rt=we[mr][gt],!C.isArrayOrTypedArray(Rt))throw new Error("attribute: "+mr+" index: "+gt+" must be an array");if(!C.isArrayOrTypedArray(jt))throw new Error("cannot extend missing or non-array attribute: "+mr);if(jt.constructor!==Rt.constructor)throw new Error("cannot extend array with an array of a different type: "+mr);Zt=st?et[mr][gt]:et,L(Zt)||(Zt=-1),lt.push({prop:Tt,target:jt,insert:Rt,maxp:Math.floor(Zt)})}return lt}function oe(ge,we,Ue,et,st){ee(ge,we,Ue,et);for(var lt=ie(ge,we,Ue,et),Wt={},jt={},Tt=0;Tt<lt.length;Tt++){var Rt=lt[Tt].prop,Zt=lt[Tt].maxp,mr=st(lt[Tt].target,lt[Tt].insert,Zt);Rt.set(mr[0]),Array.isArray(Wt[Rt.astr])||(Wt[Rt.astr]=[]),Wt[Rt.astr].push(mr[1]),Array.isArray(jt[Rt.astr])||(jt[Rt.astr]=[]),jt[Rt.astr].push(lt[Tt].target.length)}return{update:Wt,maxPoints:jt}}function he(ge,we){var Ue=new ge.constructor(ge.length+we.length);return Ue.set(ge),Ue.set(we,ge.length),Ue}function ne(ge,we,Ue,et){ge=C.getGraphDiv(ge);function st(Tt,Rt,Zt){var mr,gt;if(C.isTypedArray(Tt))if(Zt<0){var Kt=new Tt.constructor(0),$t=he(Tt,Rt);Zt<0?(mr=$t,gt=Kt):(mr=Kt,gt=$t)}else if(mr=new Tt.constructor(Zt),gt=new Tt.constructor(Tt.length+Rt.length-Zt),Zt===Rt.length)mr.set(Rt),gt.set(Tt);else if(Zt<Rt.length){var br=Rt.length-Zt;mr.set(Rt.subarray(br)),gt.set(Tt),gt.set(Rt.subarray(0,br),Tt.length)}else{var lr=Zt-Rt.length,mt=Tt.length-lr;mr.set(Tt.subarray(mt)),mr.set(Rt,lr),gt.set(Tt.subarray(0,mt))}else mr=Tt.concat(Rt),gt=Zt>=0&&Zt<mr.length?mr.splice(0,mr.length-Zt):[];return[mr,gt]}var lt=oe(ge,we,Ue,et,st),Wt=Y.redraw(ge),jt=[ge,lt.update,Ue,lt.maxPoints];return g.add(ge,Y.prependTraces,jt,ne,arguments),Wt}function q(ge,we,Ue,et){ge=C.getGraphDiv(ge);function st(Tt,Rt,Zt){var mr,gt;if(C.isTypedArray(Tt))if(Zt<=0){var Kt=new Tt.constructor(0),$t=he(Rt,Tt);Zt<0?(mr=$t,gt=Kt):(mr=Kt,gt=$t)}else if(mr=new Tt.constructor(Zt),gt=new Tt.constructor(Tt.length+Rt.length-Zt),Zt===Rt.length)mr.set(Rt),gt.set(Tt);else if(Zt<Rt.length){var br=Rt.length-Zt;mr.set(Rt.subarray(0,br)),gt.set(Rt.subarray(br)),gt.set(Tt,br)}else{var lr=Zt-Rt.length;mr.set(Rt),mr.set(Tt.subarray(0,lr),Rt.length),gt.set(Tt.subarray(lr))}else mr=Rt.concat(Tt),gt=Zt>=0&&Zt<mr.length?mr.splice(Zt,mr.length):[];return[mr,gt]}var lt=oe(ge,we,Ue,et,st),Wt=Y.redraw(ge),jt=[ge,lt.update,Ue,lt.maxPoints];return g.add(ge,Y.extendTraces,jt,q,arguments),Wt}function le(ge,we,Ue){ge=C.getGraphDiv(ge);var et=[],st=Y.deleteTraces,lt=le,Wt=[ge,et],jt=[ge,we],Tt,Rt;for(j(ge,we,Ue),Array.isArray(we)||(we=[we]),we=we.map(function(Zt){return C.extendFlat({},Zt)}),x.cleanData(we),Tt=0;Tt<we.length;Tt++)ge.data.push(we[Tt]);for(Tt=0;Tt<we.length;Tt++)et.push(-we.length+Tt);if(typeof Ue>"u")return Rt=Y.redraw(ge),g.add(ge,st,Wt,lt,jt),Rt;Array.isArray(Ue)||(Ue=[Ue]);try{W(ge,et,Ue)}catch(Zt){throw ge.data.splice(ge.data.length-we.length,we.length),Zt}return g.startSequence(ge),g.add(ge,st,Wt,lt,jt),Rt=Y.moveTraces(ge,et,Ue),g.stopSequence(ge),Rt}function Q(ge,we){ge=C.getGraphDiv(ge);var Ue=[],et=Y.addTraces,st=Q,lt=[ge,Ue,we],Wt=[ge,we],jt,Tt;if(typeof we>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(we)||(we=[we]),z(ge,we,"indices"),we=U(we,ge.data.length-1),we.sort(C.sorterDes),jt=0;jt<we.length;jt+=1)Tt=ge.data.splice(we[jt],1)[0],Ue.push(Tt);var Rt=Y.redraw(ge);return g.add(ge,et,lt,st,Wt),Rt}function te(ge,we,Ue){ge=C.getGraphDiv(ge);var et=[],st=[],lt=te,Wt=te,jt=[ge,Ue,we],Tt=[ge,we,Ue],Rt;if(W(ge,we,Ue),we=Array.isArray(we)?we:[we],typeof Ue>"u")for(Ue=[],Rt=0;Rt<we.length;Rt++)Ue.push(-we.length+Rt);for(Ue=Array.isArray(Ue)?Ue:[Ue],we=U(we,ge.data.length-1),Ue=U(Ue,ge.data.length-1),Rt=0;Rt<ge.data.length;Rt++)we.indexOf(Rt)===-1&&et.push(ge.data[Rt]);for(Rt=0;Rt<we.length;Rt++)st.push({newIndex:Ue[Rt],trace:ge.data[we[Rt]]});for(st.sort(function(mr,gt){return mr.newIndex-gt.newIndex}),Rt=0;Rt<st.length;Rt+=1)et.splice(st[Rt].newIndex,0,st[Rt].trace);ge.data=et;var Zt=Y.redraw(ge);return g.add(ge,lt,jt,Wt,Tt),Zt}function ue(ge,we,Ue,et){ge=C.getGraphDiv(ge),x.clearPromiseQueue(ge);var st={};if(typeof we=="string")st[we]=Ue;else if(C.isPlainObject(we))st=C.extendFlat({},we),et===void 0&&(et=Ue);else return C.warn("Restyle fail.",we,Ue,et),Promise.reject();Object.keys(st).length&&(ge.changed=!0);var lt=x.coerceTraceIndices(ge,et),Wt=de(ge,st,lt),jt=Wt.flags;jt.calc&&(ge.calcdata=void 0),jt.clearAxisTypes&&x.clearAxisTypes(ge,lt,{});var Tt=[];jt.fullReplot?Tt.push(Y._doPlot):(Tt.push(a.previousPromises),a.supplyDefaults(ge),jt.markerSize&&(a.doCalcdata(ge),Ie(Tt)),jt.style&&Tt.push(w.doTraceStyle),jt.colorbars&&Tt.push(w.doColorBars),Tt.push(M)),Tt.push(a.rehover,a.redrag,a.reselect),g.add(ge,ue,[ge,Wt.undoit,Wt.traces],ue,[ge,Wt.redoit,Wt.traces]);var Rt=C.syncOrAsync(Tt,ge);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return ge.emit("plotly_restyle",Wt.eventData),ge})}function J(ge){return ge===void 0?null:ge}function K(ge,we){return we?function(Ue,et,st){var lt=S(Ue,et),Wt=lt.set;return lt.set=function(jt){var Tt=(st||"")+et;ce(Tt,lt.get(),jt,ge),Wt(jt)},lt}:S}function ce(ge,we,Ue,et){if(Array.isArray(we)||Array.isArray(Ue))for(var st=Array.isArray(we)?we:[],lt=Array.isArray(Ue)?Ue:[],Wt=Math.max(st.length,lt.length),jt=0;jt<Wt;jt++)ce(ge+"["+jt+"]",st[jt],lt[jt],et);else if(C.isPlainObject(we)||C.isPlainObject(Ue)){var Tt=C.isPlainObject(we)?we:{},Rt=C.isPlainObject(Ue)?Ue:{},Zt=C.extendFlat({},Tt,Rt);for(var mr in Zt)ce(ge+"."+mr,Tt[mr],Rt[mr],et)}else et[ge]===void 0&&(et[ge]=J(we))}function ae(ge,we,Ue){for(var et in Ue){var st=S(ge,et);ce(et,st.get(),Ue[et],we)}}function de(ge,we,Ue){var et=ge._fullLayout,st=ge._fullData,lt=ge.data,Wt=et._guiEditing,jt=K(et._preGUI,Wt),Tt=C.extendDeepAll({},we),Rt;be(we);var Zt=_.traceFlags(),mr={},gt={},Kt;function $t(){return Ue.map(function(){})}function br(Mn){var Sr=n.id2name(Mn);Kt.indexOf(Sr)===-1&&Kt.push(Sr)}function lr(Mn){return"LAYOUT"+Mn+".autorange"}function mt(Mn){return"LAYOUT"+Mn+".range"}function ut(Mn){for(var Sr=Mn;Sr<st.length;Sr++)if(st[Sr]._input===lt[Mn])return st[Sr]}function bt(Mn,Sr,Nr){if(Array.isArray(Mn)){Mn.forEach(function(vn){bt(vn,Sr,Nr)});return}if(!(Mn in we||x.hasParent(we,Mn))){var Zr;if(Mn.substr(0,6)==="LAYOUT")Zr=jt(ge.layout,Mn.replace("LAYOUT",""));else{var Fr=Ue[Nr],cn=et._tracePreGUI[ut(Fr)._fullInput.uid];Zr=K(cn,Wt)(lt[Fr],Mn)}Mn in gt||(gt[Mn]=$t()),gt[Mn][Nr]===void 0&&(gt[Mn][Nr]=J(Zr.get())),Sr!==void 0&&Zr.set(Sr)}}function Et(Mn){return function(Sr){return st[Sr][Mn]}}function Dt(Mn){return function(Sr,Nr){return Sr===!1?st[Ue[Nr]][Mn]:null}}for(var Yt in we){if(x.hasParent(we,Yt))throw new Error("cannot set "+Yt+" and a parent attribute simultaneously");var Bt=we[Yt],Ut,Jt,hr,vr,gr,Xe;if((Yt==="autobinx"||Yt==="autobiny")&&(Yt=Yt.charAt(Yt.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Yt)):Bt===!1?Bt=Ue.map(Et(Yt)):Bt=null),mr[Yt]=Bt,Yt.substr(0,6)==="LAYOUT"){hr=jt(ge.layout,Yt.replace("LAYOUT","")),gt[Yt]=[J(hr.get())],hr.set(Array.isArray(Bt)?Bt[0]:Bt),Zt.calc=!0;continue}for(gt[Yt]=$t(),Rt=0;Rt<Ue.length;Rt++){Ut=lt[Ue[Rt]],Jt=ut(Ue[Rt]);var He=et._tracePreGUI[Jt._fullInput.uid];if(hr=K(He,Wt)(Ut,Yt),vr=hr.get(),gr=Array.isArray(Bt)?Bt[Rt%Bt.length]:Bt,gr!==void 0){var Nt=hr.parts[hr.parts.length-1],Pt=Yt.substr(0,Yt.length-Nt.length-1),Qt=Pt?Pt+".":"",ur=Pt?S(Jt,Pt).get():Jt;if(Xe=t.getTraceValObject(Jt,hr.parts),Xe&&Xe.impliedEdits&&gr!==null)for(var cr in Xe.impliedEdits)bt(C.relativeAttr(Yt,cr),Xe.impliedEdits[cr],Rt);else if((Nt==="thicknessmode"||Nt==="lenmode")&&vr!==gr&&(gr==="fraction"||gr==="pixels")&&ur){var tr=et._size,zt=ur.orient,or=zt==="top"||zt==="bottom";if(Nt==="thicknessmode"){var dr=or?tr.h:tr.w;bt(Qt+"thickness",ur.thickness*(gr==="fraction"?1/dr:dr),Rt)}else{var wr=or?tr.w:tr.h;bt(Qt+"len",ur.len*(gr==="fraction"?1/wr:wr),Rt)}}else if(Yt==="type"&&(gr==="pie"!=(vr==="pie")||gr==="funnelarea"!=(vr==="funnelarea"))){var pr="x",Wr="y";(gr==="bar"||vr==="bar")&&Ut.orientation==="h"&&(pr="y",Wr="x"),C.swapAttrs(Ut,["?","?src"],"labels",pr),C.swapAttrs(Ut,["d?","?0"],"label",pr),C.swapAttrs(Ut,["?","?src"],"values",Wr),vr==="pie"||vr==="funnelarea"?(S(Ut,"marker.color").set(S(Ut,"marker.colors").get()),et._pielayer.selectAll("g.trace").remove()):r.traceIs(Ut,"cartesian")&&S(Ut,"marker.colors").set(S(Ut,"marker.color").get())}gt[Yt][Rt]=J(vr);var Pr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Pr.indexOf(Yt)!==-1){if(Yt==="orientation"){hr.set(gr);var Ir=Ut.x&&!Ut.y?"h":"v";if((hr.get()||Ir)===Jt.orientation)continue}else Yt==="orientationaxes"&&(Ut.orientation={v:"h",h:"v"}[Jt.orientation]);x.swapXYData(Ut),Zt.calc=Zt.clearAxisTypes=!0}else a.dataArrayContainers.indexOf(hr.parts[0])!==-1?(x.manageArrayContainers(hr,gr,gt),Zt.calc=!0):(Xe?Xe.arrayOk&&!r.traceIs(Jt,"regl")&&(C.isArrayOrTypedArray(gr)||C.isArrayOrTypedArray(vr))?Zt.calc=!0:_.update(Zt,Xe):Zt.calc=!0,hr.set(gr))}}if(["swapxyaxes","orientationaxes"].indexOf(Yt)!==-1&&n.swap(ge,Ue),Yt==="orientationaxes"){var ln=S(ge.layout,"hovermode"),an=ln.get();an==="x"?ln.set("y"):an==="y"?ln.set("x"):an==="x unified"?ln.set("y unified"):an==="y unified"&&ln.set("x unified")}if(["orientation","type"].indexOf(Yt)!==-1){for(Kt=[],Rt=0;Rt<Ue.length;Rt++){var _n=lt[Ue[Rt]];r.traceIs(_n,"cartesian")&&(br(_n.xaxis||"x"),br(_n.yaxis||"y"))}bt(Kt.map(lr),!0,0),bt(Kt.map(mt),[0,1],0)}}return(Zt.calc||Zt.plot)&&(Zt.fullReplot=!0),{flags:Zt,undoit:gt,redoit:mr,traces:Ue,eventData:C.extendDeepNoArrays([],[Tt,Ue])}}function be(ge){var we=C.counterRegex("axis",".title",!1,!1),Ue=/colorbar\.title$/,et=Object.keys(ge),st,lt,Wt;for(st=0;st<et.length;st++)lt=et[st],Wt=ge[lt],(lt==="title"||we.test(lt)||Ue.test(lt))&&(typeof Wt=="string"||typeof Wt=="number")?jt(lt,lt.replace("title","title.text")):lt.indexOf("titlefont")>-1&&lt.indexOf("grouptitlefont")===-1?jt(lt,lt.replace("titlefont","title.font")):lt.indexOf("titleposition")>-1?jt(lt,lt.replace("titleposition","title.position")):lt.indexOf("titleside")>-1?jt(lt,lt.replace("titleside","title.side")):lt.indexOf("titleoffset")>-1&&jt(lt,lt.replace("titleoffset","title.offset"));function jt(Tt,Rt){ge[Rt]=ge[Tt],delete ge[Tt]}}function Se(ge,we,Ue){ge=C.getGraphDiv(ge),x.clearPromiseQueue(ge);var et={};if(typeof we=="string")et[we]=Ue;else if(C.isPlainObject(we))et=C.extendFlat({},we);else return C.warn("Relayout fail.",we,Ue),Promise.reject();Object.keys(et).length&&(ge.changed=!0);var st=Oe(ge,et),lt=st.flags;lt.calc&&(ge.calcdata=void 0);var Wt=[a.previousPromises];lt.layoutReplot?Wt.push(w.layoutReplot):Object.keys(et).length&&(Te(ge,lt,st)||a.supplyDefaults(ge),lt.legend&&Wt.push(w.doLegend),lt.layoutstyle&&Wt.push(w.layoutStyles),lt.axrange&&Ie(Wt,st.rangesAltered),lt.ticks&&Wt.push(w.doTicksRelayout),lt.modebar&&Wt.push(w.doModeBar),lt.camera&&Wt.push(w.doCamera),lt.colorbars&&Wt.push(w.doColorBars),Wt.push(M)),Wt.push(a.rehover,a.redrag,a.reselect),g.add(ge,Se,[ge,st.undoit],Se,[ge,st.redoit]);var jt=C.syncOrAsync(Wt,ge);return(!jt||!jt.then)&&(jt=Promise.resolve(ge)),jt.then(function(){return ge.emit("plotly_relayout",st.eventData),ge})}function Te(ge,we,Ue){var et=ge._fullLayout;if(!we.axrange)return!1;for(var st in we)if(st!=="axrange"&&we[st])return!1;var lt,Wt,jt=function(Kt,$t){return C.coerce(lt,Wt,u,Kt,$t)},Tt={};for(var Rt in Ue.rangesAltered){var Zt=n.id2name(Rt);if(lt=ge.layout[Zt],Wt=et[Zt],f(lt,Wt,jt,Tt),Wt._matchGroup){for(var mr in Wt._matchGroup)if(mr!==Rt){var gt=et[n.id2name(mr)];gt.autorange=Wt.autorange,gt.range=Wt.range.slice(),gt._input.range=Wt.range.slice()}}}return!0}function Ie(ge,we){var Ue=we?function(et){var st=[],lt=!0;for(var Wt in we){var jt=n.getFromId(et,Wt);if(st.push(Wt),(jt.ticklabelposition||"").indexOf("inside")!==-1&&jt._anchorAxis&&st.push(jt._anchorAxis._id),jt._matchGroup)for(var Tt in jt._matchGroup)we[Tt]||st.push(Tt)}return n.draw(et,st,{skipTitle:lt})}:function(et){return n.draw(et,"redraw")};ge.push(c,w.doAutoRangeAndConstraints,Ue,w.drawData,w.finalDraw)}var ke=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Be=/^[xyz]axis[0-9]*\.autorange$/,Me=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Oe(ge,we){var Ue=ge.layout,et=ge._fullLayout,st=et._guiEditing,lt=K(et._preGUI,st),Wt=Object.keys(we),jt=n.list(ge),Tt=C.extendDeepAll({},we),Rt={},Zt,mr,gt;for(be(we),Wt=Object.keys(we),mr=0;mr<Wt.length;mr++)if(Wt[mr].indexOf("allaxes")===0){for(gt=0;gt<jt.length;gt++){var Kt=jt[gt]._id.substr(1),$t=Kt.indexOf("scene")!==-1?Kt+".":"",br=Wt[mr].replace("allaxes",$t+jt[gt]._name);we[br]||(we[br]=we[Wt[mr]])}delete we[Wt[mr]]}var lr=_.layoutFlags(),mt={},ut={};function bt(cn,vn){if(Array.isArray(cn)){cn.forEach(function(Rn){bt(Rn,vn)});return}if(!(cn in we||x.hasParent(we,cn))){var Cn=lt(Ue,cn);cn in ut||(ut[cn]=J(Cn.get())),vn!==void 0&&Cn.set(vn)}}var Et={},Dt;function Yt(cn){var vn=n.name2id(cn.split(".")[0]);return Et[vn]=1,vn}for(var Bt in we){if(x.hasParent(we,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Ut=lt(Ue,Bt),Jt=we[Bt],hr=Ut.parts.length,vr=hr-1;vr>0&&typeof Ut.parts[vr]!="string";)vr--;var gr=Ut.parts[vr],Xe=Ut.parts[vr-1]+"."+gr,He=Ut.parts.slice(0,vr).join("."),Nt=S(ge.layout,He).get(),Pt=S(et,He).get(),Qt=Ut.get();if(Jt!==void 0){mt[Bt]=Jt,ut[Bt]=gr==="reverse"?Jt:J(Qt);var ur=t.getLayoutValObject(et,Ut.parts);if(ur&&ur.impliedEdits&&Jt!==null)for(var cr in ur.impliedEdits)bt(C.relativeAttr(Bt,cr),ur.impliedEdits[cr]);if(["width","height"].indexOf(Bt)!==-1)if(Jt){bt("autosize",null);var tr=Bt==="height"?"width":"height";bt(tr,et[tr])}else et[Bt]=ge._initialAutoSize[Bt];else if(Bt==="autosize")bt("width",Jt?null:et.width),bt("height",Jt?null:et.height);else if(Xe.match(ke))Yt(Xe),S(et,He+"._inputRange").set(null);else if(Xe.match(Be)){Yt(Xe),S(et,He+"._inputRange").set(null);var zt=S(et,He).get();zt._inputDomain&&(zt._input.domain=zt._inputDomain.slice())}else Xe.match(Me)&&S(et,He+"._inputDomain").set(null);if(gr==="type"){Dt=Nt;var or=Pt.type==="linear"&&Jt==="log",dr=Pt.type==="log"&&Jt==="linear";if(or||dr){if(!Dt||!Dt.range)bt(He+".autorange",!0);else if(Pt.autorange)or&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var wr=Dt.range[0],pr=Dt.range[1];or?(wr<=0&&pr<=0&&bt(He+".autorange",!0),wr<=0?wr=pr/1e6:pr<=0&&(pr=wr/1e6),bt(He+".range[0]",Math.log(wr)/Math.LN10),bt(He+".range[1]",Math.log(pr)/Math.LN10)):(bt(He+".range[0]",Math.pow(10,wr)),bt(He+".range[1]",Math.pow(10,pr)))}Array.isArray(et._subplots.polar)&&et._subplots.polar.length&&et[Ut.parts[0]]&&Ut.parts[1]==="radialaxis"&&delete et[Ut.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(ge,Pt,Jt,bt),r.getComponentMethod("images","convertCoords")(ge,Pt,Jt,bt)}else bt(He+".autorange",!0),bt(He+".range",null);S(et,He+"._inputRange").set(null)}else if(gr.match(m)){var Wr=S(et,Bt).get(),Pr=(Jt||{}).type;(!Pr||Pr==="-")&&(Pr="linear"),r.getComponentMethod("annotations","convertCoords")(ge,Wr,Pr,bt),r.getComponentMethod("images","convertCoords")(ge,Wr,Pr,bt)}var Ir=d.containerArrayMatch(Bt);if(Ir){Zt=Ir.array,mr=Ir.index;var ln=Ir.property,an=ur||{editType:"calc"};mr!==""&&ln===""&&(d.isAddVal(Jt)?ut[Bt]=null:d.isRemoveVal(Jt)?ut[Bt]=(S(Ue,Zt).get()||[])[mr]:C.warn("unrecognized full object value",we)),_.update(lr,an),Rt[Zt]||(Rt[Zt]={});var _n=Rt[Zt][mr];_n||(_n=Rt[Zt][mr]={}),_n[ln]=Jt,delete we[Bt]}else gr==="reverse"?(Nt.range?Nt.range.reverse():(bt(He+".autorange",!0),Nt.range=[1,0]),Pt.autorange?lr.calc=!0:lr.plot=!0):(Bt==="dragmode"&&(Jt===!1&&Qt!==!1||Jt!==!1&&Qt===!1)||et._has("scatter-like")&&et._has("regl")&&Bt==="dragmode"&&(Jt==="lasso"||Jt==="select")&&!(Qt==="lasso"||Qt==="select")||et._has("gl2d")?lr.plot=!0:ur?_.update(lr,ur):lr.calc=!0,Ut.set(Jt))}}for(Zt in Rt){var Mn=d.applyContainerArrayChanges(ge,lt(Ue,Zt),Rt[Zt],lr,lt);Mn||(lr.plot=!0)}for(var Sr in Et){Dt=n.getFromId(ge,Sr);var Nr=Dt&&Dt._constraintGroup;if(Nr){lr.calc=!0;for(var Zr in Nr)Et[Zr]||(n.getFromId(ge,Zr)._constraintShrinkable=!0)}}(_e(ge)||we.height||we.width)&&(lr.plot=!0);var Fr=et.shapes;for(mr=0;mr<Fr.length;mr++)if(Fr[mr].showlegend){lr.calc=!0;break}return(lr.plot||lr.calc)&&(lr.layoutReplot=!0),{flags:lr,rangesAltered:Et,undoit:ut,redoit:mt,eventData:Tt}}function _e(ge){var we=ge._fullLayout,Ue=we.width,et=we.height;return ge.layout.autosize&&a.plotAutoSize(ge,ge.layout,we),we.width!==Ue||we.height!==et}function Ne(ge,we,Ue,et){ge=C.getGraphDiv(ge),x.clearPromiseQueue(ge),C.isPlainObject(we)||(we={}),C.isPlainObject(Ue)||(Ue={}),Object.keys(we).length&&(ge.changed=!0),Object.keys(Ue).length&&(ge.changed=!0);var st=x.coerceTraceIndices(ge,et),lt=de(ge,C.extendFlat({},we),st),Wt=lt.flags,jt=Oe(ge,C.extendFlat({},Ue)),Tt=jt.flags;(Wt.calc||Tt.calc)&&(ge.calcdata=void 0),Wt.clearAxisTypes&&x.clearAxisTypes(ge,st,Ue);var Rt=[];Tt.layoutReplot?Rt.push(w.layoutReplot):Wt.fullReplot?Rt.push(Y._doPlot):(Rt.push(a.previousPromises),Te(ge,Tt,jt)||a.supplyDefaults(ge),Wt.style&&Rt.push(w.doTraceStyle),(Wt.colorbars||Tt.colorbars)&&Rt.push(w.doColorBars),Tt.legend&&Rt.push(w.doLegend),Tt.layoutstyle&&Rt.push(w.layoutStyles),Tt.axrange&&Ie(Rt,jt.rangesAltered),Tt.ticks&&Rt.push(w.doTicksRelayout),Tt.modebar&&Rt.push(w.doModeBar),Tt.camera&&Rt.push(w.doCamera),Rt.push(M)),Rt.push(a.rehover,a.redrag,a.reselect),g.add(ge,Ne,[ge,lt.undoit,jt.undoit,lt.traces],Ne,[ge,lt.redoit,jt.redoit,lt.traces]);var Zt=C.syncOrAsync(Rt,ge);return(!Zt||!Zt.then)&&(Zt=Promise.resolve(ge)),Zt.then(function(){return ge.emit("plotly_update",{data:lt.eventData,layout:jt.eventData}),ge})}function Ce(ge){return function(Ue){Ue._fullLayout._guiEditing=!0;var et=ge.apply(null,arguments);return Ue._fullLayout._guiEditing=!1,et}}var Ye=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],rt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ot(ge,we){for(var Ue=0;Ue<we.length;Ue++){var et=we[Ue],st=ge.match(et.pattern);if(st){var lt=st[1]||"";return{head:lt,tail:ge.substr(lt.length+1),attr:et.attr}}}}function $e(ge,we){var Ue=S(we,ge).get();if(Ue!==void 0)return Ue;var et=ge.split(".");for(et.pop();et.length>1;)if(et.pop(),Ue=S(we,et.join(".")+".uirevision").get(),Ue!==void 0)return Ue;return we.uirevision}function qe(ge,we){for(var Ue=0;Ue<we.length;Ue++)if(we[Ue]._fullInput.uid===ge)return Ue;return-1}function ht(ge,we,Ue){for(var et=0;et<we.length;et++)if(we[et].uid===ge)return et;return!we[Ue]||we[Ue].uid?-1:Ue}function vt(ge,we){var Ue=C.isPlainObject(ge),et=Array.isArray(ge);return Ue||et?(Ue&&C.isPlainObject(we)||et&&Array.isArray(we))&&JSON.stringify(ge)===JSON.stringify(we):ge===we}function pt(ge,we,Ue,et){var st=et._preGUI,lt,Wt,jt,Tt,Rt,Zt,mr,gt,Kt,$t,br=[],lr={},mt={};for(lt in st){if(Rt=ot(lt,Ye),Rt){if(Kt=Rt.head,$t=Rt.tail,Wt=Rt.attr||Kt+".uirevision",jt=S(et,Wt).get(),Tt=jt&&$e(Wt,we),Tt&&Tt===jt){if(Zt=st[lt],Zt===null&&(Zt=void 0),mr=S(we,lt),gt=mr.get(),vt(gt,Zt)){gt===void 0&&$t==="autorange"&&br.push(Kt),mr.set(J(S(et,lt).get()));continue}else if($t==="autorange"||$t.substr(0,6)==="range["){var ut=st[Kt+".range[0]"],bt=st[Kt+".range[1]"],Et=st[Kt+".autorange"];if(Et||Et===null&&ut===null&&bt===null){if(!(Kt in lr)){var Dt=S(we,Kt).get();lr[Kt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(lr[Kt]){mr.set(J(S(et,lt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+lt);delete st[lt],Rt&&Rt.tail.substr(0,6)==="range["&&(mt[Rt.head]=1)}for(var Yt=0;Yt<br.length;Yt++){var Bt=br[Yt];if(mt[Bt]){var Ut=S(we,Bt).get();Ut&&delete Ut.autorange}}var Jt=et._tracePreGUI;for(var hr in Jt){var vr=Jt[hr],gr=null,Xe;for(lt in vr){if(!gr){var He=qe(hr,Ue);if(He<0){delete Jt[hr];break}var Nt=Ue[He];Xe=Nt._fullInput;var Pt=ht(hr,ge,Xe.index);if(Pt<0){delete Jt[hr];break}gr=ge[Pt]}if(Rt=ot(lt,rt),Rt){if(Rt.attr?(jt=S(et,Rt.attr).get(),Tt=jt&&$e(Rt.attr,we)):(jt=Xe.uirevision,Tt=gr.uirevision,Tt===void 0&&(Tt=we.uirevision)),Tt&&Tt===jt&&(Zt=vr[lt],Zt===null&&(Zt=void 0),mr=S(gr,lt),gt=mr.get(),vt(gt,Zt))){mr.set(J(S(Xe,lt).get()));continue}}else C.warn("unrecognized GUI edit: "+lt+" in trace uid "+hr);delete vr[lt]}}}function wt(ge,we,Ue,et){var st,lt;function Wt(){return Y.addFrames(ge,st)}ge=C.getGraphDiv(ge),x.clearPromiseQueue(ge);var jt=ge._fullData,Tt=ge._fullLayout;if(!C.isPlotDiv(ge)||!jt||!Tt)lt=Y.newPlot(ge,we,Ue,et);else{if(C.isPlainObject(we)){var Rt=we;we=Rt.data,Ue=Rt.layout,et=Rt.config,st=Rt.frames}var Zt=!1;if(et){var mr=C.extendDeep({},ge._context);ge._context=void 0,H(ge,et),Zt=We(mr,ge._context)}ge.data=we||[],x.cleanData(ge.data),ge.layout=Ue||{},x.cleanLayout(ge.layout),pt(ge.data,ge.layout,jt,Tt),a.supplyDefaults(ge,{skipUpdateCalc:!0});var gt=ge._fullData,Kt=ge._fullLayout,$t=Kt.datarevision===void 0,br=Kt.transition,lr=nt(ge,Tt,Kt,$t,br),mt=lr.newDataRevision,ut=Mt(ge,jt,gt,$t,br,mt);if(_e(ge)&&(lr.layoutReplot=!0),ut.calc||lr.calc){ge.calcdata=void 0;for(var bt=Object.getOwnPropertyNames(Kt),Et=0;Et<bt.length;Et++){var Dt=bt[Et],Yt=Dt.substring(0,5);if(Yt==="xaxis"||Yt==="yaxis"){var Bt=Kt[Dt]._emptyCategories;Bt&&Bt()}}}else a.supplyDefaultsUpdateCalc(ge.calcdata,gt);var Ut=[];if(st&&(ge._transitionData={},a.createTransitionData(ge),Ut.push(Wt)),Kt.transition&&!Zt&&(ut.anim||lr.anim))lr.ticks&&Ut.push(w.doTicksRelayout),a.doCalcdata(ge),w.doAutoRangeAndConstraints(ge),Ut.push(function(){return a.transitionFromReact(ge,ut,lr,Tt)});else if(ut.fullReplot||lr.layoutReplot||Zt)ge._fullLayout._skipDefaults=!0,Ut.push(Y._doPlot);else{for(var Jt in lr.arrays){var hr=lr.arrays[Jt];if(hr.length){var vr=r.getComponentMethod(Jt,"drawOne");if(vr!==C.noop)for(var gr=0;gr<hr.length;gr++)vr(ge,hr[gr]);else{var Xe=r.getComponentMethod(Jt,"draw");if(Xe===C.noop)throw new Error("cannot draw components: "+Jt);Xe(ge)}}}Ut.push(a.previousPromises),ut.style&&Ut.push(w.doTraceStyle),(ut.colorbars||lr.colorbars)&&Ut.push(w.doColorBars),lr.legend&&Ut.push(w.doLegend),lr.layoutstyle&&Ut.push(w.layoutStyles),lr.axrange&&Ie(Ut),lr.ticks&&Ut.push(w.doTicksRelayout),lr.modebar&&Ut.push(w.doModeBar),lr.camera&&Ut.push(w.doCamera),Ut.push(M)}Ut.push(a.rehover,a.redrag,a.reselect),lt=C.syncOrAsync(Ut,ge),(!lt||!lt.then)&&(lt=Promise.resolve(ge))}return lt.then(function(){return ge.emit("plotly_react",{data:we,layout:Ue}),ge})}function Mt(ge,we,Ue,et,st,lt){var Wt=we.length===Ue.length;if(!st&&!Wt)return{fullReplot:!0,calc:!0};var jt=_.traceFlags();jt.arrays={},jt.nChanges=0,jt.nChangesAnim=0;var Tt,Rt;function Zt(Kt){var $t=t.getTraceValObject(Rt,Kt);return!Rt._module.animatable&&$t.anim&&($t.anim=!1),$t}var mr={getValObject:Zt,flags:jt,immutable:et,transition:st,newDataRevision:lt,gd:ge},gt={};for(Tt=0;Tt<we.length;Tt++)if(Ue[Tt]){if(Rt=Ue[Tt]._fullInput,a.hasMakesDataTransform(Rt)&&(Rt=Ue[Tt]),gt[Rt.uid])continue;gt[Rt.uid]=1,Fe(we[Tt]._fullInput,Rt,[],mr)}return(jt.calc||jt.plot)&&(jt.fullReplot=!0),st&&jt.nChanges&&jt.nChangesAnim&&(jt.anim=jt.nChanges===jt.nChangesAnim&&Wt?"all":"some"),jt}function nt(ge,we,Ue,et,st){var lt=_.layoutFlags();lt.arrays={},lt.rangesAltered={},lt.nChanges=0,lt.nChangesAnim=0;function Wt(Tt){return t.getLayoutValObject(Ue,Tt)}var jt={getValObject:Wt,flags:lt,immutable:et,transition:st,gd:ge};return Fe(we,Ue,[],jt),(lt.plot||lt.calc)&&(lt.layoutReplot=!0),st&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim?"all":"some"),lt}function Fe(ge,we,Ue,et){var st,lt,Wt,jt=et.getValObject,Tt=et.flags,Rt=et.immutable,Zt=et.inArray,mr=et.arrayIndex;function gt(){var He=st.editType;if(Zt&&He.indexOf("arraydraw")!==-1){C.pushUnique(Tt.arrays[Zt],mr);return}_.update(Tt,st),He!=="none"&&Tt.nChanges++,et.transition&&st.anim&&Tt.nChangesAnim++,(ke.test(Wt)||Be.test(Wt))&&(Tt.rangesAltered[Ue[0]]=1),Me.test(Wt)&&S(we,"_inputDomain").set(null),lt==="datarevision"&&(Tt.newDataRevision=1)}function Kt(He){return He.valType==="data_array"||He.arrayOk}for(lt in ge){if(Tt.calc&&!et.transition)return;var $t=ge[lt],br=we[lt],lr=Ue.concat(lt);if(Wt=lr.join("."),!(lt.charAt(0)==="_"||typeof $t=="function"||$t===br)){if((lt==="tick0"||lt==="dtick")&&Ue[0]!=="geo"){var mt=we.tickmode;if(mt==="auto"||mt==="array"||!mt)continue}if(!(lt==="range"&&we.autorange)&&!((lt==="zmin"||lt==="zmax")&&we.type==="contourcarpet")&&(st=jt(lr),!!st&&!(st._compareAsJSON&&JSON.stringify($t)===JSON.stringify(br)))){var ut=st.valType,bt,Et=Kt(st),Dt=Array.isArray($t),Yt=Array.isArray(br);if(Dt&&Yt){var Bt="_input_"+lt,Ut=ge[Bt],Jt=we[Bt];if(Array.isArray(Ut)&&Ut===Jt)continue}if(br===void 0)Et&&Dt?Tt.calc=!0:gt();else if(st._isLinkedToArray){var hr=[],vr=!1;Zt||(Tt.arrays[lt]=hr);var gr=Math.min($t.length,br.length),Xe=Math.max($t.length,br.length);if(gr!==Xe)if(st.editType==="arraydraw")vr=!0;else{gt();continue}for(bt=0;bt<gr;bt++)Fe($t[bt],br[bt],lr.concat(bt),C.extendFlat({inArray:lt,arrayIndex:bt},et));if(vr)for(bt=gr;bt<Xe;bt++)hr.push(bt)}else!ut&&C.isPlainObject($t)?Fe($t,br,lr,et):Et?Dt&&Yt?(Rt&&(Tt.calc=!0),(Rt||et.newDataRevision)&&gt()):Dt!==Yt?Tt.calc=!0:gt():Dt&&Yt?($t.length!==br.length||String($t)!==String(br))&&gt():gt()}}}for(lt in we)if(!(lt in ge||lt.charAt(0)==="_"||typeof we[lt]=="function"))if(st=jt(Ue.concat(lt)),Kt(st)&&Array.isArray(we[lt])){Tt.calc=!0;return}else gt()}function We(ge,we){var Ue;for(Ue in ge)if(Ue.charAt(0)!=="_"){var et=ge[Ue],st=we[Ue];if(et!==st)if(C.isPlainObject(et)&&C.isPlainObject(st)){if(We(et,st))return!0}else if(Array.isArray(et)&&Array.isArray(st)){if(et.length!==st.length)return!0;for(var lt=0;lt<et.length;lt++)if(et[lt]!==st[lt])if(C.isPlainObject(et[lt])&&C.isPlainObject(st[lt])){if(We(et[lt],st[lt]))return!0}else return!0}else return!0}}function Ze(ge,we,Ue){if(ge=C.getGraphDiv(ge),!C.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var et=ge._transitionData;et._frameQueue||(et._frameQueue=[]),Ue=a.supplyAnimationDefaults(Ue);var st=Ue.transition,lt=Ue.frame;et._frameWaitingCnt===void 0&&(et._frameWaitingCnt=0);function Wt(Rt){return Array.isArray(st)?Rt>=st.length?st[0]:st[Rt]:st}function jt(Rt){return Array.isArray(lt)?Rt>=lt.length?lt[0]:lt[Rt]:lt}function Tt(Rt,Zt){var mr=0;return function(){if(Rt&&++mr===Zt)return Rt()}}return new Promise(function(Rt,Zt){function mr(){if(et._frameQueue.length!==0){for(;et._frameQueue.length;){var gr=et._frameQueue.pop();gr.onInterrupt&&gr.onInterrupt()}ge.emit("plotly_animationinterrupted",[])}}function gt(gr){if(gr.length!==0){for(var Xe=0;Xe<gr.length;Xe++){var He;gr[Xe].type==="byname"?He=a.computeFrame(ge,gr[Xe].name):He=gr[Xe].data;var Nt=jt(Xe),Pt=Wt(Xe);Pt.duration=Math.min(Pt.duration,Nt.duration);var Qt={frame:He,name:gr[Xe].name,frameOpts:Nt,transitionOpts:Pt};Xe===gr.length-1&&(Qt.onComplete=Tt(Rt,2),Qt.onInterrupt=Zt),et._frameQueue.push(Qt)}Ue.mode==="immediate"&&(et._lastFrameAt=-1/0),et._animationRaf||br()}}function Kt(){ge.emit("plotly_animated"),window.cancelAnimationFrame(et._animationRaf),et._animationRaf=null}function $t(){et._currentFrame&&et._currentFrame.onComplete&&et._currentFrame.onComplete();var gr=et._currentFrame=et._frameQueue.shift();if(gr){var Xe=gr.name?gr.name.toString():null;ge._fullLayout._currentFrame=Xe,et._lastFrameAt=Date.now(),et._timeToNext=gr.frameOpts.duration,a.transition(ge,gr.frame.data,gr.frame.layout,x.coerceTraceIndices(ge,gr.frame.traces),gr.frameOpts,gr.transitionOpts).then(function(){gr.onComplete&&gr.onComplete()}),ge.emit("plotly_animatingframe",{name:Xe,frame:gr.frame,animation:{frame:gr.frameOpts,transition:gr.transitionOpts}})}else Kt()}function br(){ge.emit("plotly_animating"),et._lastFrameAt=-1/0,et._timeToNext=0,et._runningTransitions=0,et._currentFrame=null;var gr=function(){et._animationRaf=window.requestAnimationFrame(gr),Date.now()-et._lastFrameAt>et._timeToNext&&$t()};gr()}var lr=0;function mt(gr){return Array.isArray(st)?lr>=st.length?gr.transitionOpts=st[lr]:gr.transitionOpts=st[0]:gr.transitionOpts=st,lr++,gr}var ut,bt,Et=[],Dt=we==null,Yt=Array.isArray(we),Bt=!Dt&&!Yt&&C.isPlainObject(we);if(Bt)Et.push({type:"object",data:mt(C.extendFlat({},we))});else if(Dt||["string","number"].indexOf(typeof we)!==-1)for(ut=0;ut<et._frames.length;ut++)bt=et._frames[ut],bt&&(Dt||String(bt.group)===String(we))&&Et.push({type:"byname",name:String(bt.name),data:mt({name:bt.name})});else if(Yt)for(ut=0;ut<we.length;ut++){var Ut=we[ut];["number","string"].indexOf(typeof Ut)!==-1?(Ut=String(Ut),Et.push({type:"byname",name:Ut,data:mt({name:Ut})})):C.isPlainObject(Ut)&&Et.push({type:"object",data:mt(C.extendFlat({},Ut))})}for(ut=0;ut<Et.length;ut++)if(bt=Et[ut],bt.type==="byname"&&!et._frameHash[bt.data.name]){C.warn('animate failure: frame not found: "'+bt.data.name+'"'),Zt();return}["next","immediate"].indexOf(Ue.mode)!==-1&&mr(),Ue.direction==="reverse"&&Et.reverse();var Jt=ge._fullLayout._currentFrame;if(Jt&&Ue.fromcurrent){var hr=-1;for(ut=0;ut<Et.length;ut++)if(bt=Et[ut],bt.type==="byname"&&bt.name===Jt){hr=ut;break}if(hr>0&&hr<Et.length-1){var vr=[];for(ut=0;ut<Et.length;ut++)bt=Et[ut],(Et[ut].type!=="byname"||ut>hr)&&vr.push(bt);Et=vr}}Et.length>0?gt(Et):(ge.emit("plotly_animated"),Rt())})}function Ge(ge,we,Ue){if(ge=C.getGraphDiv(ge),we==null)return Promise.resolve();if(!C.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var et,st,lt,Wt,jt=ge._transitionData._frames,Tt=ge._transitionData._frameHash;if(!Array.isArray(we))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+we);var Rt=jt.length+we.length*2,Zt=[],mr={};for(et=we.length-1;et>=0;et--)if(C.isPlainObject(we[et])){var gt=we[et].name,Kt=(Tt[gt]||mr[gt]||{}).name,$t=we[et].name,br=Tt[Kt]||mr[Kt];Kt&&$t&&typeof $t=="number"&&br&&E<A&&(E++,C.warn('addFrames: overwriting frame "'+(Tt[Kt]||mr[Kt]).name+'" with a frame whose name of type "number" also equates to "'+Kt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===A&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),mr[gt]={name:gt},Zt.push({frame:a.supplyFrameDefaults(we[et]),index:Ue&&Ue[et]!==void 0&&Ue[et]!==null?Ue[et]:Rt+et})}Zt.sort(function(Bt,Ut){return Bt.index>Ut.index?-1:Bt.index<Ut.index?1:0});var lr=[],mt=[],ut=jt.length;for(et=Zt.length-1;et>=0;et--){if(st=Zt[et].frame,typeof st.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!st.name)for(;Tt[st.name="frame "+ge._transitionData._counter++];);if(Tt[st.name]){for(lt=0;lt<jt.length&&(jt[lt]||{}).name!==st.name;lt++);lr.push({type:"replace",index:lt,value:st}),mt.unshift({type:"replace",index:lt,value:jt[lt]})}else Wt=Math.max(0,Math.min(Zt[et].index,ut)),lr.push({type:"insert",index:Wt,value:st}),mt.unshift({type:"delete",index:Wt}),ut++}var bt=a.modifyFrames,Et=a.modifyFrames,Dt=[ge,mt],Yt=[ge,lr];return g&&g.add(ge,bt,Dt,Et,Yt),a.modifyFrames(ge,lr)}function Pe(ge,we){if(ge=C.getGraphDiv(ge),!C.isPlotDiv(ge))throw new Error("This element is not a Plotly plot: "+ge);var Ue,et,st=ge._transitionData._frames,lt=[],Wt=[];if(!we)for(we=[],Ue=0;Ue<st.length;Ue++)we.push(Ue);for(we=we.slice(),we.sort(),Ue=we.length-1;Ue>=0;Ue--)et=we[Ue],lt.push({type:"delete",index:et}),Wt.unshift({type:"insert",index:et,value:st[et]});var jt=a.modifyFrames,Tt=a.modifyFrames,Rt=[ge,Wt],Zt=[ge,lt];return g&&g.add(ge,jt,Rt,Tt,Zt),a.modifyFrames(ge,lt)}function Re(ge){ge=C.getGraphDiv(ge);var we=ge._fullLayout||{},Ue=ge._fullData||[];return a.cleanPlot([],{},Ue,we),a.purge(ge),v.purge(ge),we._container&&we._container.remove(),delete ge._context,ge}function je(ge){var we=ge._fullLayout,Ue=ge.getBoundingClientRect();if(!C.equalDomRects(Ue,we._lastBBox)){var et=we._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(ge));we._invScaleX=Math.sqrt(et[0][0]*et[0][0]+et[0][1]*et[0][1]+et[0][2]*et[0][2]),we._invScaleY=Math.sqrt(et[1][0]*et[1][0]+et[1][1]*et[1][1]+et[1][2]*et[1][2]),we._lastBBox=Ue}}function De(ge){var we=p.select(ge),Ue=ge._fullLayout;if(Ue._calcInverseTransform=je,Ue._calcInverseTransform(ge),Ue._container=we.selectAll(".plot-container").data([0]),Ue._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ue._paperdiv=Ue._container.selectAll(".svg-container").data([0]),Ue._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ue._glcontainer=Ue._paperdiv.selectAll(".gl-container").data([{}]),Ue._glcontainer.enter().append("div").classed("gl-container",!0),Ue._paperdiv.selectAll(".main-svg").remove(),Ue._paperdiv.select(".modebar-container").remove(),Ue._paper=Ue._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ue._toppaper=Ue._paperdiv.append("svg").classed("main-svg",!0),Ue._modebardiv=Ue._paperdiv.append("div"),delete Ue._modeBar,Ue._hoverpaper=Ue._paperdiv.append("svg").classed("main-svg",!0),!Ue._uid){var et={};p.selectAll("defs").each(function(){this.id&&(et[this.id.split("-")[1]]=1)}),Ue._uid=C.randstr(et)}Ue._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),Ue._defs=Ue._paper.append("defs").attr("id","defs-"+Ue._uid),Ue._clips=Ue._defs.append("g").classed("clips",!0),Ue._topdefs=Ue._toppaper.append("defs").attr("id","topdefs-"+Ue._uid),Ue._topclips=Ue._topdefs.append("g").classed("clips",!0),Ue._bgLayer=Ue._paper.append("g").classed("bglayer",!0),Ue._draggers=Ue._paper.append("g").classed("draglayer",!0);var st=Ue._paper.append("g").classed("layer-below",!0);Ue._imageLowerLayer=st.append("g").classed("imagelayer",!0),Ue._shapeLowerLayer=st.append("g").classed("shapelayer",!0),Ue._cartesianlayer=Ue._paper.append("g").classed("cartesianlayer",!0),Ue._polarlayer=Ue._paper.append("g").classed("polarlayer",!0),Ue._smithlayer=Ue._paper.append("g").classed("smithlayer",!0),Ue._ternarylayer=Ue._paper.append("g").classed("ternarylayer",!0),Ue._geolayer=Ue._paper.append("g").classed("geolayer",!0),Ue._funnelarealayer=Ue._paper.append("g").classed("funnelarealayer",!0),Ue._pielayer=Ue._paper.append("g").classed("pielayer",!0),Ue._iciclelayer=Ue._paper.append("g").classed("iciclelayer",!0),Ue._treemaplayer=Ue._paper.append("g").classed("treemaplayer",!0),Ue._sunburstlayer=Ue._paper.append("g").classed("sunburstlayer",!0),Ue._indicatorlayer=Ue._toppaper.append("g").classed("indicatorlayer",!0),Ue._glimages=Ue._paper.append("g").classed("glimages",!0);var lt=Ue._toppaper.append("g").classed("layer-above",!0);Ue._imageUpperLayer=lt.append("g").classed("imagelayer",!0),Ue._shapeUpperLayer=lt.append("g").classed("shapelayer",!0),Ue._selectionLayer=Ue._toppaper.append("g").classed("selectionlayer",!0),Ue._infolayer=Ue._toppaper.append("g").classed("infolayer",!0),Ue._menulayer=Ue._toppaper.append("g").classed("menulayer",!0),Ue._zoomlayer=Ue._toppaper.append("g").classed("zoomlayer",!0),Ue._hoverlayer=Ue._hoverpaper.append("g").classed("hoverlayer",!0),Ue._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ge.emit("plotly_framework")}Y.animate=Ze,Y.addFrames=Ge,Y.deleteFrames=Pe,Y.addTraces=le,Y.deleteTraces=Q,Y.extendTraces=ne,Y.moveTraces=te,Y.prependTraces=q,Y.newPlot=B,Y._doPlot=s,Y.purge=Re,Y.react=wt,Y.redraw=F,Y.relayout=Se,Y.restyle=ue,Y.setPlotConfig=b,Y.update=Ne,Y._guiRelayout=Ce(Se),Y._guiRestyle=Ce(ue),Y._guiUpdate=Ce(Ne),Y._storeDirectGUIEdit=ae},20556:function(V){var Y={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function p(L,o){for(var C in L){var S=L[C];S.valType?o[C]=S.dflt:(o[C]||(o[C]={}),p(S,o[C]))}}p(Y,e),V.exports={configAttributes:Y,dfltConfig:e}},73060:function(V,Y,e){var p=e(24040),L=e(3400),o=e(45464),C=e(64859),S=e(16672),v=e(85656),g=e(20556).configAttributes,r=e(67824),t=L.extendDeepAll,a=L.isPlainObject,n=L.isArrayOrTypedArray,f=L.nestedProperty,u=L.valObjectMeta,l="_isSubplotObj",y="_isLinkedToArray",h="_arrayAttrRegexps",T="_deprecated",c=[l,y,h,T];Y.IS_SUBPLOT_OBJ=l,Y.IS_LINKED_TO_ARRAY=y,Y.DEPRECATED=T,Y.UNDERSCORE_ATTRS=c,Y.get=function(){var H={};p.allTypes.forEach(function(B){H[B]=w(B)});var F={};return Object.keys(p.transformsRegistry).forEach(function(B){F[B]=m(B)}),{defs:{valObjects:u,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:H,layout:_(),transforms:F,frames:E(),animation:A(v),config:A(g)}},Y.crawl=function(H,F,B,U){var z=B||0;U=U||"",Object.keys(H).forEach(function(W){var j=H[W];if(c.indexOf(W)===-1){var ee=(U?U+".":"")+W;F(j,W,H,z,ee),!Y.isValObject(j)&&a(j)&&W!=="impliedEdits"&&Y.crawl(j,F,z+1,ee)}})},Y.isValObject=function(H){return H&&H.valType!==void 0},Y.findArrayAttributes=function(H){var F=[],B=[],U=[],z,W;function j(q,le,Q,te){B=B.slice(0,te).concat([le]),U=U.slice(0,te).concat([q&&q._isLinkedToArray]);var ue=q&&(q.valType==="data_array"||q.arrayOk===!0)&&!(B[te-1]==="colorbar"&&(le==="ticktext"||le==="tickvals"));ue&&ee(z,0,"")}function ee(q,le,Q){var te=q[B[le]],ue=Q+B[le];if(le===B.length-1)n(te)&&F.push(W+ue);else if(U[le]){if(Array.isArray(te))for(var J=0;J<te.length;J++)a(te[J])&&ee(te[J],le+1,ue+"["+J+"].")}else a(te)&&ee(te,le+1,ue+".")}z=H,W="",Y.crawl(o,j),H._module&&H._module.attributes&&Y.crawl(H._module.attributes,j);var ie=H.transforms;if(ie)for(var oe=0;oe<ie.length;oe++){var he=ie[oe],ne=he._module;ne&&(W="transforms["+oe+"].",z=he,Y.crawl(ne.attributes,j))}return F},Y.getTraceValObject=function(H,F){var B=F[0],U=1,z,W;if(B==="transforms"){if(F.length===1)return o.transforms;var j=H.transforms;if(!Array.isArray(j)||!j.length)return!1;var ee=F[1];if(!x(ee)||ee>=j.length)return!1;z=(p.transformsRegistry[j[ee].type]||{}).attributes,W=z&&z[F[2]],U=3}else{var ie=H._module;if(ie||(ie=(p.modules[H.type||o.type.dflt]||{})._module),!ie)return!1;if(z=ie.attributes,W=z&&z[B],!W){var oe=ie.basePlotModule;oe&&oe.attributes&&(W=oe.attributes[B])}W||(W=o[B])}return d(W,F,U)},Y.getLayoutValObject=function(H,F){var B=i(H,F[0]);return d(B,F,1)};function i(H,F){var B,U,z,W,j=H._basePlotModules;if(j){var ee;for(B=0;B<j.length;B++){if(z=j[B],z.attrRegex&&z.attrRegex.test(F)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!ee&&z.layoutAttributes&&(ee=z.layoutAttributes)}var ie=z.baseLayoutAttrOverrides;if(ie&&F in ie)return ie[F]}if(ee)return ee}var oe=H._modules;if(oe){for(B=0;B<oe.length;B++)if(W=oe[B].layoutAttributes,W&&F in W)return W[F]}for(U in p.componentsRegistry){if(z=p.componentsRegistry[U],z.name==="colorscale"&&F.indexOf("coloraxis")===0)return z.layoutAttributes[F];if(!z.schema&&F===z.name)return z.layoutAttributes}return F in C?C[F]:!1}function d(H,F,B){if(!H)return!1;if(H._isLinkedToArray){if(x(F[B]))B++;else if(B<F.length)return!1}for(;B<F.length;B++){var U=H[F[B]];if(a(U))H=U;else break;if(B===F.length-1)break;if(H._isLinkedToArray){if(B++,!x(F[B]))return!1}else if(H.valType==="info_array"){B++;var z=F[B];if(!x(z))return!1;var W=H.items;if(Array.isArray(W)){if(z>=W.length)return!1;if(H.dimensions===2){if(B++,F.length===B)return H;var j=F[B];if(!x(j))return!1;H=W[z][j]}else H=W[z]}else H=W}}return H}function x(H){return H===Math.round(H)&&H>=0}function w(H){var F,B;F=p.modules[H]._module,B=F.basePlotModule;var U={};U.type=null;var z=t({},o),W=t({},F.attributes);Y.crawl(W,function(ie,oe,he,ne,q){f(z,q).set(void 0),ie===void 0&&f(W,q).set(void 0)}),t(U,z),p.traceIs(H,"noOpacity")&&delete U.opacity,p.traceIs(H,"showLegend")||(delete U.showlegend,delete U.legendgroup),p.traceIs(H,"noHover")&&(delete U.hoverinfo,delete U.hoverlabel),F.selectPoints||delete U.selectedpoints,t(U,W),B.attributes&&t(U,B.attributes),U.type=H;var j={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:H,attributes:A(U)};if(F.layoutAttributes){var ee={};t(ee,F.layoutAttributes),j.layoutAttributes=A(ee)}return F.animatable||Y.crawl(j,function(ie){Y.isValObject(ie)&&"anim"in ie&&delete ie.anim}),j}function _(){var H={},F,B;t(H,C);for(F in p.subplotsRegistry)if(B=p.subplotsRegistry[F],!!B.layoutAttributes)if(Array.isArray(B.attr))for(var U=0;U<B.attr.length;U++)N(H,B,B.attr[U]);else{var z=B.attr==="subplot"?B.name:B.attr;N(H,B,z)}for(F in p.componentsRegistry){B=p.componentsRegistry[F];var W=B.schema;if(W&&(W.subplots||W.layout)){var j=W.subplots;if(j&&j.xaxis&&!j.yaxis)for(var ee in j.xaxis)delete H.yaxis[ee];delete H.xaxis.shift,delete H.xaxis.autoshift}else B.name==="colorscale"?t(H,B.layoutAttributes):B.layoutAttributes&&k(H,B.layoutAttributes,B.name)}return{layoutAttributes:A(H)}}function m(H){var F=p.transformsRegistry[H],B=t({},F.attributes);return Object.keys(p.componentsRegistry).forEach(function(U){var z=p.componentsRegistry[U];z.schema&&z.schema.transforms&&z.schema.transforms[H]&&Object.keys(z.schema.transforms[H]).forEach(function(W){k(B,z.schema.transforms[H][W],W)})}),{attributes:A(B)}}function E(){var H={frames:t({},S)};return A(H),H.frames}function A(H){return s(H),M(H),b(H),H}function s(H){function F(U){return{valType:"string",editType:"none"}}function B(U,z,W){Y.isValObject(U)?(U.arrayOk===!0||U.valType==="data_array")&&(W[z+"src"]=F()):a(U)&&(U.role="object")}Y.crawl(H,B)}function M(H){function F(B,U,z){if(B){var W=B[y];W&&(delete B[y],z[U]={items:{}},z[U].items[W]=B,z[U].role="object")}}Y.crawl(H,F)}function b(H){function F(B){for(var U in B)if(a(B[U]))F(B[U]);else if(Array.isArray(B[U]))for(var z=0;z<B[U].length;z++)F(B[U][z]);else B[U]instanceof RegExp&&(B[U]=B[U].toString())}F(H)}function N(H,F,B){var U=f(H,B),z=t({},F.layoutAttributes);z[l]=!0,U.set(z)}function k(H,F,B){var U=f(H,B);U.set(t(U.get()||{},F))}},31780:function(V,Y,e){var p=e(3400),L=e(45464),o="templateitemname",C={name:{valType:"string",editType:"none"}};C[o]={valType:"string",editType:"calc"},Y.templatedArray=function(g,r){return r._isLinkedToArray=g,r.name=C.name,r[o]=C[o],r},Y.traceTemplater=function(g){var r={},t,a;for(t in g)a=g[t],Array.isArray(a)&&a.length&&(r[t]=0);function n(f){t=p.coerce(f,{},L,"type");var u={type:t,_template:null};if(t in r){a=g[t];var l=r[t]%a.length;r[t]++,u._template=a[l]}return u}return{newTrace:n}},Y.newContainer=function(g,r,t){var a=g._template,n=a&&(a[r]||t&&a[t]);p.isPlainObject(n)||(n=null);var f=g[r]={_template:n};return f},Y.arrayTemplater=function(g,r,t){var a=g._template,n=a&&a[v(r)],f=a&&a[r];(!Array.isArray(f)||!f.length)&&(f=[]);var u={};function l(h){var T={name:h.name,_input:h},c=T[o]=h[o];if(!S(c))return T._template=n,T;for(var i=0;i<f.length;i++){var d=f[i];if(d.name===c)return u[c]=1,T._template=d,T}return T[t]=h[t]||!1,T._template=!1,T}function y(){for(var h=[],T=0;T<f.length;T++){var c=f[T],i=c.name;if(S(i)&&!u[i]){var d={_template:c,name:i,_input:{_templateitemname:i}};d[o]=c[o],h.push(d),u[i]=1}}return h}return{newItem:l,defaultItems:y}};function S(g){return g&&typeof g=="string"}function v(g){var r=g.length-1;return g.charAt(r)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}Y.arrayDefaultKey=v,Y.arrayEditor=function(g,r,t){var a=(p.nestedProperty(g,r).get()||[]).length,n=t._index,f=n>=a&&(t._input||{})._templateitemname;f&&(n=a);var u=r+"["+n+"]",l;function y(){l={},f&&(l[u]={},l[u][o]=f)}y();function h(d,x){l[d]=x}function T(d,x){f?p.nestedProperty(l[u],d).set(x):l[u+"."+d]=x}function c(){var d=l;return y(),d}function i(d,x){d&&T(d,x);var w=c();for(var _ in w)p.nestedProperty(g,_).set(w[_])}return{modifyBase:h,modifyItem:T,getUpdateObj:c,applyUpdate:i}}},39172:function(V,Y,e){var p=e(33428),L=e(24040),o=e(7316),C=e(3400),S=e(72736),v=e(73696),g=e(76308),r=e(43616),t=e(81668),a=e(45460),n=e(54460),f=e(84284),u=e(71888),l=u.enforce,y=u.clean,h=e(19280).doAutoRange,T="start",c="middle",i="end";Y.layoutStyles=function(B){return C.syncOrAsync([o.doAutoMargin,x],B)};function d(B,U,z){for(var W=0;W<z.length;W++){var j=z[W][0],ee=z[W][1];if(!(j[0]>=B[1]||j[1]<=B[0])&&ee[0]<U[1]&&ee[1]>U[0])return!0}return!1}function x(B){var U=B._fullLayout,z=U._size,W=z.p,j=n.list(B,"",!0),ee,ie,oe,he,ne,q;if(U._paperdiv.style({width:B._context.responsive&&U.autosize&&!B._context._hasZeroWidth&&!B.layout.width?"100%":U.width+"px",height:B._context.responsive&&U.autosize&&!B._context._hasZeroHeight&&!B.layout.height?"100%":U.height+"px"}).selectAll(".main-svg").call(r.setSize,U.width,U.height),B._context.setBackground(B,U.paper_bgcolor),Y.drawMainTitle(B),a.manage(B),!U._has("cartesian"))return o.previousPromises(B);function le(Re,je,De){var ge=Re._lw/2;if(Re._id.charAt(0)==="x"){if(je){if(De==="top")return je._offset-W-ge}else return z.t+z.h*(1-(Re.position||0))+ge%1;return je._offset+je._length+W+ge}if(je){if(De==="right")return je._offset+je._length+W+ge}else return z.l+z.w*(Re.position||0)+ge%1;return je._offset-W-ge}for(ee=0;ee<j.length;ee++){he=j[ee];var Q=he._anchorAxis;he._linepositions={},he._lw=r.crispRound(B,he.linewidth,1),he._mainLinePosition=le(he,Q,he.side),he._mainMirrorPosition=he.mirror&&Q?le(he,Q,f.OPPOSITE_SIDE[he.side]):null}var te=[],ue=[],J=[],K=g.opacity(U.paper_bgcolor)===1&&g.opacity(U.plot_bgcolor)===1&&U.paper_bgcolor===U.plot_bgcolor;for(ie in U._plots)if(oe=U._plots[ie],oe.mainplot)oe.bg&&oe.bg.remove(),oe.bg=void 0;else{var ce=oe.xaxis.domain,ae=oe.yaxis.domain,de=oe.plotgroup;if(d(ce,ae,J)){var be=de.node(),Se=oe.bg=C.ensureSingle(de,"rect","bg");be.insertBefore(Se.node(),be.childNodes[0]),ue.push(ie)}else de.select("rect.bg").remove(),J.push([ce,ae]),K||(te.push(ie),ue.push(ie))}var Te=U._bgLayer.selectAll(".bg").data(te);for(Te.enter().append("rect").classed("bg",!0),Te.exit().remove(),Te.each(function(Re){U._plots[Re].bg=p.select(this)}),ee=0;ee<ue.length;ee++)oe=U._plots[ue[ee]],ne=oe.xaxis,q=oe.yaxis,oe.bg&&ne._offset!==void 0&&q._offset!==void 0&&oe.bg.call(r.setRect,ne._offset-W,q._offset-W,ne._length+2*W,q._length+2*W).call(g.fill,U.plot_bgcolor).style("stroke-width",0);if(!U._hasOnlyLargeSploms)for(ie in U._plots){oe=U._plots[ie],ne=oe.xaxis,q=oe.yaxis;var Ie=oe.clipId="clip"+U._uid+ie+"plot",ke=C.ensureSingleById(U._clips,"clipPath",Ie,function(Re){Re.classed("plotclip",!0).append("rect")});oe.clipRect=ke.select("rect").attr({width:ne._length,height:q._length}),r.setTranslate(oe.plot,ne._offset,q._offset);var Be,Me;oe._hasClipOnAxisFalse?(Be=null,Me=Ie):(Be=Ie,Me=null),r.setClipUrl(oe.plot,Be,B),oe.layerClipId=Me}var Oe,_e,Ne,Ce,Ye,rt,ot,$e,qe,ht,vt,pt,wt;function Mt(Re){return"M"+Oe+","+Re+"H"+_e}function nt(Re){return"M"+ne._offset+","+Re+"h"+ne._length}function Fe(Re){return"M"+Re+","+$e+"V"+ot}function We(Re){return q._shift!==void 0&&(Re+=q._shift),"M"+Re+","+q._offset+"v"+q._length}function Ze(Re,je,De){if(!Re.showline||ie!==Re._mainSubplot)return"";if(!Re._anchorAxis)return De(Re._mainLinePosition);var ge=je(Re._mainLinePosition);return Re.mirror&&(ge+=je(Re._mainMirrorPosition)),ge}for(ie in U._plots){oe=U._plots[ie],ne=oe.xaxis,q=oe.yaxis;var Ge="M0,0";w(ne,ie)&&(Ye=m(ne,"left",q,j),Oe=ne._offset-(Ye?W+Ye:0),rt=m(ne,"right",q,j),_e=ne._offset+ne._length+(rt?W+rt:0),Ne=le(ne,q,"bottom"),Ce=le(ne,q,"top"),wt=!ne._anchorAxis||ie!==ne._mainSubplot,wt&&(ne.mirror==="allticks"||ne.mirror==="all")&&(ne._linepositions[ie]=[Ne,Ce]),Ge=Ze(ne,Mt,nt),wt&&ne.showline&&(ne.mirror==="all"||ne.mirror==="allticks")&&(Ge+=Mt(Ne)+Mt(Ce)),oe.xlines.style("stroke-width",ne._lw+"px").call(g.stroke,ne.showline?ne.linecolor:"rgba(0,0,0,0)")),oe.xlines.attr("d",Ge);var Pe="M0,0";w(q,ie)&&(vt=m(q,"bottom",ne,j),ot=q._offset+q._length+(vt?W:0),pt=m(q,"top",ne,j),$e=q._offset-(pt?W:0),qe=le(q,ne,"left"),ht=le(q,ne,"right"),wt=!q._anchorAxis||ie!==q._mainSubplot,wt&&(q.mirror==="allticks"||q.mirror==="all")&&(q._linepositions[ie]=[qe,ht]),Pe=Ze(q,Fe,We),wt&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(Pe+=Fe(qe)+Fe(ht)),oe.ylines.style("stroke-width",q._lw+"px").call(g.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),oe.ylines.attr("d",Pe)}return n.makeClipPaths(B),o.previousPromises(B)}function w(B,U){return(B.ticks||B.showline)&&(U===B._mainSubplot||B.mirror==="all"||B.mirror==="allticks")}function _(B,U,z){if(!z.showline||!z._lw)return!1;if(z.mirror==="all"||z.mirror==="allticks")return!0;var W=z._anchorAxis;if(!W)return!1;var j=f.FROM_BL[U];return z.side===U?W.domain[j]===B.domain[j]:z.mirror&&W.domain[1-j]===B.domain[1-j]}function m(B,U,z,W){if(_(B,U,z))return z._lw;for(var j=0;j<W.length;j++){var ee=W[j];if(ee._mainAxis===z._mainAxis&&_(B,U,ee))return ee._lw}return 0}Y.drawMainTitle=function(B){var U=B._fullLayout.title,z=B._fullLayout,W=H(z),j=F(z),ee=N(z,j),ie=b(z,W);if(t.draw(B,"gtitle",{propContainer:z,propName:"title.text",placeholder:z._dfltTitle.plot,attributes:{x:ie,y:ee,"text-anchor":W,dy:j}}),U.text&&U.automargin){var oe=p.selectAll(".gtitle"),he=r.bBox(oe.node()).height,ne=s(B,U,he);if(ne>0){M(B,ee,ne,he),oe.attr({x:ie,y:ee,"text-anchor":W,dy:k(U.yanchor)}).call(S.positionText,ie,ee);var q=(U.text.match(S.BR_TAG_ALL)||[]).length;if(q){var le=f.LINE_SPACING*q+f.MID_SHIFT;U.y===0&&(le=-le),oe.selectAll(".line").each(function(){var Q=+this.getAttribute("dy").slice(0,-2)-le+"em";this.setAttribute("dy",Q)})}}}};function E(B,U,z,W,j){var ee=U.yref==="paper"?B._fullLayout._size.h:B._fullLayout.height,ie=C.isTopAnchor(U)?W:W-j,oe=z==="b"?ee-ie:ie;return C.isTopAnchor(U)&&z==="t"||C.isBottomAnchor(U)&&z==="b"?!1:oe<j}function A(B,U,z,W,j){var ee=0;return z==="middle"&&(ee+=j/2),B==="t"?(z==="top"&&(ee+=j),ee+=W-U*W):(z==="bottom"&&(ee+=j),ee+=U*W),ee}function s(B,U,z){var W=U.y,j=U.yanchor,ee=W>.5?"t":"b",ie=B._fullLayout.margin[ee],oe=0;return U.yref==="paper"?oe=z+U.pad.t+U.pad.b:U.yref==="container"&&(oe=A(ee,W,j,B._fullLayout.height,z)+U.pad.t+U.pad.b),oe>ie?oe:0}function M(B,U,z,W){var j="title.automargin",ee=B._fullLayout.title,ie=ee.y>.5?"t":"b",oe={x:ee.x,y:ee.y,t:0,b:0},he={};ee.yref==="paper"&&E(B,ee,ie,U,W)?oe[ie]=z:ee.yref==="container"&&(he[ie]=z,B._fullLayout._reservedMargin[j]=he),o.allowAutoMargin(B,j),o.autoMargin(B,j,oe)}function b(B,U){var z=B.title,W=B._size,j=0;switch(U===T?j=z.pad.l:U===i&&(j=-z.pad.r),z.xref){case"paper":return W.l+W.w*z.x+j;case"container":default:return B.width*z.x+j}}function N(B,U){var z=B.title,W=B._size,j=0;if(U==="0em"||!U?j=-z.pad.b:U===f.CAP_SHIFT+"em"&&(j=z.pad.t),z.y==="auto")return W.t/2;switch(z.yref){case"paper":return W.t+W.h-W.h*z.y+j;case"container":default:return B.height-B.height*z.y+j}}function k(B){return B==="top"?f.CAP_SHIFT+.3+"em":B==="bottom"?"-0.3em":f.MID_SHIFT+"em"}function H(B){var U=B.title,z=c;return C.isRightAnchor(U)?z=i:C.isLeftAnchor(U)&&(z=T),z}function F(B){var U=B.title,z="0em";return C.isTopAnchor(U)?z=f.CAP_SHIFT+"em":C.isMiddleAnchor(U)&&(z=f.MID_SHIFT+"em"),z}Y.doTraceStyle=function(B){var U=B.calcdata,z=[],W;for(W=0;W<U.length;W++){var j=U[W],ee=j[0]||{},ie=ee.trace||{},oe=ie._module||{},he=oe.arraysToCalcdata;he&&he(j,ie);var ne=oe.editStyle;ne&&z.push({fn:ne,cd0:ee})}if(z.length){for(W=0;W<z.length;W++){var q=z[W];q.fn(B,q.cd0)}v(B),Y.redrawReglTraces(B)}return o.style(B),L.getComponentMethod("legend","draw")(B),o.previousPromises(B)},Y.doColorBars=function(B){return L.getComponentMethod("colorbar","draw")(B),o.previousPromises(B)},Y.layoutReplot=function(B){var U=B.layout;return B.layout=void 0,L.call("_doPlot",B,"",U)},Y.doLegend=function(B){return L.getComponentMethod("legend","draw")(B),o.previousPromises(B)},Y.doTicksRelayout=function(B){return n.draw(B,"redraw"),B._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(B),v(B),Y.redrawReglTraces(B)),Y.drawMainTitle(B),o.previousPromises(B)},Y.doModeBar=function(B){var U=B._fullLayout;a.manage(B);for(var z=0;z<U._basePlotModules.length;z++){var W=U._basePlotModules[z].updateFx;W&&W(B)}return o.previousPromises(B)},Y.doCamera=function(B){for(var U=B._fullLayout,z=U._subplots.gl3d,W=0;W<z.length;W++){var j=U[z[W]],ee=j._scene;ee.setViewport(j)}},Y.drawData=function(B){var U=B._fullLayout;v(B);for(var z=U._basePlotModules,W=0;W<z.length;W++)z[W].plot(B);return Y.redrawReglTraces(B),o.style(B),L.getComponentMethod("selections","draw")(B),L.getComponentMethod("shapes","draw")(B),L.getComponentMethod("annotations","draw")(B),L.getComponentMethod("images","draw")(B),U._replotting=!1,o.previousPromises(B)},Y.redrawReglTraces=function(B){var U=B._fullLayout;if(U._has("regl")){var z=B._fullData,W=[],j=[],ee,ie;for(U._hasOnlyLargeSploms&&U._splomGrid.draw(),ee=0;ee<z.length;ee++){var oe=z[ee];oe.visible===!0&&oe._length!==0&&(oe.type==="splom"?U._splomScenes[oe.uid].draw():oe.type==="scattergl"?C.pushUnique(W,oe.xaxis+oe.yaxis):oe.type==="scatterpolargl"&&C.pushUnique(j,oe.subplot))}for(ee=0;ee<W.length;ee++)ie=U._plots[W[ee]],ie._scene&&ie._scene.draw();for(ee=0;ee<j.length;ee++)ie=U[j[ee]]._subplot,ie._scene&&ie._scene.draw()}},Y.doAutoRangeAndConstraints=function(B){for(var U=n.list(B,"",!0),z,W={},j=0;j<U.length;j++)if(z=U[j],!W[z._id]){W[z._id]=1,y(B,z),h(B,z);var ee=z._matchGroup;if(ee)for(var ie in ee){var oe=n.getFromId(B,ie);h(B,oe,z.range),W[ie]=1}}l(B)},Y.finalDraw=function(B){L.getComponentMethod("rangeslider","draw")(B),L.getComponentMethod("rangeselector","draw")(B)},Y.drawMarginPushers=function(B){L.getComponentMethod("legend","draw")(B),L.getComponentMethod("rangeselector","draw")(B),L.getComponentMethod("sliders","draw")(B),L.getComponentMethod("updatemenus","draw")(B),L.getComponentMethod("colorbar","draw")(B)}},94828:function(V,Y,e){var p=e(3400),L=p.isPlainObject,o=e(73060),C=e(7316),S=e(45464),v=e(31780),g=e(20556).dfltConfig;Y.makeTemplate=function(h){h=p.isPlainObject(h)?h:p.getGraphDiv(h),h=p.extendDeep({_context:g},{data:h.data,layout:h.layout}),C.supplyDefaults(h);var T=h.data||[],c=h.layout||{};c._basePlotModules=h._fullLayout._basePlotModules,c._modules=h._fullLayout._modules;var i={data:{},layout:{}};T.forEach(function(b){var N={};a(b,N,f.bind(null,b));var k=p.coerce(b,{},S,"type"),H=i.data[k];H||(H=i.data[k]=[]),H.push(N)}),a(c,i.layout,n.bind(null,c)),delete i.layout.template;var d=c.template;if(L(d)){var x=d.layout,w,_,m,E,A,s;L(x)&&r(x,i.layout);var M=d.data;if(L(M)){for(_ in i.data)if(m=M[_],Array.isArray(m)){for(A=i.data[_],s=A.length,E=m.length,w=0;w<s;w++)r(m[w%E],A[w]);for(w=s;w<E;w++)A.push(p.extendDeep({},m[w]))}for(_ in M)_ in i.data||(i.data[_]=p.extendDeep([],M[_]))}}return i};function r(h,T){h=p.extendDeep({},h);var c=Object.keys(h).sort(),i,d;function x(A,s,M){if(L(s)&&L(A))r(A,s);else if(Array.isArray(s)&&Array.isArray(A)){var b=v.arrayTemplater({_template:h},M);for(d=0;d<s.length;d++){var N=s[d],k=b.newItem(N)._template;k&&r(k,N)}var H=b.defaultItems();for(d=0;d<H.length;d++)s.push(H[d]._template);for(d=0;d<s.length;d++)delete s[d].templateitemname}}for(i=0;i<c.length;i++){var w=c[i],_=h[w];if(w in T?x(_,T[w],w):T[w]=_,t(w)===w)for(var m in T){var E=t(m);m!==E&&E===w&&!(m in h)&&x(_,T[m],w)}}}function t(h){return h.replace(/[0-9]+$/,"")}function a(h,T,c,i,d){var x=d&&c(d);for(var w in h){var _=h[w],m=u(h,w,i),E=u(h,w,d),A=c(E);if(!A){var s=t(w);s!==w&&(E=u(h,s,d),A=c(E))}if(!(x&&x===A)&&!(!A||A._noTemplating||A.valType==="data_array"||A.arrayOk&&Array.isArray(_)))if(!A.valType&&L(_))a(_,T,c,m,E);else if(A._isLinkedToArray&&Array.isArray(_))for(var M=!1,b=0,N={},k=0;k<_.length;k++){var H=_[k];if(L(H)){var F=H.name;if(F)N[F]||(a(H,T,c,u(_,b,m),u(_,b,E)),b++,N[F]=1);else if(!M){var B=v.arrayDefaultKey(w),U=u(h,B,i),z=u(_,b,m);a(H,T,c,z,u(_,b,E));var W=p.nestedProperty(T,z),j=p.nestedProperty(T,U);j.set(W.get()),W.set(null),M=!0}}}else{var ee=p.nestedProperty(T,m);ee.set(_)}}}function n(h,T){return o.getLayoutValObject(h,p.nestedProperty({},T).parts)}function f(h,T){return o.getTraceValObject(h,p.nestedProperty({},T).parts)}function u(h,T,c){var i;return c?Array.isArray(h)?i=c+"["+T+"]":i=c+"."+T:i=T,i}Y.validateTemplate=function(h,T){var c=p.extendDeep({},{_context:g,data:h.data,layout:h.layout}),i=c.layout||{};L(T)||(T=i.template||{});var d=T.layout,x=T.data,w=[];c.layout=i,c.layout.template=T,C.supplyDefaults(c);var _=c._fullLayout,m=c._fullData,E={};function A(U,z){for(var W in U)if(W.charAt(0)!=="_"&&L(U[W])){var j=t(W),ee=[],ie;for(ie=0;ie<z.length;ie++)ee.push(u(U,W,z[ie])),j!==W&&ee.push(u(U,j,z[ie]));for(ie=0;ie<ee.length;ie++)E[ee[ie]]=1;A(U[W],ee)}}function s(U,z){for(var W in U)if(W.indexOf("defaults")===-1&&L(U[W])){var j=u(U,W,z);E[j]?s(U[W],j):w.push({code:"unused",path:j})}}if(L(d)?(A(_,["layout"]),s(d,"layout")):w.push({code:"layout"}),!L(x))w.push({code:"data"});else{for(var M={},b,N=0;N<m.length;N++){var k=m[N];b=k.type,M[b]=(M[b]||0)+1,k._fullInput._template||w.push({code:"missing",index:k._fullInput.index,traceType:b})}for(b in x){var H=x[b].length,F=M[b]||0;H>F?w.push({code:"unused",traceType:b,templateCount:H,dataCount:F}):F>H&&w.push({code:"reused",traceType:b,templateCount:H,dataCount:F})}}function B(U,z){for(var W in U)if(W.charAt(0)!=="_"){var j=U[W],ee=u(U,W,z);L(j)?(Array.isArray(U)&&j._template===!1&&j.templateitemname&&w.push({code:"missing",path:ee,templateitemname:j.templateitemname}),B(j,ee)):Array.isArray(j)&&l(j)&&B(j,ee)}}if(B({data:m,layout:_},""),w.length)return w.map(y)};function l(h){for(var T=0;T<h.length;T++)if(L(h[T]))return!0}function y(h){var T;switch(h.code){case"data":T="The template has no key data.";break;case"layout":T="The template has no key layout.";break;case"missing":h.path?T="There are no templates for item "+h.path+" with name "+h.templateitemname:T="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?T="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?T="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":T="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":T="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=T,h}},67024:function(V,Y,e){var p=e(38248),L=e(36424),o=e(7316),C=e(3400),S=e(81792),v=e(37164),g=e(63268),r=e(25788).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function a(n,f){f=f||{};var u,l,y,h;C.isPlainObject(n)?(u=n.data||[],l=n.layout||{},y=n.config||{},h={}):(n=C.getGraphDiv(n),u=C.extendDeep([],n.data),l=C.extendDeep({},n.layout),y=n._context,h=n._fullLayout||{});function T(F){return!(F in f)||C.validate(f[F],t[F])}if(!T("width")&&f.width!==null||!T("height")&&f.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+C.join2(t.format.values,", "," or ")+".");var c={};function i(F,B){return C.coerce(f,c,t,F,B)}var d=i("format"),x=i("width"),w=i("height"),_=i("scale"),m=i("setBackground"),E=i("imageDataOnly"),A=document.createElement("div");A.style.position="absolute",A.style.left="-5000px",document.body.appendChild(A);var s=C.extendFlat({},l);x?s.width=x:f.width===null&&p(h.width)&&(s.width=h.width),w?s.height=w:f.height===null&&p(h.height)&&(s.height=h.height);var M=C.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),b=S.getRedrawFunc(A);function N(){return new Promise(function(F){setTimeout(F,S.getDelay(A._fullLayout))})}function k(){return new Promise(function(F,B){var U=v(A,d,_),z=A._fullLayout.width,W=A._fullLayout.height;function j(){L.purge(A),document.body.removeChild(A)}if(d==="full-json"){var ee=o.graphJson(A,!1,"keepdata","object",!0,!0);return ee.version=r,ee=JSON.stringify(ee),j(),F(E?ee:S.encodeJSON(ee))}if(j(),d==="svg")return F(E?U:S.encodeSVG(U));var ie=document.createElement("canvas");ie.id=C.randstr(),g({format:d,width:z,height:W,scale:_,canvas:ie,svg:U,promise:!0}).then(F).catch(B)})}function H(F){return E?F.replace(S.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,B){L.newPlot(A,u,s,M).then(b).then(N).then(k).then(function(U){F(H(U))}).catch(function(U){B(U)})})}V.exports=a},21480:function(V,Y,e){var p=e(3400),L=e(7316),o=e(73060),C=e(20556).dfltConfig,S=p.isPlainObject,v=Array.isArray,g=p.isArrayOrTypedArray;V.exports=function(i,d){i===void 0&&(i=[]),d===void 0&&(d={});var x=o.get(),w=[],_={_context:p.extendFlat({},C)},m,E;v(i)?(_.data=p.extendDeep([],i),m=i):(_.data=[],m=[],w.push(f("array","data"))),S(d)?(_.layout=p.extendDeep({},d),E=d):(_.layout={},E={},arguments.length>1&&w.push(f("object","layout"))),L.supplyDefaults(_);for(var A=_._fullData,s=m.length,M=0;M<s;M++){var b=m[M],N=["data",M];if(!S(b)){w.push(f("object",N));continue}var k=A[M],H=k.type,F=x.traces[H].attributes;F.type={valType:"enumerated",values:[H]},k.visible===!1&&b.visible!==!1&&w.push(f("invisible",N)),r(b,k,F,w,N);var B=b.transforms,U=k.transforms;if(B){v(B)||w.push(f("array",N,["transforms"])),N.push("transforms");for(var z=0;z<B.length;z++){var W=["transforms",z],j=B[z].type;if(!S(B[z])){w.push(f("object",N,W));continue}var ee=x.transforms[j]?x.transforms[j].attributes:{};ee.type={valType:"enumerated",values:Object.keys(x.transforms)},r(B[z],U[z],ee,w,N,W)}}}var ie=_._fullLayout,oe=t(x,A);return r(E,ie,oe,w,"layout"),w.length===0?void 0:w};function r(c,i,d,x,w,_){_=_||[];for(var m=Object.keys(c),E=0;E<m.length;E++){var A=m[E];if(A!=="transforms"){var s=_.slice();s.push(A);var M=c[A],b=i[A],N=l(d,A),k=(N||{}).valType,H=k==="info_array",F=k==="colorscale",B=(N||{}).items;if(!u(d,A))x.push(f("schema",w,s));else if(S(M)&&S(b)&&k!=="any")r(M,b,N,x,w,s);else if(H&&v(M)){M.length>b.length&&x.push(f("unused",w,s.concat(b.length)));var U=b.length,z=Array.isArray(B);z&&(U=Math.min(U,B.length));var W,j,ee,ie,oe;if(N.dimensions===2)for(j=0;j<U;j++)if(v(M[j])){M[j].length>b[j].length&&x.push(f("unused",w,s.concat(j,b[j].length)));var he=b[j].length;for(W=0;W<(z?Math.min(he,B[j].length):he);W++)ee=z?B[j][W]:B,ie=M[j][W],oe=b[j][W],p.validate(ie,ee)?oe!==ie&&oe!==+ie&&x.push(f("dynamic",w,s.concat(j,W),ie,oe)):x.push(f("value",w,s.concat(j,W),ie))}else x.push(f("array",w,s.concat(j),M[j]));else for(j=0;j<U;j++)ee=z?B[j]:B,ie=M[j],oe=b[j],p.validate(ie,ee)?oe!==ie&&oe!==+ie&&x.push(f("dynamic",w,s.concat(j),ie,oe)):x.push(f("value",w,s.concat(j),ie))}else if(N.items&&!H&&v(M)){var ne=B[Object.keys(B)[0]],q=[],le,Q;for(le=0;le<b.length;le++){var te=b[le]._index||le;if(Q=s.slice(),Q.push(te),S(M[te])&&S(b[le])){q.push(te);var ue=M[te],J=b[le];S(ue)&&ue.visible!==!1&&J.visible===!1?x.push(f("invisible",w,Q)):r(ue,J,ne,x,w,Q)}}for(le=0;le<M.length;le++)Q=s.slice(),Q.push(le),S(M[le])?q.indexOf(le)===-1&&x.push(f("unused",w,Q)):x.push(f("object",w,Q,M[le]))}else!S(M)&&S(b)?x.push(f("object",w,s,M)):!g(M)&&g(b)&&!H&&!F?x.push(f("array",w,s,M)):A in i?p.validate(M,N)?N.valType==="enumerated"&&(N.coerceNumber&&M!==+b||M!==b)&&x.push(f("dynamic",w,s,M,b)):x.push(f("value",w,s,M)):x.push(f("unused",w,s,M))}}return x}function t(c,i){for(var d=c.layout.layoutAttributes,x=0;x<i.length;x++){var w=i[x],_=c.traces[w.type],m=_.layoutAttributes;m&&(w.subplot?p.extendFlat(d[_.attributes.subplot.dflt],m):p.extendFlat(d,m))}return d}var a={object:function(c,i){var d;return c==="layout"&&i===""?d="The layout argument":c[0]==="data"&&i===""?d="Trace "+c[1]+" in the data argument":d=n(c)+"key "+i,d+" must be linked to an object container"},array:function(c,i){var d;return c==="data"?d="The data argument":d=n(c)+"key "+i,d+" must be linked to an array container"},schema:function(c,i){return n(c)+"key "+i+" is not part of the schema"},unused:function(c,i,d){var x=S(d)?"container":"key";return n(c)+x+" "+i+" did not get coerced"},dynamic:function(c,i,d,x){return[n(c)+"key",i,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(c,i){return(i?n(c)+"item "+i:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,i,d){return[n(c)+"key "+i,"is set to an invalid value ("+d+")"].join(" ")}};function n(c){return v(c)?"In data trace "+c[1]+", ":"In "+c+", "}function f(c,i,d,x,w){d=d||"";var _,m;v(i)?(_=i[0],m=i[1]):(_=i,m=null);var E=T(d),A=a[c](i,E,x,w);return p.log(A),{code:c,container:_,trace:m,path:d,astr:E,msg:A}}function u(c,i){var d=h(i),x=d.keyMinusId,w=d.id;return x in c&&c[x]._isSubplotObj&&w?!0:i in c}function l(c,i){if(i in c)return c[i];var d=h(i);return c[d.keyMinusId]}var y=p.counterRegex("([a-z]+)");function h(c){var i=c.match(y);return{keyMinusId:i&&i[1],id:i&&i[2]}}function T(c){if(!v(c))return String(c);for(var i="",d=0;d<c.length;d++){var x=c[d];typeof x=="number"?i=i.substr(0,i.length-1)+"["+x+"]":i+=x,d<c.length-1&&(i+=".")}return i}},85656:function(V){V.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(V,Y,e){var p=e(3400),L=e(31780);V.exports=function(C,S,v){var g=v.name,r=v.inclusionAttr||"visible",t=S[g],a=p.isArrayOrTypedArray(C[g])?C[g]:[],n=S[g]=[],f=L.arrayTemplater(S,g,r),u,l;for(u=0;u<a.length;u++){var y=a[u];p.isPlainObject(y)?l=f.newItem(y):(l=f.newItem({}),l[r]=!1),l._index=u,l[r]!==!1&&v.handleItemDefaults(y,l,S,v),n.push(l)}var h=f.defaultItems();for(u=0;u<h.length;u++)l=h[u],l._index=n.length,v.handleItemDefaults({},l,S,v,{}),n.push(l);if(p.isArrayOrTypedArray(t)){var T=Math.min(t.length,n.length);for(u=0;u<T;u++)p.relinkPrivateKeys(n[u],t[u])}return n}},45464:function(V,Y,e){var p=e(25376),L=e(55756);V.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(V,Y,e){var p=e(38248),L=e(3400),o=L.dateTime2ms,C=L.incrementMonth,S=e(39032),v=S.ONEAVGMONTH;V.exports=function(r,t,a,n){if(t.type!=="date")return{vals:n};var f=r[a+"periodalignment"];if(!f)return{vals:n};var u=r[a+"period"],l;if(p(u)){if(u=+u,u<=0)return{vals:n}}else if(typeof u=="string"&&u.charAt(0)==="M"){var y=+u.substring(1);if(y>0&&Math.round(y)===y)l=y;else return{vals:n}}for(var h=t.calendar,T=f==="start",c=f==="end",i=r[a+"period0"],d=o(i,h)||0,x=[],w=[],_=[],m=n.length,E=0;E<m;E++){var A=n[E],s,M,b;if(l){for(s=Math.round((A-d)/(l*v)),b=C(d,l*s,h);b>A;)b=C(b,-l,h);for(;b<=A;)b=C(b,l,h);M=C(b,-l,h)}else{for(s=Math.round((A-d)/u),b=d+s*u;b>A;)b-=u;for(;b<=A;)b+=u;M=b-u}x[E]=T?M:c?b:(M+b)/2,w[E]=M,_[E]=b}return{vals:x,starts:w,ends:_}}},26720:function(V){V.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(V,Y,e){var p=e(33428),L=e(38248),o=e(3400),C=e(39032).FP_SAFE,S=e(24040),v=e(43616),g=e(79811),r=g.getFromId,t=g.isLinked;V.exports={applyAutorangeOptions:s,getAutoRange:a,makePadFn:f,doAutoRange:h,findExtremes:T,concatExtremes:y};function a(M,b){var N,k,H=[],F=M._fullLayout,B=f(F,b,0),U=f(F,b,1),z=y(M,b),W=z.min,j=z.max;if(W.length===0||j.length===0)return o.simpleMap(b.range,b.r2l);var ee=W[0].val,ie=j[0].val;for(N=1;N<W.length&&ee===ie;N++)ee=Math.min(ee,W[N].val);for(N=1;N<j.length&&ee===ie;N++)ie=Math.max(ie,j[N].val);var oe=b.autorange,he=oe==="reversed"||oe==="min reversed"||oe==="max reversed";if(!he&&b.range){var ne=o.simpleMap(b.range,b.r2l);he=ne[1]<ne[0]}b.autorange==="reversed"&&(b.autorange=!0);var q=b.rangemode,le=q==="tozero",Q=q==="nonnegative",te=b._length,ue=te/10,J=0,K,ce,ae,de,be,Se;for(N=0;N<W.length;N++)for(K=W[N],k=0;k<j.length;k++)ce=j[k],Se=ce.val-K.val-n(b,K.val,ce.val),Se>0&&(be=te-B(K)-U(ce),be>ue?Se/be>J&&(ae=K,de=ce,J=Se/be):Se/te>J&&(ae={val:K.val,nopad:1},de={val:ce.val,nopad:1},J=Se/te));function Te(Oe,_e){return Math.max(Oe,U(_e))}if(ee===ie){var Ie=ee-1,ke=ee+1;if(le)if(ee===0)H=[0,1];else{var Be=(ee>0?j:W).reduce(Te,0),Me=ee/(1-Math.min(.5,Be/te));H=ee>0?[0,Me]:[Me,0]}else Q?H=[Math.max(0,Ie),Math.max(1,ke)]:H=[Ie,ke]}else le?(ae.val>=0&&(ae={val:0,nopad:1}),de.val<=0&&(de={val:0,nopad:1})):Q&&(ae.val-J*B(ae)<0&&(ae={val:0,nopad:1}),de.val<=0&&(de={val:1,nopad:1})),J=(de.val-ae.val-n(b,K.val,ce.val))/(te-B(ae)-U(de)),H=[ae.val-J*B(ae),de.val+J*U(de)];return H=s(H,b),b.limitRange&&b.limitRange(),he&&H.reverse(),o.simpleMap(H,b.l2r||Number)}function n(M,b,N){var k=0;if(M.rangebreaks)for(var H=M.locateBreaks(b,N),F=0;F<H.length;F++){var B=H[F];k+=B.max-B.min}return k}function f(M,b,N){var k=.05*b._length,H=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(H.ticklabelposition||"").indexOf("inside")!==-1){var F=b.isReversed();if(!F){var B=o.simpleMap(b.range,b.r2l);F=B[1]<B[0]}F&&(N=!N)}var U=0;return t(M,b._id)||(U=l(M,b,N)),k=Math.max(U,k),b.constrain==="domain"&&b._inputDomain&&(k*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(W){return W.nopad?0:W.pad+(W.extrapad?k:U)}}var u=3;function l(M,b,N){var k=0,H=b._id.charAt(0)==="x";for(var F in M._plots){var B=M._plots[F];if(!(b._id!==B.xaxis._id&&b._id!==B.yaxis._id)){var U=(H?B.yaxis:B.xaxis)||{};if((U.ticklabelposition||"").indexOf("inside")!==-1&&(!N&&(U.side==="left"||U.side==="bottom")||N&&(U.side==="top"||U.side==="right"))){if(U._vals){var z=o.deg2rad(U._tickAngles[U._id+"tick"]||0),W=Math.abs(Math.cos(z)),j=Math.abs(Math.sin(z));if(!U._vals[0].bb){var ee=U._id+"tick",ie=U._selections[ee];ie.each(function(Q){var te=p.select(this),ue=te.select(".text-math-group");ue.empty()&&(Q.bb=v.bBox(te.node()))})}for(var oe=0;oe<U._vals.length;oe++){var he=U._vals[oe],ne=he.bb;if(ne){var q=2*u+ne.width,le=2*u+ne.height;k=Math.max(k,H?Math.max(q*W,le*j):Math.max(le*W,q*j))}}}U.ticks==="inside"&&U.ticklabelposition==="inside"&&(k+=U.ticklen||0)}}}return k}function y(M,b,N){var k=b._id,H=M._fullData,F=M._fullLayout,B=[],U=[],z,W,j;function ee(q,le){for(z=0;z<le.length;z++){var Q=q[le[z]],te=(Q._extremes||{})[k];if(Q.visible===!0&&te){for(W=0;W<te.min.length;W++)j=te.min[W],c(B,j.val,j.pad,{extrapad:j.extrapad});for(W=0;W<te.max.length;W++)j=te.max[W],i(U,j.val,j.pad,{extrapad:j.extrapad})}}}if(ee(H,b._traceIndices),ee(F.annotations||[],b._annIndices||[]),ee(F.shapes||[],b._shapeIndices||[]),b._matchGroup&&!N){for(var ie in b._matchGroup)if(ie!==b._id){var oe=r(M,ie),he=y(M,oe,!0),ne=b._length/oe._length;for(W=0;W<he.min.length;W++)j=he.min[W],c(B,j.val,j.pad*ne,{extrapad:j.extrapad});for(W=0;W<he.max.length;W++)j=he.max[W],i(U,j.val,j.pad*ne,{extrapad:j.extrapad})}}return{min:B,max:U}}function h(M,b,N){if(b.setScale(),b.autorange){b.range=N?N.slice():a(M,b),b._r=b.range.slice(),b._rl=o.simpleMap(b._r,b.r2l);var k=b._input,H={};H[b._attr+".range"]=b.range,H[b._attr+".autorange"]=b.autorange,S.call("_storeDirectGUIEdit",M.layout,M._fullLayout._preGUI,H),k.range=b.range.slice(),k.autorange=b.autorange}var F=b._anchorAxis;if(F&&F.rangeslider){var B=F.rangeslider[b._name];B&&B.rangemode==="auto"&&(B.range=a(M,b)),F._input.rangeslider[b._name]=o.extendFlat({},B)}}function T(M,b,N){N||(N={}),M._m||M.setScale();var k=[],H=[],F=b.length,B=N.padded||!1,U=N.tozero&&(M.type==="linear"||M.type==="-"),z=M.type==="log",W=!1,j=N.vpadLinearized||!1,ee,ie,oe,he,ne,q,le,Q,te;function ue(Te){if(Array.isArray(Te))return W=!0,function(ke){return Math.max(Number(Te[ke]||0),0)};var Ie=Math.max(Number(Te||0),0);return function(){return Ie}}var J=ue((M._m>0?N.ppadplus:N.ppadminus)||N.ppad||0),K=ue((M._m>0?N.ppadminus:N.ppadplus)||N.ppad||0),ce=ue(N.vpadplus||N.vpad),ae=ue(N.vpadminus||N.vpad);if(!W){if(Q=1/0,te=-1/0,z)for(ee=0;ee<F;ee++)ie=b[ee],ie<Q&&ie>0&&(Q=ie),ie>te&&ie<C&&(te=ie);else for(ee=0;ee<F;ee++)ie=b[ee],ie<Q&&ie>-C&&(Q=ie),ie>te&&ie<C&&(te=ie);b=[Q,te],F=2}var de={tozero:U,extrapad:B};function be(Te){oe=b[Te],L(oe)&&(q=J(Te),le=K(Te),j?(he=M.c2l(oe)-ae(Te),ne=M.c2l(oe)+ce(Te)):(Q=oe-ae(Te),te=oe+ce(Te),z&&Q<te/10&&(Q=te/10),he=M.c2l(Q),ne=M.c2l(te)),U&&(he=Math.min(0,he),ne=Math.max(0,ne)),x(he)&&c(k,he,le,de),x(ne)&&i(H,ne,q,de))}var Se=Math.min(6,F);for(ee=0;ee<Se;ee++)be(ee);for(ee=F-1;ee>=Se;ee--)be(ee);return{min:k,max:H,opts:N}}function c(M,b,N,k){d(M,b,N,k,w)}function i(M,b,N,k){d(M,b,N,k,_)}function d(M,b,N,k,H){for(var F=k.tozero,B=k.extrapad,U=!0,z=0;z<M.length&&U;z++){var W=M[z];if(H(W.val,b)&&W.pad>=N&&(W.extrapad||!B)){U=!1;break}else H(b,W.val)&&W.pad<=N&&(B||!W.extrapad)&&(M.splice(z,1),z--)}if(U){var j=F&&b===0;M.push({val:b,pad:j?0:N,extrapad:j?!1:B})}}function x(M){return L(M)&&Math.abs(M)<C}function w(M,b){return M<=b}function _(M,b){return M>=b}function m(M,b){var N=b.autorangeoptions;return N&&N.minallowed!==void 0&&A(b,N.minallowed,N.maxallowed)?N.minallowed:N&&N.clipmin!==void 0&&A(b,N.clipmin,N.clipmax)?Math.max(M,b.d2l(N.clipmin)):M}function E(M,b){var N=b.autorangeoptions;return N&&N.maxallowed!==void 0&&A(b,N.minallowed,N.maxallowed)?N.maxallowed:N&&N.clipmax!==void 0&&A(b,N.clipmin,N.clipmax)?Math.min(M,b.d2l(N.clipmax)):M}function A(M,b,N){return b!==void 0&&N!==void 0?(b=M.d2l(b),N=M.d2l(N),b<N):!0}function s(M,b){if(!b||!b.autorangeoptions)return M;var N=M[0],k=M[1],H=b.autorangeoptions.include;if(H!==void 0){var F=b.d2l(N),B=b.d2l(k);o.isArrayOrTypedArray(H)||(H=[H]);for(var U=0;U<H.length;U++){var z=b.d2l(H[U]);F>=z&&(F=z,N=z),B<=z&&(B=z,k=z)}}return N=m(N,b),k=E(k,b),[N,k]}},76808:function(V){V.exports=function(e,p,L){var o,C;if(L){var S=p==="reversed"||p==="min reversed"||p==="max reversed";o=L[S?1:0],C=L[S?0:1]}var v=e("autorangeoptions.minallowed",C===null?o:void 0),g=e("autorangeoptions.maxallowed",o===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),g===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},54460:function(V,Y,e){var p=e(33428),L=e(38248),o=e(7316),C=e(24040),S=e(3400),v=S.strTranslate,g=e(72736),r=e(81668),t=e(76308),a=e(43616),n=e(94724),f=e(98728),u=e(39032),l=u.ONEMAXYEAR,y=u.ONEAVGYEAR,h=u.ONEMINYEAR,T=u.ONEMAXQUARTER,c=u.ONEAVGQUARTER,i=u.ONEMINQUARTER,d=u.ONEMAXMONTH,x=u.ONEAVGMONTH,w=u.ONEMINMONTH,_=u.ONEWEEK,m=u.ONEDAY,E=m/2,A=u.ONEHOUR,s=u.ONEMIN,M=u.ONESEC,b=u.MINUS_SIGN,N=u.BADNUM,k={K:"zeroline"},H={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},B={K:"tick",L:"path"},U={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},W=e(84284),j=W.MID_SHIFT,ee=W.CAP_SHIFT,ie=W.LINE_SPACING,oe=W.OPPOSITE_SIDE,he=3,ne=V.exports={};ne.setConvert=e(78344);var q=e(52976),le=e(79811),Q=le.idSort,te=le.isLinked;ne.id2name=le.id2name,ne.name2id=le.name2id,ne.cleanId=le.cleanId,ne.list=le.list,ne.listIds=le.listIds,ne.getFromId=le.getFromId,ne.getFromTrace=le.getFromTrace;var ue=e(19280);ne.getAutoRange=ue.getAutoRange,ne.findExtremes=ue.findExtremes;var J=1e-4;function K(Xe){var He=(Xe[1]-Xe[0])*J;return[Xe[0]-He,Xe[1]+He]}ne.coerceRef=function(Xe,He,Nt,Pt,Qt,ur){var cr=Pt.charAt(Pt.length-1),tr=Nt._fullLayout._subplots[cr+"axis"],zt=Pt+"ref",or={};return Qt||(Qt=tr[0]||(typeof ur=="string"?ur:ur[0])),ur||(ur=Qt),tr=tr.concat(tr.map(function(dr){return dr+" domain"})),or[zt]={valType:"enumerated",values:tr.concat(ur?typeof ur=="string"?[ur]:ur:[]),dflt:Qt},S.coerce(Xe,He,or,zt)},ne.getRefType=function(Xe){return Xe===void 0?Xe:Xe==="paper"?"paper":Xe==="pixel"?"pixel":/( domain)$/.test(Xe)?"domain":"range"},ne.coercePosition=function(Xe,He,Nt,Pt,Qt,ur){var cr,tr,zt=ne.getRefType(Pt);if(zt!=="range")cr=S.ensureNumber,tr=Nt(Qt,ur);else{var or=ne.getFromId(He,Pt);ur=or.fraction2r(ur),tr=Nt(Qt,ur),cr=or.cleanPos}Xe[Qt]=cr(tr)},ne.cleanPosition=function(Xe,He,Nt){var Pt=Nt==="paper"||Nt==="pixel"?S.ensureNumber:ne.getFromId(He,Nt).cleanPos;return Pt(Xe)},ne.redrawComponents=function(Xe,He){He=He||ne.listIds(Xe);var Nt=Xe._fullLayout;function Pt(Qt,ur,cr,tr){for(var zt=C.getComponentMethod(Qt,ur),or={},dr=0;dr<He.length;dr++)for(var wr=Nt[ne.id2name(He[dr])],pr=wr[cr],Wr=0;Wr<pr.length;Wr++){var Pr=pr[Wr];if(!or[Pr]&&(zt(Xe,Pr),or[Pr]=1,tr))return}}Pt("annotations","drawOne","_annIndices"),Pt("shapes","drawOne","_shapeIndices"),Pt("images","draw","_imgIndices",!0),Pt("selections","drawOne","_selectionIndices")};var ce=ne.getDataConversions=function(Xe,He,Nt,Pt){var Qt,ur=Nt==="x"||Nt==="y"||Nt==="z"?Nt:Pt;if(S.isArrayOrTypedArray(ur)){if(Qt={type:q(Pt,void 0,{autotypenumbers:Xe._fullLayout.autotypenumbers}),_categories:[]},ne.setConvert(Qt),Qt.type==="category")for(var cr=0;cr<Pt.length;cr++)Qt.d2c(Pt[cr])}else Qt=ne.getFromTrace(Xe,He,ur);return Qt?{d2c:Qt.d2c,c2d:Qt.c2d}:ur==="ids"?{d2c:de,c2d:de}:{d2c:ae,c2d:ae}};function ae(Xe){return+Xe}function de(Xe){return String(Xe)}ne.getDataToCoordFunc=function(Xe,He,Nt,Pt){return ce(Xe,He,Nt,Pt).d2c},ne.counterLetter=function(Xe){var He=Xe.charAt(0);if(He==="x")return"y";if(He==="y")return"x"},ne.minDtick=function(Xe,He,Nt,Pt){["log","category","multicategory"].indexOf(Xe.type)!==-1||!Pt?Xe._minDtick=0:Xe._minDtick===void 0?(Xe._minDtick=He,Xe._forceTick0=Nt):Xe._minDtick&&((Xe._minDtick/He+1e-6)%1<2e-6&&((Nt-Xe._forceTick0)/He%1+1.000001)%1<2e-6?(Xe._minDtick=He,Xe._forceTick0=Nt):((He/Xe._minDtick+1e-6)%1>2e-6||((Nt-Xe._forceTick0)/Xe._minDtick%1+1.000001)%1>2e-6)&&(Xe._minDtick=0))},ne.saveRangeInitial=function(Xe,He){for(var Nt=ne.list(Xe,"",!0),Pt=!1,Qt=0;Qt<Nt.length;Qt++){var ur=Nt[Qt],cr=ur._rangeInitial0===void 0&&ur._rangeInitial1===void 0,tr=cr||ur.range[0]!==ur._rangeInitial0||ur.range[1]!==ur._rangeInitial1,zt=ur.autorange;(cr&&zt!==!0||He&&tr)&&(ur._rangeInitial0=zt==="min"||zt==="max reversed"?void 0:ur.range[0],ur._rangeInitial1=zt==="max"||zt==="min reversed"?void 0:ur.range[1],ur._autorangeInitial=zt,Pt=!0)}return Pt},ne.saveShowSpikeInitial=function(Xe,He){for(var Nt=ne.list(Xe,"",!0),Pt=!1,Qt="on",ur=0;ur<Nt.length;ur++){var cr=Nt[ur],tr=cr._showSpikeInitial===void 0,zt=tr||cr.showspikes!==cr._showspikes;(tr||He&&zt)&&(cr._showSpikeInitial=cr.showspikes,Pt=!0),Qt==="on"&&!cr.showspikes&&(Qt="off")}return Xe._fullLayout._cartesianSpikesEnabled=Qt,Pt},ne.autoBin=function(Xe,He,Nt,Pt,Qt,ur){var cr=S.aggNums(Math.min,null,Xe),tr=S.aggNums(Math.max,null,Xe);if(He.type==="category"||He.type==="multicategory")return{start:cr-.5,end:tr+.5,size:Math.max(1,Math.round(ur)||1),_dataSpan:tr-cr};Qt||(Qt=He.calendar);var zt;if(He.type==="log"?zt={type:"linear",range:[cr,tr]}:zt={type:He.type,range:S.simpleMap([cr,tr],He.c2r,0,Qt),calendar:Qt},ne.setConvert(zt),ur=ur&&f.dtick(ur,zt.type),ur)zt.dtick=ur,zt.tick0=f.tick0(void 0,zt.type,Qt);else{var or;if(Nt)or=(tr-cr)/Nt;else{var dr=S.distinctVals(Xe),wr=Math.pow(10,Math.floor(Math.log(dr.minDiff)/Math.LN10)),pr=wr*S.roundUp(dr.minDiff/wr,[.9,1.9,4.9,9.9],!0);or=Math.max(pr,2*S.stdev(Xe)/Math.pow(Xe.length,Pt?.25:.4)),L(or)||(or=1)}ne.autoTicks(zt,or)}var Wr=zt.dtick,Pr=ne.tickIncrement(ne.tickFirst(zt),Wr,"reverse",Qt),Ir,ln;if(typeof Wr=="number")Pr=be(Pr,Xe,zt,cr,tr),ln=1+Math.floor((tr-Pr)/Wr),Ir=Pr+ln*Wr;else for(zt.dtick.charAt(0)==="M"&&(Pr=Se(Pr,Xe,Wr,cr,Qt)),Ir=Pr,ln=0;Ir<=tr;)Ir=ne.tickIncrement(Ir,Wr,!1,Qt),ln++;return{start:He.c2r(Pr,0,Qt),end:He.c2r(Ir,0,Qt),size:Wr,_dataSpan:tr-cr}};function be(Xe,He,Nt,Pt,Qt){var ur=0,cr=0,tr=0,zt=0;function or(Wr){return(1+(Wr-Xe)*100/Nt.dtick)%100<2}for(var dr=0;dr<He.length;dr++)He[dr]%1===0?tr++:L(He[dr])||zt++,or(He[dr])&&ur++,or(He[dr]+Nt.dtick/2)&&cr++;var wr=He.length-zt;if(tr===wr&&Nt.type!=="date")Nt.dtick<1?Xe=Pt-.5*Nt.dtick:(Xe-=.5,Xe+Nt.dtick<Pt&&(Xe+=Nt.dtick));else if(cr<wr*.1&&(ur>wr*.3||or(Pt)||or(Qt))){var pr=Nt.dtick/2;Xe+=Xe+pr<Pt?pr:-pr}return Xe}function Se(Xe,He,Nt,Pt,Qt){var ur=S.findExactDates(He,Qt),cr=.8;if(ur.exactDays>cr){var tr=Number(Nt.substr(1));ur.exactYears>cr&&tr%12===0?Xe=ne.tickIncrement(Xe,"M6","reverse")+m*1.5:ur.exactMonths>cr?Xe=ne.tickIncrement(Xe,"M1","reverse")+m*15.5:Xe-=E;var zt=ne.tickIncrement(Xe,Nt);if(zt<=Pt)return zt}return Xe}ne.prepMinorTicks=function(Xe,He,Nt){if(!He.minor.dtick){delete Xe.dtick;var Pt=He.dtick&&L(He._tmin),Qt;if(Pt){var ur=ne.tickIncrement(He._tmin,He.dtick,!0);Qt=[He._tmin,ur*.99+He._tmin*.01]}else{var cr=S.simpleMap(He.range,He.r2l);Qt=[cr[0],.8*cr[0]+.2*cr[1]]}if(Xe.range=S.simpleMap(Qt,He.l2r),Xe._isMinor=!0,ne.prepTicks(Xe,Nt),Pt){var tr=L(He.dtick),zt=L(Xe.dtick),or=tr?He.dtick:+He.dtick.substring(1),dr=zt?Xe.dtick:+Xe.dtick.substring(1);tr&&zt?Te(or,dr)?or===2*_&&dr===2*m&&(Xe.dtick=_):or===2*_&&dr===3*m?Xe.dtick=_:or===_&&!(He._input.minor||{}).nticks?Xe.dtick=m:Ie(or/dr,2.5)?Xe.dtick=or/2:Xe.dtick=or:String(He.dtick).charAt(0)==="M"?zt?Xe.dtick="M1":Te(or,dr)?or>=12&&dr===2&&(Xe.dtick="M3"):Xe.dtick=He.dtick:String(Xe.dtick).charAt(0)==="L"?String(He.dtick).charAt(0)==="L"?Te(or,dr)||(Xe.dtick=Ie(or/dr,2.5)?He.dtick/2:He.dtick):Xe.dtick="D1":Xe.dtick==="D2"&&+He.dtick>1&&(Xe.dtick=1)}Xe.range=He.range}He.minor._tick0Init===void 0&&(Xe.tick0=He.tick0)};function Te(Xe,He){return Math.abs((Xe/He+.5)%1-.5)<.001}function Ie(Xe,He){return Math.abs(Xe/He-1)<.001}ne.prepTicks=function(Xe,He){var Nt=S.simpleMap(Xe.range,Xe.r2l,void 0,void 0,He);if(Xe.tickmode==="auto"||!Xe.dtick){var Pt=Xe.nticks,Qt;Pt||(Xe.type==="category"||Xe.type==="multicategory"?(Qt=Xe.tickfont?S.bigFont(Xe.tickfont.size||12):15,Pt=Xe._length/Qt):(Qt=Xe._id.charAt(0)==="y"?40:80,Pt=S.constrain(Xe._length/Qt,4,9)+1),Xe._name==="radialaxis"&&(Pt*=2)),Xe.minor&&Xe.minor.tickmode!=="array"||Xe.tickmode==="array"&&(Pt*=100),Xe._roughDTick=Math.abs(Nt[1]-Nt[0])/Pt,ne.autoTicks(Xe,Xe._roughDTick),Xe._minDtick>0&&Xe.dtick<Xe._minDtick*2&&(Xe.dtick=Xe._minDtick,Xe.tick0=Xe.l2r(Xe._forceTick0))}Xe.ticklabelmode==="period"&&Be(Xe),Xe.tick0||(Xe.tick0=Xe.type==="date"?"2000-01-01":0),Xe.type==="date"&&Xe.dtick<.1&&(Xe.dtick=.1),pt(Xe)};function ke(Xe){return+Xe.substring(1)}function Be(Xe){var He;function Nt(){return!(L(Xe.dtick)||Xe.dtick.charAt(0)!=="M")}var Pt=Nt(),Qt=ne.getTickFormat(Xe);if(Qt){var ur=Xe._dtickInit!==Xe.dtick;/%[fLQsSMX]/.test(Qt)||(/%[HI]/.test(Qt)?(He=A,ur&&!Pt&&Xe.dtick<A&&(Xe.dtick=A)):/%p/.test(Qt)?(He=E,ur&&!Pt&&Xe.dtick<E&&(Xe.dtick=E)):/%[Aadejuwx]/.test(Qt)?(He=m,ur&&!Pt&&Xe.dtick<m&&(Xe.dtick=m)):/%[UVW]/.test(Qt)?(He=_,ur&&!Pt&&Xe.dtick<_&&(Xe.dtick=_)):/%[Bbm]/.test(Qt)?(He=x,ur&&(Pt?ke(Xe.dtick)<1:Xe.dtick<w)&&(Xe.dtick="M1")):/%[q]/.test(Qt)?(He=c,ur&&(Pt?ke(Xe.dtick)<3:Xe.dtick<i)&&(Xe.dtick="M3")):/%[Yy]/.test(Qt)&&(He=y,ur&&(Pt?ke(Xe.dtick)<12:Xe.dtick<h)&&(Xe.dtick="M12")))}Pt=Nt(),Pt&&Xe.tick0===Xe._dowTick0&&(Xe.tick0=Xe._rawTick0),Xe._definedDelta=He}function Me(Xe,He,Nt){for(var Pt=0;Pt<Xe.length;Pt++){var Qt=Xe[Pt].value,ur=Pt,cr=Pt+1;Pt<Xe.length-1?(ur=Pt,cr=Pt+1):Pt>0?(ur=Pt-1,cr=Pt):(ur=Pt,cr=Pt);var tr=Xe[ur].value,zt=Xe[cr].value,or=Math.abs(zt-tr),dr=Nt||or,wr=0;dr>=h?or>=h&&or<=l?wr=or:wr=y:Nt===c&&dr>=i?or>=i&&or<=T?wr=or:wr=c:dr>=w?or>=w&&or<=d?wr=or:wr=x:Nt===_&&dr>=_?wr=_:dr>=m?wr=m:Nt===E&&dr>=E?wr=E:Nt===A&&dr>=A&&(wr=A);var pr;wr>=or&&(wr=or,pr=!0);var Wr=Qt+wr;if(He.rangebreaks&&wr>0){for(var Pr=84,Ir=0,ln=0;ln<Pr;ln++){var an=(ln+.5)/Pr;He.maskBreaks(Qt*(1-an)+an*Wr)!==N&&Ir++}wr*=Ir/Pr,wr||(Xe[Pt].drop=!0),pr&&or>_&&(wr=or)}(wr>0||Pt===0)&&(Xe[Pt].periodX=Qt+wr/2)}}ne.calcTicks=function(He,Nt){for(var Pt=He.type,Qt=He.calendar,ur=He.ticklabelstep,cr=He.ticklabelmode==="period",tr=S.simpleMap(He.range,He.r2l,void 0,void 0,Nt),zt=tr[1]<tr[0],or=Math.min(tr[0],tr[1]),dr=Math.max(tr[0],tr[1]),wr=Math.max(1e3,He._length||0),pr=[],Wr=[],Pr=[],Ir=[],ln=He.minor&&(He.minor.ticks||He.minor.showgrid),an=1;an>=(ln?0:1);an--){var _n=!an;an?(He._dtickInit=He.dtick,He._tick0Init=He.tick0):(He.minor._dtickInit=He.minor.dtick,He.minor._tick0Init=He.minor.tick0);var Mn=an?He:S.extendFlat({},He,He.minor);if(_n?ne.prepMinorTicks(Mn,He,Nt):ne.prepTicks(Mn,Nt),Mn.tickmode==="array"){an?(Pr=[],pr=Ne(He,!_n)):(Ir=[],Wr=Ne(He,!_n));continue}if(Mn.tickmode==="sync"){Pr=[],pr=_e(He);continue}var Sr=K(tr),Nr=Sr[0],Zr=Sr[1],Fr=L(Mn.dtick),cn=Pt==="log"&&!(Fr||Mn.dtick.charAt(0)==="L"),vn=ne.tickFirst(Mn,Nt);if(an){if(He._tmin=vn,vn<Nr!==zt)break;(Pt==="category"||Pt==="multicategory")&&(Zr=zt?Math.max(-.5,Zr):Math.min(He._categories.length-.5,Zr))}var Cn=null,Rn=vn,Gn;if(an){var ua;Fr?ua=He.dtick:Pt==="date"?typeof He.dtick=="string"&&He.dtick.charAt(0)==="M"&&(ua=x*He.dtick.substring(1)):ua=He._roughDTick,Gn=Math.round((He.r2l(Rn)-He.r2l(He.tick0))/ua)-1}var wa=Mn.dtick;for(Mn.rangebreaks&&Mn._tick0Init!==Mn.tick0&&(Rn=Ut(Rn,He),zt||(Rn=ne.tickIncrement(Rn,wa,!zt,Qt))),an&&cr&&(Rn=ne.tickIncrement(Rn,wa,!zt,Qt),Gn--);zt?Rn>=Zr:Rn<=Zr;Rn=ne.tickIncrement(Rn,wa,zt,Qt)){if(an&&Gn++,Mn.rangebreaks&&!zt){if(Rn<Nr)continue;if(Mn.maskBreaks(Rn)===N&&Ut(Rn,Mn)>=dr)break}if(Pr.length>wr||Rn===Cn)break;Cn=Rn;var Ma={value:Rn};an?(cn&&Rn!==(Rn|0)&&(Ma.simpleLabel=!0),ur>1&&Gn%ur&&(Ma.skipLabel=!0),Pr.push(Ma)):(Ma.minor=!0,Ir.push(Ma))}}if(ln){var Zn=He.minor.ticks==="inside"&&He.ticks==="outside"||He.minor.ticks==="outside"&&He.ticks==="inside";if(!Zn){for(var ea=Pr.map(function(xn){return xn.value}),xr=[],nn=0;nn<Ir.length;nn++){var qr=Ir[nn],gn=qr.value;if(ea.indexOf(gn)===-1){for(var Un=!1,An=0;!Un&&An<Pr.length;An++)1e7+Pr[An].value===1e7+gn&&(Un=!0);Un||xr.push(qr)}}Ir=xr}}cr&&Me(Pr,He,He._definedDelta);var En;if(He.rangebreaks){var Vn=He._id.charAt(0)==="y",ta=1;He.tickmode==="auto"&&(ta=He.tickfont?He.tickfont.size:12);var ga=NaN;for(En=Pr.length-1;En>-1;En--){if(Pr[En].drop){Pr.splice(En,1);continue}Pr[En].value=Ut(Pr[En].value,He);var Na=He.c2p(Pr[En].value);(Vn?ga>Na-ta:ga<Na+ta)?Pr.splice(zt?En+1:En,1):ga=Na}}Bt(He)&&Math.abs(tr[1]-tr[0])===360&&Pr.pop(),He._tmax=(Pr[Pr.length-1]||{}).value,He._prevDateHead="",He._inCalcTicks=!0;var _r,Br=function(xn){xn.text="",He._prevDateHead=_r};Pr=Pr.concat(Ir);var Mr,Ur;for(En=0;En<Pr.length;En++){var wn=Pr[En].minor,kn=Pr[En].value;wn?Wr.push({x:kn,minor:!0}):(_r=He._prevDateHead,Mr=ne.tickText(He,kn,!1,Pr[En].simpleLabel),Ur=Pr[En].periodX,Ur!==void 0&&(Mr.periodX=Ur,(Ur>dr||Ur<or)&&(Ur>dr&&(Mr.periodX=dr),Ur<or&&(Mr.periodX=or),Br(Mr))),Pr[En].skipLabel&&Br(Mr),pr.push(Mr))}return pr=pr.concat(Wr),He._inCalcTicks=!1,cr&&pr.length&&(pr[0].noTick=!0),pr};function Oe(Xe,He){return Xe.rangebreaks&&(He=He.filter(function(Nt){return Xe.maskBreaks(Nt.x)!==N})),He}function _e(Xe){var He=Xe._mainAxis,Nt=[];if(He._vals){for(var Pt=0;Pt<He._vals.length;Pt++)if(!He._vals[Pt].noTick){var Qt=He.l2p(He._vals[Pt].x),ur=Xe.p2l(Qt),cr=ne.tickText(Xe,ur);He._vals[Pt].minor&&(cr.minor=!0,cr.text=""),Nt.push(cr)}}return Nt=Oe(Xe,Nt),Nt}function Ne(Xe,He){var Nt=S.simpleMap(Xe.range,Xe.r2l),Pt=K(Nt),Qt=Math.min(Pt[0],Pt[1]),ur=Math.max(Pt[0],Pt[1]),cr=Xe.type==="category"?Xe.d2l_noadd:Xe.d2l;Xe.type==="log"&&String(Xe.dtick).charAt(0)!=="L"&&(Xe.dtick="L"+Math.pow(10,Math.floor(Math.min(Xe.range[0],Xe.range[1]))-1));for(var tr=[],zt=0;zt<=1;zt++)if(!(He!==void 0&&(He&&zt||He===!1&&!zt))&&!(zt&&!Xe.minor)){var or=zt?Xe.minor.tickvals:Xe.tickvals,dr=zt?[]:Xe.ticktext;if(or){S.isArrayOrTypedArray(dr)||(dr=[]);for(var wr=0;wr<or.length;wr++){var pr=cr(or[wr]);if(pr>Qt&&pr<ur){var Wr=ne.tickText(Xe,pr,!1,String(dr[wr]));zt&&(Wr.minor=!0,Wr.text=""),tr.push(Wr)}}}}return tr=Oe(Xe,tr),tr}var Ce=[2,5,10],Ye=[1,2,3,6,12],rt=[1,2,5,10,15,30],ot=[1,2,3,7,14],$e=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],qe=[-.301,0,.301,.699,1],ht=[15,30,45,90,180];function vt(Xe,He,Nt){return He*S.roundUp(Xe/He,Nt)}ne.autoTicks=function(Xe,He,Nt){var Pt;function Qt(wr){return Math.pow(wr,Math.floor(Math.log(He)/Math.LN10))}if(Xe.type==="date"){Xe.tick0=S.dateTick0(Xe.calendar,0);var ur=2*He;if(ur>y)He/=y,Pt=Qt(10),Xe.dtick="M"+12*vt(He,Pt,Ce);else if(ur>x)He/=x,Xe.dtick="M"+vt(He,1,Ye);else if(ur>m){if(Xe.dtick=vt(He,m,Xe._hasDayOfWeekBreaks?[1,2,7,14]:ot),!Nt){var cr=ne.getTickFormat(Xe),tr=Xe.ticklabelmode==="period";tr&&(Xe._rawTick0=Xe.tick0),/%[uVW]/.test(cr)?Xe.tick0=S.dateTick0(Xe.calendar,2):Xe.tick0=S.dateTick0(Xe.calendar,1),tr&&(Xe._dowTick0=Xe.tick0)}}else ur>A?Xe.dtick=vt(He,A,Ye):ur>s?Xe.dtick=vt(He,s,rt):ur>M?Xe.dtick=vt(He,M,rt):(Pt=Qt(10),Xe.dtick=vt(He,Pt,Ce))}else if(Xe.type==="log"){Xe.tick0=0;var zt=S.simpleMap(Xe.range,Xe.r2l);if(Xe._isMinor&&(He*=1.5),He>.7)Xe.dtick=Math.ceil(He);else if(Math.abs(zt[1]-zt[0])<1){var or=1.5*Math.abs((zt[1]-zt[0])/He);He=Math.abs(Math.pow(10,zt[1])-Math.pow(10,zt[0]))/or,Pt=Qt(10),Xe.dtick="L"+vt(He,Pt,Ce)}else Xe.dtick=He>.3?"D2":"D1"}else Xe.type==="category"||Xe.type==="multicategory"?(Xe.tick0=0,Xe.dtick=Math.ceil(Math.max(He,1))):Bt(Xe)?(Xe.tick0=0,Pt=1,Xe.dtick=vt(He,Pt,ht)):(Xe.tick0=0,Pt=Qt(10),Xe.dtick=vt(He,Pt,Ce));if(Xe.dtick===0&&(Xe.dtick=1),!L(Xe.dtick)&&typeof Xe.dtick!="string"){var dr=Xe.dtick;throw Xe.dtick=1,"ax.dtick error: "+String(dr)}};function pt(Xe){var He=Xe.dtick;if(Xe._tickexponent=0,!L(He)&&typeof He!="string"&&(He=1),(Xe.type==="category"||Xe.type==="multicategory")&&(Xe._tickround=null),Xe.type==="date"){var Nt=Xe.r2l(Xe.tick0),Pt=Xe.l2r(Nt).replace(/(^-|i)/g,""),Qt=Pt.length;if(String(He).charAt(0)==="M")Qt>10||Pt.substr(5)!=="01-01"?Xe._tickround="d":Xe._tickround=+He.substr(1)%12===0?"y":"m";else if(He>=m&&Qt<=10||He>=m*15)Xe._tickround="d";else if(He>=s&&Qt<=16||He>=A)Xe._tickround="M";else if(He>=M&&Qt<=19||He>=s)Xe._tickround="S";else{var ur=Xe.l2r(Nt+He).replace(/^-/,"").length;Xe._tickround=Math.max(Qt,ur)-20,Xe._tickround<0&&(Xe._tickround=4)}}else if(L(He)||He.charAt(0)==="L"){var cr=Xe.range.map(Xe.r2d||Number);L(He)||(He=Number(He.substr(1))),Xe._tickround=2-Math.floor(Math.log(He)/Math.LN10+.01);var tr=Math.max(Math.abs(cr[0]),Math.abs(cr[1])),zt=Math.floor(Math.log(tr)/Math.LN10+.01),or=Xe.minexponent===void 0?3:Xe.minexponent;Math.abs(zt)>or&&(je(Xe.exponentformat)&&!De(zt)?Xe._tickexponent=3*Math.round((zt-1)/3):Xe._tickexponent=zt)}else Xe._tickround=null}ne.tickIncrement=function(Xe,He,Nt,Pt){var Qt=Nt?-1:1;if(L(He))return S.increment(Xe,Qt*He);var ur=He.charAt(0),cr=Qt*Number(He.substr(1));if(ur==="M")return S.incrementMonth(Xe,cr,Pt);if(ur==="L")return Math.log(Math.pow(10,Xe)+cr)/Math.LN10;if(ur==="D"){var tr=He==="D2"?qe:$e,zt=Xe+Qt*.01,or=S.roundUp(S.mod(zt,1),tr,Nt);return Math.floor(zt)+Math.log(p.round(Math.pow(10,or),1))/Math.LN10}throw"unrecognized dtick "+String(He)},ne.tickFirst=function(Xe,He){var Nt=Xe.r2l||Number,Pt=S.simpleMap(Xe.range,Nt,void 0,void 0,He),Qt=Pt[1]<Pt[0],ur=Qt?Math.floor:Math.ceil,cr=K(Pt)[0],tr=Xe.dtick,zt=Nt(Xe.tick0);if(L(tr)){var or=ur((cr-zt)/tr)*tr+zt;return(Xe.type==="category"||Xe.type==="multicategory")&&(or=S.constrain(or,0,Xe._categories.length-1)),or}var dr=tr.charAt(0),wr=Number(tr.substr(1));if(dr==="M"){for(var pr=0,Wr=zt,Pr,Ir,ln;pr<10;){if(Pr=ne.tickIncrement(Wr,tr,Qt,Xe.calendar),(Pr-cr)*(Wr-cr)<=0)return Qt?Math.min(Wr,Pr):Math.max(Wr,Pr);Ir=(cr-(Wr+Pr)/2)/(Pr-Wr),ln=dr+(Math.abs(Math.round(Ir))||1)*wr,Wr=ne.tickIncrement(Wr,ln,Ir<0?!Qt:Qt,Xe.calendar),pr++}return S.error("tickFirst did not converge",Xe),Wr}else{if(dr==="L")return Math.log(ur((Math.pow(10,cr)-zt)/wr)*wr+zt)/Math.LN10;if(dr==="D"){var an=tr==="D2"?qe:$e,_n=S.roundUp(S.mod(cr,1),an,Qt);return Math.floor(cr)+Math.log(p.round(Math.pow(10,_n),1))/Math.LN10}else throw"unrecognized dtick "+String(tr)}},ne.tickText=function(Xe,He,Nt,Pt){var Qt=wt(Xe,He),ur=Xe.tickmode==="array",cr=Nt||ur,tr=Xe.type,zt=tr==="category"?Xe.d2l_noadd:Xe.d2l,or,dr=function(ln){var an=Xe.l2p(ln);return an>=0&&an<=Xe._length?ln:null};if(ur&&S.isArrayOrTypedArray(Xe.ticktext)){var wr=S.simpleMap(Xe.range,Xe.r2l),pr=(Math.abs(wr[1]-wr[0])-(Xe._lBreaks||0))/1e4;for(or=0;or<Xe.ticktext.length&&!(Math.abs(He-zt(Xe.tickvals[or]))<pr);or++);if(or<Xe.ticktext.length)return Qt.text=String(Xe.ticktext[or]),Qt.xbnd=[dr(Qt.x-.5),dr(Qt.x+Xe.dtick-.5)],Qt}function Wr(ln){if(ln===void 0)return!0;if(Nt)return ln==="none";var an={first:Xe._tmin,last:Xe._tmax}[ln];return ln!=="all"&&He!==an}var Pr=Nt?"never":Xe.exponentformat!=="none"&&Wr(Xe.showexponent)?"hide":"";if(tr==="date"?Mt(Xe,Qt,Nt,cr):tr==="log"?nt(Xe,Qt,Nt,cr,Pr):tr==="category"?Fe(Xe,Qt):tr==="multicategory"?We(Xe,Qt,Nt):Bt(Xe)?Ge(Xe,Qt,Nt,cr,Pr):Ze(Xe,Qt,Nt,cr,Pr),Pt||(Xe.tickprefix&&!Wr(Xe.showtickprefix)&&(Qt.text=Xe.tickprefix+Qt.text),Xe.ticksuffix&&!Wr(Xe.showticksuffix)&&(Qt.text+=Xe.ticksuffix)),Xe.labelalias&&Xe.labelalias.hasOwnProperty(Qt.text)){var Ir=Xe.labelalias[Qt.text];typeof Ir=="string"&&(Qt.text=Ir)}return(Xe.tickson==="boundaries"||Xe.showdividers)&&(Qt.xbnd=[dr(Qt.x-.5),dr(Qt.x+Xe.dtick-.5)]),Qt},ne.hoverLabelText=function(Xe,He,Nt){Nt&&(Xe=S.extendFlat({},Xe,{hoverformat:Nt}));var Pt=S.isArrayOrTypedArray(He)?He[0]:He,Qt=S.isArrayOrTypedArray(He)?He[1]:void 0;if(Qt!==void 0&&Qt!==Pt)return ne.hoverLabelText(Xe,Pt,Nt)+" - "+ne.hoverLabelText(Xe,Qt,Nt);var ur=Xe.type==="log"&&Pt<=0,cr=ne.tickText(Xe,Xe.c2l(ur?-Pt:Pt),"hover").text;return ur?Pt===0?"0":b+cr:cr};function wt(Xe,He,Nt){var Pt=Xe.tickfont||{};return{x:He,dx:0,dy:0,text:Nt||"",fontSize:Pt.size,font:Pt.family,fontWeight:Pt.weight,fontStyle:Pt.style,fontVariant:Pt.variant,fontTextcase:Pt.textcase,fontLineposition:Pt.lineposition,fontShadow:Pt.shadow,fontColor:Pt.color}}function Mt(Xe,He,Nt,Pt){var Qt=Xe._tickround,ur=Nt&&Xe.hoverformat||ne.getTickFormat(Xe);Pt=!ur&&Pt,Pt&&(L(Qt)?Qt=4:Qt={y:"m",m:"d",d:"M",M:"S",S:4}[Qt]);var cr=S.formatDate(He.x,ur,Qt,Xe._dateFormat,Xe.calendar,Xe._extraFormat),tr,zt=cr.indexOf(`
`);if(zt!==-1&&(tr=cr.substr(zt+1),cr=cr.substr(0,zt)),Pt&&(tr!==void 0&&(cr==="00:00:00"||cr==="00:00")?(cr=tr,tr=""):cr.length===8&&(cr=cr.replace(/:00$/,""))),tr)if(Nt)Qt==="d"?cr+=", "+tr:cr=tr+(cr?", "+cr:"");else if(!Xe._inCalcTicks||Xe._prevDateHead!==tr)Xe._prevDateHead=tr,cr+="<br>"+tr;else{var or=Jt(Xe),dr=Xe._trueSide||Xe.side;(!or&&dr==="top"||or&&dr==="bottom")&&(cr+="<br> ")}He.text=cr}function nt(Xe,He,Nt,Pt,Qt){var ur=Xe.dtick,cr=He.x,tr=Xe.tickformat,zt=typeof ur=="string"&&ur.charAt(0);if(Qt==="never"&&(Qt=""),Pt&&zt!=="L"&&(ur="L3",zt="L"),tr||zt==="L")He.text=ge(Math.pow(10,cr),Xe,Qt,Pt);else if(L(ur)||zt==="D"&&S.mod(cr+.01,1)<.1){var or=Math.round(cr),dr=Math.abs(or),wr=Xe.exponentformat;wr==="power"||je(wr)&&De(or)?(or===0?He.text=1:or===1?He.text="10":He.text="10<sup>"+(or>1?"":b)+dr+"</sup>",He.fontSize*=1.25):(wr==="e"||wr==="E")&&dr>2?He.text="1"+wr+(or>0?"+":b)+dr:(He.text=ge(Math.pow(10,cr),Xe,"","fakehover"),ur==="D1"&&Xe._id.charAt(0)==="y"&&(He.dy-=He.fontSize/6))}else if(zt==="D")He.text=String(Math.round(Math.pow(10,S.mod(cr,1)))),He.fontSize*=.75;else throw"unrecognized dtick "+String(ur);if(Xe.dtick==="D1"){var pr=String(He.text).charAt(0);(pr==="0"||pr==="1")&&(Xe._id.charAt(0)==="y"?He.dx-=He.fontSize/4:(He.dy+=He.fontSize/2,He.dx+=(Xe.range[1]>Xe.range[0]?1:-1)*He.fontSize*(cr<0?.5:.25)))}}function Fe(Xe,He){var Nt=Xe._categories[Math.round(He.x)];Nt===void 0&&(Nt=""),He.text=String(Nt)}function We(Xe,He,Nt){var Pt=Math.round(He.x),Qt=Xe._categories[Pt]||[],ur=Qt[1]===void 0?"":String(Qt[1]),cr=Qt[0]===void 0?"":String(Qt[0]);Nt?He.text=cr+" - "+ur:(He.text=ur,He.text2=cr)}function Ze(Xe,He,Nt,Pt,Qt){Qt==="never"?Qt="":Xe.showexponent==="all"&&Math.abs(He.x/Xe.dtick)<1e-6&&(Qt="hide"),He.text=ge(He.x,Xe,Qt,Pt)}function Ge(Xe,He,Nt,Pt,Qt){if(Xe.thetaunit==="radians"&&!Nt){var ur=He.x/180;if(ur===0)He.text="0";else{var cr=Pe(ur);if(cr[1]>=100)He.text=ge(S.deg2rad(He.x),Xe,Qt,Pt);else{var tr=He.x<0;cr[1]===1?cr[0]===1?He.text="π":He.text=cr[0]+"π":He.text=["<sup>",cr[0],"</sup>","⁄","<sub>",cr[1],"</sub>","π"].join(""),tr&&(He.text=b+He.text)}}}else He.text=ge(He.x,Xe,Qt,Pt)}function Pe(Xe){function He(tr,zt){return Math.abs(tr-zt)<=1e-6}function Nt(tr,zt){return He(zt,0)?tr:Nt(zt,tr%zt)}function Pt(tr){for(var zt=1;!He(Math.round(tr*zt)/zt,tr);)zt*=10;return zt}var Qt=Pt(Xe),ur=Xe*Qt,cr=Math.abs(Nt(ur,Qt));return[Math.round(ur/cr),Math.round(Qt/cr)]}var Re=["f","p","n","μ","m","","k","M","G","T"];function je(Xe){return Xe==="SI"||Xe==="B"}function De(Xe){return Xe>14||Xe<-15}function ge(Xe,He,Nt,Pt){var Qt=Xe<0,ur=He._tickround,cr=Nt||He.exponentformat||"B",tr=He._tickexponent,zt=ne.getTickFormat(He),or=He.separatethousands;if(Pt){var dr={exponentformat:cr,minexponent:He.minexponent,dtick:He.showexponent==="none"?He.dtick:L(Xe)&&Math.abs(Xe)||1,range:He.showexponent==="none"?He.range.map(He.r2d):[0,Xe||1]};pt(dr),ur=(Number(dr._tickround)||0)+4,tr=dr._tickexponent,He.hoverformat&&(zt=He.hoverformat)}if(zt)return He._numFormat(zt)(Xe).replace(/-/g,b);var wr=Math.pow(10,-ur)/2;if(cr==="none"&&(tr=0),Xe=Math.abs(Xe),Xe<wr)Xe="0",Qt=!1;else{if(Xe+=wr,tr&&(Xe*=Math.pow(10,-tr),ur+=tr),ur===0)Xe=String(Math.floor(Xe));else if(ur<0){Xe=String(Math.round(Xe)),Xe=Xe.substr(0,Xe.length+ur);for(var pr=ur;pr<0;pr++)Xe+="0"}else{Xe=String(Xe);var Wr=Xe.indexOf(".")+1;Wr&&(Xe=Xe.substr(0,Wr+ur).replace(/\.?0+$/,""))}Xe=S.numSeparate(Xe,He._separators,or)}if(tr&&cr!=="hide"){je(cr)&&De(tr)&&(cr="power");var Pr;tr<0?Pr=b+-tr:cr!=="power"?Pr="+"+tr:Pr=String(tr),cr==="e"||cr==="E"?Xe+=cr+Pr:cr==="power"?Xe+="×10<sup>"+Pr+"</sup>":cr==="B"&&tr===9?Xe+="B":je(cr)&&(Xe+=Re[tr/3+5])}return Qt?b+Xe:Xe}ne.getTickFormat=function(Xe){var He;function Nt(zt){return typeof zt!="string"?zt:Number(zt.replace("M",""))*x}function Pt(zt,or){var dr=["L","D"];if(typeof zt==typeof or){if(typeof zt=="number")return zt-or;var wr=dr.indexOf(zt.charAt(0)),pr=dr.indexOf(or.charAt(0));return wr===pr?Number(zt.replace(/(L|D)/g,""))-Number(or.replace(/(L|D)/g,"")):wr-pr}else return typeof zt=="number"?1:-1}function Qt(zt,or,dr){var wr=dr||function(Pr){return Pr},pr=or[0],Wr=or[1];return(!pr&&typeof pr!="number"||wr(pr)<=wr(zt))&&(!Wr&&typeof Wr!="number"||wr(Wr)>=wr(zt))}function ur(zt,or){var dr=or[0]===null,wr=or[1]===null,pr=Pt(zt,or[0])>=0,Wr=Pt(zt,or[1])<=0;return(dr||pr)&&(wr||Wr)}var cr,tr;if(Xe.tickformatstops&&Xe.tickformatstops.length>0)switch(Xe.type){case"date":case"linear":{for(He=0;He<Xe.tickformatstops.length;He++)if(tr=Xe.tickformatstops[He],tr.enabled&&Qt(Xe.dtick,tr.dtickrange,Nt)){cr=tr;break}break}case"log":{for(He=0;He<Xe.tickformatstops.length;He++)if(tr=Xe.tickformatstops[He],tr.enabled&&ur(Xe.dtick,tr.dtickrange)){cr=tr;break}break}}return cr?cr.value:Xe.tickformat},ne.getSubplots=function(Xe,He){var Nt=Xe._fullLayout._subplots,Pt=Nt.cartesian.concat(Nt.gl2d||[]),Qt=He?ne.findSubplotsWithAxis(Pt,He):Pt;return Qt.sort(function(ur,cr){var tr=ur.substr(1).split("y"),zt=cr.substr(1).split("y");return tr[0]===zt[0]?+tr[1]-+zt[1]:+tr[0]-+zt[0]}),Qt},ne.findSubplotsWithAxis=function(Xe,He){for(var Nt=new RegExp(He._id.charAt(0)==="x"?"^"+He._id+"y":He._id+"$"),Pt=[],Qt=0;Qt<Xe.length;Qt++){var ur=Xe[Qt];Nt.test(ur)&&Pt.push(ur)}return Pt},ne.makeClipPaths=function(Xe){var He=Xe._fullLayout;if(!He._hasOnlyLargeSploms){var Nt={_offset:0,_length:He.width,_id:""},Pt={_offset:0,_length:He.height,_id:""},Qt=ne.list(Xe,"x",!0),ur=ne.list(Xe,"y",!0),cr=[],tr,zt;for(tr=0;tr<Qt.length;tr++)for(cr.push({x:Qt[tr],y:Pt}),zt=0;zt<ur.length;zt++)tr===0&&cr.push({x:Nt,y:ur[zt]}),cr.push({x:Qt[tr],y:ur[zt]});var or=He._clips.selectAll(".axesclip").data(cr,function(dr){return dr.x._id+dr.y._id});or.enter().append("clipPath").classed("axesclip",!0).attr("id",function(dr){return"clip"+He._uid+dr.x._id+dr.y._id}).append("rect"),or.exit().remove(),or.each(function(dr){p.select(this).select("rect").attr({x:dr.x._offset||0,y:dr.y._offset||0,width:dr.x._length||1,height:dr.y._length||1})})}},ne.draw=function(Xe,He,Nt){var Pt=Xe._fullLayout;He==="redraw"&&Pt._paper.selectAll("g.subplot").each(function(zt){var or=zt[0],dr=Pt._plots[or];if(dr){var wr=dr.xaxis,pr=dr.yaxis;dr.xaxislayer.selectAll("."+wr._id+"tick").remove(),dr.yaxislayer.selectAll("."+pr._id+"tick").remove(),dr.xaxislayer.selectAll("."+wr._id+"tick2").remove(),dr.yaxislayer.selectAll("."+pr._id+"tick2").remove(),dr.xaxislayer.selectAll("."+wr._id+"divider").remove(),dr.yaxislayer.selectAll("."+pr._id+"divider").remove(),dr.minorGridlayer&&dr.minorGridlayer.selectAll("path").remove(),dr.gridlayer&&dr.gridlayer.selectAll("path").remove(),dr.zerolinelayer&&dr.zerolinelayer.selectAll("path").remove(),Pt._infolayer.select(".g-"+wr._id+"title").remove(),Pt._infolayer.select(".g-"+pr._id+"title").remove()}});var Qt=!He||He==="redraw"?ne.listIds(Xe):He,ur=ne.list(Xe),cr=ur.filter(function(zt){return zt.autoshift}).map(function(zt){return zt.overlaying});Qt.map(function(zt){var or=ne.getFromId(Xe,zt);if(or.tickmode==="sync"&&or.overlaying){var dr=Qt.findIndex(function(wr){return wr===or.overlaying});dr>=0&&Qt.unshift(Qt.splice(dr,1).shift())}});var tr={false:{left:0,right:0}};return S.syncOrAsync(Qt.map(function(zt){return function(){if(zt){var or=ne.getFromId(Xe,zt);Nt||(Nt={}),Nt.axShifts=tr,Nt.overlayingShiftedAx=cr;var dr=ne.drawOne(Xe,or,Nt);return or._shiftPusher&&vr(or,or._fullDepth||0,tr,!0),or._r=or.range.slice(),or._rl=S.simpleMap(or._r,or.r2l),dr}}}))},ne.drawOne=function(Xe,He,Nt){Nt=Nt||{};var Pt=Nt.axShifts||{},Qt=Nt.overlayingShiftedAx||[],ur,cr,tr;He.setScale();var zt=Xe._fullLayout,or=He._id,dr=or.charAt(0),wr=ne.counterLetter(or),pr=zt._plots[He._mainSubplot];if(!pr)return;if(He._shiftPusher=He.autoshift||Qt.indexOf(He._id)!==-1||Qt.indexOf(He.overlaying)!==-1,He._shiftPusher&He.anchor==="free"){var Wr=He.linewidth/2||0;He.ticks==="inside"&&(Wr+=He.ticklen),vr(He,Wr,Pt,!0),vr(He,He.shift||0,Pt,!1)}(Nt.skipTitle!==!0||He._shift===void 0)&&(He._shift=gr(He,Pt));var Pr=pr[dr+"axislayer"],Ir=He._mainLinePosition,ln=Ir+=He._shift,an=He._mainMirrorPosition,_n=He._vals=ne.calcTicks(He),Mn=[He.mirror,ln,an].join("_");for(ur=0;ur<_n.length;ur++)_n[ur].axInfo=Mn;He._selections={},He._tickAngles&&(He._prevTickAngles=He._tickAngles),He._tickAngles={},He._depth=null;var Sr={};function Nr(Gr){var rn=or+(Gr||"tick");return Sr[rn]||(Sr[rn]=lt(He,rn,ln)),Sr[rn]}if(He.visible){var Zr=ne.makeTransTickFn(He),Fr=ne.makeTransTickLabelFn(He),cn,vn,Cn=He.ticks==="inside",Rn=He.ticks==="outside";if(He.tickson==="boundaries"){var Gn=Ue(He,_n);vn=ne.clipEnds(He,Gn),cn=Cn?vn:Gn}else vn=ne.clipEnds(He,_n),cn=Cn&&He.ticklabelmode!=="period"?vn:_n;var ua=He._gridVals=vn,wa=st(He,_n);if(!zt._hasOnlyLargeSploms){var Ma=He._subplotsWith,Zn={};for(ur=0;ur<Ma.length;ur++){cr=Ma[ur],tr=zt._plots[cr];var ea=tr[wr+"axis"],xr=ea._mainAxis._id;if(!Zn[xr]){Zn[xr]=1;var nn=dr==="x"?"M0,"+ea._offset+"v"+ea._length:"M"+ea._offset+",0h"+ea._length;ne.drawGrid(Xe,He,{vals:ua,counterAxis:ea,layer:tr.gridlayer.select("."+or),minorLayer:tr.minorGridlayer.select("."+or),path:nn,transFn:Zr}),ne.drawZeroLine(Xe,He,{counterAxis:ea,layer:tr.zerolinelayer,path:nn,transFn:Zr})}}}var qr,gn=ne.getTickSigns(He),Un=ne.getTickSigns(He,"minor");if(He.ticks||He.minor&&He.minor.ticks){var An=ne.makeTickPath(He,ln,gn[2]),En=ne.makeTickPath(He,ln,Un[2],{minor:!0}),Vn,ta,ga,Na;if(He._anchorAxis&&He.mirror&&He.mirror!==!0?(Vn=ne.makeTickPath(He,an,gn[3]),ta=ne.makeTickPath(He,an,Un[3],{minor:!0}),ga=An+Vn,Na=En+ta):(Vn="",ta="",ga=An,Na=En),He.showdividers&&Rn&&He.tickson==="boundaries"){var _r={};for(ur=0;ur<wa.length;ur++)_r[wa[ur].x]=1;qr=function(Gr){return _r[Gr.x]?Vn:ga}}else qr=function(Gr){return Gr.minor?Na:ga}}if(ne.drawTicks(Xe,He,{vals:cn,layer:Pr,path:qr,transFn:Zr}),He.mirror==="allticks"){var Br=Object.keys(He._linepositions||{});for(ur=0;ur<Br.length;ur++){cr=Br[ur],tr=zt._plots[cr];var Mr=He._linepositions[cr]||[],Ur=Mr[0],wn=Mr[1],kn=Mr[2],xn=ne.makeTickPath(He,Ur,kn?gn[0]:Un[0],{minor:kn})+ne.makeTickPath(He,wn,kn?gn[1]:Un[1],{minor:kn});ne.drawTicks(Xe,He,{vals:cn,layer:tr[dr+"axislayer"],path:xn,transFn:Zr})}}var hn=[];if(hn.push(function(){return ne.drawLabels(Xe,He,{vals:_n,layer:Pr,plotinfo:tr,transFn:Fr,labelFns:ne.makeLabelFns(He,ln)})}),He.type==="multicategory"){var Cr={x:2,y:10}[dr];hn.push(function(){var Gr={x:"height",y:"width"}[dr],rn=Nr()[Gr]+Cr+(He._tickAngles[or+"tick"]?He.tickfont.size*ie:0);return ne.drawLabels(Xe,He,{vals:et(He,_n),layer:Pr,cls:or+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Zr,labelFns:ne.makeLabelFns(He,ln+rn*gn[4])})}),hn.push(function(){return He._depth=gn[4]*(Nr("tick2")[He.side]-ln),Rt(Xe,He,{vals:wa,layer:Pr,path:ne.makeTickPath(He,ln,gn[4],{len:He._depth}),transFn:Zr})})}else He.title.hasOwnProperty("standoff")&&hn.push(function(){He._depth=gn[4]*(Nr()[He.side]-ln)});var Qr=C.getComponentMethod("rangeslider","isVisible")(He);return!Nt.skipTitle&&!(Qr&&He.side==="bottom")&&hn.push(function(){return mr(Xe,He)}),hn.push(function(){var Gr=He.side.charAt(0),rn=oe[He.side].charAt(0),Sn=ne.getPxPosition(Xe,He),Bn=Rn?He.ticklen:0,Ln,Wn,Hn,ya;(He.automargin||Qr||He._shiftPusher)&&(He.type==="multicategory"?Ln=Nr("tick2"):(Ln=Nr(),dr==="x"&&Gr==="b"&&(He._depth=Math.max(Ln.width>0?Ln.bottom-Sn:0,Bn))));var ca=0,ba=0;if(He._shiftPusher&&(ca=Math.max(Bn,Ln.height>0?Gr==="l"?Sn-Ln.left:Ln.right-Sn:0),He.title.text!==zt._dfltTitle[dr]&&(ba=(He._titleStandoff||0)+(He._titleScoot||0),Gr==="l"&&(ba+=Zt(He))),He._fullDepth=Math.max(ca,ba)),He.automargin){Wn={x:0,y:0,r:0,l:0,t:0,b:0};var Ia=[0,1],Ii=typeof He._shift=="number"?He._shift:0;if(dr==="x"){if(Gr==="b"?Wn[Gr]=He._depth:(Wn[Gr]=He._depth=Math.max(Ln.width>0?Sn-Ln.top:0,Bn),Ia.reverse()),Ln.width>0){var xi=Ln.right-(He._offset+He._length);xi>0&&(Wn.xr=1,Wn.r=xi);var hs=He._offset-Ln.left;hs>0&&(Wn.xl=0,Wn.l=hs)}}else if(Gr==="l"?(He._depth=Math.max(Ln.height>0?Sn-Ln.left:0,Bn),Wn[Gr]=He._depth-Ii):(He._depth=Math.max(Ln.height>0?Ln.right-Sn:0,Bn),Wn[Gr]=He._depth+Ii,Ia.reverse()),Ln.height>0){var ns=Ln.bottom-(He._offset+He._length);ns>0&&(Wn.yb=0,Wn.b=ns);var Po=He._offset-Ln.top;Po>0&&(Wn.yt=1,Wn.t=Po)}Wn[wr]=He.anchor==="free"?He.position:He._anchorAxis.domain[Ia[0]],He.title.text!==zt._dfltTitle[dr]&&(Wn[Gr]+=Zt(He)+(He.title.standoff||0)),He.mirror&&He.anchor!=="free"&&(Hn={x:0,y:0,r:0,l:0,t:0,b:0},Hn[rn]=He.linewidth,He.mirror&&He.mirror!==!0&&(Hn[rn]+=Bn),He.mirror===!0||He.mirror==="ticks"?Hn[wr]=He._anchorAxis.domain[Ia[1]]:(He.mirror==="all"||He.mirror==="allticks")&&(Hn[wr]=[He._counterDomainMin,He._counterDomainMax][Ia[1]]))}Qr&&(ya=C.getComponentMethod("rangeslider","autoMarginOpts")(Xe,He)),typeof He.automargin=="string"&&(we(Wn,He.automargin),we(Hn,He.automargin)),o.autoMargin(Xe,lr(He),Wn),o.autoMargin(Xe,mt(He),Hn),o.autoMargin(Xe,ut(He),ya)}),S.syncOrAsync(hn)}};function we(Xe,He){if(Xe){var Nt=Object.keys(z).reduce(function(Pt,Qt){return He.indexOf(Qt)!==-1&&z[Qt].forEach(function(ur){Pt[ur]=1}),Pt},{});Object.keys(Xe).forEach(function(Pt){Nt[Pt]||(Pt.length===1?Xe[Pt]=0:delete Xe[Pt])})}}function Ue(Xe,He){var Nt=[],Pt,Qt=function(ur,cr){var tr=ur.xbnd[cr];tr!==null&&Nt.push(S.extendFlat({},ur,{x:tr}))};if(He.length){for(Pt=0;Pt<He.length;Pt++)Qt(He[Pt],0);Qt(He[Pt-1],1)}return Nt}function et(Xe,He){for(var Nt=[],Pt={},Qt=0;Qt<He.length;Qt++){var ur=He[Qt];Pt[ur.text2]?Pt[ur.text2].push(ur.x):Pt[ur.text2]=[ur.x]}for(var cr in Pt)Nt.push(wt(Xe,S.interp(Pt[cr],.5),cr));return Nt}function st(Xe,He){var Nt=[],Pt,Qt,ur=He.length&&He[He.length-1].x<He[0].x,cr=function(zt,or){var dr=zt.xbnd[or];dr!==null&&Nt.push(S.extendFlat({},zt,{x:dr}))};if(Xe.showdividers&&He.length){for(Pt=0;Pt<He.length;Pt++){var tr=He[Pt];tr.text2!==Qt&&cr(tr,ur?1:0),Qt=tr.text2}cr(He[Pt-1],ur?0:1)}return Nt}function lt(Xe,He,Nt){var Pt,Qt,ur,cr;if(Xe._selections[He].size())Pt=1/0,Qt=-1/0,ur=1/0,cr=-1/0,Xe._selections[He].each(function(){var zt=br(this),or=a.bBox(zt.node().parentNode);Pt=Math.min(Pt,or.top),Qt=Math.max(Qt,or.bottom),ur=Math.min(ur,or.left),cr=Math.max(cr,or.right)});else{var tr=ne.makeLabelFns(Xe,Nt);Pt=Qt=tr.yFn({dx:0,dy:0,fontSize:0}),ur=cr=tr.xFn({dx:0,dy:0,fontSize:0})}return{top:Pt,bottom:Qt,left:ur,right:cr,height:Qt-Pt,width:cr-ur}}ne.getTickSigns=function(Xe,He){var Nt=Xe._id.charAt(0),Pt={x:"top",y:"right"}[Nt],Qt=Xe.side===Pt?1:-1,ur=[-1,1,Qt,-Qt],cr=He?(Xe.minor||{}).ticks:Xe.ticks;return cr!=="inside"==(Nt==="x")&&(ur=ur.map(function(tr){return-tr})),Xe.side&&ur.push({l:-1,t:-1,r:1,b:1}[Xe.side.charAt(0)]),ur},ne.makeTransTickFn=function(Xe){return Xe._id.charAt(0)==="x"?function(He){return v(Xe._offset+Xe.l2p(He.x),0)}:function(He){return v(0,Xe._offset+Xe.l2p(He.x))}},ne.makeTransTickLabelFn=function(Xe){var He=jt(Xe),Nt=He[0],Pt=He[1];return Xe._id.charAt(0)==="x"?function(Qt){return v(Nt+Xe._offset+Xe.l2p(Wt(Qt)),Pt)}:function(Qt){return v(Pt,Nt+Xe._offset+Xe.l2p(Wt(Qt)))}};function Wt(Xe){return Xe.periodX!==void 0?Xe.periodX:Xe.x}function jt(Xe){var He=Xe.ticklabelposition||"",Nt=function(Wr){return He.indexOf(Wr)!==-1},Pt=Nt("top"),Qt=Nt("left"),ur=Nt("right"),cr=Nt("bottom"),tr=Nt("inside"),zt=cr||Qt||Pt||ur;if(!zt&&!tr)return[0,0];var or=Xe.side,dr=zt?(Xe.tickwidth||0)/2:0,wr=he,pr=Xe.tickfont?Xe.tickfont.size:12;return(cr||Pt)&&(dr+=pr*ee,wr+=(Xe.linewidth||0)/2),(Qt||ur)&&(dr+=(Xe.linewidth||0)/2,wr+=he),tr&&or==="top"&&(wr-=pr*(1-ee)),(Qt||Pt)&&(dr=-dr),(or==="bottom"||or==="right")&&(wr=-wr),[zt?dr:0,tr?wr:0]}ne.makeTickPath=function(Xe,He,Nt,Pt){Pt||(Pt={});var Qt=Pt.minor;if(Qt&&!Xe.minor)return"";var ur=Pt.len!==void 0?Pt.len:Qt?Xe.minor.ticklen:Xe.ticklen,cr=Xe._id.charAt(0),tr=(Xe.linewidth||1)/2;return cr==="x"?"M0,"+(He+tr*Nt)+"v"+ur*Nt:"M"+(He+tr*Nt)+",0h"+ur*Nt},ne.makeLabelFns=function(Xe,He,Nt){var Pt=Xe.ticklabelposition||"",Qt=function(Gn){return Pt.indexOf(Gn)!==-1},ur=Qt("top"),cr=Qt("left"),tr=Qt("right"),zt=Qt("bottom"),or=zt||cr||ur||tr,dr=Qt("inside"),wr=Pt==="inside"&&Xe.ticks==="inside"||!dr&&Xe.ticks==="outside"&&Xe.tickson!=="boundaries",pr=0,Wr=0,Pr=wr?Xe.ticklen:0;if(dr?Pr*=-1:or&&(Pr=0),wr&&(pr+=Pr,Nt)){var Ir=S.deg2rad(Nt);pr=Pr*Math.cos(Ir)+1,Wr=Pr*Math.sin(Ir)}Xe.showticklabels&&(wr||Xe.showline)&&(pr+=.2*Xe.tickfont.size),pr+=(Xe.linewidth||1)/2*(dr?-1:1);var ln={labelStandoff:pr,labelShift:Wr},an,_n,Mn,Sr,Nr=0,Zr=Xe.side,Fr=Xe._id.charAt(0),cn=Xe.tickangle,vn;if(Fr==="x")vn=!dr&&Zr==="bottom"||dr&&Zr==="top",Sr=vn?1:-1,dr&&(Sr*=-1),an=Wr*Sr,_n=He+pr*Sr,Mn=vn?1:-.2,Math.abs(cn)===90&&(dr?Mn+=j:cn===-90&&Zr==="bottom"?Mn=ee:cn===90&&Zr==="top"?Mn=j:Mn=.5,Nr=j/2*(cn/90)),ln.xFn=function(Gn){return Gn.dx+an+Nr*Gn.fontSize},ln.yFn=function(Gn){return Gn.dy+_n+Gn.fontSize*Mn},ln.anchorFn=function(Gn,ua){if(or){if(cr)return"end";if(tr)return"start"}return!L(ua)||ua===0||ua===180?"middle":ua*Sr<0!==dr?"end":"start"},ln.heightFn=function(Gn,ua,wa){return ua<-60||ua>60?-.5*wa:Xe.side==="top"!==dr?-wa:0};else if(Fr==="y"){if(vn=!dr&&Zr==="left"||dr&&Zr==="right",Sr=vn?1:-1,dr&&(Sr*=-1),an=pr,_n=Wr*Sr,Mn=0,!dr&&Math.abs(cn)===90&&(cn===-90&&Zr==="left"||cn===90&&Zr==="right"?Mn=ee:Mn=.5),dr){var Cn=L(cn)?+cn:0;if(Cn!==0){var Rn=S.deg2rad(Cn);Nr=Math.abs(Math.sin(Rn))*ee*Sr,Mn=0}}ln.xFn=function(Gn){return Gn.dx+He-(an+Gn.fontSize*Mn)*Sr+Nr*Gn.fontSize},ln.yFn=function(Gn){return Gn.dy+_n+Gn.fontSize*j},ln.anchorFn=function(Gn,ua){return L(ua)&&Math.abs(ua)===90?"middle":vn?"end":"start"},ln.heightFn=function(Gn,ua,wa){return Xe.side==="right"&&(ua*=-1),ua<-30?-wa:ua<30?-.5*wa:0}}return ln};function Tt(Xe){return[Xe.text,Xe.x,Xe.axInfo,Xe.font,Xe.fontSize,Xe.fontColor].join("_")}ne.drawTicks=function(Xe,He,Nt){Nt=Nt||{};var Pt=He._id+"tick",Qt=[].concat(He.minor&&He.minor.ticks?Nt.vals.filter(function(cr){return cr.minor&&!cr.noTick}):[]).concat(He.ticks?Nt.vals.filter(function(cr){return!cr.minor&&!cr.noTick}):[]),ur=Nt.layer.selectAll("path."+Pt).data(Qt,Tt);ur.exit().remove(),ur.enter().append("path").classed(Pt,1).classed("ticks",1).classed("crisp",Nt.crisp!==!1).each(function(cr){return t.stroke(p.select(this),cr.minor?He.minor.tickcolor:He.tickcolor)}).style("stroke-width",function(cr){return a.crispRound(Xe,cr.minor?He.minor.tickwidth:He.tickwidth,1)+"px"}).attr("d",Nt.path).style("display",null),hr(He,[B]),ur.attr("transform",Nt.transFn)},ne.drawGrid=function(Xe,He,Nt){if(Nt=Nt||{},He.tickmode!=="sync"){var Pt=He._id+"grid",Qt=He.minor&&He.minor.showgrid,ur=Qt?Nt.vals.filter(function(an){return an.minor}):[],cr=He.showgrid?Nt.vals.filter(function(an){return!an.minor}):[],tr=Nt.counterAxis;if(tr&&ne.shouldShowZeroLine(Xe,He,tr))for(var zt=He.tickmode==="array",or=0;or<cr.length;or++){var dr=cr[or].x;if(zt?!dr:Math.abs(dr)<He.dtick/100)if(cr=cr.slice(0,or).concat(cr.slice(or+1)),zt)or--;else break}He._gw=a.crispRound(Xe,He.gridwidth,1);for(var wr=Qt?a.crispRound(Xe,He.minor.gridwidth,1):0,pr=Nt.layer,Wr=Nt.minorLayer,Pr=1;Pr>=0;Pr--){var Ir=Pr?pr:Wr;if(Ir){var ln=Ir.selectAll("path."+Pt).data(Pr?cr:ur,Tt);ln.exit().remove(),ln.enter().append("path").classed(Pt,1).classed("crisp",Nt.crisp!==!1),ln.attr("transform",Nt.transFn).attr("d",Nt.path).each(function(an){return t.stroke(p.select(this),an.minor?He.minor.gridcolor:He.gridcolor||"#ddd")}).style("stroke-dasharray",function(an){return a.dashStyle(an.minor?He.minor.griddash:He.griddash,an.minor?He.minor.gridwidth:He.gridwidth)}).style("stroke-width",function(an){return(an.minor?wr:He._gw)+"px"}).style("display",null),typeof Nt.path=="function"&&ln.attr("d",Nt.path)}}hr(He,[H,F])}},ne.drawZeroLine=function(Xe,He,Nt){Nt=Nt||Nt;var Pt=He._id+"zl",Qt=ne.shouldShowZeroLine(Xe,He,Nt.counterAxis),ur=Nt.layer.selectAll("path."+Pt).data(Qt?[{x:0,id:He._id}]:[]);ur.exit().remove(),ur.enter().append("path").classed(Pt,1).classed("zl",1).classed("crisp",Nt.crisp!==!1).each(function(){Nt.layer.selectAll("path").sort(function(cr,tr){return Q(cr.id,tr.id)})}),ur.attr("transform",Nt.transFn).attr("d",Nt.path).call(t.stroke,He.zerolinecolor||t.defaultLine).style("stroke-width",a.crispRound(Xe,He.zerolinewidth,He._gw||1)+"px").style("display",null),hr(He,[k])},ne.drawLabels=function(Xe,He,Nt){Nt=Nt||{};var Pt=Xe._fullLayout,Qt=He._id,ur=Nt.cls||Qt+"tick",cr=Nt.vals.filter(function(xr){return xr.text}),tr=Nt.labelFns,zt=Nt.secondary?0:He.tickangle,or=(He._prevTickAngles||{})[ur],dr=Nt.layer.selectAll("g."+ur).data(He.showticklabels?cr:[],Tt),wr=[];dr.enter().append("g").classed(ur,1).append("text").attr("text-anchor","middle").each(function(xr){var nn=p.select(this),qr=Xe._promises.length;nn.call(g.positionText,tr.xFn(xr),tr.yFn(xr)).call(a.font,{family:xr.font,size:xr.fontSize,color:xr.fontColor,weight:xr.fontWeight,style:xr.fontStyle,variant:xr.fontVariant,textcase:xr.fontTextcase,lineposition:xr.fontLineposition,shadow:xr.fontShadow}).text(xr.text).call(g.convertToTspans,Xe),Xe._promises[qr]?wr.push(Xe._promises.pop().then(function(){pr(nn,zt)})):pr(nn,zt)}),hr(He,[U]),dr.exit().remove(),Nt.repositionOnUpdate&&dr.each(function(xr){p.select(this).select("text").call(g.positionText,tr.xFn(xr),tr.yFn(xr))});function pr(xr,nn){xr.each(function(qr){var gn=p.select(this),Un=gn.select(".text-math-group"),An=tr.anchorFn(qr,nn),En=Nt.transFn.call(gn.node(),qr)+(L(nn)&&+nn!=0?" rotate("+nn+","+tr.xFn(qr)+","+(tr.yFn(qr)-qr.fontSize/2)+")":""),Vn=g.lineCount(gn),ta=ie*qr.fontSize,ga=tr.heightFn(qr,L(nn)?+nn:0,(Vn-1)*ta);if(ga&&(En+=v(0,ga)),Un.empty()){var Na=gn.select("text");Na.attr({transform:En,"text-anchor":An}),Na.style("opacity",1),He._adjustTickLabelsOverflow&&He._adjustTickLabelsOverflow()}else{var _r=a.bBox(Un.node()).width,Br=_r*{end:-.5,start:.5}[An];Un.attr("transform",En+v(Br,0))}})}He._adjustTickLabelsOverflow=function(){var xr=He.ticklabeloverflow;if(!(!xr||xr==="allow")){var nn=xr.indexOf("hide")!==-1,qr=He._id.charAt(0)==="x",gn=0,Un=qr?Xe._fullLayout.width:Xe._fullLayout.height;if(xr.indexOf("domain")!==-1){var An=S.simpleMap(He.range,He.r2l);gn=He.l2p(An[0])+He._offset,Un=He.l2p(An[1])+He._offset}var En=Math.min(gn,Un),Vn=Math.max(gn,Un),ta=He.side,ga=1/0,Na=-1/0;dr.each(function(Ur){var wn=p.select(this),kn=wn.select(".text-math-group");if(kn.empty()){var xn=a.bBox(wn.node()),hn=0;qr?(xn.right>Vn||xn.left<En)&&(hn=1):(xn.bottom>Vn||xn.top+(He.tickangle?0:Ur.fontSize/4)<En)&&(hn=1);var Cr=wn.select("text");hn?nn&&Cr.style("opacity",0):(Cr.style("opacity",1),ta==="bottom"||ta==="right"?ga=Math.min(ga,qr?xn.top:xn.left):ga=-1/0,ta==="top"||ta==="left"?Na=Math.max(Na,qr?xn.bottom:xn.right):Na=1/0)}});for(var _r in Pt._plots){var Br=Pt._plots[_r];if(!(He._id!==Br.xaxis._id&&He._id!==Br.yaxis._id)){var Mr=qr?Br.yaxis:Br.xaxis;Mr&&(Mr["_visibleLabelMin_"+He._id]=ga,Mr["_visibleLabelMax_"+He._id]=Na)}}}},He._hideCounterAxisInsideTickLabels=function(xr){var nn=He._id.charAt(0)==="x",qr=[];for(var gn in Pt._plots){var Un=Pt._plots[gn];He._id!==Un.xaxis._id&&He._id!==Un.yaxis._id||qr.push(nn?Un.yaxis:Un.xaxis)}qr.forEach(function(An,En){An&&Jt(An)&&(xr||[k,F,H,B,U]).forEach(function(Vn){var ta=Vn.K==="tick"&&Vn.L==="text"&&He.ticklabelmode==="period",ga=Pt._plots[He._mainSubplot],Na;Vn.K===k.K?Na=ga.zerolinelayer.selectAll("."+He._id+"zl"):Vn.K===F.K?Na=ga.minorGridlayer.selectAll("."+He._id):Vn.K===H.K?Na=ga.gridlayer.selectAll("."+He._id):Na=ga[He._id.charAt(0)+"axislayer"],Na.each(function(){var _r=p.select(this);Vn.L&&(_r=_r.selectAll(Vn.L)),_r.each(function(Br){var Mr=He.l2p(ta?Wt(Br):Br.x)+He._offset,Ur=p.select(this);Mr<He["_visibleLabelMax_"+An._id]&&Mr>He["_visibleLabelMin_"+An._id]?Ur.style("display","none"):Vn.K==="tick"&&!En&&Ur.style("display",null)})})})})},pr(dr,or+1?or:zt);function Wr(){return wr.length&&Promise.all(wr)}var Pr=null;function Ir(){if(pr(dr,zt),cr.length&&He.autotickangles&&(He.type!=="log"||String(He.dtick).charAt(0)!=="D")){Pr=He.autotickangles[0];var xr=0,nn=[],qr,gn=1;dr.each(function(Ln){xr=Math.max(xr,Ln.fontSize);var Wn=He.l2p(Ln.x),Hn=br(this),ya=a.bBox(Hn.node());gn=Math.max(gn,g.lineCount(Hn)),nn.push({top:0,bottom:10,height:10,left:Wn-ya.width/2,right:Wn+ya.width/2+2,width:ya.width+2})});var Un=(He.tickson==="boundaries"||He.showdividers)&&!Nt.secondary,An=cr.length,En=Math.abs((cr[An-1].x-cr[0].x)*He._m)/(An-1),Vn=Un?En/2:En,ta=Un?He.ticklen:xr*1.25*gn,ga=Math.sqrt(Math.pow(Vn,2)+Math.pow(ta,2)),Na=Vn/ga,_r=He.autotickangles.map(function(Ln){return Ln*Math.PI/180}),Br=_r.find(function(Ln){return Math.abs(Math.cos(Ln))<=Na});Br===void 0&&(Br=_r.reduce(function(Ln,Wn){return Math.abs(Math.cos(Ln))<Math.abs(Math.cos(Wn))?Ln:Wn},_r[0]));var Mr=Br*(180/Math.PI);if(Un){var Ur=2;for(He.ticks&&(Ur+=He.tickwidth/2),qr=0;qr<nn.length;qr++){var wn=cr[qr].xbnd,kn=nn[qr];if(wn[0]!==null&&kn.left-He.l2p(wn[0])<Ur||wn[1]!==null&&He.l2p(wn[1])-kn.right<Ur){Pr=Mr;break}}}else{var xn=He.ticklabelposition||"",hn=function(Ln){return xn.indexOf(Ln)!==-1},Cr=hn("top"),Qr=hn("left"),Gr=hn("right"),rn=hn("bottom"),Sn=rn||Qr||Cr||Gr,Bn=Sn?(He.tickwidth||0)+2*he:0;for(qr=0;qr<nn.length-1;qr++)if(S.bBoxIntersect(nn[qr],nn[qr+1],Bn)){Pr=Mr;break}}Pr&&pr(dr,Pr)}}He._selections&&(He._selections[ur]=dr);var ln=[Wr];He.automargin&&Pt._redrawFromAutoMarginCount&&or===90?(Pr=or,ln.push(function(){pr(dr,or)})):ln.push(Ir),He._tickAngles&&ln.push(function(){He._tickAngles[ur]=Pr===null?L(zt)?zt:0:Pr});var an=function(){var xr=0,nn=0;return dr.each(function(qr,gn){var Un=br(this),An=Un.select(".text-math-group");if(An.empty()){var En;He._vals[gn]&&(En=He._vals[gn].bb||a.bBox(Un.node()),He._vals[gn].bb=En),xr=Math.max(xr,En.width),nn=Math.max(nn,En.height)}}),{labelsMaxW:xr,labelsMaxH:nn}},_n=He._anchorAxis;if(_n&&(_n.autorange||_n.insiderange)&&Jt(He)&&!te(Pt,He._id)&&(Pt._insideTickLabelsUpdaterange||(Pt._insideTickLabelsUpdaterange={}),_n.autorange&&(Pt._insideTickLabelsUpdaterange[_n._name+".autorange"]=_n.autorange,ln.push(an)),_n.insiderange)){var Mn=an(),Sr=He._id.charAt(0)==="y"?Mn.labelsMaxW:Mn.labelsMaxH;Sr+=2*he,He.ticklabelposition==="inside"&&(Sr+=He.ticklen||0);var Nr=He.side==="right"||He.side==="top"?1:-1,Zr=Nr===1?1:0,Fr=Nr===1?0:1,cn=[];cn[Fr]=_n.range[Fr];var vn=_n.range,Cn=_n.r2p(vn[Zr]),Rn=_n.r2p(vn[Fr]),Gn=Pt._insideTickLabelsUpdaterange[_n._name+".range"];if(Gn){var ua=_n.r2p(Gn[Zr]),wa=_n.r2p(Gn[Fr]),Ma=Nr*(He._id.charAt(0)==="y"?1:-1);Ma*Cn<Ma*ua&&(Cn=ua,cn[Zr]=vn[Zr]=Gn[Zr]),Ma*Rn>Ma*wa&&(Rn=wa,cn[Fr]=vn[Fr]=Gn[Fr])}var Zn=Math.abs(Rn-Cn);Zn-Sr>0?(Zn-=Sr,Sr*=1+Sr/Zn):Sr=0,He._id.charAt(0)!=="y"&&(Sr=-Sr),cn[Zr]=_n.p2r(_n.r2p(vn[Zr])+Nr*Sr),_n.autorange==="min"||_n.autorange==="max reversed"?(cn[0]=null,_n._rangeInitial0=void 0,_n._rangeInitial1=void 0):(_n.autorange==="max"||_n.autorange==="min reversed")&&(cn[1]=null,_n._rangeInitial0=void 0,_n._rangeInitial1=void 0),Pt._insideTickLabelsUpdaterange[_n._name+".range"]=cn}var ea=S.syncOrAsync(ln);return ea&&ea.then&&Xe._promises.push(ea),ea};function Rt(Xe,He,Nt){var Pt=He._id+"divider",Qt=Nt.vals,ur=Nt.layer.selectAll("path."+Pt).data(Qt,Tt);ur.exit().remove(),ur.enter().insert("path",":first-child").classed(Pt,1).classed("crisp",1).call(t.stroke,He.dividercolor).style("stroke-width",a.crispRound(Xe,He.dividerwidth,1)+"px"),ur.attr("transform",Nt.transFn).attr("d",Nt.path)}ne.getPxPosition=function(Xe,He){var Nt=Xe._fullLayout._size,Pt=He._id.charAt(0),Qt=He.side,ur;if(He.anchor!=="free"?ur=He._anchorAxis:Pt==="x"?ur={_offset:Nt.t+(1-(He.position||0))*Nt.h,_length:0}:Pt==="y"&&(ur={_offset:Nt.l+(He.position||0)*Nt.w+He._shift,_length:0}),Qt==="top"||Qt==="left")return ur._offset;if(Qt==="bottom"||Qt==="right")return ur._offset+ur._length};function Zt(Xe){var He=Xe.title.font.size,Nt=(Xe.title.text.match(g.BR_TAG_ALL)||[]).length;return Xe.title.hasOwnProperty("standoff")?He*(ee+Nt*ie):Nt?He*(Nt+1)*ie:He}function mr(Xe,He){var Nt=Xe._fullLayout,Pt=He._id,Qt=Pt.charAt(0),ur=He.title.font.size,cr,tr=(He.title.text.match(g.BR_TAG_ALL)||[]).length;if(He.title.hasOwnProperty("standoff"))He.side==="bottom"||He.side==="right"?cr=He._depth+He.title.standoff+ur*ee:(He.side==="top"||He.side==="left")&&(cr=He._depth+He.title.standoff+ur*(j+tr*ie));else{var zt=Jt(He);if(He.type==="multicategory")cr=He._depth;else{var or=1.5*ur;zt&&(or=.5*ur,He.ticks==="outside"&&(or+=He.ticklen)),cr=10+or+(He.linewidth?He.linewidth-1:0)}zt||(Qt==="x"?cr+=He.side==="top"?ur*(He.showticklabels?1:0):ur*(He.showticklabels?1.5:.5):cr+=He.side==="right"?ur*(He.showticklabels?1:.5):ur*(He.showticklabels?.5:0))}var dr=ne.getPxPosition(Xe,He),wr,pr,Wr;Qt==="x"?(pr=He._offset+He._length/2,Wr=He.side==="top"?dr-cr:dr+cr):(Wr=He._offset+He._length/2,pr=He.side==="right"?dr+cr:dr-cr,wr={rotate:"-90",offset:0});var Pr;if(He.type!=="multicategory"){var Ir=He._selections[He._id+"tick"];if(Pr={selection:Ir,side:He.side},Ir&&Ir.node()&&Ir.node().parentNode){var ln=a.getTranslate(Ir.node().parentNode);Pr.offsetLeft=ln.x,Pr.offsetTop=ln.y}He.title.hasOwnProperty("standoff")&&(Pr.pad=0)}return He._titleStandoff=cr,r.draw(Xe,Pt+"title",{propContainer:He,propName:He._name+".title.text",placeholder:Nt._dfltTitle[Qt],avoid:Pr,transform:wr,attributes:{x:pr,y:Wr,"text-anchor":"middle"}})}ne.shouldShowZeroLine=function(Xe,He,Nt){var Pt=S.simpleMap(He.range,He.r2l);return Pt[0]*Pt[1]<=0&&He.zeroline&&(He.type==="linear"||He.type==="-")&&!(He.rangebreaks&&He.maskBreaks(0)===N)&&(gt(He,0)||!Kt(Xe,He,Nt,Pt)||$t(Xe,He))},ne.clipEnds=function(Xe,He){return He.filter(function(Nt){return gt(Xe,Nt.x)})};function gt(Xe,He){var Nt=Xe.l2p(He);return Nt>1&&Nt<Xe._length-1}function Kt(Xe,He,Nt,Pt){var Qt=Nt._mainAxis;if(!Qt)return;var ur=Xe._fullLayout,cr=He._id.charAt(0),tr=ne.counterLetter(He._id),zt=He._offset+(Math.abs(Pt[0])<Math.abs(Pt[1])==(cr==="x")?0:He._length);function or(Pr){if(!Pr.showline||!Pr.linewidth)return!1;var Ir=Math.max((Pr.linewidth+He.zerolinewidth)/2,1);function ln(Mn){return typeof Mn=="number"&&Math.abs(Mn-zt)<Ir}if(ln(Pr._mainLinePosition)||ln(Pr._mainMirrorPosition))return!0;var an=Pr._linepositions||{};for(var _n in an)if(ln(an[_n][0])||ln(an[_n][1]))return!0}var dr=ur._plots[Nt._mainSubplot];if(!(dr.mainplotinfo||dr).overlays.length)return or(Nt);for(var wr=ne.list(Xe,tr),pr=0;pr<wr.length;pr++){var Wr=wr[pr];if(Wr._mainAxis===Qt&&or(Wr))return!0}}function $t(Xe,He){for(var Nt=Xe._fullData,Pt=He._mainSubplot,Qt=He._id.charAt(0),ur=0;ur<Nt.length;ur++){var cr=Nt[ur];if(cr.visible===!0&&cr.xaxis+cr.yaxis===Pt&&(C.traceIs(cr,"bar-like")&&cr.orientation==={x:"h",y:"v"}[Qt]||cr.fill&&cr.fill.charAt(cr.fill.length-1)===Qt))return!0}return!1}function br(Xe){var He=p.select(Xe),Nt=He.select(".text-math-group");return Nt.empty()?He.select("text"):Nt}ne.allowAutoMargin=function(Xe){for(var He=ne.list(Xe,"",!0),Nt=0;Nt<He.length;Nt++){var Pt=He[Nt];Pt.automargin&&(o.allowAutoMargin(Xe,lr(Pt)),Pt.mirror&&o.allowAutoMargin(Xe,mt(Pt))),C.getComponentMethod("rangeslider","isVisible")(Pt)&&o.allowAutoMargin(Xe,ut(Pt))}};function lr(Xe){return Xe._id+".automargin"}function mt(Xe){return lr(Xe)+".mirror"}function ut(Xe){return Xe._id+".rangeslider"}ne.swap=function(Xe,He){for(var Nt=bt(Xe,He),Pt=0;Pt<Nt.length;Pt++)Dt(Xe,Nt[Pt].x,Nt[Pt].y)};function bt(Xe,He){var Nt=[],Pt,Qt;for(Pt=0;Pt<He.length;Pt++){var ur=[],cr=Xe._fullData[He[Pt]].xaxis,tr=Xe._fullData[He[Pt]].yaxis;if(!(!cr||!tr)){for(Qt=0;Qt<Nt.length;Qt++)(Nt[Qt].x.indexOf(cr)!==-1||Nt[Qt].y.indexOf(tr)!==-1)&&ur.push(Qt);if(!ur.length){Nt.push({x:[cr],y:[tr]});continue}var zt=Nt[ur[0]],or;if(ur.length>1)for(Qt=1;Qt<ur.length;Qt++)or=Nt[ur[Qt]],Et(zt.x,or.x),Et(zt.y,or.y);Et(zt.x,[cr]),Et(zt.y,[tr])}}return Nt}function Et(Xe,He){for(var Nt=0;Nt<He.length;Nt++)Xe.indexOf(He[Nt])===-1&&Xe.push(He[Nt])}function Dt(Xe,He,Nt){var Pt=[],Qt=[],ur=Xe.layout,cr,tr;for(cr=0;cr<He.length;cr++)Pt.push(ne.getFromId(Xe,He[cr]));for(cr=0;cr<Nt.length;cr++)Qt.push(ne.getFromId(Xe,Nt[cr]));var zt=Object.keys(n),or=["anchor","domain","overlaying","position","side","tickangle","editType"],dr=["linear","log"];for(cr=0;cr<zt.length;cr++){var wr=zt[cr],pr=Pt[0][wr],Wr=Qt[0][wr],Pr=!0,Ir=!1,ln=!1;if(!(wr.charAt(0)==="_"||typeof pr=="function"||or.indexOf(wr)!==-1)){for(tr=1;tr<Pt.length&&Pr;tr++){var an=Pt[tr][wr];wr==="type"&&dr.indexOf(pr)!==-1&&dr.indexOf(an)!==-1&&pr!==an?Ir=!0:an!==pr&&(Pr=!1)}for(tr=1;tr<Qt.length&&Pr;tr++){var _n=Qt[tr][wr];wr==="type"&&dr.indexOf(Wr)!==-1&&dr.indexOf(_n)!==-1&&Wr!==_n?ln=!0:Qt[tr][wr]!==Wr&&(Pr=!1)}Pr&&(Ir&&(ur[Pt[0]._name].type="linear"),ln&&(ur[Qt[0]._name].type="linear"),Yt(ur,wr,Pt,Qt,Xe._fullLayout._dfltTitle))}}for(cr=0;cr<Xe._fullLayout.annotations.length;cr++){var Mn=Xe._fullLayout.annotations[cr];He.indexOf(Mn.xref)!==-1&&Nt.indexOf(Mn.yref)!==-1&&S.swapAttrs(ur.annotations[cr],["?"])}}function Yt(Xe,He,Nt,Pt,Qt){var ur=S.nestedProperty,cr=ur(Xe[Nt[0]._name],He).get(),tr=ur(Xe[Pt[0]._name],He).get(),zt;for(He==="title"&&(cr&&cr.text===Qt.x&&(cr.text=Qt.y),tr&&tr.text===Qt.y&&(tr.text=Qt.x)),zt=0;zt<Nt.length;zt++)ur(Xe,Nt[zt]._name+"."+He).set(tr);for(zt=0;zt<Pt.length;zt++)ur(Xe,Pt[zt]._name+"."+He).set(cr)}function Bt(Xe){return Xe._id==="angularaxis"}function Ut(Xe,He){for(var Nt=He._rangebreaks.length,Pt=0;Pt<Nt;Pt++){var Qt=He._rangebreaks[Pt];if(Xe>=Qt.min&&Xe<Qt.max)return Qt.max}return Xe}function Jt(Xe){return(Xe.ticklabelposition||"").indexOf("inside")!==-1}function hr(Xe,He){Jt(Xe._anchorAxis||{})&&Xe._hideCounterAxisInsideTickLabels&&Xe._hideCounterAxisInsideTickLabels(He)}function vr(Xe,He,Nt,Pt){var Qt=Xe.anchor!=="free"&&(Xe.overlaying===void 0||Xe.overlaying===!1)?Xe._id:Xe.overlaying,ur;Pt?ur=Xe.side==="right"?He:-He:ur=He,Qt in Nt||(Nt[Qt]={}),Xe.side in Nt[Qt]||(Nt[Qt][Xe.side]=0),Nt[Qt][Xe.side]+=ur}function gr(Xe,He){return Xe.autoshift?He[Xe.overlaying][Xe.side]:Xe.shift||0}},52976:function(V,Y,e){var p=e(38248),L=e(3400),o=e(39032).BADNUM,C=L.isArrayOrTypedArray,S=L.isDateTime,v=L.cleanNumber,g=Math.round;V.exports=function(y,h,T){var c=y,i=T.noMultiCategory;if(C(c)&&!c.length)return"-";if(!i&&u(c))return"multicategory";if(i&&Array.isArray(c[0])){for(var d=[],x=0;x<c.length;x++)if(C(c[x]))for(var w=0;w<c[x].length;w++)d.push(c[x][w]);c=d}if(a(c,h))return"date";var _=T.autotypenumbers!=="strict";return f(c,_)?"category":t(c,_)?"linear":"-"};function r(l,y){return y?p(l):typeof l=="number"}function t(l,y){for(var h=l.length,T=0;T<h;T++)if(r(l[T],y))return!0;return!1}function a(l,y){for(var h=l.length,T=n(h),c=0,i=0,d={},x=0;x<h;x+=T){var w=g(x),_=l[w],m=String(_);d[m]||(d[m]=1,S(_,y)&&c++,p(_)&&i++)}return c>i*2}function n(l){return Math.max(1,(l-1)/1e3)}function f(l,y){for(var h=l.length,T=n(h),c=0,i=0,d={},x=0;x<h;x+=T){var w=g(x),_=l[w],m=String(_);if(!d[m]){d[m]=1;var E=typeof _;E==="boolean"?i++:(y?v(_)!==o:E==="number")?c++:E==="string"&&i++}}return i>c*2}function u(l){return C(l[0])&&C(l[1])}},28336:function(V,Y,e){var p=e(38248),L=e(24040),o=e(3400),C=e(31780),S=e(51272),v=e(94724),g=e(26332),r=e(25404),t=e(95936),a=e(42568),n=e(22416),f=e(42136),u=e(96312),l=e(78344),y=e(33816).WEEKDAY_PATTERN,h=e(33816).HOUR_PATTERN;V.exports=function(x,w,_,m,E){var A=m.letter,s=m.font||{},M=m.splomStash||{},b=_("visible",!m.visibleDflt),N=w._template||{},k=w.type||N.type||"-",H;if(k==="date"){var F=L.getComponentMethod("calendars","handleDefaults");F(x,w,"calendar",m.calendar),m.noTicklabelmode||(H=_("ticklabelmode"))}var B="";(!m.noTicklabelposition||k==="multicategory")&&(B=o.coerce(x,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:H==="period"?["outside","inside"]:A==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),m.noTicklabeloverflow||_("ticklabeloverflow",B.indexOf("inside")!==-1?"hide past domain":k==="category"||k==="multicategory"?"allow":"hide past div"),l(w,E),u(x,w,_,m),n(x,w,_,m),k!=="category"&&!m.noHover&&_("hoverformat");var U=_("color"),z=U!==v.color.dflt?U:s.color,W=M.label||E._dfltTitle[A];if(a(x,w,_,k,m),!b)return w;_("title.text",W),o.coerceFont(_,"title.font",s,{overrideDflt:{size:o.bigFont(s.size),color:z}}),g(x,w,_,k);var j=m.hasMinor;if(j&&(C.newContainer(w,"minor"),g(x,w,_,k,{isMinor:!0})),t(x,w,_,k,m),r(x,w,_,m),j){var ee=m.isMinor;m.isMinor=!0,r(x,w,_,m),m.isMinor=ee}f(x,w,_,{dfltColor:U,bgColor:m.bgColor,showGrid:m.showGrid,hasMinor:j,attributes:v}),j&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&_("mirror");var ie=k==="multicategory";if(!m.noTickson&&(k==="category"||ie)&&(w.ticks||w.showgrid)){var oe;ie&&(oe="boundaries");var he=_("tickson",oe);he==="boundaries"&&delete w.ticklabelposition}if(ie){var ne=_("showdividers");ne&&(_("dividercolor"),_("dividerwidth"))}if(k==="date")if(S(x,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var q=0;q<w.rangebreaks.length;q++)if(w.rangebreaks[q].pattern===y){w._hasDayOfWeekBreaks=!0;break}if(l(w,E),E._has("scattergl")||E._has("splom"))for(var le=0;le<m.data.length;le++){var Q=m.data[le];(Q.type==="scattergl"||Q.type==="splom")&&(Q.visible=!1,o.warn(Q.type+" traces do not work on axes with rangebreaks. Setting trace "+Q.index+" to `visible: false`."))}}return w};function T(d,x,w){function _(H,F){return o.coerce(d,x,v.rangebreaks,H,F)}var m=_("enabled");if(m){var E=_("bounds");if(E&&E.length>=2){var A="",s,M;if(E.length===2){for(s=0;s<2;s++)if(M=i(E[s]),M){A=y;break}}var b=_("pattern",A);if(b===y)for(s=0;s<2;s++)M=i(E[s]),M&&(x.bounds[s]=E[s]=M-1);if(b)for(s=0;s<2;s++)switch(M=E[s],b){case y:if(!p(M)){x.enabled=!1;return}if(M=+M,M!==Math.floor(M)||M<0||M>=7){x.enabled=!1;return}x.bounds[s]=E[s]=M;break;case h:if(!p(M)){x.enabled=!1;return}if(M=+M,M<0||M>24){x.enabled=!1;return}x.bounds[s]=E[s]=M;break}if(w.autorange===!1){var N=w.range;if(N[0]<N[1]){if(E[0]<N[0]&&E[1]>N[1]){x.enabled=!1;return}}else if(E[0]>N[0]&&E[1]<N[1]){x.enabled=!1;return}}}else{var k=_("values");if(k&&k.length)_("dvalue");else{x.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function i(d){if(typeof d=="string")return c[d.substr(0,3).toLowerCase()]}},29736:function(V,Y,e){var p=e(26880),L=p.FORMAT_LINK,o=p.DATE_FORMAT_LINK;function C(g,r){return{valType:"string",dflt:"",editType:"none",description:(r?S:v)("hover text",g)+["By default the values are formatted using "+(r?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}}function S(g,r){return["Sets the "+g+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function v(g,r){return S(g,r)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}V.exports={axisHoverFormat:C,descriptionOnlyNumbers:S,descriptionWithDates:v}},79811:function(V,Y,e){var p=e(24040),L=e(33816);Y.id2name=function(S){if(!(typeof S!="string"||!S.match(L.AX_ID_PATTERN))){var v=S.split(" ")[0].substr(1);return v==="1"&&(v=""),S.charAt(0)+"axis"+v}},Y.name2id=function(S){if(S.match(L.AX_NAME_PATTERN)){var v=S.substr(5);return v==="1"&&(v=""),S.charAt(0)+v}},Y.cleanId=function(S,v,g){var r=/( domain)$/.test(S);if(!(typeof S!="string"||!S.match(L.AX_ID_PATTERN))&&!(v&&S.charAt(0)!==v)&&!(r&&!g)){var t=S.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),S.charAt(0)+t+(r&&g?" domain":"")}},Y.list=function(C,S,v){var g=C._fullLayout;if(!g)return[];var r=Y.listIds(C,S),t=new Array(r.length),a;for(a=0;a<r.length;a++){var n=r[a];t[a]=g[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var f=g._subplots.gl3d||[];for(a=0;a<f.length;a++){var u=g[f[a]];S?t.push(u[S+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},Y.listIds=function(C,S){var v=C._fullLayout;if(!v)return[];var g=v._subplots;return S?g[S+"axis"]:g.xaxis.concat(g.yaxis)},Y.getFromId=function(C,S,v){var g=C._fullLayout;return S=S===void 0||typeof S!="string"?S:S.replace(" domain",""),v==="x"?S=S.replace(/y[0-9]*/,""):v==="y"&&(S=S.replace(/x[0-9]*/,"")),g[Y.id2name(S)]},Y.getFromTrace=function(C,S,v){var g=C._fullLayout,r=null;if(p.traceIs(S,"gl3d")){var t=S.scene;t.substr(0,5)==="scene"&&(r=g[t][v+"axis"])}else r=Y.getFromId(C,S[v+"axis"]||v);return r},Y.idSort=function(C,S){var v=C.charAt(0),g=S.charAt(0);return v!==g?v>g?1:-1:+(C.substr(1)||1)-+(S.substr(1)||1)},Y.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function o(C,S){if(S&&S.length){for(var v=0;v<S.length;v++)if(S[v][C])return!0}return!1}Y.isLinked=function(C,S){return o(S,C._axisMatchGroups)||o(S,C._axisConstraintGroups)}},22416:function(V,Y,e){var p=e(38116).isTypedArraySpec;function L(o,C){var S=C.dataAttr||o._id.charAt(0),v={},g,r,t;if(C.axData)g=C.axData;else for(g=[],r=0;r<C.data.length;r++){var a=C.data[r];a[S+"axis"]===o._id&&g.push(a)}for(r=0;r<g.length;r++){var n=g[r][S];for(t=0;t<n.length;t++){var f=n[t];f!=null&&(v[f]=1)}}return Object.keys(v)}V.exports=function(C,S,v,g){if(S.type==="category"){var r=C.categoryarray,t=Array.isArray(r)&&r.length>0||p(r),a;t&&(a="array");var n=v("categoryorder",a),f;n==="array"&&(f=v("categoryarray")),!t&&n==="array"&&(n=S.categoryorder="trace"),n==="trace"?S._initialCategories=[]:n==="array"?S._initialCategories=f.slice():(f=L(S,g).sort(),n==="category ascending"?S._initialCategories=f:n==="category descending"&&(S._initialCategories=f.reverse()))}}},98728:function(V,Y,e){var p=e(38248),L=e(3400),o=e(39032),C=o.ONEDAY,S=o.ONEWEEK;Y.dtick=function(v,g){var r=g==="log",t=g==="date",a=g==="category",n=t?C:1;if(!v)return n;if(p(v))return v=Number(v),v<=0?n:a?Math.max(1,Math.round(v)):t?Math.max(.1,v):v;if(typeof v!="string"||!(t||r))return n;var f=v.charAt(0),u=v.substr(1);return u=p(u)?Number(u):0,u<=0||!(t&&f==="M"&&u===Math.round(u)||r&&f==="L"||r&&f==="D"&&(u===1||u===2))?n:v},Y.tick0=function(v,g,r,t){if(g==="date")return L.cleanDate(v,L.dateTick0(r,t%S===0?1:0));if(!(t==="D1"||t==="D2"))return p(v)?Number(v):0}},33816:function(V,Y,e){var p=e(53756).counter;V.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(V,Y,e){var p=e(3400),L=e(19280),o=e(79811).id2name,C=e(94724),S=e(21160),v=e(78344),g=e(39032).ALMOST_EQUAL,r=e(84284).FROM_BL;Y.handleDefaults=function(h,T,c){var i=c.axIds,d=c.axHasImage,x=T._axisConstraintGroups=[],w=T._axisMatchGroups=[],_,m,E,A,s,M,b,N;for(_=0;_<i.length;_++)A=o(i[_]),s=h[A],M=T[A],t(s,M,{axIds:i,layoutOut:T,hasImage:d[A]});function k(ie,oe){for(_=0;_<ie.length;_++){m=ie[_];for(E in m)T[o(E)][oe]=m}}for(k(w,"_matchGroup"),_=0;_<x.length;_++){m=x[_];for(E in m)if(M=T[o(E)],M.fixedrange){for(var H in m){var F=o(H);(h[F]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),T[F].fixedrange=!0}break}}for(_=0;_<x.length;){m=x[_];for(E in m){M=T[o(E)],M._matchGroup&&Object.keys(M._matchGroup).length===Object.keys(m).length&&(x.splice(_,1),_--);break}_++}k(x,"_constraintGroup");var B=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],U=!1,z=!1;function W(){N=M[b],b==="rangebreaks"&&(z=M._hasDayOfWeekBreaks)}for(_=0;_<w.length;_++){m=w[_];for(var j=0;j<B.length;j++){b=B[j],N=null;var ee;for(E in m)if(A=o(E),s=h[A],M=T[A],b in M){if(!M.matches&&(ee=M,b in s)){W();break}N===null&&b in s&&W()}if(b==="range"&&N&&s.range&&s.range.length===2&&s.range[0]!==null&&s.range[1]!==null&&(U=!0),b==="autorange"&&N===null&&U&&(N=!1),N===null&&b in ee&&(N=ee[b]),N!==null)for(E in m)M=T[o(E)],M[b]=b==="range"?N.slice():N,b==="rangebreaks"&&(M._hasDayOfWeekBreaks=z,v(M,T))}}};function t(h,T,c){var i=c.axIds,d=c.layoutOut,x=c.hasImage,w=d._axisConstraintGroups,_=d._axisMatchGroups,m=T._id,E=m.charAt(0),A=((d._splomAxes||{})[E]||{})[m]||{},s=T._id,M=s.charAt(0)==="x";T._matchGroup=null,T._constraintGroup=null;function b(q,le){return p.coerce(h,T,C,q,le)}b("constrain",x?"domain":"range"),p.coerce(h,T,{constraintoward:{valType:"enumerated",values:M?["left","center","right"]:["bottom","middle","top"],dflt:M?"center":"middle"}},"constraintoward");var N=T.type,k,H,F=[];for(k=0;k<i.length;k++)if(H=i[k],H!==s){var B=d[o(H)];B.type===N&&F.push(H)}var U=n(w,s);if(U){var z=[];for(k=0;k<F.length;k++)H=F[k],U[H]||z.push(H);F=z}var W=F.length,j,ee;W&&(h.matches||A.matches)&&(j=p.coerce(h,T,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(A.matches)!==-1?A.matches:void 0}},"matches"));var ie=x&&!M?T.anchor:void 0;if(W&&!j&&(h.scaleanchor||ie)&&(ee=p.coerce(h,T,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",ie)),j){T._matchGroup=f(_,s,j,1);var oe=d[o(j)],he=a(d,T)/a(d,oe);M!==(j.charAt(0)==="x")&&(he=(M?"x":"y")+he),f(w,s,j,he)}else h.matches&&i.indexOf(h.matches)!==-1&&p.warn("ignored "+T._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(ee){var ne=b("scaleratio");ne||(ne=T.scaleratio=1),f(w,s,ee,ne)}else h.scaleanchor&&i.indexOf(h.scaleanchor)!==-1&&p.warn("ignored "+T._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(h,T){var c=T.domain;return c||(c=h[o(T.overlaying)].domain),c[1]-c[0]}function n(h,T){for(var c=0;c<h.length;c++)if(h[c][T])return h[c];return null}function f(h,T,c,i){var d,x,w,_,m,E=n(h,T);E===null?(E={},E[T]=1,m=h.length,h.push(E)):m=h.indexOf(E);var A=Object.keys(E);for(d=0;d<h.length;d++)if(w=h[d],d!==m&&w[c]){var s=w[c];for(x=0;x<A.length;x++)_=A[x],w[_]=u(s,u(i,E[_]));h.splice(m,1);return}if(i!==1)for(x=0;x<A.length;x++){var M=A[x];E[M]=u(i,E[M])}E[c]=1}function u(h,T){var c="",i="",d,x;typeof h=="string"&&(c=h.match(/^[xy]*/)[0],d=c.length,h=+h.substr(d)),typeof T=="string"&&(i=T.match(/^[xy]*/)[0],x=i.length,T=+T.substr(x));var w=h*T;return!d&&!x?w:!d||!x||c.charAt(0)===i.charAt(0)?c+i+h*T:d===x?w:(d>x?c.substr(x):i.substr(d))+w}function l(h,T){for(var c=T._size,i=c.h/c.w,d={},x=Object.keys(h),w=0;w<x.length;w++){var _=x[w],m=h[_];if(typeof m=="string"){var E=m.match(/^[xy]*/)[0],A=E.length;m=+m.substr(A);for(var s=E.charAt(0)==="y"?i:1/i,M=0;M<A;M++)m*=s}d[_]=m}return d}Y.enforce=function(T){var c=T._fullLayout,i=c._axisConstraintGroups||[],d,x,w,_,m,E,A,s;for(d=0;d<i.length;d++){w=l(i[d],c);var M=Object.keys(w),b=1/0,N=0,k=1/0,H={},F={},B=!1;for(x=0;x<M.length;x++)_=M[x],F[_]=m=c[o(_)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),H[_]=E=Math.abs(m._m)/w[_],b=Math.min(b,E),(m.constrain==="domain"||!m._constraintShrinkable)&&(k=Math.min(k,E)),delete m._constraintShrinkable,N=Math.max(N,E),m.constrain==="domain"&&(B=!0);if(!(b>g*N&&!B)){for(x=0;x<M.length;x++)if(_=M[x],E=H[_],m=F[_],A=m.constrain,E!==k||A==="domain")if(s=E/k,A==="range")S(m,s);else{var U=m._inputDomain,z=(m.domain[1]-m.domain[0])/(U[1]-U[0]),W=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(s/=z,s*W<1){m.domain=m._input.domain=U.slice(),S(m,s);continue}if(W<1&&(m.range=m._input.range=m._inputRange.slice(),s*=W),m.autorange){var j=m.r2l(m.range[0]),ee=m.r2l(m.range[1]),ie=(j+ee)/2,oe=ie,he=ie,ne=Math.abs(ee-ie),q=ie-ne*s*1.0001,le=ie+ne*s*1.0001,Q=L.makePadFn(c,m,0),te=L.makePadFn(c,m,1);y(m,s);var ue=Math.abs(m._m),J=L.concatExtremes(T,m),K=J.min,ce=J.max,ae,de;for(de=0;de<K.length;de++)ae=K[de].val-Q(K[de])/ue,ae>q&&ae<oe&&(oe=ae);for(de=0;de<ce.length;de++)ae=ce[de].val+te(ce[de])/ue,ae<le&&ae>he&&(he=ae);var be=(he-oe)/(2*ne);s/=be,oe=m.l2r(oe),he=m.l2r(he),m.range=m._input.range=j<ee?[oe,he]:[he,oe]}y(m,s)}}}},Y.getAxisGroup=function(T,c){for(var i=T._axisMatchGroups,d=0;d<i.length;d++){var x=i[d];if(x[c])return"g"+d}return c},Y.clean=function(T,c){if(c._inputDomain){for(var i=!1,d=c._id,x=T._fullLayout._axisConstraintGroups,w=0;w<x.length;w++)if(x[w][d]){i=!0;break}(!i||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function y(h,T){var c=h._inputDomain,i=r[h.constraintoward],d=c[0]+(c[1]-c[0])*i;h.domain=h._input.domain=[d+(c[0]-d)/T,d+(c[1]-d)/T],h.setScale()}},51184:function(V,Y,e){var p=e(33428),L=e(3400),o=L.numberFormat,C=e(49760),S=e(89184),v=e(24040),g=L.strTranslate,r=e(72736),t=e(76308),a=e(43616),n=e(93024),f=e(54460),u=e(93972),l=e(86476),y=e(72760),h=y.selectingOrDrawing,T=y.freeMode,c=e(84284).FROM_TL,i=e(73696),d=e(39172).redrawReglTraces,x=e(7316),w=e(79811).getFromId,_=e(22676).prepSelect,m=e(22676).clearOutline,E=e(22676).selectOnClick,A=e(21160),s=e(33816),M=s.MINDRAG,b=s.MINZOOM,N=!0;function k(ae,de,be,Se,Te,Ie,ke,Be){var Me=ae._fullLayout._zoomlayer,Oe=ke+Be==="nsew",_e=(ke+Be).length===1,Ne,Ce,Ye,rt,ot,$e,qe,ht,vt,pt,wt,Mt,nt,Fe,We,Ze,Ge,Pe,Re,je,De,ge,we;be+=de.yaxis._shift;function Ue(){if(Ne=de.xaxis,Ce=de.yaxis,vt=Ne._length,pt=Ce._length,qe=Ne._offset,ht=Ce._offset,Ye={},Ye[Ne._id]=Ne,rt={},rt[Ce._id]=Ce,ke&&Be)for(var tr=de.overlays,zt=0;zt<tr.length;zt++){var or=tr[zt].xaxis;Ye[or._id]=or;var dr=tr[zt].yaxis;rt[dr._id]=dr}ot=ce(Ye),$e=ce(rt),nt=B(ot,Be),Fe=B($e,ke),We=!Fe&&!nt,Mt=J(ae,ae._fullLayout._axisMatchGroups,Ye,rt),wt=J(ae,ae._fullLayout._axisConstraintGroups,Ye,rt,Mt);var wr=wt.isSubplotConstrained||Mt.isSubplotConstrained;Ze=Be||wr,Ge=ke||wr;var pr=ae._fullLayout;Pe=pr._has("scattergl"),Re=pr._has("splom"),je=pr._has("svg")}Ue();var et=ee(Fe+nt,ae._fullLayout.dragmode,Oe),st=F(de,ke+Be+"drag",et,be,Se,Te,Ie);if(We&&!Oe)return st.onmousedown=null,st.style.pointerEvents="none",st;var lt={element:st,gd:ae,plotinfo:de};lt.prepFn=function(tr,zt,or){var dr=lt.dragmode,wr=ae._fullLayout.dragmode;wr!==dr&&(lt.dragmode=wr),Ue(),ge=ae._fullLayout._invScaleX,we=ae._fullLayout._invScaleY,We||(Oe?tr.shiftKey?wr==="pan"?wr="zoom":h(wr)||(wr="pan"):tr.ctrlKey&&(wr="pan"):wr="pan"),T(wr)?lt.minDrag=1:lt.minDrag=void 0,h(wr)?(lt.xaxes=ot,lt.yaxes=$e,_(tr,zt,or,lt,wr)):(lt.clickFn=jt,h(dr)&&Wt(),We||(wr==="zoom"?(lt.moveFn=bt,lt.doneFn=Dt,lt.minDrag=1,ut(tr,zt,or)):wr==="pan"&&(lt.moveFn=vr,lt.doneFn=Nt))),ae._fullLayout._redrag=function(){var pr=ae._dragdata;if(pr&&pr.element===st){var Wr=ae._fullLayout.dragmode;h(Wr)||(Ue(),Pt([0,0,vt,pt]),lt.moveFn(pr.dx,pr.dy))}}};function Wt(){lt.plotinfo.selection=!1,m(ae)}function jt(tr,zt){var or=lt.gd;if(or._fullLayout._activeShapeIndex>=0){or._fullLayout._deactivateShape(or);return}var dr=or._fullLayout.clickmode;if(q(or),tr===2&&!_e&&He(),Oe)dr.indexOf("select")>-1&&E(zt,or,ot,$e,de.id,lt),dr.indexOf("event")>-1&&n.click(or,zt,de.id);else if(tr===1&&_e){var wr=ke?Ce:Ne,pr=ke==="s"||Be==="w"?0:1,Wr=wr._name+".range["+pr+"]",Pr=U(wr,pr),Ir="left",ln="middle";if(wr.fixedrange)return;ke?(ln=ke==="n"?"top":"bottom",wr.side==="right"&&(Ir="right")):Be==="e"&&(Ir="right"),or._context.showAxisRangeEntryBoxes&&p.select(st).call(r.makeEditable,{gd:or,immediate:!0,background:or._fullLayout.paper_bgcolor,text:String(Pr),fill:wr.tickfont?wr.tickfont.color:"#444",horizontalAlign:Ir,verticalAlign:ln}).on("edit",function(an){var _n=wr.d2r(an);_n!==void 0&&v.call("_guiRelayout",or,Wr,_n)})}}l.init(lt);var Tt,Rt,Zt,mr,gt,Kt,$t,br,lr,mt;function ut(tr,zt,or){var dr=st.getBoundingClientRect();Tt=zt-dr.left,Rt=or-dr.top,ae._fullLayout._calcInverseTransform(ae);var wr=L.apply3DTransform(ae._fullLayout._invTransform)(Tt,Rt);Tt=wr[0],Rt=wr[1],Zt={l:Tt,r:Tt,w:0,t:Rt,b:Rt,h:0},mr=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:C(ae._fullLayout.plot_bgcolor).getLuminance(),gt="M0,0H"+vt+"V"+pt+"H0V0",Kt=!1,$t="xy",mt=!1,br=ie(Me,mr,qe,ht,gt),lr=oe(Me,qe,ht)}function bt(tr,zt){if(ae._transitioningWithDuration)return!1;var or=Math.max(0,Math.min(vt,ge*tr+Tt)),dr=Math.max(0,Math.min(pt,we*zt+Rt)),wr=Math.abs(or-Tt),pr=Math.abs(dr-Rt);Zt.l=Math.min(Tt,or),Zt.r=Math.max(Tt,or),Zt.t=Math.min(Rt,dr),Zt.b=Math.max(Rt,dr);function Wr(){$t="",Zt.r=Zt.l,Zt.t=Zt.b,lr.attr("d","M0,0Z")}if(wt.isSubplotConstrained)wr>b||pr>b?($t="xy",wr/vt>pr/pt?(pr=wr*pt/vt,Rt>dr?Zt.t=Rt-pr:Zt.b=Rt+pr):(wr=pr*vt/pt,Tt>or?Zt.l=Tt-wr:Zt.r=Tt+wr),lr.attr("d",ue(Zt))):Wr();else if(Mt.isSubplotConstrained)if(wr>b||pr>b){$t="xy";var Pr=Math.min(Zt.l/vt,(pt-Zt.b)/pt),Ir=Math.max(Zt.r/vt,(pt-Zt.t)/pt);Zt.l=Pr*vt,Zt.r=Ir*vt,Zt.b=(1-Pr)*pt,Zt.t=(1-Ir)*pt,lr.attr("d",ue(Zt))}else Wr();else!Fe||pr<Math.min(Math.max(wr*.6,M),b)?wr<M||!nt?Wr():(Zt.t=0,Zt.b=pt,$t="x",lr.attr("d",Q(Zt,Rt))):!nt||wr<Math.min(pr*.6,b)?(Zt.l=0,Zt.r=vt,$t="y",lr.attr("d",te(Zt,Tt))):($t="xy",lr.attr("d",ue(Zt)));Zt.w=Zt.r-Zt.l,Zt.h=Zt.b-Zt.t,$t&&(mt=!0),ae._dragged=mt,he(br,lr,Zt,gt,Kt,mr),Et(),ae.emit("plotly_relayouting",De),Kt=!0}function Et(){De={},($t==="xy"||$t==="x")&&(z(ot,Zt.l/vt,Zt.r/vt,De,wt.xaxes),gr("x",De)),($t==="xy"||$t==="y")&&(z($e,(pt-Zt.b)/pt,(pt-Zt.t)/pt,De,wt.yaxes),gr("y",De))}function Dt(){Et(),q(ae),Nt(),le(ae)}var Yt=[0,0,vt,pt],Bt=null,Ut=s.REDRAWDELAY,Jt=de.mainplot?ae._fullLayout._plots[de.mainplot]:de;function hr(tr){if(!ae._context._scrollZoom.cartesian&&!ae._fullLayout._enablescrollzoom)return;if(Wt(),ae._transitioningWithDuration){tr.preventDefault(),tr.stopPropagation();return}Ue(),clearTimeout(Bt);var zt=-tr.deltaY;if(isFinite(zt)||(zt=tr.wheelDelta/10),!isFinite(zt)){L.log("Did not find wheel motion attributes: ",tr);return}var or=Math.exp(-Math.min(Math.max(zt,-20),20)/200),dr=Jt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),wr=(tr.clientX-dr.left)/dr.width,pr=(dr.bottom-tr.clientY)/dr.height,Wr;function Pr(Ir,ln,an){if(Ir.fixedrange)return;var _n=L.simpleMap(Ir.range,Ir.r2l),Mn=_n[0]+(_n[1]-_n[0])*ln;function Sr(Nr){return Ir.l2r(Mn+(Nr-Mn)*an)}Ir.range=_n.map(Sr)}if(Ze){for(Be||(wr=.5),Wr=0;Wr<ot.length;Wr++)Pr(ot[Wr],wr,or);gr("x"),Yt[2]*=or,Yt[0]+=Yt[2]*wr*(1/or-1)}if(Ge){for(ke||(pr=.5),Wr=0;Wr<$e.length;Wr++)Pr($e[Wr],pr,or);gr("y"),Yt[3]*=or,Yt[1]+=Yt[3]*(1-pr)*(1/or-1)}Pt(Yt),Xe(),ae.emit("plotly_relayouting",De),Bt=setTimeout(function(){ae._fullLayout&&(Yt=[0,0,vt,pt],Nt())},Ut),tr.preventDefault()}ke.length*Be.length!==1&&K(st,hr);function vr(tr,zt){if(tr=tr*ge,zt=zt*we,ae._transitioningWithDuration)return;if(ae._fullLayout._replotting=!0,nt==="ew"||Fe==="ns"){var or=nt?-tr:0,dr=Fe?-zt:0;if(Mt.isSubplotConstrained){if(nt&&Fe){var wr=(tr/vt-zt/pt)/2;tr=wr*vt,zt=-wr*pt,or=-tr,dr=-zt}Fe?or=-dr*vt/pt:dr=-or*pt/vt}nt&&(W(ot,tr),gr("x")),Fe&&(W($e,zt),gr("y")),Pt([or,dr,vt,pt]),Xe(),ae.emit("plotly_relayouting",De);return}function pr(Sr,Nr,Zr){for(var Fr=1-Nr,cn,vn,Cn=0;Cn<Sr.length;Cn++){var Rn=Sr[Cn];if(!Rn.fixedrange){cn=Rn,vn=Rn._rl[Fr]+(Rn._rl[Nr]-Rn._rl[Fr])/j(Zr/Rn._length);var Gn=Rn.l2r(vn);Gn!==!1&&Gn!==void 0&&(Rn.range[Nr]=Gn)}}return cn._length*(cn._rl[Nr]-vn)/(cn._rl[Nr]-cn._rl[Fr])}var Wr=nt==="w"==(Fe==="n")?1:-1;if(nt&&Fe&&(wt.isSubplotConstrained||Mt.isSubplotConstrained)){var Pr=(tr/vt+Wr*zt/pt)/2;tr=Pr*vt,zt=Wr*Pr*pt}var Ir,ln;if(nt==="w"?tr=pr(ot,0,tr):nt==="e"?tr=pr(ot,1,-tr):nt||(tr=0),Fe==="n"?zt=pr($e,1,zt):Fe==="s"?zt=pr($e,0,-zt):Fe||(zt=0),Ir=nt==="w"?tr:0,ln=Fe==="n"?zt:0,wt.isSubplotConstrained&&!Mt.isSubplotConstrained||Mt.isSubplotConstrained&&nt&&Fe&&Wr>0){var an;if(Mt.isSubplotConstrained||!nt&&Fe.length===1){for(an=0;an<ot.length;an++)ot[an].range=ot[an]._r.slice(),A(ot[an],1-zt/pt);tr=zt*vt/pt,Ir=tr/2}if(Mt.isSubplotConstrained||!Fe&&nt.length===1){for(an=0;an<$e.length;an++)$e[an].range=$e[an]._r.slice(),A($e[an],1-tr/vt);zt=tr*pt/vt,ln=zt/2}}(!Mt.isSubplotConstrained||!Fe)&&gr("x"),(!Mt.isSubplotConstrained||!nt)&&gr("y");var _n=vt-tr,Mn=pt-zt;Mt.isSubplotConstrained&&!(nt&&Fe)&&(nt?(ln=Ir?0:tr*pt/vt,Mn=_n*pt/vt):(Ir=ln?0:zt*vt/pt,_n=Mn*vt/pt)),Pt([Ir,ln,_n,Mn]),Xe(),ae.emit("plotly_relayouting",De)}function gr(tr,zt){for(var or=Mt.isSubplotConstrained?{x:$e,y:ot}[tr]:Mt[tr+"axes"],dr=Mt.isSubplotConstrained?{x:ot,y:$e}[tr]:[],wr=0;wr<or.length;wr++){var pr=or[wr],Wr=pr._id,Pr=Mt.xLinks[Wr]||Mt.yLinks[Wr],Ir=dr[0]||Ye[Pr]||rt[Pr];Ir&&(zt?(zt[pr._name+".range[0]"]=zt[Ir._name+".range[0]"],zt[pr._name+".range[1]"]=zt[Ir._name+".range[1]"]):pr.range=Ir.range.slice())}}function Xe(){var tr=[],zt;function or(Wr){for(zt=0;zt<Wr.length;zt++)Wr[zt].fixedrange||tr.push(Wr[zt]._id)}function dr(Wr,Pr){for(zt=0;zt<Wr.length;zt++){var Ir=Wr[zt],ln=Ir[Pr];!Ir.fixedrange&&ln.tickmode==="sync"&&tr.push(ln._id)}}for(Ze&&(or(ot),or(wt.xaxes),or(Mt.xaxes),dr(de.overlays,"xaxis")),Ge&&(or($e),or(wt.yaxes),or(Mt.yaxes),dr(de.overlays,"yaxis")),De={},zt=0;zt<tr.length;zt++){var wr=tr[zt],pr=w(ae,wr);f.drawOne(ae,pr,{skipTitle:!0}),De[pr._name+".range[0]"]=pr.range[0],De[pr._name+".range[1]"]=pr.range[1]}f.redrawComponents(ae,tr)}function He(){if(!ae._transitioningWithDuration){var tr=ae._context.doubleClick,zt=[];nt&&(zt=zt.concat(ot)),Fe&&(zt=zt.concat($e)),Mt.xaxes&&(zt=zt.concat(Mt.xaxes)),Mt.yaxes&&(zt=zt.concat(Mt.yaxes));var or={},dr,wr;if(tr==="reset+autosize")for(tr="autosize",wr=0;wr<zt.length;wr++){dr=zt[wr];var pr=dr._rangeInitial0,Wr=dr._rangeInitial1,Pr=pr!==void 0||Wr!==void 0;if(Pr&&(pr!==void 0&&pr!==dr.range[0]||Wr!==void 0&&Wr!==dr.range[1])||!Pr&&dr.autorange!==!0){tr="reset";break}}if(tr==="autosize")for(wr=0;wr<zt.length;wr++)dr=zt[wr],dr.fixedrange||(or[dr._name+".autorange"]=!0);else if(tr==="reset"){for((nt||wt.isSubplotConstrained)&&(zt=zt.concat(wt.xaxes)),Fe&&!wt.isSubplotConstrained&&(zt=zt.concat(wt.yaxes)),wt.isSubplotConstrained&&(nt?Fe||(zt=zt.concat($e)):zt=zt.concat(ot)),wr=0;wr<zt.length;wr++)if(dr=zt[wr],!dr.fixedrange){var Ir=dr._name,ln=dr._autorangeInitial;dr._rangeInitial0===void 0&&dr._rangeInitial1===void 0?or[Ir+".autorange"]=!0:dr._rangeInitial0===void 0?(or[Ir+".autorange"]=ln,or[Ir+".range"]=[null,dr._rangeInitial1]):dr._rangeInitial1===void 0?(or[Ir+".range"]=[dr._rangeInitial0,null],or[Ir+".autorange"]=ln):or[Ir+".range"]=[dr._rangeInitial0,dr._rangeInitial1]}}ae.emit("plotly_doubleclick",null),v.call("_guiRelayout",ae,or)}}function Nt(){Pt([0,0,vt,pt]),L.syncOrAsync([x.previousPromises,function(){ae._fullLayout._replotting=!1,v.call("_guiRelayout",ae,De)}],ae)}function Pt(tr){var zt=ae._fullLayout,or=zt._plots,dr=zt._subplots.cartesian,wr,pr,Wr,Pr;if(Re&&v.subplotsRegistry.splom.drag(ae),Pe){for(wr=0;wr<dr.length;wr++)if(pr=or[dr[wr]],Wr=pr.xaxis,Pr=pr.yaxis,pr._scene){var Ir=L.simpleMap(Wr.range,Wr.r2l),ln=L.simpleMap(Pr.range,Pr.r2l);Wr.limitRange&&Wr.limitRange(),Pr.limitRange&&Pr.limitRange(),Ir=Wr.range,ln=Pr.range,pr._scene.update({range:[Ir[0],ln[0],Ir[1],ln[1]]})}}if((Re||Pe)&&(i(ae),d(ae)),je){var an=tr[2]/Ne._length,_n=tr[3]/Ce._length;for(wr=0;wr<dr.length;wr++){pr=or[dr[wr]],Wr=pr.xaxis,Pr=pr.yaxis;var Mn=(Ze||Mt.isSubplotConstrained)&&!Wr.fixedrange&&Ye[Wr._id],Sr=(Ge||Mt.isSubplotConstrained)&&!Pr.fixedrange&&rt[Pr._id],Nr,Zr,Fr,cn;if(Mn?(Nr=an,Fr=Be||Mt.isSubplotConstrained?tr[0]:cr(Wr,Nr)):Mt.xaHash[Wr._id]?(Nr=an,Fr=tr[0]*Wr._length/Ne._length):Mt.yaHash[Wr._id]?(Nr=_n,Fr=Fe==="ns"?-tr[1]*Wr._length/Ce._length:cr(Wr,Nr,{n:"top",s:"bottom"}[Fe])):(Nr=Qt(Wr,an,_n),Fr=ur(Wr,Nr)),Nr>1&&(Wr.maxallowed!==void 0&&Ze===(Wr.range[0]<Wr.range[1]?"e":"w")||Wr.minallowed!==void 0&&Ze===(Wr.range[0]<Wr.range[1]?"w":"e"))&&(Nr=1,Fr=0),Sr?(Zr=_n,cn=ke||Mt.isSubplotConstrained?tr[1]:cr(Pr,Zr)):Mt.yaHash[Pr._id]?(Zr=_n,cn=tr[1]*Pr._length/Ce._length):Mt.xaHash[Pr._id]?(Zr=an,cn=nt==="ew"?-tr[0]*Pr._length/Ne._length:cr(Pr,Zr,{e:"right",w:"left"}[nt])):(Zr=Qt(Pr,an,_n),cn=ur(Pr,Zr)),Zr>1&&(Pr.maxallowed!==void 0&&Ge===(Pr.range[0]<Pr.range[1]?"n":"s")||Pr.minallowed!==void 0&&Ge===(Pr.range[0]<Pr.range[1]?"s":"n"))&&(Zr=1,cn=0),!(!Nr&&!Zr)){Nr||(Nr=1),Zr||(Zr=1);var vn=Wr._offset-Fr/Nr,Cn=Pr._offset-cn/Zr;pr.clipRect.call(a.setTranslate,Fr,cn).call(a.setScale,Nr,Zr),pr.plot.call(a.setTranslate,vn,Cn).call(a.setScale,1/Nr,1/Zr),(Nr!==pr.xScaleFactor||Zr!==pr.yScaleFactor)&&(a.setPointGroupScale(pr.zoomScalePts,Nr,Zr),a.setTextPointsScale(pr.zoomScaleTxt,Nr,Zr)),a.hideOutsideRangePoints(pr.clipOnAxisFalseTraces,pr),pr.xScaleFactor=Nr,pr.yScaleFactor=Zr}}}}function Qt(tr,zt,or){return tr.fixedrange?0:Ze&&wt.xaHash[tr._id]?zt:Ge&&(wt.isSubplotConstrained?wt.xaHash:wt.yaHash)[tr._id]?or:0}function ur(tr,zt){return zt?(tr.range=tr._r.slice(),A(tr,zt),cr(tr,zt)):0}function cr(tr,zt,or){return tr._length*(1-zt)*c[or||tr.constraintoward||"middle"]}return st}function H(ae,de,be,Se){var Te=L.ensureSingle(ae.draglayer,de,be,function(Ie){Ie.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return Te.call(u,Se),Te.node()}function F(ae,de,be,Se,Te,Ie,ke){var Be=H(ae,"rect",de,be);return p.select(Be).call(a.setRect,Se,Te,Ie,ke),Be}function B(ae,de){for(var be=0;be<ae.length;be++)if(!ae[be].fixedrange)return de;return""}function U(ae,de){var be=ae.range[de],Se=Math.abs(be-ae.range[1-de]),Te;return ae.type==="date"?be:ae.type==="log"?(Te=Math.ceil(Math.max(0,-Math.log(Se)/Math.LN10))+3,o("."+Te+"g")(Math.pow(10,be))):(Te=Math.floor(Math.log(Math.abs(be))/Math.LN10)-Math.floor(Math.log(Se)/Math.LN10)+4,o("."+String(Te)+"g")(be))}function z(ae,de,be,Se,Te){for(var Ie=0;Ie<ae.length;Ie++){var ke=ae[Ie];if(!ke.fixedrange)if(ke.rangebreaks){var Be=ke._id.charAt(0)==="y",Me=Be?1-de:de,Oe=Be?1-be:be;Se[ke._name+".range[0]"]=ke.l2r(ke.p2l(Me*ke._length)),Se[ke._name+".range[1]"]=ke.l2r(ke.p2l(Oe*ke._length))}else{var _e=ke._rl[0],Ne=ke._rl[1]-_e;Se[ke._name+".range[0]"]=ke.l2r(_e+Ne*de),Se[ke._name+".range[1]"]=ke.l2r(_e+Ne*be)}}if(Te&&Te.length){var Ce=(de+(1-be))/2;z(Te,Ce,1-Ce,Se,[])}}function W(ae,de){for(var be=0;be<ae.length;be++){var Se=ae[be];if(!Se.fixedrange){if(Se.rangebreaks){var Te=0,Ie=Se._length,ke=Se.p2l(Te+de)-Se.p2l(Te),Be=Se.p2l(Ie+de)-Se.p2l(Ie),Me=(ke+Be)/2;Se.range=[Se.l2r(Se._rl[0]-Me),Se.l2r(Se._rl[1]-Me)]}else Se.range=[Se.l2r(Se._rl[0]-de/Se._m),Se.l2r(Se._rl[1]-de/Se._m)];Se.limitRange&&Se.limitRange()}}}function j(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function ee(ae,de,be){return ae?ae==="nsew"?be?"":de==="pan"?"move":"crosshair":ae.toLowerCase()+"-resize":"pointer"}function ie(ae,de,be,Se,Te){return ae.append("path").attr("class","zoombox").style({fill:de>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(be,Se)).attr("d",Te+"Z")}function oe(ae,de,be){return ae.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(de,be)).attr("d","M0,0Z")}function he(ae,de,be,Se,Te,Ie){ae.attr("d",Se+"M"+be.l+","+be.t+"v"+be.h+"h"+be.w+"v-"+be.h+"h-"+be.w+"Z"),ne(ae,de,Te,Ie)}function ne(ae,de,be,Se){be||(ae.transition().style("fill",Se>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),de.transition().style("opacity",1).duration(200))}function q(ae){p.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function le(ae){N&&ae.data&&ae._context.showTips&&(L.notifier(L._(ae,"Double-click to zoom back out"),"long"),N=!1)}function Q(ae,de){return"M"+(ae.l-.5)+","+(de-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(ae.r+.5)+","+(de-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function te(ae,de){return"M"+(de-b-.5)+","+(ae.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(de-b-.5)+","+(ae.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function ue(ae){var de=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,b)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+de)+"h3v"+-de+"h"+de+"v-3h-"+(de+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+de)+"h-3v"+-de+"h"+-de+"v-3h"+(de+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-de)+"h-3v"+de+"h"+-de+"v3h"+(de+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-de)+"h3v"+de+"h"+de+"v3h-"+(de+3)+"Z"}function J(ae,de,be,Se,Te){for(var Ie=!1,ke={},Be={},Me,Oe,_e,Ne,Ce=(Te||{}).xaHash,Ye=(Te||{}).yaHash,rt=0;rt<de.length;rt++){var ot=de[rt];for(Me in be)if(ot[Me]){for(_e in ot)!(Te&&(Ce[_e]||Ye[_e]))&&!(_e.charAt(0)==="x"?be:Se)[_e]&&(ke[_e]=Me);for(Oe in Se)!(Te&&(Ce[Oe]||Ye[Oe]))&&ot[Oe]&&(Ie=!0)}for(Oe in Se)if(ot[Oe])for(Ne in ot)!(Te&&(Ce[Ne]||Ye[Ne]))&&!(Ne.charAt(0)==="x"?be:Se)[Ne]&&(Be[Ne]=Oe)}Ie&&(L.extendFlat(ke,Be),Be={});var $e={},qe=[];for(_e in ke){var ht=w(ae,_e);qe.push(ht),$e[ht._id]=ht}var vt={},pt=[];for(Ne in Be){var wt=w(ae,Ne);pt.push(wt),vt[wt._id]=wt}return{xaHash:$e,yaHash:vt,xaxes:qe,yaxes:pt,xLinks:ke,yLinks:Be,isSubplotConstrained:Ie}}function K(ae,de){if(!S)ae.onwheel!==void 0?ae.onwheel=de:ae.onmousewheel!==void 0?ae.onmousewheel=de:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",de,{passive:!1}));else{var be=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(be,ae._onwheel),ae._onwheel=de,ae.addEventListener(be,de,{passive:!1})}}function ce(ae){var de=[];for(var be in ae)de.push(ae[be]);return de}V.exports={makeDragBox:k,makeDragger:H,makeRectDragger:F,makeZoombox:ie,makeCorners:oe,updateZoombox:he,xyCorners:ue,transitionZoombox:ne,removeZoombox:q,showDoubleClickNotifier:le,attachWheelEventHandler:K}},42464:function(V,Y,e){var p=e(33428),L=e(93024),o=e(86476),C=e(93972),S=e(51184).makeDragBox,v=e(33816).DRAGGERSIZE;Y.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){p.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var a=Object.keys(t._plots||{}).sort(function(f,u){if((t._plots[f].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var l=f.split("y"),y=u.split("y");return l[0]===y[0]?Number(l[1]||1)-Number(y[1]||1):Number(l[0]||1)-Number(y[0]||1)}return t._plots[f].mainplot?1:-1});a.forEach(function(f){var u=t._plots[f],l=u.xaxis,y=u.yaxis;if(!u.mainplot){var h=S(r,u,l._offset,y._offset,l._length,y._length,"ns","ew");h.onmousemove=function(i){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===f&&r._fullLayout._plots[f]&&L.hover(r,i,f)},L.hover(r,i,f),r._fullLayout._lasthover=h,r._fullLayout._hoversubplot=f},h.onmouseout=function(i){r._dragging||(r._fullLayout._hoversubplot=null,o.unhover(r,i))},r._context.showAxisDragHandles&&(S(r,u,l._offset-v,y._offset-v,v,v,"n","w"),S(r,u,l._offset+l._length,y._offset-v,v,v,"n","e"),S(r,u,l._offset-v,y._offset+y._length,v,v,"s","w"),S(r,u,l._offset+l._length,y._offset+y._length,v,v,"s","e"))}if(r._context.showAxisDragHandles){if(f===l._mainSubplot){var T=l._mainLinePosition;l.side==="top"&&(T-=v),S(r,u,l._offset+l._length*.1,T,l._length*.8,v,"","ew"),S(r,u,l._offset,T,l._length*.1,v,"","w"),S(r,u,l._offset+l._length*.9,T,l._length*.1,v,"","e")}if(f===y._mainSubplot){var c=y._mainLinePosition;y.side!=="right"&&(c-=v),S(r,u,c,y._offset+y._length*.1,v,y._length*.8,"ns",""),S(r,u,c,y._offset+y._length*.9,v,y._length*.1,"s",""),S(r,u,c,y._offset,v,y._length*.1,"n","")}}});var n=t._hoverlayer.node();n.onmousemove=function(f){f.target=r._fullLayout._lasthover,L.hover(r,f,t._hoversubplot)},n.onclick=function(f){f.target=r._fullLayout._lasthover,L.click(r,f)},n.onmousedown=function(f){r._fullLayout._lasthover.onmousedown(f)},Y.updateFx(r)}},Y.updateFx=function(g){var r=g._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";C(r._draggers,t)}},36632:function(V,Y,e){var p=e(24040),L=e(3400),o=e(79811);V.exports=function(S){return function(g,r){var t=g[S];if(Array.isArray(t))for(var a=p.subplotsRegistry.cartesian,n=a.idRegex,f=r._subplots,u=f.xaxis,l=f.yaxis,y=f.cartesian,h=r._has("cartesian")||r._has("gl2d"),T=0;T<t.length;T++){var c=t[T];if(L.isPlainObject(c)){var i=o.cleanId(c.xref,"x",!1),d=o.cleanId(c.yref,"y",!1),x=n.x.test(i),w=n.y.test(d);if(x||w){h||L.pushUnique(r._basePlotModules,a);var _=!1;x&&u.indexOf(i)===-1&&(u.push(i),_=!0),w&&l.indexOf(d)===-1&&(l.push(d),_=!0),_&&x&&w&&y.push(i+d)}}}}}},57952:function(V,Y,e){var p=e(33428),L=e(24040),o=e(3400),C=e(7316),S=e(43616),v=e(84888)._M,g=e(79811),r=e(33816),t=e(9616),a=o.ensureSingle;function n(T,c,i){return o.ensureSingle(T,c,i,function(d){d.datum(i)})}Y.name="cartesian",Y.attr=["xaxis","yaxis"],Y.idRoot=["x","y"],Y.idRegex=r.idRegex,Y.attrRegex=r.attrRegex,Y.attributes=e(26720),Y.layoutAttributes=e(94724),Y.supplyLayoutDefaults=e(67352),Y.transitionAxes=e(73736),Y.finalizeSubplots=function(T,c){var i=c._subplots,d=i.xaxis,x=i.yaxis,w=i.cartesian,_=w.concat(i.gl2d||[]),m={},E={},A,s,M;for(A=0;A<_.length;A++){var b=_[A].split("y");m[b[0]]=1,E["y"+b[1]]=1}for(A=0;A<d.length;A++)s=d[A],m[s]||(M=(T[g.id2name(s)]||{}).anchor,r.idRegex.y.test(M)||(M="y"),w.push(s+M),_.push(s+M),E[M]||(E[M]=1,o.pushUnique(x,M)));for(A=0;A<x.length;A++)M=x[A],E[M]||(s=(T[g.id2name(M)]||{}).anchor,r.idRegex.x.test(s)||(s="x"),w.push(s+M),_.push(s+M),m[s]||(m[s]=1,o.pushUnique(d,s)));if(!_.length){s="",M="";for(var N in T)if(r.attrRegex.test(N)){var k=N.charAt(0);k==="x"?(!s||+N.substr(5)<+s.substr(5))&&(s=N):(!M||+N.substr(5)<+M.substr(5))&&(M=N)}s=s?g.name2id(s):"x",M=M?g.name2id(M):"y",d.push(s),x.push(M),w.push(s+M)}},Y.plot=function(T,c,i,d){var x=T._fullLayout,w=x._subplots.cartesian,_=T.calcdata,m;if(!Array.isArray(c))for(c=[],m=0;m<_.length;m++)c.push(m);for(m=0;m<w.length;m++){for(var E=w[m],A=x._plots[E],s=[],M,b=0;b<_.length;b++){var N=_[b],k=N[0].trace;k.xaxis+k.yaxis===E&&((c.indexOf(k.index)!==-1||k.carpet)&&(M&&M[0].trace.xaxis+M[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(k.fill)!==-1&&s.indexOf(M)===-1&&s.push(M),s.push(N)),M=N)}f(T,A,s,i,d)}};function f(T,c,i,d,x){for(var w=r.traceLayerClasses,_=T._fullLayout,m=_._modules,E,A,s,M={},b=0;b<i.length;b++){var N=i[b][0].trace,k=N.zorder||0;M[k]||(M[k]=[]),M[k].push(i[b])}for(var H=[],F=[],B=Object.keys(M).map(Number).sort(o.sorterAsc),U=0;U<B.length;U++)for(var z=B[U],W=0;W<m.length;W++){E=m[W];var j=E.name,ee=L.modules[j].categories;if(ee.svg){var ie=E.layerName||j+"layer",oe=ie+(U?Number(U)+1:""),he=E.plot;A=v(i,he,z),s=A[0],i=A[1],s.length&&H.push({i:w.indexOf(ie),zorder:U,className:oe,plotMethod:he,cdModule:s}),ee.zoomScale&&F.push("."+oe)}}H.sort(function(le,Q){return(le.zorder||0)-(Q.zorder||0)||le.i-Q.i});var ne=c.plot.selectAll("g.mlayer").data(H,function(le){return le.className});if(ne.enter().append("g").attr("class",function(le){return le.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),ne.exit().remove(),ne.order(),ne.each(function(le){var Q=p.select(this),te=le.className;le.plotMethod(T,c,le.cdModule,Q,d,x),r.clipOnAxisFalseQuery.indexOf("."+te)===-1&&S.setClipUrl(Q,c.layerClipId,T)}),_._has("scattergl")&&(E=L.getModule("scattergl"),s=v(i,E)[0],E.plot(T,c,s)),!T._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),F.length)){var q=c.plot.selectAll(F.join(",")).selectAll(".trace");c.zoomScalePts=q.selectAll("path.point"),c.zoomScaleTxt=q.selectAll(".textpoint")}}Y.clean=function(T,c,i,d){var x=d._plots||{},w=c._plots||{},_=d._subplots||{},m,E,A;if(d._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(A in x)m=x[A],m.plotgroup&&m.plotgroup.remove();var s=d._has&&d._has("gl"),M=c._has&&c._has("gl");if(s&&!M)for(A in x)m=x[A],m._scene&&m._scene.destroy();if(_.xaxis&&_.yaxis){var b=g.listIds({_fullLayout:d});for(E=0;E<b.length;E++){var N=b[E];c[g.id2name(N)]||d._infolayer.selectAll(".g-"+N+"title").remove()}}var k=d._has&&d._has("cartesian"),H=c._has&&c._has("cartesian");if(k&&!H)y(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(_.cartesian)for(E=0;E<_.cartesian.length;E++){var F=_.cartesian[E];if(!w[F]){var B="."+F+",."+F+"-x,."+F+"-y";d._cartesianlayer.selectAll(B).remove(),h(F,d)}}},Y.drawFramework=function(T){var c=T._fullLayout,i=u(T),d=c._cartesianlayer.selectAll(".subplot").data(i,String);d.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),d.order(),d.exit().call(y,c),d.each(function(x){var w=x[0],_=c._plots[w];_.plotgroup=p.select(this),l(T,_),_.draglayer=a(c._draggers,"g",w)})},Y.rangePlot=function(T,c,i){l(T,c),f(T,c,i),C.style(T)};function u(T){var c=T._fullLayout,i=c._subplots.cartesian,d=i.length,x,w,_,m,E,A,s=[],M=[];for(x=0;x<d;x++){_=i[x],m=c._plots[_],E=m.xaxis,A=m.yaxis;var b=E._mainAxis,N=A._mainAxis,k=b._id+N._id,H=c._plots[k];m.overlays=[],k!==_&&H?(m.mainplot=k,m.mainplotinfo=H,M.push(_)):(m.mainplot=void 0,m.mainplotinfo=void 0,s.push(_))}for(x=0;x<M.length;x++)_=M[x],m=c._plots[_],m.mainplotinfo.overlays.push(m);var F=s.concat(M),B=new Array(d);for(x=0;x<d;x++){_=F[x],m=c._plots[_],E=m.xaxis,A=m.yaxis;var U=[_,E.layer,A.layer,E.overlaying||"",A.overlaying||""];for(w=0;w<m.overlays.length;w++)U.push(m.overlays[w].id);B[x]=U}return B}function l(T,c){var i=c.plotgroup,d=c.id,x=r.layerValue2layerClass[c.xaxis.layer],w=r.layerValue2layerClass[c.yaxis.layer],_=T._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var A=c.mainplotinfo,s=A.plotgroup,M=d+"-x",b=d+"-y";c.minorGridlayer=A.minorGridlayer,c.gridlayer=A.gridlayer,c.zerolinelayer=A.zerolinelayer,a(A.overlinesBelow,"path",M),a(A.overlinesBelow,"path",b),a(A.overaxesBelow,"g",M),a(A.overaxesBelow,"g",b),c.plot=a(A.overplot,"g",d),a(A.overlinesAbove,"path",M),a(A.overlinesAbove,"path",b),a(A.overaxesAbove,"g",M),a(A.overaxesAbove,"g",b),c.xlines=s.select(".overlines-"+x).select("."+M),c.ylines=s.select(".overlines-"+w).select("."+b),c.xaxislayer=s.select(".overaxes-"+x).select("."+M),c.yaxislayer=s.select(".overaxes-"+w).select("."+b)}else if(_)c.xlines=a(i,"path","xlines-above"),c.ylines=a(i,"path","ylines-above"),c.xaxislayer=a(i,"g","xaxislayer-above"),c.yaxislayer=a(i,"g","yaxislayer-above");else{var m=a(i,"g","layer-subplot");c.shapelayer=a(m,"g","shapelayer"),c.imagelayer=a(m,"g","imagelayer"),c.minorGridlayer=a(i,"g","minor-gridlayer"),c.gridlayer=a(i,"g","gridlayer"),c.zerolinelayer=a(i,"g","zerolinelayer");var E=a(i,"g","layer-between");c.shapelayerBetween=a(E,"g","shapelayer"),c.imagelayerBetween=a(E,"g","imagelayer"),a(i,"path","xlines-below"),a(i,"path","ylines-below"),c.overlinesBelow=a(i,"g","overlines-below"),a(i,"g","xaxislayer-below"),a(i,"g","yaxislayer-below"),c.overaxesBelow=a(i,"g","overaxes-below"),c.plot=a(i,"g","plot"),c.overplot=a(i,"g","overplot"),c.xlines=a(i,"path","xlines-above"),c.ylines=a(i,"path","ylines-above"),c.overlinesAbove=a(i,"g","overlines-above"),a(i,"g","xaxislayer-above"),a(i,"g","yaxislayer-above"),c.overaxesAbove=a(i,"g","overaxes-above"),c.xlines=i.select(".xlines-"+x),c.ylines=i.select(".ylines-"+w),c.xaxislayer=i.select(".xaxislayer-"+x),c.yaxislayer=i.select(".yaxislayer-"+w)}_||(n(c.minorGridlayer,"g",c.xaxis._id),n(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(N){return N[0]}).sort(g.idSort),n(c.gridlayer,"g",c.xaxis._id),n(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(N){return N[0]}).sort(g.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function y(T,c){if(T){var i={};T.each(function(E){var A=E[0],s=p.select(this);s.remove(),h(A,c),i[A]=!0});for(var d in c._plots)for(var x=c._plots[d],w=x.overlays||[],_=0;_<w.length;_++){var m=w[_];i[m.id]&&m.plot.selectAll(".trace").remove()}}}function h(T,c){c._draggers.selectAll("g."+T).remove(),c._defs.select("#clip"+c._uid+T+"plot").remove()}Y.toSVG=function(T){var c=T._fullLayout._glimages,i=p.select(T).selectAll(".svg-container"),d=i.filter(function(w,_){return _===i.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var w=this,_=w.toDataURL("image/png"),m=c.append("svg:image");m.attr({xmlns:t.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}d.each(x)},Y.updateFx=e(42464).updateFx},94724:function(V,Y,e){var p=e(25376),L=e(22548),o=e(98192).u,C=e(92880).extendFlat,S=e(31780).templatedArray,v=e(29736).descriptionWithDates,g=e(39032).ONEDAY,r=e(33816),t=r.HOUR_PATTERN,a=r.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=C({},n,{values:n.values.slice().concat(["sync"])});function u(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var l={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},T={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=5),A}function i(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var d={valType:"color",dflt:L.defaultLine,editType:"ticks"},x={valType:"color",dflt:L.lightLine,editType:"ticks"};function w(E){var A={valType:"number",min:0,editType:"ticks"};return E||(A.dflt=1),A}var _=C({},o,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};V.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:S("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[a,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:f,nticks:u(),tick0:l,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:T,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:i(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:S("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:x,gridwidth:w(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:u("minor"),tick0:l,dtick:y,tickvals:h,ticks:T,ticklen:c("minor"),tickwidth:i("minor"),tickcolor:d,gridcolor:x,gridwidth:w("minor"),griddash:_,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},67352:function(V,Y,e){var p=e(3400),L=e(76308),o=e(10624).isUnifiedHover,C=e(41008),S=e(31780),v=e(64859),g=e(94724),r=e(14944),t=e(28336),a=e(71888),n=e(37668),f=e(79811),u=f.id2name,l=f.name2id,y=e(33816).AX_ID_PATTERN,h=e(24040),T=h.traceIs,c=h.getComponentMethod;function i(d,x,w){Array.isArray(d[x])?d[x].push(w):d[x]=[w]}V.exports=function(x,w,_){var m=w.autotypenumbers,E={},A={},s={},M={},b={},N={},k={},H={},F={},B={},U,z;for(U=0;U<_.length;U++){var W=_[U];if(!(!T(W,"cartesian")&&!T(W,"gl2d"))){var j;if(W.xaxis)j=u(W.xaxis),i(E,j,W);else if(W.xaxes)for(z=0;z<W.xaxes.length;z++)i(E,u(W.xaxes[z]),W);var ee;if(W.yaxis)ee=u(W.yaxis),i(E,ee,W);else if(W.yaxes)for(z=0;z<W.yaxes.length;z++)i(E,u(W.yaxes[z]),W);if(W.type==="funnel"?W.orientation==="h"?(j&&(A[j]=!0),ee&&(k[ee]=!0)):ee&&(s[ee]=!0):W.type==="image"?(ee&&(H[ee]=!0),j&&(H[j]=!0)):(ee&&(b[ee]=!0,N[ee]=!0),(!T(W,"carpet")||W.type==="carpet"&&!W._cheater)&&j&&(M[j]=!0)),W.type==="carpet"&&W._cheater&&j&&(A[j]=!0),T(W,"2dMap")&&(F[j]=!0,F[ee]=!0),T(W,"oriented")){var ie=W.orientation==="h"?ee:j;B[ie]=!0}}}var oe=w._subplots,he=oe.xaxis,ne=oe.yaxis,q=p.simpleMap(he,u),le=p.simpleMap(ne,u),Q=q.concat(le),te=L.background;he.length&&ne.length&&(te=p.coerce(x,w,v,"plot_bgcolor"));var ue=L.combine(te,w.paper_bgcolor),J,K,ce,ae,de;function be(){var ge=E[J]||[];de._traceIndices=ge.map(function(we){return we._expandedIndex}),de._annIndices=[],de._shapeIndices=[],de._selectionIndices=[],de._imgIndices=[],de._subplotsWith=[],de._counterAxes=[],de._name=de._attr=J,de._id=K}function Se(ge,we){return p.coerce(ae,de,g,ge,we)}function Te(ge,we){return p.coerce2(ae,de,g,ge,we)}function Ie(ge){return ge==="x"?ne:he}function ke(ge,we){for(var Ue=ge==="x"?q:le,et=[],st=0;st<Ue.length;st++){var lt=Ue[st];lt!==we&&!(x[lt]||{}).overlaying&&et.push(l(lt))}return et}var Be={x:Ie("x"),y:Ie("y")},Me=Be.x.concat(Be.y),Oe={},_e=[];function Ne(){var ge=ae.matches;y.test(ge)&&Me.indexOf(ge)===-1&&(Oe[ge]=ae.type,_e=Object.keys(Oe))}var Ce=C(x,w),Ye=o(Ce);for(U=0;U<Q.length;U++){J=Q[U],K=l(J),ce=J.charAt(0),p.isPlainObject(x[J])||(x[J]={}),ae=x[J],de=S.newContainer(w,J,ce+"axis"),be();var rt=ce==="x"&&!M[J]&&A[J]||ce==="y"&&!b[J]&&s[J],ot=ce==="y"&&(!N[J]&&k[J]||H[J]),$e={hasMinor:!0,letter:ce,font:w.font,outerTicks:F[J],showGrid:!B[J],data:E[J]||[],bgColor:ue,calendar:w.calendar,automargin:!0,visibleDflt:rt,reverseDflt:ot,autotypenumbersDflt:m,splomStash:((w._splomAxes||{})[ce]||{})[K],noAutotickangles:ce==="y"};Se("uirevision",w.uirevision),r(ae,de,Se,$e),t(ae,de,Se,$e,w);var qe=Ye&&ce===Ce.charAt(0),ht=Te("spikecolor",Ye?de.color:void 0),vt=Te("spikethickness",Ye?1.5:void 0),pt=Te("spikedash",Ye?"dot":void 0),wt=Te("spikemode",Ye?"across":void 0),Mt=Te("spikesnap"),nt=Se("showspikes",!!qe||!!ht||!!vt||!!pt||!!wt||!!Mt);nt||(delete de.spikecolor,delete de.spikethickness,delete de.spikedash,delete de.spikemode,delete de.spikesnap);var Fe=u(ae.overlaying),We=[0,1];if(w[Fe]!==void 0){var Ze=u(w[Fe].anchor);w[Ze]!==void 0&&(We=w[Ze].domain)}n(ae,de,Se,{letter:ce,counterAxes:Be[ce],overlayableAxes:ke(ce,J),grid:w.grid,overlayingDomain:We}),Se("title.standoff"),Ne(),de._input=ae}for(U=0;U<_e.length;){K=_e[U++],J=u(K),ce=J.charAt(0),p.isPlainObject(x[J])||(x[J]={}),ae=x[J],de=S.newContainer(w,J,ce+"axis"),be();var Ge={letter:ce,font:w.font,outerTicks:F[J],showGrid:!B[J],data:[],bgColor:ue,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((w._splomAxes||{})[ce]||{})[K]};Se("uirevision",w.uirevision),de.type=Oe[K]||"linear",t(ae,de,Se,Ge,w),n(ae,de,Se,{letter:ce,counterAxes:Be[ce],overlayableAxes:ke(ce,J),grid:w.grid}),Se("fixedrange"),Ne(),de._input=ae}var Pe=c("rangeslider","handleDefaults"),Re=c("rangeselector","handleDefaults");for(U=0;U<q.length;U++)J=q[U],ae=x[J],de=w[J],Pe(x,w,J),de.type==="date"&&Re(ae,de,w,le,de.calendar),Se("fixedrange");for(U=0;U<le.length;U++){J=le[U],ae=x[J],de=w[J];var je=w[u(de.anchor)],De=c("rangeslider","isVisible")(je);Se("fixedrange",De)}a.handleDefaults(x,w,{axIds:Me.concat(_e).sort(f.idSort),axHasImage:H})}},42136:function(V,Y,e){var p=e(49760).mix,L=e(22548),o=e(3400);V.exports=function(S,v,g,r){r=r||{};var t=r.dfltColor;function a(s,M){return o.coerce2(S,v,r.attributes,s,M)}var n=a("linecolor",t),f=a("linewidth"),u=g("showline",r.showLine||!!n||!!f);u||(delete v.linecolor,delete v.linewidth);var l=p(t,r.bgColor,r.blend||L.lightFraction).toRgbString(),y=a("gridcolor",l),h=a("gridwidth"),T=a("griddash"),c=g("showgrid",r.showGrid||!!y||!!h||!!T);if(c||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),r.hasMinor){var i=p(v.gridcolor,r.bgColor,67).toRgbString(),d=a("minor.gridcolor",i),x=a("minor.gridwidth",v.gridwidth||1),w=a("minor.griddash",v.griddash||"solid"),_=g("minor.showgrid",!!d||!!x||!!w);_||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!r.noZeroLine){var m=a("zerolinecolor",t),E=a("zerolinewidth"),A=g("zeroline",r.showGrid||!!m||!!E);A||(delete v.zerolinecolor,delete v.zerolinewidth)}}},37668:function(V,Y,e){var p=e(38248),L=e(3400);V.exports=function(C,S,v,g){var r=g.counterAxes||[],t=g.overlayableAxes||[],a=g.letter,n=g.grid,f=g.overlayingDomain,u,l,y,h,T,c;n&&(l=n._domains[a][n._axisMap[S._id]],u=n._anchors[S._id],l&&(y=n[a+"side"].split(" ")[0],h=n.domain[a][y==="right"||y==="top"?1:0])),l=l||[0,1],u=u||(p(C.position)?"free":r[0]||"free"),y=y||(a==="x"?"bottom":"left"),h=h||0,T=0,c=!1;var i=L.coerce(C,S,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),d=L.coerce(C,S,{side:{valType:"enumerated",values:a==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(i==="free"){if(a==="y"){var x=v("autoshift");x&&(h=d==="left"?f[0]:f[1],c=S.automargin?S.automargin:!0,T=d==="left"?-3:3),v("shift",T)}v("position",h)}v("automargin",c);var w=!1;if(t.length&&(w=L.coerce(C,S,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var _=v("domain",l);_[0]>_[1]-.000244140625&&(S.domain=l),L.noneOrAll(C.domain,S.domain,l),S.tickmode==="sync"&&(S.tickmode="auto")}return v("layer"),S}},42568:function(V,Y,e){var p=e(85024);V.exports=function(o,C,S,v,g){g||(g={});var r=g.tickSuffixDflt,t=p(o),a=S("tickprefix");a&&S("showtickprefix",t);var n=S("ticksuffix",r);n&&S("showticksuffix",t)}},96312:function(V,Y,e){var p=e(76808);V.exports=function(o,C,S,v){var g=C._template||{},r=C.type||g.type||"-";S("minallowed"),S("maxallowed");var t=S("range");if(!t){var a;!v.noInsiderange&&r!=="log"&&(a=S("insiderange"),a&&(a[0]===null||a[1]===null)&&(C.insiderange=!1,a=void 0),a&&(t=S("range",a)))}var n=C.getAutorangeDflt(t,v),f=S("autorange",n),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(f==="reversed"||f===!0)||t[0]!==null&&(f==="min"||f==="max reversed")||t[1]!==null&&(f==="max"||f==="min reversed"))&&(t=void 0,delete C.range,C.autorange=!0,u=!0),u||(n=C.getAutorangeDflt(t,v),f=S("autorange",n)),f&&(p(S,f,t),(r==="linear"||r==="-")&&S("rangemode")),C.cleanRange()}},21160:function(V,Y,e){var p=e(84284).FROM_BL;V.exports=function(o,C,S){S===void 0&&(S=p[o.constraintoward||"center"]);var v=[o.r2l(o.range[0]),o.r2l(o.range[1])],g=v[0]+(v[1]-v[0])*S;o.range=o._input.range=[o.l2r(g+(v[0]-g)*C),o.l2r(g+(v[1]-g)*C)],o.setScale()}},78344:function(V,Y,e){var p=e(33428),L=e(94336).E9,o=e(3400),C=o.numberFormat,S=e(38248),v=o.cleanNumber,g=o.ms2DateTime,r=o.dateTime2ms,t=o.ensureNumber,a=o.isArrayOrTypedArray,n=e(39032),f=n.FP_SAFE,u=n.BADNUM,l=n.LOG_CLIP,y=n.ONEWEEK,h=n.ONEDAY,T=n.ONEHOUR,c=n.ONEMIN,i=n.ONESEC,d=e(79811),x=e(33816),w=x.HOUR_PATTERN,_=x.WEEKDAY_PATTERN;function m(A){return Math.pow(10,A)}function E(A){return A!=null}V.exports=function(s,M){M=M||{};var b=s._id||"x",N=b.charAt(0);function k(Q,te){if(Q>0)return Math.log(Q)/Math.LN10;if(Q<=0&&te&&s.range&&s.range.length===2){var ue=s.range[0],J=s.range[1];return .5*(ue+J-2*l*Math.abs(ue-J))}else return u}function H(Q,te,ue,J){if((J||{}).msUTC&&S(Q))return+Q;var K=r(Q,ue||s.calendar);if(K===u)if(S(Q)){Q=+Q;var ce=Math.floor(o.mod(Q+.05,1)*10),ae=Math.round(Q-ce/10);K=r(new Date(ae))+ce/10}else return u;return K}function F(Q,te,ue){return g(Q,te,ue||s.calendar)}function B(Q){return s._categories[Math.round(Q)]}function U(Q){if(E(Q)){if(s._categoriesMap===void 0&&(s._categoriesMap={}),s._categoriesMap[Q]!==void 0)return s._categoriesMap[Q];s._categories.push(typeof Q=="number"?String(Q):Q);var te=s._categories.length-1;return s._categoriesMap[Q]=te,te}return u}function z(Q,te){for(var ue=new Array(te),J=0;J<te;J++){var K=(Q[0]||[])[J],ce=(Q[1]||[])[J];ue[J]=W([K,ce])}return ue}function W(Q){if(s._categoriesMap)return s._categoriesMap[Q]}function j(Q){var te=W(Q);if(te!==void 0)return te;if(S(Q))return+Q}function ee(Q){return S(Q)?+Q:W(Q)}function ie(Q,te,ue){return p.round(ue+te*Q,2)}function oe(Q,te,ue){return(Q-ue)/te}var he=function(te){return S(te)?ie(te,s._m,s._b):u},ne=function(Q){return oe(Q,s._m,s._b)};if(s.rangebreaks){var q=N==="y";he=function(Q){if(!S(Q))return u;var te=s._rangebreaks.length;if(!te)return ie(Q,s._m,s._b);var ue=q;s.range[0]>s.range[1]&&(ue=!ue);for(var J=ue?-1:1,K=J*Q,ce=0,ae=0;ae<te;ae++){var de=J*s._rangebreaks[ae].min,be=J*s._rangebreaks[ae].max;if(K<de)break;if(K>be)ce=ae+1;else{ce=K<(de+be)/2?ae:ae+1;break}}var Se=s._B[ce]||0;return isFinite(Se)?ie(Q,s._m2,Se):0},ne=function(Q){var te=s._rangebreaks.length;if(!te)return oe(Q,s._m,s._b);for(var ue=0,J=0;J<te&&!(Q<s._rangebreaks[J].pmin);J++)Q>s._rangebreaks[J].pmax&&(ue=J+1);return oe(Q,s._m2,s._B[ue])}}s.c2l=s.type==="log"?k:t,s.l2c=s.type==="log"?m:t,s.l2p=he,s.p2l=ne,s.c2p=s.type==="log"?function(Q,te){return he(k(Q,te))}:he,s.p2c=s.type==="log"?function(Q){return m(ne(Q))}:ne,["linear","-"].indexOf(s.type)!==-1?(s.d2r=s.r2d=s.d2c=s.r2c=s.d2l=s.r2l=v,s.c2d=s.c2r=s.l2d=s.l2r=t,s.d2p=s.r2p=function(Q){return s.l2p(v(Q))},s.p2d=s.p2r=ne,s.cleanPos=t):s.type==="log"?(s.d2r=s.d2l=function(Q,te){return k(v(Q),te)},s.r2d=s.r2c=function(Q){return m(v(Q))},s.d2c=s.r2l=v,s.c2d=s.l2r=t,s.c2r=k,s.l2d=m,s.d2p=function(Q,te){return s.l2p(s.d2r(Q,te))},s.p2d=function(Q){return m(ne(Q))},s.r2p=function(Q){return s.l2p(v(Q))},s.p2r=ne,s.cleanPos=t):s.type==="date"?(s.d2r=s.r2d=o.identity,s.d2c=s.r2c=s.d2l=s.r2l=H,s.c2d=s.c2r=s.l2d=s.l2r=F,s.d2p=s.r2p=function(Q,te,ue){return s.l2p(H(Q,0,ue))},s.p2d=s.p2r=function(Q,te,ue){return F(ne(Q),te,ue)},s.cleanPos=function(Q){return o.cleanDate(Q,u,s.calendar)}):s.type==="category"?(s.d2c=s.d2l=U,s.r2d=s.c2d=s.l2d=B,s.d2r=s.d2l_noadd=j,s.r2c=function(Q){var te=ee(Q);return te!==void 0?te:s.fraction2r(.5)},s.l2r=s.c2r=t,s.r2l=ee,s.d2p=function(Q){return s.l2p(s.r2c(Q))},s.p2d=function(Q){return B(ne(Q))},s.r2p=s.d2p,s.p2r=ne,s.cleanPos=function(Q){return typeof Q=="string"&&Q!==""?Q:t(Q)}):s.type==="multicategory"&&(s.r2d=s.c2d=s.l2d=B,s.d2r=s.d2l_noadd=j,s.r2c=function(Q){var te=j(Q);return te!==void 0?te:s.fraction2r(.5)},s.r2c_just_indices=W,s.l2r=s.c2r=t,s.r2l=j,s.d2p=function(Q){return s.l2p(s.r2c(Q))},s.p2d=function(Q){return B(ne(Q))},s.r2p=s.d2p,s.p2r=ne,s.cleanPos=function(Q){return Array.isArray(Q)||typeof Q=="string"&&Q!==""?Q:t(Q)},s.setupMultiCategory=function(Q){var te=s._traceIndices,ue,J,K=s._matchGroup;if(K&&s._categories.length===0){for(var ce in K)if(ce!==b){var ae=M[d.id2name(ce)];te=te.concat(ae._traceIndices)}}var de=[[0,{}],[0,{}]],be=[];for(ue=0;ue<te.length;ue++){var Se=Q[te[ue]];if(N in Se){var Te=Se[N],Ie=Se._length||o.minRowLength(Te);if(a(Te[0])&&a(Te[1]))for(J=0;J<Ie;J++){var ke=Te[0][J],Be=Te[1][J];E(ke)&&E(Be)&&(be.push([ke,Be]),ke in de[0][1]||(de[0][1][ke]=de[0][0]++),Be in de[1][1]||(de[1][1][Be]=de[1][0]++))}}}for(be.sort(function(Me,Oe){var _e=de[0][1],Ne=_e[Me[0]]-_e[Oe[0]];if(Ne)return Ne;var Ce=de[1][1];return Ce[Me[1]]-Ce[Oe[1]]}),ue=0;ue<be.length;ue++)U(be[ue])}),s.fraction2r=function(Q){var te=s.r2l(s.range[0]),ue=s.r2l(s.range[1]);return s.l2r(te+Q*(ue-te))},s.r2fraction=function(Q){var te=s.r2l(s.range[0]),ue=s.r2l(s.range[1]);return(s.r2l(Q)-te)/(ue-te)},s.limitRange=function(Q){var te=s.minallowed,ue=s.maxallowed;if(!(te===void 0&&ue===void 0)){Q||(Q="range");var J=o.nestedProperty(s,Q).get(),K=o.simpleMap(J,s.r2l),ce=K[1]<K[0];ce&&K.reverse();var ae=o.simpleMap([te,ue],s.r2l);if(te!==void 0&&K[0]<ae[0]&&(J[ce?1:0]=te),ue!==void 0&&K[1]>ae[1]&&(J[ce?0:1]=ue),J[0]===J[1]){var de=s.l2r(te),be=s.l2r(ue);if(te!==void 0){var Se=de+1;ue!==void 0&&(Se=Math.min(Se,be)),J[ce?1:0]=Se}if(ue!==void 0){var Te=be+1;te!==void 0&&(Te=Math.max(Te,de)),J[ce?0:1]=Te}}}},s.cleanRange=function(Q,te){s._cleanRange(Q,te),s.limitRange(Q)},s._cleanRange=function(Q,te){te||(te={}),Q||(Q="range");var ue=o.nestedProperty(s,Q).get(),J,K;if(s.type==="date"?K=o.dfltRange(s.calendar):N==="y"?K=x.DFLTRANGEY:s._name==="realaxis"?K=[0,1]:K=te.dfltRange||x.DFLTRANGEX,K=K.slice(),(s.rangemode==="tozero"||s.rangemode==="nonnegative")&&(K[0]=0),!ue||ue.length!==2){o.nestedProperty(s,Q).set(K);return}var ce=ue[0]===null,ae=ue[1]===null;for(s.type==="date"&&!s.autorange&&(ue[0]=o.cleanDate(ue[0],u,s.calendar),ue[1]=o.cleanDate(ue[1],u,s.calendar)),J=0;J<2;J++)if(s.type==="date"){if(!o.isDateTime(ue[J],s.calendar)){s[Q]=K;break}if(s.r2l(ue[0])===s.r2l(ue[1])){var de=o.constrain(s.r2l(ue[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);ue[0]=s.l2r(de-1e3),ue[1]=s.l2r(de+1e3);break}}else{if(!S(ue[J]))if(!(ce||ae)&&S(ue[1-J]))ue[J]=ue[1-J]*(J?10:.1);else{s[Q]=K;break}if(ue[J]<-f?ue[J]=-f:ue[J]>f&&(ue[J]=f),ue[0]===ue[1]){var be=Math.max(1,Math.abs(ue[0]*1e-6));ue[0]-=be,ue[1]+=be}}},s.setScale=function(Q){var te=M._size;if(s.overlaying){var ue=d.getFromId({_fullLayout:M},s.overlaying);s.domain=ue.domain}var J=Q&&s._r?"_r":"range",K=s.calendar;s.cleanRange(J);var ce=s.r2l(s[J][0],K),ae=s.r2l(s[J][1],K),de=N==="y";if(de?(s._offset=te.t+(1-s.domain[1])*te.h,s._length=te.h*(s.domain[1]-s.domain[0]),s._m=s._length/(ce-ae),s._b=-s._m*ae):(s._offset=te.l+s.domain[0]*te.w,s._length=te.w*(s.domain[1]-s.domain[0]),s._m=s._length/(ae-ce),s._b=-s._m*ce),s._rangebreaks=[],s._lBreaks=0,s._m2=0,s._B=[],s.rangebreaks){var be,Se;if(s._rangebreaks=s.locateBreaks(Math.min(ce,ae),Math.max(ce,ae)),s._rangebreaks.length){for(be=0;be<s._rangebreaks.length;be++)Se=s._rangebreaks[be],s._lBreaks+=Math.abs(Se.max-Se.min);var Te=de;ce>ae&&(Te=!Te),Te&&s._rangebreaks.reverse();var Ie=Te?-1:1;for(s._m2=Ie*s._length/(Math.abs(ae-ce)-s._lBreaks),s._B.push(-s._m2*(de?ae:ce)),be=0;be<s._rangebreaks.length;be++)Se=s._rangebreaks[be],s._B.push(s._B[s._B.length-1]-Ie*s._m2*(Se.max-Se.min));for(be=0;be<s._rangebreaks.length;be++)Se=s._rangebreaks[be],Se.pmin=he(Se.min),Se.pmax=he(Se.max)}}if(!isFinite(s._m)||!isFinite(s._b)||s._length<0)throw M._replotting=!1,new Error("Something went wrong with axis scaling")},s.maskBreaks=function(Q){var te=s.rangebreaks||[],ue,J,K,ce,ae;te._cachedPatterns||(te._cachedPatterns=te.map(function(_e){return _e.enabled&&_e.bounds?o.simpleMap(_e.bounds,_e.pattern?v:s.d2c):null})),te._cachedValues||(te._cachedValues=te.map(function(_e){return _e.enabled&&_e.values?o.simpleMap(_e.values,s.d2c).sort(o.sorterAsc):null}));for(var de=0;de<te.length;de++){var be=te[de];if(be.enabled){if(be.bounds){var Se=be.pattern;switch(ue=te._cachedPatterns[de],J=ue[0],K=ue[1],Se){case _:ae=new Date(Q),ce=ae.getUTCDay(),J>K&&(K+=7,ce<J&&(ce+=7));break;case w:ae=new Date(Q);var Te=ae.getUTCHours(),Ie=ae.getUTCMinutes(),ke=ae.getUTCSeconds(),Be=ae.getUTCMilliseconds();ce=Te+(Ie/60+ke/3600+Be/36e5),J>K&&(K+=24,ce<J&&(ce+=24));break;case"":ce=Q;break}if(ce>=J&&ce<K)return u}else for(var Me=te._cachedValues[de],Oe=0;Oe<Me.length;Oe++)if(J=Me[Oe],K=J+be.dvalue,Q>=J&&Q<K)return u}}return Q},s.locateBreaks=function(Q,te){var ue,J,K,ce,ae=[];if(!s.rangebreaks)return ae;var de=s.rangebreaks.slice().sort(function(Ce,Ye){return Ce.pattern===_&&Ye.pattern===w?-1:Ye.pattern===_&&Ce.pattern===w?1:0}),be=function(Ce,Ye){if(Ce=o.constrain(Ce,Q,te),Ye=o.constrain(Ye,Q,te),Ce!==Ye){for(var rt=!0,ot=0;ot<ae.length;ot++){var $e=ae[ot];Ce<$e.max&&Ye>=$e.min&&(Ce<$e.min&&($e.min=Ce),Ye>$e.max&&($e.max=Ye),rt=!1)}rt&&ae.push({min:Ce,max:Ye})}};for(ue=0;ue<de.length;ue++){var Se=de[ue];if(Se.enabled)if(Se.bounds){var Te=Q,Ie=te;Se.pattern&&(Te=Math.floor(Te)),J=o.simpleMap(Se.bounds,Se.pattern?v:s.r2l),K=J[0],ce=J[1];var ke=new Date(Te),Be,Me;switch(Se.pattern){case _:Me=y,Be=((ce<K?7:0)+(ce-K))*h,Te+=K*h-(ke.getUTCDay()*h+ke.getUTCHours()*T+ke.getUTCMinutes()*c+ke.getUTCSeconds()*i+ke.getUTCMilliseconds());break;case w:Me=h,Be=((ce<K?24:0)+(ce-K))*T,Te+=K*T-(ke.getUTCHours()*T+ke.getUTCMinutes()*c+ke.getUTCSeconds()*i+ke.getUTCMilliseconds());break;default:Te=Math.min(J[0],J[1]),Ie=Math.max(J[0],J[1]),Me=Ie-Te,Be=Me}for(var Oe=Te;Oe<Ie;Oe+=Me)be(Oe,Oe+Be)}else for(var _e=o.simpleMap(Se.values,s.d2c),Ne=0;Ne<_e.length;Ne++)K=_e[Ne],ce=K+Se.dvalue,be(K,ce)}return ae.sort(function(Ce,Ye){return Ce.min-Ye.min}),ae},s.makeCalcdata=function(Q,te,ue){var J,K,ce,ae,de=s.type,be=de==="date"&&Q[te+"calendar"];if(te in Q){if(J=Q[te],ae=Q._length||o.minRowLength(J),o.isTypedArray(J)&&(de==="linear"||de==="log")){if(ae===J.length)return J;if(J.subarray)return J.subarray(0,ae)}if(de==="multicategory")return z(J,ae);for(K=new Array(ae),ce=0;ce<ae;ce++)K[ce]=s.d2c(J[ce],0,be,ue)}else{var Se=te+"0"in Q?s.d2c(Q[te+"0"],0,be):0,Te=Q["d"+te]?Number(Q["d"+te]):1;for(J=Q[{x:"y",y:"x"}[te]],ae=Q._length||J.length,K=new Array(ae),ce=0;ce<ae;ce++)K[ce]=Se+ce*Te}if(s.rangebreaks)for(ce=0;ce<ae;ce++)K[ce]=s.maskBreaks(K[ce]);return K},s.isValidRange=function(Q,te){return Array.isArray(Q)&&Q.length===2&&(te&&Q[0]===null||S(s.r2l(Q[0])))&&(te&&Q[1]===null||S(s.r2l(Q[1])))},s.getAutorangeDflt=function(Q,te){var ue=!s.isValidRange(Q,"nullOk");return ue&&te&&te.reverseDflt?ue="reversed":Q&&(Q[0]===null&&Q[1]===null?ue=!0:Q[0]===null&&Q[1]!==null?ue="min":Q[0]!==null&&Q[1]===null&&(ue="max")),ue},s.isReversed=function(){var Q=s.autorange;return Q==="reversed"||Q==="min reversed"||Q==="max reversed"},s.isPtWithinRange=function(Q,te){var ue=s.c2l(Q[N],null,te),J=s.r2l(s.range[0]),K=s.r2l(s.range[1]);return J<K?J<=ue&&ue<=K:K<=ue&&ue<=J},s._emptyCategories=function(){s._categories=[],s._categoriesMap={}},s.clearCalc=function(){var Q=s._matchGroup;if(Q){var te=null,ue=null;for(var J in Q){var K=M[d.id2name(J)];if(K._categories){te=K._categories,ue=K._categoriesMap;break}}te&&ue?(s._categories=te,s._categoriesMap=ue):s._emptyCategories()}else s._emptyCategories();if(s._initialCategories)for(var ce=0;ce<s._initialCategories.length;ce++)U(s._initialCategories[ce])},s.sortByInitialCategories=function(){var Q=[];if(s._emptyCategories(),s._initialCategories)for(var te=0;te<s._initialCategories.length;te++)U(s._initialCategories[te]);Q=Q.concat(s._traceIndices);var ue=s._matchGroup;for(var J in ue)if(b!==J){var K=M[d.id2name(J)];K._categories=s._categories,K._categoriesMap=s._categoriesMap,Q=Q.concat(K._traceIndices)}return Q};var le=M._d3locale;s.type==="date"&&(s._dateFormat=le?le.timeFormat:L,s._extraFormat=M._extraFormat),s._separators=M.separators,s._numFormat=le?le.numberFormat:C,delete s._minDtick,delete s._forceTick0}},85024:function(V){V.exports=function(e){var p=["showexponent","showtickprefix","showticksuffix"],L=p.filter(function(C){return e[C]!==void 0}),o=function(C){return e[C]===e[L[0]]};if(L.every(o)||L.length===1)return e[L[0]]}},95936:function(V,Y,e){var p=e(3400),L=e(76308).contrast,o=e(94724),C=e(85024),S=e(51272);V.exports=function(r,t,a,n,f){f||(f={});var u=a("labelalias");p.isPlainObject(u)||delete t.labelalias;var l=C(r),y=a("showticklabels");if(y){var h=f.font||{},T=t.color,c=t.ticklabelposition||"",i=c.indexOf("inside")!==-1?L(f.bgColor):T&&T!==o.color.dflt?T:h.color;if(p.coerceFont(a,"tickfont",h,{overrideDflt:{color:i}}),!f.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&a("ticklabelstep"),!f.noAng){var d=a("tickangle");!f.noAutotickangles&&d==="auto"&&a("autotickangles")}if(n!=="category"){var x=a("tickformat");S(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),t.tickformatstops.length||delete t.tickformatstops,!f.noExp&&!x&&n!=="date"&&(a("showexponent",l),a("exponentformat"),a("minexponent"),a("separatethousands"))}}};function v(g,r){function t(n,f){return p.coerce(g,r,o.tickformatstops,n,f)}var a=t("enabled");a&&(t("dtickrange"),t("value"))}},25404:function(V,Y,e){var p=e(3400),L=e(94724);V.exports=function(C,S,v,g){var r=g.isMinor,t=r?C.minor||{}:C,a=r?S.minor:S,n=r?L.minor:L,f=r?"minor.":"",u=p.coerce2(t,a,n,"ticklen",r?(S.ticklen||5)*.6:void 0),l=p.coerce2(t,a,n,"tickwidth",r?S.tickwidth||1:void 0),y=p.coerce2(t,a,n,"tickcolor",(r?S.tickcolor:void 0)||a.color),h=v(f+"ticks",!r&&g.outerTicks||u||l||y?"outside":"");h||(delete a.ticklen,delete a.tickwidth,delete a.tickcolor)}},26332:function(V,Y,e){var p=e(98728),L=e(3400).isArrayOrTypedArray,o=e(38116).isTypedArraySpec,C=e(38116).decodeTypedArraySpec;V.exports=function(v,g,r,t,a){a||(a={});var n=a.isMinor,f=n?v.minor||{}:v,u=n?g.minor:g,l=n?"minor.":"";function y(_){var m=f[_];return o(m)&&(m=C(m)),m!==void 0?m:(u._template||{})[_]}var h=y("tick0"),T=y("dtick"),c=y("tickvals"),i=L(c)?"array":T?"linear":"auto",d=r(l+"tickmode",i);if(d==="auto"||d==="sync")r(l+"nticks");else if(d==="linear"){var x=u.dtick=p.dtick(T,t);u.tick0=p.tick0(h,t,g.calendar,x)}else if(t!=="multicategory"){var w=r(l+"tickvals");w===void 0?u.tickmode="auto":n||r("ticktext")}}},73736:function(V,Y,e){var p=e(33428),L=e(24040),o=e(3400),C=e(43616),S=e(54460);V.exports=function(g,r,t,a){var n=g._fullLayout;if(r.length===0){S.redrawComponents(g);return}function f(w){var _=w.xaxis,m=w.yaxis;n._defs.select("#"+w.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),w.plot.call(C.setTranslate,_._offset,m._offset).call(C.setScale,1,1);var E=w.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(C.setPointGroupScale,1,1),E.selectAll(".textpoint").call(C.setTextPointsScale,1,1),E.call(C.hideOutsideRangePoints,w)}function u(w,_){var m=w.plotinfo,E=m.xaxis,A=m.yaxis,s=E._length,M=A._length,b=!!w.xr1,N=!!w.yr1,k=[];if(b){var H=o.simpleMap(w.xr0,E.r2l),F=o.simpleMap(w.xr1,E.r2l),B=H[1]-H[0],U=F[1]-F[0];k[0]=(H[0]*(1-_)+_*F[0]-H[0])/(H[1]-H[0])*s,k[2]=s*(1-_+_*U/B),E.range[0]=E.l2r(H[0]*(1-_)+_*F[0]),E.range[1]=E.l2r(H[1]*(1-_)+_*F[1])}else k[0]=0,k[2]=s;if(N){var z=o.simpleMap(w.yr0,A.r2l),W=o.simpleMap(w.yr1,A.r2l),j=z[1]-z[0],ee=W[1]-W[0];k[1]=(z[1]*(1-_)+_*W[1]-z[1])/(z[0]-z[1])*M,k[3]=M*(1-_+_*ee/j),A.range[0]=E.l2r(z[0]*(1-_)+_*W[0]),A.range[1]=A.l2r(z[1]*(1-_)+_*W[1])}else k[1]=0,k[3]=M;S.drawOne(g,E,{skipTitle:!0}),S.drawOne(g,A,{skipTitle:!0}),S.redrawComponents(g,[E._id,A._id]);var ie=b?s/k[2]:1,oe=N?M/k[3]:1,he=b?k[0]:0,ne=N?k[1]:0,q=b?k[0]/k[2]*s:0,le=N?k[1]/k[3]*M:0,Q=E._offset-q,te=A._offset-le;m.clipRect.call(C.setTranslate,he,ne).call(C.setScale,1/ie,1/oe),m.plot.call(C.setTranslate,Q,te).call(C.setScale,ie,oe),C.setPointGroupScale(m.zoomScalePts,1/ie,1/oe),C.setTextPointsScale(m.zoomScaleTxt,1/ie,1/oe)}var l;a&&(l=a());function y(){for(var w={},_=0;_<r.length;_++){var m=r[_],E=m.plotinfo.xaxis,A=m.plotinfo.yaxis;m.xr1&&(w[E._name+".range"]=m.xr1.slice()),m.yr1&&(w[A._name+".range"]=m.yr1.slice())}return l&&l(),L.call("relayout",g,w).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}function h(){for(var w={},_=0;_<r.length;_++){var m=r[_],E=m.plotinfo.xaxis,A=m.plotinfo.yaxis;m.xr0&&(w[E._name+".range"]=m.xr0.slice()),m.yr0&&(w[A._name+".range"]=m.yr0.slice())}return L.call("relayout",g,w).then(function(){for(var s=0;s<r.length;s++)f(r[s].plotinfo)})}var T,c,i,d=p.ease(t.easing);g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(i),i=null,h()});function x(){c=Date.now();for(var w=Math.min(1,(c-T)/t.duration),_=d(w),m=0;m<r.length;m++)u(r[m],_);c-T>t.duration?(y(),i=window.cancelAnimationFrame(x)):i=window.requestAnimationFrame(x)}return T=Date.now(),i=window.requestAnimationFrame(x),Promise.resolve()}},14944:function(V,Y,e){var p=e(24040).traceIs,L=e(52976);V.exports=function(r,t,a,n){a("autotypenumbers",n.autotypenumbersDflt);var f=a("type",(n.splomStash||{}).type);f==="-"&&(o(t,n.data),t.type==="-"?t.type="linear":r.type=t.type)};function o(g,r){if(g.type==="-"){var t=g._id,a=t.charAt(0),n;t.indexOf("scene")!==-1&&(t=a);var f=C(r,t,a);if(f){if(f.type==="histogram"&&a==={v:"y",h:"x"}[f.orientation||"v"]){g.type="linear";return}var u=a+"calendar",l=f[u],y={noMultiCategory:!p(f,"cartesian")||p(f,"noMultiCategory")};if(f.type==="box"&&f._hasPreCompStats&&a==={h:"x",v:"y"}[f.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=g.autotypenumbers,v(f,a)){var h=S(f),T=[];for(n=0;n<r.length;n++){var c=r[n];!p(c,"box-violin")||(c[a+"axis"]||a)!==t||(c[h]!==void 0?T.push(c[h][0]):c.name!==void 0?T.push(c.name):T.push("text"),c[u]!==l&&(l=void 0))}g.type=L(T,l,y)}else if(f.type==="splom"){var i=f.dimensions,d=i[f._axesDim[t]];d.visible&&(g.type=L(d.values,l,y))}else g.type=L(f[a]||[f[a+"0"]],l,y)}}}function C(g,r,t){for(var a=0;a<g.length;a++){var n=g[a];if(n.type==="splom"&&n._length>0&&(n["_"+t+"axes"]||{})[r])return n;if((n[t+"axis"]||t)===r){if(v(n,t))return n;if((n[t]||[]).length||n[t+"0"])return n}}}function S(g){return{v:"x",h:"y"}[g.orientation||"v"]}function v(g,r){var t=S(g),a=p(g,"box-violin"),n=p(g._fullInput||{},"candlestick");return a&&!n&&r===t&&g[t]===void 0&&g[t+"0"]===void 0}},62460:function(V,Y,e){var p=e(24040),L=e(3400);Y.manageCommandObserver=function(r,t,a,n){var f={},u=!0;t&&t._commandObserver&&(f=t._commandObserver),f.cache||(f.cache={}),f.lookupTable={};var l=Y.hasSimpleAPICommandBindings(r,a,f.lookupTable);if(t&&t._commandObserver){if(l)return f;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,f}if(l){o(r,l,f.cache),f.check=function(){if(u){var c=o(r,l,f.cache);return c.changed&&n&&f.lookupTable[c.value]!==void 0&&(f.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:f.lookupTable[c.value]})).then(f.enable,f.enable)),c.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<y.length;h++)r._internalOn(y[h],f.check);f.remove=function(){for(var T=0;T<y.length;T++)r._removeInternalListener(y[T],f.check)}}else L.log("Unable to automatically bind plot updates to API command"),f.lookupTable={},f.remove=function(){};return f.disable=function(){u=!1},f.enable=function(){u=!0},t&&(t._commandObserver=f),f},Y.hasSimpleAPICommandBindings=function(r,t,a){var n,f=t.length,u;for(n=0;n<f;n++){var l,y=t[n],h=y.method,T=y.args;if(Array.isArray(T)||(T=[]),!h)return!1;var c=Y.computeAPICommandBindings(r,h,T);if(c.length!==1)return!1;if(!u)u=c[0],Array.isArray(u.traces)&&u.traces.sort();else{if(l=c[0],l.type!==u.type||l.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(l.traces)){l.traces.sort();for(var i=0;i<u.traces.length;i++)if(u.traces[i]!==l.traces[i])return!1}else return!1;else if(l.prop!==u.prop)return!1}l=c[0];var d=l.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;a&&(a[d]=n)}return u};function o(r,t,a){var n,f,u,l=!1;if(t.type==="data")n=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")n=r._fullLayout;else return!1;return f=L.nestedProperty(n,t.prop).get(),u=a[t.type]=a[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==f&&(l=!0),u[t.prop]=f,{changed:l,value:f}}Y.executeAPICommand=function(r,t,a){if(t==="skip")return Promise.resolve();var n=p.apiMethodRegistry[t],f=[r];Array.isArray(a)||(a=[]);for(var u=0;u<a.length;u++)f.push(a[u]);return n.apply(null,f).catch(function(l){return L.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},Y.computeAPICommandBindings=function(r,t,a){var n;switch(Array.isArray(a)||(a=[]),t){case"restyle":n=v(r,a);break;case"relayout":n=S(r,a);break;case"update":n=v(r,[a[0],a[2]]).concat(S(r,[a[1]]));break;case"animate":n=C(r,a);break;default:n=[]}return n};function C(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function S(r,t){var a=[],n=t[0],f={};if(typeof n=="string")f[n]=t[1];else if(L.isPlainObject(n))f=n;else return a;return g(f,function(u,l,y){a.push({type:"layout",prop:u,value:y})},"",0),a}function v(r,t){var a,n,f,u,l=[];if(n=t[0],f=t[1],a=t[2],u={},typeof n=="string")u[n]=f;else if(L.isPlainObject(n))u=n,a===void 0&&(a=f);else return l;return a===void 0&&(a=null),g(u,function(y,h,T){var c,i;if(Array.isArray(T)){i=T.slice();var d=Math.min(i.length,r.data.length);a&&(d=Math.min(d,a.length)),c=[];for(var x=0;x<d;x++)c[x]=a?a[x]:x}else i=T,c=a?a.slice():null;if(c===null)Array.isArray(i)&&(i=i[0]);else if(Array.isArray(c)){if(!Array.isArray(i)){var w=i;i=[];for(var _=0;_<c.length;_++)i[_]=w}i.length=Math.min(c.length,i.length)}l.push({type:"data",prop:y,traces:c,value:i})},"",0),l}function g(r,t,a,n){Object.keys(r).forEach(function(f){var u=r[f];if(f[0]!=="_"){var l=a+(n>0?".":"")+f;L.isPlainObject(u)?g(u,t,l,n+1):t(l,f,u)}})}},86968:function(V,Y,e){var p=e(92880).extendFlat;Y.u=function(L,o){L=L||{},o=o||{};var C={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,o.description&&""+o.description;var S={x:p({},C,{}),y:p({},C,{}),editType:L.editType};return L.noGridCell||(S.row={valType:"integer",min:0,dflt:0,editType:L.editType},S.column={valType:"integer",min:0,dflt:0,editType:L.editType}),S},Y.Q=function(L,o,C,S){var v=S&&S.x||[0,1],g=S&&S.y||[0,1],r=o.grid;if(r){var t=C("domain.column");t!==void 0&&(t<r.columns?v=r._domains.x[t]:delete L.domain.column);var a=C("domain.row");a!==void 0&&(a<r.rows?g=r._domains.y[a]:delete L.domain.row)}var n=C("domain.x",v),f=C("domain.y",g);n[0]<n[1]||(L.domain.x=v.slice()),f[0]<f[1]||(L.domain.y=g.slice())}},25376:function(V){V.exports=function(Y){var e=Y.variantValues,p=Y.editType,L=Y.colorEditType;L===void 0&&(L=p);var o={editType:p,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};Y.noNumericWeightValues&&(o.valType="enumerated",o.values=o.extras,o.extras=void 0,o.min=void 0,o.max=void 0);var C={family:{valType:"string",noBlank:!0,strict:!0,editType:p},size:{valType:"number",min:1,editType:p},color:{valType:"color",editType:L},weight:o,style:{editType:p,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:Y.noFontVariant?void 0:{editType:p,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:Y.noFontTextcase?void 0:{editType:p,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:Y.noFontLineposition?void 0:{editType:p,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:Y.noFontShadow?void 0:{editType:p,valType:"string",dflt:Y.autoShadowDflt?"auto":"none"},editType:p};return Y.autoSize&&(C.size.dflt="auto"),Y.autoColor&&(C.color.dflt="auto"),Y.arrayOk&&(C.family.arrayOk=!0,C.weight.arrayOk=!0,C.style.arrayOk=!0,Y.noFontVariant||(C.variant.arrayOk=!0),Y.noFontTextcase||(C.textcase.arrayOk=!0),Y.noFontLineposition||(C.lineposition.arrayOk=!0),Y.noFontShadow||(C.shadow.arrayOk=!0),C.size.arrayOk=!0,C.color.arrayOk=!0),C}},16672:function(V){V.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(V,Y){Y.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},Y.axesNames=["lonaxis","lataxis"],Y.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},Y.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},Y.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},Y.clipPad=.001,Y.precision=.1,Y.landColor="#F0DC82",Y.waterColor="#3399FF",Y.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},Y.sphereSVG={type:"Sphere"},Y.fillLayers={ocean:1,land:1,lakes:1},Y.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},Y.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],Y.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],Y.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(V,Y,e){var p=e(33428),L=e(83356),o=L.geoPath,C=L.geoDistance,S=e(87108),v=e(24040),g=e(3400),r=g.strTranslate,t=e(76308),a=e(43616),n=e(93024),f=e(7316),u=e(54460),l=e(19280).getAutoRange,y=e(86476),h=e(22676).prepSelect,T=e(22676).clearOutline,c=e(22676).selectOnClick,i=e(79248),d=e(79552),x=e(27144),w=e(59972),_=e(55712).NO;function m(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=m.prototype;V.exports=function(N){return new m(N)},E.plot=function(b,N,k,H){var F=this;if(H)return F.update(b,N,!0);F._geoCalcData=b,F._fullLayout=N;var B=N[this.id],U=[],z=!1;for(var W in d.layerNameToAdjective)if(W!=="frame"&&B["show"+W]){z=!0;break}for(var j=!1,ee=0;ee<b.length;ee++){var ie=b[0][0].trace;ie._geo=F,ie.locationmode&&(z=!0);var oe=ie.marker;if(oe){var he=oe.angle,ne=oe.angleref;(he||ne==="north"||ne==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,z){var q=w.getTopojsonName(B);(F.topojson===null||q!==F.topojsonName)&&(F.topojsonName=q,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&U.push(F.fetchTopojson()))}U=U.concat(x.fetchTraceGeoData(b)),k.push(new Promise(function(le,Q){Promise.all(U).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(b,N),le()}).catch(Q)}))},E.fetchTopojson=function(){var b=this,N=w.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(k,H){p.json(N,function(F,B){if(F)return F.status===404?H(new Error(["plotly.js could not find topojson file at",N+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):H(new Error(["unexpected error while fetching topojson file at",N].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=B,k()})})},E.update=function(b,N,k){var H=N[this.id];this.hasChoropleth=!1;for(var F=0;F<b.length;F++){var B=b[F],U=B[0].trace;U.type==="choropleth"&&(this.hasChoropleth=!0),U.visible===!0&&U._length>0&&U._module.calcGeoJSON(B,N)}if(!k){var z=this.updateProjection(b,N);if(z)return;(!this.viewInitial||this.scope!==H.scope)&&this.saveViewInitial(H)}this.scope=H.scope,this.updateBaseLayers(N,H),this.updateDims(N,H),this.updateFx(N,H),f.generalUpdatePerTraceModule(this.graphDiv,this,b,H);var W=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=W.selectAll(".point"),this.dataPoints.text=W.selectAll("text"),this.dataPaths.line=W.selectAll(".js-line");var j=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=j.selectAll("path"),this._render()},E.updateProjection=function(b,N){var k=this.graphDiv,H=N[this.id],F=N._size,B=H.domain,U=H.projection,z=H.lonaxis,W=H.lataxis,j=z._ax,ee=W._ax,ie=this.projection=A(H),oe=[[F.l+F.w*B.x[0],F.t+F.h*(1-B.y[1])],[F.l+F.w*B.x[1],F.t+F.h*(1-B.y[0])]],he=H.center||{},ne=U.rotation||{},q=z.range||[],le=W.range||[];if(H.fitbounds){j._length=oe[1][0]-oe[0][0],ee._length=oe[1][1]-oe[0][1],j.range=l(k,j),ee.range=l(k,ee);var Q=(j.range[0]+j.range[1])/2,te=(ee.range[0]+ee.range[1])/2;if(H._isScoped)he={lon:Q,lat:te};else if(H._isClipped){he={lon:Q,lat:te},ne={lon:Q,lat:te,roll:ne.roll};var ue=U.type,J=d.lonaxisSpan[ue]/2||180,K=d.lataxisSpan[ue]/2||90;q=[Q-J,Q+J],le=[te-K,te+K]}else he={lon:Q,lat:te},ne={lon:Q,lat:ne.lat,roll:ne.roll}}ie.center([he.lon-ne.lon,he.lat-ne.lat]).rotate([-ne.lon,-ne.lat,ne.roll]).parallels(U.parallels);var ce=M(q,le);ie.fitExtent(oe,ce);var ae=this.bounds=ie.getBounds(ce),de=this.fitScale=ie.scale(),be=ie.translate();if(H.fitbounds){var Se=ie.getBounds(M(j.range,ee.range)),Te=Math.min((ae[1][0]-ae[0][0])/(Se[1][0]-Se[0][0]),(ae[1][1]-ae[0][1])/(Se[1][1]-Se[0][1]));isFinite(Te)?ie.scale(Te*de):g.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ie.scale(U.scale*de);var Ie=this.midPt=[(ae[0][0]+ae[1][0])/2,(ae[0][1]+ae[1][1])/2];if(ie.translate([be[0]+(Ie[0]-be[0]),be[1]+(Ie[1]-be[1])]).clipExtent(ae),H._isAlbersUsa){var ke=ie([he.lon,he.lat]),Be=ie.translate();ie.translate([Be[0]-(ke[0]-Be[0]),Be[1]-(ke[1]-Be[1])])}},E.updateBaseLayers=function(b,N){var k=this,H=k.topojson,F=k.layers,B=k.basePaths;function U(oe){return oe==="lonaxis"||oe==="lataxis"}function z(oe){return!!d.lineLayers[oe]}function W(oe){return!!d.fillLayers[oe]}var j=this.hasChoropleth?d.layersForChoropleth:d.layers,ee=j.filter(function(oe){return z(oe)||W(oe)?N["show"+oe]:U(oe)?N[oe].showgrid:!0}),ie=k.framework.selectAll(".layer").data(ee,String);ie.exit().each(function(oe){delete F[oe],delete B[oe],p.select(this).remove()}),ie.enter().append("g").attr("class",function(oe){return"layer "+oe}).each(function(oe){var he=F[oe]=p.select(this);oe==="bg"?k.bgRect=he.append("rect").style("pointer-events","all"):U(oe)?B[oe]=he.append("path").style("fill","none"):oe==="backplot"?he.append("g").classed("choroplethlayer",!0):oe==="frontplot"?he.append("g").classed("scatterlayer",!0):z(oe)?B[oe]=he.append("path").style("fill","none").style("stroke-miterlimit",2):W(oe)&&(B[oe]=he.append("path").style("stroke","none"))}),ie.order(),ie.each(function(oe){var he=B[oe],ne=d.layerNameToAdjective[oe];oe==="frame"?he.datum(d.sphereSVG):z(oe)||W(oe)?he.datum(_(H,H.objects[oe])):U(oe)&&he.datum(s(oe,N,b)).call(t.stroke,N[oe].gridcolor).call(a.dashLine,N[oe].griddash,N[oe].gridwidth),z(oe)?he.call(t.stroke,N[ne+"color"]).call(a.dashLine,"",N[ne+"width"]):W(oe)&&he.call(t.fill,N[ne+"color"])})},E.updateDims=function(b,N){var k=this.bounds,H=(N.framewidth||0)/2,F=k[0][0]-H,B=k[0][1]-H,U=k[1][0]-F+H,z=k[1][1]-B+H;a.setRect(this.clipRect,F,B,U,z),this.bgRect.call(a.setRect,F,B,U,z).call(t.fill,N.bgcolor),this.xaxis._offset=F,this.xaxis._length=U,this.yaxis._offset=B,this.yaxis._length=z},E.updateFx=function(b,N){var k=this,H=k.graphDiv,F=k.bgRect,B=b.dragmode,U=b.clickmode;if(k.isStatic)return;function z(){var ie=k.viewInitial,oe={};for(var he in ie)oe[k.id+"."+he]=ie[he];v.call("_guiRelayout",H,oe),H.emit("plotly_doubleclick",null)}function W(ie){return k.projection.invert([ie[0]+k.xaxis._offset,ie[1]+k.yaxis._offset])}var j=function(ie,oe){if(oe.isRect){var he=ie.range={};he[k.id]=[W([oe.xmin,oe.ymin]),W([oe.xmax,oe.ymax])]}else{var ne=ie.lassoPoints={};ne[k.id]=oe.map(W)}},ee={element:k.bgRect.node(),gd:H,plotinfo:{id:k.id,xaxis:k.xaxis,yaxis:k.yaxis,fillRangeItems:j},xaxes:[k.xaxis],yaxes:[k.yaxis],subplot:k.id,clickFn:function(ie){ie===2&&T(H)}};B==="pan"?(F.node().onmousedown=null,F.call(i(k,N)),F.on("dblclick.zoom",z),H._context._scrollZoom.geo||F.on("wheel.zoom",null)):(B==="select"||B==="lasso")&&(F.on(".zoom",null),ee.prepFn=function(ie,oe,he){h(ie,oe,he,ee,B)},y.init(ee)),F.on("mousemove",function(){var ie=k.projection.invert(g.getPositionFromD3Event());if(!ie)return y.unhover(H,p.event);k.xaxis.p2c=function(){return ie[0]},k.yaxis.p2c=function(){return ie[1]},n.hover(H,p.event,k.id)}),F.on("mouseout",function(){H._dragging||y.unhover(H,p.event)}),F.on("click",function(){B!=="select"&&B!=="lasso"&&(U.indexOf("select")>-1&&c(p.event,H,[k.xaxis],[k.yaxis],k.id,ee),U.indexOf("event")>-1&&n.click(H,p.event))})},E.makeFramework=function(){var b=this,N=b.graphDiv,k=N._fullLayout,H="clip"+k._uid+b.id;b.clipDef=k._clips.append("clipPath").attr("id",H),b.clipRect=b.clipDef.append("rect"),b.framework=p.select(b.container).append("g").attr("class","geo "+b.id).call(a.setClipUrl,H,N),b.project=function(F){var B=b.projection(F);return B?[B[0]-b.xaxis._offset,B[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(F){return b.project(F)[0]}},b.yaxis={_id:"y",c2p:function(F){return b.project(F)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(b.mockAxis,k)},E.saveViewInitial=function(b){var N=b.center||{},k=b.projection,H=k.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":k.scale};var F;b._isScoped?F={"center.lon":N.lon,"center.lat":N.lat}:b._isClipped?F={"projection.rotation.lon":H.lon,"projection.rotation.lat":H.lat}:F={"center.lon":N.lon,"center.lat":N.lat,"projection.rotation.lon":H.lon},g.extendFlat(this.viewInitial,F)},E.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var b=this.projection,N=b.getPath(),k;function H(B){var U=b(B.lonlat);return U?r(U[0],U[1]):null}function F(B){return b.isLonLatOverEdges(B.lonlat)?"none":null}for(k in this.basePaths)this.basePaths[k].attr("d",N);for(k in this.dataPaths)this.dataPaths[k].attr("d",function(B){return N(B.geojson)});for(k in this.dataPoints)this.dataPoints[k].attr("display",F).attr("transform",H)};function A(b){var N=b.projection,k=N.type,H=d.projNames[k];H="geo"+g.titleCase(H);for(var F=L[H]||S[H],B=F(),U=b._isSatellite?Math.acos(1/N.distance)*180/Math.PI:b._isClipped?d.lonaxisSpan[k]/2:null,z=["center","rotate","parallels","clipExtent"],W=function(ie){return ie?B:[]},j=0;j<z.length;j++){var ee=z[j];typeof B[ee]!="function"&&(B[ee]=W)}return B.isLonLatOverEdges=function(ie){if(B(ie)===null)return!0;if(U){var oe=B.rotate(),he=C(ie,[-oe[0],-oe[1]]),ne=U*Math.PI/180;return he>ne}else return!1},B.getPath=function(){return o().projection(B)},B.getBounds=function(ie){return B.getPath().bounds(ie)},B.precision(d.precision),b._isSatellite&&B.tilt(N.tilt).distance(N.distance),U&&B.clipAngle(U-d.clipPad),B}function s(b,N,k){var H=1e-6,F=2.5,B=N[b],U=d.scopeDefaults[N.scope],z,W,j;b==="lonaxis"?(z=U.lonaxisRange,W=U.lataxisRange,j=function(te,ue){return[te,ue]}):b==="lataxis"&&(z=U.lataxisRange,W=U.lonaxisRange,j=function(te,ue){return[ue,te]});var ee={type:"linear",range:[z[0],z[1]-H],tick0:B.tick0,dtick:B.dtick};u.setConvert(ee,k);var ie=u.calcTicks(ee);!N.isScoped&&b==="lonaxis"&&ie.pop();for(var oe=ie.length,he=new Array(oe),ne=0;ne<oe;ne++)for(var q=ie[ne].x,le=he[ne]=[],Q=W[0];Q<W[1]+F;Q+=F)le.push(j(q,Q));return{type:"MultiLineString",coordinates:he}}function M(b,N){var k=d.clipPad,H=b[0]+k,F=b[1]-k,B=N[0]+k,U=N[1]-k;H>0&&F<0&&(F+=360);var z=(F-H)/4;return{type:"Polygon",coordinates:[[[H,B],[H,U],[H+z,U],[H+2*z,U],[H+3*z,U],[F,U],[F,B],[F-z,B],[F-2*z,B],[F-3*z,B],[H,B]]]}}},10816:function(V,Y,e){var p=e(84888).KY,L=e(3400).counterRegex,o=e(43520),C="geo",S=L(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function g(a){for(var n=a._fullLayout,f=a.calcdata,u=n._subplots[C],l=0;l<u.length;l++){var y=u[l],h=p(f,C,y),T=n[y],c=T._subplot;c||(c=o({id:y,graphDiv:a,container:n._geolayer.node(),topojsonURL:a._context.topojsonURL,staticPlot:a._context.staticPlot}),n[y]._subplot=c),c.plot(h,n,a._promises)}}function r(a,n,f,u){for(var l=u._subplots[C]||[],y=0;y<l.length;y++){var h=l[y],T=u[h]._subplot;!n[h]&&T&&(T.framework.remove(),T.clipDef.remove())}}function t(a){for(var n=a._fullLayout,f=n._subplots[C],u=0;u<f.length;u++){var l=n[f[u]],y=l._subplot;y.updateFx(n,l)}}V.exports={attr:C,name:C,idRoot:C,idRegex:S,attrRegex:S,attributes:v,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:g,updateFx:t,clean:r}},40384:function(V,Y,e){var p=e(22548),L=e(86968).u,o=e(98192).u,C=e(79552),S=e(67824).overrideAll,v=e(95376),g={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:o},r=V.exports=S({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:g,lataxis:g},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},86920:function(V,Y,e){var p=e(3400),L=e(168),o=e(84888).op,C=e(79552),S=e(40384),v=C.axesNames;V.exports=function(t,a,n){L(t,a,n,{type:"geo",attributes:S,handleDefaults:g,fullData:n,partition:"y"})};function g(r,t,a,n){var f=o(n.fullData,"geo",n.id),u=f.map(function(le){return le._expandedIndex}),l=a("resolution"),y=a("scope"),h=C.scopeDefaults[y],T=a("projection.type",h.projType),c=t._isAlbersUsa=T==="albers usa";c&&(y=t.scope="usa");var i=t._isScoped=y!=="world",d=t._isSatellite=T==="satellite",x=t._isConic=T.indexOf("conic")!==-1||T==="albers",w=t._isClipped=!!C.lonaxisSpan[T];if(r.visible===!1){var _=p.extendDeep({},t._template);_.showcoastlines=!1,_.showcountries=!1,_.showframe=!1,_.showlakes=!1,_.showland=!1,_.showocean=!1,_.showrivers=!1,_.showsubunits=!1,_.lonaxis&&(_.lonaxis.showgrid=!1),_.lataxis&&(_.lataxis.showgrid=!1),t._template=_}for(var m=a("visible"),E,A=0;A<v.length;A++){var s=v[A],M=[30,10][A],b;if(i)b=h[s+"Range"];else{var N=C[s+"Span"],k=(N[T]||N["*"])/2,H=a("projection.rotation."+s.substr(0,3),h.projRotate[A]);b=[H-k,H+k]}var F=a(s+".range",b);a(s+".tick0"),a(s+".dtick",M),E=a(s+".showgrid",m?void 0:!1),E&&(a(s+".gridcolor"),a(s+".gridwidth"),a(s+".griddash")),t[s]._ax={type:"linear",_id:s.slice(0,3),_traceIndices:u,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var B=t.lonaxis.range,U=t.lataxis.range,z=B[0],W=B[1];z>0&&W<0&&(W+=360);var j=(z+W)/2,ee;if(!c){var ie=i?h.projRotate:[j,0,0];ee=a("projection.rotation.lon",ie[0]),a("projection.rotation.lat",ie[1]),a("projection.rotation.roll",ie[2]),E=a("showcoastlines",!i&&m),E&&(a("coastlinecolor"),a("coastlinewidth")),E=a("showocean",m?void 0:!1),E&&a("oceancolor")}var oe,he;if(c?(oe=-96.6,he=38.7):(oe=i?j:ee,he=(U[0]+U[1])/2),a("center.lon",oe),a("center.lat",he),d&&(a("projection.tilt"),a("projection.distance")),x){var ne=h.projParallels||[0,60];a("projection.parallels",ne)}a("projection.scale"),E=a("showland",m?void 0:!1),E&&a("landcolor"),E=a("showlakes",m?void 0:!1),E&&a("lakecolor"),E=a("showrivers",m?void 0:!1),E&&(a("rivercolor"),a("riverwidth")),E=a("showcountries",i&&y!=="usa"&&m),E&&(a("countrycolor"),a("countrywidth")),(y==="usa"||y==="north america"&&l===50)&&(a("showsubunits",m),a("subunitcolor"),a("subunitwidth")),i||(E=a("showframe",m),E&&(a("framecolor"),a("framewidth"))),a("bgcolor");var q=a("fitbounds");q&&(delete t.projection.scale,i?(delete t.center.lon,delete t.center.lat):w?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},79248:function(V,Y,e){var p=e(33428),L=e(3400),o=e(24040),C=Math.PI/180,S=180/Math.PI,v={cursor:"pointer"},g={cursor:"auto"};function r(s,M){var b=s.projection,N;return M._isScoped?N=n:M._isClipped?N=u:N=f,N(s,b)}V.exports=r;function t(s,M){return p.behavior.zoom().translate(M.translate()).scale(M.scale())}function a(s,M,b){var N=s.id,k=s.graphDiv,H=k.layout,F=H[N],B=k._fullLayout,U=B[N],z={},W={};function j(ee,ie){z[N+"."+ee]=L.nestedProperty(F,ee).get(),o.call("_storeDirectGUIEdit",H,B._preGUI,z);var oe=L.nestedProperty(U,ee);oe.get()!==ie&&(oe.set(ie),L.nestedProperty(F,ee).set(ie),W[N+"."+ee]=ie)}b(j),j("projection.scale",M.scale()/s.fitScale),j("fitbounds",!1),k.emit("plotly_relayout",W)}function n(s,M){var b=t(s,M);function N(){p.select(this).style(v)}function k(){M.scale(p.event.scale).translate(p.event.translate),s.render(!0);var B=M.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/s.fitScale,"geo.center.lon":B[0],"geo.center.lat":B[1]})}function H(B){var U=M.invert(s.midPt);B("center.lon",U[0]),B("center.lat",U[1])}function F(){p.select(this).style(g),a(s,M,H)}return b.on("zoomstart",N).on("zoom",k).on("zoomend",F),b}function f(s,M){var b=t(s,M),N=2,k,H,F,B,U,z,W,j,ee;function ie(Q){return M.invert(Q)}function oe(Q){var te=ie(Q);if(!te)return!0;var ue=M(te);return Math.abs(ue[0]-Q[0])>N||Math.abs(ue[1]-Q[1])>N}function he(){p.select(this).style(v),k=p.mouse(this),H=M.rotate(),F=M.translate(),B=H,U=ie(k)}function ne(){if(z=p.mouse(this),oe(k)){b.scale(M.scale()),b.translate(M.translate());return}M.scale(p.event.scale),M.translate([F[0],p.event.translate[1]]),U?ie(z)&&(j=ie(z),W=[B[0]+(j[0]-U[0]),H[1],H[2]],M.rotate(W),B=W):(k=z,U=ie(k)),ee=!0,s.render(!0);var Q=M.rotate(),te=M.invert(s.midPt);s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/s.fitScale,"geo.center.lon":te[0],"geo.center.lat":te[1],"geo.projection.rotation.lon":-Q[0]})}function q(){p.select(this).style(g),ee&&a(s,M,le)}function le(Q){var te=M.rotate(),ue=M.invert(s.midPt);Q("projection.rotation.lon",-te[0]),Q("center.lon",ue[0]),Q("center.lat",ue[1])}return b.on("zoomstart",he).on("zoom",ne).on("zoomend",q),b}function u(s,M){M.rotate(),M.scale();var b=t(s,M),N=A(b,"zoomstart","zoom","zoomend"),k=0,H=b.on,F;b.on("zoomstart",function(){p.select(this).style(v);var j=p.mouse(this),ee=M.rotate(),ie=ee,oe=M.translate(),he=y(ee);F=l(M,j),H.call(b,"zoom",function(){var ne=p.mouse(this);if(M.scale(p.event.scale),!F)j=ne,F=l(M,j);else if(l(M,ne)){M.rotate(ee).translate(oe);var q=l(M,ne),le=T(F,q),Q=w(h(he,le)),te=c(Q,F,ie);(!isFinite(te[0])||!isFinite(te[1])||!isFinite(te[2]))&&(te=ie),M.rotate(te),ie=te}U(N.of(this,arguments))}),B(N.of(this,arguments))}).on("zoomend",function(){p.select(this).style(g),H.call(b,"zoom",null),z(N.of(this,arguments)),a(s,M,W)}).on("zoom.redraw",function(){s.render(!0);var j=M.rotate();s.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":M.scale()/s.fitScale,"geo.projection.rotation.lon":-j[0],"geo.projection.rotation.lat":-j[1]})});function B(j){k++||j({type:"zoomstart"})}function U(j){j({type:"zoom"})}function z(j){--k||j({type:"zoomend"})}function W(j){var ee=M.rotate();j("projection.rotation.lon",-ee[0]),j("projection.rotation.lat",-ee[1])}return p.rebind(b,N,"on")}function l(s,M){var b=s.invert(M);return b&&isFinite(b[0])&&isFinite(b[1])&&_(b)}function y(s){var M=.5*s[0]*C,b=.5*s[1]*C,N=.5*s[2]*C,k=Math.sin(M),H=Math.cos(M),F=Math.sin(b),B=Math.cos(b),U=Math.sin(N),z=Math.cos(N);return[H*B*z+k*F*U,k*B*z-H*F*U,H*F*z+k*B*U,H*B*U-k*F*z]}function h(s,M){var b=s[0],N=s[1],k=s[2],H=s[3],F=M[0],B=M[1],U=M[2],z=M[3];return[b*F-N*B-k*U-H*z,b*B+N*F+k*z-H*U,b*U-N*z+k*F+H*B,b*z+N*U-k*B+H*F]}function T(s,M){if(!(!s||!M)){var b=E(s,M),N=Math.sqrt(m(b,b)),k=.5*Math.acos(Math.max(-1,Math.min(1,m(s,M)))),H=Math.sin(k)/N;return N&&[Math.cos(k),b[2]*H,-b[1]*H,b[0]*H]}}function c(s,M,b){var N=x(M,2,s[0]);N=x(N,1,s[1]),N=x(N,0,s[2]-b[2]);var k=M[0],H=M[1],F=M[2],B=N[0],U=N[1],z=N[2],W=Math.atan2(H,k)*S,j=Math.sqrt(k*k+H*H),ee,ie;Math.abs(U)>j?(ie=(U>0?90:-90)-W,ee=0):(ie=Math.asin(U/j)*S-W,ee=Math.sqrt(j*j-U*U));var oe=180-ie-2*W,he=(Math.atan2(z,B)-Math.atan2(F,ee))*S,ne=(Math.atan2(z,B)-Math.atan2(F,-ee))*S,q=i(b[0],b[1],ie,he),le=i(b[0],b[1],oe,ne);return q<=le?[ie,he,b[2]]:[oe,ne,b[2]]}function i(s,M,b,N){var k=d(b-s),H=d(N-M);return Math.sqrt(k*k+H*H)}function d(s){return(s%360+540)%360-180}function x(s,M,b){var N=b*C,k=s.slice(),H=M===0?1:0,F=M===2?1:2,B=Math.cos(N),U=Math.sin(N);return k[H]=s[H]*B-s[F]*U,k[F]=s[F]*B+s[H]*U,k}function w(s){return[Math.atan2(2*(s[0]*s[1]+s[2]*s[3]),1-2*(s[1]*s[1]+s[2]*s[2]))*S,Math.asin(Math.max(-1,Math.min(1,2*(s[0]*s[2]-s[3]*s[1]))))*S,Math.atan2(2*(s[0]*s[3]+s[1]*s[2]),1-2*(s[2]*s[2]+s[3]*s[3]))*S]}function _(s){var M=s[0]*C,b=s[1]*C,N=Math.cos(b);return[N*Math.cos(M),N*Math.sin(M),Math.sin(b)]}function m(s,M){for(var b=0,N=0,k=s.length;N<k;++N)b+=s[N]*M[N];return b}function E(s,M){return[s[1]*M[2]-s[2]*M[1],s[2]*M[0]-s[0]*M[2],s[0]*M[1]-s[1]*M[0]]}function A(s){for(var M=0,b=arguments.length,N=[];++M<b;)N.push(arguments[M]);var k=p.dispatch.apply(null,N);return k.of=function(H,F){return function(B){var U;try{U=B.sourceEvent=p.event,B.target=s,p.event=B,k[B.type].apply(H,F)}finally{p.event=U}}},k}},84888:function(V,Y,e){var p=e(24040),L=e(33816).SUBPLOT_PATTERN;Y.KY=function(o,C,S){var v=p.subplotsRegistry[C];if(!v)return[];for(var g=v.attr,r=[],t=0;t<o.length;t++){var a=o[t],n=a[0].trace;n[g]===S&&r.push(a)}return r},Y._M=function(o,C,S){var v=[],g=[],r;if(typeof C=="string"?r=p.getModule(C).plot:typeof C=="function"?r=C:r=C.plot,!r)return[v,o];for(var t=S,a=0;a<o.length;a++){var n=o[a],f=n[0].trace,u=f.zorder!==void 0;f.visible!==!0||f._length===0||(f._module&&f._module.plot===r&&(!u||f.zorder===t)?v.push(n):g.push(n))}return[v,g]},Y.op=function(C,S,v){if(!p.subplotsRegistry[S])return[];var g=p.subplotsRegistry[S].attr,r=[],t,a,n;if(S==="gl2d"){var f=v.match(L);a="x"+f[1],n="y"+f[2]}for(var u=0;u<C.length;u++)t=C[u],S==="gl2d"&&p.traceIs(t,"gl2d")?t[g[0]]===a&&t[g[1]]===n&&r.push(t):t[g]===v&&r.push(t);return r}},2428:function(V,Y,e){var p=e(62644),L=e(97264),o=e(29128),C=e(33816),S=e(89184);V.exports=g;function v(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function g(r){var t=r.mouseContainer,a=r.glplot,n=new v(t,a);function f(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var y=r.graphDiv._fullLayout._axisConstraintGroups,h=r.xaxis._id,T=r.yaxis._id,c=0;c<y.length;c++)if(y[c][h]!==-1){if(y[c][T]!==-1)return!0;break}return!1}n.mouseListener=p(t,l),t.addEventListener("touchstart",function(y){var h=o(y.changedTouches[0],t);l(0,h[0],h[1]),l(1,h[0],h[1]),y.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchmove",function(y){y.preventDefault();var h=o(y.changedTouches[0],t);l(1,h[0],h[1]),y.preventDefault()},S?{passive:!1}:!1),t.addEventListener("touchend",function(y){l(0,n.lastPos[0],n.lastPos[1]),y.preventDefault()},S?{passive:!1}:!1);function l(y,h,T){var c=r.calcDataBox(),i=a.viewBox,d=n.lastPos[0],x=n.lastPos[1],w=C.MINDRAG*a.pixelRatio,_=C.MINZOOM*a.pixelRatio,m,E;h*=a.pixelRatio,T*=a.pixelRatio,T=i[3]-i[1]-T;function A(H,F,B){var U=Math.min(F,B),z=Math.max(F,B);U!==z?(c[H]=U,c[H+2]=z,n.dataBox=c,r.setRanges(c)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(y){var s=h/(i[2]-i[0])*(c[2]-c[0])+c[0],M=T/(i[3]-i[1])*(c[3]-c[1])+c[1];n.boxInited||(n.boxStart[0]=s,n.boxStart[1]=M,n.dragStart[0]=h,n.dragStart[1]=T),n.boxEnd[0]=s,n.boxEnd[1]=M,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var b=Math.abs(n.dragStart[0]-h)<_,N=Math.abs(n.dragStart[1]-T)<_;if(u()&&!(b&&N)){m=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var k=(c[3]-c[1])/(c[2]-c[0]);Math.abs(m*k)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*k*(E>=0?1:-1),n.boxEnd[1]<c[1]?(n.boxEnd[1]=c[1],n.boxEnd[0]=n.boxStart[0]+(c[1]-n.boxStart[1])/Math.abs(k)):n.boxEnd[1]>c[3]&&(n.boxEnd[1]=c[3],n.boxEnd[0]=n.boxStart[0]+(c[3]-n.boxStart[1])/Math.abs(k))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/k*(m>=0?1:-1),n.boxEnd[0]<c[0]?(n.boxEnd[0]=c[0],n.boxEnd[1]=n.boxStart[1]+(c[0]-n.boxStart[0])*Math.abs(k)):n.boxEnd[0]>c[2]&&(n.boxEnd[0]=c[2],n.boxEnd[1]=n.boxStart[1]+(c[2]-n.boxStart[0])*Math.abs(k)))}else b&&(n.boxEnd[0]=n.boxStart[0]),N&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],m||E?(m&&(A(0,n.boxStart[0],n.boxEnd[0]),r.xaxis.autorange=!1),E&&(A(1,n.boxStart[1],n.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,y?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=T),Math.abs(n.dragStart[0]-h)<w&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-T)<w&&(T=n.dragStart[1]),m=(d-h)*(c[2]-c[0])/(a.viewBox[2]-a.viewBox[0]),E=(x-T)*(c[3]-c[1])/(a.viewBox[3]-a.viewBox[1]),c[0]+=m,c[2]+=m,c[1]+=E,c[3]+=E,r.setRanges(c),n.panning=!0,n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations()):n.panning&&(n.panning=!1,r.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=T}return n.wheelListener=L(t,function(y,h){if(!r.scrollZoom)return!1;var T=r.calcDataBox(),c=a.viewBox,i=n.lastPos[0],d=n.lastPos[1],x=Math.exp(5*h/(c[3]-c[1])),w=i/(c[2]-c[0])*(T[2]-T[0])+T[0],_=d/(c[3]-c[1])*(T[3]-T[1])+T[1];return T[0]=(T[0]-w)*x+w,T[2]=(T[2]-w)*x+w,T[1]=(T[1]-_)*x+_,T[3]=(T[3]-_)*x+_,r.setRanges(T),n.lastInputTime=Date.now(),f(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),n}},92568:function(V,Y,e){var p=e(54460),L=e(43080);function o(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=o.prototype,S=["xaxis","yaxis"];C.merge=function(g){this.titleEnable=!1,this.backgroundColor=L(g.plot_bgcolor);var r,t,a,n,f,u,l,y,h,T,c;for(T=0;T<2;++T){r=S[T];var i=r.charAt(0);for(t=g[this.scene[r]._name],a=t.title.text===this.scene.fullLayout._dfltTitle[i]?"":t.title.text,c=0;c<=2;c+=2)this.labelEnable[T+c]=!1,this.labels[T+c]=a,this.labelColor[T+c]=L(t.title.font.color),this.labelFont[T+c]=t.title.font.family,this.labelSize[T+c]=t.title.font.size,this.labelPad[T+c]=this.getLabelPad(r,t),this.tickEnable[T+c]=!1,this.tickColor[T+c]=L((t.tickfont||{}).color),this.tickAngle[T+c]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[T+c]=this.getTickPad(t),this.tickMarkLength[T+c]=0,this.tickMarkWidth[T+c]=t.tickwidth||0,this.tickMarkColor[T+c]=L(t.tickcolor),this.borderLineEnable[T+c]=!1,this.borderLineColor[T+c]=L(t.linecolor),this.borderLineWidth[T+c]=t.linewidth||0;l=this.hasSharedAxis(t),f=this.hasAxisInDfltPos(r,t)&&!l,u=this.hasAxisInAltrPos(r,t)&&!l,n=t.mirror||!1,y=l?String(n).indexOf("all")!==-1:!!n,h=l?n==="allticks":String(n).indexOf("ticks")!==-1,f?this.labelEnable[T]=!0:u&&(this.labelEnable[T+2]=!0),f?this.tickEnable[T]=t.showticklabels:u&&(this.tickEnable[T+2]=t.showticklabels),(f||y)&&(this.borderLineEnable[T]=t.showline),(u||y)&&(this.borderLineEnable[T+2]=t.showline),(f||h)&&(this.tickMarkLength[T]=this.getTickMarkLength(t)),(u||h)&&(this.tickMarkLength[T+2]=this.getTickMarkLength(t)),this.gridLineEnable[T]=t.showgrid,this.gridLineColor[T]=L(t.gridcolor),this.gridLineWidth[T]=t.gridwidth,this.zeroLineEnable[T]=t.zeroline,this.zeroLineColor[T]=L(t.zerolinecolor),this.zeroLineWidth[T]=t.zerolinewidth}},C.hasSharedAxis=function(g){var r=this.scene,t=r.fullLayout._subplots.gl2d,a=p.findSubplotsWithAxis(t,g);return a.indexOf(r.id)!==0},C.hasAxisInDfltPos=function(g,r){var t=r.side;if(g==="xaxis")return t==="bottom";if(g==="yaxis")return t==="left"},C.hasAxisInAltrPos=function(g,r){var t=r.side;if(g==="xaxis")return t==="top";if(g==="yaxis")return t==="right"},C.getLabelPad=function(g,r){var t=1.5,a=r.title.font.size,n=r.showticklabels;if(g==="xaxis")return r.side==="top"?-10+a*(t+(n?1:0)):-10+a*(t+(n?.5:0));if(g==="yaxis")return r.side==="right"?10+a*(t+(n?1:.5)):10+a*(t+(n?.5:0))},C.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},C.getTickMarkLength=function(g){if(!g.ticks)return 0;var r=g.ticklen;return g.ticks==="inside"?-r:r};function v(g){return new o(g)}V.exports=v},39952:function(V,Y,e){var p=e(67824).overrideAll,L=e(17188),o=e(64859),C=e(9616),S=e(33816),v=e(57952),g=e(65460),r=e(84888).op;Y.name="gl2d",Y.attr=["xaxis","yaxis"],Y.idRoot=["x","y"],Y.idRegex=S.idRegex,Y.attrRegex=S.attrRegex,Y.attributes=e(26720),Y.supplyLayoutDefaults=function(t,a,n){a._has("cartesian")||v.supplyLayoutDefaults(t,a,n)},Y.layoutAttrOverrides=p(v.layoutAttributes,"plot","from-root"),Y.baseLayoutAttrOverrides=p({plot_bgcolor:o.plot_bgcolor,hoverlabel:g.hoverlabel},"plot","nested"),Y.plot=function(a){for(var n=a._fullLayout,f=a._fullData,u=n._subplots.gl2d,l=0;l<u.length;l++){var y=u[l],h=n._plots[y],T=r(f,"gl2d",y),c=h._scene2d;c===void 0&&(c=new L({id:y,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio},n),h._scene2d=c),c.plot(T,a.calcdata,n,a.layout)}},Y.clean=function(t,a,n,f){for(var u=f._subplots.gl2d||[],l=0;l<u.length;l++){var y=u[l],h=f._plots[y];if(h._scene2d){var T=r(t,"gl2d",y);T.length===0&&(h._scene2d.destroy(),delete f._plots[y])}}v.clean.apply(this,arguments)},Y.drawFramework=function(t){t._context.staticPlot||v.drawFramework(t)},Y.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var u=a._plots[n[f]],l=u._scene2d,y=l.toImage("png"),h=a._glimages.append("svg:image");h.attr({xmlns:C.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},Y.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots.gl2d,f=0;f<n.length;f++){var u=a._plots[n[f]]._scene2d;u.updateFx(a.dragmode)}}},17188:function(V,Y,e){var p=e(24040),L=e(54460),o=e(93024),C=e(67792).gl_plot2d,S=e(67792).gl_spikes2d,v=e(67792).gl_select_box,g=e(5408),r=e(92568),t=e(2428),a=e(16576),n=e(71888),f=n.enforce,u=n.clean,l=e(19280).doAutoRange,y=e(72760),h=y.drawMode,T=y.selectMode,c=["xaxis","yaxis"],i,d,x=e(33816).SUBPLOT_PATTERN;function w(E,A){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(A),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(A),this.glplot=C(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=S(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}V.exports=w;var _=w.prototype;_.makeFramework=function(){if(this.staticPlot){if(!d&&(i=document.createElement("canvas"),d=g({canvas:i,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=i,this.gl=d}else{var E=this.container.querySelector(".gl-canvas-focus"),A=g({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!A){a(this),this.stopped=!0;return}this.canvas=E,this.gl=A}var s=this.canvas;s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style["pointer-events"]="none",this.updateSize(s);var M=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");M.style.position="absolute",M.style.top=M.style.left="0px",M.style.width=M.style.height="100%",M.style["z-index"]=20,M.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var N=this.container;N.appendChild(M),N.appendChild(b);var k=this;b.addEventListener("mouseout",function(){k.isMouseOver=!1,k.unhover()}),b.addEventListener("mouseover",function(){k.isMouseOver=!0})},_.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(i),this.updateSize(this.canvas);var A=this.glplot.gl,s=A.drawingBufferWidth,M=A.drawingBufferHeight;A.clearColor(1,1,1,0),A.clear(A.COLOR_BUFFER_BIT|A.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),A.bindFramebuffer(A.FRAMEBUFFER,null);var b=new Uint8Array(s*M*4);A.readPixels(0,0,s,M,A.RGBA,A.UNSIGNED_BYTE,b);for(var N=0,k=M-1;N<k;++N,--k)for(var H=0;H<s;++H)for(var F=0;F<4;++F){var B=b[4*(s*N+H)+F];b[4*(s*N+H)+F]=b[4*(s*k+H)+F],b[4*(s*k+H)+F]=B}var U=document.createElement("canvas");U.width=s,U.height=M;var z=U.getContext("2d",{willReadFrequently:!0}),W=z.createImageData(s,M);W.data.set(b),z.putImageData(W,0,0);var j;switch(E){case"jpeg":j=U.toDataURL("image/jpeg");break;case"webp":j=U.toDataURL("image/webp");break;default:j=U.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(i),j},_.updateSize=function(E){E||(E=this.canvas);var A=this.pixelRatio,s=this.fullLayout,M=s.width,b=s.height,N=Math.ceil(A*M)|0,k=Math.ceil(A*b)|0;return(E.width!==N||E.height!==k)&&(E.width=N,E.height=k),E},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],A=0;A<2;++A)for(var s=0;s<E[A].length;++s)E[A][s].text=E[A][s].text+"";return E};function m(E,A){for(var s=0;s<2;++s){var M=E[s],b=A[s];if(M.length!==b.length)return!0;for(var N=0;N<M.length;++N)if(M[N].x!==b[N].x)return!0}return!1}_.updateRefs=function(E){this.fullLayout=E;var A=this.id.match(x),s="xaxis"+A[1],M="yaxis"+A[2];this.xaxis=this.fullLayout[s],this.yaxis=this.fullLayout[M]},_.relayoutCallback=function(){var E=this.graphDiv,A=this.xaxis,s=this.yaxis,M=E.layout,b={},N=b[A._name+".range"]=A.range.slice(),k=b[s._name+".range"]=s.range.slice();b[A._name+".autorange"]=A.autorange,b[s._name+".autorange"]=s.autorange,p.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,b);var H=M[A._name];H.range=N,H.autorange=A.autorange;var F=M[s._name];F.range=k,F.autorange=s.autorange,b.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",b)},_.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var A=this.computeTickMarks(),s=this.glplotOptions.ticks;m(A,s)&&(this.glplotOptions.ticks=A,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var E=this.graphDiv,A=this.fullLayout.annotations,s=0;s<A.length;s++){var M=A[s];M.xref===this.xaxis._id&&M.yref===this.yaxis._id&&p.getComponentMethod("annotations","drawOne")(E,s)}},_.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(A){E[A].dispose(),delete E[A]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(E,A,s){var M=this.glplot;this.updateRefs(s),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,A),this.updateFx(s.dragmode);var b=s.width,N=s.height;this.updateSize(this.canvas);var k=this.glplotOptions;k.merge(s),k.screenBox=[0,0,b,N];var H={_fullLayout:{_axisConstraintGroups:s._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:s._size}};u(H,this.xaxis),u(H,this.yaxis);var F=s._size,B=this.xaxis.domain,U=this.yaxis.domain;k.viewBox=[F.l+B[0]*F.w,F.b+U[0]*F.h,b-F.r-(1-B[1])*F.w,N-F.t-(1-U[1])*F.h],this.mouseContainer.style.width=F.w*(B[1]-B[0])+"px",this.mouseContainer.style.height=F.h*(U[1]-U[0])+"px",this.mouseContainer.height=F.h*(U[1]-U[0]),this.mouseContainer.style.left=F.l+B[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-U[1])*F.h+"px";var z,W;for(W=0;W<2;++W)z=this[c[W]],z._length=k.viewBox[W+2]-k.viewBox[W],l(this.graphDiv,z),z.setScale();f(H),k.ticks=this.computeTickMarks(),k.dataBox=this.calcDataBox(),k.merge(s),M.update(k),this.glplot.draw()},_.calcDataBox=function(){var E=this.xaxis,A=this.yaxis,s=E.range,M=A.range,b=E.r2l,N=A.r2l;return[b(s[0]),N(M[0]),b(s[1]),N(M[1])]},_.setRanges=function(E){var A=this.xaxis,s=this.yaxis,M=A.l2r,b=s.l2r;A.range=[M(E[0]),M(E[2])],s.range=[b(E[1]),b(E[3])]},_.updateTraces=function(E,A){var s=Object.keys(this.traces),M,b,N;this.fullData=E;e:for(M=0;M<s.length;M++){var k=s[M],H=this.traces[k];for(b=0;b<E.length;b++)if(N=E[b],N.uid===k&&N.type===H.type)continue e;H.dispose(),delete this.traces[k]}for(M=0;M<E.length;M++){N=E[M];var F=A[M],B=this.traces[N.uid];B?B.update(N,F):(B=N._module.plot(this,N,F),this.traces[N.uid]=B)}this.glplot.objects.sort(function(U,z){return U._trace.index-z._trace.index})},_.updateFx=function(E){T(E)||h(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},_.emitPointAction=function(E,A){for(var s=E.trace.uid,M=E.pointIndex,b,N=0;N<this.fullData.length;N++)this.fullData[N].uid===s&&(b=this.fullData[N]);var k={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:b.index,pointNumber:M,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};o.appendArrayPointValue(k,b,M),this.graphDiv.emit(A,{points:[k]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,A=this.camera,s=A.mouseListener,M=this.lastButtonState===1&&s.buttons===0,b=this.fullLayout;this.lastButtonState=s.buttons,this.cameraChanged();var N=s.x*E.pixelRatio,k=this.canvas.height-E.pixelRatio*s.y,H;if(A.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(A.boxStart[0],A.boxEnd[0]),Math.min(A.boxStart[1],A.boxEnd[1]),Math.max(A.boxStart[0],A.boxEnd[0]),Math.max(A.boxStart[1],A.boxEnd[1])],B=0;B<2;B++)A.boxStart[B]===A.boxEnd[B]&&(F[B]=E.dataBox[B],F[B+2]=E.dataBox[B+2]);E.setDirty()}else if(!A.panning&&this.isMouseOver){this.selectBox.enabled=!1;var U=b._size,z=this.xaxis.domain,W=this.yaxis.domain;H=E.pick(N/E.pixelRatio+U.l+z[0]*U.w,k/E.pixelRatio-(U.t+(1-W[1])*U.h));var j=H&&H.object._trace.handlePick(H);if(j&&M&&this.emitPointAction(j,"plotly_click"),H&&H.object._trace.hoverinfo!=="skip"&&b.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var ee=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:H.dataCoord}),ee.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(H.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(H.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(j,"plotly_hover");var ie=this.fullData[ee.trace.index]||{},oe=ee.pointIndex,he=o.castHoverinfo(ie,b,oe);if(he&&he!=="all"){var ne=he.split("+");ne.indexOf("x")===-1&&(ee.traceCoord[0]=void 0),ne.indexOf("y")===-1&&(ee.traceCoord[1]=void 0),ne.indexOf("z")===-1&&(ee.traceCoord[2]=void 0),ne.indexOf("text")===-1&&(ee.textLabel=void 0),ne.indexOf("name")===-1&&(ee.name=void 0)}o.loneHover({x:ee.screenCoord[0],y:ee.screenCoord[1],xLabel:this.hoverFormatter("xaxis",ee.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",ee.traceCoord[1]),zLabel:ee.traceCoord[2],text:ee.textLabel,name:ee.name,color:o.castHoverOption(ie,oe,"bgcolor")||ee.color,borderColor:o.castHoverOption(ie,oe,"bordercolor"),fontFamily:o.castHoverOption(ie,oe,"font.family"),fontSize:o.castHoverOption(ie,oe,"font.size"),fontColor:o.castHoverOption(ie,oe,"font.color"),nameLength:o.castHoverOption(ie,oe,"namelength"),textAlign:o.castHoverOption(ie,oe,"align")},{container:this.svgContainer,gd:this.graphDiv})}}H||this.unhover(),E.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),o.loneUnhover(this.svgContainer))},_.hoverFormatter=function(E,A){if(A!==void 0){var s=this[E];return L.tickText(s,s.c2l(A),"hover").text}}},12536:function(V,Y,e){var p=e(67824).overrideAll,L=e(65460),o=e(98432),C=e(84888).op,S=e(3400),v=e(9616),g="gl3d",r="scene";Y.name=g,Y.attr=r,Y.idRoot=r,Y.idRegex=Y.attrRegex=S.counterRegex("scene"),Y.attributes=e(6636),Y.layoutAttributes=e(346),Y.baseLayoutAttrOverrides=p({hoverlabel:L.hoverlabel},"plot","nested"),Y.supplyLayoutDefaults=e(5208),Y.plot=function(a){for(var n=a._fullLayout,f=a._fullData,u=n._subplots[g],l=0;l<u.length;l++){var y=u[l],h=C(f,g,y),T=n[y],c=T.camera,i=T._scene;i||(i=new o({id:y,graphDiv:a,container:a.querySelector(".gl-container"),staticPlot:a._context.staticPlot,plotGlPixelRatio:a._context.plotGlPixelRatio,camera:c},n),T._scene=i),i.viewInitial||(i.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),i.plot(h,n,a.layout)}},Y.clean=function(t,a,n,f){for(var u=f._subplots[g]||[],l=0;l<u.length;l++){var y=u[l];!a[y]&&f[y]._scene&&(f[y]._scene.destroy(),f._infolayer&&f._infolayer.selectAll(".annotation-"+y).remove())}},Y.toSVG=function(t){for(var a=t._fullLayout,n=a._subplots[g],f=a._size,u=0;u<n.length;u++){var l=a[n[u]],y=l.domain,h=l._scene,T=h.toImage("png"),c=a._glimages.append("svg:image");c.attr({xmlns:v.svg,"xlink:href":T,x:f.l+f.w*y.x[0],y:f.t+f.h*(1-y.y[1]),width:f.w*(y.x[1]-y.x[0]),height:f.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),h.destroy()}},Y.cleanId=function(a){if(a.match(/^scene[0-9]*$/)){var n=a.substr(5);return n==="1"&&(n=""),r+n}},Y.updateFx=function(t){for(var a=t._fullLayout,n=a._subplots[g],f=0;f<n.length;f++){var u=a[n[f]]._scene;u.updateFx(a.dragmode,a.hovermode)}}},6636:function(V){V.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(V,Y,e){var p=e(76308),L=e(94724),o=e(92880).extendFlat,C=e(67824).overrideAll;V.exports=C({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:o({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},rangemode:L.rangemode,minallowed:L.minallowed,maxallowed:L.maxallowed,range:o({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:o({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},64380:function(V,Y,e){var p=e(49760).mix,L=e(3400),o=e(31780),C=e(86140),S=e(14944),v=e(28336),g=["xaxis","yaxis","zaxis"],r=100*136/187;V.exports=function(a,n,f){var u,l;function y(c,i){return L.coerce(u,l,C,c,i)}for(var h=0;h<g.length;h++){var T=g[h];u=a[T]||{},l=o.newContainer(n,T),l._id=T[0]+f.scene,l._name=T,S(u,l,y,f),v(u,l,y,{font:f.font,letter:T[0],data:f.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout),y("gridcolor",p(l.color,f.bgColor,r).toRgbString()),y("title.text",T[0]),l.setScale=L.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",l.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},44728:function(V,Y,e){var p=e(43080),L=e(3400),o=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickFontWeight=["normal","normal","normal","normal"],this.tickFontStyle=["normal","normal","normal","normal"],this.tickFontVariant=["normal","normal","normal","normal"],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelFontWeight=["normal","normal","normal","normal"],this.labelFontStyle=["normal","normal","normal","normal"],this.labelFontVariant=["normal","normal","normal","normal"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var S=C.prototype;S.merge=function(g,r){for(var t=this,a=0;a<3;++a){var n=r[o[a]];if(!n.visible){t.tickEnable[a]=!1,t.labelEnable[a]=!1,t.lineEnable[a]=!1,t.lineTickEnable[a]=!1,t.gridEnable[a]=!1,t.zeroEnable[a]=!1,t.backgroundEnable[a]=!1;continue}t.labels[a]=g._meta?L.templateString(n.title.text,g._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(t.labelColor[a]=p(n.title.font.color)),n.title.font.family&&(t.labelFont[a]=n.title.font.family),n.title.font.size&&(t.labelSize[a]=n.title.font.size),n.title.font.weight&&(t.labelFontWeight[a]=n.title.font.weight),n.title.font.style&&(t.labelFontStyle[a]=n.title.font.style),n.title.font.variant&&(t.labelFontVariant[a]=n.title.font.variant)),"showline"in n&&(t.lineEnable[a]=n.showline),"linecolor"in n&&(t.lineColor[a]=p(n.linecolor)),"linewidth"in n&&(t.lineWidth[a]=n.linewidth),"showgrid"in n&&(t.gridEnable[a]=n.showgrid),"gridcolor"in n&&(t.gridColor[a]=p(n.gridcolor)),"gridwidth"in n&&(t.gridWidth[a]=n.gridwidth),n.type==="log"?t.zeroEnable[a]=!1:"zeroline"in n&&(t.zeroEnable[a]=n.zeroline),"zerolinecolor"in n&&(t.zeroLineColor[a]=p(n.zerolinecolor)),"zerolinewidth"in n&&(t.zeroLineWidth[a]=n.zerolinewidth),"ticks"in n&&n.ticks?t.lineTickEnable[a]=!0:t.lineTickEnable[a]=!1,"ticklen"in n&&(t.lineTickLength[a]=t._defaultLineTickLength[a]=n.ticklen),"tickcolor"in n&&(t.lineTickColor[a]=p(n.tickcolor)),"tickwidth"in n&&(t.lineTickWidth[a]=n.tickwidth),"tickangle"in n&&(t.tickAngle[a]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(t.tickEnable[a]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(t.tickColor[a]=p(n.tickfont.color)),n.tickfont.family&&(t.tickFont[a]=n.tickfont.family),n.tickfont.size&&(t.tickSize[a]=n.tickfont.size),n.tickfont.weight&&(t.tickFontWeight[a]=n.tickfont.weight),n.tickfont.style&&(t.tickFontStyle[a]=n.tickfont.style),n.tickfont.variant&&(t.tickFontVariant[a]=n.tickfont.variant)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(t.lineTickMirror[a]=!0,t.lineMirror[a]=!0):n.mirror===!0?(t.lineTickMirror[a]=!1,t.lineMirror[a]=!0):(t.lineTickMirror[a]=!1,t.lineMirror[a]=!1):t.lineMirror[a]=!1,"showbackground"in n&&n.showbackground!==!1?(t.backgroundEnable[a]=!0,t.backgroundColor[a]=p(n.backgroundcolor)):t.backgroundEnable[a]=!1}};function v(g,r){var t=new C;return t.merge(g,r),t}V.exports=v},5208:function(V,Y,e){var p=e(3400),L=e(76308),o=e(24040),C=e(168),S=e(64380),v=e(346),g=e(84888).op,r="gl3d";V.exports=function(n,f,u){var l=f._basePlotModules.length>1;function y(h){if(!l){var T=p.validate(n[h],v[h]);if(T)return n[h]}}C(n,f,u,{type:r,attributes:v,handleDefaults:t,fullLayout:f,font:f.font,fullData:u,getDfltFromLayout:y,autotypenumbersDflt:f.autotypenumbers,paper_bgcolor:f.paper_bgcolor,calendar:f.calendar})};function t(a,n,f,u){for(var l=f("bgcolor"),y=L.combine(l,u.paper_bgcolor),h=["up","center","eye"],T=0;T<h.length;T++)f("camera."+h[T]+".x"),f("camera."+h[T]+".y"),f("camera."+h[T]+".z");f("camera.projection.type");var c=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z"),i=c?"manual":"auto",d=f("aspectmode",i);c||(a.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),a.aspectmode=n.aspectmode);var x=g(u.fullData,r,u.id);S(a,n,{font:u.font,scene:u.id,data:x,bgColor:y,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),o.getComponentMethod("annotations3d","handleDefaults")(a,n,u);var w=u.getDfltFromLayout("dragmode");if(w!==!1&&!w)if(w="orbit",a.camera&&a.camera.up){var _=a.camera.up.x,m=a.camera.up.y,E=a.camera.up.z;E!==0&&(!_||!m||!E||E/Math.sqrt(_*_+m*m+E*E)>.999)&&(w="turntable")}else w="turntable";f("dragmode",w),f("hovermode",u.getDfltFromLayout("hovermode"))}},346:function(V,Y,e){var p=e(86140),L=e(86968).u,o=e(92880).extendFlat,C=e(3400).counterRegex;function S(v,g,r){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:g,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}V.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(S(0,0,1),{}),center:o(S(0,0,0),{}),eye:o(S(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(V,Y,e){var p=e(43080),L=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=o.prototype;C.merge=function(v){for(var g=0;g<3;++g){var r=v[L[g]];if(!r.visible){this.enabled[g]=!1,this.drawSides[g]=!1;continue}this.enabled[g]=r.showspikes,this.colors[g]=p(r.spikecolor),this.drawSides[g]=r.spikesides,this.lineWidth[g]=r.spikethickness}};function S(v){var g=new o;return g.merge(v),g}V.exports=S},87152:function(V,Y,e){V.exports=S;var p=e(54460),L=e(3400),o=["xaxis","yaxis","zaxis"];function C(v){for(var g=new Array(3),r=0;r<3;++r){for(var t=v[r],a=new Array(t.length),n=0;n<t.length;++n)a[n]=t[n].x;g[r]=a}return g}function S(v){for(var g=v.axesOptions,r=v.glplot.axesPixels,t=v.fullSceneLayout,a=[[],[],[]],n=0;n<3;++n){var f=t[o[n]];if(f._length=(r[n].hi-r[n].lo)*r[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(f._length)===1/0||isNaN(f._length))a[n]=[];else{f._input_range=f.range.slice(),f.range[0]=r[n].lo/v.dataScale[n],f.range[1]=r[n].hi/v.dataScale[n],f._m=1/(v.dataScale[n]*r[n].pixelsPerDataUnit),f.range[0]===f.range[1]&&(f.range[0]-=1,f.range[1]+=1);var u=f.tickmode;if(f.tickmode==="auto"){f.tickmode="linear";var l=f.nticks||L.constrain(f._length/40,4,9);p.autoTicks(f,Math.abs(f.range[1]-f.range[0])/l)}for(var y=p.calcTicks(f,{msUTC:!0}),h=0;h<y.length;++h)y[h].x=y[h].x*v.dataScale[n],f.type==="date"&&(y[h].text=y[h].text.replace(/\<br\>/g," "));a[n]=y,f.tickmode=u}}g.ticks=a;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)g.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=C(a)}},94424:function(V){function Y(p,L){var o=[0,0,0,0],C,S;for(C=0;C<4;++C)for(S=0;S<4;++S)o[S]+=p[4*C+S]*L[C];return o}function e(p,L){var o=Y(p.projection,Y(p.view,Y(p.model,[L[0],L[1],L[2],1])));return o}V.exports=e},98432:function(V,Y,e){var p=e(67792).gl_plot3d,L=p.createCamera,o=p.createScene,C=e(5408),S=e(89184),v=e(24040),g=e(3400),r=g.preserveDrawingBuffer(),t=e(54460),a=e(93024),n=e(43080),f=e(16576),u=e(94424),l=e(44728),y=e(9020),h=e(87152),T=e(19280).applyAutorangeOptions,c,i,d=!1;function x(k,H){var F=document.createElement("div"),B=k.container;this.graphDiv=k.graphDiv;var U=document.createElementNS("http://www.w3.org/2000/svg","svg");U.style.position="absolute",U.style.top=U.style.left="0px",U.style.width=U.style.height="100%",U.style["z-index"]=20,U.style["pointer-events"]="none",F.appendChild(U),this.svgContainer=U,F.id=k.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",B.appendChild(F),this.fullLayout=H,this.id=k.id||"scene",this.fullSceneLayout=H[this.id],this.plotArgs=[[],{},{}],this.axesOptions=l(H,H[this.id]),this.spikeOptions=y(H[this.id]),this.container=F,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var w=x.prototype;w.prepareOptions=function(){var k=this,H={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!i&&(c=document.createElement("canvas"),i=C({canvas:c,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!i))throw new Error("error creating static canvas/context for image server");H.gl=i,H.canvas=c}return H};var _=!0;w.tryCreatePlot=function(){var k=this,H=k.prepareOptions(),F=!0;try{k.glplot=o(H)}catch{if(k.staticMode||!_||r)F=!1;else{g.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=H.glOptions.preserveDrawingBuffer=!0,k.glplot=o(H)}catch{r=H.glOptions.preserveDrawingBuffer=!1,F=!1}}}return _=!1,F},w.initializeGLCamera=function(){var k=this,H=k.fullSceneLayout.camera,F=H.projection.type==="orthographic";k.camera=L(k.container,{center:[H.center.x,H.center.y,H.center.z],eye:[H.eye.x,H.eye.y,H.eye.z],up:[H.up.x,H.up.y,H.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},w.initializeGLPlot=function(){var k=this;k.initializeGLCamera();var H=k.tryCreatePlot();if(!H)return f(k);k.traces={},k.make4thDimension();var F=k.graphDiv,B=F.layout,U=function(){var W={};return k.isCameraChanged(B)&&(W[k.id+".camera"]=k.getCamera()),k.isAspectChanged(B)&&(W[k.id+".aspectratio"]=k.glplot.getAspectratio(),B[k.id].aspectmode!=="manual"&&(k.fullSceneLayout.aspectmode=B[k.id].aspectmode=W[k.id+".aspectmode"]="manual")),W},z=function(W){if(W.fullSceneLayout.dragmode!==!1){var j=U();W.saveLayout(B),W.graphDiv.emit("plotly_relayout",j)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){z(k)}),k.glplot.canvas.addEventListener("touchstart",function(){d=!0}),k.glplot.canvas.addEventListener("wheel",function(W){if(F._context._scrollZoom.gl3d){if(k.camera._ortho){var j=W.deltaX>W.deltaY?1.1:.9090909090909091,ee=k.glplot.getAspectratio();k.glplot.setAspectratio({x:j*ee.x,y:j*ee.y,z:j*ee.z})}z(k)}},S?{passive:!1}:!1),k.glplot.canvas.addEventListener("mousemove",function(){if(k.fullSceneLayout.dragmode!==!1&&k.camera.mouseListener.buttons!==0){var W=U();k.graphDiv.emit("plotly_relayouting",W)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(W){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:W,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},w.render=function(){var k=this,H=k.graphDiv,F,B=k.svgContainer,U=k.container.getBoundingClientRect();H._fullLayout._calcInverseTransform(H);var z=H._fullLayout._invScaleX,W=H._fullLayout._invScaleY,j=U.width*z,ee=U.height*W;B.setAttributeNS(null,"viewBox","0 0 "+j+" "+ee),B.setAttributeNS(null,"width",j),B.setAttributeNS(null,"height",ee),h(k),k.glplot.axes.update(k.axesOptions);for(var ie=Object.keys(k.traces),oe=null,he=k.glplot.selection,ne=0;ne<ie.length;++ne)F=k.traces[ie[ne]],F.data.hoverinfo!=="skip"&&F.handlePick(he)&&(oe=F),F.setContourLevels&&F.setContourLevels();function q(Ie,ke,Be){var Me=k.fullSceneLayout[Ie+"axis"];return Me.type!=="log"&&(ke=Me.d2l(ke)),t.hoverLabelText(Me,ke,Be)}if(oe!==null){var le=u(k.glplot.cameraParams,he.dataCoordinate);F=oe.data;var Q=H._fullData[F.index],te=he.index,ue={xLabel:q("x",he.traceCoordinate[0],F.xhoverformat),yLabel:q("y",he.traceCoordinate[1],F.yhoverformat),zLabel:q("z",he.traceCoordinate[2],F.zhoverformat)},J=a.castHoverinfo(Q,k.fullLayout,te),K=(J||"").split("+"),ce=J&&J==="all";!Q.hovertemplate&&!ce&&(K.indexOf("x")===-1&&(ue.xLabel=void 0),K.indexOf("y")===-1&&(ue.yLabel=void 0),K.indexOf("z")===-1&&(ue.zLabel=void 0),K.indexOf("text")===-1&&(he.textLabel=void 0),K.indexOf("name")===-1&&(oe.name=void 0));var ae,de=[];F.type==="cone"||F.type==="streamtube"?(ue.uLabel=q("x",he.traceCoordinate[3],F.uhoverformat),(ce||K.indexOf("u")!==-1)&&de.push("u: "+ue.uLabel),ue.vLabel=q("y",he.traceCoordinate[4],F.vhoverformat),(ce||K.indexOf("v")!==-1)&&de.push("v: "+ue.vLabel),ue.wLabel=q("z",he.traceCoordinate[5],F.whoverformat),(ce||K.indexOf("w")!==-1)&&de.push("w: "+ue.wLabel),ue.normLabel=he.traceCoordinate[6].toPrecision(3),(ce||K.indexOf("norm")!==-1)&&de.push("norm: "+ue.normLabel),F.type==="streamtube"&&(ue.divergenceLabel=he.traceCoordinate[7].toPrecision(3),(ce||K.indexOf("divergence")!==-1)&&de.push("divergence: "+ue.divergenceLabel)),he.textLabel&&de.push(he.textLabel),ae=de.join("<br>")):F.type==="isosurface"||F.type==="volume"?(ue.valueLabel=t.hoverLabelText(k._mockAxis,k._mockAxis.d2l(he.traceCoordinate[3]),F.valuehoverformat),de.push("value: "+ue.valueLabel),he.textLabel&&de.push(he.textLabel),ae=de.join("<br>")):ae=he.textLabel;var be={x:he.traceCoordinate[0],y:he.traceCoordinate[1],z:he.traceCoordinate[2],data:Q._input,fullData:Q,curveNumber:Q.index,pointNumber:te};a.appendArrayPointValue(be,Q,te),F._module.eventData&&(be=Q._module.eventData(be,he,Q,{},te));var Se={points:[be]};if(k.fullSceneLayout.hovermode){var Te=[];a.loneHover({trace:Q,x:(.5+.5*le[0]/le[3])*j,y:(.5-.5*le[1]/le[3])*ee,xLabel:ue.xLabel,yLabel:ue.yLabel,zLabel:ue.zLabel,text:ae,name:oe.name,color:a.castHoverOption(Q,te,"bgcolor")||oe.color,borderColor:a.castHoverOption(Q,te,"bordercolor"),fontFamily:a.castHoverOption(Q,te,"font.family"),fontSize:a.castHoverOption(Q,te,"font.size"),fontColor:a.castHoverOption(Q,te,"font.color"),nameLength:a.castHoverOption(Q,te,"namelength"),textAlign:a.castHoverOption(Q,te,"align"),hovertemplate:g.castOption(Q,te,"hovertemplate"),hovertemplateLabels:g.extendFlat({},be,ue),eventData:[be]},{container:B,gd:H,inOut_bbox:Te}),be.bbox=Te[0]}he.distance<5&&(he.buttons||d)?H.emit("plotly_click",Se):H.emit("plotly_hover",Se),this.oldEventData=Se}else a.loneUnhover(B),this.oldEventData&&H.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;k.drawAnnotations(k)},w.recoverContext=function(){var k=this;k.glplot.dispose();var H=function(){if(k.glplot.gl.isContextLost()){requestAnimationFrame(H);return}if(!k.initializeGLPlot()){g.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}k.plot.apply(k,k.plotArgs)};requestAnimationFrame(H)};var m=["xaxis","yaxis","zaxis"];function E(k,H,F){for(var B=k.fullSceneLayout,U=0;U<3;U++){var z=m[U],W=z.charAt(0),j=B[z],ee=H[W],ie=H[W+"calendar"],oe=H["_"+W+"length"];if(!g.isArrayOrTypedArray(ee))F[0][U]=Math.min(F[0][U],0),F[1][U]=Math.max(F[1][U],oe-1);else for(var he,ne=0;ne<(oe||ee.length);ne++)if(g.isArrayOrTypedArray(ee[ne]))for(var q=0;q<ee[ne].length;++q)he=j.d2l(ee[ne][q],0,ie),!isNaN(he)&&isFinite(he)&&(F[0][U]=Math.min(F[0][U],he),F[1][U]=Math.max(F[1][U],he));else he=j.d2l(ee[ne],0,ie),!isNaN(he)&&isFinite(he)&&(F[0][U]=Math.min(F[0][U],he),F[1][U]=Math.max(F[1][U],he))}}function A(k,H){for(var F=k.fullSceneLayout,B=F.annotations||[],U=0;U<3;U++)for(var z=m[U],W=z.charAt(0),j=F[z],ee=0;ee<B.length;ee++){var ie=B[ee];if(ie.visible){var oe=j.r2l(ie[W]);!isNaN(oe)&&isFinite(oe)&&(H[0][U]=Math.min(H[0][U],oe),H[1][U]=Math.max(H[1][U],oe))}}}w.plot=function(k,H,F){var B=this;if(B.plotArgs=[k,H,F],!B.glplot.contextLost){var U,z,W,j,ee,ie,oe=H[B.id],he=F[B.id];B.fullLayout=H,B.fullSceneLayout=oe,B.axesOptions.merge(H,oe),B.spikeOptions.merge(oe),B.setViewport(oe),B.updateFx(oe.dragmode,oe.hovermode),B.camera.enableWheel=B.graphDiv._context._scrollZoom.gl3d,B.glplot.setClearColor(n(oe.bgcolor)),B.setConvert(ee),k?Array.isArray(k)||(k=[k]):k=[];var ne=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(W=0;W<k.length;++W)U=k[W],!(U.visible!==!0||U._length===0)&&E(this,U,ne);A(this,ne);var q=[1,1,1];for(j=0;j<3;++j)ne[1][j]===ne[0][j]?q[j]=1:q[j]=1/(ne[1][j]-ne[0][j]);for(B.dataScale=q,B.convertAnnotations(this),W=0;W<k.length;++W)U=k[W],!(U.visible!==!0||U._length===0)&&(z=B.traces[U.uid],z?z.data.type===U.type?z.update(U):(z.dispose(),z=U._module.plot(this,U),B.traces[U.uid]=z):(z=U._module.plot(this,U),B.traces[U.uid]=z),z.name=U.name);var le=Object.keys(B.traces);e:for(W=0;W<le.length;++W){for(j=0;j<k.length;++j)if(k[j].uid===le[W]&&k[j].visible===!0&&k[j]._length!==0)continue e;z=B.traces[le[W]],z.dispose(),delete B.traces[le[W]]}B.glplot.objects.sort(function(ot,$e){return ot._trace.data.index-$e._trace.data.index});var Q=[[0,0,0],[0,0,0]],te={};for(W=0;W<3;++W){ee=oe[m[W]],ie=ee.type,ie in te?(te[ie].acc*=q[W],te[ie].count+=1):te[ie]={acc:q[W],count:1};var ue;if(ee.autorange){Q[0][W]=1/0,Q[1][W]=-1/0;var J=B.glplot.objects,K=B.fullSceneLayout.annotations||[],ce=ee._name.charAt(0);for(j=0;j<J.length;j++){var ae=J[j],de=ae.bounds,be=ae._trace.data._pad||0;ae.constructor.name==="ErrorBars"&&ee._lowerLogErrorBound?Q[0][W]=Math.min(Q[0][W],ee._lowerLogErrorBound):Q[0][W]=Math.min(Q[0][W],de[0][W]/q[W]-be),Q[1][W]=Math.max(Q[1][W],de[1][W]/q[W]+be)}for(j=0;j<K.length;j++){var Se=K[j];if(Se.visible){var Te=ee.r2l(Se[ce]);Q[0][W]=Math.min(Q[0][W],Te),Q[1][W]=Math.max(Q[1][W],Te)}}if("rangemode"in ee&&ee.rangemode==="tozero"&&(Q[0][W]=Math.min(Q[0][W],0),Q[1][W]=Math.max(Q[1][W],0)),Q[0][W]>Q[1][W])Q[0][W]=-1,Q[1][W]=1;else{var Ie=Q[1][W]-Q[0][W];Q[0][W]-=Ie/32,Q[1][W]+=Ie/32}if(ue=[Q[0][W],Q[1][W]],ue=T(ue,ee),Q[0][W]=ue[0],Q[1][W]=ue[1],ee.isReversed()){var ke=Q[0][W];Q[0][W]=Q[1][W],Q[1][W]=ke}}else ue=ee.range,Q[0][W]=ee.r2l(ue[0]),Q[1][W]=ee.r2l(ue[1]);Q[0][W]===Q[1][W]&&(Q[0][W]-=1,Q[1][W]+=1),ee.range=[Q[0][W],Q[1][W]],ee.limitRange(),B.glplot.setBounds(W,{min:ee.range[0]*q[W],max:ee.range[1]*q[W]})}var Be,Me=oe.aspectmode;if(Me==="cube")Be=[1,1,1];else if(Me==="manual"){var Oe=oe.aspectratio;Be=[Oe.x,Oe.y,Oe.z]}else if(Me==="auto"||Me==="data"){var _e=[1,1,1];for(W=0;W<3;++W){ee=oe[m[W]],ie=ee.type;var Ne=te[ie];_e[W]=Math.pow(Ne.acc,1/Ne.count)/q[W]}Me==="data"||Math.max.apply(null,_e)/Math.min.apply(null,_e)<=4?Be=_e:Be=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");oe.aspectratio.x=he.aspectratio.x=Be[0],oe.aspectratio.y=he.aspectratio.y=Be[1],oe.aspectratio.z=he.aspectratio.z=Be[2],B.glplot.setAspectratio(oe.aspectratio),B.viewInitial.aspectratio||(B.viewInitial.aspectratio={x:oe.aspectratio.x,y:oe.aspectratio.y,z:oe.aspectratio.z}),B.viewInitial.aspectmode||(B.viewInitial.aspectmode=oe.aspectmode);var Ce=oe.domain||null,Ye=H._size||null;if(Ce&&Ye){var rt=B.container.style;rt.position="absolute",rt.left=Ye.l+Ce.x[0]*Ye.w+"px",rt.top=Ye.t+(1-Ce.y[1])*Ye.h+"px",rt.width=Ye.w*(Ce.x[1]-Ce.x[0])+"px",rt.height=Ye.h*(Ce.y[1]-Ce.y[0])+"px"}B.glplot.redraw()}},w.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)};function s(k){return[[k.eye.x,k.eye.y,k.eye.z],[k.center.x,k.center.y,k.center.z],[k.up.x,k.up.y,k.up.z]]}function M(k){return{up:{x:k.up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:k._ortho===!0?"orthographic":"perspective"}}}w.getCamera=function(){var k=this;return k.camera.view.recalcMatrix(k.camera.view.lastT()),M(k.camera)},w.setViewport=function(k){var H=this,F=k.camera;H.camera.lookAt.apply(this,s(F)),H.glplot.setAspectratio(k.aspectratio);var B=F.projection.type==="orthographic",U=H.camera._ortho;B!==U&&(H.glplot.redraw(),H.glplot.clearRGBA(),H.glplot.dispose(),H.initializeGLPlot())},w.isCameraChanged=function(k){var H=this,F=H.getCamera(),B=g.nestedProperty(k,H.id+".camera"),U=B.get();function z(ie,oe,he,ne){var q=["up","center","eye"],le=["x","y","z"];return oe[q[he]]&&ie[q[he]][le[ne]]===oe[q[he]][le[ne]]}var W=!1;if(U===void 0)W=!0;else{for(var j=0;j<3;j++)for(var ee=0;ee<3;ee++)if(!z(F,U,j,ee)){W=!0;break}(!U.projection||F.projection&&F.projection.type!==U.projection.type)&&(W=!0)}return W},w.isAspectChanged=function(k){var H=this,F=H.glplot.getAspectratio(),B=g.nestedProperty(k,H.id+".aspectratio"),U=B.get();return U===void 0||U.x!==F.x||U.y!==F.y||U.z!==F.z},w.saveLayout=function(k){var H=this,F=H.fullLayout,B,U,z,W,j,ee,ie=H.isCameraChanged(k),oe=H.isAspectChanged(k),he=ie||oe;if(he){var ne={};if(ie&&(B=H.getCamera(),U=g.nestedProperty(k,H.id+".camera"),z=U.get(),ne[H.id+".camera"]=z),oe&&(W=H.glplot.getAspectratio(),j=g.nestedProperty(k,H.id+".aspectratio"),ee=j.get(),ne[H.id+".aspectratio"]=ee),v.call("_storeDirectGUIEdit",k,F._preGUI,ne),ie){U.set(B);var q=g.nestedProperty(F,H.id+".camera");q.set(B)}if(oe){j.set(W);var le=g.nestedProperty(F,H.id+".aspectratio");le.set(W),H.glplot.redraw()}}return he},w.updateFx=function(k,H){var F=this,B=F.camera;if(B)if(k==="orbit")B.mode="orbit",B.keyBindingMode="rotate";else if(k==="turntable"){B.up=[0,0,1],B.mode="turntable",B.keyBindingMode="rotate";var U=F.graphDiv,z=U._fullLayout,W=F.fullSceneLayout.camera,j=W.up.x,ee=W.up.y,ie=W.up.z;if(ie/Math.sqrt(j*j+ee*ee+ie*ie)<.999){var oe=F.id+".camera.up",he={x:0,y:0,z:1},ne={};ne[oe]=he;var q=U.layout;v.call("_storeDirectGUIEdit",q,z._preGUI,ne),W.up=he,g.nestedProperty(q,oe).set(he)}}else B.keyBindingMode=k;F.fullSceneLayout.hovermode=H};function b(k,H,F){for(var B=0,U=F-1;B<U;++B,--U)for(var z=0;z<H;++z)for(var W=0;W<4;++W){var j=4*(H*B+z)+W,ee=4*(H*U+z)+W,ie=k[j];k[j]=k[ee],k[ee]=ie}}function N(k,H,F){for(var B=0;B<F;++B)for(var U=0;U<H;++U){var z=4*(H*B+U),W=k[z+3];if(W>0)for(var j=255/W,ee=0;ee<3;++ee)k[z+ee]=Math.min(j*k[z+ee],255)}}w.toImage=function(k){var H=this;k||(k="png"),H.staticMode&&H.container.appendChild(c),H.glplot.redraw();var F=H.glplot.gl,B=F.drawingBufferWidth,U=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var z=new Uint8Array(B*U*4);F.readPixels(0,0,B,U,F.RGBA,F.UNSIGNED_BYTE,z),b(z,B,U),N(z,B,U);var W=document.createElement("canvas");W.width=B,W.height=U;var j=W.getContext("2d",{willReadFrequently:!0}),ee=j.createImageData(B,U);ee.data.set(z),j.putImageData(ee,0,0);var ie;switch(k){case"jpeg":ie=W.toDataURL("image/jpeg");break;case"webp":ie=W.toDataURL("image/webp");break;default:ie=W.toDataURL("image/png")}return H.staticMode&&H.container.removeChild(c),ie},w.setConvert=function(){for(var k=this,H=0;H<3;H++){var F=k.fullSceneLayout[m[H]];t.setConvert(F,k.fullLayout),F.setScale=g.noop}},w.make4thDimension=function(){var k=this,H=k.graphDiv,F=H._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(k._mockAxis,F)},V.exports=x},52094:function(V){V.exports=function(e,p,L,o){o=o||e.length;for(var C=new Array(o),S=0;S<o;S++)C[S]=[e[S],p[S],L[S]];return C}},64859:function(V,Y,e){var p=e(25376),L=e(85656),o=e(22548),C=e(92872),S=e(34200),v=e(66741),g=e(92880).extendFlat,r=p({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=o.defaultLine,V.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:S.newselection,activeselection:S.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},47552:function(V,Y,e){var p=e(95376),L="1.13.4",o='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=['© <a target="_blank" href="https://carto.com/">Carto</a>',o].join(" "),S=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:o,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:S,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=p(g);V.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(V,Y,e){var p=e(3400);V.exports=function(o,C){var S=o.split(" "),v=S[0],g=S[1],r=p.isArrayOrTypedArray(C)?p.mean(C):C,t=.5+r/100,a=1.5+r/100,n=["",""],f=[0,0];switch(v){case"top":n[0]="top",f[1]=-a;break;case"bottom":n[0]="bottom",f[1]=a;break}switch(g){case"left":n[1]="right",f[0]=-t;break;case"right":n[1]="left",f[0]=t;break}var u;return n[0]&&n[1]?u=n.join("-"):n[0]?u=n[0]:n[1]?u=n[1]:u="center",{anchor:u,offset:f}}},33688:function(V,Y,e){var p=e(3480),L=e(3400),o=L.strTranslate,C=L.strScale,S=e(84888).KY,v=e(9616),g=e(33428),r=e(43616),t=e(72736),a=e(14440),n="mapbox",f=Y.constants=e(47552);Y.name=n,Y.attr="subplot",Y.idRoot=n,Y.idRegex=Y.attrRegex=L.counterRegex(n),Y.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},Y.layoutAttributes=e(5232),Y.supplyLayoutDefaults=e(5976),Y.plot=function(h){var T=h._fullLayout,c=h.calcdata,i=T._subplots[n];if(p.version!==f.requiredVersion)throw new Error(f.wrongVersionErrorMsg);var d=u(h,i);p.accessToken=d;for(var x=0;x<i.length;x++){var w=i[x],_=S(c,n,w),m=T[w],E=m._subplot;E||(E=new a(h,w),T[w]._subplot=E),E.viewInitial||(E.viewInitial={center:L.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),E.plot(_,T,h._promises)}},Y.clean=function(y,h,T,c){for(var i=c._subplots[n]||[],d=0;d<i.length;d++){var x=i[d];!h[x]&&c[x]._subplot&&c[x]._subplot.destroy()}},Y.toSVG=function(y){for(var h=y._fullLayout,T=h._subplots[n],c=h._size,i=0;i<T.length;i++){var d=h[T[i]],x=d.domain,w=d._subplot,_=w.toImage("png"),m=h._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":_,x:c.l+c.w*x.x[0],y:c.t+c.h*(1-x.y[1]),width:c.w*(x.x[1]-x.x[0]),height:c.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var E=g.select(d._subplot.div),A=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!A){var s=h._glimages.append("g");s.attr("transform",o(c.l+c.w*x.x[0]+10,c.t+c.h*(1-x.y[0])-31)),s.append("path").attr("d",f.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),s.append("path").attr("d",f.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),s.append("path").attr("d",f.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),s.append("polygon").attr("points",f.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var M=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=h._glimages.append("g"),N=b.append("text");N.text(M).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":M});var k=r.bBox(N.node()),H=c.w*(x.x[1]-x.x[0]);if(k.width>H/2){var F=M.split("|").join("<br>");N.text(F).attr("data-unformatted",F).call(t.convertToTspans,y),k=r.bBox(N.node())}N.attr("transform",o(-3,-k.height+8)),b.insert("rect",".static-attribution").attr({x:-k.width-6,y:-k.height-3,width:k.width+6,height:k.height+3,fill:"rgba(255, 255, 255, 0.75)"});var B=1;k.width+6>H&&(B=H/(k.width+6));var U=[c.l+c.w*x.x[1],c.t+c.h*(1-x.y[0])];b.attr("transform",o(U[0],U[1])+C(B))}};function u(y,h){var T=y._fullLayout,c=y._context;if(c.mapboxAccessToken==="")return"";for(var i=[],d=[],x=!1,w=!1,_=0;_<h.length;_++){var m=T[h[_]],E=m.accesstoken;l(m.style)&&(E?L.pushUnique(i,E):(l(m._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),x=!0),w=!0)),E&&L.pushUnique(d,E)}if(w){var A=x?f.noAccessTokenErrorMsg:f.missingStyleErrorMsg;throw L.error(A),new Error(A)}return i.length?(i.length>1&&L.warn(f.multipleTokensErrorMsg),i[0]):(d.length&&L.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function l(y){return typeof y=="string"&&(f.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0||y.indexOf("stamen")===0)}Y.updateFx=function(y){for(var h=y._fullLayout,T=h._subplots[n],c=0;c<T.length;c++){var i=h[T[c]]._subplot;i.updateFx(h)}}},22360:function(V,Y,e){var p=e(3400),L=e(72736).sanitizeHTML,o=e(89032),C=e(47552);function S(a,n){this.subplot=a,this.uid=a.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=S.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=g(n)},v.needsNewImage=function(a){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&a.sourcetype==="image"&&(this.source!==a.source||JSON.stringify(this.coordinates)!==JSON.stringify(a.coordinates))},v.needsNewSource=function(a){return this.sourceType!==a.sourcetype||JSON.stringify(this.source)!==JSON.stringify(a.source)||this.layerType!==a.type},v.needsNewLayer=function(a){return this.layerType!==a.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(a){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:a.source,coordinates:a.coordinates});var f=this.findFollowingMapboxLayerId(this.lookupBelow());f!==null&&this.subplot.map.moveLayer(this.idLayer,f)},v.updateSource=function(a){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=a.sourcetype,this.source=a.source,!!g(a)){var f=t(a);n.addSource(this.idSource,f)}},v.findFollowingMapboxLayerId=function(a){if(a==="traces")for(var n=this.subplot.getMapLayers(),f=0;f<n.length;f++){var u=n[f].id;if(typeof u=="string"&&u.indexOf(C.traceLayerPrefix)===0){a=u;break}}return a},v.updateLayer=function(a){var n=this.subplot,f=r(a),u=this.lookupBelow(),l=this.findFollowingMapboxLayerId(u);this.removeLayer(),g(a)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":a.sourcelayer||"",type:a.type,minzoom:a.minzoom,maxzoom:a.maxzoom,layout:f.layout,paint:f.paint},l),this.layerType=a.type,this.below=u},v.updateStyle=function(a){if(g(a)){var n=r(a);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer)},v.dispose=function(){var a=this.subplot.map;a.getLayer(this.idLayer)&&a.removeLayer(this.idLayer),a.getSource(this.idSource)&&a.removeSource(this.idSource)};function g(a){if(!a.visible)return!1;var n=a.source;if(Array.isArray(n)&&n.length>0){for(var f=0;f<n.length;f++)if(typeof n[f]!="string"||n[f].length===0)return!1;return!0}return p.isPlainObject(n)||typeof n=="string"&&n.length>0}function r(a){var n={},f={};switch(a.type){case"circle":p.extendFlat(f,{"circle-radius":a.circle.radius,"circle-color":a.color,"circle-opacity":a.opacity});break;case"line":p.extendFlat(f,{"line-width":a.line.width,"line-color":a.color,"line-opacity":a.opacity,"line-dasharray":a.line.dash});break;case"fill":p.extendFlat(f,{"fill-color":a.color,"fill-outline-color":a.fill.outlinecolor,"fill-opacity":a.opacity});break;case"symbol":var u=a.symbol,l=o(u.textposition,u.iconsize);p.extendFlat(n,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":u.placement}),p.extendFlat(f,{"icon-color":a.color,"text-color":u.textfont.color,"text-opacity":a.opacity});break;case"raster":p.extendFlat(f,{"raster-fade-duration":0,"raster-opacity":a.opacity});break}return{layout:n,paint:f}}function t(a){var n=a.sourcetype,f=a.source,u={type:n},l;return n==="geojson"?l="data":n==="vector"?l=typeof f=="string"?"url":"tiles":n==="raster"?(l="tiles",u.tileSize=256):n==="image"&&(l="url",u.coordinates=a.coordinates),u[l]=f,a.sourceattribution&&(u.attribution=L(a.sourceattribution)),u}V.exports=function(n,f,u){var l=new S(n,f);return l.update(u),l}},5232:function(V,Y,e){var p=e(3400),L=e(76308).defaultLine,o=e(86968).u,C=e(25376),S=e(52904).textposition,v=e(67824).overrideAll,g=e(31780).templatedArray,r=e(47552),t=C({noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var a=V.exports=v({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:o({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:g("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:p.extendFlat({},S,{arrayOk:!1})}})},"plot","from-root");a.uirevision={valType:"any",editType:"none"}},5976:function(V,Y,e){var p=e(3400),L=e(168),o=e(51272),C=e(5232);V.exports=function(r,t,a){L(r,t,a,{type:"mapbox",attributes:C,handleDefaults:S,partition:"y",accessToken:t._mapboxAccessToken})};function S(g,r,t,a){t("accesstoken",a.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var n=t("bounds.west"),f=t("bounds.east"),u=t("bounds.south"),l=t("bounds.north");(n===void 0||f===void 0||u===void 0||l===void 0)&&delete r.bounds,o(g,r,{name:"layers",handleItemDefaults:v}),r._input=g}function v(g,r){function t(y,h){return p.coerce(g,r,C.layers,y,h)}var a=t("visible");if(a){var n=t("sourcetype"),f=n==="raster"||n==="image";t("source"),t("sourceattribution"),n==="vector"&&t("sourcelayer"),n==="image"&&t("coordinates");var u;f&&(u="raster");var l=t("type",u);f&&l!=="raster"&&(l=r.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),l==="circle"&&t("circle.radius"),l==="line"&&(t("line.width"),t("line.dash")),l==="fill"&&t("fill.outlinecolor"),l==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),p.coerceFont(t,"symbol.textfont",void 0,{noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}),t("symbol.textposition"),t("symbol.placement"))}}},14440:function(V,Y,e){var p=e(3480),L=e(3400),o=e(27144),C=e(24040),S=e(54460),v=e(86476),g=e(93024),r=e(72760),t=r.drawMode,a=r.selectMode,n=e(22676).prepSelect,f=e(22676).clearOutline,u=e(22676).clearSelectionsCache,l=e(22676).selectOnClick,y=e(47552),h=e(22360);function T(_,m){this.id=m,this.gd=_;var E=_._fullLayout,A=_._context;this.container=E._glcontainer.node(),this.isStatic=A.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var c=T.prototype;c.plot=function(_,m,E){var A=this,s=m[A.id];A.map&&s.accesstoken!==A.accessToken&&(A.map.remove(),A.map=null,A.styleObj=null,A.traceHash={},A.layerList=[]);var M;A.map?M=new Promise(function(b,N){A.updateMap(_,m,b,N)}):M=new Promise(function(b,N){A.createMap(_,m,b,N)}),E.push(M)},c.createMap=function(_,m,E,A){var s=this,M=m[s.id],b=s.styleObj=d(M.style,m);s.accessToken=M.accesstoken;var N=M.bounds,k=N?[[N.west,N.south],[N.east,N.north]]:null,H=s.map=new p.Map({container:s.div,style:b.style,center:w(M.center),zoom:M.zoom,bearing:M.bearing,pitch:M.pitch,maxBounds:k,interactive:!s.isStatic,preserveDrawingBuffer:s.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));H._canvas.style.left="0px",H._canvas.style.top="0px",s.rejectOnError(A),s.isStatic||s.initFx(_,m);var F=[];F.push(new Promise(function(B){H.once("load",B)})),F=F.concat(o.fetchTraceGeoData(_)),Promise.all(F).then(function(){s.fillBelowLookup(_,m),s.updateData(_),s.updateLayout(m),s.resolveOnRender(E)}).catch(A)},c.updateMap=function(_,m,E,A){var s=this,M=s.map,b=m[this.id];s.rejectOnError(A);var N=[],k=d(b.style,m);JSON.stringify(s.styleObj)!==JSON.stringify(k)&&(s.styleObj=k,M.setStyle(k.style),s.traceHash={},N.push(new Promise(function(H){M.once("styledata",H)}))),N=N.concat(o.fetchTraceGeoData(_)),Promise.all(N).then(function(){s.fillBelowLookup(_,m),s.updateData(_),s.updateLayout(m),s.resolveOnRender(E)}).catch(A)},c.fillBelowLookup=function(_,m){var E=m[this.id],A=E.layers,s,M,b=this.belowLookup={},N=!1;for(s=0;s<_.length;s++){var k=_[s][0].trace,H=k._module;typeof k.below=="string"?M=k.below:H.getBelow&&(M=H.getBelow(k,this)),M===""&&(N=!0),b["trace-"+k.uid]=M||""}for(s=0;s<A.length;s++){var F=A[s];typeof F.below=="string"?M=F.below:N?M="traces":M="",b["layout-"+s]=M}var B={},U,z;for(U in b)M=b[U],B[M]?B[M].push(U):B[M]=[U];for(M in B){var W=B[M];if(W.length>1)for(s=0;s<W.length;s++)U=W[s],U.indexOf("trace-")===0?(z=U.split("trace-")[1],this.traceHash[z]&&(this.traceHash[z].below=null)):U.indexOf("layout-")===0&&(z=U.split("layout-")[1],this.layerList[z]&&(this.layerList[z].below=null))}};var i={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};c.updateData=function(_){var m=this.traceHash,E,A,s,M,b=_.slice().sort(function(B,U){return i[B[0].trace.type]-i[U[0].trace.type]});for(s=0;s<b.length;s++){var N=b[s];A=N[0].trace,E=m[A.uid];var k=!1;E&&(E.type===A.type?(E.update(N),k=!0):E.dispose()),!k&&A._module&&(m[A.uid]=A._module.plot(this,N))}var H=Object.keys(m);e:for(s=0;s<H.length;s++){var F=H[s];for(M=0;M<_.length;M++)if(A=_[M][0].trace,F===A.uid)continue e;E=m[F],E.dispose(),delete m[F]}},c.updateLayout=function(_){var m=this.map,E=_[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(w(E.center)),m.setZoom(E.zoom),m.setBearing(E.bearing),m.setPitch(E.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},c.resolveOnRender=function(_){var m=this.map;m.on("render",function E(){m.loaded()&&(m.off("render",E),setTimeout(_,10))})},c.rejectOnError=function(_){var m=this.map;function E(){_(new Error(y.mapOnErrorMsg))}m.once("error",E),m.once("style.error",E),m.once("source.error",E),m.once("tile.error",E),m.once("layer.error",E)},c.createFramework=function(_){var m=this,E=m.div=document.createElement("div");E.id=m.uid,E.style.position="absolute",m.container.appendChild(E),m.xaxis={_id:"x",c2p:function(A){return m.project(A).x}},m.yaxis={_id:"y",c2p:function(A){return m.project(A).y}},m.updateFramework(_),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},S.setConvert(m.mockAxis,_)},c.initFx=function(_,m){var E=this,A=E.gd,s=E.map;s.on("moveend",function(N){if(E.map){var k=A._fullLayout;if(N.originalEvent||E.wheeling){var H=k[E.id];C.call("_storeDirectGUIEdit",A.layout,k._preGUI,E.getViewEdits(H));var F=E.getView();H._input.center=H.center=F.center,H._input.zoom=H.zoom=F.zoom,H._input.bearing=H.bearing=F.bearing,H._input.pitch=H.pitch=F.pitch,A.emit("plotly_relayout",E.getViewEditsWithDerived(F))}N.originalEvent&&N.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),k._rehover&&k._rehover()}}),s.on("wheel",function(){E.wheeling=!0}),s.on("mousemove",function(N){var k=E.div.getBoundingClientRect(),H=[N.originalEvent.offsetX,N.originalEvent.offsetY];N.target.getBoundingClientRect=function(){return k},E.xaxis.p2c=function(){return s.unproject(H).lng},E.yaxis.p2c=function(){return s.unproject(H).lat},A._fullLayout._rehover=function(){A._fullLayout._hoversubplot===E.id&&A._fullLayout[E.id]&&g.hover(A,N,E.id)},g.hover(A,N,E.id),A._fullLayout._hoversubplot=E.id});function M(){g.loneUnhover(m._hoverlayer)}s.on("dragstart",function(){E.dragging=!0,M()}),s.on("zoomstart",M),s.on("mouseout",function(){A._fullLayout._hoversubplot=null});function b(){var N=E.getView();A.emit("plotly_relayouting",E.getViewEditsWithDerived(N))}s.on("drag",b),s.on("zoom",b),s.on("dblclick",function(){var N=A._fullLayout[E.id];C.call("_storeDirectGUIEdit",A.layout,A._fullLayout._preGUI,E.getViewEdits(N));var k=E.viewInitial;s.setCenter(w(k.center)),s.setZoom(k.zoom),s.setBearing(k.bearing),s.setPitch(k.pitch);var H=E.getView();N._input.center=N.center=H.center,N._input.zoom=N.zoom=H.zoom,N._input.bearing=N.bearing=H.bearing,N._input.pitch=N.pitch=H.pitch,A.emit("plotly_doubleclick",null),A.emit("plotly_relayout",E.getViewEditsWithDerived(H))}),E.clearOutline=function(){u(E.dragOptions),f(E.dragOptions.gd)},E.onClickInPanFn=function(N){return function(k){var H=A._fullLayout.clickmode;H.indexOf("select")>-1&&l(k.originalEvent,A,[E.xaxis],[E.yaxis],E.id,N),H.indexOf("event")>-1&&g.click(A,k.originalEvent)}}},c.updateFx=function(_){var m=this,E=m.map,A=m.gd;if(m.isStatic)return;function s(k){var H=m.map.unproject(k);return[H.lng,H.lat]}var M=_.dragmode,b;b=function(k,H){if(H.isRect){var F=k.range={};F[m.id]=[s([H.xmin,H.ymin]),s([H.xmax,H.ymax])]}else{var B=k.lassoPoints={};B[m.id]=H.map(s)}};var N=m.dragOptions;m.dragOptions=L.extendDeep(N||{},{dragmode:_.dragmode,element:m.div,gd:A,plotinfo:{id:m.id,domain:_[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:b},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),E.off("click",m.onClickInPanHandler),a(M)||t(M)?(E.dragPan.disable(),E.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(k,H,F){n(k,H,F,m.dragOptions,M)},v.init(m.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),E.on("click",m.onClickInPanHandler))},c.updateFramework=function(_){var m=_[this.id].domain,E=_._size,A=this.div.style;A.width=E.w*(m.x[1]-m.x[0])+"px",A.height=E.h*(m.y[1]-m.y[0])+"px",A.left=E.l+m.x[0]*E.w+"px",A.top=E.t+(1-m.y[1])*E.h+"px",this.xaxis._offset=E.l+m.x[0]*E.w,this.xaxis._length=E.w*(m.x[1]-m.x[0]),this.yaxis._offset=E.t+(1-m.y[1])*E.h,this.yaxis._length=E.h*(m.y[1]-m.y[0])},c.updateLayers=function(_){var m=_[this.id],E=m.layers,A=this.layerList,s;if(E.length!==A.length){for(s=0;s<A.length;s++)A[s].dispose();for(A=this.layerList=[],s=0;s<E.length;s++)A.push(h(this,s,E[s]))}else for(s=0;s<E.length;s++)A[s].update(E[s])},c.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},c.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},c.setOptions=function(_,m,E){for(var A in E)this.map[m](_,A,E[A])},c.getMapLayers=function(){return this.map.getStyle().layers},c.addLayer=function(_,m){var E=this.map;if(typeof m=="string"){if(m===""){E.addLayer(_,m);return}for(var A=this.getMapLayers(),s=0;s<A.length;s++)if(m===A[s].id){E.addLayer(_,m);return}L.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(_)},c.project=function(_){return this.map.project(new p.LngLat(_[0],_[1]))},c.getView=function(){var _=this.map,m=_.getCenter(),E=m.lng,A=m.lat,s={lon:E,lat:A},M=_.getCanvas(),b=parseInt(M.style.width),N=parseInt(M.style.height);return{center:s,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([b,0]).toArray(),_.unproject([b,N]).toArray(),_.unproject([0,N]).toArray()]}}},c.getViewEdits=function(_){for(var m=this.id,E=["center","zoom","bearing","pitch"],A={},s=0;s<E.length;s++){var M=E[s];A[m+"."+M]=_[M]}return A},c.getViewEditsWithDerived=function(_){var m=this.id,E=this.getViewEdits(_);return E[m+"._derived"]=_._derived,E};function d(_,m){var E={};if(L.isPlainObject(_))E.id=_.id,E.style=_;else if(typeof _=="string")if(E.id=_,y.styleValuesMapbox.indexOf(_)!==-1)E.style=x(_);else if(y.stylesNonMapbox[_]){E.style=y.stylesNonMapbox[_];var A=E.style.sources["plotly-"+_],s=A?A.tiles:void 0;s&&s[0]&&s[0].slice(-9)==="?api_key="&&(s[0]+=m._mapboxAccessToken)}else E.style=_;else E.id=y.styleValueDflt,E.style=x(y.styleValueDflt);return E.transition={duration:0,delay:0},E}function x(_){return y.styleUrlPrefix+_+"-"+y.styleUrlSuffix}function w(_){return[_.lon,_.lat]}V.exports=T},66741:function(V){V.exports=function(Y){var e=Y.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(V,Y,e){var p=e(33428),L=e(94336).m_,o=e(57624).SO,C=e(38248),S=e(83160),v=e(24040),g=e(73060),r=e(31780),t=e(3400),a=e(76308),n=e(39032).BADNUM,f=e(79811),u=e(1936).clearOutline,l=e(55308),y=e(85656),h=e(16672),T=e(84888)._M,c=t.relinkPrivateKeys,i=t._,d=V.exports={};t.extendFlat(d,v),d.attributes=e(45464),d.attributes.type.values=d.allTypes,d.fontAttrs=e(25376),d.layoutAttributes=e(64859);var x=d.transformsRegistry,w=e(62460);d.executeAPICommand=w.executeAPICommand,d.computeAPICommandBindings=w.computeAPICommandBindings,d.manageCommandObserver=w.manageCommandObserver,d.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,d.redrawText=function(Q){return Q=t.getGraphDiv(Q),new Promise(function(te){setTimeout(function(){Q._fullLayout&&(v.getComponentMethod("annotations","draw")(Q),v.getComponentMethod("legend","draw")(Q),v.getComponentMethod("colorbar","draw")(Q),te(d.previousPromises(Q)))},300)})},d.resize=function(Q){Q=t.getGraphDiv(Q);var te,ue=new Promise(function(J,K){(!Q||t.isHidden(Q))&&K(new Error("Resize must be passed a displayed plot div element.")),Q._redrawTimer&&clearTimeout(Q._redrawTimer),Q._resolveResize&&(te=Q._resolveResize),Q._resolveResize=J,Q._redrawTimer=setTimeout(function(){if(!Q.layout||Q.layout.width&&Q.layout.height||t.isHidden(Q)){J(Q);return}delete Q.layout.width,delete Q.layout.height;var ce=Q.changed;Q.autoplay=!0,v.call("relayout",Q,{autosize:!0}).then(function(){Q.changed=ce,Q._resolveResize===J&&(delete Q._resolveResize,J(Q))})},100)});return te&&te(ue),ue},d.previousPromises=function(Q){if((Q._promises||[]).length)return Promise.all(Q._promises).then(function(){Q._promises=[]})},d.addLinks=function(Q){if(!(!Q._context.showLink&&!Q._context.showSources)){var te=Q._fullLayout,ue=t.ensureSingle(te._paper,"text","js-plot-link-container",function(be){be.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:a.defaultLine,"pointer-events":"all"}).each(function(){var Se=p.select(this);Se.append("tspan").classed("js-link-to-tool",!0),Se.append("tspan").classed("js-link-spacer",!0),Se.append("tspan").classed("js-sourcelinks",!0)})}),J=ue.node(),K={y:te._paper.attr("height")-9};document.body.contains(J)&&J.getComputedTextLength()>=te.width-20?(K["text-anchor"]="start",K.x=5):(K["text-anchor"]="end",K.x=te._paper.attr("width")-7),ue.attr(K);var ce=ue.select(".js-link-to-tool"),ae=ue.select(".js-link-spacer"),de=ue.select(".js-sourcelinks");Q._context.showSources&&Q._context.showSources(Q),Q._context.showLink&&_(Q,ce),ae.text(ce.text()&&de.text()?" - ":"")}};function _(Q,te){te.text("");var ue=te.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Q._context.linkText+" »");if(Q._context.sendData)ue.on("click",function(){d.sendDataToCloud(Q)});else{var J=window.location.pathname.split("/"),K=window.location.search;ue.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+J[2].split(".")[0]+"/"+J[1]+K})}}d.sendDataToCloud=function(Q){var te=(window.PLOTLYENV||{}).BASE_URL||Q._context.plotlyServerURL;if(te){Q.emit("plotly_beforeexport");var ue=p.select(Q).append("div").attr("id","hiddenform").style("display","none"),J=ue.append("form").attr({action:te+"/external",method:"post",target:"_blank"}),K=J.append("input").attr({type:"text",name:"data"});return K.node().value=d.graphJson(Q,!1,"keepdata"),J.node().submit(),ue.remove(),Q.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];d.supplyDefaults=function(Q,te){var ue=te&&te.skipUpdateCalc,J=Q._fullLayout||{};if(J._skipDefaults){delete J._skipDefaults;return}var K=Q._fullLayout={},ce=Q.layout||{},ae=Q._fullData||[],de=Q._fullData=[],be=Q.data||[],Se=Q.calcdata||[],Te=Q._context||{},Ie;Q._transitionData||d.createTransitionData(Q),K._dfltTitle={plot:i(Q,"Click to enter Plot title"),x:i(Q,"Click to enter X axis title"),y:i(Q,"Click to enter Y axis title"),colorbar:i(Q,"Click to enter Colorscale title"),annotation:i(Q,"new text")},K._traceWord=i(Q,"trace");var ke=M(Q,m);if(K._mapboxAccessToken=Te.mapboxAccessToken,J._initialAutoSizeIsDone){var Be=J.width,Me=J.height;d.supplyLayoutGlobalDefaults(ce,K,ke),ce.width||(K.width=Be),ce.height||(K.height=Me),d.sanitizeMargins(K)}else{d.supplyLayoutGlobalDefaults(ce,K,ke);var Oe=!ce.width||!ce.height,_e=K.autosize,Ne=Te.autosizable,Ce=Oe&&(_e||Ne);Ce?d.plotAutoSize(Q,ce,K):Oe&&d.sanitizeMargins(K),!_e&&Oe&&(ce.width=K.width,ce.height=K.height)}K._d3locale=b(ke,K.separators),K._extraFormat=M(Q,E),K._initialAutoSizeIsDone=!0,K._dataLength=be.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var Ye=K._subplots=s(),rt=K._splomAxes={x:{},y:{}},ot=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=A(ae,be),K._globalTransforms=(Q._context||{}).globalTransforms,d.supplyDataDefaults(be,de,ce,K);var $e=Object.keys(rt.x),qe=Object.keys(rt.y);if($e.length>1&&qe.length>1){for(v.getComponentMethod("grid","sizeDefaults")(ce,K),Ie=0;Ie<$e.length;Ie++)t.pushUnique(Ye.xaxis,$e[Ie]);for(Ie=0;Ie<qe.length;Ie++)t.pushUnique(Ye.yaxis,qe[Ie]);for(var ht in ot)t.pushUnique(Ye.cartesian,ht)}if(K._has=d._hasPlotType.bind(K),ae.length===de.length)for(Ie=0;Ie<de.length;Ie++)c(de[Ie],ae[Ie]);d.supplyLayoutModuleDefaults(ce,K,de,Q._transitionData);var vt=K._visibleModules,pt=[];for(Ie=0;Ie<vt.length;Ie++){var wt=vt[Ie].crossTraceDefaults;wt&&t.pushUnique(pt,wt)}for(Ie=0;Ie<pt.length;Ie++)pt[Ie](de,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&$e.length>15&&qe.length>15&&K.shapes.length===0&&K.images.length===0,d.linkSubplots(de,K,ae,J),d.cleanPlot(de,K,ae,J);var Mt=!!(J._has&&J._has("gl2d")),nt=!!(K._has&&K._has("gl2d")),Fe=!!(J._has&&J._has("cartesian")),We=!!(K._has&&K._has("cartesian")),Ze=Fe||Mt,Ge=We||nt;Ze&&!Ge?J._bgLayer.remove():Ge&&!Ze&&(K._shouldCreateBgLayer=!0),J._zoomlayer&&!Q._dragging&&u({_fullLayout:J}),N(de,K),c(K,J),v.getComponentMethod("colorscale","crossTraceDefaults")(de,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var Pe=K._tracePreGUI,Re={},je;for(je in Pe)Re[je]="old";for(Ie=0;Ie<de.length;Ie++)je=de[Ie]._fullInput.uid,Re[je]||(Pe[je]={}),Re[je]="new";for(je in Re)Re[je]==="old"&&delete Pe[je];U(K),v.getComponentMethod("rangeslider","makeData")(K),!ue&&Se.length===de.length&&d.supplyDefaultsUpdateCalc(Se,de)},d.supplyDefaultsUpdateCalc=function(Q,te){for(var ue=0;ue<te.length;ue++){var J=te[ue],K=(Q[ue]||[])[0];if(K&&K.trace){var ce=K.trace;if(ce._hasCalcTransform){var ae=ce._arrayAttrs,de,be,Se;for(de=0;de<ae.length;de++)be=ae[de],Se=t.nestedProperty(ce,be).get().slice(),t.nestedProperty(J,be).set(Se)}K.trace=J}}};function A(Q,te){var ue=te.length,J=[],K,ce;for(K=0;K<Q.length;K++){var ae=Q[K]._fullInput;ae!==ce&&J.push(ae),ce=ae}var de=J.length,be=new Array(ue),Se={};function Te(Be,Me){be[Me]=Be,Se[Be]=1}function Ie(Be,Me){if(Be&&typeof Be=="string"&&!Se[Be])return Te(Be,Me),!0}for(K=0;K<ue;K++){var ke=te[K].uid;typeof ke=="number"&&(ke=String(ke)),!Ie(ke,K)&&(K<de&&Ie(J[K].uid,K)||Te(t.randstr(Se),K))}return be}function s(){var Q=v.collectableSubplotTypes,te={},ue,J;if(!Q){Q=[];var K=v.subplotsRegistry;for(var ce in K){var ae=K[ce],de=ae.attr;if(de&&(Q.push(ce),Array.isArray(de)))for(J=0;J<de.length;J++)t.pushUnique(Q,de[J])}}for(ue=0;ue<Q.length;ue++)te[Q[ue]]=[];return te}function M(Q,te){var ue=Q._context.locale;ue||(ue="en-US");var J=!1,K={};function ce(Ie){for(var ke=!0,Be=0;Be<te.length;Be++){var Me=te[Be];K[Me]||(Ie[Me]?K[Me]=Ie[Me]:ke=!1)}ke&&(J=!0)}for(var ae=0;ae<2;ae++){for(var de=Q._context.locales,be=0;be<2;be++){var Se=(de[ue]||{}).format;if(Se&&(ce(Se),J))break;de=v.localeRegistry}var Te=ue.split("-")[0];if(J||Te===ue)break;ue=Te}return J||ce(v.localeRegistry.en.format),K}function b(Q,te){return Q.decimal=te.charAt(0),Q.thousands=te.charAt(1),{numberFormat:function(ue){try{ue=o(Q).format(t.adjustFormat(ue))}catch{return t.warnBadFormat(ue),t.noFormat}return ue},timeFormat:L(Q).utcFormat}}function N(Q,te){var ue,J=[];te.meta&&(ue=te._meta={meta:te.meta,layout:{meta:te.meta}});for(var K=0;K<Q.length;K++){var ce=Q[K];ce.meta?J[ce.index]=ce._meta={meta:ce.meta}:te.meta&&(ce._meta={meta:te.meta}),te.meta&&(ce._meta.layout={meta:te.meta})}J.length&&(ue||(ue=te._meta={}),ue.data=J)}d.createTransitionData=function(Q){Q._transitionData||(Q._transitionData={}),Q._transitionData._frames||(Q._transitionData._frames=[]),Q._transitionData._frameHash||(Q._transitionData._frameHash={}),Q._transitionData._counter||(Q._transitionData._counter=0),Q._transitionData._interruptCallbacks||(Q._transitionData._interruptCallbacks=[])},d._hasPlotType=function(Q){var te,ue=this._basePlotModules||[];for(te=0;te<ue.length;te++)if(ue[te].name===Q)return!0;var J=this._modules||[];for(te=0;te<J.length;te++){var K=J[te].name;if(K===Q)return!0;var ce=v.modules[K];if(ce&&ce.categories[Q])return!0}return!1},d.cleanPlot=function(Q,te,ue,J){var K,ce,ae=J._basePlotModules||[];for(K=0;K<ae.length;K++){var de=ae[K];de.clean&&de.clean(Q,te,ue,J)}var be=J._has&&J._has("gl"),Se=te._has&&te._has("gl");be&&!Se&&J._glcontainer!==void 0&&(J._glcontainer.selectAll(".gl-canvas").remove(),J._glcontainer.selectAll(".no-webgl").remove(),J._glcanvas=null);var Te=!!J._infolayer;e:for(K=0;K<ue.length;K++){var Ie=ue[K],ke=Ie.uid;for(ce=0;ce<Q.length;ce++){var Be=Q[ce];if(ke===Be.uid)continue e}Te&&J._infolayer.select(".cb"+ke).remove()}},d.linkSubplots=function(Q,te,ue,J){var K,ce,ae=J._plots||{},de=te._plots={},be=te._subplots,Se={_fullData:Q,_fullLayout:te},Te=be.cartesian.concat(be.gl2d||[]);for(K=0;K<Te.length;K++){var Ie=Te[K],ke=ae[Ie],Be=f.getFromId(Se,Ie,"x"),Me=f.getFromId(Se,Ie,"y"),Oe;for(ke?Oe=de[Ie]=ke:(Oe=de[Ie]={},Oe.id=Ie),Be._counterAxes.push(Me._id),Me._counterAxes.push(Be._id),Be._subplotsWith.push(Ie),Me._subplotsWith.push(Ie),Oe.xaxis=Be,Oe.yaxis=Me,Oe._hasClipOnAxisFalse=!1,ce=0;ce<Q.length;ce++){var _e=Q[ce];if(_e.xaxis===Oe.xaxis._id&&_e.yaxis===Oe.yaxis._id&&_e.cliponaxis===!1){Oe._hasClipOnAxisFalse=!0;break}}}var Ne=f.list(Se,null,!0),Ce;for(K=0;K<Ne.length;K++){Ce=Ne[K];var Ye=null;Ce.overlaying&&(Ye=f.getFromId(Se,Ce.overlaying),Ye&&Ye.overlaying&&(Ce.overlaying=!1,Ye=null)),Ce._mainAxis=Ye||Ce,Ye&&(Ce.domain=Ye.domain.slice()),Ce._anchorAxis=Ce.anchor==="free"?null:f.getFromId(Se,Ce.anchor)}for(K=0;K<Ne.length;K++)if(Ce=Ne[K],Ce._counterAxes.sort(f.idSort),Ce._subplotsWith.sort(t.subplotSort),Ce._mainSubplot=k(Ce,te),Ce._counterAxes.length&&(Ce.spikemode&&Ce.spikemode.indexOf("across")!==-1||Ce.automargin&&Ce.mirror&&Ce.anchor!=="free"||v.getComponentMethod("rangeslider","isVisible")(Ce))){var rt=1,ot=0;for(ce=0;ce<Ce._counterAxes.length;ce++){var $e=f.getFromId(Se,Ce._counterAxes[ce]);rt=Math.min(rt,$e.domain[0]),ot=Math.max(ot,$e.domain[1])}rt<ot&&(Ce._counterDomainMin=rt,Ce._counterDomainMax=ot)}};function k(Q,te){var ue={_fullLayout:te},J=Q._id.charAt(0)==="x",K=Q._mainAxis._anchorAxis,ce="",ae="",de="";if(K&&(de=K._mainAxis._id,ce=J?Q._id+de:de+Q._id),!ce||!te._plots[ce]){ce="";for(var be=Q._counterAxes,Se=0;Se<be.length;Se++){var Te=be[Se],Ie=J?Q._id+Te:Te+Q._id;ae||(ae=Ie);var ke=f.getFromId(ue,Te);if(de&&ke.overlaying===de){ce=Ie;break}}}return ce||ae}d.clearExpandedTraceDefaultColors=function(Q){var te,ue,J;function K(ae,de,be,Se){ue[Se]=de,ue.length=Se+1,ae.valType==="color"&&ae.dflt===void 0&&te.push(ue.join("."))}for(ue=[],te=Q._module._colorAttrs,te||(Q._module._colorAttrs=te=[],g.crawl(Q._module.attributes,K)),J=0;J<te.length;J++){var ce=t.nestedProperty(Q,"_input."+te[J]);ce.get()||t.nestedProperty(Q,te[J]).set(null)}},d.supplyDataDefaults=function(Q,te,ue,J){var K=J._modules,ce=J._visibleModules,ae=J._basePlotModules,de=0,be=0,Se,Te,Ie;J._transformModules=[];function ke(qe){te.push(qe);var ht=qe._module;ht&&(t.pushUnique(K,ht),qe.visible===!0&&t.pushUnique(ce,ht),t.pushUnique(ae,qe._module.basePlotModule),de++,qe._input.visible!==!1&&be++)}var Be={},Me=[],Oe=(ue.template||{}).data||{},_e=r.traceTemplater(Oe);for(Se=0;Se<Q.length;Se++){if(Ie=Q[Se],Te=_e.newTrace(Ie),Te.uid=J._traceUids[Se],d.supplyTraceDefaults(Ie,Te,be,J,Se),Te.index=Se,Te._input=Ie,Te._expandedIndex=de,Te.transforms&&Te.transforms.length)for(var Ne=Ie.visible!==!1&&Te.visible===!1,Ce=F(Te,te,ue,J),Ye=0;Ye<Ce.length;Ye++){var rt=Ce[Ye],ot={_template:Te._template,type:Te.type,uid:Te.uid+Ye};Ne&&rt.visible===!1&&delete rt.visible,d.supplyTraceDefaults(rt,ot,de,J,Se),c(ot,rt),ot.index=Se,ot._input=Ie,ot._fullInput=Te,ot._expandedIndex=de,ot._expandedInput=rt,ke(ot)}else Te._fullInput=Te,Te._expandedInput=Te,ke(Te);v.traceIs(Te,"carpetAxis")&&(Be[Te.carpet]=Te),v.traceIs(Te,"carpetDependent")&&Me.push(Se)}for(Se=0;Se<Me.length;Se++)if(Te=te[Me[Se]],!!Te.visible){var $e=Be[Te.carpet];if(Te._carpet=$e,!$e||!$e.visible){Te.visible=!1;continue}Te.xaxis=$e.xaxis,Te.yaxis=$e.yaxis}},d.supplyAnimationDefaults=function(Q){Q=Q||{};var te,ue={};function J(K,ce){return t.coerce(Q||{},ue,y,K,ce)}if(J("mode"),J("direction"),J("fromcurrent"),Array.isArray(Q.frame))for(ue.frame=[],te=0;te<Q.frame.length;te++)ue.frame[te]=d.supplyAnimationFrameDefaults(Q.frame[te]||{});else ue.frame=d.supplyAnimationFrameDefaults(Q.frame||{});if(Array.isArray(Q.transition))for(ue.transition=[],te=0;te<Q.transition.length;te++)ue.transition[te]=d.supplyAnimationTransitionDefaults(Q.transition[te]||{});else ue.transition=d.supplyAnimationTransitionDefaults(Q.transition||{});return ue},d.supplyAnimationFrameDefaults=function(Q){var te={};function ue(J,K){return t.coerce(Q||{},te,y.frame,J,K)}return ue("duration"),ue("redraw"),te},d.supplyAnimationTransitionDefaults=function(Q){var te={};function ue(J,K){return t.coerce(Q||{},te,y.transition,J,K)}return ue("duration"),ue("easing"),te},d.supplyFrameDefaults=function(Q){var te={};function ue(J,K){return t.coerce(Q,te,h,J,K)}return ue("group"),ue("name"),ue("traces"),ue("baseframe"),ue("data"),ue("layout"),te},d.supplyTraceDefaults=function(Q,te,ue,J,K){var ce=J.colorway||a.defaults,ae=ce[ue%ce.length],de;function be(Ye,rt){return t.coerce(Q,te,d.attributes,Ye,rt)}var Se=be("visible");be("type"),be("name",J._traceWord+" "+K),be("uirevision",J.uirevision);var Te=d.getModule(te);if(te._module=Te,Te){var Ie=Te.basePlotModule,ke=Ie.attr,Be=Ie.attributes;if(ke&&Be){var Me=J._subplots,Oe="";if(Se||Ie.name!=="gl2d"){if(Array.isArray(ke))for(de=0;de<ke.length;de++){var _e=ke[de],Ne=t.coerce(Q,te,Be,_e);Me[_e]&&t.pushUnique(Me[_e],Ne),Oe+=Ne}else Oe=t.coerce(Q,te,Be,ke);Me[Ie.name]&&t.pushUnique(Me[Ie.name],Oe)}}}if(Se){if(be("customdata"),be("ids"),be("meta"),v.traceIs(te,"showLegend")?(t.coerce(Q,te,Te.attributes.showlegend?Te.attributes:d.attributes,"showlegend"),be("legend"),be("legendwidth"),be("legendgroup"),be("legendgrouptitle.text"),be("legendrank"),te._dfltShowLegend=!0):te._dfltShowLegend=!1,Te&&Te.supplyDefaults(Q,te,ae,J),v.traceIs(te,"noOpacity")||be("opacity"),v.traceIs(te,"notLegendIsolatable")&&(te.visible=!!te.visible),v.traceIs(te,"noHover")||(te.hovertemplate||t.coerceHoverinfo(Q,te,J),te.type!=="parcats"&&v.getComponentMethod("fx","supplyDefaults")(Q,te,ae,J)),Te&&Te.selectPoints){var Ce=be("selectedpoints");t.isTypedArray(Ce)&&(te.selectedpoints=Array.from(Ce))}d.supplyTransformDefaults(Q,te,J)}return te};function H(Q){var te=Q.transforms;if(Array.isArray(te)&&te.length)for(var ue=0;ue<te.length;ue++){var J=te[ue],K=J._module||x[J.type];if(K&&K.makesData)return!0}return!1}d.hasMakesDataTransform=H,d.supplyTransformDefaults=function(Q,te,ue){if(te._length||H(Q)){var J=ue._globalTransforms||[],K=ue._transformModules||[];if(!(!Array.isArray(Q.transforms)&&J.length===0))for(var ce=Q.transforms||[],ae=J.concat(ce),de=te.transforms=[],be=0;be<ae.length;be++){var Se=ae[be],Te=Se.type,Ie=x[Te],ke,Be=!(Se._module&&Se._module===Ie),Me=Ie&&typeof Ie.transform=="function";Ie||t.warn("Unrecognized transform type "+Te+"."),Ie&&Ie.supplyDefaults&&(Be||Me)?(ke=Ie.supplyDefaults(Se,te,ue,Q),ke.type=Te,ke._module=Ie,t.pushUnique(K,Ie)):ke=t.extendFlat({},Se),de.push(ke)}}};function F(Q,te,ue,J){for(var K=Q.transforms,ce=[Q],ae=0;ae<K.length;ae++){var de=K[ae],be=x[de.type];be&&be.transform&&(ce=be.transform(ce,{transform:de,fullTrace:Q,fullData:te,layout:ue,fullLayout:J,transformIndex:ae}))}return ce}d.supplyLayoutGlobalDefaults=function(Q,te,ue){function J(Ie,ke){return t.coerce(Q,te,d.layoutAttributes,Ie,ke)}var K=Q.template;t.isPlainObject(K)&&(te.template=K,te._template=K.layout,te._dataTemplate=K.data),J("autotypenumbers");var ce=t.coerceFont(J,"font"),ae=ce.size;t.coerceFont(J,"title.font",ce,{overrideDflt:{size:Math.round(ae*1.4)}}),J("title.text",te._dfltTitle.plot),J("title.xref");var de=J("title.yref");J("title.pad.t"),J("title.pad.r"),J("title.pad.b"),J("title.pad.l");var be=J("title.automargin");J("title.x"),J("title.xanchor"),J("title.y"),J("title.yanchor"),be&&(de==="paper"&&(te.title.y!==0&&(te.title.y=1),te.title.yanchor==="auto"&&(te.title.yanchor=te.title.y===0?"top":"bottom")),de==="container"&&(te.title.y==="auto"&&(te.title.y=1),te.title.yanchor==="auto"&&(te.title.yanchor=te.title.y<.5?"bottom":"top")));var Se=J("uniformtext.mode");Se&&J("uniformtext.minsize"),J("autosize",!(Q.width&&Q.height)),J("width"),J("height"),J("minreducedwidth"),J("minreducedheight"),J("margin.l"),J("margin.r"),J("margin.t"),J("margin.b"),J("margin.pad"),J("margin.autoexpand"),Q.width&&Q.height&&d.sanitizeMargins(te),v.getComponentMethod("grid","sizeDefaults")(Q,te),J("paper_bgcolor"),J("separators",ue.decimal+ue.thousands),J("hidesources"),J("colorway"),J("datarevision");var Te=J("uirevision");J("editrevision",Te),J("selectionrevision",Te),v.getComponentMethod("modebar","supplyLayoutDefaults")(Q,te),v.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Q,te,J),v.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Q,te,J),J("meta"),t.isPlainObject(Q.transition)&&(J("transition.duration"),J("transition.easing"),J("transition.ordering")),v.getComponentMethod("calendars","handleDefaults")(Q,te,"calendar"),v.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Q,te,J),t.coerce(Q,te,l,"scattermode")};function B(Q){return typeof Q=="string"&&Q.substr(Q.length-2)==="px"&&parseFloat(Q)}d.plotAutoSize=function(te,ue,J){var K=te._context||{},ce=K.frameMargins,ae,de,be=t.isPlotDiv(te);if(be&&te.emit("plotly_autosize"),K.fillFrame)ae=window.innerWidth,de=window.innerHeight,document.body.style.overflow="hidden";else{var Se=be?window.getComputedStyle(te):{};if(ae=B(Se.width)||B(Se.maxWidth)||J.width,de=B(Se.height)||B(Se.maxHeight)||J.height,C(ce)&&ce>0){var Te=1-2*ce;ae=Math.round(Te*ae),de=Math.round(Te*de)}}var Ie=d.layoutAttributes.width.min,ke=d.layoutAttributes.height.min;ae<Ie&&(ae=Ie),de<ke&&(de=ke);var Be=!ue.width&&Math.abs(J.width-ae)>1,Me=!ue.height&&Math.abs(J.height-de)>1;(Me||Be)&&(Be&&(J.width=ae),Me&&(J.height=de)),te._initialAutoSize||(te._initialAutoSize={width:ae,height:de}),d.sanitizeMargins(J)},d.supplyLayoutModuleDefaults=function(Q,te,ue,J){var K=v.componentsRegistry,ce=te._basePlotModules,ae,de,be,Se=v.subplotsRegistry.cartesian;for(ae in K)be=K[ae],be.includeBasePlot&&be.includeBasePlot(Q,te);ce.length||ce.push(Se),te._has("cartesian")&&(v.getComponentMethod("grid","contentDefaults")(Q,te),Se.finalizeSubplots(Q,te));for(var Te in te._subplots)te._subplots[Te].sort(t.subplotSort);for(de=0;de<ce.length;de++)be=ce[de],be.supplyLayoutDefaults&&be.supplyLayoutDefaults(Q,te,ue);var Ie=te._modules;for(de=0;de<Ie.length;de++)be=Ie[de],be.supplyLayoutDefaults&&be.supplyLayoutDefaults(Q,te,ue);var ke=te._transformModules;for(de=0;de<ke.length;de++)be=ke[de],be.supplyLayoutDefaults&&be.supplyLayoutDefaults(Q,te,ue,J);for(ae in K)be=K[ae],be.supplyLayoutDefaults&&be.supplyLayoutDefaults(Q,te,ue)},d.purge=function(Q){var te=Q._fullLayout||{};te._glcontainer!==void 0&&(te._glcontainer.selectAll(".gl-canvas").remove(),te._glcontainer.remove(),te._glcanvas=null),te._modeBar&&te._modeBar.destroy(),Q._transitionData&&(Q._transitionData._interruptCallbacks&&(Q._transitionData._interruptCallbacks.length=0),Q._transitionData._animationRaf&&window.cancelAnimationFrame(Q._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(Q),delete Q.data,delete Q.layout,delete Q._fullData,delete Q._fullLayout,delete Q.calcdata,delete Q.empty,delete Q.fid,delete Q.undoqueue,delete Q.undonum,delete Q.autoplay,delete Q.changed,delete Q._promises,delete Q._redrawTimer,delete Q._hmlumcount,delete Q._hmpixcount,delete Q._transitionData,delete Q._transitioning,delete Q._initialAutoSize,delete Q._transitioningWithDuration,delete Q._dragging,delete Q._dragged,delete Q._dragdata,delete Q._hoverdata,delete Q._snapshotInProgress,delete Q._editing,delete Q._mouseDownTime,delete Q._legendMouseDownTime,Q.removeAllListeners&&Q.removeAllListeners()},d.style=function(Q){var te=Q._fullLayout._visibleModules,ue=[],J;for(J=0;J<te.length;J++){var K=te[J];K.style&&t.pushUnique(ue,K.style)}for(J=0;J<ue.length;J++)ue[J](Q)},d.sanitizeMargins=function(Q){if(!(!Q||!Q.margin)){var te=Q.width,ue=Q.height,J=Q.margin,K=te-(J.l+J.r),ce=ue-(J.t+J.b),ae;K<0&&(ae=(te-1)/(J.l+J.r),J.l=Math.floor(ae*J.l),J.r=Math.floor(ae*J.r)),ce<0&&(ae=(ue-1)/(J.t+J.b),J.t=Math.floor(ae*J.t),J.b=Math.floor(ae*J.b))}},d.clearAutoMarginIds=function(Q){Q._fullLayout._pushmarginIds={}},d.allowAutoMargin=function(Q,te){Q._fullLayout._pushmarginIds[te]=1};function U(Q){var te=Q.margin;if(!Q._size){var ue=Q._size={l:Math.round(te.l),r:Math.round(te.r),t:Math.round(te.t),b:Math.round(te.b),p:Math.round(te.pad)};ue.w=Math.round(Q.width)-ue.l-ue.r,ue.h=Math.round(Q.height)-ue.t-ue.b}Q._pushmargin||(Q._pushmargin={}),Q._pushmarginIds||(Q._pushmarginIds={}),Q._reservedMargin||(Q._reservedMargin={})}var z=2,W=2;d.autoMargin=function(Q,te,ue){var J=Q._fullLayout,K=J.width,ce=J.height,ae=J.margin,de=J.minreducedwidth,be=J.minreducedheight,Se=t.constrain(K-ae.l-ae.r,z,de),Te=t.constrain(ce-ae.t-ae.b,W,be),Ie=Math.max(0,K-Se),ke=Math.max(0,ce-Te),Be=J._pushmargin,Me=J._pushmarginIds;if(ae.autoexpand!==!1){if(!ue)delete Be[te],delete Me[te];else{var Oe=ue.pad;if(Oe===void 0&&(Oe=Math.min(12,ae.l,ae.r,ae.t,ae.b)),Ie){var _e=(ue.l+ue.r)/Ie;_e>1&&(ue.l/=_e,ue.r/=_e)}if(ke){var Ne=(ue.t+ue.b)/ke;Ne>1&&(ue.t/=Ne,ue.b/=Ne)}var Ce=ue.xl!==void 0?ue.xl:ue.x,Ye=ue.xr!==void 0?ue.xr:ue.x,rt=ue.yt!==void 0?ue.yt:ue.y,ot=ue.yb!==void 0?ue.yb:ue.y;Be[te]={l:{val:Ce,size:ue.l+Oe},r:{val:Ye,size:ue.r+Oe},b:{val:ot,size:ue.b+Oe},t:{val:rt,size:ue.t+Oe}},Me[te]=1}if(!J._replotting)return d.doAutoMargin(Q)}};function j(Q){if("_redrawFromAutoMarginCount"in Q._fullLayout)return!1;var te=f.list(Q,"",!0);for(var ue in te)if(te[ue].autoshift||te[ue].shift)return!0;return!1}d.doAutoMargin=function(Q){var te=Q._fullLayout,ue=te.width,J=te.height;te._size||(te._size={}),U(te);var K=te._size,ce=te.margin,ae={t:0,b:0,l:0,r:0},de=t.extendFlat({},K),be=ce.l,Se=ce.r,Te=ce.t,Ie=ce.b,ke=te._pushmargin,Be=te._pushmarginIds,Me=te.minreducedwidth,Oe=te.minreducedheight;if(ce.autoexpand!==!1){for(var _e in ke)Be[_e]||delete ke[_e];var Ne=Q._fullLayout._reservedMargin;for(var Ce in Ne)for(var Ye in Ne[Ce]){var rt=Ne[Ce][Ye];ae[Ye]=Math.max(ae[Ye],rt)}ke.base={l:{val:0,size:be},r:{val:1,size:Se},t:{val:1,size:Te},b:{val:0,size:Ie}};for(var ot in ae){var $e=0;for(var qe in ke)qe!=="base"&&C(ke[qe][ot].size)&&($e=ke[qe][ot].size>$e?ke[qe][ot].size:$e);var ht=Math.max(0,ce[ot]-$e);ae[ot]=Math.max(0,ae[ot]-ht)}for(var vt in ke){var pt=ke[vt].l||{},wt=ke[vt].b||{},Mt=pt.val,nt=pt.size,Fe=wt.val,We=wt.size,Ze=ue-ae.r-ae.l,Ge=J-ae.t-ae.b;for(var Pe in ke){if(C(nt)&&ke[Pe].r){var Re=ke[Pe].r.val,je=ke[Pe].r.size;if(Re>Mt){var De=(nt*Re+(je-Ze)*Mt)/(Re-Mt),ge=(je*(1-Mt)+(nt-Ze)*(1-Re))/(Re-Mt);De+ge>be+Se&&(be=De,Se=ge)}}if(C(We)&&ke[Pe].t){var we=ke[Pe].t.val,Ue=ke[Pe].t.size;if(we>Fe){var et=(We*we+(Ue-Ge)*Fe)/(we-Fe),st=(Ue*(1-Fe)+(We-Ge)*(1-we))/(we-Fe);et+st>Ie+Te&&(Ie=et,Te=st)}}}}}var lt=t.constrain(ue-ce.l-ce.r,z,Me),Wt=t.constrain(J-ce.t-ce.b,W,Oe),jt=Math.max(0,ue-lt),Tt=Math.max(0,J-Wt);if(jt){var Rt=(be+Se)/jt;Rt>1&&(be/=Rt,Se/=Rt)}if(Tt){var Zt=(Ie+Te)/Tt;Zt>1&&(Ie/=Zt,Te/=Zt)}if(K.l=Math.round(be)+ae.l,K.r=Math.round(Se)+ae.r,K.t=Math.round(Te)+ae.t,K.b=Math.round(Ie)+ae.b,K.p=Math.round(ce.pad),K.w=Math.round(ue)-K.l-K.r,K.h=Math.round(J)-K.t-K.b,!te._replotting&&(d.didMarginChange(de,K)||j(Q))){"_redrawFromAutoMarginCount"in te?te._redrawFromAutoMarginCount++:te._redrawFromAutoMarginCount=1;var mr=3*(1+Object.keys(Be).length);if(te._redrawFromAutoMarginCount<mr)return v.call("_doPlot",Q);te._size=de,t.warn("Too many auto-margin redraws.")}ee(Q)};function ee(Q){var te=f.list(Q,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ue){for(var J=0;J<te.length;J++){var K=te[J][ue];K&&K()}})}var ie=["l","r","t","b","p","w","h"];d.didMarginChange=function(Q,te){for(var ue=0;ue<ie.length;ue++){var J=ie[ue],K=Q[J],ce=te[J];if(!C(K)||Math.abs(ce-K)>1)return!0}return!1},d.graphJson=function(Q,te,ue,J,K,ce){(K&&te&&!Q._fullData||K&&!te&&!Q._fullLayout)&&d.supplyDefaults(Q);var ae=K?Q._fullData:Q.data,de=K?Q._fullLayout:Q.layout,be=(Q._transitionData||{})._frames;function Se(ke,Be){if(typeof ke=="function")return Be?"_function_":null;if(t.isPlainObject(ke)){var Me={},Oe;return Object.keys(ke).sort().forEach(function(Ye){if(["_","["].indexOf(Ye.charAt(0))===-1){if(typeof ke[Ye]=="function"){Be&&(Me[Ye]="_function");return}if(ue==="keepdata"){if(Ye.substr(Ye.length-3)==="src")return}else if(ue==="keepstream"){if(Oe=ke[Ye+"src"],typeof Oe=="string"&&Oe.indexOf(":")>0&&!t.isPlainObject(ke.stream))return}else if(ue!=="keepall"&&(Oe=ke[Ye+"src"],typeof Oe=="string"&&Oe.indexOf(":")>0))return;Me[Ye]=Se(ke[Ye],Be)}}),Me}var _e=Array.isArray(ke),Ne=t.isTypedArray(ke);if((_e||Ne)&&ke.dtype&&ke.shape){var Ce=ke.bdata;return Se({dtype:ke.dtype,shape:ke.shape,bdata:t.isArrayBuffer(Ce)?S.encode(Ce):Ce},Be)}return _e?ke.map(function(Ye){return Se(Ye,Be)}):Ne?t.simpleMap(ke,t.identity):t.isJSDate(ke)?t.ms2DateTimeLocal(+ke):ke}var Te={data:(ae||[]).map(function(ke){var Be=Se(ke);return te&&delete Be.fit,Be})};if(!te&&(Te.layout=Se(de),K)){var Ie=de._size;Te.layout.computed={margin:{b:Ie.b,l:Ie.l,r:Ie.r,t:Ie.t}}}return be&&(Te.frames=Se(be)),ce&&(Te.config=Se(Q._context,!0)),J==="object"?Te:JSON.stringify(Te)},d.modifyFrames=function(Q,te){var ue,J,K,ce=Q._transitionData._frames,ae=Q._transitionData._frameHash;for(ue=0;ue<te.length;ue++)switch(J=te[ue],J.type){case"replace":K=J.value;var de=(ce[J.index]||{}).name,be=K.name;ce[J.index]=ae[be]=K,be!==de&&(delete ae[de],ae[be]=K);break;case"insert":K=J.value,ae[K.name]=K,ce.splice(J.index,0,K);break;case"delete":K=ce[J.index],delete ae[K.name],ce.splice(J.index,1);break}return Promise.resolve()},d.computeFrame=function(Q,te){var ue=Q._transitionData._frameHash,J,K,ce,ae;if(!te)throw new Error("computeFrame must be given a string frame name");var de=ue[te.toString()];if(!de)return!1;for(var be=[de],Se=[de.name];de.baseframe&&(de=ue[de.baseframe.toString()])&&Se.indexOf(de.name)===-1;)be.push(de),Se.push(de.name);for(var Te={};de=be.pop();)if(de.layout&&(Te.layout=d.extendLayout(Te.layout,de.layout)),de.data){if(Te.data||(Te.data=[]),K=de.traces,!K)for(K=[],J=0;J<de.data.length;J++)K[J]=J;for(Te.traces||(Te.traces=[]),J=0;J<de.data.length;J++)ce=K[J],ce!=null&&(ae=Te.traces.indexOf(ce),ae===-1&&(ae=Te.data.length,Te.traces[ae]=ce),Te.data[ae]=d.extendTrace(Te.data[ae],de.data[J]))}return Te},d.recomputeFrameHash=function(Q){for(var te=Q._transitionData._frameHash={},ue=Q._transitionData._frames,J=0;J<ue.length;J++){var K=ue[J];K&&K.name&&(te[K.name]=K)}},d.extendObjectWithContainers=function(Q,te,ue){var J,K,ce,ae,de,be,Se,Te,Ie=t.extendDeepNoArrays({},te||{}),ke=t.expandObjectPaths(Ie),Be={};if(ue&&ue.length)for(ce=0;ce<ue.length;ce++)J=t.nestedProperty(ke,ue[ce]),K=J.get(),K===void 0?t.nestedProperty(Be,ue[ce]).set(null):(J.set(null),t.nestedProperty(Be,ue[ce]).set(K));if(Q=t.extendDeepNoArrays(Q||{},ke),ue&&ue.length){for(ce=0;ce<ue.length;ce++)if(de=t.nestedProperty(Be,ue[ce]),Se=de.get(),!!Se){for(be=t.nestedProperty(Q,ue[ce]),Te=be.get(),Array.isArray(Te)||(Te=[],be.set(Te)),ae=0;ae<Se.length;ae++){var Me=Se[ae];Me===null?Te[ae]=null:Te[ae]=d.extendObjectWithContainers(Te[ae],Me)}be.set(Te)}}return Q},d.dataArrayContainers=["transforms","dimensions"],d.layoutArrayContainers=v.layoutArrayContainers,d.extendTrace=function(Q,te){return d.extendObjectWithContainers(Q,te,d.dataArrayContainers)},d.extendLayout=function(Q,te){return d.extendObjectWithContainers(Q,te,d.layoutArrayContainers)},d.transition=function(Q,te,ue,J,K,ce){var ae={redraw:K.redraw},de={},be=[];return ae.prepareFn=function(){for(var Se=Array.isArray(te)?te.length:0,Te=J.slice(0,Se),Ie=0;Ie<Te.length;Ie++){var ke=Te[Ie],Be=Q._fullData[ke],Me=Be._module;if(Me){if(Me.animatable){var Oe=Me.basePlotModule.name;de[Oe]||(de[Oe]=[]),de[Oe].push(ke)}Q.data[Te[Ie]]=d.extendTrace(Q.data[Te[Ie]],te[Ie])}}var _e=t.expandObjectPaths(t.extendDeepNoArrays({},ue)),Ne=/^[xy]axis[0-9]*$/;for(var Ce in _e)Ne.test(Ce)&&delete _e[Ce].range;d.extendLayout(Q.layout,_e),delete Q.calcdata,d.supplyDefaults(Q),d.doCalcdata(Q);var Ye=t.expandObjectPaths(ue);if(Ye){var rt=Q._fullLayout._plots;for(var ot in rt){var $e=rt[ot],qe=$e.xaxis,ht=$e.yaxis,vt=qe.range.slice(),pt=ht.range.slice(),wt=null,Mt=null,nt=null,Fe=null;Array.isArray(Ye[qe._name+".range"])?wt=Ye[qe._name+".range"].slice():Array.isArray((Ye[qe._name]||{}).range)&&(wt=Ye[qe._name].range.slice()),Array.isArray(Ye[ht._name+".range"])?Mt=Ye[ht._name+".range"].slice():Array.isArray((Ye[ht._name]||{}).range)&&(Mt=Ye[ht._name].range.slice()),vt&&wt&&(qe.r2l(vt[0])!==qe.r2l(wt[0])||qe.r2l(vt[1])!==qe.r2l(wt[1]))&&(nt={xr0:vt,xr1:wt}),pt&&Mt&&(ht.r2l(pt[0])!==ht.r2l(Mt[0])||ht.r2l(pt[1])!==ht.r2l(Mt[1]))&&(Fe={yr0:pt,yr1:Mt}),(nt||Fe)&&be.push(t.extendFlat({plotinfo:$e},nt,Fe))}}return Promise.resolve()},ae.runFn=function(Se){var Te,Ie=Q._fullLayout._basePlotModules,ke=be.length,Be;if(ue)for(Be=0;Be<Ie.length;Be++)Ie[Be].transitionAxes&&Ie[Be].transitionAxes(Q,be,ce,Se);ke?(Te=t.extendFlat({},ce),Te.duration=0,delete de.cartesian):Te=ce;for(var Me in de){var Oe=de[Me],_e=Q._fullData[Oe[0]]._module;_e.basePlotModule.plot(Q,Oe,Te,Se)}},oe(Q,ce,ae)},d.transitionFromReact=function(Q,te,ue,J){var K=Q._fullLayout,ce=K.transition,ae={},de=[];return ae.prepareFn=function(){var be=K._plots;ae.redraw=!1,te.anim==="some"&&(ae.redraw=!0),ue.anim==="some"&&(ae.redraw=!0);for(var Se in be){var Te=be[Se],Ie=Te.xaxis,ke=Te.yaxis,Be=J[Ie._name].range.slice(),Me=J[ke._name].range.slice(),Oe=Ie.range.slice(),_e=ke.range.slice();Ie.setScale(),ke.setScale();var Ne=null,Ce=null;(Ie.r2l(Be[0])!==Ie.r2l(Oe[0])||Ie.r2l(Be[1])!==Ie.r2l(Oe[1]))&&(Ne={xr0:Be,xr1:Oe}),(ke.r2l(Me[0])!==ke.r2l(_e[0])||ke.r2l(Me[1])!==ke.r2l(_e[1]))&&(Ce={yr0:Me,yr1:_e}),(Ne||Ce)&&de.push(t.extendFlat({plotinfo:Te},Ne,Ce))}return Promise.resolve()},ae.runFn=function(be){for(var Se=Q._fullData,Te=Q._fullLayout,Ie=Te._basePlotModules,ke,Be,Me,Oe=[],_e=0;_e<Se.length;_e++)Oe.push(_e);function Ne(){if(Q._fullLayout)for(var Ye=0;Ye<Ie.length;Ye++)Ie[Ye].transitionAxes&&Ie[Ye].transitionAxes(Q,de,ke,be)}function Ce(){if(Q._fullLayout)for(var Ye=0;Ye<Ie.length;Ye++)Ie[Ye].plot(Q,Me,Be,be)}de.length&&te.anim?ce.ordering==="traces first"?(ke=t.extendFlat({},ce,{duration:0}),Me=Oe,Be=ce,setTimeout(Ne,ce.duration),Ce()):(ke=ce,Me=null,Be=t.extendFlat({},ce,{duration:0}),setTimeout(Ce,ke.duration),Ne()):de.length?(ke=ce,Ne()):te.anim&&(Me=Oe,Be=ce,Ce())},oe(Q,ce,ae)};function oe(Q,te,ue){var J=!1;function K(Ie){var ke=Promise.resolve();if(!Ie)return ke;for(;Ie.length;)ke=ke.then(Ie.shift());return ke}function ce(Ie){if(Ie)for(;Ie.length;)Ie.shift()}function ae(){return Q.emit("plotly_transitioning",[]),new Promise(function(Ie){Q._transitioning=!0,te.duration>0&&(Q._transitioningWithDuration=!0),Q._transitionData._interruptCallbacks.push(function(){J=!0}),ue.redraw&&Q._transitionData._interruptCallbacks.push(function(){return v.call("redraw",Q)}),Q._transitionData._interruptCallbacks.push(function(){Q.emit("plotly_transitioninterrupted",[])});var ke=0,Be=0;function Me(){return ke++,function(){Be++,!J&&Be===ke&&de(Ie)}}ue.runFn(Me),setTimeout(Me())})}function de(Ie){if(Q._transitionData)return ce(Q._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ue.redraw)return v.call("redraw",Q)}).then(function(){Q._transitioning=!1,Q._transitioningWithDuration=!1,Q.emit("plotly_transitioned",[])}).then(Ie)}function be(){if(Q._transitionData)return Q._transitioning=!1,K(Q._transitionData._interruptCallbacks)}var Se=[d.previousPromises,be,ue.prepareFn,d.rehover,d.reselect,ae],Te=t.syncOrAsync(Se,Q);return(!Te||!Te.then)&&(Te=Promise.resolve()),Te.then(function(){return Q})}d.doCalcdata=function(Q,te){var ue=f.list(Q),J=Q._fullData,K=Q._fullLayout,ce,ae,de,be,Se=new Array(J.length),Te=(Q.calcdata||[]).slice();for(Q.calcdata=Se,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},Q._hmpixcount=0,Q._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},de=0;de<J.length;de++)if(Array.isArray(te)&&te.indexOf(de)===-1){Se[de]=Te[de];continue}for(de=0;de<J.length;de++)ce=J[de],ce._arrayAttrs=g.findArrayAttributes(ce),ce._extremes={};var Ie=K._subplots.polar||[];for(de=0;de<Ie.length;de++)ue.push(K[Ie[de]].radialaxis,K[Ie[de]].angularaxis);for(var ke in K._colorAxes){var Be=K[ke];Be.cauto!==!1&&(delete Be.cmin,delete Be.cmax)}var Me=!1;function Oe(Ce){if(ce=J[Ce],ae=ce._module,ce.visible===!0&&ce.transforms){if(ae&&ae.calc){var Ye=ae.calc(Q,ce);Ye[0]&&Ye[0].t&&Ye[0].t._scene&&delete Ye[0].t._scene.dirty}for(be=0;be<ce.transforms.length;be++){var rt=ce.transforms[be];ae=x[rt.type],ae&&ae.calcTransform&&(ce._hasCalcTransform=!0,Me=!0,ae.calcTransform(Q,ce,rt))}}}function _e(Ce,Ye){if(ce=J[Ce],ae=ce._module,!!ae.isContainer===Ye){var rt=[];if(ce.visible===!0&&ce._length!==0){delete ce._indexToPoints;var ot=ce.transforms||[];for(be=ot.length-1;be>=0;be--)if(ot[be].enabled){ce._indexToPoints=ot[be]._indexToPoints;break}ae&&ae.calc&&(rt=ae.calc(Q,ce))}(!Array.isArray(rt)||!rt[0])&&(rt=[{x:n,y:n}]),rt[0].t||(rt[0].t={}),rt[0].trace=ce,Se[Ce]=rt}}for(q(ue,J,K),de=0;de<J.length;de++)_e(de,!0);for(de=0;de<J.length;de++)Oe(de);for(Me&&q(ue,J,K),de=0;de<J.length;de++)_e(de,!0);for(de=0;de<J.length;de++)_e(de,!1);le(Q);var Ne=ne(ue,Q);if(Ne.length){for(K._numBoxes=0,K._numViolins=0,de=0;de<Ne.length;de++)_e(Ne[de],!0);for(de=0;de<Ne.length;de++)_e(Ne[de],!1);le(Q)}v.getComponentMethod("fx","calc")(Q),v.getComponentMethod("errorbars","calc")(Q)};var he=/(total|sum|min|max|mean|median) (ascending|descending)/;function ne(Q,te){var ue=[],J,K,ce,ae,de;function be(Pe,Re,je){var De=Re._id.charAt(0);if(Pe==="histogram2dcontour"){var ge=Re._counterAxes[0],we=f.getFromId(te,ge),Ue=De==="x"||ge==="x"&&we.type==="category",et=De==="y"||ge==="y"&&we.type==="category";return function(st,lt){return st===0||lt===0||Ue&&st===je[lt].length-1||et&&lt===je.length-1?-1:(De==="y"?lt:st)-1}}else return function(st,lt){return De==="y"?lt:st}}var Se={min:function(Pe){return t.aggNums(Math.min,null,Pe)},max:function(Pe){return t.aggNums(Math.max,null,Pe)},sum:function(Pe){return t.aggNums(function(Re,je){return Re+je},null,Pe)},total:function(Pe){return t.aggNums(function(Re,je){return Re+je},null,Pe)},mean:function(Pe){return t.mean(Pe)},median:function(Pe){return t.median(Pe)}};function Te(Pe,Re){return Pe[1]-Re[1]}function Ie(Pe,Re){return Re[1]-Pe[1]}for(J=0;J<Q.length;J++){var ke=Q[J];if(ke.type==="category"){var Be=ke.categoryorder.match(he);if(Be){var Me=Be[1],Oe=Be[2],_e=ke._id.charAt(0),Ne=_e==="x",Ce=[];for(K=0;K<ke._categories.length;K++)Ce.push([ke._categories[K],[]]);for(K=0;K<ke._traceIndices.length;K++){var Ye=ke._traceIndices[K],rt=te._fullData[Ye];if(rt.visible===!0){var ot=rt.type;v.traceIs(rt,"histogram")&&(delete rt._xautoBinFinished,delete rt._yautoBinFinished);var $e=ot==="splom",qe=ot==="scattergl",ht=te.calcdata[Ye];for(ce=0;ce<ht.length;ce++){var vt=ht[ce],pt,wt;if($e){var Mt=rt._axesDim[ke._id];if(!Ne){var nt=rt._diag[Mt][0];nt&&(ke=te._fullLayout[f.id2name(nt)])}var Fe=vt.trace.dimensions[Mt].values;for(ae=0;ae<Fe.length;ae++)for(pt=ke._categoriesMap[Fe[ae]],de=0;de<vt.trace.dimensions.length;de++)if(de!==Mt){var We=vt.trace.dimensions[de];Ce[pt][1].push(We.values[ae])}}else if(qe){for(ae=0;ae<vt.t.x.length;ae++)Ne?(pt=vt.t.x[ae],wt=vt.t.y[ae]):(pt=vt.t.y[ae],wt=vt.t.x[ae]),Ce[pt][1].push(wt);vt.t&&vt.t._scene&&delete vt.t._scene.dirty}else if(vt.hasOwnProperty("z")){wt=vt.z;var Ze=be(rt.type,ke,wt);for(ae=0;ae<wt.length;ae++)for(de=0;de<wt[ae].length;de++)pt=Ze(de,ae),pt+1&&Ce[pt][1].push(wt[ae][de])}else for(pt=vt.p,pt===void 0&&(pt=vt[_e]),wt=vt.s,wt===void 0&&(wt=vt.v),wt===void 0&&(wt=Ne?vt.y:vt.x),Array.isArray(wt)||(wt===void 0?wt=[]:wt=[wt]),ae=0;ae<wt.length;ae++)Ce[pt][1].push(wt[ae])}}}ke._categoriesValue=Ce;var Ge=[];for(K=0;K<Ce.length;K++)Ge.push([Ce[K][0],Se[Me](Ce[K][1])]);Ge.sort(Oe==="descending"?Ie:Te),ke._categoriesAggregatedValue=Ge,ke._initialCategories=Ge.map(function(Pe){return Pe[0]}),ue=ue.concat(ke.sortByInitialCategories())}}}return ue}function q(Q,te,ue){var J={};function K(be){be.clearCalc(),be.type==="multicategory"&&be.setupMultiCategory(te),J[be._id]=1}t.simpleMap(Q,K);for(var ce=ue._axisMatchGroups||[],ae=0;ae<ce.length;ae++)for(var de in ce[ae])J[de]||K(ue[f.id2name(de)])}function le(Q){var te=Q._fullLayout,ue=te._visibleModules,J={},K,ce,ae;for(ce=0;ce<ue.length;ce++){var de=ue[ce],be=de.crossTraceCalc;if(be){var Se=de.basePlotModule.name;J[Se]?t.pushUnique(J[Se],be):J[Se]=[be]}}for(ae in J){var Te=J[ae],Ie=te._subplots[ae];if(Array.isArray(Ie))for(K=0;K<Ie.length;K++){var ke=Ie[K],Be=ae==="cartesian"?te._plots[ke]:te[ke];for(ce=0;ce<Te.length;ce++)Te[ce](Q,Be,ke)}else for(ce=0;ce<Te.length;ce++)Te[ce](Q)}}d.rehover=function(Q){Q._fullLayout._rehover&&Q._fullLayout._rehover()},d.redrag=function(Q){Q._fullLayout._redrag&&Q._fullLayout._redrag()},d.reselect=function(Q){var te=Q._fullLayout,ue=(Q.layout||{}).selections,J=te._previousSelections;te._previousSelections=ue;var K=te._reselect||JSON.stringify(ue)!==JSON.stringify(J);v.getComponentMethod("selections","reselect")(Q,K)},d.generalUpdatePerTraceModule=function(Q,te,ue,J){var K=te.traceHash,ce={},ae;for(ae=0;ae<ue.length;ae++){var de=ue[ae],be=de[0].trace;be.visible&&(ce[be.type]=ce[be.type]||[],ce[be.type].push(de))}for(var Se in K)if(!ce[Se]){var Te=K[Se][0],Ie=Te[0].trace;Ie.visible=!1,ce[Se]=[Te]}for(var ke in ce){var Be=ce[ke],Me=Be[0][0].trace._module;Me.plot(Q,te,t.filterVisible(Be),J)}te.traceHash=ce},d.plotBasePlot=function(Q,te,ue,J,K){var ce=v.getModule(Q),ae=T(te.calcdata,ce)[0];ce.plot(te,ae,J,K)},d.cleanBasePlot=function(Q,te,ue,J,K){var ce=K._has&&K._has(Q),ae=ue._has&&ue._has(Q);ce&&!ae&&K["_"+Q+"layer"].selectAll("g.trace").remove()}},39360:function(V){V.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(V,Y,e){var p=e(3400),L=e(92065).tester,o=p.findIndexOfMin,C=p.isAngleInsideSector,S=p.angleDelta,v=p.angleDist;function g(i,d,x,w,_){if(!C(d,w))return!1;var m,E;x[0]<x[1]?(m=x[0],E=x[1]):(m=x[1],E=x[0]);var A=L(f(m,w[0],w[1],_)),s=L(f(E,w[0],w[1],_)),M=[i*Math.cos(d),i*Math.sin(d)];return s.contains(M)&&!A.contains(M)}function r(i,d,x,w){var _,m,E=w[0],A=w[1],s=y(Math.sin(d)-Math.sin(i)),M=y(Math.cos(d)-Math.cos(i)),b=Math.tan(x),N=y(1/b),k=s/M,H=A-k*E;return N?s&&M?(_=H/(b-k),m=b*_):M?(_=A*N,m=A):(_=E,m=E*b):s&&M?(_=0,m=H):M?(_=0,m=A):_=m=NaN,[_,m]}function t(i,d,x,w){var _=-d*x,m=d*d+1,E=2*(d*_-x),A=_*_+x*x-i*i,s=Math.sqrt(E*E-4*m*A),M=(-E+s)/(2*m),b=(-E-s)/(2*m);return[[M,d*M+_+w],[b,d*b+_+w]]}function a(i,d){var x=d.length,w=new Array(x+1),_;for(_=0;_<x;_++){var m=d[_];w[_]=[i*Math.cos(m),i*Math.sin(m)]}return w[_]=w[0].slice(),w}function n(i,d,x,w){var _=w.length,m=[],E,A;function s(z){return[i*Math.cos(z),i*Math.sin(z)]}function M(z,W,j){return r(z,W,j,s(z))}function b(z){return p.mod(z,_)}function N(z){return C(z,[d,x])}var k=o(w,function(z){return N(z)?v(z,d):1/0}),H=M(w[k],w[b(k-1)],d);for(m.push(H),E=k,A=0;A<_;E++,A++){var F=w[b(E)];if(!N(F))break;m.push(s(F))}var B=o(w,function(z){return N(z)?v(z,x):1/0}),U=M(w[B],w[b(B+1)],x);return m.push(U),m.push([0,0]),m.push(m[0].slice()),m}function f(i,d,x,w){return p.isFullCircle([d,x])?a(i,w):n(i,d,x,w)}function u(i,d,x,w){for(var _=1/0,m=1/0,E=f(i,d,x,w),A=0;A<E.length;A++){var s=E[A];_=Math.min(_,s[0]),m=Math.min(m,-s[1])}return[_,m]}function l(i,d){var x=function(m){var E=S(m,i);return E>0?E:1/0},w=o(d,x),_=p.mod(w+1,d.length);return[d[w],d[_]]}function y(i){return Math.abs(i)>1e-10?i:0}function h(i,d,x){d=d||0,x=x||0;for(var w=i.length,_=new Array(w),m=0;m<w;m++){var E=i[m];_[m]=[d+E[0],x-E[1]]}return _}function T(i,d,x,w,_,m){var E=f(i,d,x,w);return"M"+h(E,_,m).join("L")}function c(i,d,x,w,_,m,E){var A,s;i<d?(A=i,s=d):(A=d,s=i);var M=h(f(A,x,w,_),m,E),b=h(f(s,x,w,_),m,E);return"M"+b.reverse().join("L")+"M"+M.join("L")}V.exports={isPtInsidePolygon:g,findPolygonOffset:u,findEnclosingVertexAngles:l,findIntersectionXY:r,findXYatLength:t,clampTiny:y,pathPolygon:T,pathPolygonAnnulus:c}},40872:function(V,Y,e){var p=e(84888).KY,L=e(3400).counterRegex,o=e(62400),C=e(39360),S=C.attr,v=C.name,g=L(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],y=0;y<l.length;y++){var h=l[y],T=p(u,v,h),c=f[h]._subplot;c||(c=o(n,h),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,u,l){for(var y=l._subplots[v]||[],h=l._has&&l._has("gl"),T=f._has&&f._has("gl"),c=h&&!T,i=0;i<y.length;i++){var d=y[i],x=l[d]._subplot;if(!f[d]&&x){x.framework.remove(),x.layers["radial-axis-title"].remove();for(var w in x.clipPaths)x.clipPaths[w].remove()}c&&x._scene&&(x._scene.destroy(),x._scene=null)}}V.exports={attr:S,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:t,clean:a,toSVG:e(57952).toSVG}},95300:function(V,Y,e){var p=e(22548),L=e(94724),o=e(86968).u,C=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=S({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),r={visible:C({},L.visible,{dflt:!0}),type:C({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},autorange:C({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},L.minallowed,{editType:"plot"}),maxallowed:C({},L.maxallowed,{editType:"plot"}),range:C({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:L.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},L.title.text,{editType:"plot",dflt:""}),font:C({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};C(r,v,g);var t={visible:C({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(t,v,g),V.exports={domain:o({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(V,Y,e){var p=e(3400),L=e(76308),o=e(31780),C=e(168),S=e(84888).op,v=e(26332),g=e(25404),r=e(95936),t=e(42568),a=e(22416),n=e(42136),f=e(76808),u=e(52976),l=e(95300),y=e(57696),h=e(39360),T=h.axisNames;function c(d,x,w,_){var m=w("bgcolor");_.bgColor=L.combine(m,_.paper_bgcolor);var E=w("sector");w("hole");var A=S(_.fullData,h.name,_.id),s=_.layoutOut,M;function b(de,be){return w(M+"."+de,be)}for(var N=0;N<T.length;N++){M=T[N],p.isPlainObject(d[M])||(d[M]={});var k=d[M],H=o.newContainer(x,M);H._id=H._name=M,H._attr=_.id+"."+M,H._traceIndices=A.map(function(de){return de._expandedIndex});var F=h.axisName2dataArray[M],B=i(k,H,b,A,F,_);a(k,H,b,{axData:A,dataAttr:F});var U=b("visible");switch(y(H,x,s),b("uirevision",x.uirevision),H._m=1,M){case"radialaxis":b("minallowed"),b("maxallowed");var z=b("range"),W=H.getAutorangeDflt(z),j=b("autorange",W),ee;z&&(z[0]===null&&z[1]===null||(z[0]===null||z[1]===null)&&(j==="reversed"||j===!0)||z[0]!==null&&(j==="min"||j==="max reversed")||z[1]!==null&&(j==="max"||j==="min reversed"))&&(z=void 0,delete H.range,H.autorange=!0,ee=!0),ee||(W=H.getAutorangeDflt(z),j=b("autorange",W)),k.autorange=j,j&&(f(b,j,z),(B==="linear"||B==="-")&&b("rangemode"),H.isReversed()&&(H._m=-1)),H.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(B==="date"){p.log("Polar plots do not support date angular axes yet.");for(var ie=0;ie<A.length;ie++)A[ie].visible=!1;B=k.type=H.type="linear"}b(B==="linear"?"thetaunit":"period");var oe=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[oe]);break}if(t(k,H,b,H.type,{tickSuffixDflt:H.thetaunit==="degrees"?"°":void 0}),U){var he,ne,q,le,Q,te,ue,J,K,ce,ae=_.font||{};he=b("color"),ne=he===k.color?he:ae.color,q=ae.size,le=ae.family,Q=ae.weight,te=ae.style,ue=ae.variant,J=ae.textcase,K=ae.lineposition,ce=ae.shadow,v(k,H,b,H.type),r(k,H,b,H.type,{font:{weight:Q,style:te,variant:ue,textcase:J,lineposition:K,shadow:ce,color:ne,size:q,family:le},noAutotickangles:M==="angularaxis"}),g(k,H,b,{outerTicks:!0}),n(k,H,b,{dfltColor:he,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[M]}),b("layer"),M==="radialaxis"&&(b("side"),b("angle",E[0]),b("title.text"),p.coerceFont(b,"title.font",{weight:Q,style:te,variant:ue,textcase:J,lineposition:K,shadow:ce,color:ne,size:p.bigFont(q),family:le}))}B!=="category"&&b("hoverformat"),H._input=k}x.angularaxis.type==="category"&&w("gridshape")}function i(d,x,w,_,m,E){var A=w("autotypenumbers",E.autotypenumbersDflt),s=w("type");if(s==="-"){for(var M,b=0;b<_.length;b++)if(_[b].visible){M=_[b];break}M&&M[m]&&(x.type=u(M[m],"gregorian",{noMultiCategory:!0,autotypenumbers:A})),x.type==="-"?x.type="linear":d.type=x.type}return x.type}V.exports=function(x,w,_){C(x,w,_,{type:h.name,attributes:l,handleDefaults:c,font:w.font,autotypenumbersDflt:w.autotypenumbers,paper_bgcolor:w.paper_bgcolor,fullData:_,layoutOut:w})}},62400:function(V,Y,e){var p=e(33428),L=e(49760),o=e(24040),C=e(3400),S=C.strRotate,v=C.strTranslate,g=e(76308),r=e(43616),t=e(7316),a=e(54460),n=e(78344),f=e(57696),u=e(19280).doAutoRange,l=e(51184),y=e(86476),h=e(93024),T=e(81668),c=e(22676).prepSelect,i=e(22676).selectOnClick,d=e(22676).clearOutline,x=e(93972),w=e(73696),_=e(39172).redrawReglTraces,m=e(84284).MID_SHIFT,E=e(39360),A=e(57384),s=e(36416),M=s.smith,b=s.reactanceArc,N=s.resistanceArc,k=s.smithTransform,H=C._,F=C.mod,B=C.deg2rad,U=C.rad2deg;function z(he,ne,q){this.isSmith=q||!1,this.id=ne,this.gd=he,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var le=he._fullLayout,Q="clip"+le._uid+ne;this.clipIds.forTraces=Q+"-for-traces",this.clipPaths.forTraces=le._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=le["_"+(q?"smith":"polar")+"layer"].append("g").attr("class",ne),this.getHole=function(te){return this.isSmith?0:te.hole},this.getSector=function(te){return this.isSmith?[0,360]:te.sector},this.getRadial=function(te){return this.isSmith?te.realaxis:te.radialaxis},this.getAngular=function(te){return this.isSmith?te.imaginaryaxis:te.angularaxis},q||(this.radialTickLayout=null,this.angularTickLayout=null)}var W=z.prototype;V.exports=function(ne,q,le){return new z(ne,q,le)},W.plot=function(he,ne){for(var q=this,le=ne[q.id],Q=!1,te=0;te<he.length;te++){var ue=he[te][0].trace;if(ue.cliponaxis===!1){Q=!0;break}}q._hasClipOnAxisFalse=Q,q.updateLayers(ne,le),q.updateLayout(ne,le),t.generalUpdatePerTraceModule(q.gd,q,he,le),q.updateFx(ne,le),q.isSmith&&(delete le.realaxis.range,delete le.imaginaryaxis.range)},W.updateLayers=function(he,ne){var q=this,le=q.isSmith,Q=q.layers,te=q.getRadial(ne),ue=q.getAngular(ne),J=E.layerNames,K=J.indexOf("frontplot"),ce=J.slice(0,K),ae=ue.layer==="below traces",de=te.layer==="below traces";ae&&ce.push("angular-line"),de&&ce.push("radial-line"),ae&&ce.push("angular-axis"),de&&ce.push("radial-axis"),ce.push("frontplot"),ae||ce.push("angular-line"),de||ce.push("radial-line"),ae||ce.push("angular-axis"),de||ce.push("radial-axis");var be=(le?"smith":"polar")+"sublayer",Se=q.framework.selectAll("."+be).data(ce,String);Se.enter().append("g").attr("class",function(Te){return be+" "+Te}).each(function(Te){var Ie=Q[Te]=p.select(this);switch(Te){case"frontplot":le||Ie.append("g").classed("barlayer",!0),Ie.append("g").classed("scatterlayer",!0);break;case"backplot":Ie.append("g").classed("maplayer",!0);break;case"plotbg":Q.bg=Ie.append("path");break;case"radial-grid":Ie.style("fill","none");break;case"angular-grid":Ie.style("fill","none");break;case"radial-line":Ie.append("line").style("fill","none");break;case"angular-line":Ie.append("path").style("fill","none");break}}),Se.order()},W.updateLayout=function(he,ne){var q=this,le=q.layers,Q=he._size,te=q.getRadial(ne),ue=q.getAngular(ne),J=ne.domain.x,K=ne.domain.y;q.xOffset=Q.l+Q.w*J[0],q.yOffset=Q.t+Q.h*(1-K[1]);var ce=q.xLength=Q.w*(J[1]-J[0]),ae=q.yLength=Q.h*(K[1]-K[0]),de=q.getSector(ne);q.sectorInRad=de.map(B);var be=q.sectorBBox=ee(de),Se=be[2]-be[0],Te=be[3]-be[1],Ie=ae/ce,ke=Math.abs(Te/Se),Be,Me,Oe,_e,Ne;Ie>ke?(Be=ce,Me=ce*ke,Ne=(ae-Me)/Q.h/2,Oe=[J[0],J[1]],_e=[K[0]+Ne,K[1]-Ne]):(Be=ae/ke,Me=ae,Ne=(ce-Be)/Q.w/2,Oe=[J[0]+Ne,J[1]-Ne],_e=[K[0],K[1]]),q.xLength2=Be,q.yLength2=Me,q.xDomain2=Oe,q.yDomain2=_e;var Ce=q.xOffset2=Q.l+Q.w*Oe[0],Ye=q.yOffset2=Q.t+Q.h*(1-_e[1]),rt=q.radius=Be/Se,ot=q.innerRadius=q.getHole(ne)*rt,$e=q.cx=Ce-rt*be[0],qe=q.cy=Ye+rt*be[3],ht=q.cxx=$e-Ce,vt=q.cyy=qe-Ye,pt=te.side,wt;pt==="counterclockwise"?(wt=pt,pt="top"):pt==="clockwise"&&(wt=pt,pt="bottom"),q.radialAxis=q.mockAxis(he,ne,te,{_id:"x",side:pt,_trueSide:wt,domain:[ot/Q.w,rt/Q.w]}),q.angularAxis=q.mockAxis(he,ne,ue,{side:"right",domain:[0,Math.PI],autorange:!1}),q.doAutoRange(he,ne),q.updateAngularAxis(he,ne),q.updateRadialAxis(he,ne),q.updateRadialAxisTitle(he,ne),q.xaxis=q.mockCartesianAxis(he,ne,{_id:"x",domain:Oe}),q.yaxis=q.mockCartesianAxis(he,ne,{_id:"y",domain:_e});var Mt=q.pathSubplot();q.clipPaths.forTraces.select("path").attr("d",Mt).attr("transform",v(ht,vt)),le.frontplot.attr("transform",v(Ce,Ye)).call(r.setClipUrl,q._hasClipOnAxisFalse?null:q.clipIds.forTraces,q.gd),le.bg.attr("d",Mt).attr("transform",v($e,qe)).call(g.fill,ne.bgcolor)},W.mockAxis=function(he,ne,q,le){var Q=C.extendFlat({},q,le);return f(Q,ne,he),Q},W.mockCartesianAxis=function(he,ne,q){var le=this,Q=le.isSmith,te=q._id,ue=C.extendFlat({type:"linear"},q);n(ue,he);var J={x:[0,2],y:[1,3]};return ue.setRange=function(){var K=le.sectorBBox,ce=J[te],ae=le.radialAxis._rl,de=(ae[1]-ae[0])/(1-le.getHole(ne));ue.range=[K[ce[0]]*de,K[ce[1]]*de]},ue.isPtWithinRange=te==="x"&&!Q?function(K){return le.isPtInside(K)}:function(){return!0},ue.setRange(),ue.setScale(),ue},W.doAutoRange=function(he,ne){var q=this,le=q.gd,Q=q.radialAxis,te=q.getRadial(ne);u(le,Q);var ue=Q.range;if(te.range=ue.slice(),te._input.range=ue.slice(),Q._rl=[Q.r2l(ue[0],null,"gregorian"),Q.r2l(ue[1],null,"gregorian")],Q.minallowed!==void 0){var J=Q.r2l(Q.minallowed);Q._rl[0]>Q._rl[1]?Q._rl[1]=Math.max(Q._rl[1],J):Q._rl[0]=Math.max(Q._rl[0],J)}if(Q.maxallowed!==void 0){var K=Q.r2l(Q.maxallowed);Q._rl[0]<Q._rl[1]?Q._rl[1]=Math.min(Q._rl[1],K):Q._rl[0]=Math.min(Q._rl[0],K)}},W.updateRadialAxis=function(he,ne){var q=this,le=q.gd,Q=q.layers,te=q.radius,ue=q.innerRadius,J=q.cx,K=q.cy,ce=q.getRadial(ne),ae=F(q.getSector(ne)[0],360),de=q.radialAxis,be=ue<te,Se=q.isSmith;Se||(q.fillViewInitialKey("radialaxis.angle",ce.angle),q.fillViewInitialKey("radialaxis.range",de.range.slice()),de.setGeometry()),de.tickangle==="auto"&&ae>90&&ae<=270&&(de.tickangle=180);var Te=Se?function(rt){var ot=k(q,M([rt.x,0]));return v(ot[0]-J,ot[1]-K)}:function(rt){return v(de.l2p(rt.x)+ue,0)},Ie=Se?function(rt){return N(q,rt.x,-1/0,1/0)}:function(rt){return q.pathArc(de.r2p(rt.x)+ue)},ke=j(ce);if(q.radialTickLayout!==ke&&(Q["radial-axis"].selectAll(".xtick").remove(),q.radialTickLayout=ke),be){de.setScale();var Be=0,Me=Se?(de.tickvals||[]).filter(function(rt){return rt>=0}).map(function(rt){return a.tickText(de,rt,!0,!1)}):a.calcTicks(de),Oe=Se?Me:a.clipEnds(de,Me),_e=a.getTickSigns(de)[2];Se&&((de.ticks==="top"&&de.side==="bottom"||de.ticks==="bottom"&&de.side==="top")&&(_e=-_e),de.ticks==="top"&&de.side==="top"&&(Be=-de.ticklen),de.ticks==="bottom"&&de.side==="bottom"&&(Be=de.ticklen)),a.drawTicks(le,de,{vals:Me,layer:Q["radial-axis"],path:a.makeTickPath(de,0,_e),transFn:Te,crisp:!1}),a.drawGrid(le,de,{vals:Oe,layer:Q["radial-grid"],path:Ie,transFn:C.noop,crisp:!1}),a.drawLabels(le,de,{vals:Me,layer:Q["radial-axis"],transFn:Te,labelFns:a.makeLabelFns(de,Be)})}var Ne=q.radialAxisAngle=q.vangles?U(ie(B(ce.angle),q.vangles)):ce.angle,Ce=v(J,K),Ye=Ce+S(-Ne);oe(Q["radial-axis"],be&&(ce.showticklabels||ce.ticks),{transform:Ye}),oe(Q["radial-grid"],be&&ce.showgrid,{transform:Se?"":Ce}),oe(Q["radial-line"].select("line"),be&&ce.showline,{x1:Se?-te:ue,y1:0,x2:te,y2:0,transform:Ye}).attr("stroke-width",ce.linewidth).call(g.stroke,ce.linecolor)},W.updateRadialAxisTitle=function(he,ne,q){if(!this.isSmith){var le=this,Q=le.gd,te=le.radius,ue=le.cx,J=le.cy,K=le.getRadial(ne),ce=le.id+"title",ae=0;if(K.title){var de=r.bBox(le.layers["radial-axis"].node()).height,be=K.title.font.size,Se=K.side;ae=Se==="top"?be:Se==="counterclockwise"?-(de+be*.4):de+be*.8}var Te=q!==void 0?q:le.radialAxisAngle,Ie=B(Te),ke=Math.cos(Ie),Be=Math.sin(Ie),Me=ue+te/2*ke+ae*Be,Oe=J-te/2*Be+ae*ke;le.layers["radial-axis-title"]=T.draw(Q,ce,{propContainer:K,propName:le.id+".radialaxis.title",placeholder:H(Q,"Click to enter radial axis title"),attributes:{x:Me,y:Oe,"text-anchor":"middle"},transform:{rotate:-Te}})}},W.updateAngularAxis=function(he,ne){var q=this,le=q.gd,Q=q.layers,te=q.radius,ue=q.innerRadius,J=q.cx,K=q.cy,ce=q.getAngular(ne),ae=q.angularAxis,de=q.isSmith;de||(q.fillViewInitialKey("angularaxis.rotation",ce.rotation),ae.setGeometry(),ae.setScale());var be=de?function(ot){var $e=k(q,M([0,ot.x]));return Math.atan2($e[0]-J,$e[1]-K)-Math.PI/2}:function(ot){return ae.t2g(ot.x)};ae.type==="linear"&&ae.thetaunit==="radians"&&(ae.tick0=U(ae.tick0),ae.dtick=U(ae.dtick));var Se=function(ot){return v(J+te*Math.cos(ot),K-te*Math.sin(ot))},Te=de?function(ot){var $e=k(q,M([0,ot.x]));return v($e[0],$e[1])}:function(ot){return Se(be(ot))},Ie=de?function(ot){var $e=k(q,M([0,ot.x])),qe=Math.atan2($e[0]-J,$e[1]-K)-Math.PI/2;return v($e[0],$e[1])+S(-U(qe))}:function(ot){var $e=be(ot);return Se($e)+S(-U($e))},ke=de?function(ot){return b(q,ot.x,0,1/0)}:function(ot){var $e=be(ot),qe=Math.cos($e),ht=Math.sin($e);return"M"+[J+ue*qe,K-ue*ht]+"L"+[J+te*qe,K-te*ht]},Be=a.makeLabelFns(ae,0),Me=Be.labelStandoff,Oe={};Oe.xFn=function(ot){var $e=be(ot);return Math.cos($e)*Me},Oe.yFn=function(ot){var $e=be(ot),qe=Math.sin($e)>0?.2:1;return-Math.sin($e)*(Me+ot.fontSize*qe)+Math.abs(Math.cos($e))*(ot.fontSize*m)},Oe.anchorFn=function(ot){var $e=be(ot),qe=Math.cos($e);return Math.abs(qe)<.1?"middle":qe>0?"start":"end"},Oe.heightFn=function(ot,$e,qe){var ht=be(ot);return-.5*(1+Math.sin(ht))*qe};var _e=j(ce);q.angularTickLayout!==_e&&(Q["angular-axis"].selectAll("."+ae._id+"tick").remove(),q.angularTickLayout=_e);var Ne=de?[1/0].concat(ae.tickvals||[]).map(function(ot){return a.tickText(ae,ot,!0,!1)}):a.calcTicks(ae);de&&(Ne[0].text="∞",Ne[0].fontSize*=1.75);var Ce;if(ne.gridshape==="linear"?(Ce=Ne.map(be),C.angleDelta(Ce[0],Ce[1])<0&&(Ce=Ce.slice().reverse())):Ce=null,q.vangles=Ce,ae.type==="category"&&(Ne=Ne.filter(function(ot){return C.isAngleInsideSector(be(ot),q.sectorInRad)})),ae.visible){var Ye=ae.ticks==="inside"?-1:1,rt=(ae.linewidth||1)/2;a.drawTicks(le,ae,{vals:Ne,layer:Q["angular-axis"],path:"M"+Ye*rt+",0h"+Ye*ae.ticklen,transFn:Ie,crisp:!1}),a.drawGrid(le,ae,{vals:Ne,layer:Q["angular-grid"],path:ke,transFn:C.noop,crisp:!1}),a.drawLabels(le,ae,{vals:Ne,layer:Q["angular-axis"],repositionOnUpdate:!0,transFn:Te,labelFns:Oe})}oe(Q["angular-line"].select("path"),ce.showline,{d:q.pathSubplot(),transform:v(J,K)}).attr("stroke-width",ce.linewidth).call(g.stroke,ce.linecolor)},W.updateFx=function(he,ne){if(!this.gd._context.staticPlot){var q=!this.isSmith;q&&(this.updateAngularDrag(he),this.updateRadialDrag(he,ne,0),this.updateRadialDrag(he,ne,1)),this.updateHoverAndMainDrag(he)}},W.updateHoverAndMainDrag=function(he){var ne=this,q=ne.isSmith,le=ne.gd,Q=ne.layers,te=he._zoomlayer,ue=E.MINZOOM,J=E.OFFEDGE,K=ne.radius,ce=ne.innerRadius,ae=ne.cx,de=ne.cy,be=ne.cxx,Se=ne.cyy,Te=ne.sectorInRad,Ie=ne.vangles,ke=ne.radialAxis,Be=A.clampTiny,Me=A.findXYatLength,Oe=A.findEnclosingVertexAngles,_e=E.cornerHalfWidth,Ne=E.cornerLen/2,Ce,Ye,rt=l.makeDragger(Q,"path","maindrag",he.dragmode===!1?"none":"crosshair");p.select(rt).attr("d",ne.pathSubplot()).attr("transform",v(ae,de)),rt.onmousemove=function(Tt){h.hover(le,Tt,ne.id),le._fullLayout._lasthover=rt,le._fullLayout._hoversubplot=ne.id},rt.onmouseout=function(Tt){le._dragging||y.unhover(le,Tt)};var ot={element:rt,gd:le,subplot:ne.id,plotinfo:{id:ne.id,xaxis:ne.xaxis,yaxis:ne.yaxis},xaxes:[ne.xaxis],yaxes:[ne.yaxis]},$e,qe,ht,vt,pt,wt,Mt,nt,Fe;function We(Tt,Rt){return Math.sqrt(Tt*Tt+Rt*Rt)}function Ze(Tt,Rt){return We(Tt-be,Rt-Se)}function Ge(Tt,Rt){return Math.atan2(Se-Rt,Tt-be)}function Pe(Tt,Rt){return[Tt*Math.cos(Rt),Tt*Math.sin(-Rt)]}function Re(Tt,Rt){if(Tt===0)return ne.pathSector(2*_e);var Zt=Ne/Tt,mr=Rt-Zt,gt=Rt+Zt,Kt=Math.max(0,Math.min(Tt,K)),$t=Kt-_e,br=Kt+_e;return"M"+Pe($t,mr)+"A"+[$t,$t]+" 0,0,0 "+Pe($t,gt)+"L"+Pe(br,gt)+"A"+[br,br]+" 0,0,1 "+Pe(br,mr)+"Z"}function je(Tt,Rt,Zt){if(Tt===0)return ne.pathSector(2*_e);var mr=Pe(Tt,Rt),gt=Pe(Tt,Zt),Kt=Be((mr[0]+gt[0])/2),$t=Be((mr[1]+gt[1])/2),br,lr;if(Kt&&$t){var mt=$t/Kt,ut=-1/mt,bt=Me(_e,mt,Kt,$t);br=Me(Ne,ut,bt[0][0],bt[0][1]),lr=Me(Ne,ut,bt[1][0],bt[1][1])}else{var Et,Dt;$t?(Et=Ne,Dt=_e):(Et=_e,Dt=Ne),br=[[Kt-Et,$t-Dt],[Kt+Et,$t-Dt]],lr=[[Kt-Et,$t+Dt],[Kt+Et,$t+Dt]]}return"M"+br.join("L")+"L"+lr.reverse().join("L")+"Z"}function De(){ht=null,vt=null,pt=ne.pathSubplot(),wt=!1;var Tt=le._fullLayout[ne.id];Mt=L(Tt.bgcolor).getLuminance(),nt=l.makeZoombox(te,Mt,ae,de,pt),nt.attr("fill-rule","evenodd"),Fe=l.makeCorners(te,ae,de),d(le)}function ge(Tt,Rt){return Rt=Math.max(Math.min(Rt,K),ce),Tt<J?Tt=0:K-Tt<J?Tt=K:Rt<J?Rt=0:K-Rt<J&&(Rt=K),Math.abs(Rt-Tt)>ue?(Tt<Rt?(ht=Tt,vt=Rt):(ht=Rt,vt=Tt),!0):(ht=null,vt=null,!1)}function we(Tt,Rt){Tt=Tt||pt,Rt=Rt||"M0,0Z",nt.attr("d",Tt),Fe.attr("d",Rt),l.transitionZoombox(nt,Fe,wt,Mt),wt=!0;var Zt={};Wt(Zt),le.emit("plotly_relayouting",Zt)}function Ue(Tt,Rt){Tt=Tt*Ce,Rt=Rt*Ye;var Zt=$e+Tt,mr=qe+Rt,gt=Ze($e,qe),Kt=Math.min(Ze(Zt,mr),K),$t=Ge($e,qe),br,lr;ge(gt,Kt)&&(br=pt+ne.pathSector(vt),ht&&(br+=ne.pathSector(ht)),lr=Re(ht,$t)+Re(vt,$t)),we(br,lr)}function et(Tt,Rt,Zt,mr){var gt=A.findIntersectionXY(Zt,mr,Zt,[Tt-be,Se-Rt]);return We(gt[0],gt[1])}function st(Tt,Rt){var Zt=$e+Tt,mr=qe+Rt,gt=Ge($e,qe),Kt=Ge(Zt,mr),$t=Oe(gt,Ie),br=Oe(Kt,Ie),lr=et($e,qe,$t[0],$t[1]),mt=Math.min(et(Zt,mr,br[0],br[1]),K),ut,bt;ge(lr,mt)&&(ut=pt+ne.pathSector(vt),ht&&(ut+=ne.pathSector(ht)),bt=[je(ht,$t[0],$t[1]),je(vt,$t[0],$t[1])].join(" ")),we(ut,bt)}function lt(){if(l.removeZoombox(le),!(ht===null||vt===null)){var Tt={};Wt(Tt),l.showDoubleClickNotifier(le),o.call("_guiRelayout",le,Tt)}}function Wt(Tt){var Rt=ke._rl,Zt=(Rt[1]-Rt[0])/(1-ce/K)/K,mr=[Rt[0]+(ht-ce)*Zt,Rt[0]+(vt-ce)*Zt];Tt[ne.id+".radialaxis.range"]=mr}function jt(Tt,Rt){var Zt=le._fullLayout.clickmode;if(l.removeZoombox(le),Tt===2){var mr={};for(var gt in ne.viewInitial)mr[ne.id+"."+gt]=ne.viewInitial[gt];le.emit("plotly_doubleclick",null),o.call("_guiRelayout",le,mr)}Zt.indexOf("select")>-1&&Tt===1&&i(Rt,le,[ne.xaxis],[ne.yaxis],ne.id,ot),Zt.indexOf("event")>-1&&h.click(le,Rt,ne.id)}ot.prepFn=function(Tt,Rt,Zt){var mr=le._fullLayout.dragmode,gt=rt.getBoundingClientRect();le._fullLayout._calcInverseTransform(le);var Kt=le._fullLayout._invTransform;Ce=le._fullLayout._invScaleX,Ye=le._fullLayout._invScaleY;var $t=C.apply3DTransform(Kt)(Rt-gt.left,Zt-gt.top);if($e=$t[0],qe=$t[1],Ie){var br=A.findPolygonOffset(K,Te[0],Te[1],Ie);$e+=be+br[0],qe+=Se+br[1]}switch(mr){case"zoom":ot.clickFn=jt,q||(Ie?ot.moveFn=st:ot.moveFn=Ue,ot.doneFn=lt,De());break;case"select":case"lasso":c(Tt,Rt,Zt,ot,mr);break}},y.init(ot)},W.updateRadialDrag=function(he,ne,q){var le=this,Q=le.gd,te=le.layers,ue=le.radius,J=le.innerRadius,K=le.cx,ce=le.cy,ae=le.radialAxis,de=E.radialDragBoxSize,be=de/2;if(!ae.visible)return;var Se=B(le.radialAxisAngle),Te=ae._rl,Ie=Te[0],ke=Te[1],Be=Te[q],Me=.75*(Te[1]-Te[0])/(1-le.getHole(ne))/ue,Oe,_e,Ne;q?(Oe=K+(ue+be)*Math.cos(Se),_e=ce-(ue+be)*Math.sin(Se),Ne="radialdrag"):(Oe=K+(J-be)*Math.cos(Se),_e=ce-(J-be)*Math.sin(Se),Ne="radialdrag-inner");var Ce=l.makeRectDragger(te,Ne,"crosshair",-be,-be,de,de),Ye={element:Ce,gd:Q};he.dragmode===!1&&(Ye.dragmode=!1),oe(p.select(Ce),ae.visible&&J<ue,{transform:v(Oe,_e)});var rt,ot,$e;function qe(Mt,nt){if(rt)rt(Mt,nt);else{var Fe=[Mt,-nt],We=[Math.cos(Se),Math.sin(Se)],Ze=Math.abs(C.dot(Fe,We)/Math.sqrt(C.dot(Fe,Fe)));isNaN(Ze)||(rt=Ze<.5?pt:wt)}var Ge={};ht(Ge),Q.emit("plotly_relayouting",Ge)}function ht(Mt){ot!==null?Mt[le.id+".radialaxis.angle"]=ot:$e!==null&&(Mt[le.id+".radialaxis.range["+q+"]"]=$e)}function vt(){ot!==null?o.call("_guiRelayout",Q,le.id+".radialaxis.angle",ot):$e!==null&&o.call("_guiRelayout",Q,le.id+".radialaxis.range["+q+"]",$e)}function pt(Mt,nt){if(q!==0){var Fe=Oe+Mt,We=_e+nt;ot=Math.atan2(ce-We,Fe-K),le.vangles&&(ot=ie(ot,le.vangles)),ot=U(ot);var Ze=v(K,ce)+S(-ot);te["radial-axis"].attr("transform",Ze),te["radial-line"].select("line").attr("transform",Ze);var Ge=le.gd._fullLayout,Pe=Ge[le.id];le.updateRadialAxisTitle(Ge,Pe,ot)}}function wt(Mt,nt){var Fe=C.dot([Mt,-nt],[Math.cos(Se),Math.sin(Se)]);if($e=Be-Me*Fe,Me>0!=(q?$e>Ie:$e<ke)){$e=null;return}var We=Q._fullLayout,Ze=We[le.id];ae.range[q]=$e,ae._rl[q]=$e,le.updateRadialAxis(We,Ze),le.xaxis.setRange(),le.xaxis.setScale(),le.yaxis.setRange(),le.yaxis.setScale();var Ge=!1;for(var Pe in le.traceHash){var Re=le.traceHash[Pe],je=C.filterVisible(Re),De=Re[0][0].trace._module;De.plot(Q,le,je,Ze),o.traceIs(Pe,"gl")&&je.length&&(Ge=!0)}Ge&&(w(Q),_(Q))}Ye.prepFn=function(){rt=null,ot=null,$e=null,Ye.moveFn=qe,Ye.doneFn=vt,d(Q)},Ye.clampFn=function(Mt,nt){return Math.sqrt(Mt*Mt+nt*nt)<E.MINDRAG&&(Mt=0,nt=0),[Mt,nt]},y.init(Ye)},W.updateAngularDrag=function(he){var ne=this,q=ne.gd,le=ne.layers,Q=ne.radius,te=ne.angularAxis,ue=ne.cx,J=ne.cy,K=ne.cxx,ce=ne.cyy,ae=E.angularDragBoxSize,de=l.makeDragger(le,"path","angulardrag",he.dragmode===!1?"none":"move"),be={element:de,gd:q};he.dragmode===!1?be.dragmode=!1:p.select(de).attr("d",ne.pathAnnulus(Q,Q+ae)).attr("transform",v(ue,J)).call(x,"move");function Se($e,qe){return Math.atan2(ce+ae-qe,$e-K-ae)}var Te=le.frontplot.select(".scatterlayer").selectAll(".trace"),Ie=Te.selectAll(".point"),ke=Te.selectAll(".textpoint"),Be,Me,Oe,_e,Ne,Ce;function Ye($e,qe){var ht=ne.gd._fullLayout,vt=ht[ne.id],pt=Be+$e*he._invScaleX,wt=Me+qe*he._invScaleY,Mt=Se(pt,wt),nt=U(Mt-Ce);if(_e=Oe+nt,le.frontplot.attr("transform",v(ne.xOffset2,ne.yOffset2)+S([-nt,K,ce])),ne.vangles){Ne=ne.radialAxisAngle+nt;var Fe=v(ue,J)+S(-nt),We=v(ue,J)+S(-Ne);le.bg.attr("transform",Fe),le["radial-grid"].attr("transform",Fe),le["radial-axis"].attr("transform",We),le["radial-line"].select("line").attr("transform",We),ne.updateRadialAxisTitle(ht,vt,Ne)}else ne.clipPaths.forTraces.select("path").attr("transform",v(K,ce)+S(nt));Ie.each(function(){var ge=p.select(this),we=r.getTranslate(ge);ge.attr("transform",v(we.x,we.y)+S([nt]))}),ke.each(function(){var ge=p.select(this),we=ge.select("text"),Ue=r.getTranslate(ge);ge.attr("transform",S([nt,we.attr("x"),we.attr("y")])+v(Ue.x,Ue.y))}),te.rotation=C.modHalf(_e,360),ne.updateAngularAxis(ht,vt),ne._hasClipOnAxisFalse&&!C.isFullCircle(ne.sectorInRad)&&Te.call(r.hideOutsideRangePoints,ne);var Ze=!1;for(var Ge in ne.traceHash)if(o.traceIs(Ge,"gl")){var Pe=ne.traceHash[Ge],Re=C.filterVisible(Pe),je=Pe[0][0].trace._module;je.plot(q,ne,Re,vt),Re.length&&(Ze=!0)}Ze&&(w(q),_(q));var De={};rt(De),q.emit("plotly_relayouting",De)}function rt($e){$e[ne.id+".angularaxis.rotation"]=_e,ne.vangles&&($e[ne.id+".radialaxis.angle"]=Ne)}function ot(){ke.select("text").attr("transform",null);var $e={};rt($e),o.call("_guiRelayout",q,$e)}be.prepFn=function($e,qe,ht){var vt=he[ne.id];Oe=vt.angularaxis.rotation;var pt=de.getBoundingClientRect();Be=qe-pt.left,Me=ht-pt.top,q._fullLayout._calcInverseTransform(q);var wt=C.apply3DTransform(he._invTransform)(Be,Me);Be=wt[0],Me=wt[1],Ce=Se(Be,Me),be.moveFn=Ye,be.doneFn=ot,d(q)},ne.vangles&&!C.isFullCircle(ne.sectorInRad)&&(be.prepFn=C.noop,x(p.select(de),null)),y.init(be)},W.isPtInside=function(he){if(this.isSmith)return!0;var ne=this.sectorInRad,q=this.vangles,le=this.angularAxis.c2g(he.theta),Q=this.radialAxis,te=Q.c2l(he.r),ue=Q._rl,J=q?A.isPtInsidePolygon:C.isPtInsideSector;return J(te,le,ue,ne,q)},W.pathArc=function(he){var ne=this.sectorInRad,q=this.vangles,le=q?A.pathPolygon:C.pathArc;return le(he,ne[0],ne[1],q)},W.pathSector=function(he){var ne=this.sectorInRad,q=this.vangles,le=q?A.pathPolygon:C.pathSector;return le(he,ne[0],ne[1],q)},W.pathAnnulus=function(he,ne){var q=this.sectorInRad,le=this.vangles,Q=le?A.pathPolygonAnnulus:C.pathAnnulus;return Q(he,ne,q[0],q[1],le)},W.pathSubplot=function(){var he=this.innerRadius,ne=this.radius;return he?this.pathAnnulus(he,ne):this.pathSector(ne)},W.fillViewInitialKey=function(he,ne){he in this.viewInitial||(this.viewInitial[he]=ne)};function j(he){var ne=he.ticks+String(he.ticklen)+String(he.showticklabels);return"side"in he&&(ne+=he.side),ne}function ee(he){var ne=he[0],q=he[1],le=q-ne,Q=F(ne,360),te=Q+le,ue=Math.cos(B(Q)),J=Math.sin(B(Q)),K=Math.cos(B(te)),ce=Math.sin(B(te)),ae,de,be,Se;return Q<=90&&te>=90||Q>90&&te>=450?Se=1:J<=0&&ce<=0?Se=0:Se=Math.max(J,ce),Q<=180&&te>=180||Q>180&&te>=540?ae=-1:ue>=0&&K>=0?ae=0:ae=Math.min(ue,K),Q<=270&&te>=270||Q>270&&te>=630?de=-1:J>=0&&ce>=0?de=0:de=Math.min(J,ce),te>=360?be=1:ue<=0&&K<=0?be=0:be=Math.max(ue,K),[ae,de,be,Se]}function ie(he,ne){var q=function(Q){return C.angleDist(he,Q)},le=C.findIndexOfMin(ne,q);return ne[le]}function oe(he,ne,q){return ne?(he.attr("display",null),he.attr(q)):he&&he.attr("display","none"),he}},57696:function(V,Y,e){var p=e(3400),L=e(78344),o=p.deg2rad,C=p.rad2deg;V.exports=function(a,n,f){switch(L(a,f),a._id){case"x":case"radialaxis":S(a,n);break;case"angularaxis":r(a,n);break}};function S(t,a){var n=a._subplot;t.setGeometry=function(){var f=t._rl[0],u=t._rl[1],l=n.innerRadius,y=(n.radius-l)/(u-f),h=l/y,T=f>u?function(c){return c<=0}:function(c){return c>=0};t.c2g=function(c){var i=t.c2l(c)-f;return(T(i)?i:0)+h},t.g2c=function(c){return t.l2c(c+f-h)},t.g2p=function(c){return c*y},t.c2p=function(c){return t.g2p(t.c2g(c))}}}function v(t,a){return a==="degrees"?o(t):t}function g(t,a){return a==="degrees"?C(t):t}function r(t,a){var n=t.type;if(n==="linear"){var f=t.d2c,u=t.c2d;t.d2c=function(l,y){return v(f(l),y)},t.c2d=function(l,y){return u(g(l,y))}}t.makeCalcdata=function(l,y){var h=l[y],T=l._length,c,i,d=function(E){return t.d2c(E,l.thetaunit)};if(h)for(c=new Array(T),i=0;i<T;i++)c[i]=d(h[i]);else{var x=y+"0",w="d"+y,_=x in l?d(l[x]):0,m=l[w]?d(l[w]):(t.period||2*Math.PI)/T;for(c=new Array(T),i=0;i<T;i++)c[i]=_+i*m}return c},t.setGeometry=function(){var l=a.sector,y=l.map(o),h={clockwise:-1,counterclockwise:1}[t.direction],T=o(t.rotation),c=function(A){return h*A+T},i=function(A){return(A-T)/h},d,x,w,_;switch(n){case"linear":x=d=p.identity,_=o,w=C,t.range=p.isFullCircle(y)?[l[0],l[0]+360]:y.map(i).map(C);break;case"category":var m=t._categories.length,E=t.period?Math.max(t.period,m):m;E===0&&(E=1),x=_=function(A){return A*2*Math.PI/E},d=w=function(A){return A*E/Math.PI/2},t.range=[0,E];break}t.c2g=function(A){return c(x(A))},t.g2c=function(A){return d(i(A))},t.t2g=function(A){return c(_(A))},t.g2t=function(A){return w(i(A))}}}},55012:function(V){V.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(V){function Y(S){return S<0?-1:S>0?1:0}function e(S){var v=S[0],g=S[1];if(!isFinite(v)||!isFinite(g))return[1,0];var r=(v+1)*(v+1)+g*g;return[(v*v+g*g-1)/r,2*g/r]}function p(S,v){var g=v[0],r=v[1];return[g*S.radius+S.cx,-r*S.radius+S.cy]}function L(S,v){return v*S.radius}function o(S,v,g,r){var t=p(S,e([g,v])),a=t[0],n=t[1],f=p(S,e([r,v])),u=f[0],l=f[1];if(v===0)return["M"+a+","+n,"L"+u+","+l].join(" ");var y=L(S,1/Math.abs(v));return["M"+a+","+n,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+u+","+l].join(" ")}function C(S,v,g,r){var t=L(S,1/(v+1)),a=p(S,e([v,g])),n=a[0],f=a[1],u=p(S,e([v,r])),l=u[0],y=u[1];if(Y(g)!==Y(r)){var h=p(S,e([v,0])),T=h[0],c=h[1];return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(0<g?0:1)+" "+T+","+c,"A"+t+","+t+" 0 0,"+(r<0?0:1)+l+","+y].join(" ")}return["M"+n+","+f,"A"+t+","+t+" 0 0,"+(r<g?0:1)+" "+l+","+y].join(" ")}V.exports={smith:e,reactanceArc:o,resistanceArc:C,smithTransform:p}},47788:function(V,Y,e){var p=e(84888).KY,L=e(3400).counterRegex,o=e(62400),C=e(55012),S=C.attr,v=C.name,g=L(v),r={};r[S]={valType:"subplotid",dflt:v,editType:"calc"};function t(n){for(var f=n._fullLayout,u=n.calcdata,l=f._subplots[v],y=0;y<l.length;y++){var h=l[y],T=p(u,v,h),c=f[h]._subplot;c||(c=o(n,h,!0),f[h]._subplot=c),c.plot(T,f,n._promises)}}function a(n,f,u,l){for(var y=l._subplots[v]||[],h=0;h<y.length;h++){var T=y[h],c=l[T]._subplot;if(!f[T]&&c){c.framework.remove();for(var i in c.clipPaths)c.clipPaths[i].remove()}}}V.exports={attr:S,name:v,idRoot:v,idRegex:g,attrRegex:g,attributes:r,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:t,clean:a,toSVG:e(57952).toSVG}},6183:function(V,Y,e){var p=e(22548),L=e(94724),o=e(86968).u,C=e(3400).extendFlat,S=e(67824).overrideAll,v=S({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=S({ticklen:L.ticklen,tickwidth:C({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),r=C({visible:C({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,g),t=C({visible:C({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},v,g);V.exports={domain:o({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},22836:function(V,Y,e){var p=e(3400),L=e(76308),o=e(31780),C=e(168),S=e(84888).op,v=e(42568),g=e(95936),r=e(42136),t=e(78344),a=e(6183),n=e(55012),f=n.axisNames,u=y(function(h){return p.isTypedArray(h)&&(h=Array.from(h)),h.slice().reverse().map(function(T){return-T}).concat([0]).concat(h)},String);function l(h,T,c,i){var d=c("bgcolor");i.bgColor=L.combine(d,i.paper_bgcolor);var x=S(i.fullData,n.name,i.id),w=i.layoutOut,_;function m(W,j){return c(_+"."+W,j)}for(var E=0;E<f.length;E++){_=f[E],p.isPlainObject(h[_])||(h[_]={});var A=h[_],s=o.newContainer(T,_);s._id=s._name=_,s._attr=i.id+"."+_,s._traceIndices=x.map(function(W){return W._expandedIndex});var M=m("visible");if(s.type="linear",t(s,w),v(A,s,m,s.type),M){var b=_==="realaxis";if(b&&m("side"),b)m("tickvals");else{var N=u(T.realaxis.tickvals||a.realaxis.tickvals.dflt);m("tickvals",N)}p.isTypedArray(s.tickvals)&&(s.tickvals=Array.from(s.tickvals));var k,H,F,B,U=i.font||{};M&&(k=m("color"),H=k===A.color?k:U.color,F=U.size,B=U.family),g(A,s,m,s.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:H,size:F,family:B}}),p.coerce2(h,T,a,_+".ticklen"),p.coerce2(h,T,a,_+".tickwidth"),p.coerce2(h,T,a,_+".tickcolor",T.color);var z=m("ticks");z||(delete T[_].ticklen,delete T[_].tickwidth,delete T[_].tickcolor),r(A,s,m,{dfltColor:k,bgColor:i.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:a[_]}),m("layer")}m("hoverformat"),delete s.type,s._input=A}}V.exports=function(T,c,i){C(T,c,i,{noUirevision:!0,type:n.name,attributes:a,handleDefaults:l,font:c.font,paper_bgcolor:c.paper_bgcolor,fullData:i,layoutOut:c})};function y(h,T){var c={};return function(i){var d=T?T(i):i;if(d in c)return c[d];var x=h(i);return c[d]=x,x}}},168:function(V,Y,e){var p=e(3400),L=e(31780),o=e(86968).Q;V.exports=function(S,v,g,r){var t=r.type,a=r.attributes,n=r.handleDefaults,f=r.partition||"x",u=v._subplots[t],l=u.length,y=l&&u[0].replace(/\d+$/,""),h,T;function c(w,_){return p.coerce(h,T,a,w,_)}for(var i=0;i<l;i++){var d=u[i];S[d]?h=S[d]:h=S[d]={},T=L.newContainer(v,d,y),r.noUirevision||c("uirevision",v.uirevision);var x={};x[f]=[i/l,(i+1)/l],o(T,v,c,x),r.id=d,n(h,T,c,r)}}},21776:function(V,Y,e){var p=e(26880);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function L(o){var C=o.description?" "+o.description:"",S=o.keys||[];if(S.length>0){for(var v=[],g=0;g<S.length;g++)v[g]="`"+S[g]+"`";C=C+"Finally, the template string has access to ",S.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}Y.Ks=function(o,C){o=o||{},C=C||{},L(C);var S={valType:"string",dflt:"",editType:o.editType||"none"};return o.arrayOk!==!1&&(S.arrayOk=!0),S},Y.Gw=function(o,C){o=o||{},C=C||{},L(C);var S={valType:"string",dflt:"",editType:o.editType||"calc"};return o.arrayOk!==!1&&(S.arrayOk=!0),S},Y.ye=function(o,C){o=o||{},C=C||{},o.newshape,L(C);var S={valType:"string",dflt:"",editType:o.editType||"arraydraw"};return S}},19352:function(V,Y,e){var p=e(24696),L=e(84888).KY,o=e(3400).counterRegex,C="ternary";Y.name=C;var S=Y.attr="subplot";Y.idRoot=C,Y.idRegex=Y.attrRegex=o(C);var v=Y.attributes={};v[S]={valType:"subplotid",dflt:"ternary",editType:"calc"},Y.layoutAttributes=e(86379),Y.supplyLayoutDefaults=e(38536),Y.plot=function(r){for(var t=r._fullLayout,a=r.calcdata,n=t._subplots[C],f=0;f<n.length;f++){var u=n[f],l=L(a,C,u),y=t[u]._subplot;y||(y=new p({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=y),y.plot(l,t,r._promises)}},Y.clean=function(g,r,t,a){for(var n=a._subplots[C]||[],f=0;f<n.length;f++){var u=n[f],l=a[u]._subplot;!r[u]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(V,Y,e){var p=e(22548),L=e(86968).u,o=e(94724),C=e(67824).overrideAll,S=e(92880).extendFlat,v={title:{text:o.title.text,font:o.title.font},color:o.color,tickmode:o.minor.tickmode,nticks:S({},o.nticks,{dflt:6,min:1}),tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,showtickprefix:o.showtickprefix,tickprefix:o.tickprefix,showticksuffix:o.showticksuffix,ticksuffix:o.ticksuffix,showexponent:o.showexponent,exponentformat:o.exponentformat,minexponent:o.minexponent,separatethousands:o.separatethousands,tickfont:o.tickfont,tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,hoverformat:o.hoverformat,showline:S({},o.showline,{dflt:!0}),linecolor:o.linecolor,linewidth:o.linewidth,showgrid:S({},o.showgrid,{dflt:!0}),gridcolor:o.gridcolor,gridwidth:o.gridwidth,griddash:o.griddash,layer:o.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:o._deprecated.title,titlefont:o._deprecated.titlefont}},g=V.exports=C({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");g.uirevision={valType:"any",editType:"none"},g.aaxis.uirevision=g.baxis.uirevision=g.caxis.uirevision={valType:"any",editType:"none"}},38536:function(V,Y,e){var p=e(76308),L=e(31780),o=e(3400),C=e(168),S=e(95936),v=e(42568),g=e(25404),r=e(26332),t=e(42136),a=e(86379),n=["aaxis","baxis","caxis"];V.exports=function(y,h,T){C(y,h,T,{type:"ternary",attributes:a,handleDefaults:f,font:h.font,paper_bgcolor:h.paper_bgcolor})};function f(l,y,h,T){var c=h("bgcolor"),i=h("sum");T.bgColor=p.combine(c,T.paper_bgcolor);for(var d,x,w,_=0;_<n.length;_++)d=n[_],x=l[d]||{},w=L.newContainer(y,d),w._name=d,u(x,w,T,y);var m=y.aaxis,E=y.baxis,A=y.caxis;m.min+E.min+A.min>=i&&(m.min=0,E.min=0,A.min=0,l.aaxis&&delete l.aaxis.min,l.baxis&&delete l.baxis.min,l.caxis&&delete l.caxis.min)}function u(l,y,h,T){var c=a[y._name];function i(s,M){return o.coerce(l,y,c,s,M)}i("uirevision",T.uirevision),y.type="linear";var d=i("color"),x=d!==c.color.dflt?d:h.font.color,w=y._name,_=w.charAt(0).toUpperCase(),m="Component "+_,E=i("title.text",m);y._hovertitle=E===m?E:_,o.coerceFont(i,"title.font",h.font,{overrideDflt:{size:o.bigFont(h.font.size),color:x}}),i("min"),r(l,y,i,"linear"),v(l,y,i,"linear"),S(l,y,i,"linear",{noAutotickangles:!0}),g(l,y,i,{outerTicks:!0});var A=i("showticklabels");A&&(o.coerceFont(i,"tickfont",h.font,{overrideDflt:{color:x}}),i("tickangle"),i("tickformat")),t(l,y,i,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c}),i("hoverformat"),i("layer")}},24696:function(V,Y,e){var p=e(33428),L=e(49760),o=e(24040),C=e(3400),S=C.strTranslate,v=C._,g=e(76308),r=e(43616),t=e(78344),a=e(92880).extendFlat,n=e(7316),f=e(54460),u=e(86476),l=e(93024),y=e(72760),h=y.freeMode,T=y.rectMode,c=e(81668),i=e(22676).prepSelect,d=e(22676).selectOnClick,x=e(22676).clearOutline,w=e(22676).clearSelectionsCache,_=e(33816);function m(U,z){this.id=U.id,this.graphDiv=U.graphDiv,this.init(z),this.makeFramework(z),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}V.exports=m;var E=m.prototype;E.init=function(U){this.container=U._ternarylayer,this.defs=U._defs,this.layoutId=U._uid,this.traceHash={},this.layers={}},E.plot=function(U,z){var W=this,j=z[W.id],ee=z._size;W._hasClipOnAxisFalse=!1;for(var ie=0;ie<U.length;ie++){var oe=U[ie][0].trace;if(oe.cliponaxis===!1){W._hasClipOnAxisFalse=!0;break}}W.updateLayers(j),W.adjustLayout(j,ee),n.generalUpdatePerTraceModule(W.graphDiv,W,U,j),W.layers.plotbg.select("path").call(g.fill,j.bgcolor)},E.makeFramework=function(U){var z=this,W=z.graphDiv,j=U[z.id],ee=z.clipId="clip"+z.layoutId+z.id,ie=z.clipIdRelative="clip-relative"+z.layoutId+z.id;z.clipDef=C.ensureSingleById(U._clips,"clipPath",ee,function(oe){oe.append("path").attr("d","M0,0Z")}),z.clipDefRelative=C.ensureSingleById(U._clips,"clipPath",ie,function(oe){oe.append("path").attr("d","M0,0Z")}),z.plotContainer=C.ensureSingle(z.container,"g",z.id),z.updateLayers(j),r.setClipUrl(z.layers.backplot,ee,W),r.setClipUrl(z.layers.grids,ee,W)},E.updateLayers=function(U){var z=this,W=z.layers,j=["draglayer","plotbg","backplot","grids"];U.aaxis.layer==="below traces"&&j.push("aaxis","aline"),U.baxis.layer==="below traces"&&j.push("baxis","bline"),U.caxis.layer==="below traces"&&j.push("caxis","cline"),j.push("frontplot"),U.aaxis.layer==="above traces"&&j.push("aaxis","aline"),U.baxis.layer==="above traces"&&j.push("baxis","bline"),U.caxis.layer==="above traces"&&j.push("caxis","cline");var ee=z.plotContainer.selectAll("g.toplevel").data(j,String),ie=["agrid","bgrid","cgrid"];ee.enter().append("g").attr("class",function(oe){return"toplevel "+oe}).each(function(oe){var he=p.select(this);W[oe]=he,oe==="frontplot"?he.append("g").classed("scatterlayer",!0):oe==="backplot"?he.append("g").classed("maplayer",!0):oe==="plotbg"?he.append("path").attr("d","M0,0Z"):oe==="aline"||oe==="bline"||oe==="cline"?he.append("path"):oe==="grids"&&ie.forEach(function(ne){W[ne]=he.append("g").classed("grid "+ne,!0)})}),ee.order()};var A=Math.sqrt(4/3);E.adjustLayout=function(U,z){var W=this,j=U.domain,ee=(j.x[0]+j.x[1])/2,ie=(j.y[0]+j.y[1])/2,oe=j.x[1]-j.x[0],he=j.y[1]-j.y[0],ne=oe*z.w,q=he*z.h,le=U.sum,Q=U.aaxis.min,te=U.baxis.min,ue=U.caxis.min,J,K,ce,ae,de,be;ne>A*q?(ae=q,ce=ae*A):(ce=ne,ae=ce/A),de=oe*ce/ne,be=he*ae/q,J=z.l+z.w*ee-ce/2,K=z.t+z.h*(1-ie)-ae/2,W.x0=J,W.y0=K,W.w=ce,W.h=ae,W.sum=le,W.xaxis={type:"linear",range:[Q+2*ue-le,le-Q-2*te],domain:[ee-de/2,ee+de/2],_id:"x"},t(W.xaxis,W.graphDiv._fullLayout),W.xaxis.setScale(),W.xaxis.isPtWithinRange=function(Ye){return Ye.a>=W.aaxis.range[0]&&Ye.a<=W.aaxis.range[1]&&Ye.b>=W.baxis.range[1]&&Ye.b<=W.baxis.range[0]&&Ye.c>=W.caxis.range[1]&&Ye.c<=W.caxis.range[0]},W.yaxis={type:"linear",range:[Q,le-te-ue],domain:[ie-be/2,ie+be/2],_id:"y"},t(W.yaxis,W.graphDiv._fullLayout),W.yaxis.setScale(),W.yaxis.isPtWithinRange=function(){return!0};var Se=W.yaxis.domain[0],Te=W.aaxis=a({},U.aaxis,{range:[Q,le-te-ue],side:"left",tickangle:(+U.aaxis.tickangle||0)-30,domain:[Se,Se+be*A],anchor:"free",position:0,_id:"y",_length:ce});t(Te,W.graphDiv._fullLayout),Te.setScale();var Ie=W.baxis=a({},U.baxis,{range:[le-Q-ue,te],side:"bottom",domain:W.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ce});t(Ie,W.graphDiv._fullLayout),Ie.setScale();var ke=W.caxis=a({},U.caxis,{range:[le-Q-te,ue],side:"right",tickangle:(+U.caxis.tickangle||0)+30,domain:[Se,Se+be*A],anchor:"free",position:0,_id:"y",_length:ce});t(ke,W.graphDiv._fullLayout),ke.setScale();var Be="M"+J+","+(K+ae)+"h"+ce+"l-"+ce/2+",-"+ae+"Z";W.clipDef.select("path").attr("d",Be),W.layers.plotbg.select("path").attr("d",Be);var Me="M0,"+ae+"h"+ce+"l-"+ce/2+",-"+ae+"Z";W.clipDefRelative.select("path").attr("d",Me);var Oe=S(J,K);W.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Oe),W.clipDefRelative.select("path").attr("transform",null);var _e=S(J-Ie._offset,K+ae);W.layers.baxis.attr("transform",_e),W.layers.bgrid.attr("transform",_e);var Ne=S(J+ce/2,K)+"rotate(30)"+S(0,-Te._offset);W.layers.aaxis.attr("transform",Ne),W.layers.agrid.attr("transform",Ne);var Ce=S(J+ce/2,K)+"rotate(-30)"+S(0,-ke._offset);W.layers.caxis.attr("transform",Ce),W.layers.cgrid.attr("transform",Ce),W.drawAxes(!0),W.layers.aline.select("path").attr("d",Te.showline?"M"+J+","+(K+ae)+"l"+ce/2+",-"+ae:"M0,0").call(g.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),W.layers.bline.select("path").attr("d",Ie.showline?"M"+J+","+(K+ae)+"h"+ce:"M0,0").call(g.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),W.layers.cline.select("path").attr("d",ke.showline?"M"+(J+ce/2)+","+K+"l"+ce/2+","+ae:"M0,0").call(g.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),W.graphDiv._context.staticPlot||W.initInteractions(),r.setClipUrl(W.layers.frontplot,W._hasClipOnAxisFalse?null:W.clipId,W.graphDiv)},E.drawAxes=function(U){var z=this,W=z.graphDiv,j=z.id.substr(7)+"title",ee=z.layers,ie=z.aaxis,oe=z.baxis,he=z.caxis;if(z.drawAx(ie),z.drawAx(oe),z.drawAx(he),U){var ne=Math.max(ie.showticklabels?ie.tickfont.size/2:0,(he.showticklabels?he.tickfont.size*.75:0)+(he.ticks==="outside"?he.ticklen*.87:0)),q=(oe.showticklabels?oe.tickfont.size:0)+(oe.ticks==="outside"?oe.ticklen:0)+3;ee["a-title"]=c.draw(W,"a"+j,{propContainer:ie,propName:z.id+".aaxis.title",placeholder:v(W,"Click to enter Component A title"),attributes:{x:z.x0+z.w/2,y:z.y0-ie.title.font.size/3-ne,"text-anchor":"middle"}}),ee["b-title"]=c.draw(W,"b"+j,{propContainer:oe,propName:z.id+".baxis.title",placeholder:v(W,"Click to enter Component B title"),attributes:{x:z.x0-q,y:z.y0+z.h+oe.title.font.size*.83+q,"text-anchor":"middle"}}),ee["c-title"]=c.draw(W,"c"+j,{propContainer:he,propName:z.id+".caxis.title",placeholder:v(W,"Click to enter Component C title"),attributes:{x:z.x0+z.w+q,y:z.y0+z.h+he.title.font.size*.83+q,"text-anchor":"middle"}})}},E.drawAx=function(U){var z=this,W=z.graphDiv,j=U._name,ee=j.charAt(0),ie=U._id,oe=z.layers[j],he=30,ne=ee+"tickLayout",q=s(U);z[ne]!==q&&(oe.selectAll("."+ie+"tick").remove(),z[ne]=q),U.setScale();var le=f.calcTicks(U),Q=f.clipEnds(U,le),te=f.makeTransTickFn(U),ue=f.getTickSigns(U)[2],J=C.deg2rad(he),K=ue*(U.linewidth||1)/2,ce=ue*U.ticklen,ae=z.w,de=z.h,be=ee==="b"?"M0,"+K+"l"+Math.sin(J)*ce+","+Math.cos(J)*ce:"M"+K+",0l"+Math.cos(J)*ce+","+-Math.sin(J)*ce,Se={a:"M0,0l"+de+",-"+ae/2,b:"M0,0l-"+ae/2+",-"+de,c:"M0,0l-"+de+","+ae/2}[ee];f.drawTicks(W,U,{vals:U.ticks==="inside"?Q:le,layer:oe,path:be,transFn:te,crisp:!1}),f.drawGrid(W,U,{vals:Q,layer:z.layers[ee+"grid"],path:Se,transFn:te,crisp:!1}),f.drawLabels(W,U,{vals:le,layer:oe,transFn:te,labelFns:f.makeLabelFns(U,0,he)})};function s(U){return U.ticks+String(U.ticklen)+String(U.showticklabels)}var M=_.MINZOOM/2+.87,b="m-0.87,.5h"+M+"v3h-"+(M+5.2)+"l"+(M/2+2.6)+",-"+(M*.87+4.5)+"l2.6,1.5l-"+M/2+","+M*.87+"Z",N="m0.87,.5h-"+M+"v3h"+(M+5.2)+"l-"+(M/2+2.6)+",-"+(M*.87+4.5)+"l-2.6,1.5l"+M/2+","+M*.87+"Z",k="m0,1l"+M/2+","+M*.87+"l2.6,-1.5l-"+(M/2+2.6)+",-"+(M*.87+4.5)+"l-"+(M/2+2.6)+","+(M*.87+4.5)+"l2.6,1.5l"+M/2+",-"+M*.87+"Z",H="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;E.clearOutline=function(){w(this.dragOptions),x(this.dragOptions.gd)},E.initInteractions=function(){var U=this,z=U.layers.plotbg.select("path").node(),W=U.graphDiv,j=W._fullLayout._zoomlayer,ee,ie;this.dragOptions={element:z,gd:W,plotinfo:{id:U.id,domain:W._fullLayout[U.id].domain,xaxis:U.xaxis,yaxis:U.yaxis},subplot:U.id,prepFn:function(_e,Ne,Ce){U.dragOptions.xaxes=[U.xaxis],U.dragOptions.yaxes=[U.yaxis],ee=W._fullLayout._invScaleX,ie=W._fullLayout._invScaleY;var Ye=U.dragOptions.dragmode=W._fullLayout.dragmode;h(Ye)?U.dragOptions.minDrag=1:U.dragOptions.minDrag=void 0,Ye==="zoom"?(U.dragOptions.moveFn=Ie,U.dragOptions.clickFn=ae,U.dragOptions.doneFn=ke,de(_e,Ne,Ce)):Ye==="pan"?(U.dragOptions.moveFn=Me,U.dragOptions.clickFn=ae,U.dragOptions.doneFn=Oe,Be(),U.clearOutline(W)):(T(Ye)||h(Ye))&&i(_e,Ne,Ce,U.dragOptions,Ye)}};var oe,he,ne,q,le,Q,te,ue,J,K;function ce(_e){var Ne={};return Ne[U.id+".aaxis.min"]=_e.a,Ne[U.id+".baxis.min"]=_e.b,Ne[U.id+".caxis.min"]=_e.c,Ne}function ae(_e,Ne){var Ce=W._fullLayout.clickmode;B(W),_e===2&&(W.emit("plotly_doubleclick",null),o.call("_guiRelayout",W,ce({a:0,b:0,c:0}))),Ce.indexOf("select")>-1&&_e===1&&d(Ne,W,[U.xaxis],[U.yaxis],U.id,U.dragOptions),Ce.indexOf("event")>-1&&l.click(W,Ne,U.id)}function de(_e,Ne,Ce){var Ye=z.getBoundingClientRect();oe=Ne-Ye.left,he=Ce-Ye.top,W._fullLayout._calcInverseTransform(W);var rt=W._fullLayout._invTransform,ot=C.apply3DTransform(rt)(oe,he);oe=ot[0],he=ot[1],ne={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},le=ne,q=U.aaxis.range[1]-ne.a,Q=L(U.graphDiv._fullLayout[U.id].bgcolor).getLuminance(),te="M0,"+U.h+"L"+U.w/2+", 0L"+U.w+","+U.h+"Z",ue=!1,J=j.append("path").attr("class","zoombox").attr("transform",S(U.x0,U.y0)).style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",te),K=j.append("path").attr("class","zoombox-corners").attr("transform",S(U.x0,U.y0)).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),U.clearOutline(W)}function be(_e,Ne){return 1-Ne/U.h}function Se(_e,Ne){return 1-(_e+(U.h-Ne)/Math.sqrt(3))/U.w}function Te(_e,Ne){return(_e-(U.h-Ne)/Math.sqrt(3))/U.w}function Ie(_e,Ne){var Ce=oe+_e*ee,Ye=he+Ne*ie,rt=Math.max(0,Math.min(1,be(oe,he),be(Ce,Ye))),ot=Math.max(0,Math.min(1,Se(oe,he),Se(Ce,Ye))),$e=Math.max(0,Math.min(1,Te(oe,he),Te(Ce,Ye))),qe=(rt/2+$e)*U.w,ht=(1-rt/2-ot)*U.w,vt=(qe+ht)/2,pt=ht-qe,wt=(1-rt)*U.h,Mt=wt-pt/A;pt<_.MINZOOM?(le=ne,J.attr("d",te),K.attr("d","M0,0Z")):(le={a:ne.a+rt*q,b:ne.b+ot*q,c:ne.c+$e*q},J.attr("d",te+"M"+qe+","+wt+"H"+ht+"L"+vt+","+Mt+"L"+qe+","+wt+"Z"),K.attr("d","M"+oe+","+he+H+"M"+qe+","+wt+b+"M"+ht+","+wt+N+"M"+vt+","+Mt+k)),ue||(J.transition().style("fill",Q>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),ue=!0),W.emit("plotly_relayouting",ce(le))}function ke(){B(W),le!==ne&&(o.call("_guiRelayout",W,ce(le)),F&&W.data&&W._context.showTips&&(C.notifier(v(W,"Double-click to zoom back out"),"long"),F=!1))}function Be(){ne={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},le=ne}function Me(_e,Ne){var Ce=_e/U.xaxis._m,Ye=Ne/U.yaxis._m;le={a:ne.a-Ye,b:ne.b+(Ce+Ye)/2,c:ne.c-(Ce-Ye)/2};var rt=[le.a,le.b,le.c].sort(C.sorterAsc),ot={a:rt.indexOf(le.a),b:rt.indexOf(le.b),c:rt.indexOf(le.c)};rt[0]<0&&(rt[1]+rt[0]/2<0?(rt[2]+=rt[0]+rt[1],rt[0]=rt[1]=0):(rt[2]+=rt[0]/2,rt[1]+=rt[0]/2,rt[0]=0),le={a:rt[ot.a],b:rt[ot.b],c:rt[ot.c]},Ne=(ne.a-le.a)*U.yaxis._m,_e=(ne.c-le.c-ne.b+le.b)*U.xaxis._m);var $e=S(U.x0+_e,U.y0+Ne);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",$e);var qe=S(-_e,-Ne);U.clipDefRelative.select("path").attr("transform",qe),U.aaxis.range=[le.a,U.sum-le.b-le.c],U.baxis.range=[U.sum-le.a-le.c,le.b],U.caxis.range=[U.sum-le.a-le.b,le.c],U.drawAxes(!1),U._hasClipOnAxisFalse&&U.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,U),W.emit("plotly_relayouting",ce(le))}function Oe(){o.call("_guiRelayout",W,ce(le))}z.onmousemove=function(_e){l.hover(W,_e,U.id),W._fullLayout._lasthover=z,W._fullLayout._hoversubplot=U.id},z.onmouseout=function(_e){W._dragging||u.unhover(W,_e)},u.init(this.dragOptions)};function B(U){p.select(U).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},24040:function(V,Y,e){var p=e(24248),L=e(16628),o=e(52416),C=e(63620),S=e(52200).addStyleRule,v=e(92880),g=e(45464),r=e(64859),t=v.extendFlat,a=v.extendDeepAll;Y.modules={},Y.allCategories={},Y.allTypes=[],Y.subplotsRegistry={},Y.transformsRegistry={},Y.componentsRegistry={},Y.layoutArrayContainers=[],Y.layoutArrayRegexes=[],Y.traceLayoutAttributes={},Y.localeRegistry={},Y.apiMethodRegistry={},Y.collectableSubplotTypes=null,Y.register=function(w){if(Y.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var _=0;_<w.length;_++){var m=w[_];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":l(m);break;case"component":u(m);break;case"locale":y(m);break;case"apiMethod":var E=m.name;Y.apiMethodRegistry[E]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},Y.getModule=function(x){var w=Y.modules[d(x)];return w?w._module:!1},Y.traceIs=function(x,w){if(x=d(x),x==="various")return!1;var _=Y.modules[x];return _||(x&&p.log("Unrecognized trace type "+x+"."),_=Y.modules[g.type.dflt]),!!_.categories[w]},Y.getTransformIndices=function(x,w){for(var _=[],m=x.transforms||[],E=0;E<m.length;E++)m[E].type===w&&_.push(E);return _},Y.hasTransform=function(x,w){for(var _=x.transforms||[],m=0;m<_.length;m++)if(_[m].type===w)return!0;return!1},Y.getComponentMethod=function(x,w){var _=Y.componentsRegistry[x];return _&&_[w]||L},Y.call=function(){var x=arguments[0],w=[].slice.call(arguments,1);return Y.apiMethodRegistry[x].apply(null,w)};function n(x){var w=x.name,_=x.categories,m=x.meta;if(Y.modules[w]){p.log("Type "+w+" already registered");return}Y.subplotsRegistry[x.basePlotModule.name]||f(x.basePlotModule);for(var E={},A=0;A<_.length;A++)E[_[A]]=!0,Y.allCategories[_[A]]=!0;Y.modules[w]={_module:x,categories:E},m&&Object.keys(m).length&&(Y.modules[w].meta=m),Y.allTypes.push(w);for(var s in Y.componentsRegistry)T(s,w);x.layoutAttributes&&t(Y.traceLayoutAttributes,x.layoutAttributes);var M=x.basePlotModule,b=M.name;if(b==="mapbox"){var N=M.constants.styleRules;for(var k in N)S(".js-plotly-plot .plotly .mapboxgl-"+k,N[k])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function f(x){var w=x.name;if(Y.subplotsRegistry[w]){p.log("Plot type "+w+" already registered.");return}h(x),Y.subplotsRegistry[w]=x;for(var _ in Y.componentsRegistry)i(_,x.name)}function u(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var w=x.name;Y.componentsRegistry[w]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&o(Y.layoutArrayContainers,w),h(x));for(var _ in Y.modules)T(w,_);for(var m in Y.subplotsRegistry)i(w,m);for(var E in Y.transformsRegistry)c(w,E);x.schema&&x.schema.layout&&a(r,x.schema.layout)}function l(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+x.name,_=typeof x.transform=="function",m=typeof x.calcTransform=="function";if(!_&&!m)throw new Error(w+" is missing a *transform* or *calcTransform* method.");_&&m&&p.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(x.attributes)||p.log(w+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&p.log(w+" registered without a *supplyDefaults* method."),Y.transformsRegistry[x.name]=x;for(var E in Y.componentsRegistry)c(E,x.name)}function y(x){var w=x.name,_=w.split("-")[0],m=x.dictionary,E=x.format,A=m&&Object.keys(m).length,s=E&&Object.keys(E).length,M=Y.localeRegistry,b=M[w];if(b||(M[w]=b={}),_!==w){var N=M[_];N||(M[_]=N={}),A&&N.dictionary===b.dictionary&&(N.dictionary=m),s&&N.format===b.format&&(N.format=E)}A&&(b.dictionary=m),s&&(b.format=E)}function h(x){if(x.layoutAttributes){var w=x.layoutAttributes._arrayAttrRegexps;if(w)for(var _=0;_<w.length;_++)o(Y.layoutArrayRegexes,w[_])}}function T(x,w){var _=Y.componentsRegistry[x].schema;if(!(!_||!_.traces)){var m=_.traces[w];m&&a(Y.modules[w]._module.attributes,m)}}function c(x,w){var _=Y.componentsRegistry[x].schema;if(!(!_||!_.transforms)){var m=_.transforms[w];m&&a(Y.transformsRegistry[w].attributes,m)}}function i(x,w){var _=Y.componentsRegistry[x].schema;if(!(!_||!_.subplots)){var m=Y.subplotsRegistry[w],E=m.layoutAttributes,A=m.attr==="subplot"?m.name:m.attr;Array.isArray(A)&&(A=A[0]);var s=_.subplots[A];E&&s&&a(E,s)}}function d(x){return typeof x=="object"&&(x=x.type),x}},91536:function(V,Y,e){var p=e(24040),L=e(3400),o=L.extendFlat,C=L.extendDeep;function S(g){var r;switch(g){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function v(g){var r=["xaxis","yaxis","zaxis"];return r.indexOf(g.slice(0,5))>-1}V.exports=function(r,t){var a,n=r.data,f=r.layout,u=C([],n),l=C({},f,S(t.tileClass)),y=r._context||{};if(t.width&&(l.width=t.width),t.height&&(l.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){l.annotations=[];var h=Object.keys(l);for(a=0;a<h.length;a++)v(h[a])&&(l[h[a]].title={text:""});for(a=0;a<u.length;a++){var T=u[a];T.showscale=!1,T.marker&&(T.marker.showscale=!1),p.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(t.annotations))for(a=0;a<t.annotations.length;a++)l.annotations.push(t.annotations[a]);var c=Object.keys(l).filter(function(_){return _.match(/^scene\d*$/)});if(c.length){var i={};for(t.tileClass==="thumbnail"&&(i={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),a=0;a<c.length;a++){var d=l[c[a]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),o(d.xaxis,i),o(d.yaxis,i),o(d.zaxis,i),d._scene=null}}var x=document.createElement("div");t.tileClass&&(x.className=t.tileClass);var w={gd:x,td:x,layout:l,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=S(t.tileClass),w}},39792:function(V,Y,e){var p=e(3400),L=e(67024),o=e(48616),C=e(81792);function S(v,g){var r;return p.isPlainObject(v)||(r=p.getGraphDiv(v)),g=g||{},g.format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(t,a){r&&r._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),p.isIE()&&g.format!=="svg"&&a(new Error(C.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var n=L(v,g),f=g.filename||v.fn||"newplot";f+="."+g.format.replace("-","."),n.then(function(u){return r&&(r._snapshotInProgress=!1),o(u,f,g.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),a(u)})})}V.exports=S},48616:function(V,Y,e){var p=e(3400),L=e(81792);function o(C,S,v){var g=document.createElement("a"),r="download"in g,t=new Promise(function(a,n){var f,u;if(p.isIE())return f=L.createBlob(C,"svg"),window.navigator.msSaveBlob(f,S),f=null,a(S);if(r)return f=L.createBlob(C,v),u=L.createObjectURL(f),g.href=u,g.download=S,document.body.appendChild(g),g.click(),document.body.removeChild(g),L.revokeObjectURL(u),f=null,a(S);if(p.isSafari()){var l=v==="svg"?",":";base64,";return L.octetStream(l+encodeURIComponent(C)),a(S)}n(new Error("download error"))});return t}V.exports=o},81792:function(V,Y,e){var p=e(24040);Y.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},Y.getRedrawFunc=function(C){return function(){p.getComponentMethod("colorbar","draw")(C)}},Y.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},Y.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var L=window.URL||window.webkitURL;Y.createObjectURL=function(C){return L.createObjectURL(C)},Y.revokeObjectURL=function(C){return L.revokeObjectURL(C)},Y.createBlob=function(C,S){if(S==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(S==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=o(window.atob(C));return new window.Blob([v],{type:"image/"+S})},Y.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function o(C){for(var S=C.length,v=new ArrayBuffer(S),g=new Uint8Array(v),r=0;r<S;r++)g[r]=C.charCodeAt(r);return v}Y.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,Y.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(V,Y,e){var p=e(81792),L={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};V.exports=L},63268:function(V,Y,e){var p=e(3400),L=e(61252).EventEmitter,o=e(81792);function C(S){var v=S.emitter||new L,g=new Promise(function(r,t){var a=window.Image,n=S.svg,f=S.format||"png";if(p.isIE()&&f!=="svg"){var u=new Error(o.MSG_IE_BAD_FORMAT);return t(u),S.promise?g:v.emit("error",u)}var l=S.canvas,y=S.scale||1,h=S.width||300,T=S.height||150,c=y*h,i=y*T,d=l.getContext("2d",{willReadFrequently:!0}),x=new a,w,_;f==="svg"||p.isSafari()?_=o.encodeSVG(n):(w=o.createBlob(n,"svg"),_=o.createObjectURL(w)),l.width=c,l.height=i,x.onload=function(){var m;switch(w=null,o.revokeObjectURL(_),f!=="svg"&&d.drawImage(x,0,0,c,i),f){case"jpeg":m=l.toDataURL("image/jpeg");break;case"png":m=l.toDataURL("image/png");break;case"webp":m=l.toDataURL("image/webp");break;case"svg":m=_;break;default:var E="Image format is not jpeg, png, svg or webp.";if(t(new Error(E)),!S.promise)return v.emit("error",E)}r(m),S.promise||v.emit("success",m)},x.onerror=function(m){if(w=null,o.revokeObjectURL(_),t(m),!S.promise)return v.emit("error",m)},x.src=_});return S.promise?g:v}V.exports=C},61808:function(V,Y,e){var p=e(61252).EventEmitter,L=e(24040),o=e(3400),C=e(81792),S=e(91536),v=e(37164),g=e(63268);function r(t,a){var n=new p,f=S(t,{format:"png"}),u=f.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function l(){var h=C.getDelay(u._fullLayout);setTimeout(function(){var T=v(u),c=document.createElement("canvas");c.id=o.randstr(),n=g({format:a.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:c,emitter:n,svg:T}),n.clean=function(){u&&document.body.removeChild(u)}},h)}var y=C.getRedrawFunc(u);return L.call("_doPlot",u,f.data,f.layout,f.config).then(y).then(l).catch(function(h){n.emit("error",h)}),n}V.exports=r},37164:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(76308),S=e(9616),v=/"/g,g="TOBESTRIPPED",r=new RegExp('("'+g+")|("+g+'")',"g");function t(n){var f=p.select("body").append("div").style({display:"none"}).html(""),u=n.replace(/(&[^;]*;)/gi,function(l){return l==="&lt;"?"&#60;":l==="&rt;"?"&#62;":l.indexOf("<")!==-1||l.indexOf(">")!==-1?"":f.html(l).text()});return f.remove(),u}function a(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}V.exports=function(f,u,l){var y=f._fullLayout,h=y._paper,T=y._toppaper,c=y.width,i=y.height,d;h.insert("rect",":first-child").call(o.setRect,0,0,c,i).call(C.fill,y.paper_bgcolor);var x=y._basePlotModules||[];for(d=0;d<x.length;d++){var w=x[d];w.toSVG&&w.toSVG(f)}if(T){var _=T.node().childNodes,m=Array.prototype.slice.call(_);for(d=0;d<m.length;d++){var E=m[d];E.childNodes.length&&h.node().appendChild(E)}}y._draggers&&y._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var s=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){s.remove();return}else s.style({visibility:null,display:null});var M=this.style.fontFamily;M&&M.indexOf('"')!==-1&&s.style("font-family",M.replace(v,g));var b=this.style.fontWeight;b&&(b==="normal"||b==="400")&&s.style("font-weight",void 0);var N=this.style.fontStyle;N&&N==="normal"&&s.style("font-style",void 0);var k=this.style.fontVariant;k&&k==="normal"&&s.style("font-variant",void 0)}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var s=p.select(this),M=this.style.fill;M&&M.indexOf("url(")!==-1&&s.style("fill",M.replace(v,g));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&s.style("stroke",b.replace(v,g))}),(u==="pdf"||u==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(S.xmlns,"xmlns",S.svg),h.node().setAttributeNS(S.xmlns,"xmlns:xlink",S.xlink),u==="svg"&&l&&(h.attr("width",l*c),h.attr("height",l*i),h.attr("viewBox","0 0 "+c+" "+i));var A=new window.XMLSerializer().serializeToString(h.node());return A=t(A),A=a(A),A=A.replace(r,"'"),L.isIE()&&(A=A.replace(/"/gi,"'"),A=A.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),A=A.replace(/(\\')/gi,'"')),A}},84664:function(V,Y,e){var p=e(3400);V.exports=function(o,C){for(var S=0;S<o.length;S++)o[S].i=S;p.mergeArray(C.text,o,"tx"),p.mergeArray(C.hovertext,o,"htx");var v=C.marker;if(v){p.mergeArray(v.opacity,o,"mo",!0),p.mergeArray(v.color,o,"mc");var g=v.line;g&&(p.mergeArray(g.color,o,"mlc"),p.mergeArrayCastPositive(g.width,o,"mlw"))}}},20832:function(V,Y,e){var p=e(52904),L=e(29736).axisHoverFormat,o=e(21776).Ks,C=e(21776).Gw,S=e(49084),v=e(25376),g=e(78048),r=e(98192).c,t=e(92880).extendFlat,a=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=p.marker,f=n.line,u=t({},f.width,{dflt:0}),l=t({width:u,editType:"calc"},S("marker.line")),y=t({line:l,editType:"calc"},S("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r,cornerradius:{valType:"any",editType:"calc"}});V.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:p.text,texttemplate:C({editType:"plot"},{keys:g.eventDataKeys}),hovertext:p.hovertext,hovertemplate:o({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},a,{}),insidetextfont:t({},a,{}),outsidetextfont:t({},a,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},zorder:p.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(V,Y,e){var p=e(54460),L=e(1220),o=e(94288).hasColorscale,C=e(47128),S=e(84664),v=e(4500);V.exports=function(r,t){var a=p.getFromId(r,t.xaxis||"x"),n=p.getFromId(r,t.yaxis||"y"),f,u,l,y,h,T,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(f=a.makeCalcdata(t,"x",c),l=n.makeCalcdata(t,"y"),y=L(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y",c),l=a.makeCalcdata(t,"x"),y=L(t,a,"x",l),h=!!t.xperiodalignment,T="x"),u=y.vals;for(var i=Math.min(u.length,f.length),d=new Array(i),x=0;x<i;x++)d[x]={p:u[x],s:f[x]},h&&(d[x].orig_p=l[x],d[x][T+"End"]=y.ends[x],d[x][T+"Start"]=y.starts[x]),t.ids&&(d[x].id=String(t.ids[x]));return o(t,"marker")&&C(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),o(t,"marker.line")&&C(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),S(d,t),v(d,t),d}},78048:function(V){V.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(V,Y,e){var p=e(38248),L=e(3400).isArrayOrTypedArray,o=e(39032).BADNUM,C=e(24040),S=e(54460),v=e(71888).getAxisGroup,g=e(72592);function r(b,N){for(var k=N.xaxis,H=N.yaxis,F=b._fullLayout,B=b._fullData,U=b.calcdata,z=[],W=[],j=0;j<B.length;j++){var ee=B[j];if(ee.visible===!0&&C.traceIs(ee,"bar")&&ee.xaxis===k._id&&ee.yaxis===H._id&&(ee.orientation==="h"?z.push(U[j]):W.push(U[j]),ee._computePh))for(var ie=b.calcdata[j],oe=0;oe<ie.length;oe++)typeof ie[oe].ph0=="function"&&(ie[oe].ph0=ie[oe].ph0()),typeof ie[oe].ph1=="function"&&(ie[oe].ph1=ie[oe].ph1())}var he={xCat:k.type==="category"||k.type==="multicategory",yCat:H.type==="category"||H.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};t(b,k,H,W,he),t(b,H,k,z,he)}function t(b,N,k,H,F){if(H.length){var B,U,z,W,j;switch(f(k,H),F.mode){case"overlay":u(N,k,H,F);break;case"group":for(B=[],U=[],z=0;z<H.length;z++)W=H[z],j=W[0].trace,j.offset===void 0?U.push(W):B.push(W);U.length&&l(b,N,k,U,F),B.length&&u(N,k,B,F);break;case"stack":case"relative":for(B=[],U=[],z=0;z<H.length;z++)W=H[z],j=W[0].trace,j.base===void 0?U.push(W):B.push(W);n(U),U.length&&y(b,N,k,U,F),B.length&&u(N,k,B,F);break}a(H),s(H,N)}}function a(b){var N,k,H,F,B,U,z;for(N=0;N<b.length;N++)k=b[N],H=k[0].trace,F=k[0].t,F.cornerradiusvalue===void 0&&(B=H.marker?H.marker.cornerradius:void 0,B!==void 0&&(U=p(B)?+B:+B.slice(0,-1),z=p(B)?"px":"%",F.cornerradiusvalue=U,F.cornerradiusform=z))}function n(b){if(!(b.length<2)){var N,k,H,F,B,U,z;for(N=0;N<b.length&&(k=b[N],H=k[0].trace,B=H.marker?H.marker.cornerradius:void 0,B===void 0);N++);if(B!==void 0)for(U=p(B)?+B:+B.slice(0,-1),z=p(B)?"px":"%",N=0;N<b.length;N++)k=b[N],F=k[0].t,F.cornerradiusvalue=U,F.cornerradiusform=z}}function f(b,N){var k,H;for(k=0;k<N.length;k++){var F=N[k],B=F[0].trace,U=B.type==="funnel"?B._base:B.base,z,W=B.orientation==="h"?B.xcalendar:B.ycalendar,j=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(L(U)){for(H=0;H<Math.min(U.length,F.length);H++)z=j(U[H],0,W),p(z)?(F[H].b=+z,F[H].hasB=1):F[H].b=0;for(;H<F.length;H++)F[H].b=0}else{z=j(U,0,W);var ee=p(z);for(z=ee?z:0,H=0;H<F.length;H++)F[H].b=z,ee&&(F[H].hasB=1)}}}function u(b,N,k,H){for(var F=0;F<k.length;F++){var B=k[F],U=new g([B],{posAxis:b,sepNegVal:!1,overlapNoMerge:!H.norm});h(b,U,H),H.norm?(_(U),E(N,U,H)):x(N,U)}}function l(b,N,k,H,F){var B=new g(H,{posAxis:N,sepNegVal:!1,overlapNoMerge:!F.norm});T(b,N,B,F),m(B,N),F.norm?(_(B),E(k,B,F)):x(k,B)}function y(b,N,k,H,F){var B=new g(H,{posAxis:N,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});h(N,B,F),w(k,B,F);for(var U=0;U<H.length;U++)for(var z=H[U],W=0;W<z.length;W++){var j=z[W];if(j.s!==o){var ee=j.b+j.s===B.get(j.p,j.s);ee&&(j._outmost=!0)}}F.norm&&E(k,B,F)}function h(b,N,k){for(var H=N.minDiff,F=N.traces,B=H*(1-k.gap),U=B,z=U*(1-(k.groupgap||0)),W=-z/2,j=0;j<F.length;j++){var ee=F[j],ie=ee[0].t;ie.barwidth=z,ie.poffset=W,ie.bargroupwidth=B,ie.bardelta=H}N.binWidth=F[0][0].t.barwidth/100,c(N),i(b,N),d(b,N)}function T(b,N,k,H){for(var F=b._fullLayout,B=k.positions,U=k.distinctPositions,z=k.minDiff,W=k.traces,j=W.length,ee=B.length!==U.length,ie=z*(1-H.gap),oe=v(F,N._id)+W[0][0].trace.orientation,he=F._alignmentOpts[oe]||{},ne=0;ne<j;ne++){var q=W[ne],le=q[0].trace,Q=he[le.alignmentgroup]||{},te=Object.keys(Q.offsetGroups||{}).length,ue;te?ue=ie/te:ue=ee?ie/j:ie;var J=ue*(1-(H.groupgap||0)),K;te?K=((2*le._offsetIndex+1-te)*ue-J)/2:K=ee?((2*ne+1-j)*ue-J)/2:-J/2;var ce=q[0].t;ce.barwidth=J,ce.poffset=K,ce.bargroupwidth=ie,ce.bardelta=z}k.binWidth=W[0][0].t.barwidth/100,c(k),i(N,k),d(N,k,ee)}function c(b){var N=b.traces,k,H;for(k=0;k<N.length;k++){var F=N[k],B=F[0],U=B.trace,z=B.t,W=U._offset||U.offset,j=z.poffset,ee;if(L(W)){for(ee=Array.prototype.slice.call(W,0,F.length),H=0;H<ee.length;H++)p(ee[H])||(ee[H]=j);for(H=ee.length;H<F.length;H++)ee.push(j);z.poffset=ee}else W!==void 0&&(z.poffset=W);var ie=U._width||U.width,oe=z.barwidth;if(L(ie)){var he=Array.prototype.slice.call(ie,0,F.length);for(H=0;H<he.length;H++)p(he[H])||(he[H]=oe);for(H=he.length;H<F.length;H++)he.push(oe);if(z.barwidth=he,W===void 0){for(ee=[],H=0;H<F.length;H++)ee.push(j+(oe-he[H])/2);z.poffset=ee}}else ie!==void 0&&(z.barwidth=ie,W===void 0&&(z.poffset=j+(oe-ie)/2))}}function i(b,N){for(var k=N.traces,H=M(b),F=0;F<k.length;F++)for(var B=k[F],U=B[0].t,z=U.poffset,W=L(z),j=U.barwidth,ee=L(j),ie=0;ie<B.length;ie++){var oe=B[ie],he=oe.w=ee?j[ie]:j;oe.p===void 0&&(oe.p=oe[H],oe["orig_"+H]=oe[H]);var ne=(W?z[ie]:z)+he/2;oe[H]=oe.p+ne}}function d(b,N,k){var H=N.traces,F=N.minDiff,B=F/2;S.minDtick(b,N.minDiff,N.distinctPositions[0],k);for(var U=0;U<H.length;U++){var z=H[U],W=z[0],j=W.trace,ee=[],ie,oe,he,ne;for(ne=0;ne<z.length;ne++)ie=z[ne],oe=ie.p-B,he=ie.p+B,ee.push(oe,he);if(j.width||j.offset){var q=W.t,le=q.poffset,Q=q.barwidth,te=L(le),ue=L(Q);for(ne=0;ne<z.length;ne++){ie=z[ne];var J=te?le[ne]:le,K=ue?Q[ne]:Q;oe=ie.p+J,he=oe+K,ee.push(oe,he)}}j._extremes[b._id]=S.findExtremes(b,ee,{padded:!1})}}function x(b,N){for(var k=N.traces,H=M(b),F=0;F<k.length;F++){for(var B=k[F],U=B[0].trace,z=U.type==="scatter",W=U.orientation==="v",j=[],ee=!1,ie=0;ie<B.length;ie++){var oe=B[ie],he=z?0:oe.b,ne=z?W?oe.y:oe.x:he+oe.s;oe[H]=ne,j.push(ne),oe.hasB&&j.push(he),(!oe.hasB||!oe.b)&&(ee=!0)}U._extremes[b._id]=S.findExtremes(b,j,{tozero:ee,padded:!0})}}function w(b,N,k){var H=M(b),F=N.traces,B,U,z,W,j,ee;for(W=0;W<F.length;W++)if(B=F[W],U=B[0].trace,U.type==="funnel")for(j=0;j<B.length;j++)ee=B[j],ee.s!==o&&N.put(ee.p,-.5*ee.s);for(W=0;W<F.length;W++){B=F[W],U=B[0].trace,z=U.type==="funnel";var ie=[];for(j=0;j<B.length;j++)if(ee=B[j],ee.s!==o){var oe;z?oe=ee.s:oe=ee.s+ee.b;var he=N.put(ee.p,oe),ne=he+oe;ee.b=he,ee[H]=ne,k.norm||(ie.push(ne),ee.hasB&&ie.push(he))}k.norm||(U._extremes[b._id]=S.findExtremes(b,ie,{tozero:!0,padded:!0}))}}function _(b){for(var N=b.traces,k=0;k<N.length;k++)for(var H=N[k],F=0;F<H.length;F++){var B=H[F];B.s!==o&&b.put(B.p,B.b+B.s)}}function m(b,N){for(var k=b.traces,H=0;H<k.length;H++){var F=k[H],B=F[0].trace;if(B.base===void 0)for(var U=new g([F],{posAxis:N,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<F.length;z++){var W=F[z];if(W.p!==o){var j=U.put(W.p,W.b+W.s);j&&(W.b=j)}}}}function E(b,N,k){var H=N.traces,F=M(b),B=k.norm==="fraction"?1:100,U=B/1e9,z=b.l2c(b.c2l(0)),W=k.mode==="stack"?B:z;function j(K){return p(b.c2l(K))&&(K<z-U||K>W+U||!p(z))}for(var ee=0;ee<H.length;ee++){for(var ie=H[ee],oe=ie[0].trace,he=[],ne=!1,q=!1,le=0;le<ie.length;le++){var Q=ie[le];if(Q.s!==o){var te=Math.abs(B/N.get(Q.p,Q.s));Q.b*=te,Q.s*=te;var ue=Q.b,J=ue+Q.s;Q[F]=J,he.push(J),q=q||j(J),Q.hasB&&(he.push(ue),q=q||j(ue)),(!Q.hasB||!Q.b)&&(ne=!0)}}oe._extremes[b._id]=S.findExtremes(b,he,{tozero:ne,padded:q})}}function A(b,N,k,H){for(var F=M(H),B=0;B<b.length;B++)for(var U=b[B],z=0;z<U.length;z++){var W=U[z],j=W[F];W._sMin=N[j],W._sMax=k[j]}}function s(b,N){var k=M(N),H={},F,B,U,z=1/0,W=-1/0;for(F=0;F<b.length;F++)for(U=b[F],B=0;B<U.length;B++){var j=U[B].p;p(j)&&(z=Math.min(z,j),W=Math.max(W,j))}var ee=1e4/(W-z),ie=H.round=function(de){return String(Math.round(ee*(de-z)))},oe={},he={},ne=b.some(function(de){var be=de[0].trace;return"marker"in be&&be.marker.cornerradius});for(F=0;F<b.length;F++){U=b[F],U[0].t.extents=H;var q=U[0].t.poffset,le=L(q);for(B=0;B<U.length;B++){var Q=U[B],te=Q[k]-Q.w/2;if(p(te)){var ue=Q[k]+Q.w/2,J=ie(Q.p);H[J]?H[J]=[Math.min(te,H[J][0]),Math.max(ue,H[J][1])]:H[J]=[te,ue]}if(Q.p0=Q.p+(le?q[B]:q),Q.p1=Q.p0+Q.w,Q.s0=Q.b,Q.s1=Q.s0+Q.s,ne){var K=Math.min(Q.s0,Q.s1)||0,ce=Math.max(Q.s0,Q.s1)||0,ae=Q[k];oe[ae]=ae in oe?Math.min(oe[ae],K):K,he[ae]=ae in he?Math.max(he[ae],ce):ce}}}ne&&A(b,oe,he,N)}function M(b){return b._id.charAt(0)}V.exports={crossTraceCalc:r,setGroupPositions:t}},31508:function(V,Y,e){var p=e(38248),L=e(3400),o=e(76308),C=e(24040),S=e(43980),v=e(31147),g=e(55592),r=e(20011),t=e(20832),a=L.coerceFont;function n(y,h,T,c){function i(m,E){return L.coerce(y,h,t,m,E)}var d=S(y,h,c,i);if(!d){h.visible=!1;return}v(y,h,c,i),i("xhoverformat"),i("yhoverformat"),i("zorder"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var x=i("textposition");l(y,h,c,i,x,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),g(y,h,i,T,c);var w=(h.marker.line||{}).color,_=C.getComponentMethod("errorbars","supplyDefaults");_(y,h,w||o.defaultLine,{axis:"y"}),_(y,h,w||o.defaultLine,{axis:"x",inherit:"y"}),L.coerceSelectionMarkerOpacity(h,i)}function f(y,h){var T,c;function i(w,_){return L.coerce(c._input,c,t,w,_)}for(var d=0;d<y.length;d++)if(c=y[d],c.type==="bar"){T=c._input;var x=i("marker.cornerradius",h.barcornerradius);c.marker&&(c.marker.cornerradius=u(x)),h.barmode==="group"&&r(T,c,h,i)}}function u(y){if(p(y)){if(y=+y,y>=0)return y}else if(typeof y=="string"&&(y=y.trim(),y.slice(-1)==="%"&&p(y.slice(0,-1))&&(y=+y.slice(0,-1),y>=0)))return y+"%"}function l(y,h,T,c,i,d){d=d||{};var x=d.moduleHasSelected!==!1,w=d.moduleHasUnselected!==!1,_=d.moduleHasConstrain!==!1,m=d.moduleHasCliponaxis!==!1,E=d.moduleHasTextangle!==!1,A=d.moduleHasInsideanchor!==!1,s=!!d.hasPathbar,M=Array.isArray(i)||i==="auto",b=M||i==="inside",N=M||i==="outside";if(b||N){var k=a(c,"textfont",T.font),H=L.extendFlat({},k),F=y.textfont&&y.textfont.color,B=!F;if(B&&delete H.color,a(c,"insidetextfont",H),s){var U=L.extendFlat({},k);B&&delete U.color,a(c,"pathbar.textfont",U)}N&&a(c,"outsidetextfont",k),x&&c("selected.textfont.color"),w&&c("unselected.textfont.color"),_&&c("constraintext"),m&&c("cliponaxis"),E&&c("textangle"),c("texttemplate")}b&&A&&c("insidetextanchor")}V.exports={supplyDefaults:n,crossTraceDefaults:f,handleText:l,validateCornerradius:u}},52160:function(V){V.exports=function(e,p,L){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},60444:function(V,Y,e){var p=e(38248),L=e(49760),o=e(3400).isArrayOrTypedArray;Y.coerceString=function(C,S,v){if(typeof S=="string"){if(S||!C.noBlank)return S}else if((typeof S=="number"||S===!0)&&!C.strict)return String(S);return v!==void 0?v:C.dflt},Y.coerceNumber=function(C,S,v){if(p(S)){S=+S;var g=C.min,r=C.max,t=g!==void 0&&S<g||r!==void 0&&S>r;if(!t)return S}return v!==void 0?v:C.dflt},Y.coerceColor=function(C,S,v){return L(S).isValid()?S:v!==void 0?v:C.dflt},Y.coerceEnumerated=function(C,S,v){return C.coerceNumber&&(S=+S),C.values.indexOf(S)!==-1?S:v!==void 0?v:C.dflt},Y.getValue=function(C,S){var v;return o(C)?S<C.length&&(v=C[S]):v=C,v},Y.getLineWidth=function(C,S){var v=0<S.mlw?S.mlw:o(C.marker.line.width)?0:C.marker.line.width;return v}},63400:function(V,Y,e){var p=e(93024),L=e(24040),o=e(76308),C=e(3400).fillText,S=e(60444).getLineWidth,v=e(54460).hoverLabelText,g=e(39032).BADNUM;function r(n,f,u,l,y){var h=t(n,f,u,l,y);if(h){var T=h.cd,c=T[0].trace,i=T[h.index];return h.color=a(c,i),L.getComponentMethod("errorbars","hoverInfo")(i,c,h),[h]}}function t(n,f,u,l,y){var h=n.cd,T=h[0].trace,c=h[0].t,i=l==="closest",d=T.type==="waterfall",x=n.maxHoverDistance,w=n.maxSpikeDistance,_,m,E,A,s,M,b;T.orientation==="h"?(_=u,m=f,E="y",A="x",s=he,M=ee):(_=f,m=u,E="x",A="y",M=he,s=ee);var N=T[E+"period"],k=i||N;function H(de){return B(de,-1)}function F(de){return B(de,1)}function B(de,be){var Se=de.w;return de[E]+be*Se/2}function U(de){return de[E+"End"]-de[E+"Start"]}var z=i?H:N?function(de){return de.p-U(de)/2}:function(de){return Math.min(H(de),de.p-c.bardelta/2)},W=i?F:N?function(de){return de.p+U(de)/2}:function(de){return Math.max(F(de),de.p+c.bardelta/2)};function j(de,be,Se){return y.finiteRange&&(Se=0),p.inbox(de-_,be-_,Se+Math.min(1,Math.abs(be-de)/b)-1)}function ee(de){return j(z(de),W(de),x)}function ie(de){return j(H(de),F(de),w)}function oe(de){var be=de[A];if(d){var Se=Math.abs(de.rawS)||0;m>0?be+=Se:m<0&&(be-=Se)}return be}function he(de){var be=m,Se=de.b,Te=oe(de);return p.inbox(Se-be,Te-be,x+(Te-be)/(Te-Se)-1)}function ne(de){var be=m,Se=de.b,Te=oe(de);return p.inbox(Se-be,Te-be,w+(Te-be)/(Te-Se)-1)}var q=n[E+"a"],le=n[A+"a"];b=Math.abs(q.r2c(q.range[1])-q.r2c(q.range[0]));function Q(de){return(s(de)+M(de))/2}var te=p.getDistanceFunction(l,s,M,Q);if(p.getClosest(h,te,n),n.index!==!1&&h[n.index].p!==g){k||(z=function(de){return Math.min(H(de),de.p-c.bargroupwidth/2)},W=function(de){return Math.max(F(de),de.p+c.bargroupwidth/2)});var ue=n.index,J=h[ue],K=T.base?J.b+J.s:J.s;n[A+"0"]=n[A+"1"]=le.c2p(J[A],!0),n[A+"LabelVal"]=K;var ce=c.extents[c.extents.round(J.p)];n[E+"0"]=q.c2p(i?z(J):ce[0],!0),n[E+"1"]=q.c2p(i?W(J):ce[1],!0);var ae=J.orig_p!==void 0;return n[E+"LabelVal"]=ae?J.orig_p:J.p,n.labelLabel=v(q,n[E+"LabelVal"],T[E+"hoverformat"]),n.valueLabel=v(le,n[A+"LabelVal"],T[A+"hoverformat"]),n.baseLabel=v(le,J.b,T[A+"hoverformat"]),n.spikeDistance=(ne(J)+ie(J))/2,n[E+"Spike"]=q.c2p(J.p,!0),C(J,T,n),n.hovertemplate=T.hovertemplate,n}}function a(n,f){var u=f.mcc||n.marker.color,l=f.mlcc||n.marker.line.color,y=S(n,f);if(o.opacity(u))return u;if(o.opacity(l)&&y)return l}V.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:a}},51132:function(V,Y,e){V.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(V){V.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(V,Y,e){var p=e(24040),L=e(54460),o=e(3400),C=e(39324),S=e(31508).validateCornerradius;V.exports=function(v,g,r){function t(d,x){return o.coerce(v,g,C,d,x)}for(var a=!1,n=!1,f=!1,u={},l=t("barmode"),y=0;y<r.length;y++){var h=r[y];if(p.traceIs(h,"bar")&&h.visible)a=!0;else continue;if(l==="group"){var T=h.xaxis+h.yaxis;u[T]&&(f=!0),u[T]=!0}if(h.visible&&h.type==="histogram"){var c=L.getFromId({_fullLayout:g},h[h.orientation==="v"?"xaxis":"yaxis"]);c.type!=="category"&&(n=!0)}}if(!a){delete g.barmode;return}l!=="overlay"&&t("barnorm"),t("bargap",n&&!f?0:.2),t("bargroupgap");var i=t("barcornerradius");g.barcornerradius=S(i)}},98184:function(V,Y,e){var p=e(33428),L=e(38248),o=e(3400),C=e(72736),S=e(76308),v=e(43616),g=e(24040),r=e(54460).tickText,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(60100),u=e(60444),l=e(78048),y=e(20832),h=y.text,T=y.textposition,c=e(10624).appendArrayPointValue,i=l.TEXTPAD;function d(ee){return ee.id}function x(ee){if(ee.ids)return d}function w(ee){return(ee>0)-(ee<0)}function _(ee,ie){return ee<ie?1:-1}function m(ee,ie,oe,he){var ne=[],q=[],le=he?ie:oe,Q=he?oe:ie;return ne[0]=le.c2p(ee.s0,!0),q[0]=Q.c2p(ee.p0,!0),ne[1]=le.c2p(ee.s1,!0),q[1]=Q.c2p(ee.p1,!0),he?[ne,q]:[q,ne]}function E(ee,ie,oe,he){if(!ie.uniformtext.mode&&A(oe)){var ne;return he&&(ne=he()),ee.transition().duration(oe.duration).ease(oe.easing).each("end",function(){ne&&ne()}).each("interrupt",function(){ne&&ne()})}else return ee}function A(ee){return ee&&ee.duration>0}function s(ee,ie,oe,he,ne,q){var le=ie.xaxis,Q=ie.yaxis,te=ee._fullLayout,ue=ee._context.staticPlot;ne||(ne={mode:te.barmode,norm:te.barmode,gap:te.bargap,groupgap:te.bargroupgap},n("bar",te));var J=o.makeTraceGroups(he,oe,"trace bars").each(function(K){var ce=p.select(this),ae=K[0].trace,de=K[0].t,be=ae.type==="waterfall",Se=ae.type==="funnel",Te=ae.type==="histogram",Ie=ae.type==="bar",ke=Ie||Se,Be=0;be&&ae.connector.visible&&ae.connector.mode==="between"&&(Be=ae.connector.line.width/2);var Me=ae.orientation==="h",Oe=A(ne),_e=o.ensureSingle(ce,"g","points"),Ne=x(ae),Ce=_e.selectAll("g.point").data(o.identity,Ne);Ce.enter().append("g").classed("point",!0),Ce.exit().remove(),Ce.each(function(rt,ot){var $e=p.select(this),qe=m(rt,le,Q,Me),ht=qe[0][0],vt=qe[0][1],pt=qe[1][0],wt=qe[1][1],Mt=(Me?vt-ht:wt-pt)===0;Mt&&ke&&u.getLineWidth(ae,rt)&&(Mt=!1),Mt||(Mt=!L(ht)||!L(vt)||!L(pt)||!L(wt)),rt.isBlank=Mt,Mt&&(Me?vt=ht:wt=pt),Be&&!Mt&&(Me?(ht-=_(ht,vt)*Be,vt+=_(ht,vt)*Be):(pt-=_(pt,wt)*Be,wt+=_(pt,wt)*Be));var nt,Fe;if(ae.type==="waterfall"){if(!Mt){var We=ae[rt.dir].marker;nt=We.line.width,Fe=We.color}}else nt=u.getLineWidth(ae,rt),Fe=rt.mc||ae.marker.color;function Ze(ut){var bt=p.round(nt/2%1,2);return ne.gap===0&&ne.groupgap===0?p.round(Math.round(ut)-bt,2):ut}function Ge(ut,bt,Et){return Et&&ut===bt?ut:Math.abs(ut-bt)>=2?Ze(ut):ut>bt?Math.ceil(ut):Math.floor(ut)}var Pe=S.opacity(Fe),Re=Pe<1||nt>.01?Ze:Ge;ee._context.staticPlot||(ht=Re(ht,vt,Me),vt=Re(vt,ht,Me),pt=Re(pt,wt,!Me),wt=Re(wt,pt,!Me));var je=Me?le.c2p:Q.c2p,De;rt.s0>0?De=rt._sMax:rt.s0<0?De=rt._sMin:De=rt.s1>0?rt._sMax:rt._sMin;function ge(ut,bt){if(!ut)return 0;var Et=Math.abs(Me?wt-pt:vt-ht),Dt=Math.abs(Me?vt-ht:wt-pt),Yt=Re(Math.abs(je(De,!0)-je(0,!0))),Bt=rt.hasB?Math.min(Et/2,Dt/2):Math.min(Et/2,Yt),Ut;if(bt==="%"){var Jt=Math.min(50,ut);Ut=Et*(Jt/100)}else Ut=ut;return Re(Math.max(Math.min(Ut,Bt),0))}var we=Ie||Te?ge(de.cornerradiusvalue,de.cornerradiusform):0,Ue,et,st="M"+ht+","+pt+"V"+wt+"H"+vt+"V"+pt+"Z",lt=0;if(we&&rt.s){var Wt=w(rt.s0)===0||w(rt.s)===w(rt.s0)?rt.s1:rt.s0;if(lt=Re(rt.hasB?0:Math.abs(je(De,!0)-je(Wt,!0))),lt<we){var jt=_(ht,vt),Tt=_(pt,wt),Rt=jt===-Tt?1:0;if(Me)if(rt.hasB)Ue="M"+(ht+we*jt)+","+pt+"A "+we+","+we+" 0 0 "+Rt+" "+ht+","+(pt+we*Tt)+"V"+(wt-we*Tt)+"A "+we+","+we+" 0 0 "+Rt+" "+(ht+we*jt)+","+wt+"H"+(vt-we*jt)+"A "+we+","+we+" 0 0 "+Rt+" "+vt+","+(wt-we*Tt)+"V"+(pt+we*Tt)+"A "+we+","+we+" 0 0 "+Rt+" "+(vt-we*jt)+","+pt+"Z";else{et=Math.abs(vt-ht)+lt;var Zt=et<we?we-Math.sqrt(et*(2*we-et)):0,mr=lt>0?Math.sqrt(lt*(2*we-lt)):0,gt=jt>0?Math.max:Math.min;Ue="M"+ht+","+pt+"V"+(wt-Zt*Tt)+"H"+gt(vt-(we-lt)*jt,ht)+"A "+we+","+we+" 0 0 "+Rt+" "+vt+","+(wt-we*Tt-mr)+"V"+(pt+we*Tt+mr)+"A "+we+","+we+" 0 0 "+Rt+" "+gt(vt-(we-lt)*jt,ht)+","+(pt+Zt*Tt)+"Z"}else if(rt.hasB)Ue="M"+(ht+we*jt)+","+pt+"A "+we+","+we+" 0 0 "+Rt+" "+ht+","+(pt+we*Tt)+"V"+(wt-we*Tt)+"A "+we+","+we+" 0 0 "+Rt+" "+(ht+we*jt)+","+wt+"H"+(vt-we*jt)+"A "+we+","+we+" 0 0 "+Rt+" "+vt+","+(wt-we*Tt)+"V"+(pt+we*Tt)+"A "+we+","+we+" 0 0 "+Rt+" "+(vt-we*jt)+","+pt+"Z";else{et=Math.abs(wt-pt)+lt;var Kt=et<we?we-Math.sqrt(et*(2*we-et)):0,$t=lt>0?Math.sqrt(lt*(2*we-lt)):0,br=Tt>0?Math.max:Math.min;Ue="M"+(ht+Kt*jt)+","+pt+"V"+br(wt-(we-lt)*Tt,pt)+"A "+we+","+we+" 0 0 "+Rt+" "+(ht+we*jt-$t)+","+wt+"H"+(vt-we*jt+$t)+"A "+we+","+we+" 0 0 "+Rt+" "+(vt-Kt*jt)+","+br(wt-(we-lt)*Tt,pt)+"V"+pt+"Z"}}else Ue=st}else Ue=st;var lr=E(o.ensureSingle($e,"path"),te,ne,q);if(lr.style("vector-effect",ue?"none":"non-scaling-stroke").attr("d",isNaN((vt-ht)*(wt-pt))||Mt&&ee._context.staticPlot?"M0,0Z":Ue).call(v.setClipUrl,ie.layerClipId,ee),!te.uniformtext.mode&&Oe){var mt=v.makePointStyleFns(ae);v.singlePointStyle(rt,lr,ae,mt,ee)}M(ee,ie,$e,K,ot,ht,vt,pt,wt,we,lt,ne,q),ie.layerClipId&&v.hideOutsideRangePoint(rt,$e.select("text"),le,Q,ae.xcalendar,ae.ycalendar)});var Ye=ae.cliponaxis===!1;v.setClipUrl(ce,Ye?null:ie.layerClipId,ee)});g.getComponentMethod("errorbars","plot")(ee,J,ie,ne)}function M(ee,ie,oe,he,ne,q,le,Q,te,ue,J,K,ce){var ae=ie.xaxis,de=ie.yaxis,be=ee._fullLayout,Se;function Te(et,st,lt){var Wt=o.ensureSingle(et,"text").text(st).attr({class:"bartext bartext-"+Se,"text-anchor":"middle","data-notex":1}).call(v.font,lt).call(C.convertToTspans,ee);return Wt}var Ie=he[0].trace,ke=Ie.orientation==="h",Be=U(be,he,ne,ae,de);Se=z(Ie,ne);var Me=K.mode==="stack"||K.mode==="relative",Oe=he[ne],_e=!Me||Oe._outmost,Ne=Oe.hasB,Ce=ue&&ue-J>i;if(!Be||Se==="none"||(Oe.isBlank||q===le||Q===te)&&(Se==="auto"||Se==="inside")){oe.select("text").remove();return}var Ye=be.font,rt=f.getBarColor(he[ne],Ie),ot=f.getInsideTextFont(Ie,ne,Ye,rt),$e=f.getOutsideTextFont(Ie,ne,Ye),qe=Ie.insidetextanchor||"end",ht=oe.datum();ke?ae.type==="log"&&ht.s0<=0&&(ae.range[0]<ae.range[1]?q=0:q=ae._length):de.type==="log"&&ht.s0<=0&&(de.range[0]<de.range[1]?Q=de._length:Q=0);var vt=Math.abs(le-q),pt=Math.abs(te-Q),wt=vt-2*i,Mt=pt-2*i,nt,Fe,We,Ze,Ge;if(Se==="outside"&&!_e&&!Oe.hasB&&(Se="inside"),Se==="auto")if(_e){Se="inside",Ge=o.ensureUniformFontSize(ee,ot),nt=Te(oe,Be,Ge),Fe=v.bBox(nt.node()),We=Fe.width,Ze=Fe.height;var Pe=We>0&&Ze>0,Re;Ce?Ne?Re=b(wt-2*ue,Mt,We,Ze,ke)||b(wt,Mt-2*ue,We,Ze,ke):ke?Re=b(wt-(ue-J),Mt,We,Ze,ke)||b(wt,Mt-2*(ue-J),We,Ze,ke):Re=b(wt,Mt-(ue-J),We,Ze,ke)||b(wt-2*(ue-J),Mt,We,Ze,ke):Re=b(wt,Mt,We,Ze,ke),Pe&&Re?Se="inside":(Se="outside",nt.remove(),nt=null)}else Se="inside";if(!nt){Ge=o.ensureUniformFontSize(ee,Se==="outside"?$e:ot),nt=Te(oe,Be,Ge);var je=nt.attr("transform");if(nt.attr("transform",""),Fe=v.bBox(nt.node()),We=Fe.width,Ze=Fe.height,nt.attr("transform",je),We<=0||Ze<=0){nt.remove();return}}var De=Ie.textangle,ge,we;Se==="outside"?(we=Ie.constraintext==="both"||Ie.constraintext==="outside",ge=B(q,le,Q,te,Fe,{isHorizontal:ke,constrained:we,angle:De})):(we=Ie.constraintext==="both"||Ie.constraintext==="inside",ge=H(q,le,Q,te,Fe,{isHorizontal:ke,constrained:we,angle:De,anchor:qe,hasB:Ne,r:ue,overhead:J})),ge.fontSize=Ge.size,a(Ie.type==="histogram"?"bar":Ie.type,ge,be),Oe.transform=ge;var Ue=E(nt,be,K,ce);o.setTransormAndDisplay(Ue,ge)}function b(ee,ie,oe,he,ne){if(ee<0||ie<0)return!1;var q=oe<=ee&&he<=ie,le=oe<=ie&&he<=ee,Q=ne?ee>=oe*(ie/he):ie>=he*(ee/oe);return q||le||Q}function N(ee){return ee==="auto"?0:ee}function k(ee,ie){var oe=Math.PI/180*ie,he=Math.abs(Math.sin(oe)),ne=Math.abs(Math.cos(oe));return{x:ee.width*ne+ee.height*he,y:ee.width*he+ee.height*ne}}function H(ee,ie,oe,he,ne,q){var le=!!q.isHorizontal,Q=!!q.constrained,te=q.angle||0,ue=q.anchor,J=ue==="end",K=ue==="start",ce=q.leftToRight||0,ae=(ce+1)/2,de=1-ae,be=q.hasB,Se=q.r,Te=q.overhead,Ie=ne.width,ke=ne.height,Be=Math.abs(ie-ee),Me=Math.abs(he-oe),Oe=Be>2*i&&Me>2*i?i:0;Be-=2*Oe,Me-=2*Oe;var _e=N(te);te==="auto"&&!(Ie<=Be&&ke<=Me)&&(Ie>Be||ke>Me)&&(!(Ie>Me||ke>Be)||Ie<ke!=Be<Me)&&(_e+=90);var Ne=k(ne,_e),Ce,Ye;if(Se&&Se-Te>i){var rt=F(ee,ie,oe,he,Ne,Se,Te,le,be);Ce=rt.scale,Ye=rt.pad}else Ce=1,Q&&(Ce=Math.min(1,Be/Ne.x,Me/Ne.y)),Ye=0;var ot=ne.left*de+ne.right*ae,$e=(ne.top+ne.bottom)/2,qe=(ee+i)*de+(ie-i)*ae,ht=(oe+he)/2,vt=0,pt=0;if(K||J){var wt=(le?Ne.x:Ne.y)/2;Se&&(J||be)&&(Oe+=Ye);var Mt=le?_(ee,ie):_(oe,he);le?K?(qe=ee+Mt*Oe,vt=-Mt*wt):(qe=ie-Mt*Oe,vt=Mt*wt):K?(ht=oe+Mt*Oe,pt=-Mt*wt):(ht=he-Mt*Oe,pt=Mt*wt)}return{textX:ot,textY:$e,targetX:qe,targetY:ht,anchorX:vt,anchorY:pt,scale:Ce,rotate:_e}}function F(ee,ie,oe,he,ne,q,le,Q,te){var ue=Math.max(0,Math.abs(ie-ee)-2*i),J=Math.max(0,Math.abs(he-oe)-2*i),K=q-i,ce=le?K-Math.sqrt(K*K-(K-le)*(K-le)):K,ae=te?K*2:Q?K-le:2*ce,de=te?K*2:Q?2*ce:K-le,be,Se,Te,Ie,ke;return ne.y/ne.x>=J/(ue-ae)?Ie=J/ne.y:ne.y/ne.x<=(J-de)/ue?Ie=ue/ne.x:!te&&Q?(be=ne.x*ne.x+ne.y*ne.y/4,Se=-2*ne.x*(ue-K)-ne.y*(J/2-K),Te=(ue-K)*(ue-K)+(J/2-K)*(J/2-K)-K*K,Ie=(-Se+Math.sqrt(Se*Se-4*be*Te))/(2*be)):te?(be=(ne.x*ne.x+ne.y*ne.y)/4,Se=-ne.x*(ue/2-K)-ne.y*(J/2-K),Te=(ue/2-K)*(ue/2-K)+(J/2-K)*(J/2-K)-K*K,Ie=(-Se+Math.sqrt(Se*Se-4*be*Te))/(2*be)):(be=ne.x*ne.x/4+ne.y*ne.y,Se=-ne.x*(ue/2-K)-2*ne.y*(J-K),Te=(ue/2-K)*(ue/2-K)+(J-K)*(J-K)-K*K,Ie=(-Se+Math.sqrt(Se*Se-4*be*Te))/(2*be)),Ie=Math.min(1,Ie),Q?ke=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(J-ne.y*Ie)/2)*(K-(J-ne.y*Ie)/2)))-le):ke=Math.max(0,K-Math.sqrt(Math.max(0,K*K-(K-(ue-ne.x*Ie)/2)*(K-(ue-ne.x*Ie)/2)))-le),{scale:Ie,pad:ke}}function B(ee,ie,oe,he,ne,q){var le=!!q.isHorizontal,Q=!!q.constrained,te=q.angle||0,ue=ne.width,J=ne.height,K=Math.abs(ie-ee),ce=Math.abs(he-oe),ae;le?ae=ce>2*i?i:0:ae=K>2*i?i:0;var de=1;Q&&(de=le?Math.min(1,ce/J):Math.min(1,K/ue));var be=N(te),Se=k(ne,be),Te=(le?Se.x:Se.y)/2,Ie=(ne.left+ne.right)/2,ke=(ne.top+ne.bottom)/2,Be=(ee+ie)/2,Me=(oe+he)/2,Oe=0,_e=0,Ne=le?_(ie,ee):_(oe,he);return le?(Be=ie-Ne*ae,Oe=Ne*Te):(Me=he+Ne*ae,_e=-Ne*Te),{textX:Ie,textY:ke,targetX:Be,targetY:Me,anchorX:Oe,anchorY:_e,scale:de,rotate:be}}function U(ee,ie,oe,he,ne){var q=ie[0].trace,le=q.texttemplate,Q;return le?Q=W(ee,ie,oe,he,ne):q.textinfo?Q=j(ie,oe,he,ne):Q=u.getValue(q.text,oe),u.coerceString(h,Q)}function z(ee,ie){var oe=u.getValue(ee.textposition,ie);return u.coerceEnumerated(T,oe)}function W(ee,ie,oe,he,ne){var q=ie[0].trace,le=o.castOption(q,oe,"texttemplate");if(!le)return"";var Q=q.type==="histogram",te=q.type==="waterfall",ue=q.type==="funnel",J=q.orientation==="h",K,ce,ae,de;J?(K="y",ce=ne,ae="x",de=he):(K="x",ce=he,ae="y",de=ne);function be(Oe){return r(ce,ce.c2l(Oe),!0).text}function Se(Oe){return r(de,de.c2l(Oe),!0).text}var Te=ie[oe],Ie={};Ie.label=Te.p,Ie.labelLabel=Ie[K+"Label"]=be(Te.p);var ke=o.castOption(q,Te.i,"text");(ke===0||ke)&&(Ie.text=ke),Ie.value=Te.s,Ie.valueLabel=Ie[ae+"Label"]=Se(Te.s);var Be={};c(Be,q,Te.i),(Q||Be.x===void 0)&&(Be.x=J?Ie.value:Ie.label),(Q||Be.y===void 0)&&(Be.y=J?Ie.label:Ie.value),(Q||Be.xLabel===void 0)&&(Be.xLabel=J?Ie.valueLabel:Ie.labelLabel),(Q||Be.yLabel===void 0)&&(Be.yLabel=J?Ie.labelLabel:Ie.valueLabel),te&&(Ie.delta=+Te.rawS||Te.s,Ie.deltaLabel=Se(Ie.delta),Ie.final=Te.v,Ie.finalLabel=Se(Ie.final),Ie.initial=Ie.final-Ie.delta,Ie.initialLabel=Se(Ie.initial)),ue&&(Ie.value=Te.s,Ie.valueLabel=Se(Ie.value),Ie.percentInitial=Te.begR,Ie.percentInitialLabel=o.formatPercent(Te.begR),Ie.percentPrevious=Te.difR,Ie.percentPreviousLabel=o.formatPercent(Te.difR),Ie.percentTotal=Te.sumR,Ie.percenTotalLabel=o.formatPercent(Te.sumR));var Me=o.castOption(q,Te.i,"customdata");return Me&&(Ie.customdata=Me),o.texttemplateString(le,Ie,ee._d3locale,Be,Ie,q._meta||{})}function j(ee,ie,oe,he){var ne=ee[0].trace,q=ne.orientation==="h",le=ne.type==="waterfall",Q=ne.type==="funnel";function te(Me){var Oe=q?he:oe;return r(Oe,Me,!0).text}function ue(Me){var Oe=q?oe:he;return r(Oe,+Me,!0).text}var J=ne.textinfo,K=ee[ie],ce=J.split("+"),ae=[],de,be=function(Me){return ce.indexOf(Me)!==-1};if(be("label")&&ae.push(te(ee[ie].p)),be("text")&&(de=o.castOption(ne,K.i,"text"),(de===0||de)&&ae.push(de)),le){var Se=+K.rawS||K.s,Te=K.v,Ie=Te-Se;be("initial")&&ae.push(ue(Ie)),be("delta")&&ae.push(ue(Se)),be("final")&&ae.push(ue(Te))}if(Q){be("value")&&ae.push(ue(K.s));var ke=0;be("percent initial")&&ke++,be("percent previous")&&ke++,be("percent total")&&ke++;var Be=ke>1;be("percent initial")&&(de=o.formatPercent(K.begR),Be&&(de+=" of initial"),ae.push(de)),be("percent previous")&&(de=o.formatPercent(K.difR),Be&&(de+=" of previous"),ae.push(de)),be("percent total")&&(de=o.formatPercent(K.sumR),Be&&(de+=" of total"),ae.push(de))}return ae.join("<br>")}V.exports={plot:s,toMoveInsideBar:H}},45784:function(V){V.exports=function(p,L){var o=p.cd,C=p.xaxis,S=p.yaxis,v=o[0].trace,g=v.type==="funnel",r=v.orientation==="h",t=[],a;if(L===!1)for(a=0;a<o.length;a++)o[a].selected=0;else for(a=0;a<o.length;a++){var n=o[a],f="ct"in n?n.ct:Y(n,C,S,r,g);L.contains(f,!1,a,p)?(t.push({pointNumber:a,x:C.c2d(n.x),y:S.c2d(n.y)}),n.selected=1):n.selected=0}return t};function Y(e,p,L,o,C){var S=p.c2p(o?e.s0:e.p0,!0),v=p.c2p(o?e.s1:e.p1,!0),g=L.c2p(o?e.p0:e.s0,!0),r=L.c2p(o?e.p1:e.s1,!0);return C?[(S+v)/2,(g+r)/2]:o?[v,(g+r)/2]:[(S+v)/2,r]}},72592:function(V,Y,e){V.exports=L;var p=e(3400).distinctVals;function L(o,C){this.traces=o,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var S=1/0,v=C.posAxis._id.charAt(0),g=[],r=0;r<o.length;r++){for(var t=o[r],a=0;a<t.length;a++){var n=t[a],f=n.p;f===void 0&&(f=n[v]),f!==void 0&&g.push(f)}t[0]&&t[0].width1&&(S=Math.min(t[0].width1,S))}this.positions=g;var u=p(g);this.distinctPositions=u.vals,u.vals.length===1&&S!==1/0?this.minDiff=S:this.minDiff=Math.min(u.minDiff,S);var l=(C.posAxis||{}).type;(l==="category"||l==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(C,S){var v=this.getLabel(C,S),g=this.bins[v]||0;return this.bins[v]=g+S,g},L.prototype.get=function(C,S){var v=this.getLabel(C,S);return this.bins[v]||0},L.prototype.getLabel=function(C,S){var v=S<0&&this.sepNegVal?"v":"^",g=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+g}},60100:function(V,Y,e){var p=e(33428),L=e(76308),o=e(43616),C=e(3400),S=e(24040),v=e(82744).resizeText,g=e(20832),r=g.textfont,t=g.insidetextfont,a=g.outsidetextfont,n=e(60444);function f(m){var E=p.select(m).selectAll('g[class^="barlayer"]').selectAll("g.trace");v(m,E,"bar");var A=E.size(),s=m._fullLayout;E.style("opacity",function(M){return M[0].trace.opacity}).each(function(M){(s.barmode==="stack"&&A>1||s.bargap===0&&s.bargroupgap===0&&!M[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(M){var b=p.select(this),N=M[0].trace;u(b,N,m)}),S.getComponentMethod("errorbars","style")(E)}function u(m,E,A){o.pointStyle(m.selectAll("path"),E,A),l(m,E,A)}function l(m,E,A){m.selectAll("text").each(function(s){var M=p.select(this),b=C.ensureUniformFontSize(A,c(M,s,E,A));o.font(M,b)})}function y(m,E,A){var s=E[0].trace;s.selectedpoints?h(A,s,m):(u(A,s,m),S.getComponentMethod("errorbars","style")(A))}function h(m,E,A){o.selectedPointStyle(m.selectAll("path"),E),T(m.selectAll("text"),E,A)}function T(m,E,A){m.each(function(s){var M=p.select(this),b;if(s.selected){b=C.ensureUniformFontSize(A,c(M,s,E,A));var N=E.selected.textfont&&E.selected.textfont.color;N&&(b.color=N),o.font(M,b)}else o.selectedTextStyle(M,E)})}function c(m,E,A,s){var M=s._fullLayout.font,b=A.textfont;if(m.classed("bartext-inside")){var N=_(E,A);b=d(A,E.i,M,N)}else m.classed("bartext-outside")&&(b=x(A,E.i,M));return b}function i(m,E,A){return w(r,m.textfont,E,A)}function d(m,E,A,s){var M=i(m,E,A),b=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[E]===void 0;return b&&(M={color:L.contrast(s),family:M.family,size:M.size,weight:M.weight,style:M.style,variant:M.variant,textcase:M.textcase,lineposition:M.lineposition,shadow:M.shadow}),w(t,m.insidetextfont,E,M)}function x(m,E,A){var s=i(m,E,A);return w(a,m.outsidetextfont,E,s)}function w(m,E,A,s){E=E||{};var M=n.getValue(E.family,A),b=n.getValue(E.size,A),N=n.getValue(E.color,A),k=n.getValue(E.weight,A),H=n.getValue(E.style,A),F=n.getValue(E.variant,A),B=n.getValue(E.textcase,A),U=n.getValue(E.lineposition,A),z=n.getValue(E.shadow,A);return{family:n.coerceString(m.family,M,s.family),size:n.coerceNumber(m.size,b,s.size),color:n.coerceColor(m.color,N,s.color),weight:n.coerceString(m.weight,k,s.weight),style:n.coerceString(m.style,H,s.style),variant:n.coerceString(m.variant,F,s.variant),textcase:n.coerceString(m.variant,B,s.textcase),lineposition:n.coerceString(m.variant,U,s.lineposition),shadow:n.coerceString(m.variant,z,s.shadow)}}function _(m,E){return E.type==="waterfall"?E[m.dir].marker.color:m.mcc||m.mc||E.marker.color}V.exports={style:f,styleTextPoints:l,styleOnSelect:y,getInsideTextFont:d,getOutsideTextFont:x,getBarColor:_,resizeText:v}},55592:function(V,Y,e){var p=e(76308),L=e(94288).hasColorscale,o=e(27260),C=e(3400).coercePattern;V.exports=function(v,g,r,t,a){var n=r("marker.color",t),f=L(v,"marker");f&&o(v,g,a,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",p.defaultLine),L(v,"marker.line")&&o(v,g,a,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),C(r,"marker.pattern",n,f),r("selected.marker.color"),r("unselected.marker.color")}},82744:function(V,Y,e){var p=e(33428),L=e(3400);function o(g,r,t){var a=g._fullLayout,n=a["_"+t+"Text_minsize"];if(n){var f=a.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(l){var y=l.transform;if(y){y.scale=f&&y.hide?0:n/y.fontSize;var h=p.select(this).select("text");L.setTransormAndDisplay(h,y)}})}}function C(g,r,t){if(t.uniformtext.mode){var a=v(g),n=t.uniformtext.minsize,f=r.scale*r.fontSize;r.hide=f<n,t[a]=t[a]||1/0,r.hide||(t[a]=Math.min(t[a],Math.max(f,n)))}}function S(g,r){var t=v(g);r[t]=void 0}function v(g){return"_"+g+"Text_minsize"}V.exports={recordMinTextSize:C,clearMinTextSize:S,resizeText:o}},78100:function(V,Y,e){var p=e(21776).Ks,L=e(92880).extendFlat,o=e(8319),C=e(20832);V.exports={r:o.r,theta:o.theta,r0:o.r0,dr:o.dr,theta0:o.theta0,dtheta:o.dtheta,thetaunit:o.thetaunit,base:L({},C.base,{}),offset:L({},C.offset,{}),width:L({},C.width,{}),text:L({},C.text,{}),hovertext:L({},C.hovertext,{}),marker:S(),hoverinfo:o.hoverinfo,hovertemplate:p(),selected:C.selected,unselected:C.unselected};function S(){var v=L({},C.marker);return delete v.cornerradius,v}},47056:function(V,Y,e){var p=e(94288).hasColorscale,L=e(47128),o=e(3400).isArrayOrTypedArray,C=e(84664),S=e(96376).setGroupPositions,v=e(4500),g=e(24040).traceIs,r=e(3400).extendFlat;function t(n,f){for(var u=n._fullLayout,l=f.subplot,y=u[l].radialaxis,h=u[l].angularaxis,T=y.makeCalcdata(f,"r"),c=h.makeCalcdata(f,"theta"),i=f._length,d=new Array(i),x=T,w=c,_=0;_<i;_++)d[_]={p:w[_],s:x[_]};function m(E){var A=f[E];A!==void 0&&(f["_"+E]=o(A)?h.makeCalcdata(f,E):h.d2c(A,f.thetaunit))}return h.type==="linear"&&(m("width"),m("offset")),p(f,"marker")&&L(n,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),p(f,"marker.line")&&L(n,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(d,f),v(d,f),d}function a(n,f,u){for(var l=n.calcdata,y=[],h=0;h<l.length;h++){var T=l[h],c=T[0].trace;c.visible===!0&&g(c,"bar")&&c.subplot===u&&y.push(T)}var i=r({},f.radialaxis,{_id:"x"}),d=f.angularaxis;S(n,d,i,y,{mode:f.barmode,norm:f.barnorm,gap:f.bargap,groupgap:f.bargroupgap})}V.exports={calc:t,crossTraceCalc:a}},70384:function(V,Y,e){var p=e(3400),L=e(85968).handleRThetaDefaults,o=e(55592),C=e(78100);V.exports=function(v,g,r,t){function a(f,u){return p.coerce(v,g,C,f,u)}var n=L(v,g,t,a);if(!n){g.visible=!1;return}a("thetaunit"),a("base"),a("offset"),a("width"),a("text"),a("hovertext"),a("hovertemplate"),o(v,g,a,r,t),p.coerceSelectionMarkerOpacity(g,a)}},68896:function(V,Y,e){var p=e(93024),L=e(3400),o=e(63400).getTraceColor,C=L.fillText,S=e(8504).makeHoverPointText,v=e(57384).isPtInsidePolygon;V.exports=function(r,t,a){var n=r.cd,f=n[0].trace,u=r.subplot,l=u.radialAxis,y=u.angularAxis,h=u.vangles,T=h?v:L.isPtInsideSector,c=r.maxHoverDistance,i=y._period||2*Math.PI,d=Math.abs(l.g2p(Math.sqrt(t*t+a*a))),x=Math.atan2(a,t);l.range[0]>l.range[1]&&(x+=Math.PI);var w=function(A){return T(d,x,[A.rp0,A.rp1],[A.thetag0,A.thetag1],h)?c+Math.min(1,Math.abs(A.thetag1-A.thetag0)/i)-1+(A.rp1-d)/(A.rp1-A.rp0)-1:1/0};if(p.getClosest(n,w,r),r.index!==!1){var _=r.index,m=n[_];r.x0=r.x1=m.ct[0],r.y0=r.y1=m.ct[1];var E=L.extendFlat({},m,{r:m.s,theta:m.p});return C(m,f,r),S(E,f,u,r),r.hovertemplate=f.hovertemplate,r.color=o(f,m),r.xLabelVal=r.yLabelVal=void 0,m.s<0&&(r.idealAlign="left"),[r]}}},94456:function(V,Y,e){V.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(V){V.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(V,Y,e){var p=e(3400),L=e(9320);V.exports=function(o,C,S){var v={},g;function r(n,f){return p.coerce(o[g]||{},C[g],L,n,f)}for(var t=0;t<S.length;t++){var a=S[t];a.type==="barpolar"&&a.visible===!0&&(g=a.subplot,v[g]||(r("barmode"),r("bargap"),v[g]=1))}}},42040:function(V,Y,e){var p=e(33428),L=e(38248),o=e(3400),C=e(43616),S=e(57384);V.exports=function(r,t,a){var n=r._context.staticPlot,f=t.xaxis,u=t.yaxis,l=t.radialAxis,y=t.angularAxis,h=v(t),T=t.layers.frontplot.select("g.barlayer");o.makeTraceGroups(T,a,"trace bars").each(function(){var c=p.select(this),i=o.ensureSingle(c,"g","points"),d=i.selectAll("g.point").data(o.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(x){var w=p.select(this),_=x.rp0=l.c2p(x.s0),m=x.rp1=l.c2p(x.s1),E=x.thetag0=y.c2g(x.p0),A=x.thetag1=y.c2g(x.p1),s;if(!L(_)||!L(m)||!L(E)||!L(A)||_===m||E===A)s="M0,0Z";else{var M=l.c2g(x.s1),b=(E+A)/2;x.ct=[f.c2p(M*Math.cos(b)),u.c2p(M*Math.sin(b))],s=h(_,m,E,A)}o.ensureSingle(w,"path").attr("d",s)}),C.setClipUrl(c,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function v(g){var r=g.cxx,t=g.cyy;return g.vangles?function(a,n,f,u){var l,y;o.angleDelta(f,u)>0?(l=f,y=u):(l=u,y=f);var h=S.findEnclosingVertexAngles(l,g.vangles)[0],T=S.findEnclosingVertexAngles(y,g.vangles)[1],c=[h,(l+y)/2,T];return S.pathPolygonAnnulus(a,n,l,y,c,r,t)}:function(a,n,f,u){return o.pathAnnulus(a,n,f,u,r,t)}}},63188:function(V,Y,e){var p=e(98304),L=e(52904),o=e(20832),C=e(22548),S=e(29736).axisHoverFormat,v=e(21776).Ks,g=e(92880).extendFlat,r=L.marker,t=r.line;V.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:g({},r.symbol,{arrayOk:!1,editType:"plot"}),opacity:g({},r.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:g({},r.angle,{arrayOk:!1,editType:"calc"}),size:g({},r.size,{arrayOk:!1,editType:"calc"}),color:g({},r.color,{arrayOk:!1,editType:"style"}),line:{color:g({},t.color,{arrayOk:!1,dflt:C.defaultLine,editType:"style"}),width:g({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:o.offsetgroup,alignmentgroup:o.alignmentgroup,selected:{marker:L.selected.marker,editType:"style"},unselected:{marker:L.unselected.marker,editType:"style"},text:g({},L.text,{}),hovertext:g({},L.hovertext,{}),hovertemplate:v({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:L.zorder}},62555:function(V,Y,e){var p=e(38248),L=e(54460),o=e(1220),C=e(3400),S=e(39032).BADNUM,v=C._;V.exports=function(x,w){var _=x._fullLayout,m=L.getFromId(x,w.xaxis||"x"),E=L.getFromId(x,w.yaxis||"y"),A=[],s=w.type==="violin"?"_numViolins":"_numBoxes",M,b,N,k,H,F,B;w.orientation==="h"?(N=m,k="x",H=E,F="y",B=!!w.yperiodalignment):(N=E,k="y",H=m,F="x",B=!!w.xperiodalignment);var U=g(w,F,H,_[s]),z=U[0],W=U[1],j=C.distinctVals(z,H),ee=j.vals,ie=j.minDiff/2,oe,he,ne,q,le,Q,te=(w.boxpoints||w.points)==="all"?C.identity:function(Mt){return Mt.v<oe.lf||Mt.v>oe.uf};if(w._hasPreCompStats){var ue=w[k],J=function(Mt){return N.d2c((w[Mt]||[])[M])},K=1/0,ce=-1/0;for(M=0;M<w._length;M++){var ae=z[M];if(p(ae)){if(oe={},oe.pos=oe[F]=ae,B&&W&&(oe.orig_p=W[M]),oe.q1=J("q1"),oe.med=J("median"),oe.q3=J("q3"),he=[],ue&&C.isArrayOrTypedArray(ue[M]))for(b=0;b<ue[M].length;b++)Q=N.d2c(ue[M][b]),Q!==S&&(le={v:Q,i:[M,b]},n(le,w,[M,b]),he.push(le));if(oe.pts=he.sort(u),ne=oe[k]=he.map(l),q=ne.length,oe.med!==S&&oe.q1!==S&&oe.q3!==S&&oe.med>=oe.q1&&oe.q3>=oe.med){var de=J("lowerfence");oe.lf=de!==S&&de<=oe.q1?de:y(oe,ne,q);var be=J("upperfence");oe.uf=be!==S&&be>=oe.q3?be:h(oe,ne,q);var Se=J("mean");oe.mean=Se!==S?Se:q?C.mean(ne,q):(oe.q1+oe.q3)/2;var Te=J("sd");oe.sd=Se!==S&&Te>=0?Te:q?C.stdev(ne,q,oe.mean):oe.q3-oe.q1,oe.lo=T(oe),oe.uo=c(oe);var Ie=J("notchspan");Ie=Ie!==S&&Ie>0?Ie:i(oe,q),oe.ln=oe.med-Ie,oe.un=oe.med+Ie;var ke=oe.lf,Be=oe.uf;w.boxpoints&&ne.length&&(ke=Math.min(ke,ne[0]),Be=Math.max(Be,ne[q-1])),w.notched&&(ke=Math.min(ke,oe.ln),Be=Math.max(Be,oe.un)),oe.min=ke,oe.max=Be}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+oe.q1,"median = "+oe.med,"q3 = "+oe.q3].join(`
`));var Me;oe.med!==S?Me=oe.med:oe.q1!==S?oe.q3!==S?Me=(oe.q1+oe.q3)/2:Me=oe.q1:oe.q3!==S?Me=oe.q3:Me=0,oe.med=Me,oe.q1=oe.q3=Me,oe.lf=oe.uf=Me,oe.mean=oe.sd=Me,oe.ln=oe.un=Me,oe.min=oe.max=Me}K=Math.min(K,oe.min),ce=Math.max(ce,oe.max),oe.pts2=he.filter(te),A.push(oe)}}w._extremes[N._id]=L.findExtremes(N,[K,ce],{padded:!0})}else{var Oe=N.makeCalcdata(w,k),_e=r(ee,ie),Ne=ee.length,Ce=t(Ne);for(M=0;M<w._length;M++)if(Q=Oe[M],!!p(Q)){var Ye=C.findBin(z[M],_e);Ye>=0&&Ye<Ne&&(le={v:Q,i:M},n(le,w,M),Ce[Ye].push(le))}var rt=1/0,ot=-1/0,$e=w.quartilemethod,qe=$e==="exclusive",ht=$e==="inclusive";for(M=0;M<Ne;M++)if(Ce[M].length>0){if(oe={},oe.pos=oe[F]=ee[M],he=oe.pts=Ce[M].sort(u),ne=oe[k]=he.map(l),q=ne.length,oe.min=ne[0],oe.max=ne[q-1],oe.mean=C.mean(ne,q),oe.sd=C.stdev(ne,q,oe.mean)*w.sdmultiple,oe.med=C.interp(ne,.5),q%2&&(qe||ht)){var vt,pt;qe?(vt=ne.slice(0,q/2),pt=ne.slice(q/2+1)):ht&&(vt=ne.slice(0,q/2+1),pt=ne.slice(q/2)),oe.q1=C.interp(vt,.5),oe.q3=C.interp(pt,.5)}else oe.q1=C.interp(ne,.25),oe.q3=C.interp(ne,.75);oe.lf=y(oe,ne,q),oe.uf=h(oe,ne,q),oe.lo=T(oe),oe.uo=c(oe);var wt=i(oe,q);oe.ln=oe.med-wt,oe.un=oe.med+wt,rt=Math.min(rt,oe.ln),ot=Math.max(ot,oe.un),oe.pts2=he.filter(te),A.push(oe)}w.notched&&C.isTypedArray(Oe)&&(Oe=Array.from(Oe)),w._extremes[N._id]=L.findExtremes(N,w.notched?Oe.concat([rt,ot]):Oe,{padded:!0})}return f(A,w),A.length>0?(A[0].t={num:_[s],dPos:ie,posLetter:F,valLetter:k,labels:{med:v(x,"median:"),min:v(x,"min:"),q1:v(x,"q1:"),q3:v(x,"q3:"),max:v(x,"max:"),mean:w.boxmean==="sd"||w.sizemode==="sd"?v(x,"mean ± σ:").replace("σ",w.sdmultiple===1?"σ":w.sdmultiple+"σ"):v(x,"mean:"),lf:v(x,"lower fence:"),uf:v(x,"upper fence:")}},_[s]++,A):[{t:{empty:!0}}]};function g(d,x,w,_){var m=x in d,E=x+"0"in d,A="d"+x in d;if(m||E&&A){var s=w.makeCalcdata(d,x),M=o(d,w,x,s).vals;return[M,s]}var b;E?b=d[x+"0"]:"name"in d&&(w.type==="category"||p(d.name)&&["linear","log"].indexOf(w.type)!==-1||C.isDateTime(d.name)&&w.type==="date")?b=d.name:b=_;for(var N=w.type==="multicategory"?w.r2c_just_indices(b):w.d2c(b,0,d[x+"calendar"]),k=d._length,H=new Array(k),F=0;F<k;F++)H[F]=N;return[H]}function r(d,x){for(var w=d.length,_=new Array(w+1),m=0;m<w;m++)_[m]=d[m]-x;return _[w]=d[w-1]+x,_}function t(d){for(var x=new Array(d),w=0;w<d;w++)x[w]=[];return x}var a={text:"tx",hovertext:"htx"};function n(d,x,w){for(var _ in a)C.isArrayOrTypedArray(x[_])&&(Array.isArray(w)?C.isArrayOrTypedArray(x[_][w[0]])&&(d[a[_]]=x[_][w[0]][w[1]]):d[a[_]]=x[_][w])}function f(d,x){if(C.isArrayOrTypedArray(x.selectedpoints))for(var w=0;w<d.length;w++){for(var _=d[w].pts||[],m={},E=0;E<_.length;E++)m[_[E].i]=E;C.tagSelected(_,x,m)}}function u(d,x){return d.v-x.v}function l(d){return d.v}function y(d,x,w){return w===0?d.q1:Math.min(d.q1,x[Math.min(C.findBin(2.5*d.q1-1.5*d.q3,x,!0)+1,w-1)])}function h(d,x,w){return w===0?d.q3:Math.max(d.q3,x[Math.max(C.findBin(2.5*d.q3-1.5*d.q1,x),0)])}function T(d){return 4*d.q1-3*d.q3}function c(d){return 4*d.q3-3*d.q1}function i(d,x){return x===0?0:1.57*(d.q3-d.q1)/Math.sqrt(x)}},96404:function(V,Y,e){var p=e(54460),L=e(3400),o=e(71888).getAxisGroup,C=["v","h"];function S(g,r){for(var t=g.calcdata,a=r.xaxis,n=r.yaxis,f=0;f<C.length;f++){for(var u=C[f],l=u==="h"?n:a,y=[],h=0;h<t.length;h++){var T=t[h],c=T[0].t,i=T[0].trace;i.visible===!0&&(i.type==="box"||i.type==="candlestick")&&!c.empty&&(i.orientation||"v")===u&&i.xaxis===a._id&&i.yaxis===n._id&&y.push(h)}v("box",g,y,l)}}function v(g,r,t,a){var n=r.calcdata,f=r._fullLayout,u=a._id,l=u.charAt(0),y,h,T,c=[],i=0;for(y=0;y<t.length;y++)for(T=n[t[y]],h=0;h<T.length;h++)c.push(a.c2l(T[h].pos,!0)),i+=(T[h].pts2||[]).length;if(c.length){var d=L.distinctVals(c);(a.type==="category"||a.type==="multicategory")&&(d.minDiff=1);var x=d.minDiff/2;p.minDtick(a,d.minDiff,d.vals[0],!0);var w=g==="violin"?"_numViolins":"_numBoxes",_=f[w],m=f[g+"mode"]==="group"&&_>1,E=1-f[g+"gap"],A=1-f[g+"groupgap"];for(y=0;y<t.length;y++){T=n[t[y]];var s=T[0].trace,M=T[0].t,b=s.width,N=s.side,k,H,F,B;if(b)k=H=B=b/2,F=0;else if(k=x,m){var U=o(f,a._id)+s.orientation,z=f._alignmentOpts[U]||{},W=z[s.alignmentgroup]||{},j=Object.keys(W.offsetGroups||{}).length,ee=j||_,ie=j?s._offsetIndex:M.num;H=k*E*A/ee,F=2*k*(-.5+(ie+.5)/ee)*E,B=k*E/ee}else H=k*E*A,F=0,B=k;M.dPos=k,M.bPos=F,M.bdPos=H,M.wHover=B;var oe,he,ne=F+H,q,le,Q,te,ue,J,K=!!b,ce=(s.boxpoints||s.points)&&i>0;if(N==="positive"?(oe=k*(b?1:.5),q=ne,he=q=F):N==="negative"?(oe=q=F,he=k*(b?1:.5),le=ne):(oe=he=k,q=le=ne),ce){var ae=s.pointpos,de=s.jitter,be=s.marker.size/2,Se=0;ae+de>=0&&(Se=ne*(ae+de),Se>oe?(K=!0,ue=be,Q=Se):Se>q&&(ue=be,Q=oe)),Se<=oe&&(Q=oe);var Te=0;ae-de<=0&&(Te=-ne*(ae-de),Te>he?(K=!0,J=be,te=Te):Te>le&&(J=be,te=he)),Te<=he&&(te=he)}else Q=oe,te=he;var Ie=new Array(T.length);for(h=0;h<T.length;h++)Ie[h]=T[h].pos;s._extremes[u]=p.findExtremes(a,Ie,{padded:K,vpadminus:te,vpadplus:Q,vpadLinearized:!0,ppadminus:{x:J,y:ue}[l],ppadplus:{x:ue,y:J}[l]})}}}V.exports={crossTraceCalc:S,setPositionOffset:v}},90624:function(V,Y,e){var p=e(3400),L=e(24040),o=e(76308),C=e(31147),S=e(20011),v=e(52976),g=e(63188);function r(f,u,l,y){function h(A,s){return p.coerce(f,u,g,A,s)}if(t(f,u,h,y),u.visible!==!1){C(f,u,y,h),h("xhoverformat"),h("yhoverformat");var T=u._hasPreCompStats;T&&(h("lowerfence"),h("upperfence")),h("line.color",(f.marker||{}).color||l),h("line.width"),h("fillcolor",o.addOpacity(u.line.color,.5));var c=!1;if(T){var i=h("mean"),d=h("sd");i&&i.length&&(c=!0,d&&d.length&&(c="sd"))}h("whiskerwidth");var x=h("sizemode"),w;x==="quartiles"&&(w=h("boxmean",c)),h("showwhiskers",x==="quartiles"),(x==="sd"||w==="sd")&&h("sdmultiple"),h("width"),h("quartilemethod");var _=!1;if(T){var m=h("notchspan");m&&m.length&&(_=!0)}else p.validate(f.notchwidth,g.notchwidth)&&(_=!0);var E=h("notched",_);E&&h("notchwidth"),a(f,u,h,{prefix:"box"}),h("zorder")}}function t(f,u,l,y){function h(j){var ee=0;return j&&j.length&&(ee+=1,p.isArrayOrTypedArray(j[0])&&j[0].length&&(ee+=1)),ee}function T(j){return p.validate(f[j],g[j])}var c=l("y"),i=l("x"),d;if(u.type==="box"){var x=l("q1"),w=l("median"),_=l("q3");u._hasPreCompStats=x&&x.length&&w&&w.length&&_&&_.length,d=Math.min(p.minRowLength(x),p.minRowLength(w),p.minRowLength(_))}var m=h(c),E=h(i),A=m&&p.minRowLength(c),s=E&&p.minRowLength(i),M=y.calendar,b={autotypenumbers:y.autotypenumbers},N,k;if(u._hasPreCompStats)switch(String(E)+String(m)){case"00":var H=T("x0")||T("dx"),F=T("y0")||T("dy");F&&!H?N="h":N="v",k=d;break;case"10":N="v",k=Math.min(d,s);break;case"20":N="h",k=Math.min(d,i.length);break;case"01":N="h",k=Math.min(d,A);break;case"02":N="v",k=Math.min(d,c.length);break;case"12":N="v",k=Math.min(d,s,c.length);break;case"21":N="h",k=Math.min(d,i.length,A);break;case"11":k=0;break;case"22":var B=!1,U;for(U=0;U<i.length;U++)if(v(i[U],M,b)==="category"){B=!0;break}if(B)N="v",k=Math.min(d,s,c.length);else{for(U=0;U<c.length;U++)if(v(c[U],M,b)==="category"){B=!0;break}B?(N="h",k=Math.min(d,i.length,A)):(N="v",k=Math.min(d,s,c.length))}break}else m>0?(N="v",E>0?k=Math.min(s,A):k=Math.min(A)):E>0?(N="h",k=Math.min(s)):k=0;if(!k){u.visible=!1;return}u._length=k;var z=l("orientation",N);u._hasPreCompStats?z==="v"&&E===0?(l("x0",0),l("dx",1)):z==="h"&&m===0&&(l("y0",0),l("dy",1)):z==="v"&&E===0?l("x0"):z==="h"&&m===0&&l("y0");var W=L.getComponentMethod("calendars","handleTraceDefaults");W(f,u,["x","y"],y)}function a(f,u,l,y){var h=y.prefix,T=p.coerce2(f,u,g,"marker.outliercolor"),c=l("marker.line.outliercolor"),i="outliers";u._hasPreCompStats?i="all":(T||c)&&(i="suspectedoutliers");var d=l(h+"points",i);d?(l("jitter",d==="all"?.3:0),l("pointpos",d==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",u.line.color),l("marker.line.color"),l("marker.line.width"),d==="suspectedoutliers"&&(l("marker.line.outliercolor",u.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete u.marker;var x=l("hoveron");(x==="all"||x.indexOf("points")!==-1)&&l("hovertemplate"),p.coerceSelectionMarkerOpacity(u,l)}function n(f,u){var l,y;function h(i){return p.coerce(y._input,y,g,i)}for(var T=0;T<f.length;T++){y=f[T];var c=y.type;(c==="box"||c==="violin")&&(l=y._input,u[c+"mode"]==="group"&&S(l,y,u,h))}}V.exports={supplyDefaults:r,crossTraceDefaults:n,handleSampleDefaults:t,handlePointsDefaults:a}},10392:function(V){V.exports=function(e,p){return p.hoverOnBox&&(e.hoverOnBox=p.hoverOnBox),"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},27576:function(V,Y,e){var p=e(54460),L=e(3400),o=e(93024),C=e(76308),S=L.fillText;function v(t,a,n,f){var u=t.cd,l=u[0].trace,y=l.hoveron,h=[],T;return y.indexOf("boxes")!==-1&&(h=h.concat(g(t,a,n,f))),y.indexOf("points")!==-1&&(T=r(t,a,n)),f==="closest"?T?[T]:h:(T&&h.push(T),h)}function g(t,a,n,f){var u=t.cd,l=t.xa,y=t.ya,h=u[0].trace,T=u[0].t,c=h.type==="violin",i,d,x,w,_,m,E,A,s,M,b,N=T.bdPos,k,H,F=T.wHover,B=function(Te){return x.c2l(Te.pos)+T.bPos-x.c2l(m)};c&&h.side!=="both"?(h.side==="positive"&&(s=function(Te){var Ie=B(Te);return o.inbox(Ie,Ie+F,M)},k=N,H=0),h.side==="negative"&&(s=function(Te){var Ie=B(Te);return o.inbox(Ie-F,Ie,M)},k=0,H=N)):(s=function(Te){var Ie=B(Te);return o.inbox(Ie-F,Ie+F,M)},k=H=N);var U;c?U=function(Te){return o.inbox(Te.span[0]-_,Te.span[1]-_,M)}:U=function(Te){return o.inbox(Te.min-_,Te.max-_,M)},h.orientation==="h"?(_=a,m=n,E=U,A=s,i="y",x=y,d="x",w=l):(_=n,m=a,E=s,A=U,i="x",x=l,d="y",w=y);var z=Math.min(1,N/Math.abs(x.r2c(x.range[1])-x.r2c(x.range[0])));M=t.maxHoverDistance-z,b=t.maxSpikeDistance-z;function W(Te){return(E(Te)+A(Te))/2}var j=o.getDistanceFunction(f,E,A,W);if(o.getClosest(u,j,t),t.index===!1)return[];var ee=u[t.index],ie=h.line.color,oe=(h.marker||{}).color;C.opacity(ie)&&h.line.width?t.color=ie:C.opacity(oe)&&h.boxpoints?t.color=oe:t.color=h.fillcolor,t[i+"0"]=x.c2p(ee.pos+T.bPos-H,!0),t[i+"1"]=x.c2p(ee.pos+T.bPos+k,!0),t[i+"LabelVal"]=ee.orig_p!==void 0?ee.orig_p:ee.pos;var he=i+"Spike";t.spikeDistance=W(ee)*b/M,t[he]=x.c2p(ee.pos,!0);var ne=h.boxmean||h.sizemode==="sd"||(h.meanline||{}).visible,q=h.boxpoints||h.points,le=q&&ne?["max","uf","q3","med","mean","q1","lf","min"]:q&&!ne?["max","uf","q3","med","q1","lf","min"]:!q&&ne?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],Q=w.range[1]<w.range[0];h.orientation===(Q?"v":"h")&&le.reverse();for(var te=t.spikeDistance,ue=t[he],J=[],K=0;K<le.length;K++){var ce=le[K];if(ce in ee){var ae=ee[ce],de=w.c2p(ae,!0),be=L.extendFlat({},t);be.attr=ce,be[d+"0"]=be[d+"1"]=de,be[d+"LabelVal"]=ae,be[d+"Label"]=(T.labels?T.labels[ce]+" ":"")+p.hoverLabelText(w,ae,h[d+"hoverformat"]),be.hoverOnBox=!0,ce==="mean"&&"sd"in ee&&(h.boxmean==="sd"||h.sizemode==="sd")&&(be[d+"err"]=ee.sd),be.hovertemplate=!1,J.push(be)}}t.name="",t.spikeDistance=void 0,t[he]=void 0;for(var Se=0;Se<J.length;Se++)J[Se].attr!=="med"?(J[Se].name="",J[Se].spikeDistance=void 0,J[Se][he]=void 0):(J[Se].spikeDistance=te,J[Se][he]=ue);return J}function r(t,a,n){for(var f=t.cd,u=t.xa,l=t.ya,y=f[0].trace,h=u.c2p(a),T=l.c2p(n),c,i=function(U){var z=Math.max(3,U.mrc||0);return Math.max(Math.abs(u.c2p(U.x)-h)-z,1-3/z)},d=function(U){var z=Math.max(3,U.mrc||0);return Math.max(Math.abs(l.c2p(U.y)-T)-z,1-3/z)},x=o.quadrature(i,d),w=!1,_,m,E=0;E<f.length;E++){_=f[E];for(var A=0;A<(_.pts||[]).length;A++){m=_.pts[A];var s=x(m);s<=t.distance&&(t.distance=s,w=[E,A])}}if(!w)return!1;_=f[w[0]],m=_.pts[w[1]];var M=u.c2p(m.x,!0),b=l.c2p(m.y,!0),N=m.mrc||1;c=L.extendFlat({},t,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:M-N,x1:M+N,y0:b-N,y1:b+N,spikeDistance:t.distance,hovertemplate:y.hovertemplate});var k=_.orig_p,H=k!==void 0?k:_.pos,F;y.orientation==="h"?(F=l,c.xLabelVal=m.x,c.yLabelVal=H):(F=u,c.xLabelVal=H,c.yLabelVal=m.y);var B=F._id.charAt(0);return c[B+"Spike"]=F.c2p(_.pos,!0),S(m,y,c),c}V.exports={hoverPoints:v,hoverOnBoxes:g,hoverOnPoints:r}},67244:function(V,Y,e){V.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(V){V.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(V,Y,e){var p=e(24040),L=e(3400),o=e(16560);function C(v,g,r,t,a){for(var n=a+"Layout",f=!1,u=0;u<r.length;u++){var l=r[u];if(p.traceIs(l,n)){f=!0;break}}f&&(t(a+"mode"),t(a+"gap"),t(a+"groupgap"))}function S(v,g,r){function t(a,n){return L.coerce(v,g,o,a,n)}C(v,g,r,t,"box")}V.exports={supplyLayoutDefaults:S,_supply:C}},18728:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=5,S=.01;function v(a,n,f,u){var l=a._context.staticPlot,y=n.xaxis,h=n.yaxis;L.makeTraceGroups(u,f,"trace boxes").each(function(T){var c=p.select(this),i=T[0],d=i.t,x=i.trace;if(d.wdPos=d.bdPos*x.whiskerwidth,x.visible!==!0||d.empty){c.remove();return}var w,_;x.orientation==="h"?(w=h,_=y):(w=y,_=h),g(c,{pos:w,val:_},x,d,l),r(c,{x:y,y:h},x,d),t(c,{pos:w,val:_},x,d)})}function g(a,n,f,u,l){var y=f.orientation==="h",h=n.val,T=n.pos,c=!!T.rangebreaks,i=u.bPos,d=u.wdPos||0,x=u.bPosPxOffset||0,w=f.whiskerwidth||0,_=f.showwhiskers!==!1,m=f.notched||!1,E=m?1-2*f.notchwidth:1,A,s;Array.isArray(u.bdPos)?(A=u.bdPos[0],s=u.bdPos[1]):(A=u.bdPos,s=u.bdPos);var M=a.selectAll("path.box").data(f.type!=="violin"||f.box.visible?L.identity:[]);M.enter().append("path").style("vector-effect",l?"none":"non-scaling-stroke").attr("class","box"),M.exit().remove(),M.each(function(b){if(b.empty)return p.select(this).attr("d","M0,0Z");var N=T.c2l(b.pos+i,!0),k=T.l2p(N-A)+x,H=T.l2p(N+s)+x,F=c?(k+H)/2:T.l2p(N)+x,B=f.whiskerwidth,U=c?k*B+(1-B)*F:T.l2p(N-d)+x,z=c?H*B+(1-B)*F:T.l2p(N+d)+x,W=T.l2p(N-A*E)+x,j=T.l2p(N+s*E)+x,ee=f.sizemode==="sd",ie=h.c2p(ee?b.mean-b.sd:b.q1,!0),oe=ee?h.c2p(b.mean+b.sd,!0):h.c2p(b.q3,!0),he=L.constrain(ee?h.c2p(b.mean,!0):h.c2p(b.med,!0),Math.min(ie,oe)+1,Math.max(ie,oe)-1),ne=b.lf===void 0||f.boxpoints===!1||ee,q=h.c2p(ne?b.min:b.lf,!0),le=h.c2p(ne?b.max:b.uf,!0),Q=h.c2p(b.ln,!0),te=h.c2p(b.un,!0);y?p.select(this).attr("d","M"+he+","+W+"V"+j+"M"+ie+","+k+"V"+H+(m?"H"+Q+"L"+he+","+j+"L"+te+","+H:"")+"H"+oe+"V"+k+(m?"H"+te+"L"+he+","+W+"L"+Q+","+k:"")+"Z"+(_?"M"+ie+","+F+"H"+q+"M"+oe+","+F+"H"+le+(w===0?"":"M"+q+","+U+"V"+z+"M"+le+","+U+"V"+z):"")):p.select(this).attr("d","M"+W+","+he+"H"+j+"M"+k+","+ie+"H"+H+(m?"V"+Q+"L"+j+","+he+"L"+H+","+te:"")+"V"+oe+"H"+k+(m?"V"+te+"L"+W+","+he+"L"+k+","+Q:"")+"Z"+(_?"M"+F+","+ie+"V"+q+"M"+F+","+oe+"V"+le+(w===0?"":"M"+U+","+q+"H"+z+"M"+U+","+le+"H"+z):""))})}function r(a,n,f,u){var l=n.x,y=n.y,h=u.bdPos,T=u.bPos,c=f.boxpoints||f.points;L.seedPseudoRandom();var i=function(w){return w.forEach(function(_){_.t=u,_.trace=f}),w},d=a.selectAll("g.points").data(c?i:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var x=d.selectAll("path").data(function(w){var _,m=w.pts2,E=Math.max((w.max-w.min)/10,w.q3-w.q1),A=E*1e-9,s=E*S,M=[],b=0,N;if(f.jitter){if(E===0)for(b=1,M=new Array(m.length),_=0;_<m.length;_++)M[_]=1;else for(_=0;_<m.length;_++){var k=Math.max(0,_-C),H=m[k].v,F=Math.min(m.length-1,_+C),B=m[F].v;c!=="all"&&(m[_].v<w.lf?B=Math.min(B,w.lf):H=Math.max(H,w.uf));var U=Math.sqrt(s*(F-k)/(B-H+A))||0;U=L.constrain(Math.abs(U),0,1),M.push(U),b=Math.max(U,b)}N=f.jitter*2/(b||1)}for(_=0;_<m.length;_++){var z=m[_],W=z.v,j=f.jitter?N*M[_]*(L.pseudoRandom()-.5):0,ee=w.pos+T+h*(f.pointpos+j);f.orientation==="h"?(z.y=ee,z.x=W):(z.x=ee,z.y=W),c==="suspectedoutliers"&&W<w.uo&&W>w.lo&&(z.so=!0)}return m});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(o.translatePoints,l,y)}function t(a,n,f,u){var l=n.val,y=n.pos,h=!!y.rangebreaks,T=u.bPos,c=u.bPosPxOffset||0,i=f.boxmean||(f.meanline||{}).visible,d,x;Array.isArray(u.bdPos)?(d=u.bdPos[0],x=u.bdPos[1]):(d=u.bdPos,x=u.bdPos);var w=a.selectAll("path.mean").data(f.type==="box"&&f.boxmean||f.type==="violin"&&f.box.visible&&f.meanline.visible?L.identity:[]);w.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),w.exit().remove(),w.each(function(_){var m=y.c2l(_.pos+T,!0),E=y.l2p(m-d)+c,A=y.l2p(m+x)+c,s=h?(E+A)/2:y.l2p(m)+c,M=l.c2p(_.mean,!0),b=l.c2p(_.mean-_.sd,!0),N=l.c2p(_.mean+_.sd,!0);f.orientation==="h"?p.select(this).attr("d","M"+M+","+E+"V"+A+(i==="sd"?"m0,0L"+b+","+s+"L"+M+","+E+"L"+N+","+s+"Z":"")):p.select(this).attr("d","M"+E+","+M+"H"+A+(i==="sd"?"m0,0L"+s+","+b+"L"+E+","+M+"L"+s+","+N+"Z":""))})}V.exports={plot:v,plotBoxAndWhiskers:g,plotPoints:r,plotBoxMean:t}},8264:function(V){V.exports=function(e,p){var L=e.cd,o=e.xaxis,C=e.yaxis,S=[],v,g;if(p===!1)for(v=0;v<L.length;v++)for(g=0;g<(L[v].pts||[]).length;g++)L[v].pts[g].selected=0;else for(v=0;v<L.length;v++)for(g=0;g<(L[v].pts||[]).length;g++){var r=L[v].pts[g],t=o.c2p(r.x),a=C.c2p(r.y);p.contains([t,a],null,r.i,e)?(S.push({pointNumber:r.i,x:o.c2d(r.x),y:C.c2d(r.y)}),r.selected=1):r.selected=0}return S}},25776:function(V,Y,e){var p=e(33428),L=e(76308),o=e(43616);function C(v,g,r){var t=r||p.select(v).selectAll("g.trace.boxes");t.style("opacity",function(a){return a[0].trace.opacity}),t.each(function(a){var n=p.select(this),f=a[0].trace,u=f.line.width;function l(T,c,i,d){T.style("stroke-width",c+"px").call(L.stroke,i).call(L.fill,d)}var y=n.selectAll("path.box");if(f.type==="candlestick")y.each(function(T){if(!T.empty){var c=p.select(this),i=f[T.dir];l(c,i.line.width,i.line.color,i.fillcolor),c.style("opacity",f.selectedpoints&&!T.selected?.3:1)}});else{l(y,u,f.line.color,f.fillcolor),n.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(L.stroke,f.line.color);var h=n.selectAll("path.point");o.pointStyle(h,f,v)}})}function S(v,g,r){var t=g[0].trace,a=r.selectAll("path.point");t.selectedpoints?o.selectedPointStyle(a,t):o.pointStyle(a,t,v)}V.exports={style:C,styleOnSelect:S}},64216:function(V,Y,e){var p=e(3400).extendFlat,L=e(29736).axisHoverFormat,o=e(20279),C=e(63188);function S(v){return{line:{color:p({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}V.exports={xperiod:o.xperiod,xperiod0:o.xperiod0,xperiodalignment:o.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:o.x,open:o.open,high:o.high,low:o.low,close:o.close,line:{width:p({},C.line.width,{}),editType:"style"},increasing:S(o.increasing.line.color.dflt),decreasing:S(o.decreasing.line.color.dflt),text:o.text,hovertext:o.hovertext,whiskerwidth:p({},C.whiskerwidth,{dflt:0}),hoverlabel:o.hoverlabel,zorder:C.zorder}},46283:function(V,Y,e){var p=e(3400),L=e(54460),o=e(1220),C=e(42812).calcCommon;V.exports=function(v,g){var r=v._fullLayout,t=L.getFromId(v,g.xaxis),a=L.getFromId(v,g.yaxis),n=t.makeCalcdata(g,"x"),f=o(g,t,"x",n).vals,u=C(v,g,n,f,a,S);return u.length?(p.extendFlat(u[0].t,{num:r._numBoxes,dPos:p.distinctVals(f).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function S(v,g,r,t){return{min:r,q1:Math.min(v,t),med:t,q3:Math.max(v,t),max:g}}},64588:function(V,Y,e){var p=e(3400),L=e(76308),o=e(52744),C=e(31147),S=e(64216);V.exports=function(r,t,a,n){function f(l,y){return p.coerce(r,t,S,l,y)}var u=o(r,t,f,n);if(!u){t.visible=!1;return}C(r,t,n,f,{x:!0}),f("xhoverformat"),f("yhoverformat"),f("line.width"),v(r,t,f,"increasing"),v(r,t,f,"decreasing"),f("text"),f("hovertext"),f("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0,f("zorder")};function v(g,r,t,a){var n=t(a+".line.color");t(a+".line.width",r.line.width),t(a+".fillcolor",L.addOpacity(n,.5))}},61712:function(V,Y,e){V.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(V,Y,e){var p=e(63856),L=e(31780);V.exports=function(S,v,g,r,t){var a=r("a");a||(r("da"),r("a0"));var n=r("b");n||(r("db"),r("b0")),o(S,v,g,t)};function o(C,S,v,g){var r=["aaxis","baxis"];r.forEach(function(t){var a=t.charAt(0),n=C[t]||{},f=L.newContainer(S,t),u={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:a+"axis",letter:a,font:S.font,name:t,data:C[a],calendar:S.calendar,dfltColor:g,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};p(n,f,u),f._categories=f._categories||[],!C[t]&&n.type!=="-"&&(C[t]={type:n.type})})}},51676:function(V,Y,e){var p=e(3400).isArrayOrTypedArray;V.exports=function(o){return L(o,0)};function L(o,C){if(!p(o)||C>=10)return null;for(var S=1/0,v=-1/0,g=o.length,r=0;r<g;r++){var t=o[r];if(p(t)){var a=L(t,C+1);a&&(S=Math.min(a[0],S),v=Math.max(a[1],v))}else S=Math.min(t,S),v=Math.max(t,v)}return[S,v]}},85720:function(V,Y,e){var p=e(25376),L=e(98692),o=e(22548),C=p({editType:"calc"}),S=e(52904).zorder;C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=o.defaultLine,V.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:C,color:{valType:"color",dflt:o.defaultLine,editType:"plot"},transforms:void 0,zorder:S}},77712:function(V,Y,e){var p=e(3400).isArrayOrTypedArray;V.exports=function(L,o,C,S){var v,g,r,t,a,n,f,u,l,y,h,T,c,i=p(C)?"a":"b",d=i==="a"?L.aaxis:L.baxis,x=d.smoothing,w=i==="a"?L.a2i:L.b2j,_=i==="a"?C:S,m=i==="a"?S:C,E=i==="a"?o.a.length:o.b.length,A=i==="a"?o.b.length:o.a.length,s=Math.floor(i==="a"?L.b2j(m):L.a2i(m)),M=i==="a"?function(ie){return L.evalxy([],ie,s)}:function(ie){return L.evalxy([],s,ie)};x&&(r=Math.max(0,Math.min(A-2,s)),t=s-r,g=i==="a"?function(ie,oe){return L.dxydi([],ie,r,oe,t)}:function(ie,oe){return L.dxydj([],r,ie,t,oe)});var b=w(_[0]),N=w(_[1]),k=b<N?1:-1,H=(N-b)*1e-8,F=k>0?Math.floor:Math.ceil,B=k>0?Math.ceil:Math.floor,U=k>0?Math.min:Math.max,z=k>0?Math.max:Math.min,W=F(b+H),j=B(N-H);f=M(b);var ee=[[f]];for(v=W;v*k<j*k;v+=k)a=[],h=z(b,v),T=U(N,v+k),c=T-h,n=Math.max(0,Math.min(E-2,Math.floor(.5*(h+T)))),u=M(T),x&&(l=g(n,h-n),y=g(n,T-n),a.push([f[0]+l[0]/3*c,f[1]+l[1]/3*c]),a.push([u[0]-y[0]/3*c,u[1]-y[1]/3*c])),a.push(u),ee.push(a),f=u;return ee}},98692:function(V,Y,e){var p=e(25376),L=e(22548),o=e(94724),C=e(29736).descriptionWithDates,S=e(67824).overrideAll,v=e(98192).u,g=e(92880).extendFlat;V.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:o.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:g({},o.labelalias,{editType:"calc"}),tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:S(o.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:g({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:g({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(V,Y,e){var p=e(85720),L=e(76308).addOpacity,o=e(24040),C=e(3400),S=e(26332),v=e(95936),g=e(42568),r=e(22416),t=e(78344),a=e(52976);V.exports=function(u,l,y){var h=y.letter,T=y.font||{},c=p[h+"axis"];function i(W,j){return C.coerce(u,l,c,W,j)}function d(W,j){return C.coerce2(u,l,c,W,j)}y.name&&(l._name=y.name,l._id=y.name),i("autotypenumbers",y.autotypenumbersDflt);var x=i("type");if(x==="-"&&(y.data&&n(l,y.data),l.type==="-"?l.type="linear":x=u.type=l.type),i("smoothing"),i("cheatertype"),i("showticklabels"),i("labelprefix",h+" = "),i("labelsuffix"),i("showtickprefix"),i("showticksuffix"),i("separatethousands"),i("tickformat"),i("exponentformat"),i("minexponent"),i("showexponent"),i("categoryorder"),i("tickmode"),i("tickvals"),i("ticktext"),i("tick0"),i("dtick"),l.tickmode==="array"&&(i("arraytick0"),i("arraydtick")),i("labelpadding"),l._hovertitle=h,x==="date"){var w=o.getComponentMethod("calendars","handleDefaults");w(u,l,"calendar",y.calendar)}t(l,y.fullLayout),l.c2p=C.identity;var _=i("color",y.dfltColor),m=_===u.color?_:T.color,E=i("title.text");E&&(C.coerceFont(i,"title.font",T,{overrideDflt:{size:C.bigFont(T.size),color:m}}),i("title.offset")),i("tickangle");var A=i("autorange",!l.isValidRange(u.range));A&&i("rangemode"),i("range"),l.cleanRange(),i("fixedrange"),S(u,l,i,x),g(u,l,i,x,y),v(u,l,i,x,y),r(u,l,i,{data:y.data,dataAttr:h});var s=d("gridcolor",L(_,.3)),M=d("gridwidth"),b=d("griddash"),N=i("showgrid");N||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var k=d("startlinecolor",_),H=d("startlinewidth",M),F=i("startline",l.showgrid||!!k||!!H);F||(delete l.startlinecolor,delete l.startlinewidth);var B=d("endlinecolor",_),U=d("endlinewidth",M),z=i("endline",l.showgrid||!!B||!!U);return z||(delete l.endlinecolor,delete l.endlinewidth),N?(i("minorgridcount"),i("minorgridwidth",M),i("minorgriddash",b),i("minorgridcolor",L(s,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,i("tickmode"),l};function n(f,u){if(f.type==="-"){var l=f._id,y=l.charAt(0),h=y+"calendar",T=f[h];f.type=a(u,T,{autotypenumbers:f.autotypenumbers})}}},58744:function(V,Y,e){var p=e(54460),L=e(3400).isArray1D,o=e(60776),C=e(51676),S=e(19216),v=e(14724),g=e(24944),r=e(26136),t=e(51512),a=e(2872),n=e(81e3);V.exports=function(u,l){var y=p.getFromId(u,l.xaxis),h=p.getFromId(u,l.yaxis),T=l.aaxis,c=l.baxis,i=l.x,d=l.y,x=[];i&&L(i)&&x.push("x"),d&&L(d)&&x.push("y"),x.length&&a(l,T,c,"a","b",x);var w=l._a=l._a||l.a,_=l._b=l._b||l.b;i=l._x||l.x,d=l._y||l.y;var m={};if(l._cheater){var E=T.cheatertype==="index"?w.length:w,A=c.cheatertype==="index"?_.length:_;i=o(E,A,l.cheaterslope)}l._x=i=r(i),l._y=d=r(d),t(i,w,_),t(d,w,_),n(l),l.setScale();var s=C(i),M=C(d),b=.5*(s[1]-s[0]),N=.5*(s[1]+s[0]),k=.5*(M[1]-M[0]),H=.5*(M[1]+M[0]),F=1.3;return s=[N-b*F,N+b*F],M=[H-k*F,H+k*F],l._extremes[y._id]=p.findExtremes(y,s,{padded:!0}),l._extremes[h._id]=p.findExtremes(h,M,{padded:!0}),S(l,"a","b"),S(l,"b","a"),v(l,T),v(l,c),m.clipsegments=g(l._xctrl,l._yctrl,T,c),m.x=i,m.y=d,m.a=w,m.b=_,[m]}},24944:function(V){V.exports=function(e,p,L,o){var C,S,v,g=[],r=!!L.smoothing,t=!!o.smoothing,a=e[0].length-1,n=e.length-1;for(C=0,S=[],v=[];C<=a;C++)S[C]=e[0][C],v[C]=p[0][C];for(g.push({x:S,y:v,bicubic:r}),C=0,S=[],v=[];C<=n;C++)S[C]=e[C][a],v[C]=p[C][a];for(g.push({x:S,y:v,bicubic:t}),C=a,S=[],v=[];C>=0;C--)S[a-C]=e[n][C],v[a-C]=p[n][C];for(g.push({x:S,y:v,bicubic:r}),C=n,S=[],v=[];C>=0;C--)S[n-C]=e[C][0],v[n-C]=p[C][0];return g.push({x:S,y:v,bicubic:t}),g}},19216:function(V,Y,e){var p=e(54460),L=e(92880).extendFlat;V.exports=function(C,S,v){var g,r,t,a,n,f,u,l,y,h,T,c,i,d,x=C["_"+S],w=C[S+"axis"],_=w._gridlines=[],m=w._minorgridlines=[],E=w._boundarylines=[],A=C["_"+v],s=C[v+"axis"];w.tickmode==="array"&&(w.tickvals=x.slice());var M=C._xctrl,b=C._yctrl,N=M[0].length,k=M.length,H=C._a.length,F=C._b.length;p.prepTicks(w),w.tickmode==="array"&&delete w.tickvals;var B=w.smoothing?3:1;function U(W){var j,ee,ie,oe,he,ne,q,le,Q,te,ue,J,K=[],ce=[],ae={};if(S==="b")for(ee=C.b2j(W),ie=Math.floor(Math.max(0,Math.min(F-2,ee))),oe=ee-ie,ae.length=F,ae.crossLength=H,ae.xy=function(de){return C.evalxy([],de,ee)},ae.dxy=function(de,be){return C.dxydi([],de,ie,be,oe)},j=0;j<H;j++)ne=Math.min(H-2,j),q=j-ne,le=C.evalxy([],j,ee),s.smoothing&&j>0&&(Q=C.dxydi([],j-1,ie,0,oe),K.push(he[0]+Q[0]/3),ce.push(he[1]+Q[1]/3),te=C.dxydi([],j-1,ie,1,oe),K.push(le[0]-te[0]/3),ce.push(le[1]-te[1]/3)),K.push(le[0]),ce.push(le[1]),he=le;else for(j=C.a2i(W),ne=Math.floor(Math.max(0,Math.min(H-2,j))),q=j-ne,ae.length=H,ae.crossLength=F,ae.xy=function(de){return C.evalxy([],j,de)},ae.dxy=function(de,be){return C.dxydj([],ne,de,q,be)},ee=0;ee<F;ee++)ie=Math.min(F-2,ee),oe=ee-ie,le=C.evalxy([],j,ee),s.smoothing&&ee>0&&(ue=C.dxydj([],ne,ee-1,q,0),K.push(he[0]+ue[0]/3),ce.push(he[1]+ue[1]/3),J=C.dxydj([],ne,ee-1,q,1),K.push(le[0]-J[0]/3),ce.push(le[1]-J[1]/3)),K.push(le[0]),ce.push(le[1]),he=le;return ae.axisLetter=S,ae.axis=w,ae.crossAxis=s,ae.value=W,ae.constvar=v,ae.index=l,ae.x=K,ae.y=ce,ae.smoothing=s.smoothing,ae}function z(W){var j,ee,ie,oe,he,ne=[],q=[],le={};if(le.length=x.length,le.crossLength=A.length,S==="b")for(ie=Math.max(0,Math.min(F-2,W)),he=Math.min(1,Math.max(0,W-ie)),le.xy=function(Q){return C.evalxy([],Q,W)},le.dxy=function(Q,te){return C.dxydi([],Q,ie,te,he)},j=0;j<N;j++)ne[j]=M[W*B][j],q[j]=b[W*B][j];else for(ee=Math.max(0,Math.min(H-2,W)),oe=Math.min(1,Math.max(0,W-ee)),le.xy=function(Q){return C.evalxy([],W,Q)},le.dxy=function(Q,te){return C.dxydj([],ee,Q,oe,te)},j=0;j<k;j++)ne[j]=M[j][W*B],q[j]=b[j][W*B];return le.axisLetter=S,le.axis=w,le.crossAxis=s,le.value=x[W],le.constvar=v,le.index=W,le.x=ne,le.y=q,le.smoothing=s.smoothing,le}if(w.tickmode==="array"){for(a=5e-15,n=[Math.floor((x.length-1-w.arraytick0)/w.arraydtick*(1+a)),Math.ceil(-w.arraytick0/w.arraydtick/(1+a))].sort(function(W,j){return W-j}),f=n[0]-1,u=n[1]+1,l=f;l<u;l++)r=w.arraytick0+w.arraydtick*l,!(r<0||r>x.length-1)&&_.push(L(z(r),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f;l<u;l++)if(t=w.arraytick0+w.arraydtick*l,T=Math.min(t+w.arraydtick,x.length-1),!(t<0||t>x.length-1)&&!(T<0||T>x.length-1))for(c=x[t],i=x[T],g=0;g<w.minorgridcount;g++)d=T-t,!(d<=0)&&(h=c+(i-c)*(g+1)/(w.minorgridcount+1)*(w.arraydtick/d),!(h<x[0]||h>x[x.length-1])&&m.push(L(U(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash})));w.startline&&E.push(L(z(0),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&E.push(L(z(x.length-1),{color:w.endlinecolor,width:w.endlinewidth}))}else{for(a=5e-15,n=[Math.floor((x[x.length-1]-w.tick0)/w.dtick*(1+a)),Math.ceil((x[0]-w.tick0)/w.dtick/(1+a))].sort(function(W,j){return W-j}),f=n[0],u=n[1],l=f;l<=u;l++)y=w.tick0+w.dtick*l,_.push(L(U(y),{color:w.gridcolor,width:w.gridwidth,dash:w.griddash}));for(l=f-1;l<u+1;l++)for(y=w.tick0+w.dtick*l,g=0;g<w.minorgridcount;g++)h=y+w.dtick*(g+1)/(w.minorgridcount+1),!(h<x[0]||h>x[x.length-1])&&m.push(L(U(h),{color:w.minorgridcolor,width:w.minorgridwidth,dash:w.minorgriddash}));w.startline&&E.push(L(U(x[0]),{color:w.startlinecolor,width:w.startlinewidth})),w.endline&&E.push(L(U(x[x.length-1]),{color:w.endlinecolor,width:w.endlinewidth}))}}},14724:function(V,Y,e){var p=e(54460),L=e(92880).extendFlat;V.exports=function(C,S){var v,g,r,t,a,n=S._labels=[],f=S._gridlines;for(v=0;v<f.length;v++)a=f[v],["start","both"].indexOf(S.showticklabels)!==-1&&(g=p.tickText(S,a.value),L(g,{prefix:r,suffix:t,endAnchor:!0,xy:a.xy(0),dxy:a.dxy(0,0),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(g)),["end","both"].indexOf(S.showticklabels)!==-1&&(g=p.tickText(S,a.value),L(g,{endAnchor:!1,xy:a.xy(a.crossLength-1),dxy:a.dxy(a.crossLength-2,1),axis:a.axis,length:a.crossAxis.length,font:a.axis.tickfont,isFirst:v===0,isLast:v===f.length-1}),n.push(g))}},62284:function(V){var Y=.5;V.exports=function(p,L,o,C){var S=p[0]-L[0],v=p[1]-L[1],g=o[0]-L[0],r=o[1]-L[1],t=Math.pow(S*S+v*v,Y/2),a=Math.pow(g*g+r*r,Y/2),n=(a*a*S-t*t*g)*C,f=(a*a*v-t*t*r)*C,u=a*(t+a)*3,l=t*(t+a)*3;return[[L[0]+(u&&n/u),L[1]+(u&&f/u)],[L[0]-(l&&n/l),L[1]-(l&&f/l)]]}},60776:function(V,Y,e){var p=e(3400).isArrayOrTypedArray;V.exports=function(L,o,C){var S,v,g,r,t,a,n=[],f=p(L)?L.length:L,u=p(o)?o.length:o,l=p(L)?L:null,y=p(o)?o:null;l&&(g=(l.length-1)/(l[l.length-1]-l[0])/(f-1)),y&&(r=(y.length-1)/(y[y.length-1]-y[0])/(u-1));var h,T=1/0,c=-1/0;for(v=0;v<u;v++)for(n[v]=[],a=y?(y[v]-y[0])*r:v/(u-1),S=0;S<f;S++)t=l?(l[S]-l[0])*g:S/(f-1),h=t-a*C,T=Math.min(h,T),c=Math.max(h,c),n[v][S]=h;var i=1/(c-T),d=-T*i;for(v=0;v<u;v++)for(S=0;S<f;S++)n[v][S]=i*n[v][S]+d;return n}},30180:function(V,Y,e){var p=e(62284),L=e(3400).ensureArray;function o(C,S,v){var g=-.5*v[0]+1.5*S[0],r=-.5*v[1]+1.5*S[1];return[(2*g+C[0])/3,(2*r+C[1])/3]}V.exports=function(S,v,g,r,t,a){var n,f,u,l,y,h,T,c,i,d,x=g[0].length,w=g.length,_=t?3*x-2:x,m=a?3*w-2:w;for(S=L(S,m),v=L(v,m),u=0;u<m;u++)S[u]=L(S[u],_),v[u]=L(v[u],_);for(f=0,l=0;f<w;f++,l+=a?3:1)for(y=S[l],h=v[l],T=g[f],c=r[f],n=0,u=0;n<x;n++,u+=t?3:1)y[u]=T[n],h[u]=c[n];if(t)for(f=0,l=0;f<w;f++,l+=a?3:1){for(n=1,u=3;n<x-1;n++,u+=3)i=p([g[f][n-1],r[f][n-1]],[g[f][n],r[f][n]],[g[f][n+1],r[f][n+1]],t),S[l][u-1]=i[0][0],v[l][u-1]=i[0][1],S[l][u+1]=i[1][0],v[l][u+1]=i[1][1];d=o([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=d[0],v[l][1]=d[1],d=o([S[l][_-1],v[l][_-1]],[S[l][_-3],v[l][_-3]],[S[l][_-4],v[l][_-4]]),S[l][_-2]=d[0],v[l][_-2]=d[1]}if(a)for(u=0;u<_;u++){for(l=3;l<m-3;l+=3)i=p([S[l-3][u],v[l-3][u]],[S[l][u],v[l][u]],[S[l+3][u],v[l+3][u]],a),S[l-1][u]=i[0][0],v[l-1][u]=i[0][1],S[l+1][u]=i[1][0],v[l+1][u]=i[1][1];d=o([S[0][u],v[0][u]],[S[2][u],v[2][u]],[S[3][u],v[3][u]]),S[1][u]=d[0],v[1][u]=d[1],d=o([S[m-1][u],v[m-1][u]],[S[m-3][u],v[m-3][u]],[S[m-4][u],v[m-4][u]]),S[m-2][u]=d[0],v[m-2][u]=d[1]}if(t&&a)for(l=1;l<m;l+=(l+1)%3===0?2:1){for(u=3;u<_-3;u+=3)i=p([S[l][u-3],v[l][u-3]],[S[l][u],v[l][u]],[S[l][u+3],v[l][u+3]],t),S[l][u-1]=.5*(S[l][u-1]+i[0][0]),v[l][u-1]=.5*(v[l][u-1]+i[0][1]),S[l][u+1]=.5*(S[l][u+1]+i[1][0]),v[l][u+1]=.5*(v[l][u+1]+i[1][1]);d=o([S[l][0],v[l][0]],[S[l][2],v[l][2]],[S[l][3],v[l][3]]),S[l][1]=.5*(S[l][1]+d[0]),v[l][1]=.5*(v[l][1]+d[1]),d=o([S[l][_-1],v[l][_-1]],[S[l][_-3],v[l][_-3]],[S[l][_-4],v[l][_-4]]),S[l][_-2]=.5*(S[l][_-2]+d[0]),v[l][_-2]=.5*(v[l][_-2]+d[1])}return[S,v]}},24588:function(V){V.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(V){V.exports=function(Y,e,p){return e&&p?function(L,o,C,S,v){L||(L=[]);var g,r,t,a,n,f;o*=3,C*=3;var u=S*S,l=1-S,y=l*l,h=l*S*2,T=-3*y,c=3*(y-h),i=3*(h-u),d=3*u,x=v*v,w=x*v,_=1-v,m=_*_,E=m*_;for(f=0;f<Y.length;f++)n=Y[f],g=T*n[C][o]+c*n[C][o+1]+i*n[C][o+2]+d*n[C][o+3],r=T*n[C+1][o]+c*n[C+1][o+1]+i*n[C+1][o+2]+d*n[C+1][o+3],t=T*n[C+2][o]+c*n[C+2][o+1]+i*n[C+2][o+2]+d*n[C+2][o+3],a=T*n[C+3][o]+c*n[C+3][o+1]+i*n[C+3][o+2]+d*n[C+3][o+3],L[f]=E*g+3*(m*v*r+_*x*t)+w*a;return L}:e?function(L,o,C,S,v){L||(L=[]);var g,r,t,a;o*=3;var n=S*S,f=1-S,u=f*f,l=f*S*2,y=-3*u,h=3*(u-l),T=3*(l-n),c=3*n,i=1-v;for(t=0;t<Y.length;t++)a=Y[t],g=y*a[C][o]+h*a[C][o+1]+T*a[C][o+2]+c*a[C][o+3],r=y*a[C+1][o]+h*a[C+1][o+1]+T*a[C+1][o+2]+c*a[C+1][o+3],L[t]=i*g+v*r;return L}:p?function(L,o,C,S,v){L||(L=[]);var g,r,t,a,n,f;C*=3;var u=v*v,l=u*v,y=1-v,h=y*y,T=h*y;for(n=0;n<Y.length;n++)f=Y[n],g=f[C][o+1]-f[C][o],r=f[C+1][o+1]-f[C+1][o],t=f[C+2][o+1]-f[C+2][o],a=f[C+3][o+1]-f[C+3][o],L[n]=T*g+3*(h*v*r+y*u*t)+l*a;return L}:function(L,o,C,S,v){L||(L=[]);var g,r,t,a,n=1-v;for(t=0;t<Y.length;t++)a=Y[t],g=a[C][o+1]-a[C][o],r=a[C+1][o+1]-a[C+1][o],L[t]=n*g+v*r;return L}}},24464:function(V){V.exports=function(Y,e,p){return e&&p?function(L,o,C,S,v){L||(L=[]);var g,r,t,a,n,f;o*=3,C*=3;var u=S*S,l=u*S,y=1-S,h=y*y,T=h*y,c=v*v,i=1-v,d=i*i,x=i*v*2,w=-3*d,_=3*(d-x),m=3*(x-c),E=3*c;for(f=0;f<Y.length;f++)n=Y[f],g=w*n[C][o]+_*n[C+1][o]+m*n[C+2][o]+E*n[C+3][o],r=w*n[C][o+1]+_*n[C+1][o+1]+m*n[C+2][o+1]+E*n[C+3][o+1],t=w*n[C][o+2]+_*n[C+1][o+2]+m*n[C+2][o+2]+E*n[C+3][o+2],a=w*n[C][o+3]+_*n[C+1][o+3]+m*n[C+2][o+3]+E*n[C+3][o+3],L[f]=T*g+3*(h*S*r+y*u*t)+l*a;return L}:e?function(L,o,C,S,v){L||(L=[]);var g,r,t,a,n,f;o*=3;var u=v*v,l=u*v,y=1-v,h=y*y,T=h*y;for(n=0;n<Y.length;n++)f=Y[n],g=f[C+1][o]-f[C][o],r=f[C+1][o+1]-f[C][o+1],t=f[C+1][o+2]-f[C][o+2],a=f[C+1][o+3]-f[C][o+3],L[n]=T*g+3*(h*v*r+y*u*t)+l*a;return L}:p?function(L,o,C,S,v){L||(L=[]);var g,r,t,a;C*=3;var n=1-S,f=v*v,u=1-v,l=u*u,y=u*v*2,h=-3*l,T=3*(l-y),c=3*(y-f),i=3*f;for(t=0;t<Y.length;t++)a=Y[t],g=h*a[C][o]+T*a[C+1][o]+c*a[C+2][o]+i*a[C+3][o],r=h*a[C][o+1]+T*a[C+1][o+1]+c*a[C+2][o+1]+i*a[C+3][o+1],L[t]=n*g+S*r;return L}:function(L,o,C,S,v){L||(L=[]);var g,r,t,a,n=1-S;for(t=0;t<Y.length;t++)a=Y[t],g=a[C+1][o]-a[C][o],r=a[C+1][o+1]-a[C][o+1],L[t]=n*g+S*r;return L}}},29056:function(V){V.exports=function(Y,e,p,L,o){var C=e-2,S=p-2;return L&&o?function(v,g,r){v||(v=[]);var t,a,n,f,u,l,y=Math.max(0,Math.min(Math.floor(g),C)),h=Math.max(0,Math.min(Math.floor(r),S)),T=Math.max(0,Math.min(1,g-y)),c=Math.max(0,Math.min(1,r-h));y*=3,h*=3;var i=T*T,d=i*T,x=1-T,w=x*x,_=w*x,m=c*c,E=m*c,A=1-c,s=A*A,M=s*A;for(l=0;l<Y.length;l++)u=Y[l],t=_*u[h][y]+3*(w*T*u[h][y+1]+x*i*u[h][y+2])+d*u[h][y+3],a=_*u[h+1][y]+3*(w*T*u[h+1][y+1]+x*i*u[h+1][y+2])+d*u[h+1][y+3],n=_*u[h+2][y]+3*(w*T*u[h+2][y+1]+x*i*u[h+2][y+2])+d*u[h+2][y+3],f=_*u[h+3][y]+3*(w*T*u[h+3][y+1]+x*i*u[h+3][y+2])+d*u[h+3][y+3],v[l]=M*t+3*(s*c*a+A*m*n)+E*f;return v}:L?function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),C)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,g-t)),f=Math.max(0,Math.min(1,r-a)),u,l,y,h,T,c;t*=3;var i=n*n,d=i*n,x=1-n,w=x*x,_=w*x,m=1-f;for(T=0;T<Y.length;T++)c=Y[T],u=m*c[a][t]+f*c[a+1][t],l=m*c[a][t+1]+f*c[a+1][t+1],y=m*c[a][t+2]+f*c[a+1][t+1],h=m*c[a][t+3]+f*c[a+1][t+1],v[T]=_*u+3*(w*n*l+x*i*y)+d*h;return v}:o?function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),C)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,g-t)),f=Math.max(0,Math.min(1,r-a)),u,l,y,h,T,c;a*=3;var i=f*f,d=i*f,x=1-f,w=x*x,_=w*x,m=1-n;for(T=0;T<Y.length;T++)c=Y[T],u=m*c[a][t]+n*c[a][t+1],l=m*c[a+1][t]+n*c[a+1][t+1],y=m*c[a+2][t]+n*c[a+2][t+1],h=m*c[a+3][t]+n*c[a+3][t+1],v[T]=_*u+3*(w*f*l+x*i*y)+d*h;return v}:function(v,g,r){v||(v=[]);var t=Math.max(0,Math.min(Math.floor(g),C)),a=Math.max(0,Math.min(Math.floor(r),S)),n=Math.max(0,Math.min(1,g-t)),f=Math.max(0,Math.min(1,r-a)),u,l,y,h,T=1-f,c=1-n;for(y=0;y<Y.length;y++)h=Y[y],u=c*h[a][t]+n*h[a][t+1],l=c*h[a+1][t]+n*h[a+1][t+1],v[y]=T*u+f*l;return v}}},38356:function(V,Y,e){var p=e(3400),L=e(86411),o=e(93504),C=e(85720),S=e(22548);V.exports=function(g,r,t,a){function n(l,y){return p.coerce(g,r,C,l,y)}r._clipPathId="clip"+r.uid+"carpet";var f=n("color",S.defaultLine);if(p.coerceFont(n,"font",a.font),n("carpet"),o(g,r,a,n,f),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=L(g,r,n);u||(r.visible=!1),r._cheater&&n("cheaterslope"),n("zorder")}},95856:function(V,Y,e){V.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(V){V.exports=function(Y,e){for(var p=Y._fullData.length,L,o=0;o<p;o++){var C=Y._fullData[o];if(C.index!==e.index&&C.type==="carpet"&&(L||(L=C),C.carpet===e.carpet))return C}return L}},53416:function(V){V.exports=function(e,p,L){if(e.length===0)return"";var o,C=[],S=L?3:1;for(o=0;o<e.length;o+=S)C.push(e[o]+","+p[o]),L&&o<e.length-S&&(C.push("C"),C.push([e[o+1]+","+p[o+1],e[o+2]+","+p[o+2]+" "].join(" ")));return C.join(L?"":"L")}},87072:function(V,Y,e){var p=e(3400).isArrayOrTypedArray;V.exports=function(o,C,S){var v;for(p(o)?o.length>C.length&&(o=o.slice(0,C.length)):o=[],v=0;v<C.length;v++)o[v]=S(C[v]);return o}},15584:function(V){V.exports=function(e,p,L,o,C,S){var v=C[0]*e.dpdx(p),g=C[1]*e.dpdy(L),r=1,t=1;if(S){var a=Math.sqrt(C[0]*C[0]+C[1]*C[1]),n=Math.sqrt(S[0]*S[0]+S[1]*S[1]),f=(C[0]*S[0]+C[1]*S[1])/a/n;t=Math.max(0,f)}var u=Math.atan2(g,v)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(o,p,L),offsetMultplier:t}}},164:function(V,Y,e){var p=e(33428),L=e(43616),o=e(87072),C=e(53416),S=e(15584),v=e(72736),g=e(3400),r=g.strRotate,t=g.strTranslate,a=e(84284);V.exports=function(i,d,x,w){var _=i._context.staticPlot,m=d.xaxis,E=d.yaxis,A=i._fullLayout,s=A._clips;g.makeTraceGroups(w,x,"trace").each(function(M){var b=p.select(this),N=M[0],k=N.trace,H=k.aaxis,F=k.baxis,B=g.ensureSingle(b,"g","minorlayer"),U=g.ensureSingle(b,"g","majorlayer"),z=g.ensureSingle(b,"g","boundarylayer"),W=g.ensureSingle(b,"g","labellayer");b.style("opacity",k.opacity),f(m,E,U,H,"a",H._gridlines,!0),f(m,E,U,F,"b",F._gridlines,!0),f(m,E,B,H,"a",H._minorgridlines,!0),f(m,E,B,F,"b",F._minorgridlines,!0),f(m,E,z,H,"a-boundary",H._boundarylines,_),f(m,E,z,F,"b-boundary",F._boundarylines,_);var j=u(i,m,E,k,N,W,H._labels,"a-label"),ee=u(i,m,E,k,N,W,F._labels,"b-label");l(i,W,k,N,m,E,j,ee),n(k,N,s,m,E)})};function n(c,i,d,x,w){var _,m,E,A,s=d.select("#"+c._clipPathId);s.size()||(s=d.append("clipPath").classed("carpetclip",!0));var M=g.ensureSingle(s,"path","carpetboundary"),b=i.clipsegments,N=[];for(A=0;A<b.length;A++)_=b[A],m=o([],_.x,x.c2p),E=o([],_.y,w.c2p),N.push(C(m,E,_.bicubic));var k="M"+N.join("L")+"Z";s.attr("id",c._clipPathId),M.attr("d",k)}function f(c,i,d,x,w,_,m){var E="const-"+w+"-lines",A=d.selectAll("."+E).data(_);A.enter().append("path").classed(E,!0).style("vector-effect",m?"none":"non-scaling-stroke"),A.each(function(s){var M=s,b=M.x,N=M.y,k=o([],b,c.c2p),H=o([],N,i.c2p),F="M"+C(k,H,M.smoothing),B=p.select(this);B.attr("d",F).style("stroke-width",M.width).style("stroke",M.color).style("stroke-dasharray",L.dashStyle(M.dash,M.width)).style("fill","none")}),A.exit().remove()}function u(c,i,d,x,w,_,m,E){var A=_.selectAll("text."+E).data(m);A.enter().append("text").classed(E,!0);var s=0,M={};return A.each(function(b,N){var k;if(b.axis.tickangle==="auto")k=S(x,i,d,b.xy,b.dxy);else{var H=(b.axis.tickangle+180)*Math.PI/180;k=S(x,i,d,b.xy,[Math.cos(H),Math.sin(H)])}N||(M={angle:k.angle,flip:k.flip});var F=(b.endAnchor?-1:1)*k.flip,B=p.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(L.font,b.font).text(b.text).call(v.convertToTspans,c),U=L.bBox(this);B.attr("transform",t(k.p[0],k.p[1])+r(k.angle)+t(b.axis.labelpadding*F,U.height*.3)),s=Math.max(s,U.width+b.axis.labelpadding)}),A.exit().remove(),M.maxExtent=s,M}function l(c,i,d,x,w,_,m,E){var A,s,M,b,N=g.aggNums(Math.min,null,d.a),k=g.aggNums(Math.max,null,d.a),H=g.aggNums(Math.min,null,d.b),F=g.aggNums(Math.max,null,d.b);A=.5*(N+k),s=H,M=d.ab2xy(A,s,!0),b=d.dxyda_rough(A,s),m.angle===void 0&&g.extendFlat(m,S(d,w,_,M,d.dxydb_rough(A,s))),T(c,i,d,x,M,b,d.aaxis,w,_,m,"a-title"),A=N,s=.5*(H+F),M=d.ab2xy(A,s,!0),b=d.dxydb_rough(A,s),E.angle===void 0&&g.extendFlat(E,S(d,w,_,M,d.dxyda_rough(A,s))),T(c,i,d,x,M,b,d.baxis,w,_,E,"b-title")}var y=a.LINE_SPACING,h=(1-a.MID_SHIFT)/y+1;function T(c,i,d,x,w,_,m,E,A,s,M){var b=[];m.title.text&&b.push(m.title.text);var N=i.selectAll("text."+M).data(b),k=s.maxExtent;N.enter().append("text").classed(M,!0),N.each(function(){var H=S(d,E,A,w,_);["start","both"].indexOf(m.showticklabels)===-1&&(k=0);var F=m.title.font.size;k+=F+m.title.offset;var B=s.angle+(s.flip<0?180:0),U=(B-H.angle+450)%360,z=U>90&&U<270,W=p.select(this);W.text(m.title.text).call(v.convertToTspans,c),z&&(k=(-v.lineCount(W)+h)*y*F-k),W.attr("transform",t(H.p[0],H.p[1])+r(H.angle)+t(0,k)).attr("text-anchor","middle").call(L.font,m.title.font)}),N.exit().remove()}},81e3:function(V,Y,e){var p=e(24588),L=e(14952).findBin,o=e(30180),C=e(29056),S=e(26435),v=e(24464);V.exports=function(r){var t=r._a,a=r._b,n=t.length,f=a.length,u=r.aaxis,l=r.baxis,y=t[0],h=t[n-1],T=a[0],c=a[f-1],i=t[t.length-1]-t[0],d=a[a.length-1]-a[0],x=i*p.RELATIVE_CULL_TOLERANCE,w=d*p.RELATIVE_CULL_TOLERANCE;y-=x,h+=x,T-=w,c+=w,r.isVisible=function(_,m){return _>y&&_<h&&m>T&&m<c},r.isOccluded=function(_,m){return _<y||_>h||m<T||m>c},r.setScale=function(){var _=r._x,m=r._y,E=o(r._xctrl,r._yctrl,_,m,u.smoothing,l.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=C([r._xctrl,r._yctrl],n,f,u.smoothing,l.smoothing),r.dxydi=S([r._xctrl,r._yctrl],u.smoothing,l.smoothing),r.dxydj=v([r._xctrl,r._yctrl],u.smoothing,l.smoothing)},r.i2a=function(_){var m=Math.max(0,Math.floor(_[0]),n-2),E=_[0]-m;return(1-E)*t[m]+E*t[m+1]},r.j2b=function(_){var m=Math.max(0,Math.floor(_[1]),n-2),E=_[1]-m;return(1-E)*a[m]+E*a[m+1]},r.ij2ab=function(_){return[r.i2a(_[0]),r.j2b(_[1])]},r.a2i=function(_){var m=Math.max(0,Math.min(L(_,t),n-2)),E=t[m],A=t[m+1];return Math.max(0,Math.min(n-1,m+(_-E)/(A-E)))},r.b2j=function(_){var m=Math.max(0,Math.min(L(_,a),f-2)),E=a[m],A=a[m+1];return Math.max(0,Math.min(f-1,m+(_-E)/(A-E)))},r.ab2ij=function(_){return[r.a2i(_[0]),r.b2j(_[1])]},r.i2c=function(_,m){return r.evalxy([],_,m)},r.ab2xy=function(_,m,E){if(!E&&(_<t[0]||_>t[n-1]|m<a[0]||m>a[f-1]))return[!1,!1];var A=r.a2i(_),s=r.b2j(m),M=r.evalxy([],A,s);if(E){var b=0,N=0,k=[],H,F,B,U;_<t[0]?(H=0,F=0,b=(_-t[0])/(t[1]-t[0])):_>t[n-1]?(H=n-2,F=1,b=(_-t[n-1])/(t[n-1]-t[n-2])):(H=Math.max(0,Math.min(n-2,Math.floor(A))),F=A-H),m<a[0]?(B=0,U=0,N=(m-a[0])/(a[1]-a[0])):m>a[f-1]?(B=f-2,U=1,N=(m-a[f-1])/(a[f-1]-a[f-2])):(B=Math.max(0,Math.min(f-2,Math.floor(s))),U=s-B),b&&(r.dxydi(k,H,B,F,U),M[0]+=k[0]*b,M[1]+=k[1]*b),N&&(r.dxydj(k,H,B,F,U),M[0]+=k[0]*N,M[1]+=k[1]*N)}return M},r.c2p=function(_,m,E){return[m.c2p(_[0]),E.c2p(_[1])]},r.p2x=function(_,m,E){return[m.p2c(_[0]),E.p2c(_[1])]},r.dadi=function(_){var m=Math.max(0,Math.min(t.length-2,_));return t[m+1]-t[m]},r.dbdj=function(_){var m=Math.max(0,Math.min(a.length-2,_));return a[m+1]-a[m]},r.dxyda=function(_,m,E,A){var s=r.dxydi(null,_,m,E,A),M=r.dadi(_,E);return[s[0]/M,s[1]/M]},r.dxydb=function(_,m,E,A){var s=r.dxydj(null,_,m,E,A),M=r.dbdj(m,A);return[s[0]/M,s[1]/M]},r.dxyda_rough=function(_,m,E){var A=i*(E||.1),s=r.ab2xy(_+A,m,!0),M=r.ab2xy(_-A,m,!0);return[(s[0]-M[0])*.5/A,(s[1]-M[1])*.5/A]},r.dxydb_rough=function(_,m,E){var A=d*(E||.1),s=r.ab2xy(_,m+A,!0),M=r.ab2xy(_,m-A,!0);return[(s[0]-M[0])*.5/A,(s[1]-M[1])*.5/A]},r.dpdx=function(_){return _._m},r.dpdy=function(_){return _._m}}},51512:function(V,Y,e){var p=e(3400);V.exports=function(o,C,S){var v,g,r,t=[],a=[],n=o[0].length,f=o.length;function u(ee,ie){var oe=0,he,ne=0;return ee>0&&(he=o[ie][ee-1])!==void 0&&(ne++,oe+=he),ee<n-1&&(he=o[ie][ee+1])!==void 0&&(ne++,oe+=he),ie>0&&(he=o[ie-1][ee])!==void 0&&(ne++,oe+=he),ie<f-1&&(he=o[ie+1][ee])!==void 0&&(ne++,oe+=he),oe/Math.max(1,ne)}var l=0;for(v=0;v<n;v++)for(g=0;g<f;g++)o[g][v]===void 0&&(t.push(v),a.push(g),o[g][v]=u(v,g)),l=Math.max(l,Math.abs(o[g][v]));if(!t.length)return o;var y,h,T,c,i,d,x,w,_,m,E,A=1e-5,s=0,M=100,b=0,N=t.length;do{for(s=0,r=0;r<N;r++){v=t[r],g=a[r];var k=0,H=0,F,B,U,z,W,j;v===0?(W=Math.min(n-1,2),U=C[W],z=C[1],F=o[g][W],B=o[g][1],H+=B+(B-F)*(C[0]-z)/(z-U),k++):v===n-1&&(W=Math.max(0,n-3),U=C[W],z=C[n-2],F=o[g][W],B=o[g][n-2],H+=B+(B-F)*(C[n-1]-z)/(z-U),k++),(v===0||v===n-1)&&g>0&&g<f-1&&(y=S[g+1]-S[g],h=S[g]-S[g-1],H+=(h*o[g+1][v]+y*o[g-1][v])/(h+y),k++),g===0?(j=Math.min(f-1,2),U=S[j],z=S[1],F=o[j][v],B=o[1][v],H+=B+(B-F)*(S[0]-z)/(z-U),k++):g===f-1&&(j=Math.max(0,f-3),U=S[j],z=S[f-2],F=o[j][v],B=o[f-2][v],H+=B+(B-F)*(S[f-1]-z)/(z-U),k++),(g===0||g===f-1)&&v>0&&v<n-1&&(y=C[v+1]-C[v],h=C[v]-C[v-1],H+=(h*o[g][v+1]+y*o[g][v-1])/(h+y),k++),k?H/=k:(T=C[v+1]-C[v],c=C[v]-C[v-1],i=S[g+1]-S[g],d=S[g]-S[g-1],x=T*c*(T+c),w=i*d*(i+d),H=(x*(d*o[g+1][v]+i*o[g-1][v])+w*(c*o[g][v+1]+T*o[g][v-1]))/(w*(c+T)+x*(d+i))),_=H-o[g][v],m=_/l,s+=m*m,E=k?0:.85,o[g][v]+=_*(1+E)}s=Math.sqrt(s)}while(b++<M&&s>A);return p.log("Smoother converged to",s,"after",b,"iterations"),o}},86411:function(V,Y,e){var p=e(3400).isArray1D;V.exports=function(o,C,S){var v=S("x"),g=v&&v.length,r=S("y"),t=r&&r.length;if(!g&&!t)return!1;if(C._cheater=!v,(!g||p(v))&&(!t||p(r))){var a=g?v.length:1/0;t&&(a=Math.min(a,r.length)),C.a&&C.a.length&&(a=Math.min(a,C.a.length)),C.b&&C.b.length&&(a=Math.min(a,C.b.length)),C._length=a}else C._length=null;return!0}},83372:function(V,Y,e){var p=e(21776).Ks,L=e(6096),o=e(49084),C=e(45464),S=e(22548).defaultLine,v=e(92880).extendFlat,g=L.marker.line;V.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},L.geojson,{}),featureidkey:L.featureidkey,text:v({},L.text,{}),hovertext:v({},L.hovertext,{}),marker:{line:{color:v({},g.color,{dflt:S}),width:v({},g.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:v({},C.showlegend,{dflt:!1})},o("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(V,Y,e){var p=e(38248),L=e(39032).BADNUM,o=e(47128),C=e(20148),S=e(4500);function v(g){return g&&typeof g=="string"}V.exports=function(r,t){var a=t._length,n=new Array(a),f;t.geojson?f=function(T){return v(T)||p(T)}:f=v;for(var u=0;u<a;u++){var l=n[u]={},y=t.locations[u],h=t.z[u];f(y)&&p(h)?(l.loc=y,l.z=h):(l.loc=null,l.z=L),l.index=u}return C(n,t),o(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),S(n,t),n}},30972:function(V,Y,e){var p=e(3400),L=e(27260),o=e(83372);V.exports=function(S,v,g,r){function t(h,T){return p.coerce(S,v,o,h,T)}var a=t("locations"),n=t("z");if(!(a&&a.length&&p.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(a.length,n.length);var f=t("geojson"),u;(typeof f=="string"&&f!==""||p.isPlainObject(f))&&(u="geojson-id");var l=t("locationmode",u);l==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var y=t("marker.line.width");y&&t("marker.line.color"),t("marker.opacity"),L(S,v,r,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,t)}},52428:function(V){V.exports=function(e,p,L,o,C){e.location=p.location,e.z=p.z;var S=o[C];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e.ct=S.ct,e}},69224:function(V,Y,e){var p=e(54460),L=e(83372),o=e(3400).fillText;V.exports=function(v,g,r){var t=v.cd,a=t[0].trace,n=v.subplot,f,u,l,y,h=[g,r],T=[g+360,r];for(u=0;u<t.length;u++)if(f=t[u],y=!1,f._polygons){for(l=0;l<f._polygons.length;l++)f._polygons[l].contains(h)&&(y=!y),f._polygons[l].contains(T)&&(y=!y);if(y)break}if(!(!y||!f))return v.x0=v.x1=v.xa.c2p(f.ct),v.y0=v.y1=v.ya.c2p(f.ct),v.index=f.index,v.location=f.loc,v.z=f.z,v.zLabel=p.tickText(n.mockAxis,n.mockAxis.c2l(f.z),"hover").text,v.hovertemplate=f.hovertemplate,C(v,a,f),[v]};function C(S,v,g){if(!v.hovertemplate){var r=g.hi||v.hoverinfo,t=String(g.loc),a=r==="all"?L.hoverinfo.flags:r.split("+"),n=a.indexOf("name")!==-1,f=a.indexOf("location")!==-1,u=a.indexOf("z")!==-1,l=a.indexOf("text")!==-1,y=!n&&f,h=[];y?S.nameOverride=t:(n&&(S.nameOverride=v.name),f&&h.push(t)),u&&h.push(S.zLabel),l&&o(g,v,h),S.extraText=h.join("<br>")}}},54272:function(V,Y,e){V.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(V,Y,e){var p=e(33428),L=e(3400),o=e(27144),C=e(59972).getTopojsonFeatures,S=e(19280).findExtremes,v=e(7947).style;function g(t,a,n){var f=a.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(f,n,"trace choropleth").each(function(u){var l=p.select(this),y=l.selectAll("path.choroplethlocation").data(L.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(t,u)})}function r(t,a){for(var n=t[0].trace,f=a[n.geo],u=f._subplot,l=n.locationmode,y=n._length,h=l==="geojson-id"?o.extractTraceFeature(t):C(n,u.topojson),T=[],c=[],i=0;i<y;i++){var d=t[i],x=l==="geojson-id"?d.fOut:o.locationToFeature(l,d.loc,h);if(x){d.geojson=x,d.ct=x.properties.ct,d._polygons=o.feature2polygons(x);var w=o.computeBbox(x);T.push(w[0],w[2]),c.push(w[1],w[3])}else d.geojson=null}if(f.fitbounds==="geojson"&&l==="geojson-id"){var _=o.computeBbox(o.getTraceGeojson(n));T=[_[0],_[2]],c=[_[1],_[3]]}var m={padded:!0};n._extremes.lon=S(f.lonaxis._ax,T,m),n._extremes.lat=S(f.lataxis._ax,c,m)}V.exports={calcGeoJSON:r,plot:g}},17328:function(V){V.exports=function(e,p){var L=e.cd,o=e.xaxis,C=e.yaxis,S=[],v,g,r,t,a;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++)g=L[v],r=g.ct,r&&(t=o.c2p(r),a=C.c2p(r),p.contains([t,a],null,v,e)?(S.push({pointNumber:v,lon:r[0],lat:r[1]}),g.selected=1):g.selected=0);return S}},7947:function(V,Y,e){var p=e(33428),L=e(76308),o=e(43616),C=e(8932);function S(r,t){t&&v(r,t)}function v(r,t){var a=t[0].trace,n=t[0].node3,f=n.selectAll(".choroplethlocation"),u=a.marker||{},l=u.line||{},y=C.makeColorScaleFuncFromTrace(a);f.each(function(h){p.select(this).attr("fill",y(h.z)).call(L.stroke,h.mlc||l.color).call(o.dashLine,"",h.mlw||l.width||0).style("opacity",u.opacity)}),o.selectedPointStyle(f,a)}function g(r,t){var a=t[0].node3,n=t[0].trace;n.selectedpoints?o.selectedPointStyle(a.selectAll(".choroplethlocation"),n):v(r,t)}V.exports={style:S,styleOnSelect:g}},45608:function(V,Y,e){var p=e(83372),L=e(49084),o=e(21776).Ks,C=e(45464),S=e(92880).extendFlat;V.exports=S({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:S({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:S({},p.marker.line.color,{editType:"plot"}),width:S({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:S({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:S({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:S({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:o({},{keys:["properties"]}),showlegend:S({},C.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(V,Y,e){var p=e(38248),L=e(3400),o=e(8932),C=e(43616),S=e(44808).makeBlank,v=e(27144);function g(t){var a=t[0].trace,n=a.visible===!0&&a._length!==0,f={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},l=a._opts={fill:f,line:u,geojson:S()};if(!n)return l;var y=v.extractTraceFeature(t);if(!y)return l;var h=o.makeColorScaleFuncFromTrace(a),T=a.marker,c=T.line||{},i;L.isArrayOrTypedArray(T.opacity)&&(i=function(s){var M=s.mo;return p(M)?+L.constrain(M,0,1):0});var d;L.isArrayOrTypedArray(c.color)&&(d=function(s){return s.mlc});var x;L.isArrayOrTypedArray(c.width)&&(x=function(s){return s.mlw});for(var w=0;w<t.length;w++){var _=t[w],m=_.fOut;if(m){var E=m.properties;E.fc=h(_.z),i&&(E.mo=i(_)),d&&(E.mlc=d(_)),x&&(E.mlw=x(_)),_.ct=E.ct,_._polygons=v.feature2polygons(m)}}var A=i?{type:"identity",property:"mo"}:T.opacity;return L.extendFlat(f.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":A}),L.extendFlat(u.paint,{"line-color":d?{type:"identity",property:"mlc"}:c.color,"line-width":x?{type:"identity",property:"mlw"}:c.width,"line-opacity":A}),f.layout.visibility="visible",u.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:y},r(t),l}function r(t){var a=t[0].trace,n=a._opts,f;if(a.selectedpoints){for(var u=C.makeSelectedPointStyleFns(a),l=0;l<t.length;l++){var y=t[l];y.fOut&&(y.fOut.properties.mo2=u.selectedOpacityFn(y))}f={type:"identity",property:"mo2"}}else f=L.isArrayOrTypedArray(a.marker.opacity)?{type:"identity",property:"mo"}:a.marker.opacity;return L.extendFlat(n.fill.paint,{"fill-opacity":f}),L.extendFlat(n.line.paint,{"line-opacity":f}),n}V.exports={convert:g,convertOnSelect:r}},9352:function(V,Y,e){var p=e(3400),L=e(27260),o=e(45608);V.exports=function(S,v,g,r){function t(l,y){return p.coerce(S,v,o,l,y)}var a=t("locations"),n=t("z"),f=t("geojson");if(!p.isArrayOrTypedArray(a)||!a.length||!p.isArrayOrTypedArray(n)||!n.length||!(typeof f=="string"&&f!==""||p.isPlainObject(f))){v.visible=!1;return}t("featureidkey"),v._length=Math.min(a.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),L(S,v,r,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(v,t)}},85404:function(V,Y,e){V.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(p,L){if(L){var o=L[0].trace;o._glTrace.updateOnSelect(L)}},getBelow:function(p,L){for(var o=L.getMapLayers(),C=o.length-2;C>=0;C--){var S=o[C].id;if(typeof S=="string"&&S.indexOf("water")===0){for(var v=C+1;v<o.length;v++)if(S=o[v].id,typeof S=="string"&&S.indexOf("plotly-")===-1)return S}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(V,Y,e){var p=e(13504).convert,L=e(13504).convertOnSelect,o=e(47552).traceLayerPrefix;function C(v,g){this.type="choroplethmapbox",this.subplot=v,this.uid=g,this.sourceId="source-"+g,this.layerList=[["fill",o+g+"-fill"],["line",o+g+"-line"]],this.below=null}var S=C.prototype;S.update=function(v){this._update(p(v)),v[0].trace._glTrace=this},S.updateOnSelect=function(v){this._update(L(v))},S._update=function(v){var g=this.subplot,r=this.layerList,t=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(v.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(v,t),this.below=t);for(var a=0;a<r.length;a++){var n=r[a],f=n[0],u=n[1],l=v[f];g.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&g.setOptions(u,"setPaintProperty",l.paint)}},S._addLayers=function(v,g){for(var r=this.subplot,t=this.layerList,a=this.sourceId,n=0;n<t.length;n++){var f=t[n],u=f[0],l=v[u];r.addLayer({type:u,id:f[1],source:a,layout:l.layout,paint:l.paint},g)}},S._removeLayers=function(){for(var v=this.subplot.map,g=this.layerList,r=g.length-1;r>=0;r--)v.removeLayer(g[r][1])},S.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},V.exports=function(g,r){var t=r[0].trace,a=new C(g,t.uid),n=a.sourceId,f=p(r),u=a.below=g.belowLookup["trace-"+t.uid];return g.map.addSource(n,{type:"geojson",data:f.geojson}),a._addLayers(f,u),r[0].trace._glTrace=a,a}},86040:function(V,Y,e){var p=e(49084),L=e(29736).axisHoverFormat,o=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute","raw"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){g[t]=C[t]}),g.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,V.exports=g},83344:function(V,Y,e){var p=e(47128);V.exports=function(o,C){for(var S=C.u,v=C.v,g=C.w,r=Math.min(C.x.length,C.y.length,C.z.length,S.length,v.length,g.length),t=-1/0,a=1/0,n=0;n<r;n++){var f=S[n],u=v[n],l=g[n],y=Math.sqrt(f*f+u*u+l*l);t=Math.max(t,y),a=Math.min(a,y)}C._len=r,C._normMax=t,p(o,C,{vals:[a,t],containerStr:"",cLetter:"c"})}},6648:function(V,Y,e){var p=e(67792).gl_cone3d,L=e(67792).gl_cone3d.createConeMesh,o=e(3400).simpleMap,C=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(3400).isArrayOrTypedArray,g=e(52094);function r(y,h){this.scene=y,this.uid=h,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(y){if(y.object===this.mesh){var h=y.index=y.data.index,T=this.data.x[h],c=this.data.y[h],i=this.data.z[h],d=this.data.u[h],x=this.data.v[h],w=this.data.w[h];y.traceCoordinate=[T,c,i,d,x,w,Math.sqrt(d*d+x*x+w*w)];var _=this.data.hovertext||this.data.text;return v(_)&&_[h]!==void 0?y.textLabel=_[h]:_&&(y.textLabel=_),!0}};var a={xaxis:0,yaxis:1,zaxis:2},n={tip:1,tail:0,cm:.25,center:.5},f={tip:1,tail:1,cm:.75,center:.5};function u(y,h){var T=y.fullSceneLayout,c=y.dataScale,i={};function d(E,A){var s=T[A],M=c[a[A]];return o(E,function(b){return s.d2l(b)*M})}i.vectors=g(d(h.u,"xaxis"),d(h.v,"yaxis"),d(h.w,"zaxis"),h._len),i.positions=g(d(h.x,"xaxis"),d(h.y,"yaxis"),d(h.z,"zaxis"),h._len);var x=S(h);i.colormap=C(h),i.vertexIntensityBounds=[x.min/h._normMax,x.max/h._normMax],i.coneOffset=n[h.anchor];var w=h.sizemode;w==="scaled"?i.coneSize=h.sizeref||.5:w==="absolute"?i.coneSize=h.sizeref&&h._normMax?h.sizeref/h._normMax:.5:w==="raw"&&(i.coneSize=h.sizeref),i.coneSizemode=w;var _=p(i),m=h.lightposition;return _.lightPosition=[m.x,m.y,m.z],_.ambient=h.lighting.ambient,_.diffuse=h.lighting.diffuse,_.specular=h.lighting.specular,_.roughness=h.lighting.roughness,_.fresnel=h.lighting.fresnel,_.opacity=h.opacity,h._pad=f[h.anchor]*_.vectorScale*_.coneScale*h._normMax,_}t.update=function(y){this.data=y;var h=u(this.scene,y);this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(y,h){var T=y.glplot.gl,c=u(y,h),i=L(T,c),d=new r(y,h.uid);return d.mesh=i,d.data=h,i._trace=d,y.glplot.add(i),d}V.exports=l},86096:function(V,Y,e){var p=e(3400),L=e(27260),o=e(86040);V.exports=function(S,v,g,r){function t(T,c){return p.coerce(S,v,o,T,c)}var a=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),y=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!y||!y.length){v.visible=!1;return}var h=t("sizemode");t("sizeref",h==="raw"?1:.5),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},26048:function(V,Y,e){V.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(p,L){return p.norm=L.traceCoordinate[6],p},meta:{}}},67104:function(V,Y,e){var p=e(83328),L=e(52904),o=e(29736),C=o.axisHoverFormat,S=o.descriptionOnlyNumbers,v=e(49084),g=e(98192).u,r=e(25376),t=e(92880).extendFlat,a=e(69104),n=a.COMPARISON_OPS2,f=a.INTERVAL_OPS,u=L.line;V.exports=t({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:t({},p.texttemplate,{}),textfont:t({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:t({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:S("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(f),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:g,smoothing:t({},u.smoothing,{}),editType:"plot"},zorder:L.zorder},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(V,Y,e){var p=e(8932),L=e(19512),o=e(54444),C=e(46960);V.exports=function(v,g){var r=L(v,g),t=r[0].z;o(g,t);var a=g.contours,n=p.extractOpts(g),f;if(a.coloring==="heatmap"&&n.auto&&g.autocontour===!1){var u=a.start,l=C(a),y=a.size||1,h=Math.floor((l-u)/y)+1;isFinite(y)||(y=1,h=1);var T=u-y/2,c=T+h*y;f=[T,c]}else f=t;return p.calc(v,g,{vals:f,cLetter:"z"}),r}},56008:function(V){V.exports=function(Y,e){var p=Y[0],L=p.z,o;switch(e.type){case"levels":var C=Math.min(L[0][0],L[0][1]);for(o=0;o<Y.length;o++){var S=Y[o];S.prefixBoundary=!S.edgepaths.length&&(C>S.level||S.starts.length&&C===S.level)}break;case"constraint":if(p.prefixBoundary=!1,p.edgepaths.length)return;var v=p.x.length,g=p.y.length,r=-1/0,t=1/0;for(o=0;o<g;o++)t=Math.min(t,L[o][0]),t=Math.min(t,L[o][v-1]),r=Math.max(r,L[o][0]),r=Math.max(r,L[o][v-1]);for(o=1;o<v-1;o++)t=Math.min(t,L[0][o]),t=Math.min(t,L[g-1][o]),r=Math.max(r,L[0][o]),r=Math.max(r,L[g-1][o]);var a=e.value,n,f;switch(e._operation){case">":a>r&&(p.prefixBoundary=!0);break;case"<":(a<t||p.starts.length&&a===t)&&(p.prefixBoundary=!0);break;case"[]":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),(f<t||n>r||p.starts.length&&f===t)&&(p.prefixBoundary=!0);break;case"][":n=Math.min(a[0],a[1]),f=Math.max(a[0],a[1]),n<t&&f>r&&(p.prefixBoundary=!0);break}break}}},55296:function(V,Y,e){var p=e(8932),L=e(41076),o=e(46960);function C(S,v,g){var r=v.contours,t=v.line,a=r.size||1,n=r.coloring,f=L(v,{isColorbar:!0});if(n==="heatmap"){var u=p.extractOpts(v);g._fillgradient=u.reversescale?p.flipScale(u.colorscale):u.colorscale,g._zrange=[u.min,u.max]}else n==="fill"&&(g._fillcolor=f);g._line={color:n==="lines"?f:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},g._levels={start:r.start,end:o(r),size:a}}V.exports={min:"zmin",max:"zmax",calc:C}},93252:function(V){V.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(V,Y,e){var p=e(38248),L=e(17428),o=e(76308),C=o.addOpacity,S=o.opacity,v=e(69104),g=e(3400).isArrayOrTypedArray,r=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;V.exports=function(f,u,l,y,h,T){var c=u.contours,i,d,x,w=l("contours.operation");if(c._operation=r[w],a(l,c),w==="="?i=c.showlines=!0:(i=l("contours.showlines"),x=l("fillcolor",C((f.line||{}).color||h,.5))),i){var _=x&&S(x)?C(u.fillcolor,1):h;d=l("line.color",_),l("line.width",2),l("line.dash")}l("line.smoothing"),L(l,y,d,T)};function a(n,f){var u;t.indexOf(f.operation)===-1?(n("contours.value",[0,1]),g(f.value)?f.value.length>2?f.value=f.value.slice(2):f.length===0?f.value=[0,1]:f.length<2?(u=parseFloat(f.value[0]),f.value=[u,u+1]):f.value=[parseFloat(f.value[0]),parseFloat(f.value[1])]:p(f.value)&&(u=parseFloat(f.value),f.value=[u,u+1])):(n("contours.value",0),p(f.value)||(g(f.value)?f.value=parseFloat(f.value[0]):f.value=0))}},3212:function(V,Y,e){var p=e(69104),L=e(38248);V.exports={"[]":C("[]"),"][":C("]["),">":S(">"),"<":S("<"),"=":S("=")};function o(v,g){var r=Array.isArray(g),t;function a(n){return L(n)?+n:null}return p.COMPARISON_OPS2.indexOf(v)!==-1?t=a(r?g[0]:g):p.INTERVAL_OPS.indexOf(v)!==-1?t=r?[a(g[0]),a(g[1])]:[a(g),a(g)]:p.SET_OPS.indexOf(v)!==-1&&(t=r?g.map(a):[a(g)]),t}function C(v){return function(g){g=o(v,g);var r=Math.min(g[0],g[1]),t=Math.max(g[0],g[1]);return{start:r,end:t,size:t-r}}}function S(v){return function(g){return g=o(v,g),{start:g,end:1/0,size:1/0}}}},84952:function(V){V.exports=function(e,p,L,o){var C=o("contours.start"),S=o("contours.end"),v=C===!1||S===!1,g=L("contours.size"),r;v?r=p.autocontour=!0:r=L("autocontour",!1),(r||!g)&&L("ncontours")}},82172:function(V,Y,e){var p=e(3400);V.exports=function(o,C){var S,v,g,r=function(n){return n.reverse()},t=function(n){return n};switch(C){case"=":case"<":return o;case">":for(o.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),v=o[0],S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);return o;case"][":var a=r;r=t,t=a;case"[]":for(o.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),v=L(o[0]),g=L(o[1]),S=0;S<v.edgepaths.length;S++)v.edgepaths[S]=r(v.edgepaths[S]);for(S=0;S<v.paths.length;S++)v.paths[S]=r(v.paths[S]);for(S=0;S<v.starts.length;S++)v.starts[S]=r(v.starts[S]);for(;g.edgepaths.length;)v.edgepaths.push(t(g.edgepaths.shift()));for(;g.paths.length;)v.paths.push(t(g.paths.shift()));for(;g.starts.length;)v.starts.push(t(g.starts.shift()));return[v]}};function L(o){return p.extendFlat({},o,{edgepaths:p.extendDeep([],o.edgepaths),paths:p.extendDeep([],o.paths),starts:p.extendDeep([],o.starts)})}},57004:function(V,Y,e){var p=e(3400),L=e(51264),o=e(31147),C=e(95536),S=e(84952),v=e(97680),g=e(39096),r=e(67104);V.exports=function(a,n,f,u){function l(c,i){return p.coerce(a,n,r,c,i)}function y(c){return p.coerce2(a,n,r,c)}var h=L(a,n,l,u);if(!h){n.visible=!1;return}o(a,n,u,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var T=l("contours.type")==="constraint";l("connectgaps",p.isArray1D(n.z)),T?C(a,n,l,u,f):(S(a,n,l,y),v(a,n,l,u)),n.contours&&n.contours.coloring==="heatmap"&&g(l,u),l("zorder")}},61512:function(V,Y,e){var p=e(3400),L=e(3212),o=e(46960);V.exports=function(S,v,g){for(var r=S.type==="constraint"?L[S._operation](S.value):S,t=r.size,a=[],n=o(r),f=g.trace._carpetTrace,u=f?{xaxis:f.aaxis,yaxis:f.baxis,x:g.a,y:g.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:g.x,y:g.y},l=r.start;l<n;l+=t)if(a.push(p.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},u)),a.length>1e3){p.warn("Too many contours, clipping at 1000",S);break}return a}},46960:function(V){V.exports=function(e){return e.end+e.size/1e6}},88748:function(V,Y,e){var p=e(3400),L=e(93252);V.exports=function(t,a,n){var f,u,l,y,h;for(a=a||.01,n=n||.01,l=0;l<t.length;l++){for(y=t[l],h=0;h<y.starts.length;h++)u=y.starts[h],S(y,u,"edge",a,n);for(f=0;Object.keys(y.crossings).length&&f<1e4;)f++,u=Object.keys(y.crossings)[0].split(",").map(Number),S(y,u,void 0,a,n);f===1e4&&p.log("Infinite loop in contour?")}};function o(r,t,a,n){return Math.abs(r[0]-t[0])<a&&Math.abs(r[1]-t[1])<n}function C(r,t){var a=r[2]-t[2],n=r[3]-t[3];return Math.sqrt(a*a+n*n)}function S(r,t,a,n,f){var u=t.join(","),l=r.crossings[u],y=v(l,a,t),h=[g(r,t,[-y[0],-y[1]])],T=r.z.length,c=r.z[0].length,i=t.slice(),d=y.slice(),x;for(x=0;x<1e4;x++){if(l>20?(l=L.CHOOSESADDLE[l][(y[0]||y[1])<0?0:1],r.crossings[u]=L.SADDLEREMAINDER[l]):delete r.crossings[u],y=L.NEWDELTA[l],!y){p.log("Found bad marching index:",l,t,r.level);break}h.push(g(r,t,y)),t[0]+=y[0],t[1]+=y[1],u=t.join(","),o(h[h.length-1],h[h.length-2],n,f)&&h.pop();var w=y[0]&&(t[0]<0||t[0]>c-2)||y[1]&&(t[1]<0||t[1]>T-2),_=t[0]===i[0]&&t[1]===i[1]&&y[0]===d[0]&&y[1]===d[1];if(_||a&&w)break;l=r.crossings[u]}x===1e4&&p.log("Infinite loop in contour?");var m=o(h[0],h[h.length-1],n,f),E=0,A=.2*r.smoothing,s=[],M=0,b,N,k,H,F,B,U,z,W,j,ee;for(x=1;x<h.length;x++)U=C(h[x],h[x-1]),E+=U,s.push(U);var ie=E/s.length*A;function oe(q){return h[q%h.length]}for(x=h.length-2;x>=M;x--)if(b=s[x],b<ie){for(k=0,N=x-1;N>=M&&b+s[N]<ie;N--)b+=s[N];if(m&&x===h.length-2)for(k=0;k<N&&b+s[k]<ie;k++)b+=s[k];F=x-N+k+1,B=Math.floor((x+N+k+2)/2),!m&&x===h.length-2?H=h[h.length-1]:!m&&N===-1?H=h[0]:F%2?H=oe(B):H=[(oe(B)[0]+oe(B+1)[0])/2,(oe(B)[1]+oe(B+1)[1])/2],h.splice(N+1,x-N+1,H),x=N+1,k&&(M=k),m&&(x===h.length-2?h[k]=h[h.length-1]:x===0&&(h[h.length-1]=h[0]))}for(h.splice(0,M),x=0;x<h.length;x++)h[x].length=2;if(!(h.length<2))if(m)h.pop(),r.paths.push(h);else{a||p.log("Unclosed interior contour?",r.level,i.join(","),h.join("L"));var he=!1;for(z=0;z<r.edgepaths.length;z++)if(j=r.edgepaths[z],!he&&o(j[0],h[h.length-1],n,f)){h.pop(),he=!0;var ne=!1;for(W=0;W<r.edgepaths.length;W++)if(ee=r.edgepaths[W],o(ee[ee.length-1],h[0],n,f)){ne=!0,h.shift(),r.edgepaths.splice(z,1),W===z?r.paths.push(h.concat(ee)):(W>z&&W--,r.edgepaths[W]=ee.concat(h,j));break}ne||(r.edgepaths[z]=h.concat(j))}for(z=0;z<r.edgepaths.length&&!he;z++)j=r.edgepaths[z],o(j[j.length-1],h[0],n,f)&&(h.shift(),r.edgepaths[z]=j.concat(h),he=!0);he||r.edgepaths.push(h)}}function v(r,t,a){var n=0,f=0;return r>20&&t?r===208||r===1114?n=a[0]===0?1:-1:f=a[1]===0?1:-1:L.BOTTOMSTART.indexOf(r)!==-1?f=1:L.LEFTSTART.indexOf(r)!==-1?n=1:L.TOPSTART.indexOf(r)!==-1?f=-1:n=-1,[n,f]}function g(r,t,a){var n=t[0]+Math.max(a[0],0),f=t[1]+Math.max(a[1],0),u=r.z[f][n],l=r.xaxis,y=r.yaxis;if(a[1]){var h=(r.level-u)/(r.z[f][n+1]-u),T=(h!==1?(1-h)*l.c2l(r.x[n]):0)+(h!==0?h*l.c2l(r.x[n+1]):0);return[l.c2p(l.l2c(T),!0),y.c2p(r.y[f],!0),n+h,f]}else{var c=(r.level-u)/(r.z[f+1][n]-u),i=(c!==1?(1-c)*y.c2l(r.y[f]):0)+(c!==0?c*y.c2l(r.y[f+1]):0);return[l.c2p(r.x[n],!0),y.c2p(y.l2c(i),!0),n,f+c]}}},38200:function(V,Y,e){var p=e(76308),L=e(55512);V.exports=function(C,S,v,g,r){r||(r={}),r.isContour=!0;var t=L(C,S,v,g,r);return t&&t.forEach(function(a){var n=a.trace;n.contours.type==="constraint"&&(n.fillcolor&&p.opacity(n.fillcolor)?a.color=p.addOpacity(n.fillcolor,1):n.contours.showlines&&p.opacity(n.line.color)&&(a.color=p.addOpacity(n.line.color,1)))}),t}},66240:function(V,Y,e){V.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(V,Y,e){var p=e(3400);V.exports=function(o,C,S,v){v||(v={});var g=o("contours.showlabels");if(g){var r=C.font;p.coerceFont(o,"contours.labelfont",r,{overrideDflt:{color:S}}),o("contours.labelformat")}v.hasHover!==!1&&o("zhoverformat")}},41076:function(V,Y,e){var p=e(33428),L=e(8932),o=e(46960);V.exports=function(S){var v=S.contours,g=v.start,r=o(v),t=v.size||1,a=Math.floor((r-g)/t)+1,n=v.coloring==="lines"?0:1,f=L.extractOpts(S);isFinite(t)||(t=1,a=1);var u=f.reversescale?L.flipScale(f.colorscale):f.colorscale,l=u.length,y=new Array(l),h=new Array(l),T,c,i=f.min,d=f.max;if(v.coloring==="heatmap"){for(c=0;c<l;c++)T=u[c],y[c]=T[0]*(d-i)+i,h[c]=T[1];var x=p.extent([i,d,v.start,v.start+t*(a-1)]),w=x[i<d?0:1],_=x[i<d?1:0];w!==i&&(y.splice(0,0,w),h.splice(0,0,h[0])),_!==d&&(y.push(_),h.push(h[h.length-1]))}else{var m=S._input&&typeof S._input.zmin=="number"&&typeof S._input.zmax=="number";for(m&&(g<=i||r>=d)&&(g<=i&&(g=i),r>=d&&(r=d),a=Math.floor((r-g)/t)+1,n=0),c=0;c<l;c++)T=u[c],y[c]=(T[0]*(a+n-1)-n/2)*t+g,h[c]=T[1];(m||S.autocontour)&&(y[0]>i&&(y.unshift(i),h.unshift(h[0])),y[y.length-1]<d&&(y.push(d),h.push(h[h.length-1])))}return L.makeColorScaleFunc({domain:y,range:h},{noNumericCheck:!0})}},72424:function(V,Y,e){var p=e(93252);V.exports=function(C){var S=C[0].z,v=S.length,g=S[0].length,r=v===2||g===2,t,a,n,f,u,l,y,h,T;for(a=0;a<v-1;a++)for(f=[],a===0&&(f=f.concat(p.BOTTOMSTART)),a===v-2&&(f=f.concat(p.TOPSTART)),t=0;t<g-1;t++)for(n=f.slice(),t===0&&(n=n.concat(p.LEFTSTART)),t===g-2&&(n=n.concat(p.RIGHTSTART)),u=t+","+a,l=[[S[a][t],S[a][t+1]],[S[a+1][t],S[a+1][t+1]]],T=0;T<C.length;T++)h=C[T],y=L(h.level,l),y&&(h.crossings[u]=y,n.indexOf(y)!==-1&&(h.starts.push([t,a]),r&&n.indexOf(y,n.indexOf(y)+1)!==-1&&h.starts.push([t,a])))};function L(o,C){var S=(C[0][0]>o?0:1)+(C[0][1]>o?0:2)+(C[1][1]>o?0:4)+(C[1][0]>o?0:8);if(S===5||S===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return o>v?S===5?713:1114:S===5?104:208}return S===15?0:S}},23676:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(8932),S=e(72736),v=e(54460),g=e(78344),r=e(41420),t=e(72424),a=e(88748),n=e(61512),f=e(82172),u=e(56008),l=e(93252),y=l.LABELOPTIMIZER;Y.plot=function(m,E,A,s){var M=E.xaxis,b=E.yaxis;L.makeTraceGroups(s,A,"contour").each(function(N){var k=p.select(this),H=N[0],F=H.trace,B=H.x,U=H.y,z=F.contours,W=n(z,E,H),j=L.ensureSingle(k,"g","heatmapcoloring"),ee=[];z.coloring==="heatmap"&&(ee=[N]),r(m,E,ee,j),t(W),a(W);var ie=M.c2p(B[0],!0),oe=M.c2p(B[B.length-1],!0),he=b.c2p(U[0],!0),ne=b.c2p(U[U.length-1],!0),q=[[ie,ne],[oe,ne],[oe,he],[ie,he]],le=W;z.type==="constraint"&&(le=f(W,z._operation)),h(k,q,z),T(k,le,q,z),i(k,W,m,H,z),x(k,E,m,H,q)})};function h(_,m,E){var A=L.ensureSingle(_,"g","contourbg"),s=A.selectAll("path").data(E.coloring==="fill"?[0]:[]);s.enter().append("path"),s.exit().remove(),s.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function T(_,m,E,A){var s=A.coloring==="fill"||A.type==="constraint"&&A._operation!=="=",M="M"+E.join("L")+"Z";s&&u(m,A);var b=L.ensureSingle(_,"g","contourfill"),N=b.selectAll("path").data(s?m:[]);N.enter().append("path"),N.exit().remove(),N.each(function(k){var H=(k.prefixBoundary?M:"")+c(k,E);H?p.select(this).attr("d",H).style("stroke","none"):p.select(this).remove()})}function c(_,m){var E="",A=0,s=_.edgepaths.map(function(ie,oe){return oe}),M=!0,b,N,k,H,F,B;function U(ie){return Math.abs(ie[1]-m[0][1])<.01}function z(ie){return Math.abs(ie[1]-m[2][1])<.01}function W(ie){return Math.abs(ie[0]-m[0][0])<.01}function j(ie){return Math.abs(ie[0]-m[2][0])<.01}for(;s.length;){for(B=o.smoothopen(_.edgepaths[A],_.smoothing),E+=M?B:B.replace(/^M/,"L"),s.splice(s.indexOf(A),1),b=_.edgepaths[A][_.edgepaths[A].length-1],H=-1,k=0;k<4;k++){if(!b){L.log("Missing end?",A,_);break}for(U(b)&&!j(b)?N=m[1]:W(b)?N=m[0]:z(b)?N=m[3]:j(b)&&(N=m[2]),F=0;F<_.edgepaths.length;F++){var ee=_.edgepaths[F][0];Math.abs(b[0]-N[0])<.01?Math.abs(b[0]-ee[0])<.01&&(ee[1]-b[1])*(N[1]-ee[1])>=0&&(N=ee,H=F):Math.abs(b[1]-N[1])<.01?Math.abs(b[1]-ee[1])<.01&&(ee[0]-b[0])*(N[0]-ee[0])>=0&&(N=ee,H=F):L.log("endpt to newendpt is not vert. or horz.",b,N,ee)}if(b=N,H>=0)break;E+="L"+N}if(H===_.edgepaths.length){L.log("unclosed perimeter path");break}A=H,M=s.indexOf(A)===-1,M&&(A=s[0],E+="Z")}for(A=0;A<_.paths.length;A++)E+=o.smoothclosed(_.paths[A],_.smoothing);return E}function i(_,m,E,A,s){var M=E._context.staticPlot,b=L.ensureSingle(_,"g","contourlines"),N=s.showlines!==!1,k=s.showlabels,H=N&&k,F=Y.createLines(b,N||k,m,M),B=Y.createLineClip(b,H,E,A.trace.uid),U=_.selectAll("g.contourlabels").data(k?[0]:[]);if(U.exit().remove(),U.enter().append("g").classed("contourlabels",!0),k){var z=[],W=[];L.clearLocationCache();var j=Y.labelFormatter(E,A),ee=o.tester.append("text").attr("data-notex",1).call(o.font,s.labelfont),ie=m[0].xaxis,oe=m[0].yaxis,he=ie._length,ne=oe._length,q=ie.range,le=oe.range,Q=L.aggNums(Math.min,null,A.x),te=L.aggNums(Math.max,null,A.x),ue=L.aggNums(Math.min,null,A.y),J=L.aggNums(Math.max,null,A.y),K=Math.max(ie.c2p(Q,!0),0),ce=Math.min(ie.c2p(te,!0),he),ae=Math.max(oe.c2p(J,!0),0),de=Math.min(oe.c2p(ue,!0),ne),be={};q[0]<q[1]?(be.left=K,be.right=ce):(be.left=ce,be.right=K),le[0]<le[1]?(be.top=ae,be.bottom=de):(be.top=de,be.bottom=ae),be.middle=(be.top+be.bottom)/2,be.center=(be.left+be.right)/2,z.push([[be.left,be.top],[be.right,be.top],[be.right,be.bottom],[be.left,be.bottom]]);var Se=Math.sqrt(he*he+ne*ne),Te=l.LABELDISTANCE*Se/Math.max(1,m.length/l.LABELINCREASE);F.each(function(Ie){var ke=Y.calcTextOpts(Ie.level,j,ee,E);p.select(this).selectAll("path").each(function(){var Be=this,Me=L.getVisibleSegment(Be,be,ke.height/2);if(Me&&!(Me.len<(ke.width+ke.height)*l.LABELMIN))for(var Oe=Math.min(Math.ceil(Me.len/Te),l.LABELMAX),_e=0;_e<Oe;_e++){var Ne=Y.findBestTextLocation(Be,Me,ke,W,be);if(!Ne)break;Y.addLabelData(Ne,ke,W,z)}})}),ee.remove(),Y.drawLabels(U,W,E,B,H?z:null)}k&&!N&&F.remove()}Y.createLines=function(_,m,E,A){var s=E[0].smoothing,M=_.selectAll("g.contourlevel").data(m?E:[]);if(M.exit().remove(),M.enter().append("g").classed("contourlevel",!0),m){var b=M.selectAll("path.openline").data(function(k){return k.pedgepaths||k.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(k){return o.smoothopen(k,s)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke");var N=M.selectAll("path.closedline").data(function(k){return k.ppaths||k.paths});N.exit().remove(),N.enter().append("path").classed("closedline",!0),N.attr("d",function(k){return o.smoothclosed(k,s)}).style("stroke-miterlimit",1).style("vector-effect",A?"none":"non-scaling-stroke")}return M},Y.createLineClip=function(_,m,E,A){var s=E._fullLayout._clips,M=m?"clipline"+A:null,b=s.selectAll("#"+M).data(m?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",M),o.setClipUrl(_,M,E),b},Y.labelFormatter=function(_,m){var E=_._fullLayout,A=m.trace,s=A.contours,M={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(s.labelformat)M.tickformat=s.labelformat,g(M,E);else{var b=C.extractOpts(A);if(b&&b.colorbar&&b.colorbar._axis)M=b.colorbar._axis;else{if(s.type==="constraint"){var N=s.value;L.isArrayOrTypedArray(N)?M.range=[N[0],N[N.length-1]]:M.range=[N,N]}else M.range=[s.start,s.end],M.nticks=(s.end-s.start)/s.size;M.range[0]===M.range[1]&&(M.range[1]+=M.range[0]||1),M.nticks||(M.nticks=1e3),g(M,E),v.prepTicks(M),M._tmin=null,M._tmax=null}}return function(k){return v.tickText(M,k).text}},Y.calcTextOpts=function(_,m,E,A){var s=m(_);E.text(s).call(S.convertToTspans,A);var M=E.node(),b=o.bBox(M,!0);return{text:s,width:b.width,height:b.height,fontSize:+M.style["font-size"].replace("px",""),level:_,dy:(b.top+b.bottom)/2}},Y.findBestTextLocation=function(_,m,E,A,s){var M=E.width,b,N,k,H,F;m.isClosed?(N=m.len/y.INITIALSEARCHPOINTS,b=m.min+N/2,k=m.max):(N=(m.len-M)/(y.INITIALSEARCHPOINTS+1),b=m.min+N+M/2,k=m.max-(N+M)/2);for(var B=1/0,U=0;U<y.ITERATIONS;U++){for(var z=b;z<k;z+=N){var W=L.getTextLocation(_,m.total,z,M),j=d(W,E,A,s);j<B&&(B=j,F=W,H=z)}if(B>y.MAXCOST*2)break;U&&(N/=2),b=H-N/2,k=b+N*1.5}if(B<=y.MAXCOST)return F};function d(_,m,E,A){var s=m.width/2,M=m.height/2,b=_.x,N=_.y,k=_.theta,H=Math.cos(k)*s,F=Math.sin(k)*s,B=(b>A.center?A.right-b:b-A.left)/(H+Math.abs(Math.sin(k)*M)),U=(N>A.middle?A.bottom-N:N-A.top)/(Math.abs(F)+Math.cos(k)*M);if(B<1||U<1)return 1/0;var z=y.EDGECOST*(1/(B-1)+1/(U-1));z+=y.ANGLECOST*k*k;for(var W=b-H,j=N-F,ee=b+H,ie=N+F,oe=0;oe<E.length;oe++){var he=E[oe],ne=Math.cos(he.theta)*he.width/2,q=Math.sin(he.theta)*he.width/2,le=L.segmentDistance(W,j,ee,ie,he.x-ne,he.y-q,he.x+ne,he.y+q)*2/(m.height+he.height),Q=he.level===m.level,te=Q?y.SAMELEVELDISTANCE:1;if(le<=te)return 1/0;var ue=y.NEIGHBORCOST*(Q?y.SAMELEVELFACTOR:1);z+=ue/(le-te)}return z}Y.addLabelData=function(_,m,E,A){var s=m.fontSize,M=m.width+s/3,b=Math.max(0,m.height-s/3),N=_.x,k=_.y,H=_.theta,F=Math.sin(H),B=Math.cos(H),U=function(W,j){return[N+W*B-j*F,k+W*F+j*B]},z=[U(-M/2,-b/2),U(-M/2,b/2),U(M/2,b/2),U(M/2,-b/2)];E.push({text:m.text,x:N,y:k,dy:m.dy,theta:H,level:m.level,width:M,height:b}),A.push(z)},Y.drawLabels=function(_,m,E,A,s){var M=_.selectAll("text").data(m,function(H){return H.text+","+H.x+","+H.y+","+H.theta});if(M.exit().remove(),M.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(H){var F=H.x+Math.sin(H.theta)*H.dy,B=H.y-Math.cos(H.theta)*H.dy;p.select(this).text(H.text).attr({x:F,y:B,transform:"rotate("+180*H.theta/Math.PI+" "+F+" "+B+")"}).call(S.convertToTspans,E)}),s){for(var b="",N=0;N<s.length;N++)b+="M"+s[N].join("L")+"Z";var k=L.ensureSingle(A,"path","");k.attr("d",b)}};function x(_,m,E,A,s){var M=A.trace,b=E._fullLayout._clips,N="clip"+M.uid,k=b.selectAll("#"+N).data(M.connectgaps?[]:[0]);if(k.enter().append("clipPath").classed("contourclip",!0).attr("id",N),k.exit().remove(),M.connectgaps===!1){var H={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:A.x,y:A.y,z:w(A),smoothing:0};t([H]),a([H]),u([H],{type:"levels"});var F=L.ensureSingle(k,"path","");F.attr("d",(H.prefixBoundary?"M"+s.join("L")+"Z":"")+c(H,s))}else N=null;o.setClipUrl(_,N,E)}function w(_){var m=_.trace._emptypoints,E=[],A=_.z.length,s=_.z[0].length,M,b=[],N;for(M=0;M<s;M++)b.push(1);for(M=0;M<A;M++)E.push(b.slice());for(M=0;M<m.length;M++)N=m[M],E[N[0]][N[1]]=0;return _.zmask=E,E}},54444:function(V,Y,e){var p=e(54460),L=e(3400);V.exports=function(S,v){var g=S.contours;if(S.autocontour){var r=S.zmin,t=S.zmax;(S.zauto||r===void 0)&&(r=L.aggNums(Math.min,null,v)),(S.zauto||t===void 0)&&(t=L.aggNums(Math.max,null,v));var a=o(r,t,S.ncontours);g.size=a.dtick,g.start=p.tickFirst(a),a.range.reverse(),g.end=p.tickFirst(a),g.start===r&&(g.start+=g.size),g.end===t&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),S._input.contours||(S._input.contours={}),L.extendFlat(S._input.contours,{start:g.start,end:g.end,size:g.size}),S._input.autocontour=!0}else if(g.type!=="constraint"){var n=g.start,f=g.end,u=S._input.contours;if(n>f&&(g.start=u.start=f,f=g.end=u.end=n,n=g.start),!(g.size>0)){var l;n===f?l=1:l=o(n,f,S.ncontours).dtick,u.size=g.size=l}}};function o(C,S,v){var g={type:"linear",range:[C,S]};return p.autoTicks(g,(S-C)/(v||15)),g}},52440:function(V,Y,e){var p=e(33428),L=e(43616),o=e(41648),C=e(41076);V.exports=function(v){var g=p.select(v).selectAll("g.contour");g.style("opacity",function(r){return r[0].trace.opacity}),g.each(function(r){var t=p.select(this),a=r[0].trace,n=a.contours,f=a.line,u=n.size||1,l=n.start,y=n.type==="constraint",h=!y&&n.coloring==="lines",T=!y&&n.coloring==="fill",c=h||T?C(a):null;t.selectAll("g.contourlevel").each(function(x){p.select(this).selectAll("path").call(L.lineGroupStyle,f.width,h?c(x.level):f.color,f.dash)});var i=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){L.font(p.select(this),{weight:i.weight,style:i.style,variant:i.variant,textcase:i.textcase,lineposition:i.lineposition,shadow:i.shadow,family:i.family,size:i.size,color:i.color||(h?c(x.level):f.color)})}),y)t.selectAll("g.contourfill path").style("fill",a.fillcolor);else if(T){var d;t.selectAll("g.contourfill path").style("fill",function(x){return d===void 0&&(d=x.level),c(x.level+.5*u)}),d===void 0&&(d=l),t.selectAll("g.contourbg path").style("fill",c(d-.5*u))}}),o(v)}},97680:function(V,Y,e){var p=e(27260),L=e(17428);V.exports=function(C,S,v,g,r){var t=v("contours.coloring"),a,n="";t==="fill"&&(a=v("contours.showlines")),a!==!1&&(t!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),t!=="none"&&(C.showlegend!==!0&&(S.showlegend=!1),S._dfltShowLegend=!1,p(C,S,g,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),L(v,g,n,r)}},37960:function(V,Y,e){var p=e(83328),L=e(67104),o=e(49084),C=e(92880).extendFlat,S=L.contours;V.exports=C({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:S.type,start:S.start,end:S.end,size:S.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:S.showlines,showlabels:S.showlabels,labelfont:S.labelfont,labelformat:S.labelformat,operation:S.operation,value:S.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},zorder:L.zorder,transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},30572:function(V,Y,e){var p=e(47128),L=e(3400),o=e(2872),C=e(26136),S=e(70448),v=e(11240),g=e(35744),r=e(3252),t=e(50948),a=e(54444);V.exports=function(u,l){var y=l._carpetTrace=t(u,l);if(!(!y||!y.visible||y.visible==="legendonly")){if(!l.a||!l.b){var h=u.data[y.index],T=u.data[l.index];T.a||(T.a=h.a),T.b||(T.b=h.b),r(T,l,l._defaultColor,u._fullLayout)}var c=n(u,l);return a(l,l._z),c}};function n(f,u){var l=u._carpetTrace,y=l.aaxis,h=l.baxis,T,c,i,d,x,w,_;y._minDtick=0,h._minDtick=0,L.isArray1D(u.z)&&o(u,y,h,"a","b",["z"]),T=u._a=u._a||u.a,d=u._b=u._b||u.b,T=T?y.makeCalcdata(u,"_a"):[],d=d?h.makeCalcdata(u,"_b"):[],c=u.a0||0,i=u.da||1,x=u.b0||0,w=u.db||1,_=u._z=C(u._z||u.z,u.transpose),u._emptypoints=v(_),S(_,u._emptypoints);var m=L.maxRowLength(_),E=u.xtype==="scaled"?"":T,A=g(u,E,c,i,m,y),s=u.ytype==="scaled"?"":d,M=g(u,s,x,w,_.length,h),b={a:A,b:M,z:_};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&p(f,u,{vals:_,containerStr:"",cLetter:"z"}),[b]}},3252:function(V,Y,e){var p=e(3400),L=e(51264),o=e(37960),C=e(95536),S=e(84952),v=e(97680);V.exports=function(r,t,a,n){function f(h,T){return p.coerce(r,t,o,h,T)}function u(h){return p.coerce2(r,t,o,h)}if(f("carpet"),r.a&&r.b){var l=L(r,t,f,n,"a","b");if(!l){t.visible=!1;return}f("text");var y=f("contours.type")==="constraint";y?C(r,t,f,n,a,{hasHover:!1}):(S(r,t,f,u),v(r,t,f,n,{hasHover:!1}))}else t._defaultColor=a,t._length=null;f("zorder")}},40448:function(V,Y,e){V.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(V,Y,e){var p=e(33428),L=e(87072),o=e(53416),C=e(43616),S=e(3400),v=e(72424),g=e(88748),r=e(23676),t=e(93252),a=e(82172),n=e(61512),f=e(56008),u=e(50948),l=e(77712);V.exports=function(E,A,s,M){var b=A.xaxis,N=A.yaxis;S.makeTraceGroups(M,s,"contour").each(function(k){var H=p.select(this),F=k[0],B=F.trace,U=B._carpetTrace=u(E,B),z=E.calcdata[U.index][0];if(!U.visible||U.visible==="legendonly")return;var W=F.a,j=F.b,ee=B.contours,ie=n(ee,A,F),oe=ee.type==="constraint",he=ee._operation,ne=oe?he==="="?"lines":"fill":ee.coloring;function q(Se){var Te=U.ab2xy(Se[0],Se[1],!0);return[b.c2p(Te[0]),N.c2p(Te[1])]}var le=[[W[0],j[j.length-1]],[W[W.length-1],j[j.length-1]],[W[W.length-1],j[0]],[W[0],j[0]]];v(ie);var Q=(W[W.length-1]-W[0])*1e-8,te=(j[j.length-1]-j[0])*1e-8;g(ie,Q,te);var ue=ie;ee.type==="constraint"&&(ue=a(ie,he)),y(ie,q);var J,K,ce,ae,de=[];for(ae=z.clipsegments.length-1;ae>=0;ae--)J=z.clipsegments[ae],K=L([],J.x,b.c2p),ce=L([],J.y,N.c2p),K.reverse(),ce.reverse(),de.push(o(K,ce,J.bicubic));var be="M"+de.join("L")+"Z";x(H,z.clipsegments,b,N,oe,ne),w(B,H,b,N,ue,le,q,U,z,ne,be),h(H,ie,E,F,ee,A,U),C.setClipUrl(H,U._clipPathId,E)})};function y(m,E){var A,s,M,b,N,k,H,F,B;for(A=0;A<m.length;A++){for(b=m[A],N=b.pedgepaths=[],k=b.ppaths=[],s=0;s<b.edgepaths.length;s++){for(B=b.edgepaths[s],H=[],M=0;M<B.length;M++)H[M]=E(B[M]);N.push(H)}for(s=0;s<b.paths.length;s++){for(B=b.paths[s],F=[],M=0;M<B.length;M++)F[M]=E(B[M]);k.push(F)}}}function h(m,E,A,s,M,b,N){var k=A._context.staticPlot,H=S.ensureSingle(m,"g","contourlines"),F=M.showlines!==!1,B=M.showlabels,U=F&&B,z=r.createLines(H,F||B,E,k),W=r.createLineClip(H,U,A,s.trace.uid),j=m.selectAll("g.contourlabels").data(B?[0]:[]);if(j.exit().remove(),j.enter().append("g").classed("contourlabels",!0),B){var ee=b.xaxis,ie=b.yaxis,oe=ee._length,he=ie._length,ne=[[[0,0],[oe,0],[oe,he],[0,he]]],q=[];S.clearLocationCache();var le=r.labelFormatter(A,s),Q=C.tester.append("text").attr("data-notex",1).call(C.font,M.labelfont),te={left:0,right:oe,center:oe/2,top:0,bottom:he,middle:he/2},ue=Math.sqrt(oe*oe+he*he),J=t.LABELDISTANCE*ue/Math.max(1,E.length/t.LABELINCREASE);z.each(function(K){var ce=r.calcTextOpts(K.level,le,Q,A);p.select(this).selectAll("path").each(function(ae){var de=this,be=S.getVisibleSegment(de,te,ce.height/2);if(be&&(T(de,ae,K,be,N,ce.height),!(be.len<(ce.width+ce.height)*t.LABELMIN)))for(var Se=Math.min(Math.ceil(be.len/J),t.LABELMAX),Te=0;Te<Se;Te++){var Ie=r.findBestTextLocation(de,be,ce,q,te);if(!Ie)break;r.addLabelData(Ie,ce,q,ne)}})}),Q.remove(),r.drawLabels(j,q,A,W,U?ne:null)}B&&!F&&z.remove()}function T(m,E,A,s,M,b){for(var N,k=0;k<A.pedgepaths.length;k++)E===A.pedgepaths[k]&&(N=A.edgepaths[k]);if(!N)return;var H=M.a[0],F=M.a[M.a.length-1],B=M.b[0],U=M.b[M.b.length-1];function z(oe,he){var ne=0,q,le=.1;return(Math.abs(oe[0]-H)<le||Math.abs(oe[0]-F)<le)&&(q=i(M.dxydb_rough(oe[0],oe[1],le)),ne=Math.max(ne,b*d(he,q)/2)),(Math.abs(oe[1]-B)<le||Math.abs(oe[1]-U)<le)&&(q=i(M.dxyda_rough(oe[0],oe[1],le)),ne=Math.max(ne,b*d(he,q)/2)),ne}var W=c(m,0,1),j=c(m,s.total,s.total-1),ee=z(N[0],W),ie=s.total-z(N[N.length-1],j);s.min<ee&&(s.min=ee),s.max>ie&&(s.max=ie),s.len=s.max-s.min}function c(m,E,A){var s=m.getPointAtLength(E),M=m.getPointAtLength(A),b=M.x-s.x,N=M.y-s.y,k=Math.sqrt(b*b+N*N);return[b/k,N/k]}function i(m){var E=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/E,m[1]/E]}function d(m,E){var A=Math.abs(m[0]*E[0]+m[1]*E[1]),s=Math.sqrt(1-A*A);return s/A}function x(m,E,A,s,M,b){var N,k,H,F,B=S.ensureSingle(m,"g","contourbg"),U=B.selectAll("path").data(b==="fill"&&!M?[0]:[]);U.enter().append("path"),U.exit().remove();var z=[];for(F=0;F<E.length;F++)N=E[F],k=L([],N.x,A.c2p),H=L([],N.y,s.c2p),z.push(o(k,H,N.bicubic));U.attr("d","M"+z.join("L")+"Z").style("stroke","none")}function w(m,E,A,s,M,b,N,k,H,F,B){var U=F==="fill";U&&f(M,m.contours);var z=S.ensureSingle(E,"g","contourfill"),W=z.selectAll("path").data(U?M:[]);W.enter().append("path"),W.exit().remove(),W.each(function(j){var ee=(j.prefixBoundary?B:"")+_(m,j,b,N,k,H,A,s);ee?p.select(this).attr("d",ee).style("stroke","none"):p.select(this).remove()})}function _(m,E,A,s,M,b,N,k){var H,F="",B=E.edgepaths.map(function(ce,ae){return ae}),U=!0,z,W,j,ee,ie,oe,he=Math.abs(A[0][0]-A[2][0])*1e-4,ne=Math.abs(A[0][1]-A[2][1])*1e-4;function q(ce){return Math.abs(ce[1]-A[0][1])<ne}function le(ce){return Math.abs(ce[1]-A[2][1])<ne}function Q(ce){return Math.abs(ce[0]-A[0][0])<he}function te(ce){return Math.abs(ce[0]-A[2][0])<he}function ue(ce,ae){var de,be,Se,Te,Ie="";for(q(ce)&&!te(ce)||le(ce)&&!Q(ce)?(Te=M.aaxis,Se=l(M,b,[ce[0],ae[0]],.5*(ce[1]+ae[1]))):(Te=M.baxis,Se=l(M,b,.5*(ce[0]+ae[0]),[ce[1],ae[1]])),de=1;de<Se.length;de++)for(Ie+=Te.smoothing?"C":"L",be=0;be<Se[de].length;be++){var ke=Se[de][be];Ie+=[N.c2p(ke[0]),k.c2p(ke[1])]+" "}return Ie}for(H=0,z=null;B.length;){var J=E.edgepaths[H][0];for(z&&(F+=ue(z,J)),oe=C.smoothopen(E.edgepaths[H].map(s),E.smoothing),F+=U?oe:oe.replace(/^M/,"L"),B.splice(B.indexOf(H),1),z=E.edgepaths[H][E.edgepaths[H].length-1],ee=-1,j=0;j<4;j++){if(!z){S.log("Missing end?",H,E);break}for(q(z)&&!te(z)?W=A[1]:Q(z)?W=A[0]:le(z)?W=A[3]:te(z)&&(W=A[2]),ie=0;ie<E.edgepaths.length;ie++){var K=E.edgepaths[ie][0];Math.abs(z[0]-W[0])<he?Math.abs(z[0]-K[0])<he&&(K[1]-z[1])*(W[1]-K[1])>=0&&(W=K,ee=ie):Math.abs(z[1]-W[1])<ne?Math.abs(z[1]-K[1])<ne&&(K[0]-z[0])*(W[0]-K[0])>=0&&(W=K,ee=ie):S.log("endpt to newendpt is not vert. or horz.",z,W,K)}if(ee>=0)break;F+=ue(z,W),z=W}if(ee===E.edgepaths.length){S.log("unclosed perimeter path");break}H=ee,U=B.indexOf(H)===-1,U&&(H=B[0],F+=ue(z,W)+"Z",z=null)}for(H=0;H<E.paths.length;H++)F+=C.smoothclosed(E.paths[H].map(s),E.smoothing);return F}},33928:function(V,Y,e){var p=e(49084),L=e(21776).Ks,o=e(45464),C=e(31512),S=e(92880).extendFlat;V.exports=S({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:S({},o.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:S({},o.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(V,Y,e){var p=e(38248),L=e(3400).isArrayOrTypedArray,o=e(39032).BADNUM,C=e(47128),S=e(3400)._;V.exports=function(g,r){for(var t=r._length,a=new Array(t),n=r.z,f=L(n)&&n.length,u=0;u<t;u++){var l=a[u]={},y=r.lon[u],h=r.lat[u];if(l.lonlat=p(y)&&p(h)?[+y,+h]:[o,o],f){var T=n[u];l.z=p(T)?T:o}}return C(g,r,{vals:f?n:[0,1],containerStr:"",cLetter:"z"}),t&&(a[0].t={labels:{lat:S(g,"lat:")+" ",lon:S(g,"lon:")+" "}}),a}},4629:function(V,Y,e){var p=e(38248),L=e(3400),o=e(76308),C=e(8932),S=e(39032).BADNUM,v=e(44808).makeBlank;V.exports=function(r){var t=r[0].trace,a=t.visible===!0&&t._length!==0,n={layout:{visibility:"none"},paint:{}},f=t._opts={heatmap:n,geojson:v()};if(!a)return f;var u=[],l,y=t.z,h=t.radius,T=L.isArrayOrTypedArray(y)&&y.length,c=L.isArrayOrTypedArray(h);for(l=0;l<r.length;l++){var i=r[l],d=i.lonlat;if(d[0]!==S){var x={};if(T){var w=i.z;x.z=w!==S?w:0}c&&(x.r=p(h[l])&&h[l]>0?+h[l]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:x})}}var _=C.extractOpts(t),m=_.reversescale?C.flipScale(_.colorscale):_.colorscale,E=m[0][1],A=o.opacity(E)<1?E:o.addOpacity(E,0),s=["interpolate",["linear"],["heatmap-density"],0,A];for(l=1;l<m.length;l++)s.push(m[l][0],m[l][1]);var M=["interpolate",["linear"],["get","z"],_.min,0,_.max,1];return L.extendFlat(f.heatmap.paint,{"heatmap-weight":T?M:1/(_.max-_.min),"heatmap-color":s,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),f.geojson={type:"FeatureCollection",features:u},f.heatmap.layout.visibility="visible",f}},97664:function(V,Y,e){var p=e(3400),L=e(27260),o=e(33928);V.exports=function(S,v,g,r){function t(u,l){return p.coerce(S,v,o,u,l)}var a=t("lon")||[],n=t("lat")||[],f=Math.min(a.length,n.length);if(!f){v.visible=!1;return}v._length=f,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),L(S,v,r,t,{prefix:"",cLetter:"z"})}},96176:function(V){V.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e.z=p.z,e}},25336:function(V,Y,e){var p=e(54460),L=e(63312).hoverPoints,o=e(63312).getExtraText;V.exports=function(S,v,g){var r=L(S,v,g);if(r){var t=r[0],a=t.cd,n=a[0].trace,f=a[t.index];if(delete t.color,"z"in f){var u=t.subplot.mockAxis;t.z=f.z,t.zLabel=p.tickText(u,u.c2l(f.z),"hover").text}return t.extraText=o(n,f,a[0].t.labels),[t]}}},15088:function(V,Y,e){V.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(p,L){for(var o=L.getMapLayers(),C=0;C<o.length;C++){var S=o[C],v=S.id;if(S.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(V,Y,e){var p=e(4629),L=e(47552).traceLayerPrefix;function o(S,v){this.type="densitymapbox",this.subplot=S,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",L+v+"-heatmap"]],this.below=null}var C=o.prototype;C.update=function(S){var v=this.subplot,g=this.layerList,r=p(S),t=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var a=0;a<g.length;a++){var n=g[a],f=n[0],u=n[1],l=r[f];v.setOptions(u,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&v.setOptions(u,"setPaintProperty",l.paint)}},C._addLayers=function(S,v){for(var g=this.subplot,r=this.layerList,t=this.sourceId,a=0;a<r.length;a++){var n=r[a],f=n[0],u=S[f];g.addLayer({type:f,id:n[1],source:t,layout:u.layout,paint:u.paint},v)}},C._removeLayers=function(){for(var S=this.subplot.map,v=this.layerList,g=v.length-1;g>=0;g--)S.removeLayer(v[g][1])},C.dispose=function(){var S=this.subplot.map;this._removeLayers(),S.removeSource(this.sourceId)},V.exports=function(v,g){var r=g[0].trace,t=new o(v,r.uid),a=t.sourceId,n=p(g),f=t.below=v.belowLookup["trace-"+r.uid];return v.map.addSource(a,{type:"geojson",data:n.geojson}),t._addLayers(n,f),t}},74248:function(V,Y,e){var p=e(3400);V.exports=function(o,C){for(var S=0;S<o.length;S++)o[S].i=S;p.mergeArray(C.text,o,"tx"),p.mergeArray(C.hovertext,o,"htx");var v=C.marker;if(v){p.mergeArray(v.opacity,o,"mo"),p.mergeArray(v.color,o,"mc");var g=v.line;g&&(p.mergeArray(g.color,o,"mlc"),p.mergeArrayCastPositive(g.width,o,"mlw"))}}},20088:function(V,Y,e){var p=e(20832),L=e(52904).line,o=e(45464),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,g=e(74732),r=e(92880).extendFlat,t=e(76308);V.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:S({},{keys:g.eventDataKeys}),hoverinfo:r({},o.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),text:p.text,textposition:p.textposition,insidetextanchor:r({},p.insidetextanchor,{dflt:"middle"}),textangle:r({},p.textangle,{dflt:0}),textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:r({},p.orientation,{}),offset:r({},p.offset,{arrayOk:!1}),width:r({},p.width,{arrayOk:!1}),marker:a(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,zorder:p.zorder};function a(){var n=r({},p.marker);return delete n.pattern,delete n.cornerradius,n}},23096:function(V,Y,e){var p=e(54460),L=e(1220),o=e(74248),C=e(4500),S=e(39032).BADNUM;V.exports=function(r,t){var a=p.getFromId(r,t.xaxis||"x"),n=p.getFromId(r,t.yaxis||"y"),f,u,l,y,h,T,c,i;t.orientation==="h"?(f=a.makeCalcdata(t,"x"),l=n.makeCalcdata(t,"y"),y=L(t,n,"y",l),h=!!t.yperiodalignment,T="y"):(f=n.makeCalcdata(t,"y"),l=a.makeCalcdata(t,"x"),y=L(t,a,"x",l),h=!!t.xperiodalignment,T="x"),u=y.vals;var d=Math.min(u.length,f.length),x=new Array(d);for(t._base=[],c=0;c<d;c++){f[c]<0&&(f[c]=S);var w=!1;f[c]!==S&&c+1<d&&f[c+1]!==S&&(w=!0),i=x[c]={p:u[c],s:f[c],cNext:w},t._base[c]=-.5*i.s,h&&(x[c].orig_p=l[c],x[c][T+"End"]=y.ends[c],x[c][T+"Start"]=y.starts[c]),t.ids&&(i.id=String(t.ids[c])),c===0&&(x[0].vTotal=0),x[0].vTotal+=v(i.s),i.begR=v(i.s)/v(x[0].s)}var _;for(c=0;c<d;c++)i=x[c],i.s!==S&&(i.sumR=i.s/x[0].vTotal,i.difR=_!==void 0?i.s/_:1,_=i.s);return o(x,t),C(x,t),x};function v(g){return g===S?0:g}},74732:function(V){V.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(V,Y,e){var p=e(96376).setGroupPositions;V.exports=function(o,C){var S=o._fullLayout,v=o._fullData,g=o.calcdata,r=C.xaxis,t=C.yaxis,a=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var y=v[l],h=y.orientation==="h";y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="funnel"&&(u=g[l],h?f.push(u):n.push(u),a.push(u))}var T={mode:S.funnelmode,norm:S.funnelnorm,gap:S.funnelgap,groupgap:S.funnelgroupgap};for(p(o,r,t,n,T),p(o,t,r,f,T),l=0;l<a.length;l++){u=a[l];for(var c=0;c<u.length;c++)c+1<u.length&&(u[c].nextP0=u[c+1].p0,u[c].nextS0=u[c+1].s0,u[c].nextP1=u[c+1].p1,u[c].nextS1=u[c+1].s1)}}},45432:function(V,Y,e){var p=e(3400),L=e(20011),o=e(31508).handleText,C=e(43980),S=e(31147),v=e(20088),g=e(76308);function r(n,f,u,l){function y(w,_){return p.coerce(n,f,v,w,_)}var h=C(n,f,l,y);if(!h){f.visible=!1;return}S(n,f,l,y),y("xhoverformat"),y("yhoverformat"),y("orientation",f.y&&!f.x?"v":"h"),y("offset"),y("width");var T=y("text");y("hovertext"),y("hovertemplate");var c=y("textposition");o(n,f,l,y,c,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&!f.texttemplate&&y("textinfo",p.isArrayOrTypedArray(T)?"text+value":"value");var i=y("marker.color",u);y("marker.line.color",g.defaultLine),y("marker.line.width");var d=y("connector.visible");if(d){y("connector.fillcolor",t(i));var x=y("connector.line.width");x&&(y("connector.line.color"),y("connector.line.dash"))}y("zorder")}function t(n){var f=p.isArrayOrTypedArray(n)?"#000":n;return g.addOpacity(f,.5*g.opacity(f))}function a(n,f){var u,l;function y(T){return p.coerce(l._input,l,v,T)}if(f.funnelmode==="group")for(var h=0;h<n.length;h++)l=n[h],u=l._input,L(u,l,f,y)}V.exports={supplyDefaults:r,crossTraceDefaults:a}},34580:function(V){V.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"percentInitial"in p&&(e.percentInitial=p.percentInitial),"percentPrevious"in p&&(e.percentPrevious=p.percentPrevious),"percentTotal"in p&&(e.percentTotal=p.percentTotal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},31488:function(V,Y,e){var p=e(76308).opacity,L=e(63400).hoverOnBars,o=e(3400).formatPercent;V.exports=function(v,g,r,t,a){var n=L(v,g,r,t,a);if(n){var f=n.cd,u=f[0].trace,l=u.orientation==="h",y=n.index,h=f[y],T=l?"x":"y";n[T+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=o(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=o(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=o(h.sumR,1);var c=h.hi||u.hoverinfo,i=[];if(c&&c!=="none"&&c!=="skip"){var d=c==="all",x=c.split("+"),w=function(_){return d||x.indexOf(_)!==-1};w("percent initial")&&i.push(n.percentInitialLabel+" of initial"),w("percent previous")&&i.push(n.percentPreviousLabel+" of previous"),w("percent total")&&i.push(n.percentTotalLabel+" of total")}return n.extraText=i.join("<br>"),n.color=C(u,h),[n]}};function C(S,v){var g=S.marker,r=v.mc||g.color,t=v.mlc||g.line.color,a=v.mlw||g.line.width;if(p(r))return r;if(p(t)&&a)return t}},94704:function(V,Y,e){V.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(V){V.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(V,Y,e){var p=e(3400),L=e(7076);V.exports=function(o,C,S){var v=!1;function g(a,n){return p.coerce(o,C,L,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="funnel"){v=!0;break}}v&&(g("funnelmode"),g("funnelgap",.2),g("funnelgroupgap"))}},42200:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;V.exports=function(n,f,u,l){var y=n._fullLayout;v("funnel",y),g(n,f,u,l),r(n,f,u,l),S.plot(n,f,u,l,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function g(a,n,f,u){var l=n.xaxis,y=n.yaxis;L.makeTraceGroups(u,f,"trace bars").each(function(h){var T=p.select(this),c=h[0].trace,i=L.ensureSingle(T,"g","regions");if(!c.connector||!c.connector.visible){i.remove();return}var d=c.orientation==="h",x=i.selectAll("g.region").data(L.identity);x.enter().append("g").classed("region",!0),x.exit().remove();var w=x.size();x.each(function(_,m){if(!(m!==w-1&&!_.cNext)){var E=t(_,l,y,d),A=E[0],s=E[1],M="";A[0]!==C&&s[0]!==C&&A[1]!==C&&s[1]!==C&&A[2]!==C&&s[2]!==C&&A[3]!==C&&s[3]!==C&&(d?M+="M"+A[0]+","+s[1]+"L"+A[2]+","+s[2]+"H"+A[3]+"L"+A[1]+","+s[1]+"Z":M+="M"+A[1]+","+s[1]+"L"+A[2]+","+s[3]+"V"+s[2]+"L"+A[1]+","+s[0]+"Z"),M===""&&(M="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",M).call(o.setClipUrl,n.layerClipId,a)}})})}function r(a,n,f,u){var l=n.xaxis,y=n.yaxis;L.makeTraceGroups(u,f,"trace bars").each(function(h){var T=p.select(this),c=h[0].trace,i=L.ensureSingle(T,"g","lines");if(!c.connector||!c.connector.visible||!c.connector.line.width){i.remove();return}var d=c.orientation==="h",x=i.selectAll("g.line").data(L.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(_,m){if(!(m!==w-1&&!_.cNext)){var E=t(_,l,y,d),A=E[0],s=E[1],M="";A[3]!==void 0&&s[3]!==void 0&&(d?(M+="M"+A[0]+","+s[1]+"L"+A[2]+","+s[2],M+="M"+A[1]+","+s[1]+"L"+A[3]+","+s[2]):(M+="M"+A[1]+","+s[1]+"L"+A[2]+","+s[3],M+="M"+A[1]+","+s[0]+"L"+A[2]+","+s[2])),M===""&&(M="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",M).call(o.setClipUrl,n.layerClipId,a)}})})}function t(a,n,f,u){var l=[],y=[],h=u?n:f,T=u?f:n;return l[0]=h.c2p(a.s0,!0),y[0]=T.c2p(a.p0,!0),l[1]=h.c2p(a.s1,!0),y[1]=T.c2p(a.p1,!0),l[2]=h.c2p(a.nextS0,!0),y[2]=T.c2p(a.nextP0,!0),l[3]=h.c2p(a.nextS1,!0),y[3]=T.c2p(a.nextP1,!0),u?[l,y]:[y,l]}},44544:function(V,Y,e){var p=e(33428),L=e(43616),o=e(76308),C=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,g=S.styleTextPoints;function r(t,a,n){var f=n||p.select(t).selectAll('g[class^="funnellayer"]').selectAll("g.trace");v(t,f,"funnel"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=p.select(this),y=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=y.marker;p.select(this).call(o.fill,h.mc||T.color).call(o.stroke,h.mlc||T.line.color).call(L.dashLine,T.line.dash,h.mlw||T.line.width).style("opacity",y.selectedpoints&&!h.selected?C:1)}}),g(l,y,t),l.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(o.fill,y.connector.fillcolor)}),l.selectAll(".lines").each(function(){var h=y.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}V.exports={style:r}},22332:function(V,Y,e){var p=e(74996),L=e(45464),o=e(86968).u,C=e(21776).Ks,S=e(21776).Gw,v=e(92880).extendFlat;V.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:v({},p.marker.line.color,{dflt:null}),width:v({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:p.marker.pattern,editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:v({},p.scalegroup,{}),textinfo:v({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:S({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:v({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:o({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(V,Y,e){var p=e(7316);Y.name="funnelarea",Y.plot=function(L,o,C,S){p.plotBasePlot(Y.name,L,o,C,S)},Y.clean=function(L,o,C,S){p.cleanBasePlot(Y.name,L,o,C,S)}},54e3:function(V,Y,e){var p=e(45768);function L(C,S){return p.calc(C,S)}function o(C){p.crossTraceCalc(C,{type:"funnelarea"})}V.exports={calc:L,crossTraceCalc:o}},92688:function(V,Y,e){var p=e(3400),L=e(22332),o=e(86968).Q,C=e(31508).handleText,S=e(74174).handleLabelsAndValues,v=e(74174).handleMarkerDefaults;V.exports=function(r,t,a,n){function f(w,_){return p.coerce(r,t,L,w,_)}var u=f("labels"),l=f("values"),y=S(u,l),h=y.len;if(t._hasLabels=y.hasLabels,t._hasValues=y.hasValues,!t._hasLabels&&t._hasValues&&(f("label0"),f("dlabel")),!h){t.visible=!1;return}t._length=h,v(r,t,n,f),f("scalegroup");var T=f("text"),c=f("texttemplate"),i;if(c||(i=f("textinfo",Array.isArray(T)?"text+percent":"percent")),f("hovertext"),f("hovertemplate"),c||i&&i!=="none"){var d=f("textposition");C(r,t,n,f,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}else i==="none"&&f("textposition","none");o(t,n,f);var x=f("title.text");x&&(f("title.position"),p.coerceFont(f,"title.font",n.font)),f("aspectratio"),f("baseratio")}},62396:function(V,Y,e){V.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(V,Y,e){var p=e(85204).hiddenlabels;V.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(V,Y,e){var p=e(3400),L=e(61280);V.exports=function(C,S){function v(g,r){return p.coerce(C,S,L,g,r)}v("hiddenlabels"),v("funnelareacolorway",S.colorway),v("extendfunnelareacolors")}},39472:function(V,Y,e){var p=e(33428),L=e(43616),o=e(3400),C=o.strScale,S=o.strTranslate,v=e(72736),g=e(98184),r=g.toMoveInsideBar,t=e(82744),a=t.recordMinTextSize,n=t.clearMinTextSize,f=e(69656),u=e(37820),l=u.attachFxHandlers,y=u.determineInsideTextFont,h=u.layoutAreas,T=u.prerenderTitles,c=u.positionTitleOutside,i=u.formatSliceLabel;V.exports=function(m,E){var A=m._context.staticPlot,s=m._fullLayout;n("funnelarea",s),T(E,m),h(E,s._size),o.makeTraceGroups(s._funnelarealayer,E,"trace").each(function(M){var b=p.select(this),N=M[0],k=N.trace;w(M),b.each(function(){var H=p.select(this).selectAll("g.slice").data(M);H.enter().append("g").classed("slice",!0),H.exit().remove(),H.each(function(B,U){if(B.hidden){p.select(this).selectAll("path,g").remove();return}B.pointNumber=B.i,B.curveNumber=k.index;var z=N.cx,W=N.cy,j=p.select(this),ee=j.selectAll("path.surface").data([B]);ee.enter().append("path").classed("surface",!0).style({"pointer-events":A?"none":"all"}),j.call(l,m,M);var ie="M"+(z+B.TR[0])+","+(W+B.TR[1])+d(B.TR,B.BR)+d(B.BR,B.BL)+d(B.BL,B.TL)+"Z";ee.attr("d",ie),i(m,B,N);var oe=f.castOption(k.textposition,B.pts),he=j.selectAll("g.slicetext").data(B.text&&oe!=="none"?[0]:[]);he.enter().append("g").classed("slicetext",!0),he.exit().remove(),he.each(function(){var ne=o.ensureSingle(p.select(this),"text","",function(ce){ce.attr("data-notex",1)}),q=o.ensureUniformFontSize(m,y(k,B,s.font));ne.text(B.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,q).call(v.convertToTspans,m);var le=L.bBox(ne.node()),Q,te,ue,J=Math.min(B.BL[1],B.BR[1])+W,K=Math.max(B.TL[1],B.TR[1])+W;te=Math.max(B.TL[0],B.BL[0])+z,ue=Math.min(B.TR[0],B.BR[0])+z,Q=r(te,ue,J,K,le,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),Q.fontSize=q.size,a(k.type,Q,s),M[U].transform=Q,o.setTransormAndDisplay(ne,Q)})});var F=p.select(this).selectAll("g.titletext").data(k.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var B=o.ensureSingle(p.select(this),"text","",function(W){W.attr("data-notex",1)}),U=k.title.text;k._meta&&(U=o.templateString(U,k._meta)),B.text(U).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,k.title.font).call(v.convertToTspans,m);var z=c(N,s._size);B.attr("transform",S(z.x,z.y)+C(Math.min(1,z.scale))+S(z.tx,z.ty))})})})};function d(_,m){var E=m[0]-_[0],A=m[1]-_[1];return"l"+E+","+A}function x(_,m){return[.5*(_[0]+m[0]),.5*(_[1]+m[1])]}function w(_){if(!_.length)return;var m=_[0],E=m.trace,A=E.aspectratio,s=E.baseratio;s>.999&&(s=.999);var M=Math.pow(s,2),b=m.vTotal,N=b*M/(1-M),k=b,H=N/b;function F(){var ae=Math.sqrt(H);return{x:ae,y:-ae}}function B(){var ae=F();return[ae.x,ae.y]}var U,z=[];z.push(B());var W,j;for(W=_.length-1;W>-1;W--)if(j=_[W],!j.hidden){var ee=j.v/k;H+=ee,z.push(B())}var ie=1/0,oe=-1/0;for(W=0;W<z.length;W++)U=z[W],ie=Math.min(ie,U[1]),oe=Math.max(oe,U[1]);for(W=0;W<z.length;W++)z[W][1]-=(oe+ie)/2;var he=z[z.length-1][0],ne=m.r,q=(oe-ie)/2,le=ne/he,Q=ne/q*A;for(m.r=Q*q,W=0;W<z.length;W++)z[W][0]*=le,z[W][1]*=Q;U=z[0];var te=[-U[0],U[1]],ue=[U[0],U[1]],J=0;for(W=_.length-1;W>-1;W--)if(j=_[W],!j.hidden){J+=1;var K=z[J][0],ce=z[J][1];j.TL=[-K,ce],j.TR=[K,ce],j.BL=te,j.BR=ue,j.pxmid=x(j.TR,j.BR),te=j.TL,ue=j.TR}}},62096:function(V,Y,e){var p=e(33428),L=e(10528),o=e(82744).resizeText;V.exports=function(S){var v=S._fullLayout._funnelarealayer.selectAll(".trace");o(S,v,"funnelarea"),v.each(function(g){var r=g[0],t=r.trace,a=p.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){p.select(this).call(L,n,t,S)})})}},83328:function(V,Y,e){var p=e(52904),L=e(45464),o=e(25376),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,g=e(49084),r=e(92880).extendFlat;V.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},p.x,{impliedEdits:{xtype:"array"}}),x0:r({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},p.y,{impliedEdits:{ytype:"array"}}),y0:r({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:S(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:o({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},L.showlegend,{dflt:!1}),zorder:p.zorder},{transforms:void 0},g("",{cLetter:"z",autoColorDflt:!1}))},19512:function(V,Y,e){var p=e(24040),L=e(3400),o=e(54460),C=e(1220),S=e(55480),v=e(47128),g=e(2872),r=e(26136),t=e(70448),a=e(11240),n=e(35744),f=e(39032).BADNUM;V.exports=function(h,T){var c=o.getFromId(h,T.xaxis||"x"),i=o.getFromId(h,T.yaxis||"y"),d=p.traceIs(T,"contour"),x=p.traceIs(T,"histogram"),w=p.traceIs(T,"gl2d"),_=d?"best":T.zsmooth,m,E,A,s,M,b,N,k,H,F,B;if(c._minDtick=0,i._minDtick=0,x)B=S(h,T),s=B.orig_x,m=B.x,E=B.x0,A=B.dx,k=B.orig_y,M=B.y,b=B.y0,N=B.dy,H=B.z;else{var U=T.z;L.isArray1D(U)?(g(T,c,i,"x","y",["z"]),m=T._x,M=T._y,U=T._z):(s=T.x?c.makeCalcdata(T,"x"):[],k=T.y?i.makeCalcdata(T,"y"):[],m=C(T,c,"x",s).vals,M=C(T,i,"y",k).vals,T._x=m,T._y=M),E=T.x0,A=T.dx,b=T.y0,N=T.dy,H=r(U,T,c,i)}(c.rangebreaks||i.rangebreaks)&&(H=l(m,M,H),x||(m=u(m),M=u(M),T._x=m,T._y=M)),!x&&(d||T.connectgaps)&&(T._emptypoints=a(H),t(H,T._emptypoints));function z(le){_=T._input.zsmooth=T.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+le)}function W(le){if(le.length>1){var Q=(le[le.length-1]-le[0])/(le.length-1),te=Math.abs(Q/100);for(F=0;F<le.length-1;F++)if(Math.abs(le[F+1]-le[F]-Q)>te)return!1}return!0}T._islinear=!1,c.type==="log"||i.type==="log"?_==="fast"&&z("log axis found"):W(m)?W(M)?T._islinear=!0:_==="fast"&&z("y scale is not linear"):_==="fast"&&z("x scale is not linear");var j=L.maxRowLength(H),ee=T.xtype==="scaled"?"":m,ie=n(T,ee,E,A,j,c),oe=T.ytype==="scaled"?"":M,he=n(T,oe,b,N,H.length,i);w||(T._extremes[c._id]=o.findExtremes(c,ie),T._extremes[i._id]=o.findExtremes(i,he));var ne={x:ie,y:he,z:H,text:T._text||T.text,hovertext:T._hovertext||T.hovertext};if(T.xperiodalignment&&s&&(ne.orig_x=s),T.yperiodalignment&&k&&(ne.orig_y=k),ee&&ee.length===ie.length-1&&(ne.xCenter=ee),oe&&oe.length===he.length-1&&(ne.yCenter=oe),x&&(ne.xRanges=B.xRanges,ne.yRanges=B.yRanges,ne.pts=B.pts),d||v(h,T,{vals:H,cLetter:"z"}),d&&T.contours&&T.contours.coloring==="heatmap"){var q={type:T.type==="contour"?"heatmap":"histogram2d",xcalendar:T.xcalendar,ycalendar:T.ycalendar};ne.xfill=n(q,ee,E,A,j,c),ne.yfill=n(q,oe,b,N,H.length,i)}return[ne]};function u(y){for(var h=[],T=y.length,c=0;c<T;c++){var i=y[c];i!==f&&h.push(i)}return h}function l(y,h,T){for(var c=[],i=-1,d=0;d<T.length;d++)if(h[d]!==f){i++,c[i]=[];for(var x=0;x<T[d].length;x++)y[x]!==f&&c[i].push(T[d][x])}return c}},26136:function(V,Y,e){var p=e(38248),L=e(3400),o=e(39032).BADNUM;V.exports=function(S,v,g,r){var t,a,n,f,u,l;function y(x){if(p(x))return+x}if(v&&v.transpose){for(t=0,u=0;u<S.length;u++)t=Math.max(t,S[u].length);if(t===0)return!1;n=function(x){return x.length},f=function(x,w,_){return(x[_]||[])[w]}}else t=S.length,n=function(x,w){return x[w].length},f=function(x,w,_){return(x[w]||[])[_]};var h=function(x,w,_){return w===o||_===o?o:f(x,w,_)};function T(x){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&x&&x.type==="category"&&v["_"+x._id.charAt(0)].length){var w=x._id.charAt(0),_={},m=v["_"+w+"CategoryMap"]||v[w];for(u=0;u<m.length;u++)_[m[u]]=u;return function(E){var A=_[x._categories[E]];return A+1?A:o}}else return L.identity}var c=T(g),i=T(r);r&&r.type==="category"&&(t=r._categories.length);var d=new Array(t);for(u=0;u<t;u++)for(g&&g.type==="category"?a=g._categories.length:a=n(S,u),d[u]=new Array(a),l=0;l<a;l++)d[u][l]=y(h(S,i(u),c(l)));return d}},96288:function(V){V.exports={min:"zmin",max:"zmax"}},2872:function(V,Y,e){var p=e(3400),L=e(39032).BADNUM,o=e(1220);V.exports=function(S,v,g,r,t,a){var n=S._length,f=v.makeCalcdata(S,r),u=g.makeCalcdata(S,t);f=o(S,v,r,f).vals,u=o(S,g,t,u).vals;var l=S.text,y=l!==void 0&&p.isArray1D(l),h=S.hovertext,T=h!==void 0&&p.isArray1D(h),c,i,d=p.distinctVals(f),x=d.vals,w=p.distinctVals(u),_=w.vals,m=[],E,A,s=_.length,M=x.length;for(c=0;c<a.length;c++)m[c]=p.init2dArray(s,M);y&&(E=p.init2dArray(s,M)),T&&(A=p.init2dArray(s,M));var b=p.init2dArray(s,M);for(c=0;c<n;c++)if(f[c]!==L&&u[c]!==L){var N=p.findBin(f[c]+d.minDiff/2,x),k=p.findBin(u[c]+w.minDiff/2,_);for(i=0;i<a.length;i++){var H=a[i],F=S[H],B=m[i];B[k][N]=F[c],b[k][N]=c}y&&(E[k][N]=l[c]),T&&(A[k][N]=h[c])}for(S["_"+r]=x,S["_"+t]=_,i=0;i<a.length;i++)S["_"+a[i]]=m[i];y&&(S._text=E),T&&(S._hovertext=A),v&&v.type==="category"&&(S["_"+r+"CategoryMap"]=x.map(function(U){return v._categories[U]})),g&&g.type==="category"&&(S["_"+t+"CategoryMap"]=_.map(function(U){return g._categories[U]})),S._after2before=b}},24480:function(V,Y,e){var p=e(3400),L=e(51264),o=e(39096),C=e(31147),S=e(82748),v=e(27260),g=e(83328);V.exports=function(t,a,n,f){function u(y,h){return p.coerce(t,a,g,y,h)}var l=L(t,a,u,f);if(!l){a.visible=!1;return}C(t,a,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),o(u,f),S(t,a,u,f),u("hoverongaps"),u("connectgaps",p.isArray1D(a.z)&&a.zsmooth!==!1),v(t,a,f,u,{prefix:"",cLetter:"z"}),u("zorder")}},11240:function(V,Y,e){var p=e(3400).maxRowLength;V.exports=function(o){var C=[],S={},v=[],g=o[0],r=[],t=[0,0,0],a=p(o),n,f,u,l,y,h,T,c;for(f=0;f<o.length;f++)for(n=r,r=g,g=o[f+1]||[],u=0;u<a;u++)r[u]===void 0&&(h=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(n[u]!==void 0?1:0)+(g[u]!==void 0?1:0),h?(f===0&&h++,u===0&&h++,f===o.length-1&&h++,u===r.length-1&&h++,h<4&&(S[[f,u]]=[f,u,h]),C.push([f,u,h])):v.push([f,u]));for(;v.length;){for(T={},c=!1,y=v.length-1;y>=0;y--)l=v[y],f=l[0],u=l[1],h=((S[[f-1,u]]||t)[2]+(S[[f+1,u]]||t)[2]+(S[[f,u-1]]||t)[2]+(S[[f,u+1]]||t)[2])/20,h&&(T[l]=[f,u,h],v.splice(y,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(l in T)S[l]=T[l],C.push(T[l])}return C.sort(function(i,d){return d[2]-i[2]})}},55512:function(V,Y,e){var p=e(93024),L=e(3400),o=L.isArrayOrTypedArray,C=e(54460),S=e(8932).extractOpts;V.exports=function(g,r,t,a,n){n||(n={});var f=n.isContour,u=g.cd[0],l=u.trace,y=g.xa,h=g.ya,T=u.x,c=u.y,i=u.z,d=u.xCenter,x=u.yCenter,w=u.zmask,_=l.zhoverformat,m=T,E=c,A,s,M,b;if(g.index!==!1){try{M=Math.round(g.index[1]),b=Math.round(g.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",g.index);return}if(M<0||M>=i[0].length||b<0||b>i.length)return}else{if(p.inbox(r-T[0],r-T[T.length-1],0)>0||p.inbox(t-c[0],t-c[c.length-1],0)>0)return;if(f){var N;for(m=[2*T[0]-T[1]],N=1;N<T.length;N++)m.push((T[N]+T[N-1])/2);for(m.push([2*T[T.length-1]-T[T.length-2]]),E=[2*c[0]-c[1]],N=1;N<c.length;N++)E.push((c[N]+c[N-1])/2);E.push([2*c[c.length-1]-c[c.length-2]])}M=Math.max(0,Math.min(m.length-2,L.findBin(r,m))),b=Math.max(0,Math.min(E.length-2,L.findBin(t,E)))}var k=y.c2p(T[M]),H=y.c2p(T[M+1]),F=h.c2p(c[b]),B=h.c2p(c[b+1]),U,z;f?(U=u.orig_x||T,z=u.orig_y||c,H=k,A=U[M],B=F,s=z[b]):(U=u.orig_x||d||T,z=u.orig_y||x||c,A=d?U[M]:(U[M]+U[M+1])/2,s=x?z[b]:(z[b]+z[b+1])/2,y&&y.type==="category"&&(A=T[M]),h&&h.type==="category"&&(s=c[b]),l.zsmooth&&(k=H=y.c2p(A),F=B=h.c2p(s)));var W=i[b][M];if(w&&!w[b][M]&&(W=void 0),!(W===void 0&&!l.hoverongaps)){var j;o(u.hovertext)&&o(u.hovertext[b])?j=u.hovertext[b][M]:o(u.text)&&o(u.text[b])&&(j=u.text[b][M]);var ee=S(l),ie={type:"linear",range:[ee.min,ee.max],hoverformat:_,_separators:y._separators,_numFormat:y._numFormat},oe=C.tickText(ie,W,"hover").text;return[L.extendFlat(g,{index:l._after2before?l._after2before[b][M]:[b,M],distance:g.maxHoverDistance,spikeDistance:g.maxSpikeDistance,x0:k,x1:H,y0:F,y1:B,xLabelVal:A,yLabelVal:s,zLabelVal:W,zLabel:oe,text:j})]}}},81932:function(V,Y,e){V.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(V,Y,e){var p=e(3400),L=.01,o=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}V.exports=function(g,r){var t=1,a;for(S(g,r),a=0;a<r.length&&!(r[a][2]<4);a++);for(r=r.slice(a),a=0;a<100&&t>L;a++)t=S(g,r,C(t));return t>L&&p.log("interp2d didn't converge quickly",t),g};function S(v,g,r){var t=0,a,n,f,u,l,y,h,T,c,i,d,x,w;for(u=0;u<g.length;u++){for(a=g[u],n=a[0],f=a[1],d=v[n][f],i=0,c=0,l=0;l<4;l++)y=o[l],h=v[n+y[0]],h&&(T=h[f+y[1]],T!==void 0&&(i===0?x=w=T:(x=Math.min(x,T),w=Math.max(w,T)),c++,i+=T));if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][f]=i/c,d===void 0?c<4&&(t=1):(v[n][f]=(1+r)*v[n][f]-r*d,w>x&&(t=Math.max(t,Math.abs(v[n][f]-d)/(w-x))))}return t}},39096:function(V,Y,e){var p=e(3400);V.exports=function(o,C){o("texttemplate");var S=p.extendFlat({},C.font,{color:"auto",size:"auto"});p.coerceFont(o,"textfont",S)}},35744:function(V,Y,e){var p=e(24040),L=e(3400).isArrayOrTypedArray;V.exports=function(C,S,v,g,r,t){var a=[],n=p.traceIs(C,"contour"),f=p.traceIs(C,"histogram"),u=p.traceIs(C,"gl2d"),l,y,h,T=L(S)&&S.length>1;if(T&&!f&&t.type!=="category"){var c=S.length;if(c<=r){if(n||u)a=Array.from(S).slice(0,r);else if(r===1)t.type==="log"?a=[.5*S[0],2*S[0]]:a=[S[0]-.5,S[0]+.5];else if(t.type==="log"){for(a=[Math.pow(S[0],1.5)/Math.pow(S[1],.5)],h=1;h<c;h++)a.push(Math.sqrt(S[h-1]*S[h]));a.push(Math.pow(S[c-1],1.5)/Math.pow(S[c-2],.5))}else{for(a=[1.5*S[0]-.5*S[1]],h=1;h<c;h++)a.push((S[h-1]+S[h])*.5);a.push(1.5*S[c-1]-.5*S[c-2])}if(c<r){var i=a[a.length-1],d;if(t.type==="log")for(d=i/a[a.length-2],h=c;h<r;h++)i*=d,a.push(i);else for(d=i-a[a.length-2],h=c;h<r;h++)i+=d,a.push(i)}}else return n?S.slice(0,r):S.slice(0,r+1)}else{var x=C[t._id.charAt(0)+"calendar"];if(f)l=t.r2c(v,0,x);else if(L(S)&&S.length===1)l=S[0];else if(v===void 0)l=0;else{var w=t.type==="log"?t.d2c:t.r2c;l=w(v,0,x)}for(y=g||1,h=n||u?0:-.5;h<r;h++)a.push(l+y*h)}return a}},41420:function(V,Y,e){var p=e(33428),L=e(49760),o=e(24040),C=e(43616),S=e(54460),v=e(3400),g=e(72736),r=e(76688),t=e(76308),a=e(8932).extractOpts,n=e(8932).makeColorScaleFuncFromTrace,f=e(9616),u=e(84284),l=u.LINE_SPACING,y=e(9188),h=e(2264).STYLE,T="heatmap-label";function c(_){return _.selectAll("g."+T)}function i(_){c(_).remove()}V.exports=function(_,m,E,A){var s=m.xaxis,M=m.yaxis;v.makeTraceGroups(A,E,"hm").each(function(b){var N=p.select(this),k=b[0],H=k.trace,F=H.xgap||0,B=H.ygap||0,U=k.z,z=k.x,W=k.y,j=k.xCenter,ee=k.yCenter,ie=o.traceIs(H,"contour"),oe=ie?"best":H.zsmooth,he=U.length,ne=v.maxRowLength(U),q=!1,le=!1,Q,te,ue,J,K,ce,ae,de;for(ce=0;Q===void 0&&ce<z.length-1;)Q=s.c2p(z[ce]),ce++;for(ce=z.length-1;te===void 0&&ce>0;)te=s.c2p(z[ce]),ce--;for(te<Q&&(ue=te,te=Q,Q=ue,q=!0),ce=0;J===void 0&&ce<W.length-1;)J=M.c2p(W[ce]),ce++;for(ce=W.length-1;K===void 0&&ce>0;)K=M.c2p(W[ce]),ce--;K<J&&(ue=J,J=K,K=ue,le=!0),ie&&(j=z,ee=W,z=k.xfill,W=k.yfill);var be="default";if(oe?be=oe==="best"?"smooth":"fast":H._islinear&&F===0&&B===0&&y()&&(be="fast"),be!=="fast"){var Se=oe==="best"?0:.5;Q=Math.max(-Se*s._length,Q),te=Math.min((1+Se)*s._length,te),J=Math.max(-Se*M._length,J),K=Math.min((1+Se)*M._length,K)}var Te=Math.round(te-Q),Ie=Math.round(K-J),ke=Q>=s._length||te<=0||J>=M._length||K<=0;if(ke){var Be=N.selectAll("image").data([]);Be.exit().remove(),i(N);return}var Me,Oe;be==="fast"?(Me=ne,Oe=he):(Me=Te,Oe=Ie);var _e=document.createElement("canvas");_e.width=Me,_e.height=Oe;var Ne=_e.getContext("2d",{willReadFrequently:!0}),Ce=n(H,{noNumericCheck:!0,returnArray:!0}),Ye,rt;be==="fast"?(Ye=q?function(Fr){return ne-1-Fr}:v.identity,rt=le?function(Fr){return he-1-Fr}:v.identity):(Ye=function(Fr){return v.constrain(Math.round(s.c2p(z[Fr])-Q),0,Te)},rt=function(Fr){return v.constrain(Math.round(M.c2p(W[Fr])-J),0,Ie)});var ot=rt(0),$e=[ot,ot],qe=q?0:1,ht=le?0:1,vt=0,pt=0,wt=0,Mt=0,nt,Fe,We,Ze,Ge;function Pe(Fr,cn){if(Fr!==void 0){var vn=Ce(Fr);return vn[0]=Math.round(vn[0]),vn[1]=Math.round(vn[1]),vn[2]=Math.round(vn[2]),vt+=cn,pt+=vn[0]*cn,wt+=vn[1]*cn,Mt+=vn[2]*cn,vn}return[0,0,0,0]}function Re(Fr,cn,vn,Cn){var Rn=Fr[vn.bin0];if(Rn===void 0)return Pe(void 0,1);var Gn=Fr[vn.bin1],ua=cn[vn.bin0],wa=cn[vn.bin1],Ma=Gn-Rn||0,Zn=ua-Rn||0,ea;return Gn===void 0?wa===void 0?ea=0:ua===void 0?ea=2*(wa-Rn):ea=(2*wa-ua-Rn)*2/3:wa===void 0?ua===void 0?ea=0:ea=(2*Rn-Gn-ua)*2/3:ua===void 0?ea=(2*wa-Gn-Rn)*2/3:ea=wa+Rn-Gn-ua,Pe(Rn+vn.frac*Ma+Cn.frac*(Zn+vn.frac*ea))}if(be!=="default"){var je=0,De;try{De=new Uint8Array(Me*Oe*4)}catch{De=new Array(Me*Oe*4)}if(be==="smooth"){var ge=j||z,we=ee||W,Ue=new Array(ge.length),et=new Array(we.length),st=new Array(Te),lt=j?x:d,Wt=ee?x:d,jt,Tt,Rt;for(ce=0;ce<ge.length;ce++)Ue[ce]=Math.round(s.c2p(ge[ce])-Q);for(ce=0;ce<we.length;ce++)et[ce]=Math.round(M.c2p(we[ce])-J);for(ce=0;ce<Te;ce++)st[ce]=lt(ce,Ue);for(ae=0;ae<Ie;ae++)for(jt=Wt(ae,et),Tt=U[jt.bin0],Rt=U[jt.bin1],ce=0;ce<Te;ce++,je+=4)Ge=Re(Tt,Rt,st[ce],jt),w(De,je,Ge)}else for(ae=0;ae<he;ae++)for(Ze=U[ae],$e=rt(ae),ce=0;ce<ne;ce++)Ge=Pe(Ze[ce],1),je=($e*ne+Ye(ce))*4,w(De,je,Ge);var Zt=Ne.createImageData(Me,Oe);try{Zt.data.set(De)}catch{var mr=Zt.data,gt=mr.length;for(ae=0;ae<gt;ae++)mr[ae]=De[ae]}Ne.putImageData(Zt,0,0)}else{var Kt=Math.floor(F/2),$t=Math.floor(B/2);for(ae=0;ae<he;ae++)if(Ze=U[ae],$e.reverse(),$e[ht]=rt(ae+1),!($e[0]===$e[1]||$e[0]===void 0||$e[1]===void 0))for(Fe=Ye(0),nt=[Fe,Fe],ce=0;ce<ne;ce++)nt.reverse(),nt[qe]=Ye(ce+1),!(nt[0]===nt[1]||nt[0]===void 0||nt[1]===void 0)&&(We=Ze[ce],Ge=Pe(We,(nt[1]-nt[0])*($e[1]-$e[0])),Ne.fillStyle="rgba("+Ge.join(",")+")",Ne.fillRect(nt[0]+Kt,$e[0]+$t,nt[1]-nt[0]-F,$e[1]-$e[0]-B))}pt=Math.round(pt/vt),wt=Math.round(wt/vt),Mt=Math.round(Mt/vt);var br=L("rgb("+pt+","+wt+","+Mt+")");_._hmpixcount=(_._hmpixcount||0)+vt,_._hmlumcount=(_._hmlumcount||0)+vt*br.getLuminance();var lr=N.selectAll("image").data(b);lr.enter().append("svg:image").attr({xmlns:f.svg,preserveAspectRatio:"none"}),lr.attr({height:Ie,width:Te,x:Q,y:J,"xlink:href":_e.toDataURL("image/png")}),be==="fast"&&!oe&&lr.attr("style",h),i(N);var mt=H.texttemplate;if(mt){var ut=a(H),bt={type:"linear",range:[ut.min,ut.max],_separators:s._separators,_numFormat:s._numFormat},Et=H.type==="histogram2dcontour",Dt=H.type==="contour",Yt=Dt?1:0,Bt=Dt?he-1:he,Ut=Dt?1:0,Jt=Dt?ne-1:ne,hr=[];for(ce=Yt;ce<Bt;ce++){var vr;if(Dt)vr=k.y[ce];else if(Et){if(ce===0||ce===he-1)continue;vr=k.y[ce]}else if(k.yCenter)vr=k.yCenter[ce];else{if(ce+1===he&&k.y[ce+1]===void 0)continue;vr=(k.y[ce]+k.y[ce+1])/2}var gr=Math.round(M.c2p(vr));if(!(0>gr||gr>M._length))for(ae=Ut;ae<Jt;ae++){var Xe;if(Dt)Xe=k.x[ae];else if(Et){if(ae===0||ae===ne-1)continue;Xe=k.x[ae]}else if(k.xCenter)Xe=k.xCenter[ae];else{if(ae+1===ne&&k.x[ae+1]===void 0)continue;Xe=(k.x[ae]+k.x[ae+1])/2}var He=Math.round(s.c2p(Xe));if(!(0>He||He>s._length)){var Nt=r({x:Xe,y:vr},H,_._fullLayout);Nt.x=Xe,Nt.y=vr;var Pt=k.z[ce][ae];Pt===void 0?(Nt.z="",Nt.zLabel=""):(Nt.z=Pt,Nt.zLabel=S.tickText(bt,Pt,"hover").text);var Qt=k.text&&k.text[ce]&&k.text[ce][ae];(Qt===void 0||Qt===!1)&&(Qt=""),Nt.text=Qt;var ur=v.texttemplateString(mt,Nt,_._fullLayout._d3locale,Nt,H._meta||{});if(ur){var cr=ur.split("<br>"),tr=cr.length,zt=0;for(de=0;de<tr;de++)zt=Math.max(zt,cr[de].length);hr.push({l:tr,c:zt,t:ur,x:He,y:gr,z:Pt})}}}}var or=H.textfont,dr=or.size,wr=_._fullLayout.font.size;if(!dr||dr==="auto"){var pr=1/0,Wr=1/0,Pr=0,Ir=0;for(de=0;de<hr.length;de++){var ln=hr[de];if(Pr=Math.max(Pr,ln.l),Ir=Math.max(Ir,ln.c),de<hr.length-1){var an=hr[de+1],_n=Math.abs(an.x-ln.x),Mn=Math.abs(an.y-ln.y);_n&&(pr=Math.min(pr,_n)),Mn&&(Wr=Math.min(Wr,Mn))}}!isFinite(pr)||!isFinite(Wr)?dr=wr:(pr-=F,Wr-=B,pr/=Ir,Wr/=Pr,pr/=l/2,Wr/=l,dr=Math.min(Math.floor(pr),Math.floor(Wr),wr))}if(dr<=0||!isFinite(dr))return;var Sr=function(Fr){return Fr.x},Nr=function(Fr){return Fr.y-dr*(Fr.l*l/2-1)},Zr=c(N).data(hr);Zr.enter().append("g").classed(T,1).append("text").attr("text-anchor","middle").each(function(Fr){var cn=p.select(this),vn=or.color;(!vn||vn==="auto")&&(vn=t.contrast(Fr.z===void 0?_._fullLayout.plot_bgcolor:"rgba("+Ce(Fr.z).join()+")")),cn.attr("data-notex",1).call(g.positionText,Sr(Fr),Nr(Fr)).call(C.font,{family:or.family,size:dr,color:vn,weight:or.weight,style:or.style,variant:or.variant,textcase:or.textcase,lineposition:or.lineposition,shadow:or.shadow}).text(Fr.t).call(g.convertToTspans,_)})}})};function d(_,m){var E=m.length-2,A=v.constrain(v.findBin(_,m),0,E),s=m[A],M=m[A+1],b=v.constrain(A+(_-s)/(M-s)-.5,0,E),N=Math.round(b),k=Math.abs(b-N);return!b||b===E||!k?{bin0:N,bin1:N,frac:0}:{bin0:N,frac:k,bin1:Math.round(N+k/(b-N))}}function x(_,m){var E=m.length-1,A=v.constrain(v.findBin(_,m),0,E),s=m[A],M=m[A+1],b=(_-s)/(M-s)||0;return b<=0?{bin0:A,bin1:A,frac:0}:b<.5?{bin0:A,bin1:A+1,frac:b}:{bin0:A+1,bin1:A,frac:1-b}}function w(_,m,E){_[m]=E[0],_[m+1]=E[1],_[m+2]=E[2],_[m+3]=Math.round(E[3]*255)}},41648:function(V,Y,e){var p=e(33428);V.exports=function(o){p.select(o).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},82748:function(V){V.exports=function(e,p,L){var o=L("zsmooth");o===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},51264:function(V,Y,e){var p=e(38248),L=e(3400),o=e(24040);V.exports=function(g,r,t,a,n,f){var u=t("z");n=n||"x",f=f||"y";var l,y;if(u===void 0||!u.length)return 0;if(L.isArray1D(u)){l=t(n),y=t(f);var h=L.minRowLength(l),T=L.minRowLength(y);if(h===0||T===0)return 0;r._length=Math.min(h,T,u.length)}else{if(l=C(n,t),y=C(f,t),!S(u))return 0;t("transpose"),r._length=null}if(g.type==="heatmapgl")return!0;var c=o.getComponentMethod("calendars","handleTraceDefaults");return c(g,r,[n,f],a),!0};function C(v,g){var r=g(v),t=r?g(v+"type","array"):"scaled";return t==="scaled"&&(g(v+"0"),g("d"+v)),r}function S(v){for(var g=!0,r=!1,t=!1,a,n=0;n<v.length;n++){if(a=v[n],!L.isArrayOrTypedArray(a)){g=!1;break}a.length>0&&(r=!0);for(var f=0;f<a.length;f++)if(p(a[f])){t=!0;break}}return g&&r&&t}},74512:function(V,Y,e){for(var p=e(83328),L=e(49084),o=e(92880).extendFlat,C=e(67824).overrideAll,S=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},g=0;g<S.length;g++){var r=S[g];v[r]=p[r]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},o(v,L("",{cLetter:"z",autoColorDflt:!1})),V.exports=C(v,"calc","nested")},84656:function(V,Y,e){var p=e(67792).gl_heatmap2d,L=e(54460),o=e(43080);function C(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(r.glplot,this.options),this.heatmap._trace=this}var S=C.prototype;S.handlePick=function(r){var t=this.options,a=t.shape,n=r.pointId,f=n%a[0],u=Math.floor(n/a[0]),l=n;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[f],t.y[u],t.z[l]],textLabel:this.textLabels[n],name:this.name,pointIndex:[u,f],hoverinfo:this.hoverinfo}},S.update=function(r,t){var a=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var n=a.z;this.options.z=[].concat.apply([],n);var f=n[0].length,u=n.length;this.options.shape=[f,u],this.options.x=a.x,this.options.y=a.y,this.options.zsmooth=r.zsmooth;var l=v(r);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var y=this.scene.xaxis,h=this.scene.yaxis,T,c;r.zsmooth===!1&&(T={ppad:a.x[1]-a.x[0]},c={ppad:a.y[1]-a.y[0]}),r._extremes[y._id]=L.findExtremes(y,a.x,T),r._extremes[h._id]=L.findExtremes(h,a.y,c)},S.dispose=function(){this.heatmap.dispose()};function v(r){for(var t=r.colorscale,a=r.zmin,n=r.zmax,f=t.length,u=new Array(f),l=new Array(4*f),y=0;y<f;y++){var h=t[y],T=o(h[1]);u[y]=a+h[0]*(n-a);for(var c=0;c<4;c++)l[4*y+c]=T[c]}return{colorLevels:u,colorValues:l}}function g(r,t,a){var n=new C(r,t.uid);return n.update(t,a),n}V.exports=g},86464:function(V,Y,e){var p=e(3400),L=e(51264),o=e(27260),C=e(74512);V.exports=function(v,g,r,t){function a(f,u){return p.coerce(v,g,C,f,u)}var n=L(v,g,a,t);if(!n){g.visible=!1;return}a("text"),a("zsmooth"),o(v,g,t,a,{prefix:"",cLetter:"z"})}},45536:function(V,Y,e){V.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(V,Y,e){var p=e(20832),L=e(29736).axisHoverFormat,o=e(21776).Ks,C=e(21776).Gw,S=e(25376),v=e(11120),g=e(73316),r=e(92880).extendFlat;V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:r({},p.text,{}),hovertext:r({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({},{keys:g.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},p.textposition,{arrayOk:!1}),textfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:S({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir},zorder:p.zorder}},2e3:function(V){V.exports=function(e,p){for(var L=e.length,o=0,C=0;C<L;C++)p[C]?(e[C]/=p[C],o+=e[C]):e[C]=null;return o}},11120:function(V){V.exports=function(e,p){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(V,Y,e){var p=e(38248);V.exports={count:function(L,o,C){return C[L]++,1},sum:function(L,o,C,S){var v=S[o];return p(v)?(v=Number(v),C[L]+=v,v):0},avg:function(L,o,C,S,v){var g=S[o];return p(g)&&(g=Number(g),C[L]+=g,v[L]++),0},min:function(L,o,C,S){var v=S[o];if(p(v))if(v=Number(v),p(C[L])){if(C[L]>v){var g=v-C[L];return C[L]=v,g}}else return C[L]=v,v;return 0},max:function(L,o,C,S){var v=S[o];if(p(v))if(v=Number(v),p(C[L])){if(C[L]<v){var g=v-C[L];return C[L]=v,g}}else return C[L]=v,v;return 0}}},67712:function(V,Y,e){var p=e(39032),L=p.ONEAVGYEAR,o=p.ONEAVGMONTH,C=p.ONEDAY,S=p.ONEHOUR,v=p.ONEMIN,g=p.ONESEC,r=e(54460).tickIncrement;V.exports=function(l,y,h,T,c){var i=-1.1*y,d=-.1*y,x=l-d,w=h[0],_=h[1],m=Math.min(t(w+d,w+x,T,c),t(_+d,_+x,T,c)),E=Math.min(t(w+i,w+d,T,c),t(_+i,_+d,T,c)),A,s;if(m>E&&E<Math.abs(_-w)/4e3?(A=m,s=!1):(A=Math.min(m,E),s=!0),T.type==="date"&&A>C){var M=A===L?1:6,b=A===L?"M12":"M1";return function(N,k){var H=T.c2d(N,L,c),F=H.indexOf("-",M);F>0&&(H=H.substr(0,F));var B=T.d2c(H,0,c);if(B<N){var U=r(B,b,!1,c);(B+U)/2<N+l&&(B=U)}return k&&s?r(B,b,!0,c):B}}return function(N,k){var H=A*Math.round(N/A);return H+A/10<N&&H+A*.9<N+l&&(H+=A),k&&s&&(H-=A),H}};function t(u,l,y,h){if(u*l<=0)return 1/0;for(var T=Math.abs(l-u),c=y.type==="date",i=a(T,c),d=0;d<10;d++){var x=a(i*80,c);if(i===x)break;if(n(x,u,l,c,y,h))i=x;else break}return i}function a(u,l){return l&&u>g?u>C?u>L*1.1?L:u>o*1.1?o:C:u>S?S:u>v?v:g:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function n(u,l,y,h,T,c){if(h&&u>C){var i=f(l,T,c),d=f(y,T,c),x=u===L?0:1;return i[x]!==d[x]}return Math.floor(y/u)-Math.floor(l/u)>.1}function f(u,l,y){var h=l.c2d(u,L,y).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},35852:function(V,Y,e){var p=e(38248),L=e(3400),o=e(24040),C=e(54460),S=e(84664),v=e(16964),g=e(10648),r=e(2e3),t=e(67712);function a(y,h){var T=[],c=[],i=h.orientation==="h",d=C.getFromId(y,i?h.yaxis:h.xaxis),x=i?"y":"x",w={x:"y",y:"x"}[x],_=h[x+"calendar"],m=h.cumulative,E,A=n(y,h,d,x),s=A[0],M=A[1],b=typeof s.size=="string",N=[],k=b?N:s,H=[],F=[],B=[],U=0,z=h.histnorm,W=h.histfunc,j=z.indexOf("density")!==-1,ee,ie,oe;m.enabled&&j&&(z=z.replace(/ ?density$/,""),j=!1);var he=W==="max"||W==="min",ne=he?null:0,q=v.count,le=g[z],Q=!1,te=function(Ne){return d.r2c(Ne,0,_)},ue;for(L.isArrayOrTypedArray(h[w])&&W!=="count"&&(ue=h[w],Q=W==="avg",q=v[W]),E=te(s.start),ie=te(s.end)+(E-C.tickIncrement(E,s.size,!1,_))/1e6;E<ie&&T.length<1e6&&(ee=C.tickIncrement(E,s.size,!1,_),T.push((E+ee)/2),c.push(ne),B.push([]),N.push(E),j&&H.push(1/(ee-E)),Q&&F.push(0),!(ee<=E));)E=ee;N.push(E),!b&&d.type==="date"&&(k={start:te(k.start),end:te(k.end),size:k.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var J=h["_"+x+"bingroup"],K={leftGap:1/0,rightGap:1/0};J&&(y._fullLayout._roundFnOpts[J]||(y._fullLayout._roundFnOpts[J]=K),K=y._fullLayout._roundFnOpts[J]);var ce=c.length,ae=!0,de=K.leftGap,be=K.rightGap,Se={};for(E=0;E<M.length;E++){var Te=M[E];oe=L.findBin(Te,k),oe>=0&&oe<ce&&(U+=q(oe,E,c,ue,F),ae&&B[oe].length&&Te!==M[B[oe][0]]&&(ae=!1),B[oe].push(E),Se[E]=oe,de=Math.min(de,Te-N[oe]),be=Math.min(be,N[oe+1]-Te))}K.leftGap=de,K.rightGap=be;var Ie;ae||(Ie=function(Ne,Ce){return function(){var Ye=y._fullLayout._roundFnOpts[J];return t(Ye.leftGap,Ye.rightGap,N,d,_)(Ne,Ce)}}),Q&&(U=r(c,F)),le&&le(c,U,H),m.enabled&&l(c,m.direction,m.currentbin);var ke=Math.min(T.length,c.length),Be=[],Me=0,Oe=ke-1;for(E=0;E<ke;E++)if(c[E]){Me=E;break}for(E=ke-1;E>=Me;E--)if(c[E]){Oe=E;break}for(E=Me;E<=Oe;E++)if(p(T[E])&&p(c[E])){var _e={p:T[E],s:c[E],b:0};m.enabled||(_e.pts=B[E],ae?_e.ph0=_e.ph1=B[E].length?M[B[E][0]]:T[E]:(h._computePh=!0,_e.ph0=Ie(N[E]),_e.ph1=Ie(N[E+1],!0))),Be.push(_e)}return Be.length===1&&(Be[0].width1=C.tickIncrement(Be[0].p,s.size,!1,_)-Be[0].p),S(Be,h),L.isArrayOrTypedArray(h.selectedpoints)&&L.tagSelected(Be,h,Se),Be}function n(y,h,T,c,i){var d=c+"bins",x=y._fullLayout,w=h["_"+c+"bingroup"],_=x._histogramBinOpts[w],m=x.barmode==="overlay",E,A,s,M,b,N,k,H=function(Te){return T.r2c(Te,0,M)},F=function(Te){return T.c2r(Te,0,M)},B=T.type==="date"?function(Te){return Te||Te===0?L.cleanDate(Te,null,M):null}:function(Te){return p(Te)?Number(Te):null};function U(Te,Ie,ke){Ie[Te+"Found"]?(Ie[Te]=B(Ie[Te]),Ie[Te]===null&&(Ie[Te]=ke[Te])):(N[Te]=Ie[Te]=ke[Te],L.nestedProperty(A[0],d+"."+Te).set(ke[Te]))}if(h["_"+c+"autoBinFinished"])delete h["_"+c+"autoBinFinished"];else{A=_.traces;var z=[],W=!0,j=!1,ee=!1;for(E=0;E<A.length;E++)if(s=A[E],s.visible){var ie=_.dirs[E];b=s["_"+ie+"pos0"]=T.makeCalcdata(s,ie),z=L.concat(z,b),delete s["_"+c+"autoBinFinished"],h.visible===!0&&(W?W=!1:(delete s._autoBin,s["_"+c+"autoBinFinished"]=1),o.traceIs(s,"2dMap")&&(j=!0),s.type==="histogram2dcontour"&&(ee=!0))}M=A[0][c+"calendar"];var oe=C.autoBin(z,T,_.nbins,j,M,_.sizeFound&&_.size),he=A[0]._autoBin={};if(N=he[_.dirs[0]]={},ee&&(_.size||(oe.start=F(C.tickIncrement(H(oe.start),oe.size,!0,M))),_.end===void 0&&(oe.end=F(C.tickIncrement(H(oe.end),oe.size,!1,M)))),m&&!o.traceIs(h,"2dMap")&&oe._dataSpan===0&&T.type!=="category"&&T.type!=="multicategory"&&h.bingroup===""&&typeof h.xbins>"u"){if(i)return[oe,b,!0];oe=f(y,h,T,c,d)}k=s.cumulative||{},k.enabled&&k.currentbin!=="include"&&(k.direction==="decreasing"?oe.start=F(C.tickIncrement(H(oe.start),oe.size,!0,M)):oe.end=F(C.tickIncrement(H(oe.end),oe.size,!1,M))),_.size=oe.size,_.sizeFound||(N.size=oe.size,L.nestedProperty(A[0],d+".size").set(oe.size)),U("start",_,oe),U("end",_,oe)}b=h["_"+c+"pos0"],delete h["_"+c+"pos0"];var ne=h._input[d]||{},q=L.extendFlat({},_),le=_.start,Q=T.r2l(ne.start),te=Q!==void 0;if((_.startFound||te)&&Q!==T.r2l(le)){var ue=te?Q:L.aggNums(Math.min,null,b),J={type:T.type==="category"||T.type==="multicategory"?"linear":T.type,r2l:T.r2l,dtick:_.size,tick0:le,calendar:M,range:[ue,C.tickIncrement(ue,_.size,!1,M)].map(T.l2r)},K=C.tickFirst(J);K>T.r2l(ue)&&(K=C.tickIncrement(K,_.size,!0,M)),q.start=T.l2r(K),te||L.nestedProperty(h,d+".start").set(q.start)}var ce=_.end,ae=T.r2l(ne.end),de=ae!==void 0;if((_.endFound||de)&&ae!==T.r2l(ce)){var be=de?ae:L.aggNums(Math.max,null,b);q.end=T.l2r(be),de||L.nestedProperty(h,d+".start").set(q.end)}var Se="autobin"+c;return h._input[Se]===!1&&(h._input[d]=L.extendFlat({},h[d]||{}),delete h._input[Se],delete h[Se]),[q,b]}function f(y,h,T,c,i){var d=y._fullLayout,x=u(y,h),w=!1,_=1/0,m=[h],E,A,s;for(E=0;E<x.length;E++)if(A=x[E],A===h)w=!0;else if(!w)s=d._histogramBinOpts[A["_"+c+"bingroup"]],_=Math.min(_,s.size||A[i].size);else{var M=n(y,A,T,c,!0),b=M[0],N=M[2];A["_"+c+"autoBinFinished"]=1,A["_"+c+"pos0"]=M[1],N?m.push(A):_=Math.min(_,b.size)}var k=new Array(m.length);for(E=0;E<m.length;E++)for(var H=m[E]["_"+c+"pos0"],F=0;F<H.length;F++)if(H[F]!==void 0){k[E]=H[F];break}for(isFinite(_)||(_=L.distinctVals(k).minDiff),E=0;E<m.length;E++){A=m[E];var B=A[c+"calendar"],U={start:T.c2r(k[E]-_/2,0,B),end:T.c2r(k[E]+_/2,0,B),size:_};A._input[i]=A[i]=U,s=d._histogramBinOpts[A["_"+c+"bingroup"]],s&&L.extendFlat(s,U)}return h[i]}function u(y,h){for(var T=h.xaxis,c=h.yaxis,i=h.orientation,d=[],x=y._fullData,w=0;w<x.length;w++){var _=x[w];_.type==="histogram"&&_.visible===!0&&_.orientation===i&&_.xaxis===T&&_.yaxis===c&&d.push(_)}return d}function l(y,h,T){var c,i,d;function x(_){d=y[_],y[_]/=2}function w(_){i=y[_],y[_]=d+i/2,d+=i}if(T==="half")if(h==="increasing")for(x(0),c=1;c<y.length;c++)w(c);else for(x(y.length-1),c=y.length-2;c>=0;c--)w(c);else if(h==="increasing"){for(c=1;c<y.length;c++)y[c]+=y[c-1];T==="exclude"&&(y.unshift(0),y.pop())}else{for(c=y.length-2;c>=0;c--)y[c]+=y[c+1];T==="exclude"&&(y.push(0),y.shift())}}V.exports={calc:a,calcAllAutoBins:n}},73316:function(V){V.exports={eventDataKeys:["binNumber"]}},80536:function(V,Y,e){var p=e(3400),L=e(79811),o=e(24040).traceIs,C=e(20011),S=e(31508).validateCornerradius,v=p.nestedProperty,g=e(71888).getAxisGroup,r=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];V.exports=function(n,f){var u=f._histogramBinOpts={},l=[],y={},h=[],T,c,i,d,x,w,_;function m(oe,he){return p.coerce(T._input,T,T._module.attributes,oe,he)}function E(oe){return oe.orientation==="v"?"x":"y"}function A(oe,he){var ne=L.getFromTrace({_fullLayout:f},oe,he);return ne.type}function s(oe,he,ne){var q=oe.uid+"__"+ne;he||(he=q);var le=A(oe,ne),Q=oe[ne+"calendar"]||"",te=u[he],ue=!0;te&&(le===te.axType&&Q===te.calendar?(ue=!1,te.traces.push(oe),te.dirs.push(ne)):(he=q,le!==te.axType&&p.warn(["Attempted to group the bins of trace",oe.index,"set on a","type:"+le,"axis","with bins on","type:"+te.axType,"axis."].join(" ")),Q!==te.calendar&&p.warn(["Attempted to group the bins of trace",oe.index,"set with a",Q,"calendar","with bins",te.calendar?"on a "+te.calendar+" calendar":"w/o a set calendar"].join(" ")))),ue&&(u[he]={traces:[oe],dirs:[ne],axType:le,calendar:oe[ne+"calendar"]||""}),oe["_"+ne+"bingroup"]=he}for(x=0;x<n.length;x++)if(T=n[x],o(T,"histogram")){if(l.push(T),delete T._xautoBinFinished,delete T._yautoBinFinished,T.type==="histogram"){var M=m("marker.cornerradius",f.barcornerradius);T.marker&&(T.marker.cornerradius=S(M))}o(T,"2dMap")||C(T._input,T,f,m)}var b=f._alignmentOpts||{};for(x=0;x<l.length;x++){if(T=l[x],i="",!o(T,"2dMap")){if(d=E(T),f.barmode==="group"&&T.alignmentgroup){var N=T[d+"axis"],k=g(f,N)+T.orientation;(b[k]||{})[T.alignmentgroup]&&(i=k)}!i&&f.barmode!=="overlay"&&(i=g(f,T.xaxis)+g(f,T.yaxis)+E(T))}i?(y[i]||(y[i]=[]),y[i].push(T)):h.push(T)}for(i in y){if(c=y[i],c.length===1){h.push(c[0]);continue}var H=!1;for(c.length&&(T=c[0],H=m("bingroup")),i=H||i,x=0;x<c.length;x++){T=c[x];var F=T._input.bingroup;F&&F!==i&&p.warn(["Trace",T.index,"must match","within bingroup",i+".","Ignoring its bingroup:",F,"setting."].join(" ")),T.bingroup=i,s(T,i,E(T))}}for(x=0;x<h.length;x++){T=h[x];var B=m("bingroup");if(o(T,"2dMap"))for(_=0;_<2;_++){d=t[_];var U=m(d+"bingroup",B?B+"__"+d:null);s(T,U,d)}else s(T,B,E(T))}for(i in u){var z=u[i];for(c=z.traces,w=0;w<r.length;w++){var W=r[w],j=W.name,ee,ie;if(!(j==="nbins"&&z.sizeFound)){for(x=0;x<c.length;x++){if(T=c[x],d=z.dirs[x],ee=W.aStr[d],v(T._input,ee).get()!==void 0){z[j]=m(ee),z[j+"Found"]=!0;break}ie=(T._autoBin||{})[d]||{},ie[j]&&v(T,ee).set(ie[j])}if(j==="start"||j==="end")for(;x<c.length;x++)T=c[x],T["_"+d+"bingroup"]&&(ie=(T._autoBin||{})[d]||{},m(ee,ie[j]));j==="nbins"&&!z.sizeFound&&!z.nbinsFound&&(T=c[0],z[j]=m(ee))}}}}},6616:function(V,Y,e){var p=e(24040),L=e(3400),o=e(76308),C=e(31508).handleText,S=e(55592),v=e(40196);V.exports=function(r,t,a,n){function f(E,A){return L.coerce(r,t,v,E,A)}var u=f("x"),l=f("y"),y=f("cumulative.enabled");y&&(f("cumulative.direction"),f("cumulative.currentbin")),f("text");var h=f("textposition");C(r,t,n,f,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f("hovertext"),f("hovertemplate"),f("xhoverformat"),f("yhoverformat");var T=f("orientation",l&&!u?"h":"v"),c=T==="v"?"x":"y",i=T==="v"?"y":"x",d=u&&l?Math.min(L.minRowLength(u)&&L.minRowLength(l)):L.minRowLength(t[c]||[]);if(!d){t.visible=!1;return}t._length=d;var x=p.getComponentMethod("calendars","handleTraceDefaults");x(r,t,["x","y"],n);var w=t[i];w&&f("histfunc"),f("histnorm"),f("autobin"+c),S(r,t,f,a,n),L.coerceSelectionMarkerOpacity(t,f);var _=(t.marker.line||{}).color,m=p.getComponentMethod("errorbars","supplyDefaults");m(r,t,_||o.defaultLine,{axis:"y"}),m(r,t,_||o.defaultLine,{axis:"x",inherit:"y"}),f("zorder")}},84980:function(V){V.exports=function(e,p,L,o,C){if(e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"zLabelVal"in p&&(e.z=p.zLabelVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),!(L.cumulative||{}).enabled){var S=Array.isArray(C)?o[0].pts[C[0]][C[1]]:o[C].pts;e.pointNumbers=S,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(L._indexToPoints){v=[];for(var g=0;g<S.length;g++)v=v.concat(L._indexToPoints[S[g]])}else v=S;e.pointIndices=v}return e}},43339:function(V,Y,e){var p=e(63400).hoverPoints,L=e(54460).hoverLabelText;V.exports=function(C,S,v,g,r){var t=p(C,S,v,g,r);if(t){C=t[0];var a=C.cd[C.index],n=C.cd[0].trace;if(!n.cumulative.enabled){var f=n.orientation==="h"?"y":"x";C[f+"Label"]=L(C[f+"a"],[a.ph0,a.ph1],n[f+"hoverformat"])}return t}}},42600:function(V,Y,e){V.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(V){V.exports={percent:function(Y,e){for(var p=Y.length,L=100/e,o=0;o<p;o++)Y[o]*=L},probability:function(Y,e){for(var p=Y.length,L=0;L<p;L++)Y[L]/=e},density:function(Y,e,p,L){var o=Y.length;L=L||1;for(var C=0;C<o;C++)Y[C]*=p[C]*L},"probability density":function(Y,e,p,L){var o=Y.length;L&&(e/=L);for(var C=0;C<o;C++)Y[C]*=p[C]/e}}},37008:function(V,Y,e){var p=e(40196),L=e(11120),o=e(83328),C=e(45464),S=e(29736).axisHoverFormat,v=e(21776).Ks,g=e(21776).Gw,r=e(49084),t=e(92880).extendFlat;V.exports=t({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:L("x"),nbinsy:p.nbinsy,ybins:L("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:t({},p.bingroup,{}),xbingroup:t({},p.bingroup,{}),ybingroup:t({},p.bingroup,{}),xgap:o.xgap,ygap:o.ygap,zsmooth:o.zsmooth,xhoverformat:S("x"),yhoverformat:S("y"),zhoverformat:S("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:o.textfont,showlegend:t({},C.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},55480:function(V,Y,e){var p=e(3400),L=e(54460),o=e(16964),C=e(10648),S=e(2e3),v=e(67712),g=e(35852).calcAllAutoBins;V.exports=function(f,u){var l=L.getFromId(f,u.xaxis),y=L.getFromId(f,u.yaxis),h=u.xcalendar,T=u.ycalendar,c=function(Ge){return l.r2c(Ge,0,h)},i=function(Ge){return y.r2c(Ge,0,T)},d=function(Ge){return l.c2r(Ge,0,h)},x=function(Ge){return y.c2r(Ge,0,T)},w,_,m,E,A=g(f,u,l,"x"),s=A[0],M=A[1],b=g(f,u,y,"y"),N=b[0],k=b[1],H=u._length;M.length>H&&M.splice(H,M.length-H),k.length>H&&k.splice(H,k.length-H);var F=[],B=[],U=[],z=typeof s.size=="string",W=typeof N.size=="string",j=[],ee=[],ie=z?j:s,oe=W?ee:N,he=0,ne=[],q=[],le=u.histnorm,Q=u.histfunc,te=le.indexOf("density")!==-1,ue=Q==="max"||Q==="min",J=ue?null:0,K=o.count,ce=C[le],ae=!1,de=[],be=[],Se="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Se&&Q!=="count"&&(ae=Q==="avg",K=o[Q]);var Te=s.size,Ie=c(s.start),ke=c(s.end)+(Ie-L.tickIncrement(Ie,Te,!1,h))/1e6;for(w=Ie;w<ke;w=L.tickIncrement(w,Te,!1,h))B.push(J),j.push(w),ae&&U.push(0);j.push(w);var Be=B.length,Me=(w-Ie)/Be,Oe=d(Ie+Me/2),_e=N.size,Ne=i(N.start),Ce=i(N.end)+(Ne-L.tickIncrement(Ne,_e,!1,T))/1e6;for(w=Ne;w<Ce;w=L.tickIncrement(w,_e,!1,T)){F.push(B.slice()),ee.push(w);var Ye=new Array(Be);for(_=0;_<Be;_++)Ye[_]=[];q.push(Ye),ae&&ne.push(U.slice())}ee.push(w);var rt=F.length,ot=(w-Ne)/rt,$e=x(Ne+ot/2);te&&(de=r(B.length,ie,Me,z),be=r(F.length,oe,ot,W)),!z&&l.type==="date"&&(ie=t(c,ie)),!W&&y.type==="date"&&(oe=t(i,oe));var qe=!0,ht=!0,vt=new Array(Be),pt=new Array(rt),wt=1/0,Mt=1/0,nt=1/0,Fe=1/0;for(w=0;w<H;w++){var We=M[w],Ze=k[w];m=p.findBin(We,ie),E=p.findBin(Ze,oe),m>=0&&m<Be&&E>=0&&E<rt&&(he+=K(m,w,F[E],Se,ne[E]),q[E][m].push(w),qe&&(vt[m]===void 0?vt[m]=We:vt[m]!==We&&(qe=!1)),ht&&(pt[E]===void 0?pt[E]=Ze:pt[E]!==Ze&&(ht=!1)),wt=Math.min(wt,We-j[m]),Mt=Math.min(Mt,j[m+1]-We),nt=Math.min(nt,Ze-ee[E]),Fe=Math.min(Fe,ee[E+1]-Ze))}if(ae)for(E=0;E<rt;E++)he+=S(F[E],ne[E]);if(ce)for(E=0;E<rt;E++)ce(F[E],he,de,be[E]);return{x:M,xRanges:a(j,qe&&vt,wt,Mt,l,h),x0:Oe,dx:Me,y:k,yRanges:a(ee,ht&&pt,nt,Fe,y,T),y0:$e,dy:ot,z:F,pts:q}};function r(n,f,u,l){var y=new Array(n),h;if(l)for(h=0;h<n;h++)y[h]=1/(f[h+1]-f[h]);else{var T=1/u;for(h=0;h<n;h++)y[h]=T}return y}function t(n,f){return{start:n(f.start),end:n(f.end),size:f.size}}function a(n,f,u,l,y,h){var T,c=n.length-1,i=new Array(c),d=v(u,l,n,y,h);for(T=0;T<c;T++){var x=(f||[])[T];i[T]=x===void 0?[d(n[T]),d(n[T+1],!0)]:[x,x]}return i}},99784:function(V,Y,e){var p=e(3400),L=e(56408),o=e(82748),C=e(27260),S=e(39096),v=e(37008);V.exports=function(r,t,a,n){function f(u,l){return p.coerce(r,t,v,u,l)}L(r,t,f,n),t.visible!==!1&&(o(r,t,f,n),C(r,t,n,f,{prefix:"",cLetter:"z"}),f("hovertemplate"),S(f,n),f("xhoverformat"),f("yhoverformat"))}},59576:function(V,Y,e){var p=e(55512),L=e(54460).hoverLabelText;V.exports=function(C,S,v,g,r){var t=p(C,S,v,g,r);if(t){C=t[0];var a=C.index,n=a[0],f=a[1],u=C.cd[0],l=u.trace,y=u.xRanges[f],h=u.yRanges[n];return C.xLabel=L(C.xa,[y[0],y[1]],l.xhoverformat),C.yLabel=L(C.ya,[h[0],h[1]],l.yhoverformat),t}}},21536:function(V,Y,e){V.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(V,Y,e){var p=e(24040),L=e(3400);V.exports=function(C,S,v,g){var r=v("x"),t=v("y"),a=L.minRowLength(r),n=L.minRowLength(t);if(!a||!n){S.visible=!1;return}S._length=Math.min(a,n);var f=p.getComponentMethod("calendars","handleTraceDefaults");f(C,S,["x","y"],g);var u=v("z")||v("marker.color");u&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},81220:function(V,Y,e){var p=e(37008),L=e(67104),o=e(49084),C=e(29736).axisHoverFormat,S=e(92880).extendFlat;V.exports=S({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:S({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},o("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(V,Y,e){var p=e(3400),L=e(56408),o=e(84952),C=e(97680),S=e(39096),v=e(81220);V.exports=function(r,t,a,n){function f(l,y){return p.coerce(r,t,v,l,y)}function u(l){return p.coerce2(r,t,v,l)}L(r,t,f,n),t.visible!==!1&&(o(r,t,f,u),C(r,t,f,n),f("xhoverformat"),f("yhoverformat"),f("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&S(f,n))}},65664:function(V,Y,e){V.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(V,Y,e){var p=e(21776).Ks,L=e(21776).Gw,o=e(49084),C=e(86968).u,S=e(74996),v=e(424),g=e(40516),r=e(32984),t=e(92880).extendFlat,a=e(98192).c;V.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:g.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:v.marker.colors,line:v.marker.line,pattern:a,editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:g.pathbar,text:S.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:r.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:g.outsidetextfont,textposition:g.textposition,sort:S.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},59564:function(V,Y,e){var p=e(7316);Y.name="icicle",Y.plot=function(L,o,C,S){p.plotBasePlot(Y.name,L,o,C,S)},Y.clean=function(L,o,C,S){p.cleanBasePlot(Y.name,L,o,C,S)}},73876:function(V,Y,e){var p=e(3776);Y.r=function(L,o){return p.calc(L,o)},Y.q=function(L){return p._runCrossTraceCalc("icicle",L)}},7045:function(V,Y,e){var p=e(3400),L=e(97376),o=e(76308),C=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,g=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;V.exports=function(f,u,l,y){function h(m,E){return p.coerce(f,u,L,m,E)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),u.texttemplate||h("textinfo",p.isArrayOrTypedArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var x=h("pathbar.visible"),w="auto";S(f,u,y,h,w,{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),g(f,u,y,h);var _=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;_&&a(f,u,y,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",_?1:.7),u._hovered={marker:{line:{width:2,color:o.contrast(y.paper_bgcolor)}}},x&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,y,h),u._length=null}},67880:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(72736),S=e(25132),v=e(47192).styleOne,g=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;V.exports=function(u,l,y,h,T){var c=T.width,i=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,_=T.toMoveInsideSlice,m=T.strTransform,E=T.hasTransition,A=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,M=T.makeUpdateTextInterpolator,b=T.prevEntry,N={},k=u._context.staticPlot,H=u._fullLayout,F=l[0],B=F.trace,U=B.textposition.indexOf("left")!==-1,z=B.textposition.indexOf("right")!==-1,W=B.textposition.indexOf("bottom")!==-1,j=S(y,[c,i],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}),ee=j.descendants(),ie=1/0,oe=-1/0;ee.forEach(function(Q){var te=Q.depth;te>=B._maxDepth?(Q.x0=Q.x1=(Q.x0+Q.x1)/2,Q.y0=Q.y1=(Q.y0+Q.y1)/2):(ie=Math.min(ie,te),oe=Math.max(oe,te))}),h=h.data(ee,r.getPtId),B._maxVisibleLayers=isFinite(oe)?oe-ie+1:0,h.enter().append("g").classed("slice",!0),A(h,n,N,[c,i],w),h.order();var he=null;if(E&&b){var ne=r.getPtId(b);h.each(function(Q){he===null&&r.getPtId(Q)===ne&&(he={x0:Q.x0,x1:Q.x1,y0:Q.y0,y1:Q.y1})})}var q=function(){return he||{x0:0,x1:c,y0:0,y1:i}},le=h;return E&&(le=le.transition().each("end",function(){var Q=p.select(this);r.setSliceCursor(Q,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),le.each(function(Q){Q._x0=d(Q.x0),Q._x1=d(Q.x1),Q._y0=x(Q.y0),Q._y1=x(Q.y1),Q._hoverX=d(Q.x1-B.tiling.pad),Q._hoverY=x(W?Q.y1-B.tiling.pad/2:Q.y0+B.tiling.pad/2);var te=p.select(this),ue=L.ensureSingle(te,"path","surface",function(ae){ae.style("pointer-events",k?"none":"all")});E?ue.transition().attrTween("d",function(ae){var de=s(ae,n,q(),[c,i],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(be){return w(de(be))}}):ue.attr("d",w),te.call(t,y,u,l,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),ue.call(v,Q,B,u,{hovered:!1}),Q.x0===Q.x1||Q.y0===Q.y1?Q._text="":Q._text=a(Q,y,B,l,H)||"";var J=L.ensureSingle(te,"g","slicetext"),K=L.ensureSingle(J,"text","",function(ae){ae.attr("data-notex",1)}),ce=L.ensureUniformFontSize(u,r.determineTextFont(B,Q,H.font));K.text(Q._text||" ").classed("slicetext",!0).attr("text-anchor",z?"end":U?"start":"middle").call(o.font,ce).call(C.convertToTspans,u),Q.textBB=o.bBox(K.node()),Q.transform=_(Q,{fontSize:ce.size}),Q.transform.fontSize=ce.size,E?K.transition().attrTween("transform",function(ae){var de=M(ae,n,q(),[c,i]);return function(be){return m(de(be))}}):K.attr("transform",m(Q))}),he}},29044:function(V,Y,e){V.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(V){V.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(V,Y,e){var p=e(3400),L=e(90676);V.exports=function(C,S){function v(g,r){return p.coerce(C,S,L,g,r)}v("iciclecolorway",S.colorway),v("extendiciclecolors")}},25132:function(V,Y,e){var p=e(74148),L=e(83024);V.exports=function(C,S,v){var g=v.flipX,r=v.flipY,t=v.orientation==="h",a=v.maxDepth,n=S[0],f=S[1];a&&(n=(C.height+1)*S[0]/Math.min(C.height+1,a),f=(C.height+1)*S[1]/Math.min(C.height+1,a));var u=p.partition().padding(v.pad.inner).size(t?[S[1],n]:[S[0],f])(C);return(t||g||r)&&L(u,S,{swapXY:t,flipX:g,flipY:r}),u}},38364:function(V,Y,e){var p=e(95808),L=e(67880);V.exports=function(C,S,v,g){return p(C,S,v,g,{type:"icicle",drawDescendants:L})}},47192:function(V,Y,e){var p=e(33428),L=e(76308),o=e(3400),C=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");C(r,t,"icicle"),t.each(function(a){var n=p.select(this),f=a[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){p.select(this).call(g,l,u,r)})})}function g(r,t,a,n){var f=t.data.data,u=!t.children,l=f.i,y=o.castOption(a,l,"marker.line.color")||L.defaultLine,h=o.castOption(a,l,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(L.stroke,y).style("opacity",u?a.leaf.opacity:null)}V.exports={style:v,styleOne:g}},95188:function(V,Y,e){for(var p=e(45464),L=e(52904).zorder,o=e(21776).Ks,C=e(92880).extendFlat,S=e(47797).colormodel,v=["rgb","rgba","rgba256","hsl","hsla"],g=[],r=[],t=0;t<v.length;t++){var a=S[v[t]];g.push("For the `"+v[t]+"` colormodel, it is ["+(a.zminDflt||a.min).join(", ")+"]."),r.push("For the `"+v[t]+"` colormodel, it is ["+(a.zmaxDflt||a.max).join(", ")+"].")}V.exports=C({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:v,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:C({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:o({},{keys:["z","color","colormodel"]}),zorder:L,transforms:void 0})},93336:function(V,Y,e){var p=e(3400),L=e(47797),o=e(38248),C=e(54460),S=e(3400).maxRowLength,v=e(18712).i;V.exports=function(n,f){var u,l;if(f._hasZ)u=f.z.length,l=S(f.z);else if(f._hasSource){var y=v(f.source);u=y.height,l=y.width}var h=C.getFromId(n,f.xaxis||"x"),T=C.getFromId(n,f.yaxis||"y"),c=h.d2c(f.x0)-f.dx/2,i=T.d2c(f.y0)-f.dy/2,d,x=[c,c+l*f.dx],w=[i,i+u*f.dy];if(h&&h.type==="log")for(d=0;d<l;d++)x.push(c+d*f.dx);if(T&&T.type==="log")for(d=0;d<u;d++)w.push(i+d*f.dy);f._extremes[h._id]=C.findExtremes(h,x),f._extremes[T._id]=C.findExtremes(T,w),f._scaler=t(f);var _={x0:c,y0:i,z:f.z,w:l,h:u};return[_]};function g(a,n,f,u){return function(l){return p.constrain((l-a)*n,f,u)}}function r(a,n){return function(f){return p.constrain(f,a,n)}}function t(a){var n=L.colormodel[a.colormodel],f=n.colormodel||a.colormodel,u=f.length;a._sArray=[];for(var l=0;l<u;l++)n.min[l]!==a.zmin[l]||n.max[l]!==a.zmax[l]?a._sArray.push(g(a.zmin[l],(n.max[l]-n.min[l])/(a.zmax[l]-a.zmin[l]),n.min[l],n.max[l])):a._sArray.push(r(n.min[l],n.max[l]));return function(y){for(var h=y.slice(0,u),T=0;T<u;T++){var c=h[T];if(!o(c))return!1;h[T]=a._sArray[T](c)}return h}}},47797:function(V){V.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(Y){return Y.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(Y){return Y.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(Y){return Y.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(Y){var e=Y.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(Y){var e=Y.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13188:function(V,Y,e){var p=e(3400),L=e(95188),o=e(47797),C=e(81792).IMAGE_URL_PREFIX;V.exports=function(v,g){function r(n,f){return p.coerce(v,g,L,n,f)}r("source"),g.source&&!g.source.match(C)&&delete g.source,g._hasSource=!!g.source;var t=r("z");if(g._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!g._hasZ&&!g._hasSource){g.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var a;g._hasZ?(r("colormodel","rgb"),a=o.colormodel[g.colormodel],r("zmin",a.zminDflt||a.min),r("zmax",a.zmaxDflt||a.max)):g._hasSource&&(g.colormodel="rgba256",a=o.colormodel[g.colormodel],g.zmin=a.zminDflt,g.zmax=a.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),g._length=null,r("zorder")}},79972:function(V){V.exports=function(e,p){return"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e.color=p.color,e.colormodel=p.trace.colormodel,e.z||(e.z=p.color),e}},18712:function(V,Y,e){var p=e(19480),L=e(81792).IMAGE_URL_PREFIX,o=e(33576).Buffer;Y.i=function(C){var S=C.replace(L,""),v=new o(S,"base64");return p(v)}},24892:function(V,Y,e){var p=e(93024),L=e(3400),o=L.isArrayOrTypedArray,C=e(47797);V.exports=function(v,g,r){var t=v.cd[0],a=t.trace,n=v.xa,f=v.ya;if(!(p.inbox(g-t.x0,g-(t.x0+t.w*a.dx),0)>0||p.inbox(r-t.y0,r-(t.y0+t.h*a.dy),0)>0)){var u=Math.floor((g-t.x0)/a.dx),l=Math.floor(Math.abs(r-t.y0)/a.dy),y;if(a._hasZ?y=t.z[l][u]:a._hasSource&&(y=a._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,l,1,1).data),!!y){var h=t.hi||a.hoverinfo,T;if(h){var c=h.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(T=!0)}var i=C.colormodel[a.colormodel],d=i.colormodel||a.colormodel,x=d.length,w=a._scaler(y),_=i.suffix,m=[];(a.hovertemplate||T)&&(m.push("["+[w[0]+_[0],w[1]+_[1],w[2]+_[2]].join(", ")),x===4&&m.push(", "+w[3]+_[3]),m.push("]"),m=m.join(""),v.extraText=d.toUpperCase()+": "+m);var E;o(a.hovertext)&&o(a.hovertext[l])?E=a.hovertext[l][u]:o(a.text)&&o(a.text[l])&&(E=a.text[l][u]);var A=f.c2p(t.y0+(l+.5)*a.dy),s=t.x0+(u+.5)*a.dx,M=t.y0+(l+.5)*a.dy,b="["+y.slice(0,a.colormodel.length).join(", ")+"]";return[L.extendFlat(v,{index:[l,u],x0:n.c2p(t.x0+u*a.dx),x1:n.c2p(t.x0+(u+1)*a.dx),y0:A,y1:A,color:w,xVal:s,xLabelVal:s,yVal:M,yLabelVal:M,zLabelVal:b,text:E,hovertemplateLabels:{zLabel:b,colorLabel:m,"color[0]Label":w[0]+_[0],"color[1]Label":w[1]+_[1],"color[2]Label":w[2]+_[2],"color[3]Label":w[3]+_[3]}})]}}}},48928:function(V,Y,e){V.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(V,Y,e){var p=e(33428),L=e(3400),o=L.strTranslate,C=e(9616),S=e(47797),v=e(9188),g=e(2264).STYLE;V.exports=function(t,a,n,f){var u=a.xaxis,l=a.yaxis,y=!t._context._exportedPlot&&v();L.makeTraceGroups(f,n,"im").each(function(h){var T=p.select(this),c=h[0],i=c.trace,d=(i.zsmooth==="fast"||i.zsmooth===!1&&y)&&!i._hasZ&&i._hasSource&&u.type==="linear"&&l.type==="linear";i._realImage=d;var x=c.z,w=c.x0,_=c.y0,m=c.w,E=c.h,A=i.dx,s=i.dy,M,b,N,k,H,F;for(F=0;M===void 0&&F<m;)M=u.c2p(w+F*A),F++;for(F=m;b===void 0&&F>0;)b=u.c2p(w+F*A),F--;for(F=0;k===void 0&&F<E;)k=l.c2p(_+F*s),F++;for(F=E;H===void 0&&F>0;)H=l.c2p(_+F*s),F--;if(b<M&&(N=b,b=M,M=N),H<k&&(N=k,k=H,H=N),!d){var B=.5;M=Math.max(-B*u._length,M),b=Math.min((1+B)*u._length,b),k=Math.max(-B*l._length,k),H=Math.min((1+B)*l._length,H)}var U=Math.round(b-M),z=Math.round(H-k),W=U<=0||z<=0;if(W){var j=T.selectAll("image").data([]);j.exit().remove();return}function ee(J){var K=document.createElement("canvas");K.width=U,K.height=z;var ce=K.getContext("2d",{willReadFrequently:!0}),ae=function(Ne){return L.constrain(Math.round(u.c2p(w+Ne*A)-M),0,U)},de=function(Ne){return L.constrain(Math.round(l.c2p(_+Ne*s)-k),0,z)},be=S.colormodel[i.colormodel],Se=be.colormodel||i.colormodel,Te=be.fmt,Ie;for(F=0;F<c.w;F++){var ke=ae(F),Be=ae(F+1);if(!(Be===ke||isNaN(Be)||isNaN(ke)))for(var Me=0;Me<c.h;Me++){var Oe=de(Me),_e=de(Me+1);_e===Oe||isNaN(_e)||isNaN(Oe)||!J(F,Me)||(Ie=i._scaler(J(F,Me)),Ie?ce.fillStyle=Se+"("+Te(Ie).join(",")+")":ce.fillStyle="rgba(0,0,0,0)",ce.fillRect(ke,Oe,Be-ke,_e-Oe))}}return K}var ie=T.selectAll("image").data([h]);ie.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),ie.exit().remove();var oe=i.zsmooth===!1?g:"";if(d){var he=L.simpleMap(u.range,u.r2l),ne=L.simpleMap(l.range,l.r2l),q=he[1]<he[0],le=ne[1]>ne[0];if(q||le){var Q=M+U/2,te=k+z/2;oe+="transform:"+o(Q+"px",te+"px")+"scale("+(q?-1:1)+","+(le?-1:1)+")"+o(-Q+"px",-te+"px")+";"}}ie.attr("style",oe);var ue=new Promise(function(J){if(i._hasZ)J();else if(i._hasSource)if(i._canvas&&i._canvas.el.width===m&&i._canvas.el.height===E&&i._canvas.source===i.source)J();else{var K=document.createElement("canvas");K.width=m,K.height=E;var ce=K.getContext("2d",{willReadFrequently:!0});i._image=i._image||new Image;var ae=i._image;ae.onload=function(){ce.drawImage(ae,0,0),i._canvas={el:K,source:i.source},J()},ae.setAttribute("src",i.source)}}).then(function(){var J,K;if(i._hasZ)K=ee(function(de,be){var Se=x[be][de];return L.isTypedArray(Se)&&(Se=Array.from(Se)),Se}),J=K.toDataURL("image/png");else if(i._hasSource)if(d)J=i.source;else{var ce=i._canvas.el.getContext("2d",{willReadFrequently:!0}),ae=ce.getImageData(0,0,m,E).data;K=ee(function(de,be){var Se=4*(be*m+de);return[ae[Se],ae[Se+1],ae[Se+2],ae[Se+3]]}),J=K.toDataURL("image/png")}ie.attr({"xlink:href":J,height:z,width:U,x:M,y:k})});t._promises.push(ue)})}},28576:function(V,Y,e){var p=e(33428);V.exports=function(o){p.select(o).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},89864:function(V,Y,e){var p=e(92880).extendFlat,L=e(92880).extendDeep,o=e(67824).overrideAll,C=e(25376),S=e(22548),v=e(86968).u,g=e(94724),r=e(31780).templatedArray,t=e(48164),a=e(29736).descriptionOnlyNumbers,n=C({editType:"plot",colorEditType:"plot"}),f={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:S.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},l=r("step",L({},f,{range:u}));V.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:a("value")},font:p({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:a("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},f,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:S.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:o({range:u,visible:p({},g.visible,{dflt:!0}),tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:p({},g.ticks,{dflt:"outside"}),ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:C({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,editType:"plot"},"plot"),steps:l,threshold:{line:{color:p({},f.line.color,{}),width:p({},f.line.width,{dflt:1}),editType:"plot"},thickness:p({},f.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(V,Y,e){var p=e(7316);Y.name="indicator",Y.plot=function(L,o,C,S){p.plotBasePlot(Y.name,L,o,C,S)},Y.clean=function(L,o,C,S){p.cleanBasePlot(Y.name,L,o,C,S)}},79136:function(V){function Y(e,p){var L=[],o=p.value;typeof p._lastValue!="number"&&(p._lastValue=p.value);var C=p._lastValue,S=C;return p._hasDelta&&typeof p.delta.reference=="number"&&(S=p.delta.reference),L[0]={y:o,lastY:C,delta:o-S,relativeDelta:(o-S)/S},L}V.exports={calc:Y}},12096:function(V){V.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(V,Y,e){var p=e(3400),L=e(89864),o=e(86968).Q,C=e(31780),S=e(51272),v=e(12096),g=e(26332),r=e(25404),t=e(95936),a=e(42568);function n(u,l,y,h){function T(U,z){return p.coerce(u,l,L,U,z)}o(l,h,T),T("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var c=T("value");l._range=[0,typeof c=="number"?1.5*c:1];var i=new Array(2),d;if(l._hasNumber){T("number.valueformat");var x=p.extendFlat({},h.font);x.size=void 0,p.coerceFont(T,"number.font",x),l.number.font.size===void 0&&(l.number.font.size=v.defaultNumberFontSize,i[0]=!0),T("number.prefix"),T("number.suffix"),d=l.number.font.size}var w;if(l._hasDelta){var _=p.extendFlat({},h.font);_.size=void 0,p.coerceFont(T,"delta.font",_),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(d||v.defaultNumberFontSize),i[1]=!0),T("delta.reference",l.value),T("delta.relative"),T("delta.valueformat",l.delta.relative?"2%":""),T("delta.increasing.symbol"),T("delta.increasing.color"),T("delta.decreasing.symbol"),T("delta.decreasing.color"),T("delta.position"),T("delta.prefix"),T("delta.suffix"),w=l.delta.font.size}l._scaleNumbers=(!l._hasNumber||i[0])&&(!l._hasDelta||i[1])||!1;var m=p.extendFlat({},h.font);m.size=.25*(d||w||v.defaultNumberFontSize),p.coerceFont(T,"title.font",m),T("title.text");var E,A,s,M;function b(U,z){return p.coerce(E,A,L.gauge,U,z)}function N(U,z){return p.coerce(s,M,L.gauge.axis,U,z)}if(l._hasGauge){E=u.gauge,E||(E={}),A=C.newContainer(l,"gauge"),b("shape");var k=l._isBullet=l.gauge.shape==="bullet";k||T("title.align","center");var H=l._isAngular=l.gauge.shape==="angular";H||T("align","center"),b("bgcolor",h.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var F=v.valueThickness*(l.gauge.shape==="bullet"?.5:1);b("bar.thickness",F),S(E,A,{name:"steps",handleItemDefaults:f}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),s={},E&&(s=E.axis||{}),M=C.newContainer(A,"axis"),N("visible"),l._range=N("range",l._range);var B={font:h.font,noAutotickangles:!0,outerTicks:!0};g(s,M,N,"linear"),a(s,M,N,"linear",B),t(s,M,N,"linear",B),r(s,M,N,B)}else T("title.align","center"),T("align","center"),l._isAngular=l._isBullet=!1;l._length=null}function f(u,l){function y(h,T){return p.coerce(u,l,L.gauge.steps,h,T)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}V.exports={supplyDefaults:n}},43480:function(V,Y,e){V.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(V,Y,e){var p=e(33428),L=e(67756).qy,o=e(67756).Gz,C=e(3400),S=C.strScale,v=C.strTranslate,g=C.rad2deg,r=e(84284).MID_SHIFT,t=e(43616),a=e(12096),n=e(72736),f=e(54460),u=e(28336),l=e(37668),y=e(94724),h=e(76308),T={left:"start",center:"middle",right:"end"},c={left:0,center:.5,right:1},i=/[yzafpnµmkMGTPEZY]/;function d(k){return k&&k.duration>0}V.exports=function(H,F,B,U){var z=H._fullLayout,W;d(B)&&U&&(W=U()),C.makeTraceGroups(z._indicatorlayer,F,"trace").each(function(j){var ee=j[0],ie=ee.trace,oe=p.select(this),he=ie._hasGauge,ne=ie._isAngular,q=ie._isBullet,le=ie.domain,Q={w:z._size.w*(le.x[1]-le.x[0]),h:z._size.h*(le.y[1]-le.y[0]),l:z._size.l+z._size.w*le.x[0],r:z._size.r+z._size.w*(1-le.x[1]),t:z._size.t+z._size.h*(1-le.y[1]),b:z._size.b+z._size.h*le.y[0]},te=Q.l+Q.w/2,ue=Q.t+Q.h/2,J=Math.min(Q.w/2,Q.h),K=a.innerRadius*J,ce,ae,de,be=ie.align||"center";if(ae=ue,!he)ce=Q.l+c[be]*Q.w,de=function(Ce){return s(Ce,Q.w,Q.h)};else if(ne&&(ce=te,ae=ue+J/2,de=function(Ce){return M(Ce,.9*K)}),q){var Se=a.bulletPadding,Te=1-a.bulletNumberDomainSize+Se;ce=Q.l+(Te+(1-Te)*c[be])*Q.w,de=function(Ce){return s(Ce,(a.bulletNumberDomainSize-Se)*Q.w,Q.h)}}_(H,oe,j,{numbersX:ce,numbersY:ae,numbersScaler:de,transitionOpts:B,onComplete:W});var Ie,ke;he&&(Ie={range:ie.gauge.axis.range,color:ie.gauge.bgcolor,line:{color:ie.gauge.bordercolor,width:0},thickness:1},ke={range:ie.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ie.gauge.bordercolor,width:ie.gauge.borderwidth},thickness:1});var Be=oe.selectAll("g.angular").data(ne?j:[]);Be.exit().remove();var Me=oe.selectAll("g.angularaxis").data(ne?j:[]);Me.exit().remove(),ne&&w(H,oe,j,{radius:J,innerRadius:K,gauge:Be,layer:Me,size:Q,gaugeBg:Ie,gaugeOutline:ke,transitionOpts:B,onComplete:W});var Oe=oe.selectAll("g.bullet").data(q?j:[]);Oe.exit().remove();var _e=oe.selectAll("g.bulletaxis").data(q?j:[]);_e.exit().remove(),q&&x(H,oe,j,{gauge:Oe,layer:_e,size:Q,gaugeBg:Ie,gaugeOutline:ke,transitionOpts:B,onComplete:W});var Ne=oe.selectAll("text.title").data(j);Ne.exit().remove(),Ne.enter().append("text").classed("title",!0),Ne.attr("text-anchor",function(){return q?T.right:T[ie.title.align]}).text(ie.title.text).call(t.font,ie.title.font).call(n.convertToTspans,H),Ne.attr("transform",function(){var Ce=Q.l+Q.w*c[ie.title.align],Ye,rt=a.titlePadding,ot=t.bBox(Ne.node());if(he){if(ne)if(ie.gauge.axis.visible){var $e=t.bBox(Me.node());Ye=$e.top-rt-ot.bottom}else Ye=Q.t+Q.h/2-J/2-ot.bottom-rt;q&&(Ye=ae-(ot.top+ot.bottom)/2,Ce=Q.l-a.bulletPadding*Q.w)}else Ye=ie._numbersTop-rt-ot.bottom;return v(Ce,Ye)})})};function x(k,H,F,B){var U=F[0].trace,z=B.gauge,W=B.layer,j=B.gaugeBg,ee=B.gaugeOutline,ie=B.size,oe=U.domain,he=B.transitionOpts,ne=B.onComplete,q,le,Q,te,ue;z.enter().append("g").classed("bullet",!0),z.attr("transform",v(ie.l,ie.t)),W.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),W.selectAll("g.xbulletaxistick,path,text").remove();var J=ie.h,K=U.gauge.bar.thickness*J,ce=oe.x[0],ae=oe.x[0]+(oe.x[1]-oe.x[0])*(U._hasNumber||U._hasDelta?1-a.bulletNumberDomainSize:1);q=A(k,U.gauge.axis),q._id="xbulletaxis",q.domain=[ce,ae],q.setScale(),le=f.calcTicks(q),Q=f.makeTransTickFn(q),te=f.getTickSigns(q)[2],ue=ie.t+ie.h,q.visible&&(f.drawTicks(k,q,{vals:q.ticks==="inside"?f.clipEnds(q,le):le,layer:W,path:f.makeTickPath(q,ue,te),transFn:Q}),f.drawLabels(k,q,{vals:le,layer:W,transFn:Q,labelFns:f.makeLabelFns(q,ue)}));function de(Me){Me.attr("width",function(Oe){return Math.max(0,q.c2p(Oe.range[1])-q.c2p(Oe.range[0]))}).attr("x",function(Oe){return q.c2p(Oe.range[0])}).attr("y",function(Oe){return .5*(1-Oe.thickness)*J}).attr("height",function(Oe){return Oe.thickness*J})}var be=[j].concat(U.gauge.steps),Se=z.selectAll("g.bg-bullet").data(be);Se.enter().append("g").classed("bg-bullet",!0).append("rect"),Se.select("rect").call(de).call(m),Se.exit().remove();var Te=z.selectAll("g.value-bullet").data([U.gauge.bar]);Te.enter().append("g").classed("value-bullet",!0).append("rect"),Te.select("rect").attr("height",K).attr("y",(J-K)/2).call(m),d(he)?Te.select("rect").transition().duration(he.duration).ease(he.easing).each("end",function(){ne&&ne()}).each("interrupt",function(){ne&&ne()}).attr("width",Math.max(0,q.c2p(Math.min(U.gauge.axis.range[1],F[0].y)))):Te.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,q.c2p(Math.min(U.gauge.axis.range[1],F[0].y))):0),Te.exit().remove();var Ie=F.filter(function(){return U.gauge.threshold.value||U.gauge.threshold.value===0}),ke=z.selectAll("g.threshold-bullet").data(Ie);ke.enter().append("g").classed("threshold-bullet",!0).append("line"),ke.select("line").attr("x1",q.c2p(U.gauge.threshold.value)).attr("x2",q.c2p(U.gauge.threshold.value)).attr("y1",(1-U.gauge.threshold.thickness)/2*J).attr("y2",(1-(1-U.gauge.threshold.thickness)/2)*J).call(h.stroke,U.gauge.threshold.line.color).style("stroke-width",U.gauge.threshold.line.width),ke.exit().remove();var Be=z.selectAll("g.gauge-outline").data([ee]);Be.enter().append("g").classed("gauge-outline",!0).append("rect"),Be.select("rect").call(de).call(m),Be.exit().remove()}function w(k,H,F,B){var U=F[0].trace,z=B.size,W=B.radius,j=B.innerRadius,ee=B.gaugeBg,ie=B.gaugeOutline,oe=[z.l+z.w/2,z.t+z.h/2+W/2],he=B.gauge,ne=B.layer,q=B.transitionOpts,le=B.onComplete,Q=Math.PI/2;function te(qe){var ht=U.gauge.axis.range[0],vt=U.gauge.axis.range[1],pt=(qe-ht)/(vt-ht)*Math.PI-Q;return pt<-Q?-Q:pt>Q?Q:pt}function ue(qe){return p.svg.arc().innerRadius((j+W)/2-qe/2*(W-j)).outerRadius((j+W)/2+qe/2*(W-j)).startAngle(-Q)}function J(qe){qe.attr("d",function(ht){return ue(ht.thickness).startAngle(te(ht.range[0])).endAngle(te(ht.range[1]))()})}var K,ce,ae,de;he.enter().append("g").classed("angular",!0),he.attr("transform",v(oe[0],oe[1])),ne.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),ne.selectAll("g.xangularaxistick,path,text").remove(),K=A(k,U.gauge.axis),K.type="linear",K.range=U.gauge.axis.range,K._id="xangularaxis",K.ticklabeloverflow="allow",K.setScale();var be=function(qe){return(K.range[0]-qe.x)/(K.range[1]-K.range[0])*Math.PI+Math.PI},Se={},Te=f.makeLabelFns(K,0),Ie=Te.labelStandoff;Se.xFn=function(qe){var ht=be(qe);return Math.cos(ht)*Ie},Se.yFn=function(qe){var ht=be(qe),vt=Math.sin(ht)>0?.2:1;return-Math.sin(ht)*(Ie+qe.fontSize*vt)+Math.abs(Math.cos(ht))*(qe.fontSize*r)},Se.anchorFn=function(qe){var ht=be(qe),vt=Math.cos(ht);return Math.abs(vt)<.1?"middle":vt>0?"start":"end"},Se.heightFn=function(qe,ht,vt){var pt=be(qe);return-.5*(1+Math.sin(pt))*vt};var ke=function(qe){return v(oe[0]+W*Math.cos(qe),oe[1]-W*Math.sin(qe))};ae=function(qe){return ke(be(qe))};var Be=function(qe){var ht=be(qe);return ke(ht)+"rotate("+-g(ht)+")"};if(ce=f.calcTicks(K),de=f.getTickSigns(K)[2],K.visible){de=K.ticks==="inside"?-1:1;var Me=(K.linewidth||1)/2;f.drawTicks(k,K,{vals:ce,layer:ne,path:"M"+de*Me+",0h"+de*K.ticklen,transFn:Be}),f.drawLabels(k,K,{vals:ce,layer:ne,transFn:ae,labelFns:Se})}var Oe=[ee].concat(U.gauge.steps),_e=he.selectAll("g.bg-arc").data(Oe);_e.enter().append("g").classed("bg-arc",!0).append("path"),_e.select("path").call(J).call(m),_e.exit().remove();var Ne=ue(U.gauge.bar.thickness),Ce=he.selectAll("g.value-arc").data([U.gauge.bar]);Ce.enter().append("g").classed("value-arc",!0).append("path");var Ye=Ce.select("path");d(q)?(Ye.transition().duration(q.duration).ease(q.easing).each("end",function(){le&&le()}).each("interrupt",function(){le&&le()}).attrTween("d",E(Ne,te(F[0].lastY),te(F[0].y))),U._lastValue=F[0].y):Ye.attr("d",typeof F[0].y=="number"?Ne.endAngle(te(F[0].y)):"M0,0Z"),Ye.call(m),Ce.exit().remove(),Oe=[];var rt=U.gauge.threshold.value;(rt||rt===0)&&Oe.push({range:[rt,rt],color:U.gauge.threshold.color,line:{color:U.gauge.threshold.line.color,width:U.gauge.threshold.line.width},thickness:U.gauge.threshold.thickness});var ot=he.selectAll("g.threshold-arc").data(Oe);ot.enter().append("g").classed("threshold-arc",!0).append("path"),ot.select("path").call(J).call(m),ot.exit().remove();var $e=he.selectAll("g.gauge-outline").data([ie]);$e.enter().append("g").classed("gauge-outline",!0).append("path"),$e.select("path").call(J).call(m),$e.exit().remove()}function _(k,H,F,B){var U=F[0].trace,z=B.numbersX,W=B.numbersY,j=U.align||"center",ee=T[j],ie=B.transitionOpts,oe=B.onComplete,he=C.ensureSingle(H,"g","numbers"),ne,q,le,Q=[];U._hasNumber&&Q.push("number"),U._hasDelta&&(Q.push("delta"),U.delta.position==="left"&&Q.reverse());var te=he.selectAll("text").data(Q);te.enter().append("text"),te.attr("text-anchor",function(){return ee}).attr("class",function(ke){return ke}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),te.exit().remove();function ue(ke,Be,Me,Oe){if(ke.match("s")&&Me>=0!=Oe>=0&&!Be(Me).slice(-1).match(i)&&!Be(Oe).slice(-1).match(i)){var _e=ke.slice().replace("s","f").replace(/\d+/,function(Ce){return parseInt(Ce)-1}),Ne=A(k,{tickformat:_e});return function(Ce){return Math.abs(Ce)<1?f.tickText(Ne,Ce).text:Be(Ce)}}else return Be}function J(){var ke=A(k,{tickformat:U.number.valueformat},U._range);ke.setScale(),f.prepTicks(ke);var Be=function(Ce){return f.tickText(ke,Ce).text},Me=U.number.suffix,Oe=U.number.prefix,_e=he.select("text.number");function Ne(){var Ce=typeof F[0].y=="number"?Oe+Be(F[0].y)+Me:"-";_e.text(Ce).call(t.font,U.number.font).call(n.convertToTspans,k)}return d(ie)?_e.transition().duration(ie.duration).ease(ie.easing).each("end",function(){Ne(),oe&&oe()}).each("interrupt",function(){Ne(),oe&&oe()}).attrTween("text",function(){var Ce=p.select(this),Ye=o(F[0].lastY,F[0].y);U._lastValue=F[0].y;var rt=ue(U.number.valueformat,Be,F[0].lastY,F[0].y);return function(ot){Ce.text(Oe+rt(Ye(ot))+Me)}}):Ne(),ne=b(Oe+Be(F[0].y)+Me,U.number.font,ee,k),_e}function K(){var ke=A(k,{tickformat:U.delta.valueformat},U._range);ke.setScale(),f.prepTicks(ke);var Be=function(ot){return f.tickText(ke,ot).text},Me=U.delta.suffix,Oe=U.delta.prefix,_e=function(ot){var $e=U.delta.relative?ot.relativeDelta:ot.delta;return $e},Ne=function(ot,$e){return ot===0||typeof ot!="number"||isNaN(ot)?"-":(ot>0?U.delta.increasing.symbol:U.delta.decreasing.symbol)+Oe+$e(ot)+Me},Ce=function(ot){return ot.delta>=0?U.delta.increasing.color:U.delta.decreasing.color};U._deltaLastValue===void 0&&(U._deltaLastValue=_e(F[0]));var Ye=he.select("text.delta");Ye.call(t.font,U.delta.font).call(h.fill,Ce({delta:U._deltaLastValue}));function rt(){Ye.text(Ne(_e(F[0]),Be)).call(h.fill,Ce(F[0])).call(n.convertToTspans,k)}return d(ie)?Ye.transition().duration(ie.duration).ease(ie.easing).tween("text",function(){var ot=p.select(this),$e=_e(F[0]),qe=U._deltaLastValue,ht=ue(U.delta.valueformat,Be,qe,$e),vt=o(qe,$e);return U._deltaLastValue=$e,function(pt){ot.text(Ne(vt(pt),ht)),ot.call(h.fill,Ce({delta:vt(pt)}))}}).each("end",function(){rt(),oe&&oe()}).each("interrupt",function(){rt(),oe&&oe()}):rt(),q=b(Ne(_e(F[0]),Be),U.delta.font,ee,k),Ye}var ce=U.mode+U.align,ae;if(U._hasDelta&&(ae=K(),ce+=U.delta.position+U.delta.font.size+U.delta.font.family+U.delta.valueformat,ce+=U.delta.increasing.symbol+U.delta.decreasing.symbol,le=q),U._hasNumber&&(J(),ce+=U.number.font.size+U.number.font.family+U.number.valueformat+U.number.suffix+U.number.prefix,le=ne),U._hasDelta&&U._hasNumber){var de=[(ne.left+ne.right)/2,(ne.top+ne.bottom)/2],be=[(q.left+q.right)/2,(q.top+q.bottom)/2],Se,Te,Ie=.75*U.delta.font.size;U.delta.position==="left"&&(Se=N(U,"deltaPos",0,-1*(ne.width*c[U.align]+q.width*(1-c[U.align])+Ie),ce,Math.min),Te=de[1]-be[1],le={width:ne.width+q.width+Ie,height:Math.max(ne.height,q.height),left:q.left+Se,right:ne.right,top:Math.min(ne.top,q.top+Te),bottom:Math.max(ne.bottom,q.bottom+Te)}),U.delta.position==="right"&&(Se=N(U,"deltaPos",0,ne.width*(1-c[U.align])+q.width*c[U.align]+Ie,ce,Math.max),Te=de[1]-be[1],le={width:ne.width+q.width+Ie,height:Math.max(ne.height,q.height),left:ne.left,right:q.right+Se,top:Math.min(ne.top,q.top+Te),bottom:Math.max(ne.bottom,q.bottom+Te)}),U.delta.position==="bottom"&&(Se=null,Te=q.height,le={width:Math.max(ne.width,q.width),height:ne.height+q.height,left:Math.min(ne.left,q.left),right:Math.max(ne.right,q.right),top:ne.bottom-ne.height,bottom:ne.bottom+q.height}),U.delta.position==="top"&&(Se=null,Te=ne.top,le={width:Math.max(ne.width,q.width),height:ne.height+q.height,left:Math.min(ne.left,q.left),right:Math.max(ne.right,q.right),top:ne.bottom-ne.height-q.height,bottom:ne.bottom}),ae.attr({dx:Se,dy:Te})}(U._hasNumber||U._hasDelta)&&he.attr("transform",function(){var ke=B.numbersScaler(le);ce+=ke[2];var Be=N(U,"numbersScale",1,ke[0],ce,Math.min),Me;U._scaleNumbers||(Be=1),U._isAngular?Me=W-Be*le.bottom:Me=W-Be*(le.top+le.bottom)/2,U._numbersTop=Be*le.top+Me;var Oe=le[j];j==="center"&&(Oe=(le.left+le.right)/2);var _e=z-Be*Oe;return _e=N(U,"numbersTranslate",0,_e,ce,Math.max),v(_e,Me)+S(Be)})}function m(k){k.each(function(H){h.stroke(p.select(this),H.line.color)}).each(function(H){h.fill(p.select(this),H.color)}).style("stroke-width",function(H){return H.line.width})}function E(k,H,F){return function(){var B=L(H,F);return function(U){return k.endAngle(B(U))()}}}function A(k,H,F){var B=k._fullLayout,U=C.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},H),z={type:"linear",_id:"x"+H._id},W={letter:"x",font:B.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function j(ee,ie){return C.coerce(U,z,y,ee,ie)}return u(U,z,j,W,B),l(U,z,j,W),z}function s(k,H,F){var B=Math.min(H/k.width,F/k.height);return[B,k,H+"x"+F]}function M(k,H){var F=Math.sqrt(k.width/2*(k.width/2)+k.height*k.height),B=H/F;return[B,k,H]}function b(k,H,F,B){var U=document.createElementNS("http://www.w3.org/2000/svg","text"),z=p.select(U);return z.text(k).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",k).call(n.convertToTspans,B).call(t.font,H),t.bBox(z.node())}function N(k,H,F,B,U,z){var W="_cache"+H;k[W]&&k[W].key===U||(k[W]={key:U,value:F});var j=C.aggNums(z,null,[k[W].value,B],2);return k[W].value=j,j}},50048:function(V,Y,e){var p=e(49084),L=e(29736).axisHoverFormat,o=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,g=e(67824).overrideAll;function r(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var a=V.exports=g(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:o(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:v({},S.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},S.hoverinfo)}),"calc","nested");a.flatshading.dflt=!0,a.lighting.facenormalsepsilon.dflt=0,a.x.editType=a.y.editType=a.z.editType=a.value.editType="calc+clearAxisTypes",a.transforms=void 0},62624:function(V,Y,e){var p=e(47128),L=e(3832).processGrid,o=e(3832).filter;V.exports=function(S,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=o(v.x,v._len),v._y=o(v.y,v._len),v._z=o(v.z,v._len),v._value=o(v.value,v._len);var g=L(v);v._gridFill=g.fill,v._Xs=g.Xs,v._Ys=g.Ys,v._Zs=g.Zs,v._len=g.len;for(var r=1/0,t=-1/0,a=0;a<v._len;a++){var n=v._value[a];r=Math.min(r,n),t=Math.max(t,n)}v._minValues=r,v._maxValues=t,v._vMin=v.isomin===void 0||v.isomin===null?r:v.isomin,v._vMax=v.isomax===void 0||v.isomax===null?t:v.isomax,p(S,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},31460:function(V,Y,e){var p=e(67792).gl_mesh3d,L=e(33040).parseColorScale,o=e(3400).isArrayOrTypedArray,C=e(43080),S=e(8932).extractOpts,v=e(52094),g=function(u,l){for(var y=l.length-1;y>0;y--){var h=Math.min(l[y],l[y-1]),T=Math.max(l[y],l[y-1]);if(T>h&&h<u&&u<=T)return{id:y,distRatio:(T-u)/(T-h)}}return{id:0,distRatio:0}};function r(u,l,y){this.scene=u,this.uid=y,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var l=u.data.index,y=this.data._meshX[l],h=this.data._meshY[l],T=this.data._meshZ[l],c=this.data._Ys.length,i=this.data._Zs.length,d=g(y,this.data._Xs).id,x=g(h,this.data._Ys).id,w=g(T,this.data._Zs).id,_=u.index=w+i*x+i*c*d;u.traceCoordinate=[this.data._meshX[_],this.data._meshY[_],this.data._meshZ[_],this.data._value[_]];var m=this.data.hovertext||this.data.text;return o(m)&&m[_]!==void 0?u.textLabel=m[_]:m&&(u.textLabel=m),!0}},t.update=function(u){var l=this.scene,y=l.fullSceneLayout;this.data=n(u);function h(x,w,_,m){return w.map(function(E){return x.d2l(E,0,m)*_})}var T=v(h(y.xaxis,u._meshX,l.dataScale[0],u.xcalendar),h(y.yaxis,u._meshY,l.dataScale[1],u.ycalendar),h(y.zaxis,u._meshZ,l.dataScale[2],u.zcalendar)),c=v(u._meshI,u._meshJ,u._meshK),i={positions:T,cells:c,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:C(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},d=S(u);i.vertexIntensity=u._meshIntensity,i.vertexIntensityBounds=[d.min,d.max],i.colormap=L(u),this.mesh.update(i)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var a=["xyz","xzy","yxz","yzx","zxy","zyx"];function n(u){u._meshI=[],u._meshJ=[],u._meshK=[];var l=u.surface.show,y=u.spaceframe.show,h=u.surface.fill,T=u.spaceframe.fill,c=!1,i=!1,d=0,x,w,_=u._Xs,m=u._Ys,E=u._Zs,A=_.length,s=m.length,M=E.length,b=a.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),N=function(Ze,Ge,Pe){switch(b){case 5:return Pe+M*Ge+M*s*Ze;case 4:return Pe+M*Ze+M*A*Ge;case 3:return Ge+s*Pe+s*M*Ze;case 2:return Ge+s*Ze+s*A*Pe;case 1:return Ze+A*Pe+A*M*Ge;default:return Ze+A*Ge+A*s*Pe}},k=u._minValues,H=u._maxValues,F=u._vMin,B=u._vMax,U,z,W,j;function ee(Ze,Ge,Pe){for(var Re=j.length,je=w;je<Re;je++)if(Ze===U[je]&&Ge===z[je]&&Pe===W[je])return je;return-1}function ie(){w=x}function oe(){U=[],z=[],W=[],j=[],x=0,ie()}function he(Ze,Ge,Pe,Re){return U.push(Ze),z.push(Ge),W.push(Pe),j.push(Re),x++,x-1}function ne(Ze,Ge,Pe){return u._meshI.push(Ze),u._meshJ.push(Ge),u._meshK.push(Pe),d++,d-1}function q(Ze,Ge,Pe){for(var Re=[],je=0;je<Ze.length;je++)Re[je]=(Ze[je]+Ge[je]+Pe[je])/3;return Re}function le(Ze,Ge,Pe){for(var Re=[],je=0;je<Ze.length;je++)Re[je]=Ze[je]*(1-Pe)+Pe*Ge[je];return Re}var Q;function te(Ze){Q=Ze}function ue(Ze,Ge){var Pe=Ze[0],Re=Ze[1],je=Ze[2],De=q(Pe,Re,je),ge=Math.sqrt(1-Q),we=le(De,Pe,ge),Ue=le(De,Re,ge),et=le(De,je,ge),st=Ge[0],lt=Ge[1],Wt=Ge[2];return{xyzv:[[Pe,Re,Ue],[Ue,we,Pe],[Re,je,et],[et,Ue,Re],[je,Pe,we],[we,et,je]],abc:[[st,lt,-1],[-1,-1,st],[lt,Wt,-1],[-1,-1,lt],[Wt,st,-1],[-1,-1,Wt]]}}function J(Ze,Ge){return Ze==="all"||Ze===null?!0:Ze.indexOf(Ge)>-1}function K(Ze,Ge){return Ze===null?Ge:Ze}function ce(Ze,Ge,Pe){ie();var Re=[Ge],je=[Pe];if(Q>=1)Re=[Ge],je=[Pe];else if(Q>0){var De=ue(Ge,Pe);Re=De.xyzv,je=De.abc}for(var ge=0;ge<Re.length;ge++){Ge=Re[ge],Pe=je[ge];for(var we=[],Ue=0;Ue<3;Ue++){var et=Ge[Ue][0],st=Ge[Ue][1],lt=Ge[Ue][2],Wt=Ge[Ue][3],jt=Pe[Ue]>-1?Pe[Ue]:ee(et,st,lt);jt>-1?we[Ue]=jt:we[Ue]=he(et,st,lt,K(Ze,Wt))}ne(we[0],we[1],we[2])}}function ae(Ze,Ge,Pe){var Re=function(je,De,ge){ce(Ze,[Ge[je],Ge[De],Ge[ge]],[Pe[je],Pe[De],Pe[ge]])};Re(0,1,2),Re(2,3,0)}function de(Ze,Ge,Pe){var Re=function(je,De,ge){ce(Ze,[Ge[je],Ge[De],Ge[ge]],[Pe[je],Pe[De],Pe[ge]])};Re(0,1,2),Re(3,0,1),Re(2,3,0),Re(1,2,3)}function be(Ze,Ge,Pe,Re){var je=Ze[3];je<Pe&&(je=Pe),je>Re&&(je=Re);for(var De=(Ze[3]-je)/(Ze[3]-Ge[3]+1e-9),ge=[],we=0;we<4;we++)ge[we]=(1-De)*Ze[we]+De*Ge[we];return ge}function Se(Ze,Ge,Pe){return Ze>=Ge&&Ze<=Pe}function Te(Ze){var Ge=.001*(B-F);return Ze>=F-Ge&&Ze<=B+Ge}function Ie(Ze){for(var Ge=[],Pe=0;Pe<4;Pe++){var Re=Ze[Pe];Ge.push([u._x[Re],u._y[Re],u._z[Re],u._value[Re]])}return Ge}var ke=3;function Be(Ze,Ge,Pe,Re,je,De){De||(De=1),Pe=[-1,-1,-1];var ge=!1,we=[Se(Ge[0][3],Re,je),Se(Ge[1][3],Re,je),Se(Ge[2][3],Re,je)];if(!we[0]&&!we[1]&&!we[2])return!1;var Ue=function(st,lt,Wt){return Te(lt[0][3])&&Te(lt[1][3])&&Te(lt[2][3])?(ce(st,lt,Wt),!0):De<ke?Be(st,lt,Wt,F,B,++De):!1};if(we[0]&&we[1]&&we[2])return Ue(Ze,Ge,Pe)||ge;var et=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(st){if(we[st[0]]&&we[st[1]]&&!we[st[2]]){var lt=Ge[st[0]],Wt=Ge[st[1]],jt=Ge[st[2]],Tt=be(jt,lt,Re,je),Rt=be(jt,Wt,Re,je);ge=Ue(Ze,[Rt,Tt,lt],[-1,-1,Pe[st[0]]])||ge,ge=Ue(Ze,[lt,Wt,Rt],[Pe[st[0]],Pe[st[1]],-1])||ge,et=!0}}),et||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(st){if(we[st[0]]&&!we[st[1]]&&!we[st[2]]){var lt=Ge[st[0]],Wt=Ge[st[1]],jt=Ge[st[2]],Tt=be(Wt,lt,Re,je),Rt=be(jt,lt,Re,je);ge=Ue(Ze,[Rt,Tt,lt],[-1,-1,Pe[st[0]]])||ge,et=!0}}),ge}function Me(Ze,Ge,Pe,Re){var je=!1,De=Ie(Ge),ge=[Se(De[0][3],Pe,Re),Se(De[1][3],Pe,Re),Se(De[2][3],Pe,Re),Se(De[3][3],Pe,Re)];if(!ge[0]&&!ge[1]&&!ge[2]&&!ge[3])return je;if(ge[0]&&ge[1]&&ge[2]&&ge[3])return i&&(je=de(Ze,De,Ge)||je),je;var we=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ue){if(ge[Ue[0]]&&ge[Ue[1]]&&ge[Ue[2]]&&!ge[Ue[3]]){var et=De[Ue[0]],st=De[Ue[1]],lt=De[Ue[2]],Wt=De[Ue[3]];if(i)je=ce(Ze,[et,st,lt],[Ge[Ue[0]],Ge[Ue[1]],Ge[Ue[2]]])||je;else{var jt=be(Wt,et,Pe,Re),Tt=be(Wt,st,Pe,Re),Rt=be(Wt,lt,Pe,Re);je=ce(null,[jt,Tt,Rt],[-1,-1,-1])||je}we=!0}}),we||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ue){if(ge[Ue[0]]&&ge[Ue[1]]&&!ge[Ue[2]]&&!ge[Ue[3]]){var et=De[Ue[0]],st=De[Ue[1]],lt=De[Ue[2]],Wt=De[Ue[3]],jt=be(lt,et,Pe,Re),Tt=be(lt,st,Pe,Re),Rt=be(Wt,st,Pe,Re),Zt=be(Wt,et,Pe,Re);i?(je=ce(Ze,[et,Zt,jt],[Ge[Ue[0]],-1,-1])||je,je=ce(Ze,[st,Tt,Rt],[Ge[Ue[1]],-1,-1])||je):je=ae(null,[jt,Tt,Rt,Zt],[-1,-1,-1,-1])||je,we=!0}}),we)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ue){if(ge[Ue[0]]&&!ge[Ue[1]]&&!ge[Ue[2]]&&!ge[Ue[3]]){var et=De[Ue[0]],st=De[Ue[1]],lt=De[Ue[2]],Wt=De[Ue[3]],jt=be(st,et,Pe,Re),Tt=be(lt,et,Pe,Re),Rt=be(Wt,et,Pe,Re);i?(je=ce(Ze,[et,jt,Tt],[Ge[Ue[0]],-1,-1])||je,je=ce(Ze,[et,Tt,Rt],[Ge[Ue[0]],-1,-1])||je,je=ce(Ze,[et,Rt,jt],[Ge[Ue[0]],-1,-1])||je):je=ce(null,[jt,Tt,Rt],[-1,-1,-1])||je,we=!0}}),je}function Oe(Ze,Ge,Pe,Re,je,De,ge,we,Ue,et,st){var lt=!1;return c&&(J(Ze,"A")&&(lt=Me(null,[Ge,Pe,Re,De],et,st)||lt),J(Ze,"B")&&(lt=Me(null,[Pe,Re,je,Ue],et,st)||lt),J(Ze,"C")&&(lt=Me(null,[Pe,De,ge,Ue],et,st)||lt),J(Ze,"D")&&(lt=Me(null,[Re,De,we,Ue],et,st)||lt),J(Ze,"E")&&(lt=Me(null,[Pe,Re,De,Ue],et,st)||lt)),i&&(lt=Me(Ze,[Pe,Re,De,Ue],et,st)||lt),lt}function _e(Ze,Ge,Pe,Re,je,De,ge,we){return[we[0]===!0?!0:Be(Ze,Ie([Ge,Pe,Re]),[Ge,Pe,Re],De,ge),we[1]===!0?!0:Be(Ze,Ie([Re,je,Ge]),[Re,je,Ge],De,ge)]}function Ne(Ze,Ge,Pe,Re,je,De,ge,we,Ue){return we?_e(Ze,Ge,Pe,je,Re,De,ge,Ue):_e(Ze,Pe,je,Re,Ge,De,ge,Ue)}function Ce(Ze,Ge,Pe,Re,je,De,ge){var we=!1,Ue,et,st,lt,Wt=function(){we=Be(Ze,[Ue,et,st],[-1,-1,-1],je,De)||we,we=Be(Ze,[st,lt,Ue],[-1,-1,-1],je,De)||we},jt=ge[0],Tt=ge[1],Rt=ge[2];return jt&&(Ue=le(Ie([N(Ge,Pe-0,Re-0)])[0],Ie([N(Ge-1,Pe-0,Re-0)])[0],jt),et=le(Ie([N(Ge,Pe-0,Re-1)])[0],Ie([N(Ge-1,Pe-0,Re-1)])[0],jt),st=le(Ie([N(Ge,Pe-1,Re-1)])[0],Ie([N(Ge-1,Pe-1,Re-1)])[0],jt),lt=le(Ie([N(Ge,Pe-1,Re-0)])[0],Ie([N(Ge-1,Pe-1,Re-0)])[0],jt),Wt()),Tt&&(Ue=le(Ie([N(Ge-0,Pe,Re-0)])[0],Ie([N(Ge-0,Pe-1,Re-0)])[0],Tt),et=le(Ie([N(Ge-0,Pe,Re-1)])[0],Ie([N(Ge-0,Pe-1,Re-1)])[0],Tt),st=le(Ie([N(Ge-1,Pe,Re-1)])[0],Ie([N(Ge-1,Pe-1,Re-1)])[0],Tt),lt=le(Ie([N(Ge-1,Pe,Re-0)])[0],Ie([N(Ge-1,Pe-1,Re-0)])[0],Tt),Wt()),Rt&&(Ue=le(Ie([N(Ge-0,Pe-0,Re)])[0],Ie([N(Ge-0,Pe-0,Re-1)])[0],Rt),et=le(Ie([N(Ge-0,Pe-1,Re)])[0],Ie([N(Ge-0,Pe-1,Re-1)])[0],Rt),st=le(Ie([N(Ge-1,Pe-1,Re)])[0],Ie([N(Ge-1,Pe-1,Re-1)])[0],Rt),lt=le(Ie([N(Ge-1,Pe-0,Re)])[0],Ie([N(Ge-1,Pe-0,Re-1)])[0],Rt),Wt()),we}function Ye(Ze,Ge,Pe,Re,je,De,ge,we,Ue,et,st,lt){var Wt=Ze;return lt?(c&&Ze==="even"&&(Wt=null),Oe(Wt,Ge,Pe,Re,je,De,ge,we,Ue,et,st)):(c&&Ze==="odd"&&(Wt=null),Oe(Wt,Ue,we,ge,De,je,Re,Pe,Ge,et,st))}function rt(Ze,Ge,Pe,Re,je){for(var De=[],ge=0,we=0;we<Ge.length;we++)for(var Ue=Ge[we],et=1;et<M;et++)for(var st=1;st<s;st++)De.push(Ne(Ze,N(Ue,st-1,et-1),N(Ue,st-1,et),N(Ue,st,et-1),N(Ue,st,et),Pe,Re,(Ue+st+et)%2,je&&je[ge]?je[ge]:[])),ge++;return De}function ot(Ze,Ge,Pe,Re,je){for(var De=[],ge=0,we=0;we<Ge.length;we++)for(var Ue=Ge[we],et=1;et<A;et++)for(var st=1;st<M;st++)De.push(Ne(Ze,N(et-1,Ue,st-1),N(et,Ue,st-1),N(et-1,Ue,st),N(et,Ue,st),Pe,Re,(et+Ue+st)%2,je&&je[ge]?je[ge]:[])),ge++;return De}function $e(Ze,Ge,Pe,Re,je){for(var De=[],ge=0,we=0;we<Ge.length;we++)for(var Ue=Ge[we],et=1;et<s;et++)for(var st=1;st<A;st++)De.push(Ne(Ze,N(st-1,et-1,Ue),N(st-1,et,Ue),N(st,et-1,Ue),N(st,et,Ue),Pe,Re,(st+et+Ue)%2,je&&je[ge]?je[ge]:[])),ge++;return De}function qe(Ze,Ge,Pe){for(var Re=1;Re<M;Re++)for(var je=1;je<s;je++)for(var De=1;De<A;De++)Ye(Ze,N(De-1,je-1,Re-1),N(De-1,je-1,Re),N(De-1,je,Re-1),N(De-1,je,Re),N(De,je-1,Re-1),N(De,je-1,Re),N(De,je,Re-1),N(De,je,Re),Ge,Pe,(De+je+Re)%2)}function ht(Ze,Ge,Pe){i=!0,qe(Ze,Ge,Pe),i=!1}function vt(Ze,Ge,Pe){c=!0,qe(Ze,Ge,Pe),c=!1}function pt(Ze,Ge,Pe,Re,je,De){for(var ge=[],we=0,Ue=0;Ue<Ge.length;Ue++)for(var et=Ge[Ue],st=1;st<M;st++)for(var lt=1;lt<s;lt++)ge.push(Ce(Ze,et,lt,st,Pe,Re,je[Ue],De&&De[we]?De[we]:[])),we++;return ge}function wt(Ze,Ge,Pe,Re,je,De){for(var ge=[],we=0,Ue=0;Ue<Ge.length;Ue++)for(var et=Ge[Ue],st=1;st<A;st++)for(var lt=1;lt<M;lt++)ge.push(Ce(Ze,st,et,lt,Pe,Re,je[Ue],De&&De[we]?De[we]:[])),we++;return ge}function Mt(Ze,Ge,Pe,Re,je,De){for(var ge=[],we=0,Ue=0;Ue<Ge.length;Ue++)for(var et=Ge[Ue],st=1;st<s;st++)for(var lt=1;lt<A;lt++)ge.push(Ce(Ze,lt,st,et,Pe,Re,je[Ue],De&&De[we]?De[we]:[])),we++;return ge}function nt(Ze,Ge){for(var Pe=[],Re=Ze;Re<Ge;Re++)Pe.push(Re);return Pe}function Fe(){for(var Ze=0;Ze<A;Ze++)for(var Ge=0;Ge<s;Ge++)for(var Pe=0;Pe<M;Pe++){var Re=N(Ze,Ge,Pe);he(u._x[Re],u._y[Re],u._z[Re],u._value[Re])}}function We(){oe(),Fe();var Ze=null;if(y&&T&&(te(T),ht(Ze,F,B)),l&&h){te(h);for(var Ge=u.surface.pattern,Pe=u.surface.count,Re=0;Re<Pe;Re++){var je=Pe===1?.5:Re/(Pe-1),De=(1-je)*F+je*B,ge=Math.abs(De-k),we=Math.abs(De-H),Ue=ge>we?[k,De]:[De,H];vt(Ge,Ue[0],Ue[1])}}var et=[[Math.min(F,H),Math.max(F,H)],[Math.min(k,B),Math.max(k,B)]];["x","y","z"].forEach(function(st){for(var lt=[],Wt=0;Wt<et.length;Wt++){var jt=0,Tt=et[Wt][0],Rt=et[Wt][1],Zt=u.slices[st];if(Zt.show&&Zt.fill){te(Zt.fill);var mr=[],gt=[],Kt=[];if(Zt.locations.length)for(var $t=0;$t<Zt.locations.length;$t++){var br=g(Zt.locations[$t],st==="x"?_:st==="y"?m:E);br.distRatio===0?mr.push(br.id):br.id>0&&(gt.push(br.id),st==="x"?Kt.push([br.distRatio,0,0]):st==="y"?Kt.push([0,br.distRatio,0]):Kt.push([0,0,br.distRatio]))}else st==="x"?mr=nt(1,A-1):st==="y"?mr=nt(1,s-1):mr=nt(1,M-1);gt.length>0&&(st==="x"?lt[jt]=pt(Ze,gt,Tt,Rt,Kt,lt[jt]):st==="y"?lt[jt]=wt(Ze,gt,Tt,Rt,Kt,lt[jt]):lt[jt]=Mt(Ze,gt,Tt,Rt,Kt,lt[jt]),jt++),mr.length>0&&(st==="x"?lt[jt]=rt(Ze,mr,Tt,Rt,lt[jt]):st==="y"?lt[jt]=ot(Ze,mr,Tt,Rt,lt[jt]):lt[jt]=$e(Ze,mr,Tt,Rt,lt[jt]),jt++)}var lr=u.caps[st];lr.show&&lr.fill&&(te(lr.fill),st==="x"?lt[jt]=rt(Ze,[0,A-1],Tt,Rt,lt[jt]):st==="y"?lt[jt]=ot(Ze,[0,s-1],Tt,Rt,lt[jt]):lt[jt]=$e(Ze,[0,M-1],Tt,Rt,lt[jt]),jt++)}}),d===0&&oe(),u._meshX=U,u._meshY=z,u._meshZ=W,u._meshIntensity=j,u._Xs=_,u._Ys=m,u._Zs=E}return We(),u}function f(u,l){var y=u.glplot.gl,h=p({gl:y}),T=new r(u,h,l.uid);return h._trace=T,T.update(l),u.glplot.add(h),T}V.exports={findNearestOnAxis:g,generateIsoMeshes:n,createIsosurfaceTrace:f}},70548:function(V,Y,e){var p=e(3400),L=e(24040),o=e(50048),C=e(27260);function S(g,r,t,a){function n(f,u){return p.coerce(g,r,o,f,u)}v(g,r,t,a,n)}function v(g,r,t,a,n){var f=n("isomin"),u=n("isomax");u!=null&&f!==void 0&&f!==null&&f>u&&(r.isomin=null,r.isomax=null);var l=n("x"),y=n("y"),h=n("z"),T=n("value");if(!l||!l.length||!y||!y.length||!h||!h.length||!T||!T.length){r.visible=!1;return}var c=L.getComponentMethod("calendars","handleTraceDefaults");c(g,r,["x","y","z"],a),n("valuehoverformat"),["x","y","z"].forEach(function(w){n(w+"hoverformat");var _="caps."+w,m=n(_+".show");m&&n(_+".fill");var E="slices."+w,A=n(E+".show");A&&(n(E+".fill"),n(E+".locations"))});var i=n("spaceframe.show");i&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var x=n("contour.show");x&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(w){n(w)}),C(g,r,a,n,{prefix:"",cLetter:"c"}),r._length=null}V.exports={supplyDefaults:S,supplyIsoDefaults:v}},6296:function(V,Y,e){V.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(V,Y,e){var p=e(49084),L=e(29736).axisHoverFormat,o=e(21776).Ks,C=e(16716),S=e(45464),v=e(92880).extendFlat;V.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:o({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},S.hoverinfo,{editType:"calc"}),showlegend:v({},S.showlegend,{dflt:!1})})},1876:function(V,Y,e){var p=e(47128);V.exports=function(o,C){C.intensity&&p(o,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},576:function(V,Y,e){var p=e(67792).gl_mesh3d,L=e(67792).delaunay_triangulate,o=e(67792).alpha_shape,C=e(67792).convex_hull,S=e(33040).parseColorScale,v=e(3400).isArrayOrTypedArray,g=e(43080),r=e(8932).extractOpts,t=e(52094);function a(c,i,d){this.scene=c,this.uid=d,this.mesh=i,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var n=a.prototype;n.handlePick=function(c){if(c.object===this.mesh){var i=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[i],this.data.y[i],this.data.z[i]];var d=this.data.hovertext||this.data.text;return v(d)&&d[i]!==void 0?c.textLabel=d[i]:d&&(c.textLabel=d),!0}};function f(c){for(var i=[],d=c.length,x=0;x<d;x++)i[x]=g(c[x]);return i}function u(c,i,d,x){for(var w=[],_=i.length,m=0;m<_;m++)w[m]=c.d2l(i[m],0,x)*d;return w}function l(c){for(var i=[],d=c.length,x=0;x<d;x++)i[x]=Math.round(c[x]);return i}function y(c,i){for(var d=["x","y","z"].indexOf(c),x=[],w=i.length,_=0;_<w;_++)x[_]=[i[_][(d+1)%3],i[_][(d+2)%3]];return L(x)}function h(c,i){for(var d=c.length,x=0;x<d;x++)if(c[x]<=-.5||c[x]>=i-.5)return!1;return!0}n.update=function(c){var i=this.scene,d=i.fullSceneLayout;this.data=c;var x=c.x.length,w=t(u(d.xaxis,c.x,i.dataScale[0],c.xcalendar),u(d.yaxis,c.y,i.dataScale[1],c.ycalendar),u(d.zaxis,c.z,i.dataScale[2],c.zcalendar)),_;if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!h(c.i,x)||!h(c.j,x)||!h(c.k,x))return;_=t(l(c.i),l(c.j),l(c.k))}else c.alphahull===0?_=C(w):c.alphahull>0?_=o(c.alphahull,w):_=y(c.delaunayaxis,w);var m={positions:w,cells:_,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:g(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var E=r(c);this.color="#fff";var A=c.intensitymode;m[A+"Intensity"]=c.intensity,m[A+"IntensityBounds"]=[E.min,E.max],m.colormap=S(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=f(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=f(c.facecolor)):(this.color=c.color,m.meshColor=g(c.color));this.mesh.update(m)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function T(c,i){var d=c.glplot.gl,x=p({gl:d}),w=new a(c,x,i.uid);return x._trace=w,w.update(i),c.glplot.add(x),w}V.exports=T},74212:function(V,Y,e){var p=e(24040),L=e(3400),o=e(27260),C=e(52948);V.exports=function(v,g,r,t){function a(y,h){return L.coerce(v,g,C,y,h)}function n(y){var h=y.map(function(T){var c=a(T);return c&&L.isArrayOrTypedArray(c)?c:null});return h.every(function(T){return T&&T.length===h[0].length})&&h}var f=n(["x","y","z"]);if(!f){g.visible=!1;return}if(n(["i","j","k"]),g.i&&(!g.j||!g.k)||g.j&&(!g.k||!g.i)||g.k&&(!g.i||!g.j)){g.visible=!1;return}var u=p.getComponentMethod("calendars","handleTraceDefaults");u(v,g,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){a(y)});var l=a("contour.show");l&&(a("contour.color"),a("contour.width")),"intensity"in v?(a("intensity"),a("intensitymode"),o(v,g,t,a,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in v?a("facecolor"):"vertexcolor"in v?a("vertexcolor"):a("color",r)),a("text"),a("hovertext"),a("hovertemplate"),a("xhoverformat"),a("yhoverformat"),a("zhoverformat"),g._length=null}},7404:function(V,Y,e){V.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(V,Y,e){var p=e(3400).extendFlat,L=e(52904),o=e(29736).axisHoverFormat,C=e(98192).u,S=e(55756),v=e(48164),g=v.INCREASING.COLOR,r=v.DECREASING.COLOR,t=L.line;function a(n){return{line:{color:p({},t.color,{dflt:n}),width:t.width,dash:C,editType:"style"},editType:"style"}}V.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:o("x"),yhoverformat:o("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},t.width,{}),dash:p({},C,{}),editType:"style"},increasing:a(g),decreasing:a(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},S.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}}),zorder:L.zorder}},42812:function(V,Y,e){var p=e(3400),L=p._,o=e(54460),C=e(1220),S=e(39032).BADNUM;function v(a,n){var f=o.getFromId(a,n.xaxis),u=o.getFromId(a,n.yaxis),l=t(a,f,n),y=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var T=n._xcalc;n._xcalc=null;var c=r(a,n,h,T,u,g);return n._extremes[f._id]=o.findExtremes(f,T,{vpad:y/2}),c.length?(p.extendFlat(c[0].t,{wHover:y/2,tickLen:l}),c):[{t:{empty:!0}}]}function g(a,n,f,u){return{o:a,h:n,l:f,c:u}}function r(a,n,f,u,l,y){for(var h=l.makeCalcdata(n,"open"),T=l.makeCalcdata(n,"high"),c=l.makeCalcdata(n,"low"),i=l.makeCalcdata(n,"close"),d=p.isArrayOrTypedArray(n.text),x=p.isArrayOrTypedArray(n.hovertext),w=!0,_=null,m=!!n.xperiodalignment,E=[],A=0;A<u.length;A++){var s=u[A],M=h[A],b=T[A],N=c[A],k=i[A];if(s!==S&&M!==S&&b!==S&&N!==S&&k!==S){k===M?_!==null&&k!==_&&(w=k>_):w=k>M,_=k;var H=y(M,b,N,k);H.pos=s,H.yc=(M+k)/2,H.i=A,H.dir=w?"increasing":"decreasing",H.x=H.pos,H.y=[N,b],m&&(H.orig_p=f[A]),d&&(H.tx=n.text[A]),x&&(H.htx=n.hovertext[A]),E.push(H)}else E.push({pos:s,empty:!0})}return n._extremes[l._id]=o.findExtremes(l,p.concat(c,T),{padded:!0}),E.length&&(E[0].t={labels:{open:L(a,"open:")+" ",high:L(a,"high:")+" ",low:L(a,"low:")+" ",close:L(a,"close:")+" "}}),E}function t(a,n,f){var u=f._minDiff;if(!u){var l=a._fullData,y=[];u=1/0;var h;for(h=0;h<l.length;h++){var T=l[h];if(T.type==="ohlc"&&T.visible===!0&&T.xaxis===n._id){y.push(T);var c=n.makeCalcdata(T,"x");T._origX=c;var i=C(f,n,"x",c).vals;T._xcalc=i;var d=p.distinctVals(i).minDiff;d&&isFinite(d)&&(u=Math.min(u,d))}}for(u===1/0&&(u=1),h=0;h<y.length;h++)y[h]._minDiff=u}return u*f.tickwidth}V.exports={calc:v,calcCommon:r}},23860:function(V,Y,e){var p=e(3400),L=e(52744),o=e(31147),C=e(20279);V.exports=function(g,r,t,a){function n(u,l){return p.coerce(g,r,C,u,l)}var f=L(g,r,n,a);if(!f){r.visible=!1;return}o(g,r,a,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),S(g,r,n,"increasing"),S(g,r,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),a._requestRangeslider[r.xaxis]=!0,n("zorder")};function S(v,g,r,t){r(t+".line.color"),r(t+".line.width",g.line.width),r(t+".line.dash",g.line.dash)}},18720:function(V,Y,e){var p=e(54460),L=e(3400),o=e(93024),C=e(76308),S=e(3400).fillText,v=e(48164),g={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function r(f,u,l,y){var h=f.cd,T=h[0].trace;return T.hoverlabel.split?a(f,u,l,y):n(f,u,l,y)}function t(f,u,l,y){var h=f.cd,T=f.xa,c=h[0].trace,i=h[0].t,d=c.type,x=d==="ohlc"?"l":"min",w=d==="ohlc"?"h":"max",_,m,E=i.bPos||0,A=function(j){return j.pos+E-u},s=i.bdPos||i.tickLen,M=i.wHover,b=Math.min(1,s/Math.abs(T.r2c(T.range[1])-T.r2c(T.range[0])));_=f.maxHoverDistance-b,m=f.maxSpikeDistance-b;function N(j){var ee=A(j);return o.inbox(ee-M,ee+M,_)}function k(j){var ee=j[x],ie=j[w];return ee===ie||o.inbox(ee-l,ie-l,_)}function H(j){return(N(j)+k(j))/2}var F=o.getDistanceFunction(y,N,k,H);if(o.getClosest(h,F,f),f.index===!1)return null;var B=h[f.index];if(B.empty)return null;var U=B.dir,z=c[U],W=z.line.color;return C.opacity(W)&&z.line.width?f.color=W:f.color=z.fillcolor,f.x0=T.c2p(B.pos+E-s,!0),f.x1=T.c2p(B.pos+E+s,!0),f.xLabelVal=B.orig_p!==void 0?B.orig_p:B.pos,f.spikeDistance=H(B)*m/_,f.xSpike=T.c2p(B.pos,!0),f}function a(f,u,l,y){var h=f.cd,T=f.ya,c=h[0].trace,i=h[0].t,d=[],x=t(f,u,l,y);if(!x)return[];var w=x.index,_=h[w],m=_.hi||c.hoverinfo,E=m.split("+"),A=m==="all",s=A||E.indexOf("y")!==-1;if(!s)return[];for(var M=["high","open","close","low"],b={},N=0;N<M.length;N++){var k=M[N],H=c[k][x.index],F=T.c2p(H,!0),B;H in b?(B=b[H],B.yLabel+="<br>"+i.labels[k]+p.hoverLabelText(T,H,c.yhoverformat)):(B=L.extendFlat({},x),B.y0=B.y1=F,B.yLabelVal=H,B.yLabel=i.labels[k]+p.hoverLabelText(T,H,c.yhoverformat),B.name="",d.push(B),b[H]=B)}return d}function n(f,u,l,y){var h=f.cd,T=f.ya,c=h[0].trace,i=h[0].t,d=t(f,u,l,y);if(!d)return[];var x=d.index,w=h[x],_=d.index=w.i,m=w.dir;function E(H){return i.labels[H]+p.hoverLabelText(T,c[H][_],c.yhoverformat)}var A=w.hi||c.hoverinfo,s=A.split("+"),M=A==="all",b=M||s.indexOf("y")!==-1,N=M||s.indexOf("text")!==-1,k=b?[E("open"),E("high"),E("low"),E("close")+"  "+g[m]]:[];return N&&S(w,c,k),d.extraText=k.join("<br>"),d.y0=d.y1=T.c2p(w.yc,!0),[d]}V.exports={hoverPoints:r,hoverSplit:a,hoverOnPoints:n}},65456:function(V,Y,e){V.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(V,Y,e){var p=e(24040),L=e(3400);V.exports=function(C,S,v,g){var r=v("x"),t=v("open"),a=v("high"),n=v("low"),f=v("close");v("hoverlabel.split");var u=p.getComponentMethod("calendars","handleTraceDefaults");if(u(C,S,["x"],g),!!(t&&a&&n&&f)){var l=Math.min(t.length,a.length,n.length,f.length);return r&&(l=Math.min(l,L.minRowLength(r))),S._length=l,l}}},36664:function(V,Y,e){var p=e(33428),L=e(3400);V.exports=function(C,S,v,g){var r=S.yaxis,t=S.xaxis,a=!!t.rangebreaks;L.makeTraceGroups(g,v,"trace ohlc").each(function(n){var f=p.select(this),u=n[0],l=u.t,y=u.trace;if(y.visible!==!0||l.empty){f.remove();return}var h=l.tickLen,T=f.selectAll("path").data(L.identity);T.enter().append("path"),T.exit().remove(),T.attr("d",function(c){if(c.empty)return"M0,0Z";var i=t.c2p(c.pos-h,!0),d=t.c2p(c.pos+h,!0),x=a?(i+d)/2:t.c2p(c.pos,!0),w=r.c2p(c.o,!0),_=r.c2p(c.h,!0),m=r.c2p(c.l,!0),E=r.c2p(c.c,!0);return"M"+i+","+w+"H"+x+"M"+x+","+_+"V"+m+"M"+d+","+E+"H"+x})})}},97384:function(V){V.exports=function(e,p){var L=e.cd,o=e.xaxis,C=e.yaxis,S=[],v,g=L[0].t.bPos||0;if(p===!1)for(v=0;v<L.length;v++)L[v].selected=0;else for(v=0;v<L.length;v++){var r=L[v];p.contains([o.c2p(r.pos+g),C.c2p(r.yc)],null,r.i,e)?(S.push({pointNumber:r.i,x:o.c2d(r.pos),y:C.c2d(r.yc)}),r.selected=1):r.selected=0}return S}},14008:function(V,Y,e){var p=e(33428),L=e(43616),o=e(76308);V.exports=function(S,v,g){var r=g||p.select(S).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var a=t[0].trace;p.select(this).selectAll("path").each(function(n){if(!n.empty){var f=a[n.dir].line;p.select(this).style("fill","none").call(o.stroke,f.color).call(L.dashLine,f.dash,f.width).style("opacity",a.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(V,Y,e){var p=e(92880).extendFlat,L=e(45464),o=e(25376),C=e(49084),S=e(21776).Ks,v=e(86968).u,g=p({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});V.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:S({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:o({editType:"calc"}),tickfont:o({autoShadowDflt:!0,editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:g,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(V,Y,e){var p=e(84888)._M,L=e(60268),o="parcats";Y.name=o,Y.plot=function(C,S,v,g){var r=p(C.calcdata,o);if(r.length){var t=r[0];L(C,t,v,g)}},Y.clean=function(C,S,v,g){var r=g._has&&g._has("parcats"),t=S._has&&S._has("parcats");r&&!t&&g._paperdiv.selectAll(".parcats").remove()}},69136:function(V,Y,e){var p=e(71688).wrap,L=e(94288).hasColorscale,o=e(47128),C=e(68944),S=e(43616),v=e(3400),g=e(38248);V.exports=function(i,d){var x=v.filterVisible(d.dimensions);if(x.length===0)return[];var w=x.map(function(ne){var q;if(ne.categoryorder==="trace")q=null;else if(ne.categoryorder==="array")q=ne.categoryarray;else{q=C(ne.values);for(var le=!0,Q=0;Q<q.length;Q++)if(!g(q[Q])){le=!1;break}q.sort(le?v.sorterAsc:void 0),ne.categoryorder==="category descending"&&(q=q.reverse())}return l(ne.values,q)}),_,m,E;v.isArrayOrTypedArray(d.counts)?_=d.counts:_=[d.counts],y(x),x.forEach(function(ne,q){h(ne,w[q])});var A=d.line,s;A?(L(d,"line")&&o(i,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),s=S.tryColorscale(A)):s=v.identity;function M(ne){var q,le;return v.isArrayOrTypedArray(A.color)?(q=A.color[ne%A.color.length],le=q):q=A.color,{color:s(q),rawColor:le}}var b=x[0].values.length,N={},k=w.map(function(ne){return ne.inds});E=0;var H,F;for(H=0;H<b;H++){var B=[];for(F=0;F<k.length;F++)B.push(k[F][H]);m=_[H%_.length],E+=m;var U=M(H),z=B+"-"+U.rawColor;N[z]===void 0&&(N[z]=f(B,U.color,U.rawColor)),u(N[z],H,m)}var W=x.map(function(ne,q){return t(q,ne._index,ne._displayindex,ne.label,E)});for(H=0;H<b;H++)for(m=_[H%_.length],F=0;F<W.length;F++){var j=W[F].containerInd,ee=w[F].inds[H],ie=W[F].categories;if(ie[ee]===void 0){var oe=d.dimensions[j]._categoryarray[ee],he=d.dimensions[j]._ticktext[ee];ie[ee]=a(F,ee,oe,he)}n(ie[ee],H,m)}return p(r(W,N,E))};function r(c,i,d){var x=c.map(function(w){return w.categories.length}).reduce(function(w,_){return Math.max(w,_)});return{dimensions:c,paths:i,trace:void 0,maxCats:x,count:d}}function t(c,i,d,x,w){return{dimensionInd:c,containerInd:i,displayInd:d,dimensionLabel:x,count:w,categories:[],dragX:null}}function a(c,i,d,x){return{dimensionInd:c,categoryInd:i,categoryValue:d,displayInd:i,categoryLabel:x,valueInds:[],count:0,dragY:null}}function n(c,i,d){c.valueInds.push(i),c.count+=d}function f(c,i,d){return{categoryInds:c,color:i,rawColor:d,valueInds:[],count:0}}function u(c,i,d){c.valueInds.push(i),c.count+=d}function l(c,i){i==null?i=[]:i=i.map(function(s){return s});var d={},x={},w=[];i.forEach(function(s,M){d[s]=0,x[s]=M});for(var _=0;_<c.length;_++){var m=c[_],E;d[m]===void 0?(d[m]=1,E=i.push(m)-1,x[m]=E):(d[m]++,E=x[m]),w.push(E)}var A=i.map(function(s){return d[s]});return{uniqueValues:i,uniqueCounts:A,inds:w}}function y(c){var i=c.map(function(x){return x.displayindex}),d;if(T(i))for(d=0;d<c.length;d++)c[d]._displayindex=c[d].displayindex;else for(d=0;d<c.length;d++)c[d]._displayindex=d}function h(c,i){c._categoryarray=i.uniqueValues,c.ticktext===null||c.ticktext===void 0?c._ticktext=[]:c._ticktext=c.ticktext.slice();for(var d=c._ticktext.length;d<i.uniqueValues.length;d++)c._ticktext.push(i.uniqueValues[d])}function T(c){for(var i=new Array(c.length),d=0;d<c.length;d++){if(c[d]<0||c[d]>=c.length||i[c[d]]!==void 0)return!1;i[c[d]]=!0}return!0}},76671:function(V,Y,e){var p=e(3400),L=e(94288).hasColorscale,o=e(27260),C=e(86968).Q,S=e(51272),v=e(72140),g=e(26284),r=e(38116).isTypedArraySpec;function t(n,f,u,l,y){y("line.shape"),y("line.hovertemplate");var h=y("line.color",l.colorway[0]);if(L(n,"line")&&p.isArrayOrTypedArray(h)){if(h.length)return y("line.colorscale"),o(n,f,l,y,{prefix:"line.",cLetter:"c"}),h.length;f.line.color=u}return 1/0}function a(n,f){function u(d,x){return p.coerce(n,f,v.dimensions,d,x)}var l=u("values"),y=u("visible");if(l&&l.length||(y=f.visible=!1),y){u("label"),u("displayindex",f._index);var h=n.categoryarray,T=p.isArrayOrTypedArray(h)&&h.length>0||r(h),c;T&&(c="array");var i=u("categoryorder",c);i==="array"?(u("categoryarray"),u("ticktext")):(delete n.categoryarray,delete n.ticktext),!T&&i==="array"&&(f.categoryorder="trace")}}V.exports=function(f,u,l,y){function h(d,x){return p.coerce(f,u,v,d,x)}var T=S(f,u,{name:"dimensions",handleItemDefaults:a}),c=t(f,u,l,y,h);C(u,y,h),(!Array.isArray(T)||!T.length)&&(u.visible=!1),g(u,T,"values",c),h("hoveron"),h("hovertemplate"),h("arrangement"),h("bundlecolors"),h("sortpaths"),h("counts");var i=y.font;p.coerceFont(h,"labelfont",i,{overrideDflt:{size:Math.round(i.size)}}),p.coerceFont(h,"tickfont",i,{autoShadowDflt:!0,overrideDflt:{size:Math.round(i.size/1.2)}})}},22020:function(V,Y,e){V.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(V,Y,e){var p=e(33428),L=e(67756).Gz,o=e(36424),C=e(93024),S=e(3400),v=S.strTranslate,g=e(43616),r=e(49760),t=e(72736);function a(Q,te,ue,J){var K=te._context.staticPlot,ce=Q.map(oe.bind(0,te,ue)),ae=J.selectAll("g.parcatslayer").data([null]);ae.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var de=ae.selectAll("g.trace.parcats").data(ce,n),be=de.enter().append("g").attr("class","trace parcats");de.attr("transform",function(Ce){return v(Ce.x,Ce.y)}),be.append("g").attr("class","paths");var Se=de.select("g.paths"),Te=Se.selectAll("path.path").data(function(Ce){return Ce.paths},n);Te.attr("fill",function(Ce){return Ce.model.color});var Ie=Te.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ce){return Ce.model.color}).attr("fill-opacity",0);i(Ie),Te.attr("d",function(Ce){return Ce.svgD}),Ie.empty()||Te.sort(u),Te.exit().remove(),Te.on("mouseover",l).on("mouseout",y).on("click",c),be.append("g").attr("class","dimensions");var ke=de.select("g.dimensions"),Be=ke.selectAll("g.dimension").data(function(Ce){return Ce.dimensions},n);Be.enter().append("g").attr("class","dimension"),Be.attr("transform",function(Ce){return v(Ce.x,0)}),Be.exit().remove();var Me=Be.selectAll("g.category").data(function(Ce){return Ce.categories},n),Oe=Me.enter().append("g").attr("class","category");Me.attr("transform",function(Ce){return v(0,Ce.y)}),Oe.append("rect").attr("class","catrect").attr("pointer-events","none"),Me.select("rect.catrect").attr("fill","none").attr("width",function(Ce){return Ce.width}).attr("height",function(Ce){return Ce.height}),w(Oe);var _e=Me.selectAll("rect.bandrect").data(function(Ce){return Ce.bands},n);_e.each(function(){S.raiseToTop(this)}),_e.attr("fill",function(Ce){return Ce.color});var Ne=_e.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ce){return Ce.color}).attr("fill-opacity",0);_e.attr("fill",function(Ce){return Ce.color}).attr("width",function(Ce){return Ce.width}).attr("height",function(Ce){return Ce.height}).attr("y",function(Ce){return Ce.y}).attr("cursor",function(Ce){return Ce.parcatsViewModel.arrangement==="fixed"?"default":Ce.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Ne),_e.exit().remove(),Oe.append("text").attr("class","catlabel").attr("pointer-events","none"),Me.select("text.catlabel").attr("text-anchor",function(Ce){return f(Ce)?"start":"end"}).attr("alignment-baseline","middle").style("fill","rgb(0, 0, 0)").attr("x",function(Ce){return f(Ce)?Ce.width+5:-5}).attr("y",function(Ce){return Ce.height/2}).text(function(Ce){return Ce.model.categoryLabel}).each(function(Ce){g.font(p.select(this),Ce.parcatsViewModel.categorylabelfont),t.convertToTspans(p.select(this),te)}),Oe.append("text").attr("class","dimlabel"),Me.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ce){return Ce.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ce){return Ce.width/2}).attr("y",-5).text(function(Ce,Ye){return Ye===0?Ce.parcatsViewModel.model.dimensions[Ce.model.dimensionInd].dimensionLabel:null}).each(function(Ce){g.font(p.select(this),Ce.parcatsViewModel.labelfont)}),Me.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",B),Me.exit().remove(),Be.call(p.behavior.drag().origin(function(Ce){return{x:Ce.x,y:0}}).on("dragstart",U).on("drag",z).on("dragend",W)),de.each(function(Ce){Ce.traceSelection=p.select(this),Ce.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),Ce.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),de.exit().remove()}V.exports=function(Q,te,ue,J){a(ue,Q,J,te)};function n(Q){return Q.key}function f(Q){var te=Q.parcatsViewModel.dimensions.length,ue=Q.parcatsViewModel.dimensions[te-1].model.dimensionInd;return Q.model.dimensionInd===ue}function u(Q,te){return Q.model.rawColor>te.model.rawColor?1:Q.model.rawColor<te.model.rawColor?-1:0}function l(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){S.raiseToTop(this),d(p.select(this));var te=h(Q),ue=T(Q);if(Q.parcatsViewModel.graphDiv.emit("plotly_hover",{points:te,event:p.event,constraints:ue}),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var J=p.mouse(this)[0],K=Q.parcatsViewModel.graphDiv,ce=Q.parcatsViewModel.trace,ae=K._fullLayout,de=ae._paperdiv.node().getBoundingClientRect(),be=Q.parcatsViewModel.graphDiv.getBoundingClientRect(),Se,Te,Ie;for(Ie=0;Ie<Q.leftXs.length-1;Ie++)if(Q.leftXs[Ie]+Q.dimWidths[Ie]-2<=J&&J<=Q.leftXs[Ie+1]+2){var ke=Q.parcatsViewModel.dimensions[Ie],Be=Q.parcatsViewModel.dimensions[Ie+1];Se=(ke.x+ke.width+Be.x)/2,Te=(Q.topYs[Ie]+Q.topYs[Ie+1]+Q.height)/2;break}var Me=Q.parcatsViewModel.x+Se,Oe=Q.parcatsViewModel.y+Te,_e=r.mostReadable(Q.model.color,["black","white"]),Ne=Q.model.count,Ce=Ne/Q.parcatsViewModel.model.count,Ye={countLabel:Ne,probabilityLabel:Ce.toFixed(3)},rt=[];Q.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&rt.push(["Count:",Ye.countLabel].join(" ")),Q.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&rt.push(["P:",Ye.probabilityLabel].join(" "));var ot=rt.join("<br>"),$e=p.mouse(K)[0];C.loneHover({trace:ce,x:Me-de.left+be.left,y:Oe-de.top+be.top,text:ot,color:Q.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:_e,idealAlign:$e<Me?"right":"left",hovertemplate:(ce.line||{}).hovertemplate,hovertemplateLabels:Ye,eventData:[{data:ce._input,fullData:ce,count:Ne,probability:Ce}]},{container:ae._hoverlayer.node(),outerContainer:ae._paper.node(),gd:K})}}}function y(Q){if(!Q.parcatsViewModel.dragDimension&&(i(p.select(this)),C.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Q.parcatsViewModel.pathSelection.sort(u),Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var te=h(Q),ue=T(Q);Q.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:te,event:p.event,constraints:ue})}}function h(Q){for(var te=[],ue=j(Q.parcatsViewModel),J=0;J<Q.model.valueInds.length;J++){var K=Q.model.valueInds[J];te.push({curveNumber:ue,pointNumber:K})}return te}function T(Q){for(var te={},ue=Q.parcatsViewModel.model.dimensions,J=0;J<ue.length;J++){var K=ue[J],ce=K.categories[Q.model.categoryInds[J]];te[K.containerInd]=ce.categoryValue}return Q.model.rawColor!==void 0&&(te.color=Q.model.rawColor),te}function c(Q){if(Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=h(Q),ue=T(Q);Q.parcatsViewModel.graphDiv.emit("plotly_click",{points:te,event:p.event,constraints:ue})}}function i(Q){Q.attr("fill",function(te){return te.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(Q){Q.attr("fill-opacity",.8).attr("stroke",function(te){return r.mostReadable(te.model.color,["black","white"])}).attr("stroke-width",.3)}function x(Q){Q.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function w(Q){Q.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function _(Q){Q.attr("stroke","black").attr("stroke-width",1.5)}function m(Q){Q.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(Q){var te=Q.parcatsViewModel.pathSelection,ue=Q.categoryViewModel.model.dimensionInd,J=Q.categoryViewModel.model.categoryInd;return te.filter(function(K){return K.model.categoryInds[ue]===J&&K.model.color===Q.color})}function A(Q){var te=p.select(Q.parentNode).selectAll("rect.bandrect");te.each(function(ue){var J=E(ue);d(J),J.each(function(){S.raiseToTop(this)})}),x(p.select(Q.parentNode))}function s(Q){var te=p.select(Q).datum(),ue=E(te);d(ue),ue.each(function(){S.raiseToTop(this)}),p.select(Q.parentNode).selectAll("rect.bandrect").filter(function(J){return J.color===te.color}).each(function(){S.raiseToTop(this),_(p.select(this))})}function M(Q,te,ue){var J=p.select(Q).datum(),K=J.categoryViewModel.model,ce=J.parcatsViewModel.graphDiv,ae=p.select(Q.parentNode).selectAll("rect.bandrect"),de=[];ae.each(function(Se){var Te=E(Se);Te.each(function(Ie){Array.prototype.push.apply(de,h(Ie))})});var be={};be[K.dimensionInd]=K.categoryValue,ce.emit(te,{points:de,event:ue,constraints:be})}function b(Q,te,ue){var J=p.select(Q).datum(),K=J.categoryViewModel.model,ce=J.parcatsViewModel.graphDiv,ae=E(J),de=[];ae.each(function(Se){Array.prototype.push.apply(de,h(Se))});var be={};be[K.dimensionInd]=K.categoryValue,J.rawColor!==void 0&&(be.color=J.rawColor),ce.emit(te,{points:de,event:ue,constraints:be})}function N(Q,te,ue){Q._fullLayout._calcInverseTransform(Q);var J=Q._fullLayout._invScaleX,K=Q._fullLayout._invScaleY,ce=p.select(ue.parentNode).select("rect.catrect"),ae=ce.node().getBoundingClientRect(),de=ce.datum(),be=de.parcatsViewModel,Se=be.model.dimensions[de.model.dimensionInd],Te=be.trace,Ie=ae.top+ae.height/2,ke,Be;be.dimensions.length>1&&Se.displayInd===be.dimensions.length-1?(ke=ae.left,Be="left"):(ke=ae.left+ae.width,Be="right");var Me=de.model.count,Oe=de.model.categoryLabel,_e=Me/de.parcatsViewModel.model.count,Ne={countLabel:Me,categoryLabel:Oe,probabilityLabel:_e.toFixed(3)},Ce=[];de.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ce.push(["Count:",Ne.countLabel].join(" ")),de.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ce.push(["P("+Ne.categoryLabel+"):",Ne.probabilityLabel].join(" "));var Ye=Ce.join("<br>");return{trace:Te,x:J*(ke-te.left),y:K*(Ie-te.top),text:Ye,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Be,hovertemplate:Te.hovertemplate,hovertemplateLabels:Ne,eventData:[{data:Te._input,fullData:Te,count:Me,category:Oe,probability:_e}]}}function k(Q,te,ue){var J=[];return p.select(ue.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var K=this;J.push(N(Q,te,K))}),J}function H(Q,te,ue){Q._fullLayout._calcInverseTransform(Q);var J=Q._fullLayout._invScaleX,K=Q._fullLayout._invScaleY,ce=ue.getBoundingClientRect(),ae=p.select(ue).datum(),de=ae.categoryViewModel,be=de.parcatsViewModel,Se=be.model.dimensions[de.model.dimensionInd],Te=be.trace,Ie=ce.y+ce.height/2,ke,Be;be.dimensions.length>1&&Se.displayInd===be.dimensions.length-1?(ke=ce.left,Be="left"):(ke=ce.left+ce.width,Be="right");var Me=de.model.categoryLabel,Oe=ae.parcatsViewModel.model.count,_e=0;ae.categoryViewModel.bands.forEach(function(pt){pt.color===ae.color&&(_e+=pt.count)});var Ne=de.model.count,Ce=0;be.pathSelection.each(function(pt){pt.model.color===ae.color&&(Ce+=pt.model.count)});var Ye=_e/Oe,rt=_e/Ce,ot=_e/Ne,$e={countLabel:_e,categoryLabel:Me,probabilityLabel:Ye.toFixed(3)},qe=[];de.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&qe.push(["Count:",$e.countLabel].join(" ")),de.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(qe.push("P(color ∩ "+Me+"): "+$e.probabilityLabel),qe.push("P("+Me+" | color): "+rt.toFixed(3)),qe.push("P(color | "+Me+"): "+ot.toFixed(3)));var ht=qe.join("<br>"),vt=r.mostReadable(ae.color,["black","white"]);return{trace:Te,x:J*(ke-te.left),y:K*(Ie-te.top),text:ht,color:ae.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:vt,fontSize:10,idealAlign:Be,hovertemplate:Te.hovertemplate,hovertemplateLabels:$e,eventData:[{data:Te._input,fullData:Te,category:Me,count:Oe,probability:Ye,categorycount:Ne,colorcount:Ce,bandcolorcount:_e}]}}function F(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=p.mouse(this)[1];if(te<-1)return;var ue=Q.parcatsViewModel.graphDiv,J=ue._fullLayout,K=J._paperdiv.node().getBoundingClientRect(),ce=Q.parcatsViewModel.hoveron,ae=this;if(ce==="color"?(s(ae),b(ae,"plotly_hover",p.event)):(A(ae),M(ae,"plotly_hover",p.event)),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var de;ce==="category"?de=N(ue,K,ae):ce==="color"?de=H(ue,K,ae):ce==="dimension"&&(de=k(ue,K,ae)),de&&C.loneHover(de,{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:ue})}}}function B(Q){var te=Q.parcatsViewModel;if(!te.dragDimension&&(i(te.pathSelection),w(te.dimensionSelection.selectAll("g.category")),m(te.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(te.graphDiv._fullLayout._hoverlayer.node()),te.pathSelection.sort(u),te.hoverinfoItems.indexOf("skip")===-1)){var ue=Q.parcatsViewModel.hoveron,J=this;ue==="color"?b(J,"plotly_unhover",p.event):M(J,"plotly_unhover",p.event)}}function U(Q){Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragDimensionDisplayInd=Q.model.displayInd,Q.initialDragDimensionDisplayInds=Q.parcatsViewModel.model.dimensions.map(function(te){return te.displayInd}),Q.dragHasMoved=!1,Q.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(te){var ue=p.mouse(this)[0],J=p.mouse(this)[1];-2<=ue&&ue<=te.width+2&&-2<=J&&J<=te.height+2&&(Q.dragCategoryDisplayInd=te.model.displayInd,Q.initialDragCategoryDisplayInds=Q.model.categories.map(function(K){return K.displayInd}),te.model.dragY=te.y,S.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<J&&J<=K.y+K.height&&(Q.potentialClickBand=this)}))}),Q.parcatsViewModel.dragDimension=Q,C.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function z(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragHasMoved=!0,Q.dragDimensionDisplayInd!==null)){var te=Q.dragDimensionDisplayInd,ue=te-1,J=te+1,K=Q.parcatsViewModel.dimensions[te];if(Q.dragCategoryDisplayInd!==null){var ce=K.categories[Q.dragCategoryDisplayInd];ce.model.dragY+=p.event.dy;var ae=ce.model.dragY,de=ce.model.displayInd,be=K.categories,Se=be[de-1],Te=be[de+1];Se!==void 0&&ae<Se.y+Se.height/2&&(ce.model.displayInd=Se.model.displayInd,Se.model.displayInd=de),Te!==void 0&&ae+ce.height>Te.y+Te.height/2&&(ce.model.displayInd=Te.model.displayInd,Te.model.displayInd=de),Q.dragCategoryDisplayInd=ce.model.displayInd}if(Q.dragCategoryDisplayInd===null||Q.parcatsViewModel.arrangement==="freeform"){K.model.dragX=p.event.x;var Ie=Q.parcatsViewModel.dimensions[ue],ke=Q.parcatsViewModel.dimensions[J];Ie!==void 0&&K.model.dragX<Ie.x+Ie.width&&(K.model.displayInd=Ie.model.displayInd,Ie.model.displayInd=te),ke!==void 0&&K.model.dragX+K.width>ke.x&&(K.model.displayInd=ke.model.displayInd,ke.model.displayInd=Q.dragDimensionDisplayInd),Q.dragDimensionDisplayInd=K.model.displayInd}q(Q.parcatsViewModel),ne(Q.parcatsViewModel),ie(Q.parcatsViewModel),ee(Q.parcatsViewModel)}}function W(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&Q.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var te={},ue=j(Q.parcatsViewModel),J=Q.parcatsViewModel.model.dimensions.map(function(ke){return ke.displayInd}),K=Q.initialDragDimensionDisplayInds.some(function(ke,Be){return ke!==J[Be]});K&&J.forEach(function(ke,Be){var Me=Q.parcatsViewModel.model.dimensions[Be].containerInd;te["dimensions["+Me+"].displayindex"]=ke});var ce=!1;if(Q.dragCategoryDisplayInd!==null){var ae=Q.model.categories.map(function(ke){return ke.displayInd});if(ce=Q.initialDragCategoryDisplayInds.some(function(ke,Be){return ke!==ae[Be]}),ce){var de=Q.model.categories.slice().sort(function(ke,Be){return ke.displayInd-Be.displayInd}),be=de.map(function(ke){return ke.categoryValue}),Se=de.map(function(ke){return ke.categoryLabel});te["dimensions["+Q.model.containerInd+"].categoryarray"]=[be],te["dimensions["+Q.model.containerInd+"].ticktext"]=[Se],te["dimensions["+Q.model.containerInd+"].categoryorder"]="array"}}if(Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Q.dragHasMoved&&Q.potentialClickBand&&(Q.parcatsViewModel.hoveron==="color"?b(Q.potentialClickBand,"plotly_click",p.event.sourceEvent):M(Q.potentialClickBand,"plotly_click",p.event.sourceEvent)),Q.model.dragX=null,Q.dragCategoryDisplayInd!==null){var Te=Q.parcatsViewModel.dimensions[Q.dragDimensionDisplayInd].categories[Q.dragCategoryDisplayInd];Te.model.dragY=null,Q.dragCategoryDisplayInd=null}Q.dragDimensionDisplayInd=null,Q.parcatsViewModel.dragDimension=null,Q.dragHasMoved=null,Q.potentialClickBand=null,q(Q.parcatsViewModel),ne(Q.parcatsViewModel);var Ie=p.transition().duration(300).ease("cubic-in-out");Ie.each(function(){ie(Q.parcatsViewModel,!0),ee(Q.parcatsViewModel,!0)}).each("end",function(){(K||ce)&&o.restyle(Q.parcatsViewModel.graphDiv,te,[ue])})}}function j(Q){for(var te,ue=Q.graphDiv._fullData,J=0;J<ue.length;J++)if(Q.key===ue[J].uid){te=J;break}return te}function ee(Q,te){te===void 0&&(te=!1);function ue(J){return te?J.transition():J}Q.pathSelection.data(function(J){return J.paths},n),ue(Q.pathSelection).attr("d",function(J){return J.svgD})}function ie(Q,te){te===void 0&&(te=!1);function ue(be){return te?be.transition():be}Q.dimensionSelection.data(function(be){return be.dimensions},n);var J=Q.dimensionSelection.selectAll("g.category").data(function(be){return be.categories},n);ue(Q.dimensionSelection).attr("transform",function(be){return v(be.x,0)}),ue(J).attr("transform",function(be){return v(0,be.y)});var K=J.select(".dimlabel");K.text(function(be,Se){return Se===0?be.parcatsViewModel.model.dimensions[be.model.dimensionInd].dimensionLabel:null});var ce=J.select(".catlabel");ce.attr("text-anchor",function(be){return f(be)?"start":"end"}).attr("x",function(be){return f(be)?be.width+5:-5}).each(function(be){var Se,Te;f(be)?(Se=be.width+5,Te="start"):(Se=-5,Te="end"),p.select(this).selectAll("tspan").attr("x",Se).attr("text-anchor",Te)});var ae=J.selectAll("rect.bandrect").data(function(be){return be.bands},n),de=ae.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(be){return be.color}).attr("fill-opacity",0);ae.attr("fill",function(be){return be.color}).attr("width",function(be){return be.width}).attr("height",function(be){return be.height}).attr("y",function(be){return be.y}),m(de),ae.each(function(){S.raiseToTop(this)}),ae.exit().remove()}function oe(Q,te,ue){var J=ue[0],K=te.margin||{l:80,r:80,t:100,b:80},ce=J.trace,ae=ce.domain,de=te.width,be=te.height,Se=Math.floor(de*(ae.x[1]-ae.x[0])),Te=Math.floor(be*(ae.y[1]-ae.y[0])),Ie=ae.x[0]*de+K.l,ke=te.height-ae.y[1]*te.height+K.t,Be=ce.line.shape,Me;ce.hoverinfo==="all"?Me=["count","probability"]:Me=(ce.hoverinfo||"").split("+");var Oe={trace:ce,key:ce.uid,model:J,x:Ie,y:ke,width:Se,height:Te,hoveron:ce.hoveron,hoverinfoItems:Me,arrangement:ce.arrangement,bundlecolors:ce.bundlecolors,sortpaths:ce.sortpaths,labelfont:ce.labelfont,categorylabelfont:ce.tickfont,pathShape:Be,dragDimension:null,margin:K,paths:[],dimensions:[],graphDiv:Q,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(q(Oe),ne(Oe)),Oe}function he(Q,te,ue,J,K){var ce=[],ae=[],de,be;for(be=0;be<ue.length-1;be++)de=L(ue[be]+Q[be],Q[be+1]),ce.push(de(K)),ae.push(de(1-K));var Se="M "+Q[0]+","+te[0];for(Se+="l"+ue[0]+",0 ",be=1;be<ue.length;be++)Se+="C"+ce[be-1]+","+te[be-1]+" "+ae[be-1]+","+te[be]+" "+Q[be]+","+te[be],Se+="l"+ue[be]+",0 ";for(Se+="l0,"+J+" ",Se+="l -"+ue[ue.length-1]+",0 ",be=ue.length-2;be>=0;be--)Se+="C"+ae[be]+","+(te[be+1]+J)+" "+ce[be]+","+(te[be]+J)+" "+(Q[be]+ue[be])+","+(te[be]+J),Se+="l-"+ue[be]+",0 ";return Se+="Z",Se}function ne(Q){var te=Q.dimensions,ue=Q.model,J=te.map(function(nt){return nt.categories.map(function(Fe){return Fe.y})}),K=Q.model.dimensions.map(function(nt){return nt.categories.map(function(Fe){return Fe.displayInd})}),ce=Q.model.dimensions.map(function(nt){return nt.displayInd}),ae=Q.dimensions.map(function(nt){return nt.model.dimensionInd}),de=te.map(function(nt){return nt.x}),be=te.map(function(nt){return nt.width}),Se=[];for(var Te in ue.paths)ue.paths.hasOwnProperty(Te)&&Se.push(ue.paths[Te]);function Ie(nt){var Fe=nt.categoryInds.map(function(Ze,Ge){return K[Ge][Ze]}),We=ae.map(function(Ze){return Fe[Ze]});return We}Se.sort(function(nt,Fe){var We=Ie(nt),Ze=Ie(Fe);return Q.sortpaths==="backward"&&(We.reverse(),Ze.reverse()),We.push(nt.valueInds[0]),Ze.push(Fe.valueInds[0]),Q.bundlecolors&&(We.unshift(nt.rawColor),Ze.unshift(Fe.rawColor)),We<Ze?-1:We>Ze?1:0});for(var ke=new Array(Se.length),Be=te[0].model.count,Me=te[0].categories.map(function(nt){return nt.height}).reduce(function(nt,Fe){return nt+Fe}),Oe=0;Oe<Se.length;Oe++){var _e=Se[Oe],Ne;Be>0?Ne=Me*(_e.count/Be):Ne=0;for(var Ce=new Array(J.length),Ye=0;Ye<_e.categoryInds.length;Ye++){var rt=_e.categoryInds[Ye],ot=K[Ye][rt],$e=ce[Ye];Ce[$e]=J[$e][ot],J[$e][ot]+=Ne;var qe=Q.dimensions[$e].categories[ot],ht=qe.bands.length,vt=qe.bands[ht-1];if(vt===void 0||_e.rawColor!==vt.rawColor){var pt=vt===void 0?0:vt.y+vt.height;qe.bands.push({key:pt,color:_e.color,rawColor:_e.rawColor,height:Ne,width:qe.width,count:_e.count,y:pt,categoryViewModel:qe,parcatsViewModel:Q})}else{var wt=qe.bands[ht-1];wt.height+=Ne,wt.count+=_e.count}}var Mt;Q.pathShape==="hspline"?Mt=he(de,Ce,be,Ne,.5):Mt=he(de,Ce,be,Ne,0),ke[Oe]={key:_e.valueInds[0],model:_e,height:Ne,leftXs:de,topYs:Ce,dimWidths:be,svgD:Mt,parcatsViewModel:Q}}Q.paths=ke}function q(Q){var te=Q.model.dimensions.map(function(ae){return{displayInd:ae.displayInd,dimensionInd:ae.dimensionInd}});te.sort(function(ae,de){return ae.displayInd-de.displayInd});var ue=[];for(var J in te){var K=te[J].dimensionInd,ce=Q.model.dimensions[K];ue.push(le(Q,ce))}Q.dimensions=ue}function le(Q,te){var ue=40,J=16,K=Q.model.dimensions.length,ce=te.displayInd,ae,de,be;K>1?ae=(Q.width-2*ue-J)/(K-1):ae=0,de=ue,be=de+ae*ce;var Se=[],Te=Q.model.maxCats,Ie=te.categories.length,ke=8,Be=te.count,Me=Q.height-ke*(Te-1),Oe,_e,Ne,Ce,Ye,rt=(Te-Ie)*ke/2,ot=te.categories.map(function($e){return{displayInd:$e.displayInd,categoryInd:$e.categoryInd}});for(ot.sort(function($e,qe){return $e.displayInd-qe.displayInd}),Ye=0;Ye<Ie;Ye++)Ce=ot[Ye].categoryInd,_e=te.categories[Ce],Be>0?Oe=_e.count/Be*Me:Oe=0,Ne={key:_e.valueInds[0],model:_e,width:J,height:Oe,y:_e.dragY!==null?_e.dragY:rt,bands:[],parcatsViewModel:Q},rt=rt+Oe+ke,Se.push(Ne);return{key:te.dimensionInd,x:te.dragX!==null?te.dragX:be,y:0,width:J,model:te,categories:Se,parcatsViewModel:Q,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},60268:function(V,Y,e){var p=e(51036);V.exports=function(o,C,S,v){var g=o._fullLayout,r=g._paper,t=g._size;p(o,r,C,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},S,v)}},82296:function(V,Y,e){var p=e(49084),L=e(94724),o=e(25376),C=e(86968).u,S=e(92880).extendFlat,v=e(31780).templatedArray;V.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:o({editType:"plot"}),tickfont:o({autoShadowDflt:!0,editType:"plot"}),rangefont:o({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:S({},L.tickvals,{editType:"plot"}),ticktext:S({},L.ticktext,{editType:"plot"}),tickformat:S({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:S({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(V,Y,e){var p=e(30140),L=e(33428),o=e(71688).keyFun,C=e(71688).repeat,S=e(3400).sorterAsc,v=e(3400).strTranslate,g=p.bar.snapRatio;function r(W,j){return W*(1-g)+j*g}var t=p.bar.snapClose;function a(W,j){return W*(1-t)+j*t}function n(W,j,ee,ie){if(f(ee,ie))return ee;var oe=W?-1:1,he=0,ne=j.length-1;if(oe<0){var q=he;he=ne,ne=q}for(var le=j[he],Q=le,te=he;oe*te<oe*ne;te+=oe){var ue=te+oe,J=j[ue];if(oe*ee<oe*a(le,J))return r(le,Q);if(oe*ee<oe*J||ue===ne)return r(J,le);Q=le,le=J}}function f(W,j){for(var ee=0;ee<j.length;ee++)if(W>=j[ee][0]&&W<=j[ee][1])return!0;return!1}function u(W){W.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function l(W){W.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(W){if(!W.brush.filterSpecified)return"0,"+W.height;for(var j=h(W.brush.filter.getConsolidated(),W.height),ee=[0],ie,oe,he,ne=j.length?j[0][0]:null,q=0;q<j.length;q++)ie=j[q],oe=ie[1]-ie[0],ee.push(ne),ee.push(oe),he=q+1,he<j.length&&(ne=j[he][0]-ie[1]);return ee.push(W.height),ee}function h(W,j){return W.map(function(ee){return ee.map(function(ie){return Math.max(0,ie*j)}).sort(S)})}function T(W,j){var ee=p.bar.handleHeight;if(!(j>W[1]+ee||j<W[0]-ee))return j>=.9*W[1]+.1*W[0]?"n":j<=.9*W[0]+.1*W[1]?"s":"ns"}function c(){L.select(document.body).style("cursor",null)}function i(W){W.attr("stroke-dasharray",y)}function d(W,j){var ee=L.select(W).selectAll(".highlight, .highlight-shadow"),ie=j?ee.transition().duration(p.bar.snapDuration).each("end",j):ee;i(ie)}function x(W,j){var ee=W.brush,ie=ee.filterSpecified,oe=NaN,he={},ne;if(ie){var q=W.height,le=ee.filter.getConsolidated(),Q=h(le,q),te=NaN,ue=NaN,J=NaN;for(ne=0;ne<=Q.length;ne++){var K=Q[ne];if(K&&K[0]<=j&&j<=K[1]){te=ne;break}else if(ue=ne?ne-1:NaN,K&&K[0]>j){J=ne;break}}if(oe=te,isNaN(oe)&&(isNaN(ue)||isNaN(J)?oe=isNaN(ue)?J:ue:oe=j-Q[ue][1]<Q[J][0]-j?ue:J),!isNaN(oe)){var ce=Q[oe],ae=T(ce,j);ae&&(he.interval=le[oe],he.intervalPix=ce,he.region=ae)}}if(W.ordinal&&!he.region){var de=W.unitTickvals,be=W.unitToPaddedPx.invert(j);for(ne=0;ne<de.length;ne++){var Se=[de[Math.max(ne-1,0)]*.25+de[ne]*.75,de[Math.min(ne+1,de.length-1)]*.25+de[ne]*.75];if(be>=Se[0]&&be<=Se[1]){he.clickableOrdinalRange=Se;break}}}return he}function w(W,j){L.event.sourceEvent.stopPropagation();var ee=j.height-L.mouse(W)[1]-2*p.verticalPadding,ie=j.unitToPaddedPx.invert(ee),oe=j.brush,he=x(j,ee),ne=he.interval,q=oe.svgBrush;if(q.wasDragged=!1,q.grabbingBar=he.region==="ns",q.grabbingBar){var le=ne.map(j.unitToPaddedPx);q.grabPoint=ee-le[0]-p.verticalPadding,q.barLength=le[1]-le[0]}q.clickableOrdinalRange=he.clickableOrdinalRange,q.stayingIntervals=j.multiselect&&oe.filterSpecified?oe.filter.getConsolidated():[],ne&&(q.stayingIntervals=q.stayingIntervals.filter(function(Q){return Q[0]!==ne[0]&&Q[1]!==ne[1]})),q.startExtent=he.region?ne[he.region==="s"?1:0]:ie,j.parent.inBrushDrag=!0,q.brushStartCallback()}function _(W,j){L.event.sourceEvent.stopPropagation();var ee=j.height-L.mouse(W)[1]-2*p.verticalPadding,ie=j.brush.svgBrush;ie.wasDragged=!0,ie._dragging=!0,ie.grabbingBar?ie.newExtent=[ee-ie.grabPoint,ee+ie.barLength-ie.grabPoint].map(j.unitToPaddedPx.invert):ie.newExtent=[ie.startExtent,j.unitToPaddedPx.invert(ee)].sort(S),j.brush.filterSpecified=!0,ie.extent=ie.stayingIntervals.concat([ie.newExtent]),ie.brushCallback(j),d(W.parentNode)}function m(W,j){var ee=j.brush,ie=ee.filter,oe=ee.svgBrush;oe._dragging||(E(W,j),_(W,j),j.brush.svgBrush.wasDragged=!1),oe._dragging=!1;var he=L.event;he.sourceEvent.stopPropagation();var ne=oe.grabbingBar;if(oe.grabbingBar=!1,oe.grabLocation=void 0,j.parent.inBrushDrag=!1,c(),!oe.wasDragged){oe.wasDragged=void 0,oe.clickableOrdinalRange?ee.filterSpecified&&j.multiselect?oe.extent.push(oe.clickableOrdinalRange):(oe.extent=[oe.clickableOrdinalRange],ee.filterSpecified=!0):ne?(oe.extent=oe.stayingIntervals,oe.extent.length===0&&k(ee)):k(ee),oe.brushCallback(j),d(W.parentNode),oe.brushEndCallback(ee.filterSpecified?ie.getConsolidated():[]);return}var q=function(){ie.set(ie.getConsolidated())};if(j.ordinal){var le=j.unitTickvals;le[le.length-1]<le[0]&&le.reverse(),oe.newExtent=[n(0,le,oe.newExtent[0],oe.stayingIntervals),n(1,le,oe.newExtent[1],oe.stayingIntervals)];var Q=oe.newExtent[1]>oe.newExtent[0];oe.extent=oe.stayingIntervals.concat(Q?[oe.newExtent]:[]),oe.extent.length||k(ee),oe.brushCallback(j),Q?d(W.parentNode,q):(q(),d(W.parentNode))}else q();oe.brushEndCallback(ee.filterSpecified?ie.getConsolidated():[])}function E(W,j){var ee=j.height-L.mouse(W)[1]-2*p.verticalPadding,ie=x(j,ee),oe="crosshair";ie.clickableOrdinalRange?oe="pointer":ie.region&&(oe=ie.region+"-resize"),L.select(document.body).style("cursor",oe)}function A(W){W.on("mousemove",function(j){L.event.preventDefault(),j.parent.inBrushDrag||E(this,j)}).on("mouseleave",function(j){j.parent.inBrushDrag||c()}).call(L.behavior.drag().on("dragstart",function(j){w(this,j)}).on("drag",function(j){_(this,j)}).on("dragend",function(j){m(this,j)}))}function s(W,j){return W[0]-j[0]}function M(W,j,ee){var ie=ee._context.staticPlot,oe=W.selectAll(".background").data(C);oe.enter().append("rect").classed("background",!0).call(u).call(l).style("pointer-events",ie?"none":"auto").attr("transform",v(0,p.verticalPadding)),oe.call(A).attr("height",function(q){return q.height-p.verticalPadding});var he=W.selectAll(".highlight-shadow").data(C);he.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",j).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),he.attr("y1",function(q){return q.height}).call(i);var ne=W.selectAll(".highlight").data(C);ne.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),ne.attr("y1",function(q){return q.height}).call(i)}function b(W,j,ee){var ie=W.selectAll("."+p.cn.axisBrush).data(C,o);ie.enter().append("g").classed(p.cn.axisBrush,!0),M(ie,j,ee)}function N(W){return W.svgBrush.extent.map(function(j){return j.slice()})}function k(W){W.filterSpecified=!1,W.svgBrush.extent=[[-1/0,1/0]]}function H(W){return function(ee){var ie=ee.brush,oe=N(ie),he=oe.slice();ie.filter.set(he),W()}}function F(W){for(var j=W.slice(),ee=[],ie,oe=j.shift();oe;){for(ie=oe.slice();(oe=j.shift())&&oe[0]<=ie[1];)ie[1]=Math.max(ie[1],oe[1]);ee.push(ie)}return ee.length===1&&ee[0][0]>ee[0][1]&&(ee=[]),ee}function B(){var W=[],j,ee;return{set:function(ie){W=ie.map(function(oe){return oe.slice().sort(S)}).sort(s),W.length===1&&W[0][0]===-1/0&&W[0][1]===1/0&&(W=[[0,-1]]),j=F(W),ee=W.reduce(function(oe,he){return[Math.min(oe[0],he[0]),Math.max(oe[1],he[1])]},[1/0,-1/0])},get:function(){return W.slice()},getConsolidated:function(){return j},getBounds:function(){return ee}}}function U(W,j,ee,ie,oe,he){var ne=B();return ne.set(ee),{filter:ne,filterSpecified:j,svgBrush:{extent:[],brushStartCallback:ie,brushCallback:H(oe),brushEndCallback:he}}}function z(W,j){if(Array.isArray(W[0])?(W=W.map(function(ie){return ie.sort(S)}),j.multiselect?W=F(W.sort(s)):W=[W[0]]):W=[W.sort(S)],j.tickvals){var ee=j.tickvals.slice().sort(S);if(W=W.map(function(ie){var oe=[n(0,ee,ie[0],[]),n(1,ee,ie[1],[])];if(oe[1]>oe[0])return oe}).filter(function(ie){return ie}),!W.length)return}return W.length>1?W:W[0]}V.exports={makeBrush:U,ensureAxisBrush:b,cleanRanges:z}},61664:function(V,Y,e){V.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(V,Y,e){var p=e(33428),L=e(84888)._M,o=e(24196),C=e(9616);Y.name="parcoords",Y.plot=function(S){var v=L(S.calcdata,"parcoords")[0];v.length&&o(S,v)},Y.clean=function(S,v,g,r){var t=r._has&&r._has("parcoords"),a=v._has&&v._has("parcoords");t&&!a&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},Y.toSVG=function(S){var v=S._fullLayout._glimages,g=p.select(S).selectAll(".svg-container"),r=g.filter(function(a,n){return n===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var a=this,n=a.toDataURL("image/png"),f=v.append("svg:image");f.attr({xmlns:C.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:a.style.width,height:a.style.height})}r.each(t),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(V,Y,e){var p=e(3400).isArrayOrTypedArray,L=e(8932),o=e(71688).wrap;V.exports=function(v,g){var r,t;return L.hasColorscale(g,"line")&&p(g.line.color)?(r=g.line.color,t=L.extractOpts(g.line).colorscale,L.calc(v,g,{vals:r,containerStr:"line",cLetter:"c"})):(r=C(g._length),t=[[0,g.line.color],[1,g.line.color]]),o({lineColor:r,cscale:t})};function C(S){for(var v=new Array(S),g=0;g<S;g++)v[g]=.5;return v}},30140:function(V){V.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(V,Y,e){var p=e(3400),L=e(94288).hasColorscale,o=e(27260),C=e(86968).Q,S=e(51272),v=e(54460),g=e(82296),r=e(71864),t=e(30140).maxDimensionCount,a=e(26284);function n(u,l,y,h,T){var c=T("line.color",y);if(L(u,"line")&&p.isArrayOrTypedArray(c)){if(c.length)return T("line.colorscale"),o(u,l,h,T,{prefix:"line.",cLetter:"c"}),c.length;l.line.color=y}return 1/0}function f(u,l,y,h){function T(w,_){return p.coerce(u,l,g.dimensions,w,_)}var c=T("values"),i=T("visible");if(c&&c.length||(i=l.visible=!1),i){T("label"),T("tickvals"),T("ticktext"),T("tickformat");var d=T("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(l._ax,h.layout),T("multiselect");var x=T("constraintrange");x&&(l.constraintrange=r.cleanRanges(x,l))}}V.exports=function(l,y,h,T){function c(_,m){return p.coerce(l,y,g,_,m)}var i=l.dimensions;Array.isArray(i)&&i.length>t&&(p.log("parcoords traces support up to "+t+" dimensions at the moment"),i.splice(t));var d=S(l,y,{name:"dimensions",layout:T,handleItemDefaults:f}),x=n(l,y,h,T,c);C(y,T,c),(!Array.isArray(d)||!d.length)&&(y.visible=!1),a(y,d,"values",x);var w=p.extendFlat({},T.font,{size:Math.round(T.font.size/1.2)});p.coerceFont(c,"labelfont",w),p.coerceFont(c,"tickfont",w,{autoShadowDflt:!0}),p.coerceFont(c,"rangefont",w),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(V,Y,e){var p=e(3400).isTypedArray;Y.convertTypedArray=function(L){return p(L)?Array.prototype.slice.call(L):L},Y.isOrdinal=function(L){return!!L.tickvals},Y.isVisible=function(L){return L.visible||!("visible"in L)}},29928:function(V,Y,e){var p=e(61664);p.plot=e(24196),V.exports=p},51352:function(V,Y,e){var p=["precision highp float;","","varying vec4 fragColor;","","attribute vec4 p01_04, p05_08, p09_12, p13_16,","               p17_20, p21_24, p25_28, p29_32,","               p33_36, p37_40, p41_44, p45_48,","               p49_52, p53_56, p57_60, colors;","","uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,","             loA, hiA, loB, hiB, loC, hiC, loD, hiD;","","uniform vec2 resolution, viewBoxPos, viewBoxSize;","uniform float maskHeight;","uniform float drwLayer; // 0: context, 1: focus, 2: pick","uniform vec4 contextColor;","uniform sampler2D maskTexture, palette;","","bool isPick    = (drwLayer > 1.5);","bool isContext = (drwLayer < 0.5);","","const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);","const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);","","float val(mat4 p, mat4 v) {","    return dot(matrixCompMult(p, v) * UNITS, UNITS);","}","","float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {","    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);","    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);","    return y1 * (1.0 - ratio) + y2 * ratio;","}","","int iMod(int a, int b) {","    return a - b * (a / b);","}","","bool fOutside(float p, float lo, float hi) {","    return (lo < hi) && (lo > p || p > hi);","}","","bool vOutside(vec4 p, vec4 lo, vec4 hi) {","    return (","        fOutside(p[0], lo[0], hi[0]) ||","        fOutside(p[1], lo[1], hi[1]) ||","        fOutside(p[2], lo[2], hi[2]) ||","        fOutside(p[3], lo[3], hi[3])","    );","}","","bool mOutside(mat4 p, mat4 lo, mat4 hi) {","    return (","        vOutside(p[0], lo[0], hi[0]) ||","        vOutside(p[1], lo[1], hi[1]) ||","        vOutside(p[2], lo[2], hi[2]) ||","        vOutside(p[3], lo[3], hi[3])","    );","}","","bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {","    return mOutside(A, loA, hiA) ||","           mOutside(B, loB, hiB) ||","           mOutside(C, loC, hiC) ||","           mOutside(D, loD, hiD);","}","","bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {","    mat4 pnts[4];","    pnts[0] = A;","    pnts[1] = B;","    pnts[2] = C;","    pnts[3] = D;","","    for(int i = 0; i < 4; ++i) {","        for(int j = 0; j < 4; ++j) {","            for(int k = 0; k < 4; ++k) {","                if(0 == iMod(","                    int(255.0 * texture2D(maskTexture,","                        vec2(","                            (float(i * 2 + j / 2) + 0.5) / 8.0,","                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight","                        ))[3]","                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),","                    2","                )) return true;","            }","        }","    }","    return false;","}","","vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {","    float x = 0.5 * sign(v) + 0.5;","    float y = axisY(x, A, B, C, D);","    float z = 1.0 - abs(v);","","    z += isContext ? 0.0 : 2.0 * float(","        outsideBoundingBox(A, B, C, D) ||","        outsideRasterMask(A, B, C, D)","    );","","    return vec4(","        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,","        z,","        1.0","    );","}","","void main() {","    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);","    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);","    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);","    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);","","    float v = colors[3];","","    gl_Position = position(isContext, v, A, B, C, D);","","    fragColor =","        isContext ? vec4(contextColor) :","        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));","}"].join(`
`),L=["precision highp float;","","varying vec4 fragColor;","","void main() {","    gl_FragColor = fragColor;","}"].join(`
`),o=e(30140).maxDimensionCount,C=e(3400),S=1e-6,v=2048,g=new Uint8Array(4),r=new Uint8Array(4),t={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(m){m.read({x:0,y:0,width:1,height:1,data:g})}function n(m,E,A,s,M){var b=m._gl;b.enable(b.SCISSOR_TEST),b.scissor(E,A,s,M),m.clear({color:[0,0,0,0],depth:1})}function f(m,E,A,s,M,b){var N=b.key;function k(H){var F=Math.min(s,M-H*s);H===0&&(window.cancelAnimationFrame(A.currentRafs[N]),delete A.currentRafs[N],n(m,b.scissorX,b.scissorY,b.scissorWidth,b.viewBoxSize[1])),!A.clearOnly&&(b.count=2*F,b.offset=2*H*s,E(b),H*s+F<M&&(A.currentRafs[N]=window.requestAnimationFrame(function(){k(H+1)})),A.drawCompleted=!1)}A.drawCompleted||(a(m),A.drawCompleted=!0),k(0)}function u(m){return Math.max(S,Math.min(1-S,m))}function l(m,E){for(var A=new Array(256),s=0;s<256;s++)A[s]=m(s/255).concat(E);return A}function y(m,E){return(m>>>8*E)%256/255}function h(m,E,A){for(var s=new Array(m*(o+4)),M=0,b=0;b<m;b++){for(var N=0;N<o;N++)s[M++]=N<E.length?E[N].paddedUnitValues[b]:.5;s[M++]=y(b,2),s[M++]=y(b,1),s[M++]=y(b,0),s[M++]=u(A[b])}return s}function T(m,E,A){for(var s=new Array(E*8),M=0,b=0;b<E;b++)for(var N=0;N<2;N++)for(var k=0;k<4;k++){var H=m*4+k,F=A[b*64+H];H===63&&N===0&&(F*=-1),s[M++]=F}return s}function c(m){var E="0"+m;return E.substr(E.length-2)}function i(m){return m<o?"p"+c(m+1)+"_"+c(m+4):"colors"}function d(m,E,A){for(var s=0;s<=o;s+=4)m[i(s)](T(s/4,E,A))}function x(m){for(var E={},A=0;A<=o;A+=4)E[i(A)]=m.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return E}function w(m,E,A,s,M,b,N,k,H,F,B,U,z,W){for(var j=[[],[]],ee=0;ee<64;ee++)j[0][ee]=ee===M?1:0,j[1][ee]=ee===b?1:0;N*=W,k*=W,H*=W,F*=W;var ie=m.lines.canvasOverdrag*W,oe=m.domain,he=m.canvasWidth*W,ne=m.canvasHeight*W,q=m.pad.l*W,le=m.pad.b*W,Q=m.layoutHeight*W,te=m.layoutWidth*W,ue=m.deselectedLines.color,J=m.deselectedLines.opacity,K=C.extendFlat({key:B,resolution:[he,ne],viewBoxPos:[N+ie,k],viewBoxSize:[H,F],i0:M,i1:b,dim0A:j[0].slice(0,16),dim0B:j[0].slice(16,32),dim0C:j[0].slice(32,48),dim0D:j[0].slice(48,64),dim1A:j[1].slice(0,16),dim1B:j[1].slice(16,32),dim1C:j[1].slice(32,48),dim1D:j[1].slice(48,64),drwLayer:U,contextColor:[ue[0]/255,ue[1]/255,ue[2]/255,J!=="auto"?ue[3]*J:Math.max(1/255,Math.pow(1/m.lines.color.length,1/3))],scissorX:(s===E?0:N+ie)+(q-ie)+te*oe.x[0],scissorWidth:(s===A?he-N+ie:H+.5)+(s===E?N+ie:0),scissorY:k+le+Q*oe.y[0],scissorHeight:F,viewportX:q-ie+te*oe.x[0],viewportY:le+Q*oe.y[0],viewportWidth:he,viewportHeight:ne},z);return K}function _(m){var E=v-1,A=Math.max(0,Math.floor(m[0]*E),0),s=Math.min(E,Math.ceil(m[1]*E),E);return[Math.min(A,s),Math.max(A,s)]}V.exports=function(m,E){var A=E.context,s=E.pick,M=E.regl,b=M._gl,N=b.getParameter(b.ALIASED_LINE_WIDTH_RANGE),k=Math.max(N[0],Math.min(N[1],E.viewModel.plotGlPixelRatio)),H={currentRafs:{},drawCompleted:!0,clearOnly:!1},F,B,U,z,W=x(M),j,ee=M.texture(t),ie=[];he(E);var oe=M({profile:!1,blend:{enable:A,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!A,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:M.prop("scissorX"),y:M.prop("scissorY"),width:M.prop("scissorWidth"),height:M.prop("scissorHeight")}},viewport:{x:M.prop("viewportX"),y:M.prop("viewportY"),width:M.prop("viewportWidth"),height:M.prop("viewportHeight")},dither:!1,vert:p,frag:L,primitive:"lines",lineWidth:k,attributes:W,uniforms:{resolution:M.prop("resolution"),viewBoxPos:M.prop("viewBoxPos"),viewBoxSize:M.prop("viewBoxSize"),dim0A:M.prop("dim0A"),dim1A:M.prop("dim1A"),dim0B:M.prop("dim0B"),dim1B:M.prop("dim1B"),dim0C:M.prop("dim0C"),dim1C:M.prop("dim1C"),dim0D:M.prop("dim0D"),dim1D:M.prop("dim1D"),loA:M.prop("loA"),hiA:M.prop("hiA"),loB:M.prop("loB"),hiB:M.prop("hiB"),loC:M.prop("loC"),hiC:M.prop("hiC"),loD:M.prop("loD"),hiD:M.prop("hiD"),palette:ee,contextColor:M.prop("contextColor"),maskTexture:M.prop("maskTexture"),drwLayer:M.prop("drwLayer"),maskHeight:M.prop("maskHeight")},offset:M.prop("offset"),count:M.prop("count")});function he(ue){F=ue.model,B=ue.viewModel,U=B.dimensions.slice(),z=U[0]?U[0].values.length:0;var J=F.lines,K=s?J.color.map(function(ae,de){return de/J.color.length}):J.color,ce=h(z,U,K);d(W,z,ce),!A&&!s&&(ee=M.texture(C.extendFlat({data:l(F.unitToColor,255)},t)))}function ne(ue){var J,K,ce,ae=[[],[]];for(ce=0;ce<64;ce++){var de=!ue&&ce<U.length?U[ce].brush.filter.getBounds():[-1/0,1/0];ae[0][ce]=de[0],ae[1][ce]=de[1]}var be=v*8,Se=new Array(be);for(J=0;J<be;J++)Se[J]=255;if(!ue)for(J=0;J<U.length;J++){var Te=J%8,Ie=(J-Te)/8,ke=Math.pow(2,Te),Be=U[J],Me=Be.brush.filter.get();if(!(Me.length<2)){var Oe=_(Me[0])[1];for(K=1;K<Me.length;K++){var _e=_(Me[K]);for(ce=Oe+1;ce<_e[0];ce++)Se[ce*8+Ie]&=~ke;Oe=Math.max(Oe,_e[1])}}}var Ne={shape:[8,v],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Se};return j?j(Ne):j=M.texture(Ne),{maskTexture:j,maskHeight:v,loA:ae[0].slice(0,16),loB:ae[0].slice(16,32),loC:ae[0].slice(32,48),loD:ae[0].slice(48,64),hiA:ae[1].slice(0,16),hiB:ae[1].slice(16,32),hiC:ae[1].slice(32,48),hiD:ae[1].slice(48,64)}}function q(ue,J,K){var ce=ue.length,ae,de,be,Se=1/0,Te=-1/0;for(ae=0;ae<ce;ae++)ue[ae].dim0.canvasX<Se&&(Se=ue[ae].dim0.canvasX,de=ae),ue[ae].dim1.canvasX>Te&&(Te=ue[ae].dim1.canvasX,be=ae);ce===0&&n(M,0,0,F.canvasWidth,F.canvasHeight);var Ie=ne(A);for(ae=0;ae<ce;ae++){var ke=ue[ae],Be=ke.dim0.crossfilterDimensionIndex,Me=ke.dim1.crossfilterDimensionIndex,Oe=ke.canvasX,_e=ke.canvasY,Ne=Oe+ke.panelSizeX,Ce=ke.plotGlPixelRatio;if(J||!ie[Be]||ie[Be][0]!==Oe||ie[Be][1]!==Ne){ie[Be]=[Oe,Ne];var Ye=w(F,de,be,ae,Be,Me,Oe,_e,ke.panelSizeX,ke.panelSizeY,ke.dim0.crossfilterDimensionIndex,A?0:s?2:1,Ie,Ce);H.clearOnly=K;var rt=J?F.lines.blockLineCount:z;f(M,oe,H,rt,z,Ye)}}}function le(ue,J){return M.read({x:ue,y:J,width:1,height:1,data:r}),r}function Q(ue,J,K,ce){var ae=new Uint8Array(4*K*ce);return M.read({x:ue,y:J,width:K,height:ce,data:ae}),ae}function te(){m.style["pointer-events"]="none",ee.destroy(),j&&j.destroy();for(var ue in W)W[ue].destroy()}return{render:q,readPixel:le,readPixels:Q,destroy:te,update:he}}},26284:function(V){V.exports=function(Y,e,p,L){L||(L=1/0);var o,C;for(o=0;o<e.length;o++)C=e[o],C.visible&&(L=Math.min(L,C[p].length));for(L===1/0&&(L=0),Y._length=L,o=0;o<e.length;o++)C=e[o],C.visible&&(C._length=L);return L}},36336:function(V,Y,e){var p=e(33428),L=e(3400),o=L.isArrayOrTypedArray,C=L.numberFormat,S=e(96824),v=e(54460),g=L.strRotate,r=L.strTranslate,t=e(72736),a=e(43616),n=e(8932),f=e(71688),u=f.keyFun,l=f.repeat,y=f.unwrap,h=e(95724),T=e(30140),c=e(71864),i=e(51352);function d(ie,oe,he){return L.aggNums(ie,null,oe,he)}function x(ie,oe){return _(d(Math.min,ie,oe),d(Math.max,ie,oe))}function w(ie){var oe=ie.range;return oe?_(oe[0],oe[1]):x(ie.values,ie._length)}function _(ie,oe){return(isNaN(ie)||!isFinite(ie))&&(ie=0),(isNaN(oe)||!isFinite(oe))&&(oe=0),ie===oe&&(ie===0?(ie-=1,oe+=1):(ie*=.9,oe*=1.1)),[ie,oe]}function m(ie,oe){return oe?function(he,ne){var q=oe[ne];return q??ie(he)}:ie}function E(ie,oe,he,ne,q){var le=w(he);return ne?p.scale.ordinal().domain(ne.map(m(C(he.tickformat),q))).range(ne.map(function(Q){var te=(Q-le[0])/(le[1]-le[0]);return ie-oe+te*(2*oe-ie)})):p.scale.linear().domain(le).range([ie-oe,oe])}function A(ie,oe){return p.scale.linear().range([oe,ie-oe])}function s(ie,oe){return p.scale.linear().domain(w(ie)).range([oe,1-oe])}function M(ie){if(ie.tickvals){var oe=w(ie);return p.scale.ordinal().domain(ie.tickvals).range(ie.tickvals.map(function(he){return(he-oe[0])/(oe[1]-oe[0])}))}}function b(ie){var oe=ie.map(function(le){return le[0]}),he=ie.map(function(le){var Q=S(le[1]);return p.rgb("rgb("+Q[0]+","+Q[1]+","+Q[2]+")")}),ne=function(le){return function(Q){return Q[le]}},q="rgb".split("").map(function(le){return p.scale.linear().clamp(!0).domain(oe).range(he.map(ne(le)))});return function(le){return q.map(function(Q){return Q(le)})}}function N(ie){return ie.dimensions.some(function(oe){return oe.brush.filterSpecified})}function k(ie,oe,he){var ne=y(oe),q=ne.trace,le=h.convertTypedArray(ne.lineColor),Q=q.line,te={color:S(q.unselected.line.color),opacity:q.unselected.line.opacity},ue=n.extractOpts(Q),J=ue.reversescale?n.flipScale(ne.cscale):ne.cscale,K=q.domain,ce=q.dimensions,ae=ie.width,de=q.labelangle,be=q.labelside,Se=q.labelfont,Te=q.tickfont,Ie=q.rangefont,ke=L.extendDeepNoArrays({},Q,{color:le.map(p.scale.linear().domain(w({values:le,range:[ue.min,ue.max],_length:q._length}))),blockLineCount:T.blockLineCount,canvasOverdrag:T.overdrag*T.canvasPixelRatio}),Be=Math.floor(ae*(K.x[1]-K.x[0])),Me=Math.floor(ie.height*(K.y[1]-K.y[0])),Oe=ie.margin||{l:80,r:80,t:100,b:80},_e=Be,Ne=Me;return{key:he,colCount:ce.filter(h.isVisible).length,dimensions:ce,tickDistance:T.tickDistance,unitToColor:b(J),lines:ke,deselectedLines:te,labelAngle:de,labelSide:be,labelFont:Se,tickFont:Te,rangeFont:Ie,layoutWidth:ae,layoutHeight:ie.height,domain:K,translateX:K.x[0]*ae,translateY:ie.height-K.y[1]*ie.height,pad:Oe,canvasWidth:_e*T.canvasPixelRatio+2*ke.canvasOverdrag,canvasHeight:Ne*T.canvasPixelRatio,width:_e,height:Ne,canvasPixelRatio:T.canvasPixelRatio}}function H(ie,oe,he){var ne=he.width,q=he.height,le=he.dimensions,Q=he.canvasPixelRatio,te=function(ae){return ne*ae/Math.max(1,he.colCount-1)},ue=T.verticalPadding/q,J=A(q,T.verticalPadding),K={key:he.key,xScale:te,model:he,inBrushDrag:!1},ce={};return K.dimensions=le.filter(h.isVisible).map(function(ae,de){var be=s(ae,ue),Se=ce[ae.label];ce[ae.label]=(Se||0)+1;var Te=ae.label+(Se?"__"+Se:""),Ie=ae.constraintrange,ke=Ie&&Ie.length;ke&&!o(Ie[0])&&(Ie=[Ie]);var Be=ke?Ie.map(function(qe){return qe.map(be)}):[[-1/0,1/0]],Me=function(){var qe=K;qe.focusLayer&&qe.focusLayer.render(qe.panels,!0);var ht=N(qe);!ie.contextShown()&&ht?(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0),ie.contextShown(!0)):ie.contextShown()&&!ht&&(qe.contextLayer&&qe.contextLayer.render(qe.panels,!0,!0),ie.contextShown(!1))},Oe=ae.values;Oe.length>ae._length&&(Oe=Oe.slice(0,ae._length));var _e=ae.tickvals,Ne;function Ce(qe,ht){return{val:qe,text:Ne[ht]}}function Ye(qe,ht){return qe.val-ht.val}if(o(_e)&&_e.length){L.isTypedArray(_e)&&(_e=Array.from(_e)),Ne=ae.ticktext,!o(Ne)||!Ne.length?Ne=_e.map(C(ae.tickformat)):Ne.length>_e.length?Ne=Ne.slice(0,_e.length):_e.length>Ne.length&&(_e=_e.slice(0,Ne.length));for(var rt=1;rt<_e.length;rt++)if(_e[rt]<_e[rt-1]){for(var ot=_e.map(Ce).sort(Ye),$e=0;$e<_e.length;$e++)_e[$e]=ot[$e].val,Ne[$e]=ot[$e].text;break}}else _e=void 0;return Oe=h.convertTypedArray(Oe),{key:Te,label:ae.label,tickFormat:ae.tickformat,tickvals:_e,ticktext:Ne,ordinal:h.isOrdinal(ae),multiselect:ae.multiselect,xIndex:de,crossfilterDimensionIndex:de,visibleIndex:ae._index,height:q,values:Oe,paddedUnitValues:Oe.map(be),unitTickvals:_e&&_e.map(be),xScale:te,x:te(de),canvasX:te(de)*Q,unitToPaddedPx:J,domainScale:E(q,T.verticalPadding,ae,_e,Ne),ordinalScale:M(ae),parent:K,model:he,brush:c.makeBrush(ie,ke,Be,function(){ie.linePickActive(!1)},Me,function(qe){if(K.focusLayer.render(K.panels,!0),K.pickLayer&&K.pickLayer.render(K.panels,!0),ie.linePickActive(!0),oe&&oe.filterChanged){var ht=be.invert,vt=qe.map(function(pt){return pt.map(ht).sort(L.sorterAsc)}).sort(function(pt,wt){return pt[0]-wt[0]});oe.filterChanged(K.key,ae._index,vt)}})}}),K}function F(ie){ie.classed(T.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function B(){var ie=!0,oe=!1;return{linePickActive:function(he){return arguments.length?ie=!!he:ie},contextShown:function(he){return arguments.length?oe=!!he:oe}}}function U(ie,oe){var he=oe==="top"?1:-1,ne=ie*Math.PI/180,q=Math.sin(ne),le=Math.cos(ne);return{dir:he,dx:q,dy:le,degrees:ie}}function z(ie,oe,he){for(var ne=oe.panels||(oe.panels=[]),q=ie.data(),le=0;le<q.length-1;le++){var Q=ne[le]||(ne[le]={}),te=q[le],ue=q[le+1];Q.dim0=te,Q.dim1=ue,Q.canvasX=te.canvasX,Q.panelSizeX=ue.canvasX-te.canvasX,Q.panelSizeY=oe.model.canvasHeight,Q.y=0,Q.canvasY=0,Q.plotGlPixelRatio=he}}function W(ie){for(var oe=0;oe<ie.length;oe++)for(var he=0;he<ie[oe].length;he++)for(var ne=ie[oe][he].trace,q=ne.dimensions,le=0;le<q.length;le++){var Q=q[le].values,te=q[le]._ax;te&&(te.range?te.range=_(te.range[0],te.range[1]):te.range=x(Q,ne._length),te.dtick||(te.dtick=.01*(Math.abs(te.range[1]-te.range[0])||1)),te.tickformat=q[le].tickformat,v.calcTicks(te),te.cleanRange())}}function j(ie,oe){return v.tickText(ie._ax,oe,!1).text}function ee(ie,oe){if(ie.ordinal)return"";var he=ie.domainScale.domain(),ne=he[oe?he.length-1:0];return j(ie.model.dimensions[ie.visibleIndex],ne)}V.exports=function(oe,he,ne,q){var le=oe._context.staticPlot,Q=oe._fullLayout,te=Q._toppaper,ue=Q._glcontainer,J=oe._context.plotGlPixelRatio,K=oe._fullLayout.paper_bgcolor;W(he);var ce=B(),ae=he.filter(function($e){return y($e).trace.visible}).map(k.bind(0,ne)).map(H.bind(0,ce,q));ue.each(function($e,qe){return L.extendFlat($e,ae[qe])});var de=ue.selectAll(".gl-canvas").each(function($e){$e.viewModel=ae[0],$e.viewModel.plotGlPixelRatio=J,$e.viewModel.paperColor=K,$e.model=$e.viewModel?$e.viewModel.model:null}),be=null,Se=de.filter(function($e){return $e.pick});Se.style("pointer-events",le?"none":"auto").on("mousemove",function($e){if(ce.linePickActive()&&$e.lineLayer&&q&&q.hover){var qe=p.event,ht=this.width,vt=this.height,pt=p.mouse(this),wt=pt[0],Mt=pt[1];if(wt<0||Mt<0||wt>=ht||Mt>=vt)return;var nt=$e.lineLayer.readPixel(wt,vt-1-Mt),Fe=nt[3]!==0,We=Fe?nt[2]+256*(nt[1]+256*nt[0]):null,Ze={x:wt,y:Mt,clientX:qe.clientX,clientY:qe.clientY,dataIndex:$e.model.key,curveNumber:We};We!==be&&(Fe?q.hover(Ze):q.unhover&&q.unhover(Ze),be=We)}}),de.style("opacity",function($e){return $e.pick?0:1}),te.style("background","rgba(255, 255, 255, 0)");var Te=te.selectAll("."+T.cn.parcoords).data(ae,u);Te.exit().remove(),Te.enter().append("g").classed(T.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Te.attr("transform",function($e){return r($e.model.translateX,$e.model.translateY)});var Ie=Te.selectAll("."+T.cn.parcoordsControlView).data(l,u);Ie.enter().append("g").classed(T.cn.parcoordsControlView,!0),Ie.attr("transform",function($e){return r($e.model.pad.l,$e.model.pad.t)});var ke=Ie.selectAll("."+T.cn.yAxis).data(function($e){return $e.dimensions},u);ke.enter().append("g").classed(T.cn.yAxis,!0),Ie.each(function($e){z(ke,$e,J)}),de.each(function($e){if($e.viewModel){!$e.lineLayer||q?$e.lineLayer=i(this,$e):$e.lineLayer.update($e),($e.key||$e.key===0)&&($e.viewModel[$e.key]=$e.lineLayer);var qe=!$e.context||q;$e.lineLayer.render($e.viewModel.panels,qe)}}),ke.attr("transform",function($e){return r($e.xScale($e.xIndex),0)}),ke.call(p.behavior.drag().origin(function($e){return $e}).on("drag",function($e){var qe=$e.parent;ce.linePickActive(!1),$e.x=Math.max(-T.overdrag,Math.min($e.model.width+T.overdrag,p.event.x)),$e.canvasX=$e.x*$e.model.canvasPixelRatio,ke.sort(function(ht,vt){return ht.x-vt.x}).each(function(ht,vt){ht.xIndex=vt,ht.x=$e===ht?ht.x:ht.xScale(ht.xIndex),ht.canvasX=ht.x*ht.model.canvasPixelRatio}),z(ke,qe,J),ke.filter(function(ht){return Math.abs($e.xIndex-ht.xIndex)!==0}).attr("transform",function(ht){return r(ht.xScale(ht.xIndex),0)}),p.select(this).attr("transform",r($e.x,0)),ke.each(function(ht,vt,pt){pt===$e.parent.key&&(qe.dimensions[vt]=ht)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!N(qe)),qe.focusLayer.render&&qe.focusLayer.render(qe.panels)}).on("dragend",function($e){var qe=$e.parent;$e.x=$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio,z(ke,qe,J),p.select(this).attr("transform",function(ht){return r(ht.x,0)}),qe.contextLayer&&qe.contextLayer.render(qe.panels,!1,!N(qe)),qe.focusLayer&&qe.focusLayer.render(qe.panels),qe.pickLayer&&qe.pickLayer.render(qe.panels,!0),ce.linePickActive(!0),q&&q.axesMoved&&q.axesMoved(qe.key,qe.dimensions.map(function(ht){return ht.crossfilterDimensionIndex}))})),ke.exit().remove();var Be=ke.selectAll("."+T.cn.axisOverlays).data(l,u);Be.enter().append("g").classed(T.cn.axisOverlays,!0),Be.selectAll("."+T.cn.axis).remove();var Me=Be.selectAll("."+T.cn.axis).data(l,u);Me.enter().append("g").classed(T.cn.axis,!0),Me.each(function($e){var qe=$e.model.height/$e.model.tickDistance,ht=$e.domainScale,vt=ht.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(qe,$e.tickFormat).tickValues($e.ordinal?vt:null).tickFormat(function(pt){return h.isOrdinal($e)?pt:j($e.model.dimensions[$e.visibleIndex],pt)}).scale(ht)),a.font(Me.selectAll("text"),$e.model.tickFont)}),Me.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Me.selectAll("text").style("cursor","default");var Oe=Be.selectAll("."+T.cn.axisHeading).data(l,u);Oe.enter().append("g").classed(T.cn.axisHeading,!0);var _e=Oe.selectAll("."+T.cn.axisTitle).data(l,u);_e.enter().append("text").classed(T.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",le?"none":"auto"),_e.text(function($e){return $e.label}).each(function($e){var qe=p.select(this);a.font(qe,$e.model.labelFont),t.convertToTspans(qe,oe)}).attr("transform",function($e){var qe=U($e.model.labelAngle,$e.model.labelSide),ht=T.axisTitleOffset;return(qe.dir>0?"":r(0,2*ht+$e.model.height))+g(qe.degrees)+r(-ht*qe.dx,-ht*qe.dy)}).attr("text-anchor",function($e){var qe=U($e.model.labelAngle,$e.model.labelSide),ht=Math.abs(qe.dx),vt=Math.abs(qe.dy);return 2*ht>vt?qe.dir*qe.dx<0?"start":"end":"middle"});var Ne=Be.selectAll("."+T.cn.axisExtent).data(l,u);Ne.enter().append("g").classed(T.cn.axisExtent,!0);var Ce=Ne.selectAll("."+T.cn.axisExtentTop).data(l,u);Ce.enter().append("g").classed(T.cn.axisExtentTop,!0),Ce.attr("transform",r(0,-T.axisExtentOffset));var Ye=Ce.selectAll("."+T.cn.axisExtentTopText).data(l,u);Ye.enter().append("text").classed(T.cn.axisExtentTopText,!0).call(F),Ye.text(function($e){return ee($e,!0)}).each(function($e){a.font(p.select(this),$e.model.rangeFont)});var rt=Ne.selectAll("."+T.cn.axisExtentBottom).data(l,u);rt.enter().append("g").classed(T.cn.axisExtentBottom,!0),rt.attr("transform",function($e){return r(0,$e.model.height+T.axisExtentOffset)});var ot=rt.selectAll("."+T.cn.axisExtentBottomText).data(l,u);ot.enter().append("text").classed(T.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),ot.text(function($e){return ee($e,!1)}).each(function($e){a.font(p.select(this),$e.model.rangeFont)}),c.ensureAxisBrush(Be,K,oe)}},24196:function(V,Y,e){var p=e(36336),L=e(5048),o=e(95724).isVisible,C={};function S(r,t,a){var n=t.indexOf(a),f=r.indexOf(n);return f===-1&&(f+=t.length),f}function v(r,t){return function(n,f){return S(r,t,n)-S(r,t,f)}}var g=V.exports=function(t,a){var n=t._fullLayout,f=L(t,[],C);if(f){var u={},l={},y={},h={},T=n._size;a.forEach(function(w,_){var m=w[0].trace;y[_]=m.index;var E=h[_]=m._fullInput.index;u[_]=t.data[E].dimensions,l[_]=t.data[E].dimensions.slice()});var c=function(w,_,m){var E=l[w][_],A=m.map(function(H){return H.slice()}),s="dimensions["+_+"].constraintrange",M=n._tracePreGUI[t._fullData[y[w]]._fullInput.uid];if(M[s]===void 0){var b=E.constraintrange;M[s]=b||null}var N=t._fullData[y[w]].dimensions[_];A.length?(A.length===1&&(A=A[0]),E.constraintrange=A,N.constraintrange=A.slice(),A=[A]):(delete E.constraintrange,delete N.constraintrange,A=null);var k={};k[s]=A,t.emit("plotly_restyle",[k,[h[w]]])},i=function(w){t.emit("plotly_hover",w)},d=function(w){t.emit("plotly_unhover",w)},x=function(w,_){var m=v(_,l[w].filter(o));u[w].sort(m),l[w].filter(function(E){return!o(E)}).sort(function(E){return l[w].indexOf(E)}).forEach(function(E){u[w].splice(u[w].indexOf(E),1),u[w].splice(l[w].indexOf(E),0,E)}),t.emit("plotly_restyle",[{dimensions:[u[w]]},[h[w]]])};p(t,a,{width:T.w,height:T.h,margin:{t:T.t,r:T.r,b:T.b,l:T.l}},{filterChanged:c,hover:i,unhover:d,axesMoved:x})}};g.reglPrecompiled=C},74996:function(V,Y,e){var p=e(45464),L=e(86968).u,o=e(25376),C=e(22548),S=e(21776).Ks,v=e(21776).Gw,g=e(92880).extendFlat,r=e(98192).c,t=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});V.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:S({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},t,{}),outsidetextfont:g({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(V,Y,e){var p=e(7316);Y.name="pie",Y.plot=function(L,o,C,S){p.plotBasePlot(Y.name,L,o,C,S)},Y.clean=function(L,o,C,S){p.cleanBasePlot(Y.name,L,o,C,S)}},45768:function(V,Y,e){var p=e(38248),L=e(49760),o=e(76308),C={};function S(t,a){var n=[],f=t._fullLayout,u=f.hiddenlabels||[],l=a.labels,y=a.marker.colors||[],h=a.values,T=a._length,c=a._hasValues&&T,i,d;if(a.dlabel)for(l=new Array(T),i=0;i<T;i++)l[i]=String(a.label0+i*a.dlabel);var x={},w=v(f["_"+a.type+"colormap"]),_=0,m=!1;for(i=0;i<T;i++){var E,A,s;if(c){if(E=h[i],!p(E))continue;E=+E}else E=1;A=l[i],(A===void 0||A==="")&&(A=i),A=String(A);var M=x[A];M===void 0?(x[A]=n.length,s=u.indexOf(A)!==-1,s||(_+=E),n.push({v:E,label:A,color:w(y[i],A),i,pts:[i],hidden:s})):(m=!0,d=n[M],d.v+=E,d.pts.push(i),d.hidden||(_+=E),d.color===!1&&y[i]&&(d.color=w(y[i],A)))}n=n.filter(function(N){return N.v>=0});var b=a.type==="funnelarea"?m:a.sort;return b&&n.sort(function(N,k){return k.v-N.v}),n[0]&&(n[0].vTotal=_),n}function v(t){return function(n,f){return!n||(n=L(n),!n.isValid())?!1:(n=o.addOpacity(n,n.getAlpha()),t[f]||(t[f]=n),n)}}function g(t,a){var n=(a||{}).type;n||(n="pie");var f=t._fullLayout,u=t.calcdata,l=f[n+"colorway"],y=f["_"+n+"colormap"];f["extend"+n+"colors"]&&(l=r(l,C));for(var h=0,T=0;T<u.length;T++){var c=u[T],i=c[0].trace.type;if(i===n)for(var d=0;d<c.length;d++){var x=c[d];x.color===!1&&(y[x.label]?x.color=y[x.label]:(y[x.label]=x.color=l[h%l.length],h++))}}}function r(t,a){var n,f=JSON.stringify(t),u=a[f];if(!u){for(u=t.slice(),n=0;n<t.length;n++)u.push(L(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)u.push(L(t[n]).darken(20).toHexString());a[f]=u}return u}V.exports={calc:S,crossTraceCalc:g,makePullColorFn:v,generateExtendedColors:r}},74174:function(V,Y,e){var p=e(38248),L=e(3400),o=e(74996),C=e(86968).Q,S=e(31508).handleText,v=e(3400).coercePattern;function g(a,n){var f=L.isArrayOrTypedArray(a),u=L.isArrayOrTypedArray(n),l=Math.min(f?a.length:1/0,u?n.length:1/0);if(isFinite(l)||(l=0),l&&u){for(var y,h=0;h<l;h++){var T=n[h];if(p(T)&&T>0){y=!0;break}}y||(l=0)}return{hasLabels:f,hasValues:u,len:l}}function r(a,n,f,u,l){var y=u("marker.line.width");y&&u("marker.line.color",l?void 0:f.paper_bgcolor);var h=u("marker.colors");v(u,"marker.pattern",h),a.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=a.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=f.paper_bgcolor)}function t(a,n,f,u){function l(M,b){return L.coerce(a,n,o,M,b)}var y=l("labels"),h=l("values"),T=g(y,h),c=T.len;if(n._hasLabels=T.hasLabels,n._hasValues=T.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),!c){n.visible=!1;return}n._length=c,r(a,n,u,l,!0),l("scalegroup");var i=l("text"),d=l("texttemplate"),x;if(d||(x=l("textinfo",L.isArrayOrTypedArray(i)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),d||x&&x!=="none"){var w=l("textposition");S(a,n,u,l,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var _=Array.isArray(w)||w==="auto",m=_||w==="outside";m&&l("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&l("insidetextorientation")}else x==="none"&&l("textposition","none");C(n,u,l);var E=l("hole"),A=l("title.text");if(A){var s=l("title.position",E?"middle center":"top center");!E&&s==="middle center"&&(n.title.position="top center"),L.coerceFont(l,"title.font",u.font)}l("sort"),l("direction"),l("rotation"),l("pull")}V.exports={handleLabelsAndValues:g,handleMarkerDefaults:r,supplyDefaults:t}},53644:function(V,Y,e){var p=e(10624).appendArrayMultiPointValues;V.exports=function(o,C){var S={curveNumber:C.index,pointNumbers:o.pts,data:C._input,fullData:C,label:o.label,color:o.color,value:o.v,percent:o.percent,text:o.text,bbox:o.bbox,v:o.v};return o.pts.length===1&&(S.pointNumber=S.i=o.pts[0]),p(S,C,o.pts),C.type==="funnelarea"&&(delete S.v,delete S.i),S}},21552:function(V,Y,e){var p=e(43616),L=e(76308);V.exports=function(C,S,v,g){var r=v.marker.pattern;r&&r.shape?p.pointStyle(C,v,g,S):L.fill(C,S.color)}},69656:function(V,Y,e){var p=e(3400);function L(o){return o.indexOf("e")!==-1?o.replace(/[.]?0+e/,"e"):o.indexOf(".")!==-1?o.replace(/[.]?0+$/,""):o}Y.formatPiePercent=function(C,S){var v=L((C*100).toPrecision(3));return p.numSeparate(v,S)+"%"},Y.formatPieValue=function(C,S){var v=L(C.toPrecision(10));return p.numSeparate(v,S)},Y.getFirstFilled=function(C,S){if(p.isArrayOrTypedArray(C))for(var v=0;v<S.length;v++){var g=C[S[v]];if(g||g===0||g==="")return g}},Y.castOption=function(C,S){if(p.isArrayOrTypedArray(C))return Y.getFirstFilled(C,S);if(C)return C},Y.getRotationAngle=function(o){return(o==="auto"?0:o)*Math.PI/180}},75792:function(V,Y,e){V.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(V){V.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(V,Y,e){var p=e(3400),L=e(85204);V.exports=function(C,S){function v(g,r){return p.coerce(C,S,L,g,r)}v("hiddenlabels"),v("piecolorway",S.colorway),v("extendpiecolors")}},37820:function(V,Y,e){var p=e(33428),L=e(7316),o=e(93024),C=e(76308),S=e(43616),v=e(3400),g=v.strScale,r=v.strTranslate,t=e(72736),a=e(82744),n=a.recordMinTextSize,f=a.clearMinTextSize,u=e(78048).TEXTPAD,l=e(69656),y=e(53644),h=e(3400).isValidTextValue;function T(q,le){var Q=q._context.staticPlot,te=q._fullLayout,ue=te._size;f("pie",te),w(le,q),j(le,ue);var J=v.makeTraceGroups(te._pielayer,le,"trace").each(function(K){var ce=p.select(this),ae=K[0],de=ae.trace;ie(K),ce.attr("stroke-linejoin","round"),ce.each(function(){var be=p.select(this).selectAll("g.slice").data(K);be.enter().append("g").classed("slice",!0),be.exit().remove();var Se=[[[],[]],[[],[]]],Te=!1;be.each(function(Ce,Ye){if(Ce.hidden){p.select(this).selectAll("path,g").remove();return}Ce.pointNumber=Ce.i,Ce.curveNumber=de.index,Se[Ce.pxmid[1]<0?0:1][Ce.pxmid[0]<0?0:1].push(Ce);var rt=ae.cx,ot=ae.cy,$e=p.select(this),qe=$e.selectAll("path.surface").data([Ce]);if(qe.enter().append("path").classed("surface",!0).style({"pointer-events":Q?"none":"all"}),$e.call(i,q,K),de.pull){var ht=+l.castOption(de.pull,Ce.pts)||0;ht>0&&(rt+=ht*Ce.pxmid[0],ot+=ht*Ce.pxmid[1])}Ce.cxFinal=rt,Ce.cyFinal=ot;function vt(Ze,Ge,Pe,Re){var je=Re*(Ge[0]-Ze[0]),De=Re*(Ge[1]-Ze[1]);return"a"+Re*ae.r+","+Re*ae.r+" 0 "+Ce.largeArc+(Pe?" 1 ":" 0 ")+je+","+De}var pt=de.hole;if(Ce.v===ae.vTotal){var wt="M"+(rt+Ce.px0[0])+","+(ot+Ce.px0[1])+vt(Ce.px0,Ce.pxmid,!0,1)+vt(Ce.pxmid,Ce.px0,!0,1)+"Z";pt?qe.attr("d","M"+(rt+pt*Ce.px0[0])+","+(ot+pt*Ce.px0[1])+vt(Ce.px0,Ce.pxmid,!1,pt)+vt(Ce.pxmid,Ce.px0,!1,pt)+"Z"+wt):qe.attr("d",wt)}else{var Mt=vt(Ce.px0,Ce.px1,!0,1);if(pt){var nt=1-pt;qe.attr("d","M"+(rt+pt*Ce.px1[0])+","+(ot+pt*Ce.px1[1])+vt(Ce.px1,Ce.px0,!1,pt)+"l"+nt*Ce.px0[0]+","+nt*Ce.px0[1]+Mt+"Z")}else qe.attr("d","M"+rt+","+ot+"l"+Ce.px0[0]+","+Ce.px0[1]+Mt+"Z")}he(q,Ce,ae);var Fe=l.castOption(de.textposition,Ce.pts),We=$e.selectAll("g.slicetext").data(Ce.text&&Fe!=="none"?[0]:[]);We.enter().append("g").classed("slicetext",!0),We.exit().remove(),We.each(function(){var Ze=v.ensureSingle(p.select(this),"text","",function(Ue){Ue.attr("data-notex",1)}),Ge=v.ensureUniformFontSize(q,Fe==="outside"?d(de,Ce,te.font):x(de,Ce,te.font));Ze.text(Ce.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(S.font,Ge).call(t.convertToTspans,q);var Pe=S.bBox(Ze.node()),Re;if(Fe==="outside")Re=k(Pe,Ce);else if(Re=_(Pe,Ce,ae),Fe==="auto"&&Re.scale<1){var je=v.ensureUniformFontSize(q,de.outsidetextfont);Ze.call(S.font,je),Pe=S.bBox(Ze.node()),Re=k(Pe,Ce)}var De=Re.textPosAngle,ge=De===void 0?Ce.pxmid:oe(ae.r,De);if(Re.targetX=rt+ge[0]*Re.rCenter+(Re.x||0),Re.targetY=ot+ge[1]*Re.rCenter+(Re.y||0),ne(Re,Pe),Re.outside){var we=Re.targetY;Ce.yLabelMin=we-Pe.height/2,Ce.yLabelMid=we,Ce.yLabelMax=we+Pe.height/2,Ce.labelExtraX=0,Ce.labelExtraY=0,Te=!0}Re.fontSize=Ge.size,n(de.type,Re,te),K[Ye].transform=Re,v.setTransormAndDisplay(Ze,Re)})});var Ie=p.select(this).selectAll("g.titletext").data(de.title.text?[0]:[]);if(Ie.enter().append("g").classed("titletext",!0),Ie.exit().remove(),Ie.each(function(){var Ce=v.ensureSingle(p.select(this),"text","",function(ot){ot.attr("data-notex",1)}),Ye=de.title.text;de._meta&&(Ye=v.templateString(Ye,de._meta)),Ce.text(Ye).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(S.font,de.title.font).call(t.convertToTspans,q);var rt;de.title.position==="middle center"?rt=H(ae):rt=F(ae,ue),Ce.attr("transform",r(rt.x,rt.y)+g(Math.min(1,rt.scale))+r(rt.tx,rt.ty))}),Te&&W(Se,de),c(be,de),Te&&de.automargin){var ke=S.bBox(ce.node()),Be=de.domain,Me=ue.w*(Be.x[1]-Be.x[0]),Oe=ue.h*(Be.y[1]-Be.y[0]),_e=(.5*Me-ae.r)/ue.w,Ne=(.5*Oe-ae.r)/ue.h;L.autoMargin(q,"pie."+de.uid+".automargin",{xl:Be.x[0]-_e,xr:Be.x[1]+_e,yb:Be.y[0]-Ne,yt:Be.y[1]+Ne,l:Math.max(ae.cx-ae.r-ke.left,0),r:Math.max(ke.right-(ae.cx+ae.r),0),b:Math.max(ke.bottom-(ae.cy+ae.r),0),t:Math.max(ae.cy-ae.r-ke.top,0),pad:5})}})});setTimeout(function(){J.selectAll("tspan").each(function(){var K=p.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)}function c(q,le){q.each(function(Q){var te=p.select(this);if(!Q.labelExtraX&&!Q.labelExtraY){te.select("path.textline").remove();return}var ue=te.select("g.slicetext text");Q.transform.targetX+=Q.labelExtraX,Q.transform.targetY+=Q.labelExtraY,v.setTransormAndDisplay(ue,Q.transform);var J=Q.cxFinal+Q.pxmid[0],K=Q.cyFinal+Q.pxmid[1],ce="M"+J+","+K,ae=(Q.yLabelMax-Q.yLabelMin)*(Q.pxmid[0]<0?-1:1)/4;if(Q.labelExtraX){var de=Q.labelExtraX*Q.pxmid[1]/Q.pxmid[0],be=Q.yLabelMid+Q.labelExtraY-(Q.cyFinal+Q.pxmid[1]);Math.abs(de)>Math.abs(be)?ce+="l"+be*Q.pxmid[0]/Q.pxmid[1]+","+be+"H"+(J+Q.labelExtraX+ae):ce+="l"+Q.labelExtraX+","+de+"v"+(be-de)+"h"+ae}else ce+="V"+(Q.yLabelMid+Q.labelExtraY)+"h"+ae;v.ensureSingle(te,"path","textline").call(C.stroke,le.outsidetextfont.color).attr({"stroke-width":Math.min(2,le.outsidetextfont.size/8),d:ce,fill:"none"})})}function i(q,le,Q){var te=Q[0],ue=te.cx,J=te.cy,K=te.trace,ce=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),q.on("mouseover",function(ae){var de=le._fullLayout,be=le._fullData[K.index];if(!(le._dragging||de.hovermode===!1)){var Se=be.hoverinfo;if(Array.isArray(Se)&&(Se=o.castHoverinfo({hoverinfo:[l.castOption(Se,ae.pts)],_module:K._module},de,0)),Se==="all"&&(Se="label+text+value+percent+name"),be.hovertemplate||Se!=="none"&&Se!=="skip"&&Se){var Te=ae.rInscribed||0,Ie=ue+ae.pxmid[0]*(1-Te),ke=J+ae.pxmid[1]*(1-Te),Be=de.separators,Me=[];if(Se&&Se.indexOf("label")!==-1&&Me.push(ae.label),ae.text=l.castOption(be.hovertext||be.text,ae.pts),Se&&Se.indexOf("text")!==-1){var Oe=ae.text;v.isValidTextValue(Oe)&&Me.push(Oe)}ae.value=ae.v,ae.valueLabel=l.formatPieValue(ae.v,Be),Se&&Se.indexOf("value")!==-1&&Me.push(ae.valueLabel),ae.percent=ae.v/te.vTotal,ae.percentLabel=l.formatPiePercent(ae.percent,Be),Se&&Se.indexOf("percent")!==-1&&Me.push(ae.percentLabel);var _e=be.hoverlabel,Ne=_e.font,Ce=[];o.loneHover({trace:K,x0:Ie-Te*te.r,x1:Ie+Te*te.r,y:ke,_x0:ce?ue+ae.TL[0]:Ie-Te*te.r,_x1:ce?ue+ae.TR[0]:Ie+Te*te.r,_y0:ce?J+ae.TL[1]:ke-Te*te.r,_y1:ce?J+ae.BL[1]:ke+Te*te.r,text:Me.join("<br>"),name:be.hovertemplate||Se.indexOf("name")!==-1?be.name:void 0,idealAlign:ae.pxmid[0]<0?"left":"right",color:l.castOption(_e.bgcolor,ae.pts)||ae.color,borderColor:l.castOption(_e.bordercolor,ae.pts),fontFamily:l.castOption(Ne.family,ae.pts),fontSize:l.castOption(Ne.size,ae.pts),fontColor:l.castOption(Ne.color,ae.pts),nameLength:l.castOption(_e.namelength,ae.pts),textAlign:l.castOption(_e.align,ae.pts),hovertemplate:l.castOption(be.hovertemplate,ae.pts),hovertemplateLabels:ae,eventData:[y(ae,be)]},{container:de._hoverlayer.node(),outerContainer:de._paper.node(),gd:le,inOut_bbox:Ce}),ae.bbox=Ce[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,le.emit("plotly_hover",{points:[y(ae,be)],event:p.event})}}),q.on("mouseout",function(ae){var de=le._fullLayout,be=le._fullData[K.index],Se=p.select(this).datum();K._hasHoverEvent&&(ae.originalEvent=p.event,le.emit("plotly_unhover",{points:[y(Se,be)],event:p.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(o.loneUnhover(de._hoverlayer.node()),K._hasHoverLabel=!1)}),q.on("click",function(ae){var de=le._fullLayout,be=le._fullData[K.index];le._dragging||de.hovermode===!1||(le._hoverdata=[y(ae,be)],o.click(le,p.event))})}function d(q,le,Q){var te=l.castOption(q.outsidetextfont.color,le.pts)||l.castOption(q.textfont.color,le.pts)||Q.color,ue=l.castOption(q.outsidetextfont.family,le.pts)||l.castOption(q.textfont.family,le.pts)||Q.family,J=l.castOption(q.outsidetextfont.size,le.pts)||l.castOption(q.textfont.size,le.pts)||Q.size,K=l.castOption(q.outsidetextfont.weight,le.pts)||l.castOption(q.textfont.weight,le.pts)||Q.weight,ce=l.castOption(q.outsidetextfont.style,le.pts)||l.castOption(q.textfont.style,le.pts)||Q.style,ae=l.castOption(q.outsidetextfont.variant,le.pts)||l.castOption(q.textfont.variant,le.pts)||Q.variant,de=l.castOption(q.outsidetextfont.textcase,le.pts)||l.castOption(q.textfont.textcase,le.pts)||Q.textcase,be=l.castOption(q.outsidetextfont.lineposition,le.pts)||l.castOption(q.textfont.lineposition,le.pts)||Q.lineposition,Se=l.castOption(q.outsidetextfont.shadow,le.pts)||l.castOption(q.textfont.shadow,le.pts)||Q.shadow;return{color:te,family:ue,size:J,weight:K,style:ce,variant:ae,textcase:de,lineposition:be,shadow:Se}}function x(q,le,Q){var te=l.castOption(q.insidetextfont.color,le.pts);!te&&q._input.textfont&&(te=l.castOption(q._input.textfont.color,le.pts));var ue=l.castOption(q.insidetextfont.family,le.pts)||l.castOption(q.textfont.family,le.pts)||Q.family,J=l.castOption(q.insidetextfont.size,le.pts)||l.castOption(q.textfont.size,le.pts)||Q.size,K=l.castOption(q.insidetextfont.weight,le.pts)||l.castOption(q.textfont.weight,le.pts)||Q.weight,ce=l.castOption(q.insidetextfont.style,le.pts)||l.castOption(q.textfont.style,le.pts)||Q.style,ae=l.castOption(q.insidetextfont.variant,le.pts)||l.castOption(q.textfont.variant,le.pts)||Q.variant,de=l.castOption(q.insidetextfont.textcase,le.pts)||l.castOption(q.textfont.textcase,le.pts)||Q.textcase,be=l.castOption(q.insidetextfont.lineposition,le.pts)||l.castOption(q.textfont.lineposition,le.pts)||Q.lineposition,Se=l.castOption(q.insidetextfont.shadow,le.pts)||l.castOption(q.textfont.shadow,le.pts)||Q.shadow;return{color:te||C.contrast(le.color),family:ue,size:J,weight:K,style:ce,variant:ae,textcase:de,lineposition:be,shadow:Se}}function w(q,le){for(var Q,te,ue=0;ue<q.length;ue++)if(Q=q[ue][0],te=Q.trace,te.title.text){var J=te.title.text;te._meta&&(J=v.templateString(J,te._meta));var K=S.tester.append("text").attr("data-notex",1).text(J).call(S.font,te.title.font).call(t.convertToTspans,le),ce=S.bBox(K.node(),!0);Q.titleBox={width:ce.width,height:ce.height},K.remove()}}function _(q,le,Q){var te=Q.r||le.rpx1,ue=le.rInscribed,J=le.startangle===le.stopangle;if(J)return{rCenter:1-ue,scale:0,rotate:0,textPosAngle:0};var K=le.ring,ce=K===1&&Math.abs(le.startangle-le.stopangle)===Math.PI*2,ae=le.halfangle,de=le.midangle,be=Q.trace.insidetextorientation,Se=be==="horizontal",Te=be==="tangential",Ie=be==="radial",ke=be==="auto",Be=[],Me;if(!ke){var Oe=function($e,qe){if(m(le,$e)){var ht=Math.abs($e-le.startangle),vt=Math.abs($e-le.stopangle),pt=ht<vt?ht:vt;qe==="tan"?Me=A(q,te,K,pt,0):Me=E(q,te,K,pt,Math.PI/2),Me.textPosAngle=$e,Be.push(Me)}},_e;if(Se||Te){for(_e=4;_e>=-4;_e-=2)Oe(Math.PI*_e,"tan");for(_e=4;_e>=-4;_e-=2)Oe(Math.PI*(_e+1),"tan")}if(Se||Ie){for(_e=4;_e>=-4;_e-=2)Oe(Math.PI*(_e+1.5),"rad");for(_e=4;_e>=-4;_e-=2)Oe(Math.PI*(_e+.5),"rad")}}if(ce||ke||Se){var Ne=Math.sqrt(q.width*q.width+q.height*q.height);if(Me={scale:ue*te*2/Ne,rCenter:1-ue,rotate:0},Me.textPosAngle=(le.startangle+le.stopangle)/2,Me.scale>=1)return Me;Be.push(Me)}(ke||Ie)&&(Me=E(q,te,K,ae,de),Me.textPosAngle=(le.startangle+le.stopangle)/2,Be.push(Me)),(ke||Te)&&(Me=A(q,te,K,ae,de),Me.textPosAngle=(le.startangle+le.stopangle)/2,Be.push(Me));for(var Ce=0,Ye=0,rt=0;rt<Be.length;rt++){var ot=Be[rt].scale;if(Ye<ot&&(Ye=ot,Ce=rt),!ke&&Ye>=1)break}return Be[Ce]}function m(q,le){var Q=q.startangle,te=q.stopangle;return Q>le&&le>te||Q<le&&le<te}function E(q,le,Q,te,ue){le=Math.max(0,le-2*u);var J=q.width/q.height,K=b(J,te,le,Q);return{scale:K*2/q.height,rCenter:s(J,K/le),rotate:M(ue)}}function A(q,le,Q,te,ue){le=Math.max(0,le-2*u);var J=q.height/q.width,K=b(J,te,le,Q);return{scale:K*2/q.width,rCenter:s(J,K/le),rotate:M(ue+Math.PI/2)}}function s(q,le){return Math.cos(le)-q*le}function M(q){return(180/Math.PI*q+720)%180-90}function b(q,le,Q,te){var ue=q+1/(2*Math.tan(le));return Q*Math.min(1/(Math.sqrt(ue*ue+.5)+ue),te/(Math.sqrt(q*q+te/2)+q))}function N(q,le){return q.v===le.vTotal&&!le.trace.hole?1:Math.min(1/(1+1/Math.sin(q.halfangle)),q.ring/2)}function k(q,le){var Q=le.pxmid[0],te=le.pxmid[1],ue=q.width/2,J=q.height/2;return Q<0&&(ue*=-1),te<0&&(J*=-1),{scale:1,rCenter:1,rotate:0,x:ue+Math.abs(J)*(ue>0?1:-1)/2,y:J/(1+Q*Q/(te*te)),outside:!0}}function H(q){var le=Math.sqrt(q.titleBox.width*q.titleBox.width+q.titleBox.height*q.titleBox.height);return{x:q.cx,y:q.cy,scale:q.trace.hole*q.r*2/le,tx:0,ty:-q.titleBox.height/2+q.trace.title.font.size}}function F(q,le){var Q=1,te=1,ue,J=q.trace,K={x:q.cx,y:q.cy},ce={tx:0,ty:0};ce.ty+=J.title.font.size,ue=z(J),J.title.position.indexOf("top")!==-1?(K.y-=(1+ue)*q.r,ce.ty-=q.titleBox.height):J.title.position.indexOf("bottom")!==-1&&(K.y+=(1+ue)*q.r);var ae=B(q.r,q.trace.aspectratio),de=le.w*(J.domain.x[1]-J.domain.x[0])/2;return J.title.position.indexOf("left")!==-1?(de=de+ae,K.x-=(1+ue)*ae,ce.tx+=q.titleBox.width/2):J.title.position.indexOf("center")!==-1?de*=2:J.title.position.indexOf("right")!==-1&&(de=de+ae,K.x+=(1+ue)*ae,ce.tx-=q.titleBox.width/2),Q=de/q.titleBox.width,te=U(q,le)/q.titleBox.height,{x:K.x,y:K.y,scale:Math.min(Q,te),tx:ce.tx,ty:ce.ty}}function B(q,le){return q/(le===void 0?1:le)}function U(q,le){var Q=q.trace,te=le.h*(Q.domain.y[1]-Q.domain.y[0]);return Math.min(q.titleBox.height,te/2)}function z(q){var le=q.pull;if(!le)return 0;var Q;if(v.isArrayOrTypedArray(le))for(le=0,Q=0;Q<q.pull.length;Q++)q.pull[Q]>le&&(le=q.pull[Q]);return le}function W(q,le){var Q,te,ue,J,K,ce,ae,de,be,Se,Te,Ie,ke;function Be(Ne,Ce){return Ne.pxmid[1]-Ce.pxmid[1]}function Me(Ne,Ce){return Ce.pxmid[1]-Ne.pxmid[1]}function Oe(Ne,Ce){Ce||(Ce={});var Ye=Ce.labelExtraY+(te?Ce.yLabelMax:Ce.yLabelMin),rt=te?Ne.yLabelMin:Ne.yLabelMax,ot=te?Ne.yLabelMax:Ne.yLabelMin,$e=Ne.cyFinal+K(Ne.px0[1],Ne.px1[1]),qe=Ye-rt,ht,vt,pt,wt,Mt,nt;if(qe*ae>0&&(Ne.labelExtraY=qe),!!v.isArrayOrTypedArray(le.pull))for(vt=0;vt<Se.length;vt++)pt=Se[vt],!(pt===Ne||(l.castOption(le.pull,Ne.pts)||0)>=(l.castOption(le.pull,pt.pts)||0))&&((Ne.pxmid[1]-pt.pxmid[1])*ae>0?(wt=pt.cyFinal+K(pt.px0[1],pt.px1[1]),qe=wt-rt-Ne.labelExtraY,qe*ae>0&&(Ne.labelExtraY+=qe)):(ot+Ne.labelExtraY-$e)*ae>0&&(ht=3*ce*Math.abs(vt-Se.indexOf(Ne)),Mt=pt.cxFinal+J(pt.px0[0],pt.px1[0]),nt=Mt+ht-(Ne.cxFinal+Ne.pxmid[0])-Ne.labelExtraX,nt*ce>0&&(Ne.labelExtraX+=nt)))}for(te=0;te<2;te++)for(ue=te?Be:Me,K=te?Math.max:Math.min,ae=te?1:-1,Q=0;Q<2;Q++){for(J=Q?Math.max:Math.min,ce=Q?1:-1,de=q[te][Q],de.sort(ue),be=q[1-te][Q],Se=be.concat(de),Ie=[],Te=0;Te<de.length;Te++)de[Te].yLabelMid!==void 0&&Ie.push(de[Te]);for(ke=!1,Te=0;te&&Te<be.length;Te++)if(be[Te].yLabelMid!==void 0){ke=be[Te];break}for(Te=0;Te<Ie.length;Te++){var _e=Te&&Ie[Te-1];ke&&!Te&&(_e=ke),Oe(Ie[Te],_e)}}}function j(q,le){for(var Q=[],te=0;te<q.length;te++){var ue=q[te][0],J=ue.trace,K=J.domain,ce=le.w*(K.x[1]-K.x[0]),ae=le.h*(K.y[1]-K.y[0]);J.title.text&&J.title.position!=="middle center"&&(ae-=U(ue,le));var de=ce/2,be=ae/2;J.type==="funnelarea"&&!J.scalegroup&&(be/=J.aspectratio),ue.r=Math.min(de,be)/(1+z(J)),ue.cx=le.l+le.w*(J.domain.x[1]+J.domain.x[0])/2,ue.cy=le.t+le.h*(1-J.domain.y[0])-ae/2,J.title.text&&J.title.position.indexOf("bottom")!==-1&&(ue.cy-=U(ue,le)),J.scalegroup&&Q.indexOf(J.scalegroup)===-1&&Q.push(J.scalegroup)}ee(q,Q)}function ee(q,le){for(var Q,te,ue,J=0;J<le.length;J++){var K=1/0,ce=le[J];for(te=0;te<q.length;te++)if(Q=q[te][0],ue=Q.trace,ue.scalegroup===ce){var ae;if(ue.type==="pie")ae=Q.r*Q.r;else if(ue.type==="funnelarea"){var de,be;ue.aspectratio>1?(de=Q.r,be=de/ue.aspectratio):(be=Q.r,de=be*ue.aspectratio),de*=(1+ue.baseratio)/2,ae=de*be}K=Math.min(K,ae/Q.vTotal)}for(te=0;te<q.length;te++)if(Q=q[te][0],ue=Q.trace,ue.scalegroup===ce){var Se=K*Q.vTotal;ue.type==="funnelarea"&&(Se/=(1+ue.baseratio)/2,Se/=ue.aspectratio),Q.r=Math.sqrt(Se)}}}function ie(q){var le=q[0],Q=le.r,te=le.trace,ue=l.getRotationAngle(te.rotation),J=2*Math.PI/le.vTotal,K="px0",ce="px1",ae,de,be;if(te.direction==="counterclockwise"){for(ae=0;ae<q.length&&q[ae].hidden;ae++);if(ae===q.length)return;ue+=J*q[ae].v,J*=-1,K="px1",ce="px0"}for(be=oe(Q,ue),ae=0;ae<q.length;ae++)de=q[ae],!de.hidden&&(de[K]=be,de.startangle=ue,ue+=J*de.v/2,de.pxmid=oe(Q,ue),de.midangle=ue,ue+=J*de.v/2,be=oe(Q,ue),de.stopangle=ue,de[ce]=be,de.largeArc=de.v>le.vTotal/2?1:0,de.halfangle=Math.PI*Math.min(de.v/le.vTotal,.5),de.ring=1-te.hole,de.rInscribed=N(de,le))}function oe(q,le){return[q*Math.sin(le),-q*Math.cos(le)]}function he(q,le,Q){var te=q._fullLayout,ue=Q.trace,J=ue.texttemplate,K=ue.textinfo;if(!J&&K&&K!=="none"){var ce=K.split("+"),ae=function(Ce){return ce.indexOf(Ce)!==-1},de=ae("label"),be=ae("text"),Se=ae("value"),Te=ae("percent"),Ie=te.separators,ke;if(ke=de?[le.label]:[],be){var Be=l.getFirstFilled(ue.text,le.pts);h(Be)&&ke.push(Be)}Se&&ke.push(l.formatPieValue(le.v,Ie)),Te&&ke.push(l.formatPiePercent(le.v/Q.vTotal,Ie)),le.text=ke.join("<br>")}function Me(Ce){return{label:Ce.label,value:Ce.v,valueLabel:l.formatPieValue(Ce.v,te.separators),percent:Ce.v/Q.vTotal,percentLabel:l.formatPiePercent(Ce.v/Q.vTotal,te.separators),color:Ce.color,text:Ce.text,customdata:v.castOption(ue,Ce.i,"customdata")}}if(J){var Oe=v.castOption(ue,le.i,"texttemplate");if(!Oe)le.text="";else{var _e=Me(le),Ne=l.getFirstFilled(ue.text,le.pts);(h(Ne)||Ne==="")&&(_e.text=Ne),le.text=v.texttemplateString(Oe,_e,q._fullLayout._d3locale,_e,ue._meta||{})}}}function ne(q,le){var Q=q.rotate*Math.PI/180,te=Math.cos(Q),ue=Math.sin(Q),J=(le.left+le.right)/2,K=(le.top+le.bottom)/2;q.textX=J*te-K*ue,q.textY=J*ue+K*te,q.noCenter=!0}V.exports={plot:T,formatSliceLabel:he,transformInsideText:_,determineInsideTextFont:x,positionTitleOutside:F,prerenderTitles:w,layoutAreas:j,attachFxHandlers:i,computeTransform:ne}},22152:function(V,Y,e){var p=e(33428),L=e(10528),o=e(82744).resizeText;V.exports=function(S){var v=S._fullLayout._pielayer.selectAll(".trace");o(S,v,"pie"),v.each(function(g){var r=g[0],t=r.trace,a=p.select(this);a.style({opacity:t.opacity}),a.selectAll("path.surface").each(function(n){p.select(this).call(L,n,t,S)})})}},10528:function(V,Y,e){var p=e(76308),L=e(69656).castOption,o=e(21552);V.exports=function(S,v,g,r){var t=g.marker.line,a=L(t.color,v.pts)||p.defaultLine,n=L(t.width,v.pts)||0;S.call(o,v,g,r).style("stroke-width",n).call(p.stroke,a)}},35484:function(V,Y,e){var p=e(52904);V.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(V,Y,e){var p=e(67792).gl_pointcloud2d,L=e(3400).isArrayOrTypedArray,o=e(43080),C=e(19280).findExtremes,S=e(44928);function v(t,a){this.scene=t,this.uid=a,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var g=v.prototype;g.handlePick=function(t){var a=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[a*2],this.pickXYData[a*2+1]]:[this.pickXData[a],this.pickYData[a]],textLabel:L(this.textLabels)?this.textLabels[a]:this.textLabels,color:this.color,name:this.name,pointIndex:a,hoverinfo:this.hoverinfo}},g.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=S(t,{})},g.updateFast=function(t){var a=this.xData=this.pickXData=t.x,n=this.yData=this.pickYData=t.y,f=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,l=t.indices,y,h,T,c=this.bounds,i,d,x;if(f){if(T=f,y=f.length>>>1,u)c[0]=t.xbounds[0],c[2]=t.xbounds[1],c[1]=t.ybounds[0],c[3]=t.ybounds[1];else for(x=0;x<y;x++)i=T[x*2],d=T[x*2+1],i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);if(l)h=l;else for(h=new Int32Array(y),x=0;x<y;x++)h[x]=x}else for(y=a.length,T=new Float32Array(2*y),h=new Int32Array(y),x=0;x<y;x++)i=a[x],d=n[x],h[x]=x,T[x*2]=i,T[x*2+1]=d,i<c[0]&&(c[0]=i),i>c[2]&&(c[2]=i),d<c[1]&&(c[1]=d),d>c[3]&&(c[3]=d);this.idToIndex=h,this.pointcloudOptions.idToIndex=h,this.pointcloudOptions.positions=T;var w=o(t.marker.color),_=o(t.marker.border.color),m=t.opacity*t.marker.opacity;w[3]*=m,this.pointcloudOptions.color=w;var E=t.marker.blend;if(E===null){var A=100;E=a.length<A||n.length<A}this.pointcloudOptions.blend=E,_[3]*=m,this.pointcloudOptions.borderColor=_;var s=t.marker.sizemin,M=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=s,this.pointcloudOptions.sizeMax=M,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var b=this.scene.xaxis,N=this.scene.yaxis,k=M/2||.5;t._extremes[b._id]=C(b,[c[0],c[2]],{ppad:k}),t._extremes[N._id]=C(N,[c[1],c[3]],{ppad:k})},g.dispose=function(){this.pointcloud.dispose()};function r(t,a){var n=new v(t,a.uid);return n.update(a),n}V.exports=r},41904:function(V,Y,e){var p=e(3400),L=e(35484);V.exports=function(C,S,v){function g(r,t){return p.coerce(C,S,L,r,t)}g("x"),g("y"),g("xbounds"),g("ybounds"),C.xy&&C.xy instanceof Float32Array&&(S.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(S.indices=C.indices),g("text"),g("marker.color",v),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",v),g("marker.border.arearatio"),S._length=null}},156:function(V,Y,e){V.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(V,Y,e){var p=e(25376),L=e(45464),o=e(22548),C=e(55756),S=e(86968).u,v=e(21776).Ks,g=e(49084),r=e(31780).templatedArray,t=e(29736).descriptionOnlyNumbers,a=e(92880).extendFlat,n=e(67824).overrideAll,f=V.exports=n({hoverinfo:a({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:S({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({autoShadowDflt:!0}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:o.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:a(g().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");f.transforms=void 0},10760:function(V,Y,e){var p=e(67824).overrideAll,L=e(84888)._M,o=e(59596),C=e(65460),S=e(93972),v=e(86476),g=e(22676).prepSelect,r=e(3400),t=e(24040),a="sankey";Y.name=a,Y.baseLayoutAttrOverrides=p({hoverlabel:C.hoverlabel},"plot","nested"),Y.plot=function(f){var u=L(f.calcdata,a)[0];o(f,u),Y.updateFx(f)},Y.clean=function(f,u,l,y){var h=y._has&&y._has(a),T=u._has&&u._has(a);h&&!T&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},Y.updateFx=function(f){for(var u=0;u<f._fullData.length;u++)n(f,u)};function n(f,u){var l=f._fullData[u],y=f._fullLayout,h=y.dragmode,T=y.dragmode==="pan"?"move":"crosshair",c=l._bgRect;if(c&&!(h==="pan"||h==="zoom")){S(c,T);var i={_id:"x",c2p:r.identity,_offset:l._sankey.translateX,_length:l._sankey.width},d={_id:"y",c2p:r.identity,_offset:l._sankey.translateY,_length:l._sankey.height},x={gd:f,element:c.node(),plotinfo:{id:u,xaxis:i,yaxis:d,fillRangeItems:r.noop},subplot:u,xaxes:[i],yaxes:[d],doneFnCompleted:function(w){var _=f._fullData[u],m,E=_.node.groups.slice(),A=[];function s(k){for(var H=_._sankey.graph.nodes,F=0;F<H.length;F++)if(H[F].pointNumber===k)return H[F]}for(var M=0;M<w.length;M++){var b=s(w[M].pointNumber);if(b)if(b.group){for(var N=0;N<b.childrenNodes.length;N++)A.push(b.childrenNodes[N].pointNumber);E[b.pointNumber-_.node._count]=!1}else A.push(b.pointNumber)}m=E.filter(Boolean).concat([A]),t.call("_guiRestyle",f,{"node.groups":[m]},u)}};x.prepFn=function(w,_,m){g(w,_,m,x,h)},v.init(x)}}},48068:function(V,Y,e){var p=e(78484),L=e(3400),o=e(71688).wrap,C=L.isArrayOrTypedArray,S=L.isIndex,v=e(8932);function g(t){var a=t.node,n=t.link,f=[],u=C(n.color),l=C(n.hovercolor),y=C(n.customdata),h={},T={},c=n.colorscales.length,i;for(i=0;i<c;i++){var d=n.colorscales[i],x=v.extractScale(d,{cLetter:"c"}),w=v.makeColorScaleFunc(x);T[d.label]=w}var _=0;for(i=0;i<n.value.length;i++)n.source[i]>_&&(_=n.source[i]),n.target[i]>_&&(_=n.target[i]);var m=_+1;t.node._count=m;var E,A=t.node.groups,s={};for(i=0;i<A.length;i++){var M=A[i];for(E=0;E<M.length;E++){var b=M[E],N=m+i;s.hasOwnProperty(b)?L.warn("Node "+b+" is already part of a group."):s[b]=N}}var k={source:[],target:[]};for(i=0;i<n.value.length;i++){var H=n.value[i],F=n.source[i],B=n.target[i];if(H>0&&S(F,m)&&S(B,m)&&!(s.hasOwnProperty(F)&&s.hasOwnProperty(B)&&s[F]===s[B])){s.hasOwnProperty(B)&&(B=s[B]),s.hasOwnProperty(F)&&(F=s[F]),F=+F,B=+B,h[F]=h[B]=!0;var U="";n.label&&n.label[i]&&(U=n.label[i]);var z=null;U&&T.hasOwnProperty(U)&&(z=T[U]),f.push({pointNumber:i,label:U,color:u?n.color[i]:n.color,hovercolor:l?n.hovercolor[i]:n.hovercolor,customdata:y?n.customdata[i]:n.customdata,concentrationscale:z,source:F,target:B,value:+H}),k.source.push(F),k.target.push(B)}}var W=m+A.length,j=C(a.color),ee=C(a.customdata),ie=[];for(i=0;i<W;i++)if(h[i]){var oe=a.label[i];ie.push({group:i>m-1,childrenNodes:[],pointNumber:i,label:oe,color:j?a.color[i]:a.color,customdata:ee?a.customdata[i]:a.customdata})}var he=!1;return r(W,k.source,k.target)&&(he=!0),{circular:he,links:f,nodes:ie,groups:A,groupLookup:s}}function r(t,a,n){for(var f=L.init2dArray(t,0),u=0;u<Math.min(a.length,n.length);u++)if(L.isIndex(a[u],t)&&L.isIndex(n[u],t)){if(a[u]===n[u])return!0;f[a[u]].push(n[u])}var l=p(f);return l.components.some(function(y){return y.length>1})}V.exports=function(a,n){var f=g(n);return o({circular:f.circular,_nodes:f.nodes,_links:f.links,_groups:f.groups,_groupLookup:f.groupLookup})}},11820:function(V){V.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(V,Y,e){var p=e(3400),L=e(41440),o=e(76308),C=e(49760),S=e(86968).Q,v=e(16132),g=e(31780),r=e(51272);V.exports=function(n,f,u,l){function y(N,k){return p.coerce(n,f,L,N,k)}var h=p.extendDeep(l.hoverlabel,n.hoverlabel),T=n.node,c=g.newContainer(f,"node");function i(N,k){return p.coerce(T,c,L.node,N,k)}i("label"),i("groups"),i("x"),i("y"),i("pad"),i("thickness"),i("line.color"),i("line.width"),i("hoverinfo",n.hoverinfo),v(T,c,i,h),i("hovertemplate"),i("align");var d=l.colorway,x=function(N){return d[N%d.length]};i("color",c.label.map(function(N,k){return o.addOpacity(x(k),.8)})),i("customdata");var w=n.link||{},_=g.newContainer(f,"link");function m(N,k){return p.coerce(w,_,L.link,N,k)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),v(w,_,m,h),m("hovertemplate");var E=C(l.paper_bgcolor).getLuminance()<.333,A=E?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)",s=m("color",A);function M(N){var k=C(N);if(!k.isValid())return N;var H=k.getAlpha();return H<=.8?k.setAlpha(H+.2):k=E?k.brighten():k.darken(),k.toRgbString()}m("hovercolor",Array.isArray(s)?s.map(M):M(s)),m("customdata"),r(w,_,{name:"colorscales",handleItemDefaults:t}),S(f,l,y),y("orientation"),y("valueformat"),y("valuesuffix");var b;c.x.length&&c.y.length&&(b="freeform"),y("arrangement",b),p.coerceFont(y,"textfont",l.font,{autoShadowDflt:!0}),f._length=null};function t(a,n){function f(u,l){return p.coerce(a,n,L.link.colorscales,u,l)}f("label"),f("cmin"),f("cmax"),f("colorscale")}},45499:function(V,Y,e){V.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(V,Y,e){var p=e(33428),L=e(3400),o=L.numberFormat,C=e(83248),S=e(93024),v=e(76308),g=e(11820).cn,r=L._;function t(d){return d!==""}function a(d,x){return d.filter(function(w){return w.key===x.traceId})}function n(d,x){p.select(d).select("path").style("fill-opacity",x),p.select(d).select("rect").style("fill-opacity",x)}function f(d){p.select(d).select("text.name").style("fill","black")}function u(d){return function(x){return d.node.sourceLinks.indexOf(x.link)!==-1||d.node.targetLinks.indexOf(x.link)!==-1}}function l(d){return function(x){return x.node.sourceLinks.indexOf(d.link)!==-1||x.node.targetLinks.indexOf(d.link)!==-1}}function y(d,x,w){x&&w&&a(w,x).selectAll("."+g.sankeyLink).filter(u(x)).call(T.bind(0,x,w,!1))}function h(d,x,w){x&&w&&a(w,x).selectAll("."+g.sankeyLink).filter(u(x)).call(c.bind(0,x,w,!1))}function T(d,x,w,_){_.style("fill",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverHue}).style("fill-opacity",function(m){if(!m.link.concentrationscale)return m.tinyColorHoverAlpha}),_.each(function(m){var E=m.link.label;E!==""&&a(x,d).selectAll("."+g.sankeyLink).filter(function(A){return A.link.label===E}).style("fill",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverHue}).style("fill-opacity",function(A){if(!A.link.concentrationscale)return A.tinyColorHoverAlpha})}),w&&a(x,d).selectAll("."+g.sankeyNode).filter(l(d)).call(y)}function c(d,x,w,_){_.style("fill",function(m){return m.tinyColorHue}).style("fill-opacity",function(m){return m.tinyColorAlpha}),_.each(function(m){var E=m.link.label;E!==""&&a(x,d).selectAll("."+g.sankeyLink).filter(function(A){return A.link.label===E}).style("fill",function(A){return A.tinyColorHue}).style("fill-opacity",function(A){return A.tinyColorAlpha})}),w&&a(x,d).selectAll(g.sankeyNode).filter(l(d)).call(h)}function i(d,x){var w=d.hoverlabel||{},_=L.nestedProperty(w,x).get();return Array.isArray(_)?!1:_}V.exports=function(x,w){for(var _=x._fullLayout,m=_._paper,E=_._size,A=0;A<x._fullData.length;A++)if(x._fullData[A].visible&&x._fullData[A].type===g.sankey&&!x._fullData[A]._viewInitial){var s=x._fullData[A].node;x._fullData[A]._viewInitial={node:{groups:s.groups.slice(),x:s.x.slice(),y:s.y.slice()}}}var M=function(oe,he){var ne=he.link;ne.originalEvent=p.event,x._hoverdata=[ne],S.click(x,{target:!0})},b=function(oe,he,ne){x._fullLayout.hovermode!==!1&&(p.select(oe).call(T.bind(0,he,ne,!0)),he.link.trace.link.hoverinfo!=="skip"&&(he.link.fullData=he.link.trace,x.emit("plotly_hover",{event:p.event,points:[he.link]})))},N=r(x,"source:")+" ",k=r(x,"target:")+" ",H=r(x,"concentration:")+" ",F=r(x,"incoming flow count:")+" ",B=r(x,"outgoing flow count:")+" ",U=function(oe,he){if(x._fullLayout.hovermode===!1)return;var ne=he.link.trace.link;if(ne.hoverinfo==="none"||ne.hoverinfo==="skip")return;var q=[];function le(ae){var de,be;ae.circular?(de=(ae.circularPathData.leftInnerExtent+ae.circularPathData.rightInnerExtent)/2,be=ae.circularPathData.verticalFullExtent):(de=(ae.source.x1+ae.target.x0)/2,be=(ae.y0+ae.y1)/2);var Se=[de,be];return ae.trace.orientation==="v"&&Se.reverse(),Se[0]+=he.parent.translateX,Se[1]+=he.parent.translateY,Se}for(var Q=0,te=0;te<he.flow.links.length;te++){var ue=he.flow.links[te];if(!(x._fullLayout.hovermode==="closest"&&he.link.pointNumber!==ue.pointNumber)){he.link.pointNumber===ue.pointNumber&&(Q=te),ue.fullData=ue.trace,ne=he.link.trace.link;var J=le(ue),K={valueLabel:o(he.valueFormat)(ue.value)+he.valueSuffix};q.push({x:J[0],y:J[1],name:K.valueLabel,text:[ue.label||"",N+ue.source.label,k+ue.target.label,ue.concentrationscale?H+o("%0.2f")(ue.flow.labelConcentration):""].filter(t).join("<br>"),color:i(ne,"bgcolor")||v.addOpacity(ue.color,1),borderColor:i(ne,"bordercolor"),fontFamily:i(ne,"font.family"),fontSize:i(ne,"font.size"),fontColor:i(ne,"font.color"),fontWeight:i(ne,"font.weight"),fontStyle:i(ne,"font.style"),fontVariant:i(ne,"font.variant"),fontTextcase:i(ne,"font.textcase"),fontLineposition:i(ne,"font.lineposition"),fontShadow:i(ne,"font.shadow"),nameLength:i(ne,"namelength"),textAlign:i(ne,"align"),idealAlign:p.event.x<J[0]?"right":"left",hovertemplate:ne.hovertemplate,hovertemplateLabels:K,eventData:[ue]})}}var ce=S.loneHover(q,{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:x,anchorIndex:Q});ce.each(function(){var ae=this;he.link.concentrationscale||n(ae,.65),f(ae)})},z=function(oe,he,ne){x._fullLayout.hovermode!==!1&&(p.select(oe).call(c.bind(0,he,ne,!0)),he.link.trace.link.hoverinfo!=="skip"&&(he.link.fullData=he.link.trace,x.emit("plotly_unhover",{event:p.event,points:[he.link]})),S.loneUnhover(_._hoverlayer.node()))},W=function(oe,he,ne){var q=he.node;q.originalEvent=p.event,x._hoverdata=[q],p.select(oe).call(h,he,ne),S.click(x,{target:!0})},j=function(oe,he,ne){x._fullLayout.hovermode!==!1&&(p.select(oe).call(y,he,ne),he.node.trace.node.hoverinfo!=="skip"&&(he.node.fullData=he.node.trace,x.emit("plotly_hover",{event:p.event,points:[he.node]})))},ee=function(oe,he){if(x._fullLayout.hovermode!==!1){var ne=he.node.trace.node;if(!(ne.hoverinfo==="none"||ne.hoverinfo==="skip")){var q=p.select(oe).select("."+g.nodeRect),le=x._fullLayout._paperdiv.node().getBoundingClientRect(),Q=q.node().getBoundingClientRect(),te=Q.left-2-le.left,ue=Q.right+2-le.left,J=Q.top+Q.height/4-le.top,K={valueLabel:o(he.valueFormat)(he.node.value)+he.valueSuffix};he.node.fullData=he.node.trace,x._fullLayout._calcInverseTransform(x);var ce=x._fullLayout._invScaleX,ae=x._fullLayout._invScaleY,de=S.loneHover({x0:ce*te,x1:ce*ue,y:ae*J,name:o(he.valueFormat)(he.node.value)+he.valueSuffix,text:[he.node.label,F+he.node.targetLinks.length,B+he.node.sourceLinks.length].filter(t).join("<br>"),color:i(ne,"bgcolor")||he.tinyColorHue,borderColor:i(ne,"bordercolor"),fontFamily:i(ne,"font.family"),fontSize:i(ne,"font.size"),fontColor:i(ne,"font.color"),fontWeight:i(ne,"font.weight"),fontStyle:i(ne,"font.style"),fontVariant:i(ne,"font.variant"),fontTextcase:i(ne,"font.textcase"),fontLineposition:i(ne,"font.lineposition"),fontShadow:i(ne,"font.shadow"),nameLength:i(ne,"namelength"),textAlign:i(ne,"align"),idealAlign:"left",hovertemplate:ne.hovertemplate,hovertemplateLabels:K,eventData:[he.node]},{container:_._hoverlayer.node(),outerContainer:_._paper.node(),gd:x});n(de,.85),f(de)}}},ie=function(oe,he,ne){x._fullLayout.hovermode!==!1&&(p.select(oe).call(h,he,ne),he.node.trace.node.hoverinfo!=="skip"&&(he.node.fullData=he.node.trace,x.emit("plotly_unhover",{event:p.event,points:[he.node]})),S.loneUnhover(_._hoverlayer.node()))};C(x,m,w,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:b,follow:U,unhover:z,select:M},nodeEvents:{hover:j,follow:ee,unhover:ie,select:W}})}},83248:function(V,Y,e){var p=e(49812),L=e(67756).Gz,o=e(33428),C=e(26800),S=e(48932),v=e(11820),g=e(49760),r=e(76308),t=e(43616),a=e(3400),n=a.strTranslate,f=a.strRotate,u=e(71688),l=u.keyFun,y=u.repeat,h=u.unwrap,T=e(72736),c=e(24040),i=e(84284),d=i.CAP_SHIFT,x=i.LINE_SPACING,w=3;function _(le,Q,te){var ue=h(Q),J=ue.trace,K=J.domain,ce=J.orientation==="h",ae=J.node.pad,de=J.node.thickness,be={justify:C.sankeyJustify,left:C.sankeyLeft,right:C.sankeyRight,center:C.sankeyCenter}[J.node.align],Se=le.width*(K.x[1]-K.x[0]),Te=le.height*(K.y[1]-K.y[0]),Ie=ue._nodes,ke=ue._links,Be=ue.circular,Me;Be?Me=S.sankeyCircular().circularLinkGap(0):Me=C.sankey(),Me.iterations(v.sankeyIterations).size(ce?[Se,Te]:[Te,Se]).nodeWidth(de).nodePadding(ae).nodeId(function(nt){return nt.pointNumber}).nodeAlign(be).nodes(Ie).links(ke);var Oe=Me();Me.nodePadding()<ae&&a.warn("node.pad was reduced to ",Me.nodePadding()," to fit within the figure.");var _e,Ne,Ce;for(var Ye in ue._groupLookup){var rt=parseInt(ue._groupLookup[Ye]),ot;for(_e=0;_e<Oe.nodes.length;_e++)if(Oe.nodes[_e].pointNumber===rt){ot=Oe.nodes[_e];break}if(ot){var $e={pointNumber:parseInt(Ye),x0:ot.x0,x1:ot.x1,y0:ot.y0,y1:ot.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Oe.nodes.unshift($e),ot.childrenNodes.unshift($e)}}function qe(){for(_e=0;_e<Oe.nodes.length;_e++){var nt=Oe.nodes[_e],Fe={},We,Ze;for(Ne=0;Ne<nt.targetLinks.length;Ne++)Ze=nt.targetLinks[Ne],We=Ze.source.pointNumber+":"+Ze.target.pointNumber,Fe.hasOwnProperty(We)||(Fe[We]=[]),Fe[We].push(Ze);var Ge=Object.keys(Fe);for(Ne=0;Ne<Ge.length;Ne++){We=Ge[Ne];var Pe=Fe[We],Re=0,je={};for(Ce=0;Ce<Pe.length;Ce++)Ze=Pe[Ce],je[Ze.label]||(je[Ze.label]=0),je[Ze.label]+=Ze.value,Re+=Ze.value;for(Ce=0;Ce<Pe.length;Ce++)Ze=Pe[Ce],Ze.flow={value:Re,labelConcentration:je[Ze.label]/Re,concentration:Ze.value/Re,links:Pe},Ze.concentrationscale&&(Ze.color=g(Ze.concentrationscale(Ze.flow.labelConcentration)))}var De=0;for(Ne=0;Ne<nt.sourceLinks.length;Ne++)De+=nt.sourceLinks[Ne].value;for(Ne=0;Ne<nt.sourceLinks.length;Ne++)Ze=nt.sourceLinks[Ne],Ze.concentrationOut=Ze.value/De;var ge=0;for(Ne=0;Ne<nt.targetLinks.length;Ne++)ge+=nt.targetLinks[Ne].value;for(Ne=0;Ne<nt.targetLinks.length;Ne++)Ze=nt.targetLinks[Ne],Ze.concenrationIn=Ze.value/ge}}qe();function ht(nt){nt.forEach(function(Fe){var We,Ze,Ge=0,Pe=Fe.length,Re;for(Fe.sort(function(je,De){return je.y0-De.y0}),Re=0;Re<Pe;++Re)We=Fe[Re],We.y0>=Ge||(Ze=Ge-We.y0,Ze>1e-6&&(We.y0+=Ze,We.y1+=Ze)),Ge=We.y1+ae})}function vt(nt){var Fe=nt.map(function(De,ge){return{x0:De.x0,index:ge}}).sort(function(De,ge){return De.x0-ge.x0}),We=[],Ze=-1,Ge,Pe=-1/0,Re;for(_e=0;_e<Fe.length;_e++){var je=nt[Fe[_e].index];je.x0>Pe+de&&(Ze+=1,Ge=je.x0),Pe=je.x0,We[Ze]||(We[Ze]=[]),We[Ze].push(je),Re=Ge-je.x0,je.x0+=Re,je.x1+=Re}return We}if(J.node.x.length&&J.node.y.length){for(_e=0;_e<Math.min(J.node.x.length,J.node.y.length,Oe.nodes.length);_e++)if(J.node.x[_e]&&J.node.y[_e]){var pt=[J.node.x[_e]*Se,J.node.y[_e]*Te];Oe.nodes[_e].x0=pt[0]-de/2,Oe.nodes[_e].x1=pt[0]+de/2;var wt=Oe.nodes[_e].y1-Oe.nodes[_e].y0;Oe.nodes[_e].y0=pt[1]-wt/2,Oe.nodes[_e].y1=pt[1]+wt/2}if(J.arrangement==="snap"){Ie=Oe.nodes;var Mt=vt(Ie);ht(Mt)}Me.update(Oe)}return{circular:Be,key:te,trace:J,guid:a.randstr(),horizontal:ce,width:Se,height:Te,nodePad:J.node.pad,nodeLineColor:J.node.line.color,nodeLineWidth:J.node.line.width,linkLineColor:J.link.line.color,linkLineWidth:J.link.line.width,linkArrowLength:J.link.arrowlen,valueFormat:J.valueformat,valueSuffix:J.valuesuffix,textFont:J.textfont,translateX:K.x[0]*le.width+le.margin.l,translateY:le.height-K.y[1]*le.height+le.margin.t,dragParallel:ce?Te:Se,dragPerpendicular:ce?Se:Te,arrangement:J.arrangement,sankey:Me,graph:Oe,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(le,Q,te){var ue=g(Q.color),J=g(Q.hovercolor),K=Q.source.label+"|"+Q.target.label,ce=K+"__"+te;return Q.trace=le.trace,Q.curveNumber=le.trace.index,{circular:le.circular,key:ce,traceId:le.key,pointNumber:Q.pointNumber,link:Q,tinyColorHue:r.tinyRGB(ue),tinyColorAlpha:ue.getAlpha(),tinyColorHoverHue:r.tinyRGB(J),tinyColorHoverAlpha:J.getAlpha(),linkPath:A,linkLineColor:le.linkLineColor,linkLineWidth:le.linkLineWidth,linkArrowLength:le.linkArrowLength,valueFormat:le.valueFormat,valueSuffix:le.valueSuffix,sankey:le.sankey,parent:le,interactionState:le.interactionState,flow:Q.flow}}function E(le,Q){var te="",ue=le.width/2,J=le.circularPathData;return le.circularLinkType==="top"?te="M "+(J.targetX-Q)+" "+(J.targetY+ue)+" L"+(J.rightInnerExtent-Q)+" "+(J.targetY+ue)+"A"+(J.rightLargeArcRadius+ue)+" "+(J.rightSmallArcRadius+ue)+" 0 0 1 "+(J.rightFullExtent-ue-Q)+" "+(J.targetY-J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ue-Q)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ue)+" "+(J.rightLargeArcRadius+ue)+" 0 0 1 "+(J.rightInnerExtent-Q)+" "+(J.verticalFullExtent-ue)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent-ue)+"A"+(J.leftLargeArcRadius+ue)+" "+(J.leftLargeArcRadius+ue)+" 0 0 1 "+(J.leftFullExtent+ue)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ue)+" "+(J.sourceY-J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ue)+" "+(J.leftSmallArcRadius+ue)+" 0 0 1 "+J.leftInnerExtent+" "+(J.sourceY+ue)+"L"+J.sourceX+" "+(J.sourceY+ue)+"L"+J.sourceX+" "+(J.sourceY-ue)+"L"+J.leftInnerExtent+" "+(J.sourceY-ue)+"A"+(J.leftLargeArcRadius-ue)+" "+(J.leftSmallArcRadius-ue)+" 0 0 0 "+(J.leftFullExtent-ue)+" "+(J.sourceY-J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ue)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ue)+" "+(J.leftLargeArcRadius-ue)+" 0 0 0 "+J.leftInnerExtent+" "+(J.verticalFullExtent+ue)+"L"+(J.rightInnerExtent-Q)+" "+(J.verticalFullExtent+ue)+"A"+(J.rightLargeArcRadius-ue)+" "+(J.rightLargeArcRadius-ue)+" 0 0 0 "+(J.rightFullExtent+ue-Q)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ue-Q)+" "+(J.targetY-J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ue)+" "+(J.rightSmallArcRadius-ue)+" 0 0 0 "+(J.rightInnerExtent-Q)+" "+(J.targetY-ue)+"L"+(J.targetX-Q)+" "+(J.targetY-ue)+(Q>0?"L"+J.targetX+" "+J.targetY:"")+"Z":te="M "+(J.targetX-Q)+" "+(J.targetY-ue)+" L"+(J.rightInnerExtent-Q)+" "+(J.targetY-ue)+"A"+(J.rightLargeArcRadius+ue)+" "+(J.rightSmallArcRadius+ue)+" 0 0 0 "+(J.rightFullExtent-ue-Q)+" "+(J.targetY+J.rightSmallArcRadius)+"L"+(J.rightFullExtent-ue-Q)+" "+J.verticalRightInnerExtent+"A"+(J.rightLargeArcRadius+ue)+" "+(J.rightLargeArcRadius+ue)+" 0 0 0 "+(J.rightInnerExtent-Q)+" "+(J.verticalFullExtent+ue)+"L"+J.leftInnerExtent+" "+(J.verticalFullExtent+ue)+"A"+(J.leftLargeArcRadius+ue)+" "+(J.leftLargeArcRadius+ue)+" 0 0 0 "+(J.leftFullExtent+ue)+" "+J.verticalLeftInnerExtent+"L"+(J.leftFullExtent+ue)+" "+(J.sourceY+J.leftSmallArcRadius)+"A"+(J.leftLargeArcRadius+ue)+" "+(J.leftSmallArcRadius+ue)+" 0 0 0 "+J.leftInnerExtent+" "+(J.sourceY-ue)+"L"+J.sourceX+" "+(J.sourceY-ue)+"L"+J.sourceX+" "+(J.sourceY+ue)+"L"+J.leftInnerExtent+" "+(J.sourceY+ue)+"A"+(J.leftLargeArcRadius-ue)+" "+(J.leftSmallArcRadius-ue)+" 0 0 1 "+(J.leftFullExtent-ue)+" "+(J.sourceY+J.leftSmallArcRadius)+"L"+(J.leftFullExtent-ue)+" "+J.verticalLeftInnerExtent+"A"+(J.leftLargeArcRadius-ue)+" "+(J.leftLargeArcRadius-ue)+" 0 0 1 "+J.leftInnerExtent+" "+(J.verticalFullExtent-ue)+"L"+(J.rightInnerExtent-Q)+" "+(J.verticalFullExtent-ue)+"A"+(J.rightLargeArcRadius-ue)+" "+(J.rightLargeArcRadius-ue)+" 0 0 1 "+(J.rightFullExtent+ue-Q)+" "+J.verticalRightInnerExtent+"L"+(J.rightFullExtent+ue-Q)+" "+(J.targetY+J.rightSmallArcRadius)+"A"+(J.rightLargeArcRadius-ue)+" "+(J.rightSmallArcRadius-ue)+" 0 0 1 "+(J.rightInnerExtent-Q)+" "+(J.targetY+ue)+"L"+(J.targetX-Q)+" "+(J.targetY+ue)+(Q>0?"L"+J.targetX+" "+J.targetY:"")+"Z",te}function A(){var le=.5;function Q(te){var ue=te.linkArrowLength;if(te.link.circular)return E(te.link,ue);var J=Math.abs((te.link.target.x0-te.link.source.x1)/2);ue>J&&(ue=J);var K=te.link.source.x1,ce=te.link.target.x0-ue,ae=L(K,ce),de=ae(le),be=ae(1-le),Se=te.link.y0-te.link.width/2,Te=te.link.y0+te.link.width/2,Ie=te.link.y1-te.link.width/2,ke=te.link.y1+te.link.width/2,Be="M"+K+","+Se,Me="C"+de+","+Se+" "+be+","+Ie+" "+ce+","+Ie,Oe="C"+be+","+ke+" "+de+","+Te+" "+K+","+Te,_e=ue>0?"L"+(ce+ue)+","+(Ie+te.link.width/2):"";return _e+="L"+ce+","+ke,Be+Me+_e+Oe+"Z"}return Q}function s(le,Q){var te=g(Q.color),ue=v.nodePadAcross,J=le.nodePad/2;Q.dx=Q.x1-Q.x0,Q.dy=Q.y1-Q.y0;var K=Q.dx,ce=Math.max(.5,Q.dy),ae="node_"+Q.pointNumber;return Q.group&&(ae=a.randstr()),Q.trace=le.trace,Q.curveNumber=le.trace.index,{index:Q.pointNumber,key:ae,partOfGroup:Q.partOfGroup||!1,group:Q.group,traceId:le.key,trace:le.trace,node:Q,nodePad:le.nodePad,nodeLineColor:le.nodeLineColor,nodeLineWidth:le.nodeLineWidth,textFont:le.textFont,size:le.horizontal?le.height:le.width,visibleWidth:Math.ceil(K),visibleHeight:ce,zoneX:-ue,zoneY:-J,zoneWidth:K+2*ue,zoneHeight:ce+2*J,labelY:le.horizontal?Q.dy/2+1:Q.dx/2+1,left:Q.originalLayer===1,sizeAcross:le.width,forceLayouts:le.forceLayouts,horizontal:le.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:r.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:le.valueFormat,valueSuffix:le.valueSuffix,sankey:le.sankey,graph:le.graph,arrangement:le.arrangement,uniqueNodeLabelPathId:[le.guid,le.key,ae].join("_"),interactionState:le.interactionState,figure:le}}function M(le){le.attr("transform",function(Q){return n(Q.node.x0.toFixed(3),Q.node.y0.toFixed(3))})}function b(le){le.call(M)}function N(le,Q){le.call(b),Q.attr("d",A())}function k(le){le.attr("width",function(Q){return Q.node.x1-Q.node.x0}).attr("height",function(Q){return Q.visibleHeight})}function H(le){return le.link.width>1||le.linkLineWidth>0}function F(le){var Q=n(le.translateX,le.translateY);return Q+(le.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function B(le,Q,te){le.on(".basic",null).on("mouseover.basic",function(ue){!ue.interactionState.dragInProgress&&!ue.partOfGroup&&(te.hover(this,ue,Q),ue.interactionState.hovered=[this,ue])}).on("mousemove.basic",function(ue){!ue.interactionState.dragInProgress&&!ue.partOfGroup&&(te.follow(this,ue),ue.interactionState.hovered=[this,ue])}).on("mouseout.basic",function(ue){!ue.interactionState.dragInProgress&&!ue.partOfGroup&&(te.unhover(this,ue,Q),ue.interactionState.hovered=!1)}).on("click.basic",function(ue){ue.interactionState.hovered&&(te.unhover(this,ue,Q),ue.interactionState.hovered=!1),!ue.interactionState.dragInProgress&&!ue.partOfGroup&&te.select(this,ue,Q)})}function U(le,Q,te,ue){var J=o.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if(K.arrangement!=="fixed"&&(a.ensureSingle(ue._fullLayout._infolayer,"g","dragcover",function(ae){ue._fullLayout._dragCover=ae}),a.raiseToTop(this),K.interactionState.dragInProgress=K.node,oe(K.node),K.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),K.arrangement==="snap")){var ce=K.traceId+"|"+K.key;K.forceLayouts[ce]?K.forceLayouts[ce].alpha(1):z(le,ce,K),W(le,Q,K,ce,ue)}}).on("drag",function(K){if(K.arrangement!=="fixed"){var ce=o.event.x,ae=o.event.y;K.arrangement==="snap"?(K.node.x0=ce-K.visibleWidth/2,K.node.x1=ce+K.visibleWidth/2,K.node.y0=ae-K.visibleHeight/2,K.node.y1=ae+K.visibleHeight/2):(K.arrangement==="freeform"&&(K.node.x0=ce-K.visibleWidth/2,K.node.x1=ce+K.visibleWidth/2),ae=Math.max(0,Math.min(K.size-K.visibleHeight/2,ae)),K.node.y0=ae-K.visibleHeight/2,K.node.y1=ae+K.visibleHeight/2),oe(K.node),K.arrangement!=="snap"&&(K.sankey.update(K.graph),N(le.filter(he(K)),Q))}}).on("dragend",function(K){if(K.arrangement!=="fixed"){K.interactionState.dragInProgress=!1;for(var ce=0;ce<K.node.childrenNodes.length;ce++)K.node.childrenNodes[ce].x=K.node.x,K.node.childrenNodes[ce].y=K.node.y;K.arrangement!=="snap"&&ee(K,ue)}});le.on(".drag",null).call(J)}function z(le,Q,te,ue){ne(te.graph.nodes);var J=te.graph.nodes.filter(function(K){return K.originalX===te.node.originalX}).filter(function(K){return!K.partOfGroup});te.forceLayouts[Q]=p.forceSimulation(J).alphaDecay(0).force("collide",p.forceCollide().radius(function(K){return K.dy/2+te.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",j(le,Q,J,te)).stop()}function W(le,Q,te,ue,J){window.requestAnimationFrame(function K(){var ce;for(ce=0;ce<v.forceTicksPerFrame;ce++)te.forceLayouts[ue].tick();var ae=te.graph.nodes;if(q(ae),te.sankey.update(te.graph),N(le.filter(he(te)),Q),te.forceLayouts[ue].alpha()>0)window.requestAnimationFrame(K);else{var de=te.node.originalX;te.node.x0=de-te.visibleWidth/2,te.node.x1=de+te.visibleWidth/2,ee(te,J)}})}function j(le,Q,te,ue){return function(){for(var K=0,ce=0;ce<te.length;ce++){var ae=te[ce];ae===ue.interactionState.dragInProgress?(ae.x=ae.lastDraggedX,ae.y=ae.lastDraggedY):(ae.vx=(ae.originalX-ae.x)/v.forceTicksPerFrame,ae.y=Math.min(ue.size-ae.dy/2,Math.max(ae.dy/2,ae.y))),K=Math.max(K,Math.abs(ae.vx),Math.abs(ae.vy))}!ue.interactionState.dragInProgress&&K<.1&&ue.forceLayouts[Q].alpha()>0&&ue.forceLayouts[Q].alpha(0)}}function ee(le,Q){for(var te=[],ue=[],J=0;J<le.graph.nodes.length;J++){var K=(le.graph.nodes[J].x0+le.graph.nodes[J].x1)/2,ce=(le.graph.nodes[J].y0+le.graph.nodes[J].y1)/2;te.push(K/le.figure.width),ue.push(ce/le.figure.height)}c.call("_guiRestyle",Q,{"node.x":[te],"node.y":[ue]},le.trace.index).then(function(){Q._fullLayout._dragCover&&Q._fullLayout._dragCover.remove()})}function ie(le){var Q=[],te;for(te=0;te<le.length;te++)le[te].originalX=(le[te].x0+le[te].x1)/2,le[te].originalY=(le[te].y0+le[te].y1)/2,Q.indexOf(le[te].originalX)===-1&&Q.push(le[te].originalX);for(Q.sort(function(ue,J){return ue-J}),te=0;te<le.length;te++)le[te].originalLayerIndex=Q.indexOf(le[te].originalX),le[te].originalLayer=le[te].originalLayerIndex/(Q.length-1)}function oe(le){le.lastDraggedX=le.x0+le.dx/2,le.lastDraggedY=le.y0+le.dy/2}function he(le){return function(Q){return Q.node.originalX===le.node.originalX}}function ne(le){for(var Q=0;Q<le.length;Q++)le[Q].y=(le[Q].y0+le[Q].y1)/2,le[Q].x=(le[Q].x0+le[Q].x1)/2}function q(le){for(var Q=0;Q<le.length;Q++)le[Q].y0=le[Q].y-le[Q].dy/2,le[Q].y1=le[Q].y0+le[Q].dy,le[Q].x0=le[Q].x-le[Q].dx/2,le[Q].x1=le[Q].x0+le[Q].dx}V.exports=function(le,Q,te,ue,J){var K=le._context.staticPlot,ce=!1;a.ensureSingle(le._fullLayout._infolayer,"g","first-render",function(){ce=!0});var ae=le._fullLayout._dragCover,de=te.filter(function(Oe){return h(Oe).trace.visible}).map(_.bind(null,ue)),be=Q.selectAll("."+v.cn.sankey).data(de,l);be.exit().remove(),be.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",F),be.each(function(Oe,_e){le._fullData[_e]._sankey=Oe;var Ne="bgsankey-"+Oe.trace.uid+"-"+_e;a.ensureSingle(le._fullLayout._draggers,"rect",Ne),le._fullData[_e]._bgRect=o.select("."+Ne),le._fullData[_e]._bgRect.style("pointer-events",K?"none":"all").attr("width",Oe.width).attr("height",Oe.height).attr("x",Oe.translateX).attr("y",Oe.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),be.transition().ease(v.ease).duration(v.duration).attr("transform",F);var Se=be.selectAll("."+v.cn.sankeyLinks).data(y,l);Se.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Te=Se.selectAll("."+v.cn.sankeyLink).data(function(Oe){var _e=Oe.graph.links;return _e.filter(function(Ne){return Ne.value}).map(m.bind(null,Oe))},l);Te.enter().append("path").classed(v.cn.sankeyLink,!0).call(B,be,J.linkEvents),Te.style("stroke",function(Oe){return H(Oe)?r.tinyRGB(g(Oe.linkLineColor)):Oe.tinyColorHue}).style("stroke-opacity",function(Oe){return H(Oe)?r.opacity(Oe.linkLineColor):Oe.tinyColorAlpha}).style("fill",function(Oe){return Oe.tinyColorHue}).style("fill-opacity",function(Oe){return Oe.tinyColorAlpha}).style("stroke-width",function(Oe){return H(Oe)?Oe.linkLineWidth:1}).attr("d",A()),Te.style("opacity",function(){return le._context.staticPlot||ce||ae?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Te.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ie=be.selectAll("."+v.cn.sankeyNodeSet).data(y,l);Ie.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Ie.style("cursor",function(Oe){switch(Oe.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ke=Ie.selectAll("."+v.cn.sankeyNode).data(function(Oe){var _e=Oe.graph.nodes;return ie(_e),_e.map(s.bind(null,Oe))},l);ke.enter().append("g").classed(v.cn.sankeyNode,!0).call(M).style("opacity",function(Oe){return(le._context.staticPlot||ce)&&!Oe.partOfGroup?1:0}),ke.call(B,be,J.nodeEvents).call(U,Te,J,le),ke.transition().ease(v.ease).duration(v.duration).call(M).style("opacity",function(Oe){return Oe.partOfGroup?0:1}),ke.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Be=ke.selectAll("."+v.cn.nodeRect).data(y);Be.enter().append("rect").classed(v.cn.nodeRect,!0).call(k),Be.style("stroke-width",function(Oe){return Oe.nodeLineWidth}).style("stroke",function(Oe){return r.tinyRGB(g(Oe.nodeLineColor))}).style("stroke-opacity",function(Oe){return r.opacity(Oe.nodeLineColor)}).style("fill",function(Oe){return Oe.tinyColorHue}).style("fill-opacity",function(Oe){return Oe.tinyColorAlpha}),Be.transition().ease(v.ease).duration(v.duration).call(k);var Me=ke.selectAll("."+v.cn.nodeLabel).data(y);Me.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),Me.attr("data-notex",1).text(function(Oe){return Oe.node.label}).each(function(Oe){var _e=o.select(this);t.font(_e,Oe.textFont),T.convertToTspans(_e,le)}).attr("text-anchor",function(Oe){return Oe.horizontal&&Oe.left?"end":"start"}).attr("transform",function(Oe){var _e=o.select(this),Ne=T.lineCount(_e),Ce=Oe.textFont.size*((Ne-1)*x-d),Ye=Oe.nodeLineWidth/2+w,rt=((Oe.horizontal?Oe.visibleHeight:Oe.visibleWidth)-Ce)/2;Oe.horizontal&&(Oe.left?Ye=-Ye:Ye+=Oe.visibleWidth);var ot=Oe.horizontal?"":"scale(-1,1)"+f(90);return n(Oe.horizontal?Ye:rt,Oe.horizontal?rt:Ye)+ot}),Me.transition().ease(v.ease).duration(v.duration)}},81128:function(V){V.exports=function(e,p){for(var L=e.cd,o=[],C=L[0].trace,S=C._sankey.graph.nodes,v=0;v<S.length;v++){var g=S[v];if(!g.partOfGroup){var r=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];C.orientation==="v"&&r.reverse(),p&&p.contains(r,!1,v,e)&&o.push({pointNumber:g.pointNumber})}}return o}},20148:function(V,Y,e){var p=e(3400);V.exports=function(o,C){for(var S=0;S<o.length;S++)o[S].i=S;p.mergeArray(C.text,o,"tx"),p.mergeArray(C.texttemplate,o,"txt"),p.mergeArray(C.hovertext,o,"htx"),p.mergeArray(C.customdata,o,"data"),p.mergeArray(C.textposition,o,"tp"),C.textfont&&(p.mergeArrayCastPositive(C.textfont.size,o,"ts"),p.mergeArray(C.textfont.color,o,"tc"),p.mergeArray(C.textfont.family,o,"tf"),p.mergeArray(C.textfont.weight,o,"tw"),p.mergeArray(C.textfont.style,o,"ty"),p.mergeArray(C.textfont.variant,o,"tv"),p.mergeArray(C.textfont.textcase,o,"tC"),p.mergeArray(C.textfont.lineposition,o,"tE"),p.mergeArray(C.textfont.shadow,o,"tS"));var v=C.marker;if(v){p.mergeArrayCastPositive(v.size,o,"ms"),p.mergeArrayCastPositive(v.opacity,o,"mo"),p.mergeArray(v.symbol,o,"mx"),p.mergeArray(v.angle,o,"ma"),p.mergeArray(v.standoff,o,"mf"),p.mergeArray(v.color,o,"mc");var g=v.line;v.line&&(p.mergeArray(g.color,o,"mlc"),p.mergeArrayCastPositive(g.width,o,"mlw"));var r=v.gradient;r&&r.type!=="none"&&(p.mergeArray(r.type,o,"mgt"),p.mergeArray(r.color,o,"mgc"))}}},52904:function(V,Y,e){var p=e(29736).axisHoverFormat,L=e(21776).Gw,o=e(21776).Ks,C=e(49084),S=e(25376),v=e(98192).u,g=e(98192).c,r=e(43616),t=e(88200),a=e(92880).extendFlat,n=e(98304);function f(y){return{valType:"any",dflt:0,editType:"calc"}}function u(y){return{valType:"any",editType:"calc"}}function l(y){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:u(),yperiod0:u(),xperiodalignment:l(),yperiodalignment:l(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:a({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:n(!0),fillgradient:a({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:g,marker:a({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:a({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:S({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},16356:function(V,Y,e){var p=e(38248),L=e(3400),o=e(54460),C=e(1220),S=e(39032).BADNUM,v=e(43028),g=e(90136),r=e(20148),t=e(4500);function a(h,T){var c=h._fullLayout,i=T._xA=o.getFromId(h,T.xaxis||"x","x"),d=T._yA=o.getFromId(h,T.yaxis||"y","y"),x=i.makeCalcdata(T,"x"),w=d.makeCalcdata(T,"y"),_=C(T,i,"x",x),m=C(T,d,"y",w),E=_.vals,A=m.vals,s=T._length,M=new Array(s),b=T.ids,N=y(T,c,i,d),k=!1,H,F,B,U,z,W;u(c,T);var j="x",ee="y",ie;if(N)L.pushUnique(N.traceIndices,T._expandedIndex),H=N.orientation==="v",H?(ee="s",ie="x"):(j="s",ie="y"),z=N.stackgaps==="interpolate";else{var oe=f(T,s);n(h,T,i,d,E,A,oe)}var he=!!T.xperiodalignment,ne=!!T.yperiodalignment;for(F=0;F<s;F++){var q=M[F]={},le=p(E[F]),Q=p(A[F]);le&&Q?(q[j]=E[F],q[ee]=A[F],he&&(q.orig_x=x[F],q.xEnd=_.ends[F],q.xStart=_.starts[F]),ne&&(q.orig_y=w[F],q.yEnd=m.ends[F],q.yStart=m.starts[F])):N&&(H?le:Q)?(q[ie]=H?E[F]:A[F],q.gap=!0,z?(q.s=S,k=!0):q.s=0):q[j]=q[ee]=S,b&&(q.id=String(b[F]))}if(r(M,T),g(h,T),t(M,T),N){for(F=0;F<M.length;)M[F][ie]===S?M.splice(F,1):F++;if(L.sort(M,function(K,ce){return K[ie]-ce[ie]||K.i-ce.i}),k){for(F=0;F<M.length-1&&M[F].gap;)F++;for(W=M[F].s,W||(W=M[F].s=0),B=0;B<F;B++)M[B].s=W;for(U=M.length-1;U>F&&M[U].gap;)U--;for(W=M[U].s,B=M.length-1;B>U;B--)M[B].s=W;for(;F<U;)if(F++,M[F].gap){for(B=F+1;M[B].gap;)B++;for(var te=M[F-1][ie],ue=M[F-1].s,J=(M[B].s-ue)/(M[B][ie]-te);F<B;)M[F].s=ue+(M[F][ie]-te)*J,F++}}}return M}function n(h,T,c,i,d,x,w){var _=T._length,m=h._fullLayout,E=c._id,A=i._id,s=m._firstScatter[l(T)]===T.uid,M=(y(T,m,c,i)||{}).orientation,b=T.fill;c._minDtick=0,i._minDtick=0;var N={padded:!0},k={padded:!0};w&&(N.ppad=k.ppad=w);var H=_<2||d[0]!==d[_-1]||x[0]!==x[_-1];H&&(b==="tozerox"||b==="tonextx"&&(s||M==="h"))?N.tozero=!0:!(T.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!v.hasMarkers(T)&&!v.hasText(T))&&(N.padded=!1,N.ppad=0),H&&(b==="tozeroy"||b==="tonexty"&&(s||M==="v"))?k.tozero=!0:(b==="tonextx"||b==="tozerox")&&(k.padded=!1),E&&(T._extremes[E]=o.findExtremes(c,d,N)),A&&(T._extremes[A]=o.findExtremes(i,x,k))}function f(h,T){if(v.hasMarkers(h)){var c=h.marker,i=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(E){return Math.max(Math.sqrt((E||0)/i),3)}:d=function(E){return Math.max((E||0)/i,3)},L.isArrayOrTypedArray(c.size)){var x={type:"linear"};o.setConvert(x);for(var w=x.makeCalcdata(h.marker,"size"),_=new Array(T),m=0;m<T;m++)_[m]=d(w[m]);return _}else return d(c.size)}}function u(h,T){var c=l(T),i=h._firstScatter;i[c]||(i[c]=T.uid)}function l(h){var T=h.stackgroup;return h.xaxis+h.yaxis+h.type+(T?"-"+T:"")}function y(h,T,c,i){var d=h.stackgroup;if(d){var x=T._scatterStackOpts[c._id+i._id][d],w=x.orientation==="v"?i:c;if(w.type==="linear"||w.type==="log")return x}}V.exports={calc:a,calcMarkerSize:f,calcAxisExpansion:n,setFirstScatter:u,getStackOpts:y}},4500:function(V,Y,e){var p=e(3400);V.exports=function(o,C){p.isArrayOrTypedArray(C.selectedpoints)&&p.tagSelected(o,C)}},90136:function(V,Y,e){var p=e(94288).hasColorscale,L=e(47128),o=e(43028);V.exports=function(S,v){o.hasLines(v)&&p(v,"line")&&L(S,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(v)&&(p(v,"marker")&&L(S,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),p(v,"marker.line")&&L(S,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(V){V.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(V,Y,e){var p=e(16356),L=e(96376).setGroupPositions;function o(v,g){for(var r=g.xaxis,t=g.yaxis,a=v._fullLayout,n=v._fullData,f=v.calcdata,u=[],l=[],y=0;y<n.length;y++){var h=n[y];h.visible===!0&&h.type==="scatter"&&h.xaxis===r._id&&h.yaxis===t._id&&(h.orientation==="h"?u.push(f[y]):h.orientation==="v"&&l.push(f[y]))}var T={mode:a.scattermode,gap:a.scattergap};L(v,r,t,l,T),L(v,t,r,u,T)}V.exports=function(g,r){g._fullLayout.scattermode==="group"&&o(g,r);var t=r.xaxis,a=r.yaxis,n=t._id+a._id,f=g._fullLayout._scatterStackOpts[n];if(f){var u=g.calcdata,l,y,h,T,c,i,d,x,w,_,m,E,A,s,M;for(var b in f){_=f[b];var N=_.traceIndices;if(N.length){for(m=_.stackgaps==="interpolate",E=_.groupnorm,_.orientation==="v"?(A="x",s="y"):(A="y",s="x"),M=new Array(N.length),l=0;l<M.length;l++)M[l]=!1;i=u[N[0]];var k=new Array(i.length);for(l=0;l<i.length;l++)k[l]=i[l][A];for(l=1;l<N.length;l++){for(c=u[N[l]],y=h=0;y<c.length;y++){for(d=c[y][A];d>k[h]&&h<k.length;h++)C(c,y,k[h],l,M,m,A),y++;if(d!==k[h]){for(T=0;T<l;T++)C(u[N[T]],h,d,T,M,m,A);k.splice(h,0,d)}h++}for(;h<k.length;h++)C(c,y,k[h],l,M,m,A),y++}var H=k.length;for(y=0;y<i.length;y++){for(x=i[y][s]=i[y].s,l=1;l<N.length;l++)c=u[N[l]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=H,x+=c[y].s,c[y][s]=x;if(E)for(w=(E==="fraction"?x:x/100)||1,l=0;l<N.length;l++){var F=u[N[l]][y];F[s]/=w,F.sNorm=F.s/w}}for(l=0;l<N.length;l++){c=u[N[l]];var B=c[0].trace,U=p.calcMarkerSize(B,B._rawLength),z=Array.isArray(U);if(U&&M[l]||z){var W=U;for(U=new Array(H),y=0;y<H;y++)U[y]=c[y].gap?0:z?W[c[y].i]:W}var j=new Array(H),ee=new Array(H);for(y=0;y<H;y++)j[y]=c[y].x,ee[y]=c[y].y;p.calcAxisExpansion(g,B,t,a,j,ee,U),c[0].t.orientation=_.orientation}}}}};function C(v,g,r,t,a,n,f){a[t]=!0;var u={i:null,gap:!0,s:0};if(u[f]=r,v.splice(g,0,u),g&&r===v[g-1][f]){var l=v[g-1];u.s=l.s,u.i=l.i,u.gap=l.gap}else n&&(u.s=S(v,g,r,f));g||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function S(v,g,r,t){var a=v[g-1],n=v[g+1];return n?a?a.s+(n.s-a.s)*(r-a[t])/(n[t]-a[t]):n.s:a.s}},35036:function(V,Y,e){var p=e(3400),L=e(20011),o=e(52904);V.exports=function(S,v){var g,r,t;function a(y){return p.coerce(r._input,r,o,y)}if(v.scattermode==="group")for(t=0;t<S.length;t++)r=S[t],r.type==="scatter"&&(g=r._input,L(g,r,v,a));for(t=0;t<S.length;t++){var n=S[t];if(n.type==="scatter"){var f=n.fill;if(!(f==="none"||f==="toself")&&(n.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var u=t-1;u>=0;u--){var l=S[u];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(V,Y,e){var p=e(3400),L=e(24040),o=e(52904),C=e(88200),S=e(43028),v=e(43980),g=e(31147),r=e(43912),t=e(74428),a=e(66828),n=e(11731),f=e(124),u=e(70840),l=e(3400).coercePattern;V.exports=function(h,T,c,i){function d(M,b){return p.coerce(h,T,o,M,b)}var x=v(h,T,i,d);if(x||(T.visible=!1),!!T.visible){g(h,T,i,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=r(h,T,i,d);i.scattermode==="group"&&T.orientation===void 0&&d("orientation","v");var _=!w&&x<C.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",_),S.hasMarkers(T)&&t(h,T,c,i,d,{gradient:!0}),S.hasLines(T)&&(a(h,T,c,i,d,{backoff:!0}),n(h,T,d),d("connectgaps"),d("line.simplify")),S.hasText(T)&&(d("texttemplate"),f(h,T,i,d));var m=[];(S.hasMarkers(T)||S.hasText(T))&&(d("cliponaxis"),d("marker.maxdisplayed"),m.push("points")),d("fill",w?w.fillDflt:"none"),T.fill!=="none"&&(u(h,T,c,d,{moduleHasFillgradient:!0}),S.hasLines(T)||n(h,T,d),l(d,"fillpattern",T.fillcolor,!1));var E=(T.line||{}).color,A=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&m.push("fills"),d("hoveron",m.join("+")||"points"),T.hoveron!=="fills"&&d("hovertemplate");var s=L.getComponentMethod("errorbars","supplyDefaults");s(h,T,E||A||c,{axis:"y"}),s(h,T,E||A||c,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(T,d)}}},98304:function(V){V.exports=function(e){return{valType:"color",editType:"style",anim:!0}}},70840:function(V,Y,e){var p=e(76308),L=e(3400).isArrayOrTypedArray;function o(C){for(var S=p.interpolate(C[0][1],C[1][1],.5),v=2;v<C.length;v++){var g=p.interpolate(C[v-1][1],C[v][1],.5);S=p.interpolate(S,g,C[v-1][0]/C[v][0])}return S}V.exports=function(S,v,g,r,t){t||(t={});var a=!1;if(v.marker){var n=v.marker.color,f=(v.marker.line||{}).color;n&&!L(n)?a=n:f&&!L(f)&&(a=f)}var u;if(t.moduleHasFillgradient){var l=r("fillgradient.type");if(l!=="none"){r("fillgradient.start"),r("fillgradient.stop");var y=r("fillgradient.colorscale");y&&(u=o(y))}}r("fillcolor",p.addOpacity((v.line||{}).color||a||u||g,.5))}},76688:function(V,Y,e){var p=e(54460);V.exports=function(o,C,S){var v={},g={_fullLayout:S},r=p.getFromTrace(g,C,"x"),t=p.getFromTrace(g,C,"y"),a=o.orig_x;a===void 0&&(a=o.x);var n=o.orig_y;return n===void 0&&(n=o.y),v.xLabel=p.tickText(r,r.c2l(a),!0).text,v.yLabel=p.tickText(t,t.c2l(n),!0).text,v}},44928:function(V,Y,e){var p=e(76308),L=e(43028);V.exports=function(C,S){var v,g;if(C.mode==="lines")return v=C.line.color,v&&p.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var r=S.mcc||(C.marker||{}).color,t=S.mlcc||((C.marker||{}).line||{}).color;return g=r&&p.opacity(r)?r:t&&p.opacity(t)&&(S.mlw||((C.marker||{}).line||{}).width)?t:"",g?p.opacity(g)<.3?p.addOpacity(g,.3):g:(v=(C.line||{}).color,v&&p.opacity(v)&&L.hasLines(C)&&C.line.width?v:C.fillcolor)}},20011:function(V,Y,e){var p=e(71888).getAxisGroup;V.exports=function(o,C,S,v){var g=C.orientation,r=C[{v:"x",h:"y"}[g]+"axis"],t=p(S,r)+g,a=S._alignmentOpts||{},n=v("alignmentgroup"),f=a[t];f||(f=a[t]={});var u=f[n];u?u.traces.push(C):u=f[n]={traces:[C],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var l=v("offsetgroup"),y=u.offsetGroups,h=y[l];l&&(h||(h=y[l]={offsetIndex:Object.keys(y).length}),C._offsetIndex=h.offsetIndex)}},98723:function(V,Y,e){var p=e(3400),L=e(93024),o=e(24040),C=e(44928),S=e(76308),v=p.fillText;V.exports=function(r,t,a,n){var f=r.cd,u=f[0].trace,l=r.xa,y=r.ya,h=l.c2p(t),T=y.c2p(a),c=[h,T],i=u.hoveron||"",d=u.mode.indexOf("markers")!==-1?3:.5,x=!!u.xperiodalignment,w=!!u.yperiodalignment;if(i.indexOf("points")!==-1){var _=function(ie){if(x){var oe=l.c2p(ie.xStart),he=l.c2p(ie.xEnd);return h>=Math.min(oe,he)&&h<=Math.max(oe,he)?0:1/0}var ne=Math.max(3,ie.mrc||0),q=1-1/ne,le=Math.abs(l.c2p(ie.x)-h);return le<ne?q*le/ne:le-ne+q},m=function(ie){if(w){var oe=y.c2p(ie.yStart),he=y.c2p(ie.yEnd);return T>=Math.min(oe,he)&&T<=Math.max(oe,he)?0:1/0}var ne=Math.max(3,ie.mrc||0),q=1-1/ne,le=Math.abs(y.c2p(ie.y)-T);return le<ne?q*le/ne:le-ne+q},E=function(ie){var oe=Math.max(d,ie.mrc||0),he=l.c2p(ie.x)-h,ne=y.c2p(ie.y)-T;return Math.max(Math.sqrt(he*he+ne*ne)-oe,1-d/oe)},A=L.getDistanceFunction(n,_,m,E);if(L.getClosest(f,A,r),r.index!==!1){var s=f[r.index],M=l.c2p(s.x,!0),b=y.c2p(s.y,!0),N=s.mrc||1;r.index=s.i;var k=f[0].t.orientation,H=k&&(s.sNorm||s.s),F=k==="h"?H:s.orig_x!==void 0?s.orig_x:s.x,B=k==="v"?H:s.orig_y!==void 0?s.orig_y:s.y;return p.extendFlat(r,{color:C(u,s),x0:M-N,x1:M+N,xLabelVal:F,y0:b-N,y1:b+N,yLabelVal:B,spikeDistance:E(s),hovertemplate:u.hovertemplate}),v(s,u,r),o.getComponentMethod("errorbars","hoverInfo")(s,u,r),[r]}}function U(ie){if(!ie)return!1;var oe=ie.node();try{var he=new DOMPoint(c[0],c[1]);return oe.isPointInFill(he)}catch{var ne=oe.ownerSVGElement.createSVGPoint();return ne.x=c[0],ne.y=c[1],oe.isPointInFill(ne)}}function z(ie){var oe,he=[],ne=1/0,q=-1/0,le=1/0,Q=-1/0,te;for(oe=0;oe<ie.length;oe++){var ue=ie[oe];ue.contains(c)&&(he.push(ue),le=Math.min(le,ue.ymin),Q=Math.max(Q,ue.ymax))}if(he.length===0)return null;le=Math.max(le,0),Q=Math.min(Q,y._length),te=(le+Q)/2;var J,K,ce,ae,de,be,Se;for(oe=0;oe<he.length;oe++)for(K=he[oe].pts,J=1;J<K.length;J++)be=K[J-1][1],Se=K[J][1],be>te!=Se>=te&&(ae=K[J-1][0],de=K[J][0],Se-be&&(ce=ae+(de-ae)*(te-be)/(Se-be),ne=Math.min(ne,ce),q=Math.max(q,ce)));return ne=Math.max(ne,0),q=Math.min(q,l._length),{x0:ne,x1:q,y0:te,y1:te}}if(i.indexOf("fills")!==-1&&u._fillElement){var W=U(u._fillElement)&&!U(u._fillExclusionElement);if(W){var j=z(u._polygons);j===null&&(j={x0:c[0],x1:c[0],y0:c[1],y1:c[1]});var ee=S.defaultLine;return S.opacity(u.fillcolor)?ee=u.fillcolor:S.opacity((u.line||{}).color)&&(ee=u.line.color),p.extendFlat(r,{distance:r.maxHoverDistance,x0:j.x0,x1:j.x1,y0:j.y0,y1:j.y1,color:ee,hovertemplate:!1}),delete r.index,u.text&&!p.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},65875:function(V,Y,e){var p=e(43028);V.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(V){V.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(V,Y,e){var p=e(3400),L=e(55308);V.exports=function(o,C){function S(g,r){return p.coerce(o,C,L,g,r)}var v=C.barmode==="group";C.scattermode==="group"&&S("scattergap",v?C.bargap:.2)}},66828:function(V,Y,e){var p=e(3400).isArrayOrTypedArray,L=e(94288).hasColorscale,o=e(27260);V.exports=function(S,v,g,r,t,a){a||(a={});var n=(S.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),t("line.color",g),L(S,"line"))o(S,v,r,t,{prefix:"line.",cLetter:"c"});else{var f=(p(n)?!1:n)||g;t("line.color",f)}t("line.width"),a.noDash||t("line.dash"),a.backoff&&t("line.backoff")}},52340:function(V,Y,e){var p=e(43616),L=e(39032),o=L.BADNUM,C=L.LOG_CLIP,S=C+.5,v=C-.5,g=e(3400),r=g.segmentsIntersect,t=g.constrain,a=e(88200);V.exports=function(f,u){var l=u.trace||{},y=u.xaxis,h=u.yaxis,T=y.type==="log",c=h.type==="log",i=y._length,d=h._length,x=u.backoff,w=l.marker,_=u.connectGaps,m=u.baseTolerance,E=u.shape,A=E==="linear",s=l.fill&&l.fill!=="none",M=[],b=a.minTolerance,N=f.length,k=new Array(N),H=0,F,B,U,z,W,j,ee,ie,oe,he,ne,q,le,Q,te,ue;function J(st){var lt=f[st];if(!lt)return!1;var Wt=u.linearized?y.l2p(lt.x):y.c2p(lt.x),jt=u.linearized?h.l2p(lt.y):h.c2p(lt.y);if(Wt===o){if(T&&(Wt=y.c2p(lt.x,!0)),Wt===o)return!1;c&&jt===o&&(Wt*=Math.abs(y._m*d*(y._m>0?S:v)/(h._m*i*(h._m>0?S:v)))),Wt*=1e3}if(jt===o){if(c&&(jt=h.c2p(lt.y,!0)),jt===o)return!1;jt*=1e3}return[Wt,jt]}function K(st,lt,Wt,jt){var Tt=Wt-st,Rt=jt-lt,Zt=.5-st,mr=.5-lt,gt=Tt*Tt+Rt*Rt,Kt=Tt*Zt+Rt*mr;if(Kt>0&&Kt<gt){var $t=Zt*Rt-mr*Tt;if($t*$t<gt)return!0}}var ce,ae;function de(st,lt){var Wt=st[0]/i,jt=st[1]/d,Tt=Math.max(0,-Wt,Wt-1,-jt,jt-1);return Tt&&ce!==void 0&&K(Wt,jt,ce,ae)&&(Tt=0),Tt&&lt&&K(Wt,jt,lt[0]/i,lt[1]/d)&&(Tt=0),(1+a.toleranceGrowth*Tt)*m}function be(st,lt){var Wt=st[0]-lt[0],jt=st[1]-lt[1];return Math.sqrt(Wt*Wt+jt*jt)}var Se=a.maxScreensAway,Te=-i*Se,Ie=i*(1+Se),ke=-d*Se,Be=d*(1+Se),Me=[[Te,ke,Ie,ke],[Ie,ke,Ie,Be],[Ie,Be,Te,Be],[Te,Be,Te,ke]],Oe,_e,Ne,Ce,Ye,rt;function ot(st,lt){for(var Wt=[],jt=0,Tt=0;Tt<4;Tt++){var Rt=Me[Tt],Zt=r(st[0],st[1],lt[0],lt[1],Rt[0],Rt[1],Rt[2],Rt[3]);Zt&&(!jt||Math.abs(Zt.x-Wt[0][0])>1||Math.abs(Zt.y-Wt[0][1])>1)&&(Zt=[Zt.x,Zt.y],jt&&be(Zt,st)<be(Wt[0],st)?Wt.unshift(Zt):Wt.push(Zt),jt++)}return Wt}function $e(st){if(st[0]<Te||st[0]>Ie||st[1]<ke||st[1]>Be)return[t(st[0],Te,Ie),t(st[1],ke,Be)]}function qe(st,lt){if(st[0]===lt[0]&&(st[0]===Te||st[0]===Ie)||st[1]===lt[1]&&(st[1]===ke||st[1]===Be))return!0}function ht(st,lt){var Wt=[],jt=$e(st),Tt=$e(lt);return jt&&Tt&&qe(jt,Tt)||(jt&&Wt.push(jt),Tt&&Wt.push(Tt)),Wt}function vt(st,lt,Wt){return function(jt,Tt){var Rt=$e(jt),Zt=$e(Tt),mr=[];if(Rt&&Zt&&qe(Rt,Zt))return mr;Rt&&mr.push(Rt),Zt&&mr.push(Zt);var gt=2*g.constrain((jt[st]+Tt[st])/2,lt,Wt)-((Rt||jt)[st]+(Zt||Tt)[st]);if(gt){var Kt;Rt&&Zt?Kt=gt>0==Rt[st]>Zt[st]?Rt:Zt:Kt=Rt||Zt,Kt[st]+=gt}return mr}}var pt;E==="linear"||E==="spline"?pt=ot:E==="hv"||E==="vh"?pt=ht:E==="hvh"?pt=vt(0,Te,Ie):E==="vhv"&&(pt=vt(1,ke,Be));function wt(st,lt){var Wt=lt[0]-st[0],jt=(lt[1]-st[1])/Wt,Tt=(st[1]*lt[0]-lt[1]*st[0])/Wt;return Tt>0?[jt>0?Te:Ie,Be]:[jt>0?Ie:Te,ke]}function Mt(st){var lt=st[0],Wt=st[1],jt=lt===k[H-1][0],Tt=Wt===k[H-1][1];if(!(jt&&Tt))if(H>1){var Rt=lt===k[H-2][0],Zt=Wt===k[H-2][1];jt&&(lt===Te||lt===Ie)&&Rt?Zt?H--:k[H-1]=st:Tt&&(Wt===ke||Wt===Be)&&Zt?Rt?H--:k[H-1]=st:k[H++]=st}else k[H++]=st}function nt(st){k[H-1][0]!==st[0]&&k[H-1][1]!==st[1]&&Mt([Ne,Ce]),Mt(st),Ye=null,Ne=Ce=0}var Fe=g.isArrayOrTypedArray(w);function We(st){if(st&&x&&(st.i=F,st.d=f,st.trace=l,st.marker=Fe?w[st.i]:w,st.backoff=x),ce=st[0]/i,ae=st[1]/d,Oe=st[0]<Te?Te:st[0]>Ie?Ie:0,_e=st[1]<ke?ke:st[1]>Be?Be:0,Oe||_e){if(!H)k[H++]=[Oe||st[0],_e||st[1]];else if(Ye){var lt=pt(Ye,st);lt.length>1&&(nt(lt[0]),k[H++]=lt[1])}else rt=pt(k[H-1],st)[0],k[H++]=rt;var Wt=k[H-1];Oe&&_e&&(Wt[0]!==Oe||Wt[1]!==_e)?(Ye&&(Ne!==Oe&&Ce!==_e?Mt(Ne&&Ce?wt(Ye,st):[Ne||Oe,Ce||_e]):Ne&&Ce&&Mt([Ne,Ce])),Mt([Oe,_e])):Ne-Oe&&Ce-_e&&Mt([Oe||Ne,_e||Ce]),Ye=st,Ne=Oe,Ce=_e}else Ye&&nt(pt(Ye,st)[0]),k[H++]=st}for(F=0;F<N;F++)if(B=J(F),!!B){for(H=0,Ye=null,We(B),F++;F<N;F++){if(z=J(F),!z){if(_)continue;break}if(!A||!u.simplify){We(z);continue}var Ze=J(F+1);if(he=be(z,B),!(!(s&&(H===0||H===N-1))&&he<de(z,Ze)*b)){for(ie=[(z[0]-B[0])/he,(z[1]-B[1])/he],W=B,ne=he,q=Q=te=0,ee=!1,U=z,F++;F<f.length;F++){if(j=Ze,Ze=J(F+1),!j){if(_)continue;break}if(oe=[j[0]-B[0],j[1]-B[1]],ue=oe[0]*ie[1]-oe[1]*ie[0],Q=Math.min(Q,ue),te=Math.max(te,ue),te-Q>de(j,Ze))break;U=j,le=oe[0]*ie[0]+oe[1]*ie[1],le>ne?(ne=le,z=j,ee=!1):le<q&&(q=le,W=j,ee=!0)}if(ee?(We(z),U!==W&&We(W)):(W!==B&&We(W),U!==z&&We(z)),We(U),F>=f.length||!j)break;We(j),B=j}}Ye&&Mt([Ne||Ye[0],Ce||Ye[1]]),M.push(k.slice(0,H))}var Ge=E.slice(E.length-1);if(x&&Ge!=="h"&&Ge!=="v"){for(var Pe=!1,Re=-1,je=[],De=0;De<M.length;De++)for(var ge=0;ge<M[De].length-1;ge++){var we=M[De][ge],Ue=M[De][ge+1],et=p.applyBackoff(Ue,we);(et[0]!==Ue[0]||et[1]!==Ue[1])&&(Pe=!0),je[Re+1]||(Re++,je[Re]=[we,[et[0],et[1]]])}return Pe?je:M}return M}},11731:function(V){V.exports=function(e,p,L){var o=L("line.shape");o==="spline"&&L("line.smoothing")}},14328:function(V){var Y={tonextx:1,tonexty:1,tonext:1};V.exports=function(p,L,o){var C,S,v,g,r,t={},a=!1,n=-1,f=0,u=-1;for(S=0;S<o.length;S++)C=o[S][0].trace,v=C.stackgroup||"",v?v in t?r=t[v]:(r=t[v]=f,f++):C.fill in Y&&u>=0?r=u:(r=u=f,f++),r<n&&(a=!0),C._groupIndex=n=r;var l=o.slice();a&&l.sort(function(h,T){var c=h[0].trace,i=T[0].trace;return c._groupIndex-i._groupIndex||c.index-i.index});var y={};for(S=0;S<l.length;S++)C=l[S][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in Y&&(g=y[v],C._prevtrace=g||null,g&&(g._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),y[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return l}},7152:function(V,Y,e){var p=e(38248);V.exports=function(o,C){C||(C=2);var S=o.marker,v=S.sizeref||1,g=S.sizemin||0,r=S.sizemode==="area"?function(t){return Math.sqrt(t/v)}:function(t){return t/v};return function(t){var a=r(t/C);return p(a)&&a>0?Math.max(a,g):0}}},5528:function(V){V.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(V,Y,e){var p=e(76308),L=e(94288).hasColorscale,o=e(27260),C=e(43028);V.exports=function(v,g,r,t,a,n){var f=C.isBubble(v),u=(v.line||{}).color,l;if(n=n||{},u&&(r=u),a("marker.symbol"),a("marker.opacity",f?.7:1),a("marker.size"),n.noAngle||(a("marker.angle"),n.noAngleRef||a("marker.angleref"),n.noStandOff||a("marker.standoff")),a("marker.color",r),L(v,"marker")&&o(v,g,t,a,{prefix:"marker.",cLetter:"c"}),n.noSelect||(a("selected.marker.color"),a("unselected.marker.color"),a("selected.marker.size"),a("unselected.marker.size")),n.noLine||(u&&!Array.isArray(u)&&g.marker.color!==u?l=u:f?l=p.background:l=p.defaultLine,a("marker.line.color",l),L(v,"marker.line")&&o(v,g,t,a,{prefix:"marker.line.",cLetter:"c"}),a("marker.line.width",f?1:0)),f&&(a("marker.sizeref"),a("marker.sizemin"),a("marker.sizemode")),n.gradient){var y=a("marker.gradient.type");y!=="none"&&a("marker.gradient.color")}}},31147:function(V,Y,e){var p=e(3400).dateTick0,L=e(39032),o=L.ONEWEEK;function C(S,v){return S%o===0?p(v,1):p(v,0)}V.exports=function(v,g,r,t,a){if(a||(a={x:!0,y:!0}),a.x){var n=t("xperiod");n&&(t("xperiod0",C(n,g.xcalendar)),t("xperiodalignment"))}if(a.y){var f=t("yperiod");f&&(t("yperiod0",C(f,g.ycalendar)),t("yperiodalignment"))}}},96504:function(V,Y,e){var p=e(33428),L=e(24040),o=e(3400),C=o.ensureSingle,S=o.identity,v=e(43616),g=e(43028),r=e(52340),t=e(14328),a=e(92065).tester;V.exports=function(y,h,T,c,i,d){var x,w,_=!i,m=!!i&&i.duration>0,E=t(y,h,T);if(x=c.selectAll("g.trace").data(E,function(s){return s[0].trace.uid}),x.enter().append("g").attr("class",function(s){return"trace scatter trace"+s[0].trace.uid}).style("stroke-miterlimit",2),x.order(),n(y,x,h),m){d&&(w=d());var A=p.transition().duration(i.duration).ease(i.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});A.each(function(){c.selectAll("g.trace").each(function(s,M){f(y,M,h,s,E,this,i)})})}else x.each(function(s,M){f(y,M,h,s,E,this,i)});_&&x.exit().remove(),c.selectAll("path:not([d])").remove()};function n(l,y,h){y.each(function(T){var c=C(p.select(this),"g","fills");v.setClipUrl(c,h.layerClipId,l);var i=T[0].trace,d=[];i._ownfill&&d.push("_ownFill"),i._nexttrace&&d.push("_nextFill");var x=c.selectAll("g").data(d,S);x.enter().append("g"),x.exit().each(function(w){i[w]=null}).remove(),x.order().each(function(w){i[w]=C(p.select(this),"path","js-fill")})})}function f(l,y,h,T,c,i,d){var x=l._context.staticPlot,w;u(l,y,h,T,c);var _=!!d&&d.duration>0;function m(Mt){return _?Mt.transition():Mt}var E=h.xaxis,A=h.yaxis,s=T[0].trace,M=s.line,b=p.select(i),N=C(b,"g","errorbars"),k=C(b,"g","lines"),H=C(b,"g","points"),F=C(b,"g","text");if(L.getComponentMethod("errorbars","plot")(l,N,h,d),s.visible!==!0)return;m(b).style("opacity",s.opacity);var B,U,z=s.fill.charAt(s.fill.length-1);z!=="x"&&z!=="y"&&(z="");var W,j;z==="y"?(W=1,j=A.c2p(0,!0)):z==="x"&&(W=0,j=E.c2p(0,!0)),T[0][h.isRangePlot?"nodeRangePlot3":"node3"]=b;var ee="",ie=[],oe=s._prevtrace,he=null,ne=null;oe&&(ee=oe._prevRevpath||"",U=oe._nextFill,ie=oe._ownPolygons,he=oe._fillsegments,ne=oe._fillElement);var q,le,Q="",te="",ue,J,K,ce,ae,de,be=[];s._polygons=[];var Se=[],Te=[],Ie=o.noop;if(B=s._ownFill,g.hasLines(s)||s.fill!=="none"){U&&U.datum(T),["hv","vh","hvh","vhv"].indexOf(M.shape)!==-1?(ue=v.steps(M.shape),J=v.steps(M.shape.split("").reverse().join(""))):M.shape==="spline"?ue=J=function(Mt){var nt=Mt[Mt.length-1];return Mt.length>1&&Mt[0][0]===nt[0]&&Mt[0][1]===nt[1]?v.smoothclosed(Mt.slice(1),M.smoothing):v.smoothopen(Mt,M.smoothing)}:ue=J=function(Mt){return"M"+Mt.join("L")},K=function(Mt){return J(Mt.reverse())},Te=r(T,{xaxis:E,yaxis:A,trace:s,connectGaps:s.connectgaps,baseTolerance:Math.max(M.width||1,3)/4,shape:M.shape,backoff:M.backoff,simplify:M.simplify,fill:s.fill}),Se=new Array(Te.length);var ke=0;for(w=0;w<Te.length;w++){var Be,Me=Te[w];!Be||!z?(Be=Me.slice(),Se[ke]=Be,ke++):Be.push.apply(Be,Me)}s._fillElement=null,s._fillExclusionElement=ne,s._fillsegments=Se.slice(0,ke),Se=s._fillsegments,Te.length&&(ce=Te[0][0].slice(),ae=Te[Te.length-1],de=ae[ae.length-1].slice()),Ie=function(Mt){return function(nt){if(q=ue(nt),le=K(nt),Q?z?(Q+="L"+q.substr(1),te=le+("L"+te.substr(1))):(Q+="Z"+q,te=le+"Z"+te):(Q=q,te=le),g.hasLines(s)){var Fe=p.select(this);if(Fe.datum(T),Mt)m(Fe.style("opacity",0).attr("d",q).call(v.lineGroupStyle)).style("opacity",1);else{var We=m(Fe);We.attr("d",q),v.singleLineStyle(T,We)}}}}}var Oe=k.selectAll(".js-line").data(Te);m(Oe.exit()).style("opacity",0).remove(),Oe.each(Ie(!1)),Oe.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(Ie(!0)),v.setClipUrl(Oe,h.layerClipId,l);function _e(Mt){m(Mt).attr("d","M0,0Z")}var Ne=function(){var Mt=new Array(Se.length);for(w=0;w<Se.length;w++)Mt[w]=a(Se[w]);return Mt},Ce=function(Mt){var nt,Fe;if(!Mt||Mt.length===0)for(nt=new Array(Se.length),Fe=0;Fe<Se.length;Fe++){var We=Se[Fe][0].slice(),Ze=Se[Fe][Se[Fe].length-1].slice();We[W]=Ze[W]=j;var Ge=[Ze,We],Pe=Ge.concat(Se[Fe]);nt[Fe]=a(Pe)}else{for(nt=new Array(Mt.length-1+Se.length),Fe=0;Fe<Mt.length-1;Fe++)nt[Fe]=a(Mt[Fe]);var Re=Mt[Mt.length-1].slice();for(Re.reverse(),Fe=0;Fe<Se.length;Fe++)nt[Mt.length-1+Fe]=a(Se[Fe].concat(Re))}return nt};Te.length?(B?(B.datum(T),ce&&de&&(z?(ce[W]=de[W]=j,m(B).attr("d","M"+de+"L"+ce+"L"+Q.substr(1)).call(v.singleFillStyle,l),be=Ce(null)):(m(B).attr("d",Q+"Z").call(v.singleFillStyle,l),be=Ne())),s._polygons=be,s._fillElement=B):U&&(s.fill.substr(0,6)==="tonext"&&Q&&ee?(s.fill==="tonext"?(m(U).attr("d",Q+"Z"+ee+"Z").call(v.singleFillStyle,l),be=Ne(),s._polygons=be.concat(ie)):(m(U).attr("d",Q+"L"+ee.substr(1)+"Z").call(v.singleFillStyle,l),be=Ce(he),s._polygons=be),s._fillElement=U):_e(U)),s._prevRevpath=te):(B?_e(B):U&&_e(U),s._prevRevpath=null),s._ownPolygons=be;function Ye(Mt){return Mt.filter(function(nt){return!nt.gap&&nt.vis})}function rt(Mt){return Mt.filter(function(nt){return nt.vis})}function ot(Mt){return Mt.filter(function(nt){return!nt.gap})}function $e(Mt){return Mt.id}function qe(Mt){if(Mt.ids)return $e}function ht(){return!1}function vt(Mt,nt,Fe){var We,Ze,Ge,Pe=Fe[0].trace,Re=g.hasMarkers(Pe),je=g.hasText(Pe),De=qe(Pe),ge=ht,we=ht;if(Re||je){var Ue=S,et=Pe.stackgroup,st=et&&l._fullLayout._scatterStackOpts[E._id+A._id][et].stackgaps==="infer zero";Pe.marker.maxdisplayed||Pe._needsCull?Ue=st?rt:Ye:et&&!st&&(Ue=ot),Re&&(ge=Ue),je&&(we=Ue)}Ze=Mt.selectAll("path.point"),We=Ze.data(ge,De);var lt=We.enter().append("path").classed("point",!0);_&&lt.call(v.pointStyle,Pe,l).call(v.translatePoints,E,A).style("opacity",0).transition().style("opacity",1),We.order();var Wt;Re&&(Wt=v.makePointStyleFns(Pe)),We.each(function(jt){var Tt=p.select(this),Rt=m(Tt);Ge=v.translatePoint(jt,Rt,E,A),Ge?(v.singlePointStyle(jt,Rt,Pe,Wt,l),h.layerClipId&&v.hideOutsideRangePoint(jt,Rt,E,A,Pe.xcalendar,Pe.ycalendar),Pe.customdata&&Tt.classed("plotly-customdata",jt.data!==null&&jt.data!==void 0)):Rt.remove()}),_?We.exit().transition().style("opacity",0).remove():We.exit().remove(),Ze=nt.selectAll("g"),We=Ze.data(we,De),We.enter().append("g").classed("textpoint",!0).append("text"),We.order(),We.each(function(jt){var Tt=p.select(this),Rt=m(Tt.select("text"));Ge=v.translatePoint(jt,Rt,E,A),Ge?h.layerClipId&&v.hideOutsideRangePoint(jt,Tt,E,A,Pe.xcalendar,Pe.ycalendar):Tt.remove()}),We.selectAll("text").call(v.textPointStyle,Pe,l).each(function(jt){var Tt=E.c2p(jt.x),Rt=A.c2p(jt.y);p.select(this).selectAll("tspan.line").each(function(){m(p.select(this)).attr({x:Tt,y:Rt})})}),We.exit().remove()}H.datum(T),F.datum(T),vt(H,F,T);var pt=s.cliponaxis===!1,wt=pt?null:h.layerClipId;v.setClipUrl(H,wt,l),v.setClipUrl(F,wt,l)}function u(l,y,h,T,c){var i=h.xaxis,d=h.yaxis,x=p.extent(o.simpleMap(i.range,i.r2c)),w=p.extent(o.simpleMap(d.range,d.r2c)),_=T[0].trace;if(g.hasMarkers(_)){var m=_.marker.maxdisplayed;if(m!==0){var E=T.filter(function(b){return b.x>=x[0]&&b.x<=x[1]&&b.y>=w[0]&&b.y<=w[1]}),A=Math.ceil(E.length/m),s=0;c.forEach(function(b,N){var k=b[0].trace;g.hasMarkers(k)&&k.marker.maxdisplayed>0&&N<y&&s++});var M=Math.round(s*A/3+Math.floor(s/3)*A/7.1);T.forEach(function(b){delete b.vis}),E.forEach(function(b,N){Math.round((N+M)%A)===0&&(b.vis=!0)})}}}},91560:function(V,Y,e){var p=e(43028);V.exports=function(o,C){var S=o.cd,v=o.xaxis,g=o.yaxis,r=[],t=S[0].trace,a,n,f,u,l=!p.hasMarkers(t)&&!p.hasText(t);if(l)return[];if(C===!1)for(a=0;a<S.length;a++)S[a].selected=0;else for(a=0;a<S.length;a++)n=S[a],f=v.c2p(n.x),u=g.c2p(n.y),n.i!==null&&C.contains([f,u],!1,a,o)?(r.push({pointNumber:n.i,x:v.c2d(n.x),y:g.c2d(n.y)}),n.selected=1):n.selected=0;return r}},43912:function(V){var Y=["orientation","groupnorm","stackgaps"];V.exports=function(p,L,o,C){var S=o._scatterStackOpts,v=C("stackgroup");if(v){var g=L.xaxis+L.yaxis,r=S[g];r||(r=S[g]={});var t=r[v],a=!1;t?t.traces.push(L):(t=r[v]={traceIndices:[],traces:[L]},a=!0);for(var n={orientation:L.x&&!L.y?"h":"v"},f=0;f<Y.length;f++){var u=Y[f],l=u+"Found";if(!t[l]){var y=p[u]!==void 0,h=u==="orientation";if((y||a)&&(t[u]=C(u,n[u]),h&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),y&&(t[l]=!0,!a&&(delete t.traces[0][u],h))))for(var T=0;T<t.traces.length-1;T++){var c=t.traces[T];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},49224:function(V,Y,e){var p=e(33428),L=e(43616),o=e(24040);function C(r){var t=p.select(r).selectAll("g.trace.scatter");t.style("opacity",function(a){return a[0].trace.opacity}),t.selectAll("g.points").each(function(a){var n=p.select(this),f=a.trace||a[0].trace;S(n,f,r)}),t.selectAll("g.text").each(function(a){var n=p.select(this),f=a.trace||a[0].trace;v(n,f,r)}),t.selectAll("g.trace path.js-line").call(L.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,r,!1),o.getComponentMethod("errorbars","style")(t)}function S(r,t,a){L.pointStyle(r.selectAll("path.point"),t,a)}function v(r,t,a){L.textPointStyle(r.selectAll("text"),t,a)}function g(r,t,a){var n=t[0].trace;n.selectedpoints?(L.selectedPointStyle(a.selectAll("path.point"),n),L.selectedTextStyle(a.selectAll("text"),n)):(S(a,n,r),v(a,n,r))}V.exports={style:C,stylePoints:S,styleText:v,styleOnSelect:g}},43028:function(V,Y,e){var p=e(3400),L=e(38116).isTypedArraySpec;V.exports={hasLines:function(o){return o.visible&&o.mode&&o.mode.indexOf("lines")!==-1},hasMarkers:function(o){return o.visible&&(o.mode&&o.mode.indexOf("markers")!==-1||o.type==="splom")},hasText:function(o){return o.visible&&o.mode&&o.mode.indexOf("text")!==-1},isBubble:function(o){var C=o.marker;return p.isPlainObject(C)&&(p.isArrayOrTypedArray(C.size)||L(C.size))}}},124:function(V,Y,e){var p=e(3400);V.exports=function(L,o,C,S,v){v=v||{},S("textposition"),p.coerceFont(S,"textfont",v.font||C.font,v),v.noSelect||(S("selected.textfont.color"),S("unselected.textfont.color"))}},43980:function(V,Y,e){var p=e(3400),L=e(24040);V.exports=function(C,S,v,g){var r=g("x"),t=g("y"),a,n=L.getComponentMethod("calendars","handleTraceDefaults");if(n(C,S,["x","y"],v),r){var f=p.minRowLength(r);t?a=Math.min(f,p.minRowLength(t)):(a=f,g("y0"),g("dy"))}else{if(!t)return 0;a=p.minRowLength(t),g("x0"),g("dx")}return S._length=a,a}},91592:function(V,Y,e){var p=e(52904),L=e(25376),o=e(49084),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,g=e(45464),r=e(99168),t=e(87792),a=e(92880).extendFlat,n=e(67824).overrideAll,f=e(95376),u=p.line,l=p.marker,y=l.line,h=a({width:u.width,dash:{valType:"enumerated",values:f(r),dflt:"solid"}},o("line"));function T(i){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var c=V.exports=n({x:p.x,y:p.y,z:{valType:"data_array"},text:a({},p.text,{}),texttemplate:v({},{}),hovertext:a({},p.hovertext,{}),hovertemplate:S(),xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z"),mode:a({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:T(),y:T(),z:T()},connectgaps:p.connectgaps,line:h,marker:a({symbol:{valType:"enumerated",values:f(t),dflt:"circle",arrayOk:!0},size:a({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:a({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:a({width:a({},y.width,{arrayOk:!1})},o("marker.line"))},o("marker")),textposition:a({},p.textposition,{dflt:"top center"}),textfont:L({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,variantValues:["normal","small-caps"]}),opacity:g.opacity,hoverinfo:a({},g.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(V,Y,e){var p=e(20148),L=e(90136);V.exports=function(C,S){var v=[{x:!1,y:!1,trace:S,t:{}}];return p(v,S),L(C,S),v}},45156:function(V,Y,e){var p=e(24040);function L(S,v,g,r){if(!v||!v.visible)return null;for(var t=p.getComponentMethod("errorbars","makeComputeError")(v),a=new Array(S.length),n=0;n<S.length;n++){var f=t(+S[n],n);if(r.type==="log"){var u=r.c2l(S[n]),l=S[n]-f[0],y=S[n]+f[1];if(a[n]=[(r.c2l(l,!0)-u)*g,(r.c2l(y,!0)-u)*g],l>0){var h=r.c2l(l);r._lowerLogErrorBound||(r._lowerLogErrorBound=h),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,h)}}else a[n]=[-f[0]*g,f[1]*g]}return a}function o(S){for(var v=0;v<S.length;v++)if(S[v])return S[v].length;return 0}function C(S,v,g){var r=[L(S.x,S.error_x,v[0],g.xaxis),L(S.y,S.error_y,v[1],g.yaxis),L(S.z,S.error_z,v[2],g.zaxis)],t=o(r);if(t===0)return null;for(var a=new Array(t),n=0;n<t;n++){for(var f=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var l=0;l<2;l++)f[l][u]=r[u][n][l];a[n]=f}return a}V.exports=C},41064:function(V,Y,e){var p=e(67792).gl_line3d,L=e(67792).gl_scatter3d,o=e(67792).gl_error3d,C=e(67792).gl_mesh3d,S=e(67792).delaunay_triangulate,v=e(3400),g=e(43080),r=e(33040).formatColor,t=e(7152),a=e(99168),n=e(87792),f=e(54460),u=e(10624).appendArrayPointValue,l=e(45156);function y(b,N){this.scene=b,this.uid=N,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=y.prototype;h.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var N=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(v.isArrayOrTypedArray(this.textLabels)?(this.textLabels[N]||this.textLabels[N]===0)&&(b.textLabel=this.textLabels[N]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[N],this.data.y[N],this.data.z[N]],!0}};function T(b,N,k){var H=(k+1)%3,F=(k+2)%3,B=[],U=[],z;for(z=0;z<b.length;++z){var W=b[z];isNaN(W[H])||!isFinite(W[H])||isNaN(W[F])||!isFinite(W[F])||(B.push([W[H],W[F]]),U.push(z))}var j=S(B);for(z=0;z<j.length;++z)for(var ee=j[z],ie=0;ie<ee.length;++ie)ee[ie]=U[ee[ie]];return{positions:b,cells:j,meshColor:N}}function c(b){for(var N=[0,0,0],k=[[0,0,0],[0,0,0],[0,0,0]],H=[1,1,1],F=0;F<3;F++){var B=b[F];B&&B.copy_zstyle!==!1&&b[2].visible!==!1&&(B=b[2]),!(!B||!B.visible)&&(N[F]=B.width/2,k[F]=g(B.color),H[F]=B.thickness)}return{capSize:N,color:k,lineWidth:H}}function i(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function d(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function x(b){var N=0,k=0,H=[N,k];if(Array.isArray(b))for(var F=0;F<b.length;F++)H[F]=[N,k],b[F]&&(H[F][0]=i(b[F]),H[F][1]=d(b[F]));else H[0]=i(b),H[1]=d(b);return H}function w(b,N){return N(b*4)}function _(b){return n[b]}function m(b,N,k,H,F){var B=null;if(v.isArrayOrTypedArray(b)){B=[];for(var U=0;U<N;U++)b[U]===void 0?B[U]=H:B[U]=k(b[U],F)}else B=k(b,v.identity);return B}function E(b,N){var k=[],H=b.fullSceneLayout,F=b.dataScale,B=H.xaxis,U=H.yaxis,z=H.zaxis,W=N.marker,j=N.line,ee=N.x||[],ie=N.y||[],oe=N.z||[],he=ee.length,ne=N.xcalendar,q=N.ycalendar,le=N.zcalendar,Q,te,ue,J,K,ce;for(K=0;K<he;K++)Q=B.d2l(ee[K],0,ne)*F[0],te=U.d2l(ie[K],0,q)*F[1],ue=z.d2l(oe[K],0,le)*F[2],k[K]=[Q,te,ue];if(Array.isArray(N.text))ce=N.text;else if(v.isTypedArray(N.text))ce=Array.from(N.text);else if(N.text!==void 0)for(ce=new Array(he),K=0;K<he;K++)ce[K]=N.text;function ae(ot,$e){var qe=H[ot];return f.tickText(qe,qe.d2l($e),!0).text}var de=N.texttemplate;if(de){var be=b.fullLayout,Se=be._d3locale,Te=Array.isArray(de),Ie=Te?Math.min(de.length,he):he,ke=Te?function(ot){return de[ot]}:function(){return de};for(ce=new Array(Ie),K=0;K<Ie;K++){var Be={x:ee[K],y:ie[K],z:oe[K]},Me={xLabel:ae("xaxis",ee[K]),yLabel:ae("yaxis",ie[K]),zLabel:ae("zaxis",oe[K])},Oe={};u(Oe,N,K);var _e=N._meta||{};ce[K]=v.texttemplateString(ke(K),Me,Se,Oe,Be,_e)}}if(J={position:k,mode:N.mode,text:ce},"line"in N&&(J.lineColor=r(j,1,he),J.lineWidth=j.width,J.lineDashes=j.dash),"marker"in N){var Ne=t(N);J.scatterColor=r(W,1,he),J.scatterSize=m(W.size,he,w,20,Ne),J.scatterMarker=m(W.symbol,he,_,"●"),J.scatterLineWidth=W.line.width,J.scatterLineColor=r(W.line,1,he),J.scatterAngle=0}"textposition"in N&&(J.textOffset=x(N.textposition),J.textColor=r(N.textfont,1,he),J.textSize=m(N.textfont.size,he,v.identity,12),J.textFontFamily=N.textfont.family,J.textFontWeight=N.textfont.weight,J.textFontStyle=N.textfont.style,J.textFontVariant=N.textfont.variant,J.textAngle=0);var Ce=["x","y","z"];for(J.project=[!1,!1,!1],J.projectScale=[1,1,1],J.projectOpacity=[1,1,1],K=0;K<3;++K){var Ye=N.projection[Ce[K]];(J.project[K]=Ye.show)&&(J.projectOpacity[K]=Ye.opacity,J.projectScale[K]=Ye.scale)}J.errorBounds=l(N,F,H);var rt=c([N.error_x,N.error_y,N.error_z]);return J.errorColor=rt.color,J.errorLineWidth=rt.lineWidth,J.errorCapSize=rt.capSize,J.delaunayAxis=N.surfaceaxis,J.delaunayColor=g(N.surfacecolor),J}function A(b){if(v.isArrayOrTypedArray(b)){var N=b[0];return v.isArrayOrTypedArray(N)&&(b=N),"rgb("+b.slice(0,3).map(function(k){return Math.round(k*255)})+")"}return null}function s(b){return v.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?A(b):b.map(A):null}h.update=function(b){var N=this.scene.glplot.gl,k,H,F,B,U=a.solid;this.data=b;var z=E(this.scene,b);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in a&&(U=a[z.lineDashes]),this.color=s(z.scatterColor)||s(z.lineColor),this.dataPoints=z.position,k={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:U[0],dashScale:U[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(k):(this.linePlot=p(k),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var W=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(W*=b.marker.opacity),H={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:W,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(H):(this.scatterPlot=L(H),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),B={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFontFamily,fontWeight:z.textFontWeight,fontStyle:z.textFontStyle,fontVariant:z.textFontVariant,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(B):(this.textMarkers=L(B),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:b.opacity},this.errorBars?z.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=o(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var j=T(z.position,z.delaunayColor,z.delaunayAxis);j.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(j):(j.gl=N,this.delaunayMesh=C(j),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function M(b,N){var k=new y(b,N.uid);return k.update(N),k}V.exports=M},83484:function(V,Y,e){var p=e(24040),L=e(3400),o=e(43028),C=e(74428),S=e(66828),v=e(124),g=e(91592);V.exports=function(a,n,f,u){function l(w,_){return L.coerce(a,n,g,w,_)}var y=r(a,n,l,u);if(!y){n.visible=!1;return}l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),o.hasMarkers(n)&&C(a,n,f,u,l,{noSelect:!0,noAngle:!0}),o.hasLines(n)&&(l("connectgaps"),S(a,n,f,u,l)),o.hasText(n)&&(l("texttemplate"),v(a,n,u,l,{noSelect:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var h=(n.line||{}).color,T=(n.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",h||T);for(var c=["x","y","z"],i=0;i<3;++i){var d="projection."+c[i];l(d+".show")&&(l(d+".opacity"),l(d+".scale"))}var x=p.getComponentMethod("errorbars","supplyDefaults");x(a,n,h||T||f,{axis:"z"}),x(a,n,h||T||f,{axis:"y",inherit:"z"}),x(a,n,h||T||f,{axis:"x",inherit:"z"})};function r(t,a,n,f){var u=0,l=n("x"),y=n("y"),h=n("z"),T=p.getComponentMethod("calendars","handleTraceDefaults");return T(t,a,["x","y","z"],f),l&&y&&h&&(u=Math.min(l.length,y.length,h.length),a._length=a._xlength=a._ylength=a._zlength=u),u}},3296:function(V,Y,e){V.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(V,Y,e){var p=e(98304),L=e(52904),o=e(45464),C=e(21776).Ks,S=e(21776).Gw,v=e(49084),g=e(92880).extendFlat,r=L.marker,t=L.line,a=r.line;V.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:g({},L.mode,{dflt:"markers"}),text:g({},L.text,{}),texttemplate:S({editType:"plot"},{keys:["a","b","text"]}),hovertext:g({},L.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:g({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:L.connectgaps,fill:g({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p(),marker:g({symbol:r.symbol,opacity:r.opacity,maxdisplayed:r.maxdisplayed,angle:r.angle,angleref:r.angleref,standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:g({width:a.width,editType:"calc"},v("marker.line")),gradient:r.gradient,editType:"calc"},v("marker")),textfont:L.textfont,textposition:L.textposition,selected:L.selected,unselected:L.unselected,hoverinfo:g({},o.hoverinfo,{flags:["a","b","text","name"]}),hoveron:L.hoveron,hovertemplate:C(),zorder:L.zorder}},48228:function(V,Y,e){var p=e(38248),L=e(90136),o=e(20148),C=e(4500),S=e(16356).calcMarkerSize,v=e(50948);V.exports=function(r,t){var a=t._carpetTrace=v(r,t);if(!(!a||!a.visible||a.visible==="legendonly")){var n;t.xaxis=a.xaxis,t.yaxis=a.yaxis;var f=t._length,u=new Array(f),l,y,h=!1;for(n=0;n<f;n++)if(l=t.a[n],y=t.b[n],p(l)&&p(y)){var T=a.ab2xy(+l,+y,!0),c=a.isVisible(+l,+y);c||(h=!0),u[n]={x:T[0],y:T[1],a:l,b:y,vis:c}}else u[n]={x:!1,y:!1};return t._needsCull=h,u[0].carpet=a,u[0].trace=t,S(t,f),L(r,t),o(u,t),C(u,t),u}}},6176:function(V,Y,e){var p=e(3400),L=e(88200),o=e(43028),C=e(74428),S=e(66828),v=e(11731),g=e(124),r=e(70840),t=e(90372);V.exports=function(n,f,u,l){function y(w,_){return p.coerce(n,f,t,w,_)}y("carpet"),f.xaxis="x",f.yaxis="y";var h=y("a"),T=y("b"),c=Math.min(h.length,T.length);if(!c){f.visible=!1;return}f._length=c,y("text"),y("texttemplate"),y("hovertext");var i=c<L.PTS_LINESONLY?"lines+markers":"lines";y("mode",i),o.hasMarkers(f)&&C(n,f,u,l,y,{gradient:!0}),o.hasLines(f)&&(S(n,f,u,l,y,{backoff:!0}),v(n,f,y),y("connectgaps")),o.hasText(f)&&g(n,f,l,y);var d=[];(o.hasMarkers(f)||o.hasText(f))&&(y("marker.maxdisplayed"),d.push("points")),y("fill"),f.fill!=="none"&&(r(n,f,u,y),o.hasLines(f)||v(n,f,y)),(f.fill==="tonext"||f.fill==="toself")&&d.push("fills");var x=y("hoveron",d.join("+")||"points");x!=="fills"&&y("hovertemplate"),y("zorder"),p.coerceSelectionMarkerOpacity(f,y)}},89307:function(V){V.exports=function(e,p,L,o,C){var S=o[C];return e.a=S.a,e.b=S.b,e.y=S.y,e}},52364:function(V){V.exports=function(e,p){var L={},o=p._carpet,C=o.ab2ij([e.a,e.b]),S=Math.floor(C[0]),v=C[0]-S,g=Math.floor(C[1]),r=C[1]-g,t=o.evalxy([],S,g,v,r);return L.yLabel=t[1].toFixed(3),L}},58960:function(V,Y,e){var p=e(98723),L=e(3400).fillText;V.exports=function(C,S,v,g){var r=p(C,S,v,g);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var a=1-t.y0/C.ya._length,n=C.xa._length,f=n*a/2,u=n-f;return t.x0=Math.max(Math.min(t.x0,u),f),t.x1=Math.max(Math.min(t.x1,u),f),r}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var y=t.trace,h=y._carpet,T=y._module.formatLabels(l,y);t.yLabel=T.yLabel,delete t.text;var c=[];function i(w,_){var m;w.labelprefix&&w.labelprefix.length>0?m=w.labelprefix.replace(/ = $/,""):m=w._hovertitle,c.push(m+": "+_.toFixed(3)+w.labelsuffix)}if(!y.hovertemplate){var d=l.hi||y.hoverinfo,x=d.split("+");x.indexOf("all")!==-1&&(x=["a","b","text"]),x.indexOf("a")!==-1&&i(h.aaxis,l.a),x.indexOf("b")!==-1&&i(h.baxis,l.b),c.push("y: "+t.yLabel),x.indexOf("text")!==-1&&L(l,y,c),t.extraText=c.join("<br>")}return r}},4184:function(V,Y,e){V.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(V,Y,e){var p=e(96504),L=e(54460),o=e(43616);V.exports=function(S,v,g,r){var t,a,n,f=g[0][0].carpet,u=L.getFromId(S,f.xaxis||"x"),l=L.getFromId(S,f.yaxis||"y"),y={xaxis:u,yaxis:l,plot:v.plot};for(t=0;t<g.length;t++)a=g[t][0].trace,a._xA=u,a._yA=l;for(p(S,y,g,r),t=0;t<g.length;t++)a=g[t][0].trace,n=r.selectAll("g.trace"+a.uid+" .js-line"),o.setClipUrl(n,g[t][0].carpet._clipPathId,S)}},6096:function(V,Y,e){var p=e(21776).Ks,L=e(21776).Gw,o=e(98304),C=e(52904),S=e(45464),v=e(49084),g=e(98192).u,r=e(92880).extendFlat,t=e(67824).overrideAll,a=C.marker,n=C.line,f=a.line;V.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:r({},C.hovertext,{}),textfont:C.textfont,textposition:C.textposition,line:{color:n.color,width:n.width,dash:g},connectgaps:C.connectgaps,marker:r({symbol:a.symbol,opacity:a.opacity,angle:a.angle,angleref:r({},a.angleref,{values:["previous","up","north"]}),standoff:a.standoff,size:a.size,sizeref:a.sizeref,sizemin:a.sizemin,sizemode:a.sizemode,colorbar:a.colorbar,line:r({width:f.width},v("marker.line")),gradient:a.gradient},v("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:o(),selected:C.selected,unselected:C.unselected,hoverinfo:r({},S.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},25212:function(V,Y,e){var p=e(38248),L=e(39032).BADNUM,o=e(90136),C=e(20148),S=e(4500),v=e(3400).isArrayOrTypedArray,g=e(3400)._;function r(t){return t&&typeof t=="string"}V.exports=function(a,n){var f=v(n.locations),u=f?n.locations.length:n._length,l=new Array(u),y;n.geojson?y=function(x){return r(x)||p(x)}:y=r;for(var h=0;h<u;h++){var T=l[h]={};if(f){var c=n.locations[h];T.loc=y(c)?c:null}else{var i=n.lon[h],d=n.lat[h];p(i)&&p(d)?T.lonlat=[+i,+d]:T.lonlat=[L,L]}}return C(l,n),o(a,n),S(l,n),u&&(l[0].t={labels:{lat:g(a,"lat:")+" ",lon:g(a,"lon:")+" "}}),l}},86188:function(V,Y,e){var p=e(3400),L=e(43028),o=e(74428),C=e(66828),S=e(124),v=e(70840),g=e(6096);V.exports=function(t,a,n,f){function u(x,w){return p.coerce(t,a,g,x,w)}var l=u("locations"),y;if(l&&l.length){var h=u("geojson"),T;(typeof h=="string"&&h!==""||p.isPlainObject(h))&&(T="geojson-id");var c=u("locationmode",T);c==="geojson-id"&&u("featureidkey"),y=l.length}else{var i=u("lon")||[],d=u("lat")||[];y=Math.min(i.length,d.length)}if(!y){a.visible=!1;return}a._length=y,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),L.hasMarkers(a)&&o(t,a,n,f,u,{gradient:!0}),L.hasLines(a)&&(C(t,a,n,f,u),u("connectgaps")),L.hasText(a)&&(u("texttemplate"),S(t,a,f,u)),u("fill"),a.fill!=="none"&&v(t,a,n,u),p.coerceSelectionMarkerOpacity(a,u)}},58544:function(V){V.exports=function(e,p,L,o,C){e.lon=p.lon,e.lat=p.lat,e.location=p.loc?p.loc:null;var S=o[C];return S.fIn&&S.fIn.properties&&(e.properties=S.fIn.properties),e}},56696:function(V,Y,e){var p=e(54460);V.exports=function(o,C,S){var v={},g=S[C.geo]._subplot,r=g.mockAxis,t=o.lonlat;return v.lonLabel=p.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=p.tickText(r,r.c2l(t[1]),!0).text,v}},64292:function(V,Y,e){var p=e(93024),L=e(39032).BADNUM,o=e(44928),C=e(3400).fillText,S=e(6096);V.exports=function(r,t,a){var n=r.cd,f=n[0].trace,u=r.xa,l=r.ya,y=r.subplot,h=y.projection.isLonLatOverEdges,T=y.project;function c(E){var A=E.lonlat;if(A[0]===L||h(A))return 1/0;var s=T(A),M=T([t,a]),b=Math.abs(s[0]-M[0]),N=Math.abs(s[1]-M[1]),k=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(b*b+N*N)-k,1-3/k)}if(p.getClosest(n,c,r),r.index!==!1){var i=n[r.index],d=i.lonlat,x=[u.c2p(d),l.c2p(d)],w=i.mrc||1;r.x0=x[0]-w,r.x1=x[0]+w,r.y0=x[1]-w,r.y1=x[1]+w,r.loc=i.loc,r.lon=d[0],r.lat=d[1];var _={};_[f.geo]={_subplot:y};var m=f._module.formatLabels(i,f,_);return r.lonLabel=m.lonLabel,r.latLabel=m.latLabel,r.color=o(f,i),r.extraText=v(f,i,r,n[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}};function v(g,r,t,a){if(g.hovertemplate)return;var n=r.hi||g.hoverinfo,f=n==="all"?S.hoverinfo.flags:n.split("+"),u=f.indexOf("location")!==-1&&Array.isArray(g.locations),l=f.indexOf("lon")!==-1,y=f.indexOf("lat")!==-1,h=f.indexOf("text")!==-1,T=[];function c(i){return i+"°"}return u?T.push(r.loc):l&&y?T.push("("+c(t.latLabel)+", "+c(t.lonLabel)+")"):l?T.push(a.lon+c(t.lonLabel)):y&&T.push(a.lat+c(t.latLabel)),h&&C(r,g,T),T.join("<br>")}},36952:function(V,Y,e){V.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(V,Y,e){var p=e(33428),L=e(3400),o=e(59972).getTopojsonFeatures,C=e(44808),S=e(27144),v=e(19280).findExtremes,g=e(39032).BADNUM,r=e(16356).calcMarkerSize,t=e(43028),a=e(25064);function n(u,l,y){var h=l.layers.frontplot.select(".scatterlayer"),T=L.makeTraceGroups(h,y,"trace scattergeo");function c(i,d){i.lonlat[0]===g&&p.select(d).remove()}T.selectAll("*").remove(),T.each(function(i){var d=p.select(this),x=i[0].trace;if(t.hasLines(x)||x.fill!=="none"){var w=C.calcTraceToLineCoords(i),_=x.fill!=="none"?C.makePolygon(w):C.makeLine(w);d.selectAll("path.js-line").data([{geojson:_,trace:x}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(x)&&d.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),t.hasText(x)&&d.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(m){c(m,this)}),a(u,i)})}function f(u,l){var y=u[0].trace,h=l[y.geo],T=h._subplot,c=y._length,i,d;if(L.isArrayOrTypedArray(y.locations)){var x=y.locationmode,w=x==="geojson-id"?S.extractTraceFeature(u):o(y,T.topojson);for(i=0;i<c;i++){d=u[i];var _=x==="geojson-id"?d.fOut:S.locationToFeature(x,d.loc,w);d.lonlat=_?_.properties.ct:[g,g]}}var m={padded:!0},E,A;if(h.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var s=S.computeBbox(S.getTraceGeojson(y));E=[s[0],s[2]],A=[s[1],s[3]]}else{for(E=new Array(c),A=new Array(c),i=0;i<c;i++)d=u[i],E[i]=d.lonlat[0],A[i]=d.lonlat[1];m.ppad=r(y,c)}y._extremes.lon=v(h.lonaxis._ax,E,m),y._extremes.lat=v(h.lataxis._ax,A,m)}V.exports={calcGeoJSON:f,plot:n}},8796:function(V,Y,e){var p=e(43028),L=e(39032).BADNUM;V.exports=function(C,S){var v=C.cd,g=C.xaxis,r=C.yaxis,t=[],a=v[0].trace,n,f,u,l,y,h=!p.hasMarkers(a)&&!p.hasText(a);if(h)return[];if(S===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)n=v[y],f=n.lonlat,f[0]!==L&&(u=g.c2p(f),l=r.c2p(f),S.contains([u,l],null,y,C)?(t.push({pointNumber:y,lon:f[0],lat:f[1]}),n.selected=1):n.selected=0);return t}},25064:function(V,Y,e){var p=e(33428),L=e(43616),o=e(76308),C=e(49224),S=C.stylePoints,v=C.styleText;V.exports=function(t,a){a&&g(t,a)};function g(r,t){var a=t[0].trace,n=t[0].node3;n.style("opacity",t[0].trace.opacity),S(n,a,r),v(n,a,r),n.selectAll("path.js-line").style("fill","none").each(function(f){var u=p.select(this),l=f.trace,y=l.line||{};u.call(o.stroke,y.color).call(L.dashLine,y.dash||"",y.width||0),l.fill!=="none"&&u.call(o.fill,l.fillcolor)})}},2876:function(V,Y,e){var p=e(45464),L=e(25376),o=e(98304),C=e(52904),S=e(29736).axisHoverFormat,v=e(49084),g=e(95376),r=e(92880).extendFlat,t=e(67824).overrideAll,a=e(67072).DASHES,n=C.line,f=C.marker,u=f.line,l=V.exports=t({x:C.x,x0:C.x0,dx:C.dx,y:C.y,y0:C.y0,dy:C.dy,xperiod:C.xperiod,yperiod:C.yperiod,xperiod0:C.xperiod0,yperiod0:C.yperiod0,xperiodalignment:C.xperiodalignment,yperiodalignment:C.yperiodalignment,xhoverformat:S("x"),yhoverformat:S("y"),text:C.text,hovertext:C.hovertext,textposition:C.textposition,textfont:L({noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,editType:"calc",colorEditType:"style",arrayOk:!0,noNumericWeightValues:!0,variantValues:["normal","small-caps"]}),mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:n.color,width:n.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:g(a),dflt:"solid"}},marker:r({},v("marker"),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:r({},v("marker.line"),{width:u.width})}),connectgaps:C.connectgaps,fill:r({},C.fill,{dflt:"none"}),fillcolor:o(),selected:{marker:C.selected.marker,textfont:C.selected.textfont},unselected:{marker:C.unselected.marker,textfont:C.unselected.textfont},opacity:p.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=C.hovertemplate,l.texttemplate=C.texttemplate},64628:function(V,Y,e){var p=e(41272);V.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:p.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(V,Y,e){var p=e(3108),L=e(3400),o=e(79811),C=e(19280).findExtremes,S=e(1220),v=e(16356),g=v.calcMarkerSize,r=v.calcAxisExpansion,t=v.setFirstScatter,a=e(90136),n=e(84236),f=e(74588),u=e(39032).BADNUM,l=e(67072).TOO_MANY_POINTS;V.exports=function(c,i){var d=c._fullLayout,x=i._xA=o.getFromId(c,i.xaxis,"x"),w=i._yA=o.getFromId(c,i.yaxis,"y"),_=d._plots[i.xaxis+i.yaxis],m=i._length,E=m>=l,A=m*2,s={},M,b=x.makeCalcdata(i,"x"),N=w.makeCalcdata(i,"y"),k=S(i,x,"x",b),H=S(i,w,"y",N),F=k.vals,B=H.vals;i._x=F,i._y=B,i.xperiodalignment&&(i._origX=b,i._xStarts=k.starts,i._xEnds=k.ends),i.yperiodalignment&&(i._origY=N,i._yStarts=H.starts,i._yEnds=H.ends);var U=new Array(A),z=new Array(m);for(M=0;M<m;M++)U[M*2]=F[M]===u?NaN:F[M],U[M*2+1]=B[M]===u?NaN:B[M],z[M]=M;if(x.type==="log")for(M=0;M<A;M+=2)U[M]=x.c2l(U[M]);if(w.type==="log")for(M=1;M<A;M+=2)U[M]=w.c2l(U[M]);E&&x.type!=="log"&&w.type!=="log"?s.tree=p(U):s.ids=z,a(c,i);var W=h(c,_,i,U,F,B),j=f(c,_);t(d,i);var ee;return E?W.marker&&(ee=W.marker.sizeAvg||Math.max(W.marker.size,3)):ee=g(i,m),r(c,i,x,w,F,B,ee),W.errorX&&y(i,x,W.errorX),W.errorY&&y(i,w,W.errorY),W.fill&&!j.fill2d&&(j.fill2d=!0),W.marker&&!j.scatter2d&&(j.scatter2d=!0),W.line&&!j.line2d&&(j.line2d=!0),(W.errorX||W.errorY)&&!j.error2d&&(j.error2d=!0),W.text&&!j.glText&&(j.glText=!0),W.marker&&(W.marker.snap=m),j.lineOptions.push(W.line),j.errorXOptions.push(W.errorX),j.errorYOptions.push(W.errorY),j.fillOptions.push(W.fill),j.markerOptions.push(W.marker),j.markerSelectedOptions.push(W.markerSel),j.markerUnselectedOptions.push(W.markerUnsel),j.textOptions.push(W.text),j.textSelectedOptions.push(W.textSel),j.textUnselectedOptions.push(W.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),s._scene=j,s.index=j.count,s.x=F,s.y=B,s.positions=U,j.count++,[{x:!1,y:!1,t:s,trace:i}]};function y(T,c,i){var d=T._extremes[c._id],x=C(c,i._bnds,{padded:!0});d.min=d.min.concat(x.min),d.max=d.max.concat(x.max)}function h(T,c,i,d,x,w){var _=n.style(T,i);if(_.marker&&(_.marker.positions=d),_.line&&d.length>1&&L.extendFlat(_.line,n.linePositions(T,i,d)),_.errorX||_.errorY){var m=n.errorBarPositions(T,i,d,x,w);_.errorX&&L.extendFlat(_.errorX,m.x),_.errorY&&L.extendFlat(_.errorY,m.y)}return _.text&&(L.extendFlat(_.text,{positions:d},n.textPosition(T,i,_.text,_.marker)),L.extendFlat(_.textSel,{positions:d},n.textPosition(T,i,_.text,_.markerSel)),L.extendFlat(_.textUnsel,{positions:d},n.textPosition(T,i,_.text,_.markerUnsel))),_}},67072:function(V){var Y=20;V.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:Y,SYMBOL_STROKE:Y/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(V,Y,e){var p=e(38248),L=e(20472),o=e(72160),C=e(24040),S=e(3400),v=S.isArrayOrTypedArray,g=e(43616),r=e(79811),t=e(33040).formatColor,a=e(43028),n=e(7152),f=e(80088),u=e(67072),l=e(13448).DESELECTDIM,y={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},h=e(10624).appendArrayPointValue;function T(F,B){var U,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},W=F._context.plotGlPixelRatio;if(B.visible!==!0)return z;if(a.hasText(B)&&(z.text=c(F,B),z.textSel=w(F,B,B.selected),z.textUnsel=w(F,B,B.unselected)),a.hasMarkers(B)&&(z.marker=d(F,B),z.markerSel=x(F,B,B.selected),z.markerUnsel=x(F,B,B.unselected),!B.unselected&&v(B.marker.opacity))){var j=B.marker.opacity;for(z.markerUnsel.opacity=new Array(j.length),U=0;U<j.length;U++)z.markerUnsel.opacity[U]=l*j[U]}if(a.hasLines(B)){z.line={overlay:!0,thickness:B.line.width*W,color:B.line.color,opacity:B.opacity};var ee=(u.DASHES[B.line.dash]||[1]).slice();for(U=0;U<ee.length;++U)ee[U]*=B.line.width*W;z.line.dashes=ee}return B.error_x&&B.error_x.visible&&(z.errorX=_(B,B.error_x,W)),B.error_y&&B.error_y.visible&&(z.errorY=_(B,B.error_y,W)),B.fill&&B.fill!=="none"&&(z.fill={closed:!0,fill:B.fillcolor,thickness:0}),z}function c(F,B){var U=F._fullLayout,z=B._length,W=B.textfont,j=B.textposition,ee=v(j)?j:[j],ie=W.color,oe=W.size,he=W.family,ne=W.weight,q=W.style,le=W.variant,Q={},te,ue=F._context.plotGlPixelRatio,J=B.texttemplate;if(J){Q.text=[];var K=U._d3locale,ce=Array.isArray(J),ae=ce?Math.min(J.length,z):z,de=ce?function(Me){return J[Me]}:function(){return J};for(te=0;te<ae;te++){var be={i:te},Se=B._module.formatLabels(be,B,U),Te={};h(Te,B,te);var Ie=B._meta||{};Q.text.push(S.texttemplateString(de(te),Se,K,Te,be,Ie))}}else v(B.text)&&B.text.length<z?Q.text=B.text.slice():Q.text=B.text;if(v(Q.text))for(te=Q.text.length;te<z;te++)Q.text[te]="";for(Q.opacity=B.opacity,Q.font={},Q.align=[],Q.baseline=[],te=0;te<ee.length;te++){var ke=ee[te].split(/\s+/);switch(ke[1]){case"left":Q.align.push("right");break;case"right":Q.align.push("left");break;default:Q.align.push(ke[1])}switch(ke[0]){case"top":Q.baseline.push("bottom");break;case"bottom":Q.baseline.push("top");break;default:Q.baseline.push(ke[0])}}if(v(ie))for(Q.color=new Array(z),te=0;te<z;te++)Q.color[te]=ie[te];else Q.color=ie;if(v(oe)||Array.isArray(he)||v(ne)||Array.isArray(q)||Array.isArray(le))for(Q.font=new Array(z),te=0;te<z;te++){var Be=Q.font[te]={};Be.size=(S.isTypedArray(oe)?oe[te]:v(oe)?p(oe[te])?oe[te]:0:oe)*ue,Be.family=Array.isArray(he)?he[te]:he,Be.weight=i(v(ne)?ne[te]:ne),Be.style=Array.isArray(q)?q[te]:q,Be.variant=Array.isArray(le)?le[te]:le}else Q.font={size:oe*ue,family:he,weight:i(ne),style:q,variant:le};return Q}function i(F){return F<=1e3?F>500?"bold":"normal":F}function d(F,B){var U=B._length,z=B.marker,W={},j,ee=v(z.symbol),ie=v(z.angle),oe=v(z.color),he=v(z.line.color),ne=v(z.opacity),q=v(z.size),le=v(z.line.width),Q;if(ee||(Q=f.isOpenSymbol(z.symbol)),ee||oe||he||ne||ie){W.symbols=new Array(U),W.angles=new Array(U),W.colors=new Array(U),W.borderColors=new Array(U);var te=z.symbol,ue=z.angle,J=t(z,z.opacity,U),K=t(z.line,z.opacity,U);if(!v(K[0])){var ce=K;for(K=Array(U),j=0;j<U;j++)K[j]=ce}if(!v(J[0])){var ae=J;for(J=Array(U),j=0;j<U;j++)J[j]=ae}if(!v(te)){var de=te;for(te=Array(U),j=0;j<U;j++)te[j]=de}if(!v(ue)){var be=ue;for(ue=Array(U),j=0;j<U;j++)ue[j]=be}for(W.symbols=te,W.angles=ue,W.colors=J,W.borderColors=K,j=0;j<U;j++)ee&&(Q=f.isOpenSymbol(z.symbol[j])),Q&&(K[j]=J[j].slice(),J[j]=J[j].slice(),J[j][3]=0);for(W.opacity=B.opacity,W.markers=new Array(U),j=0;j<U;j++)W.markers[j]=b({mx:W.symbols[j],ma:W.angles[j]},B)}else Q?(W.color=o(z.color,"uint8"),W.color[3]=0,W.borderColor=o(z.color,"uint8")):(W.color=o(z.color,"uint8"),W.borderColor=o(z.line.color,"uint8")),W.opacity=B.opacity*z.opacity,W.marker=b({mx:z.symbol,ma:z.angle},B);var Se=1,Te=n(B,Se),Ie;if(q||le){var ke=W.sizes=new Array(U),Be=W.borderSizes=new Array(U),Me=0,Oe;if(q){for(j=0;j<U;j++)ke[j]=Te(z.size[j]),Me+=ke[j];Oe=Me/U}else for(Ie=Te(z.size),j=0;j<U;j++)ke[j]=Ie;if(le)for(j=0;j<U;j++)Be[j]=z.line.width[j];else for(Ie=z.line.width,j=0;j<U;j++)Be[j]=Ie;W.sizeAvg=Oe}else W.size=Te(z&&z.size||10),W.borderSizes=Te(z.line.width);return W}function x(F,B,U){var z=B.marker,W={};return U&&(U.marker&&U.marker.symbol?W=d(F,S.extendFlat({},z,U.marker)):U.marker&&(U.marker.size&&(W.size=U.marker.size),U.marker.color&&(W.colors=U.marker.color),U.marker.opacity!==void 0&&(W.opacity=U.marker.opacity))),W}function w(F,B,U){var z={};if(!U)return z;if(U.textfont){var W={opacity:1,text:B.text,texttemplate:B.texttemplate,textposition:B.textposition,textfont:S.extendFlat({},B.textfont)};U.textfont&&S.extendFlat(W.textfont,U.textfont),z=c(F,W)}return z}function _(F,B,U){var z={capSize:B.width*2*U,lineWidth:B.thickness*U,color:B.color};return B.copy_ystyle&&(z=F.error_y),z}var m=u.SYMBOL_SDF_SIZE,E=u.SYMBOL_SIZE,A=u.SYMBOL_STROKE,s={},M=g.symbolFuncs[0](E*.05);function b(F,B){var U=F.mx;if(U==="circle")return null;var z,W,j=g.symbolNumber(U),ee=g.symbolFuncs[j%100],ie=!!g.symbolNoDot[j%100],oe=!!g.symbolNoFill[j%100],he=f.isDotSymbol(U);if(F.ma&&(U+="_"+F.ma),s[U])return s[U];var ne=g.getMarkerAngle(F,B);return he&&!ie?z=ee(E*1.1,ne)+M:z=ee(E,ne),W=L(z,{w:m,h:m,viewBox:[-E,-E,E,E],stroke:oe?A:-A}),s[U]=W,W||null}function N(F,B,U){var z=U.length,W=z/2,j,ee;if(a.hasLines(B)&&W)if(B.line.shape==="hv"){for(j=[],ee=0;ee<W-1;ee++)isNaN(U[ee*2])||isNaN(U[ee*2+1])?j.push(NaN,NaN,NaN,NaN):(j.push(U[ee*2],U[ee*2+1]),!isNaN(U[ee*2+2])&&!isNaN(U[ee*2+3])?j.push(U[ee*2+2],U[ee*2+1]):j.push(NaN,NaN));j.push(U[z-2],U[z-1])}else if(B.line.shape==="hvh"){for(j=[],ee=0;ee<W-1;ee++)if(isNaN(U[ee*2])||isNaN(U[ee*2+1])||isNaN(U[ee*2+2])||isNaN(U[ee*2+3]))!isNaN(U[ee*2])&&!isNaN(U[ee*2+1])?j.push(U[ee*2],U[ee*2+1]):j.push(NaN,NaN),j.push(NaN,NaN);else{var ie=(U[ee*2]+U[ee*2+2])/2;j.push(U[ee*2],U[ee*2+1],ie,U[ee*2+1],ie,U[ee*2+3])}j.push(U[z-2],U[z-1])}else if(B.line.shape==="vhv"){for(j=[],ee=0;ee<W-1;ee++)if(isNaN(U[ee*2])||isNaN(U[ee*2+1])||isNaN(U[ee*2+2])||isNaN(U[ee*2+3]))!isNaN(U[ee*2])&&!isNaN(U[ee*2+1])?j.push(U[ee*2],U[ee*2+1]):j.push(NaN,NaN),j.push(NaN,NaN);else{var oe=(U[ee*2+1]+U[ee*2+3])/2;j.push(U[ee*2],U[ee*2+1],U[ee*2],oe,U[ee*2+2],oe)}j.push(U[z-2],U[z-1])}else if(B.line.shape==="vh"){for(j=[],ee=0;ee<W-1;ee++)isNaN(U[ee*2])||isNaN(U[ee*2+1])?j.push(NaN,NaN,NaN,NaN):(j.push(U[ee*2],U[ee*2+1]),!isNaN(U[ee*2+2])&&!isNaN(U[ee*2+3])?j.push(U[ee*2],U[ee*2+3]):j.push(NaN,NaN));j.push(U[z-2],U[z-1])}else j=U;var he=!1;for(ee=0;ee<j.length;ee++)if(isNaN(j[ee])){he=!0;break}var ne=he||j.length>u.TOO_MANY_POINTS||a.hasMarkers(B)?"rect":"round";if(he&&B.connectgaps){var q=j[0],le=j[1];for(ee=0;ee<j.length;ee+=2)isNaN(j[ee])||isNaN(j[ee+1])?(j[ee]=q,j[ee+1]=le):(q=j[ee],le=j[ee+1])}return{join:ne,positions:j}}function k(F,B,U,z,W){var j=C.getComponentMethod("errorbars","makeComputeError"),ee=r.getFromId(F,B.xaxis,"x"),ie=r.getFromId(F,B.yaxis,"y"),oe=U.length/2,he={};function ne(q,le){var Q=le._id.charAt(0),te=B["error_"+Q];if(te&&te.visible&&(le.type==="linear"||le.type==="log")){for(var ue=j(te),J={x:0,y:1}[Q],K={x:[0,1,2,3],y:[2,3,0,1]}[Q],ce=new Float64Array(4*oe),ae=1/0,de=-1/0,be=0,Se=0;be<oe;be++,Se+=4){var Te=q[be];if(p(Te)){var Ie=U[be*2+J],ke=ue(Te,be),Be=ke[0],Me=ke[1];if(p(Be)&&p(Me)){var Oe=Te-Be,_e=Te+Me;ce[Se+K[0]]=Ie-le.c2l(Oe),ce[Se+K[1]]=le.c2l(_e)-Ie,ce[Se+K[2]]=0,ce[Se+K[3]]=0,ae=Math.min(ae,Te-Be),de=Math.max(de,Te+Me)}}}he[Q]={positions:U,errors:ce,_bnds:[ae,de]}}}return ne(z,ee),ne(W,ie),he}function H(F,B,U,z){var W=B._length,j={},ee;if(a.hasMarkers(B)){var ie=U.font,oe=U.align,he=U.baseline;for(j.offset=new Array(W),ee=0;ee<W;ee++){var ne=z.sizes?z.sizes[ee]:z.size,q=v(ie)?ie[ee].size:ie.size,le=v(oe)?oe.length>1?oe[ee]:oe[0]:oe,Q=v(he)?he.length>1?he[ee]:he[0]:he,te=y[le],ue=y[Q],J=ne?ne/.8+1:0,K=-ue*J-ue*.5;j.offset[ee]=[te*J/q,K/q]}}return j}V.exports={style:T,markerStyle:d,markerSelection:x,linePositions:N,errorBarPositions:k,textPosition:H}},80220:function(V,Y,e){var p=e(3400),L=e(24040),o=e(80088),C=e(2876),S=e(88200),v=e(43028),g=e(43980),r=e(31147),t=e(74428),a=e(66828),n=e(70840),f=e(124);V.exports=function(l,y,h,T){function c(A,s){return p.coerce(l,y,C,A,s)}var i=l.marker?o.isOpenSymbol(l.marker.symbol):!1,d=v.isBubble(l),x=g(l,y,T,c);if(!x){y.visible=!1;return}r(l,y,T,c),c("xhoverformat"),c("yhoverformat");var w=x<S.PTS_LINESONLY?"lines+markers":"lines";c("text"),c("hovertext"),c("hovertemplate"),c("mode",w),v.hasMarkers(y)&&(t(l,y,h,T,c,{noAngleRef:!0,noStandOff:!0}),c("marker.line.width",i||d?1:0)),v.hasLines(y)&&(c("connectgaps"),a(l,y,h,T,c),c("line.shape")),v.hasText(y)&&(c("texttemplate"),f(l,y,T,c,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0}));var _=(y.line||{}).color,m=(y.marker||{}).color;c("fill"),y.fill!=="none"&&n(l,y,h,c);var E=L.getComponentMethod("errorbars","supplyDefaults");E(l,y,_||m||h,{axis:"y"}),E(l,y,_||m||h,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(y,c)}},26768:function(V,Y,e){var p=e(3400),L=e(76308),o=e(13448).DESELECTDIM;function C(S){var v=S[0],g=v.trace,r=v.t,t=r._scene,a=r.index,n=t.selectBatch[a],f=t.unselectBatch[a],u=t.textOptions[a],l=t.textSelectedOptions[a]||{},y=t.textUnselectedOptions[a]||{},h=p.extendFlat({},u),T,c;if(n.length||f.length){var i=l.color,d=y.color,x=u.color,w=p.isArrayOrTypedArray(x);for(h.color=new Array(g._length),T=0;T<n.length;T++)c=n[T],h.color[c]=i||(w?x[c]:x);for(T=0;T<f.length;T++){c=f[T];var _=w?x[c]:x;h.color[c]=d||(i?_:L.addOpacity(_,o))}}t.glText[a].update(h)}V.exports={styleTextSelection:C}},99396:function(V,Y,e){var p=e(76688);V.exports=function(o,C,S){var v=o.i;return"x"in o||(o.x=C._x[v]),"y"in o||(o.y=C._y[v]),p(o,C,S)}},80088:function(V,Y,e){var p=e(67072);Y.isOpenSymbol=function(L){return typeof L=="string"?p.OPEN_RE.test(L):L%200>100},Y.isDotSymbol=function(L){return typeof L=="string"?p.DOT_RE.test(L):L>200}},41272:function(V,Y,e){var p=e(24040),L=e(3400),o=e(44928);function C(v,g,r,t){var a=v.cd,n=a[0].t,f=a[0].trace,u=v.xa,l=v.ya,y=n.x,h=n.y,T=u.c2p(g),c=l.c2p(r),i=v.distance,d;if(n.tree){var x=u.p2c(T-i),w=u.p2c(T+i),_=l.p2c(c-i),m=l.p2c(c+i);t==="x"?d=n.tree.range(Math.min(x,w),Math.min(l._rl[0],l._rl[1]),Math.max(x,w),Math.max(l._rl[0],l._rl[1])):d=n.tree.range(Math.min(x,w),Math.min(_,m),Math.max(x,w),Math.max(_,m))}else d=n.ids;var E,A,s,M,b,N,k,H,F,B=i;if(t==="x"){var U=!!f.xperiodalignment,z=!!f.yperiodalignment;for(b=0;b<d.length;b++){if(E=d[b],s=y[E],N=Math.abs(u.c2p(s)-T),U){var W=u.c2p(f._xStarts[E]),j=u.c2p(f._xEnds[E]);N=T>=Math.min(W,j)&&T<=Math.max(W,j)?0:1/0}if(N<B){if(B=N,M=h[E],k=l.c2p(M)-c,z){var ee=l.c2p(f._yStarts[E]),ie=l.c2p(f._yEnds[E]);k=c>=Math.min(ee,ie)&&c<=Math.max(ee,ie)?0:1/0}F=Math.sqrt(N*N+k*k),A=d[b]}}}else for(b=d.length-1;b>-1;b--)E=d[b],s=y[E],M=h[E],N=u.c2p(s)-T,k=l.c2p(M)-c,H=Math.sqrt(N*N+k*k),H<B&&(B=F=H,A=E);return v.index=A,v.distance=B,v.dxy=F,A===void 0?[v]:[S(v,y,h,f)]}function S(v,g,r,t){var a=v.xa,n=v.ya,f=v.distance,u=v.dxy,l=v.index,y={pointNumber:l,x:g[l],y:r[l]};y.tx=L.isArrayOrTypedArray(t.text)?t.text[l]:t.text,y.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,y.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,y.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var h=t.textfont;h&&(y.ts=L.isArrayOrTypedArray(h.size)?h.size[l]:h.size,y.tc=L.isArrayOrTypedArray(h.color)?h.color[l]:h.color,y.tf=Array.isArray(h.family)?h.family[l]:h.family,y.tw=Array.isArray(h.weight)?h.weight[l]:h.weight,y.ty=Array.isArray(h.style)?h.style[l]:h.style,y.tv=Array.isArray(h.variant)?h.variant[l]:h.variant);var T=t.marker;T&&(y.ms=L.isArrayOrTypedArray(T.size)?T.size[l]:T.size,y.mo=L.isArrayOrTypedArray(T.opacity)?T.opacity[l]:T.opacity,y.mx=L.isArrayOrTypedArray(T.symbol)?T.symbol[l]:T.symbol,y.ma=L.isArrayOrTypedArray(T.angle)?T.angle[l]:T.angle,y.mc=L.isArrayOrTypedArray(T.color)?T.color[l]:T.color);var c=T&&T.line;c&&(y.mlc=Array.isArray(c.color)?c.color[l]:c.color,y.mlw=L.isArrayOrTypedArray(c.width)?c.width[l]:c.width);var i=T&&T.gradient;i&&i.type!=="none"&&(y.mgt=Array.isArray(i.type)?i.type[l]:i.type,y.mgc=Array.isArray(i.color)?i.color[l]:i.color);var d=a.c2p(y.x,!0),x=n.c2p(y.y,!0),w=y.mrc||1,_=t.hoverlabel;_&&(y.hbg=Array.isArray(_.bgcolor)?_.bgcolor[l]:_.bgcolor,y.hbc=Array.isArray(_.bordercolor)?_.bordercolor[l]:_.bordercolor,y.hts=L.isArrayOrTypedArray(_.font.size)?_.font.size[l]:_.font.size,y.htc=Array.isArray(_.font.color)?_.font.color[l]:_.font.color,y.htf=Array.isArray(_.font.family)?_.font.family[l]:_.font.family,y.hnl=L.isArrayOrTypedArray(_.namelength)?_.namelength[l]:_.namelength);var m=t.hoverinfo;m&&(y.hi=Array.isArray(m)?m[l]:m);var E=t.hovertemplate;E&&(y.ht=Array.isArray(E)?E[l]:E);var A={};A[v.index]=y;var s=t._origX,M=t._origY,b=L.extendFlat({},v,{color:o(t,y),x0:d-w,x1:d+w,xLabelVal:s?s[l]:y.x,y0:x-w,y1:x+w,yLabelVal:M?M[l]:y.y,cd:A,distance:f,spikeDistance:u,hovertemplate:y.ht});return y.htx?b.text=y.htx:y.tx?b.text=y.tx:t.text&&(b.text=t.text),L.fillText(y,t,b),p.getComponentMethod("errorbars","hoverInfo")(y,t,b),b}V.exports={hoverPoints:C,calcHover:S}},38983:function(V,Y,e){var p=e(64628);p.plot=e(89876),V.exports=p},89876:function(V,Y,e){var p=e(38540),L=e(13472),o=e(24544),C=e(23352),S=e(3400),v=e(72760).selectMode,g=e(5048),r=e(43028),t=e(14328),a=e(26768).styleTextSelection,n={};function f(l,y,h,T){var c=l._size,i=l.width*T,d=l.height*T,x=c.l*T,w=c.b*T,_=c.r*T,m=c.t*T,E=c.w*T,A=c.h*T;return[x+y.domain[0]*E,w+h.domain[0]*A,i-_-(1-y.domain[1])*E,d-m-(1-h.domain[1])*A]}var u=V.exports=function(y,h,T){if(T.length){var c=y._fullLayout,i=h._scene,d=h.xaxis,x=h.yaxis,w,_;if(i){var m=g(y,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){i.init();return}var E=i.count,A=c._glcanvas.data()[0].regl;if(t(y,h,T),i.dirty){if((i.line2d||i.error2d)&&!(i.scatter2d||i.fill2d||i.glText)&&A.clear({}),i.error2d===!0&&(i.error2d=o(A)),i.line2d===!0&&(i.line2d=L(A)),i.scatter2d===!0&&(i.scatter2d=p(A)),i.fill2d===!0&&(i.fill2d=L(A)),i.glText===!0)for(i.glText=new Array(E),w=0;w<E;w++)i.glText[w]=new C(A);if(i.glText){if(E>i.glText.length){var s=E-i.glText.length;for(w=0;w<s;w++)i.glText.push(new C(A))}else if(E<i.glText.length){var M=i.glText.length-E,b=i.glText.splice(E,M);b.forEach(function(J){J.destroy()})}for(w=0;w<E;w++)i.glText[w].update(i.textOptions[w])}if(i.line2d&&(i.line2d.update(i.lineOptions),i.lineOptions=i.lineOptions.map(function(J){if(J&&J.positions){for(var K=J.positions,ce=0;ce<K.length&&(isNaN(K[ce])||isNaN(K[ce+1]));)ce+=2;for(var ae=K.length-2;ae>ce&&(isNaN(K[ae])||isNaN(K[ae+1]));)ae-=2;J.positions=K.slice(ce,ae+2)}return J}),i.line2d.update(i.lineOptions)),i.error2d){var N=(i.errorXOptions||[]).concat(i.errorYOptions||[]);i.error2d.update(N)}i.scatter2d&&i.scatter2d.update(i.markerOptions),i.fillOrder=S.repeat(null,E),i.fill2d&&(i.fillOptions=i.fillOptions.map(function(J,K){var ce=T[K];if(!(!J||!ce||!ce[0]||!ce[0].trace)){var ae=ce[0],de=ae.trace,be=ae.t,Se=i.lineOptions[K],Te,Ie,ke=[];de._ownfill&&ke.push(K),de._nexttrace&&ke.push(K+1),ke.length&&(i.fillOrder[K]=ke);var Be=[],Me=Se&&Se.positions||be.positions,Oe,_e;if(de.fill==="tozeroy"){for(Oe=0;Oe<Me.length&&isNaN(Me[Oe+1]);)Oe+=2;for(_e=Me.length-2;_e>Oe&&isNaN(Me[_e+1]);)_e-=2;Me[Oe+1]!==0&&(Be=[Me[Oe],0]),Be=Be.concat(Me.slice(Oe,_e+2)),Me[_e+1]!==0&&(Be=Be.concat([Me[_e],0]))}else if(de.fill==="tozerox"){for(Oe=0;Oe<Me.length&&isNaN(Me[Oe]);)Oe+=2;for(_e=Me.length-2;_e>Oe&&isNaN(Me[_e]);)_e-=2;Me[Oe]!==0&&(Be=[0,Me[Oe+1]]),Be=Be.concat(Me.slice(Oe,_e+2)),Me[_e]!==0&&(Be=Be.concat([0,Me[_e+1]]))}else if(de.fill==="toself"||de.fill==="tonext"){for(Be=[],Te=0,J.splitNull=!0,Ie=0;Ie<Me.length;Ie+=2)(isNaN(Me[Ie])||isNaN(Me[Ie+1]))&&(Be=Be.concat(Me.slice(Te,Ie)),Be.push(Me[Te],Me[Te+1]),Be.push(null,null),Te=Ie+2);Be=Be.concat(Me.slice(Te)),Te&&Be.push(Me[Te],Me[Te+1])}else{var Ne=de._nexttrace;if(Ne){var Ce=i.lineOptions[K+1];if(Ce){var Ye=Ce.positions;if(de.fill==="tonexty"){for(Be=Me.slice(),K=Math.floor(Ye.length/2);K--;){var rt=Ye[K*2],ot=Ye[K*2+1];isNaN(rt)||isNaN(ot)||Be.push(rt,ot)}J.fill=Ne.fillcolor}}}}if(de._prevtrace&&de._prevtrace.fill==="tonext"){var $e=i.lineOptions[K-1].positions,qe=Be.length/2;Te=qe;var ht=[Te];for(Ie=0;Ie<$e.length;Ie+=2)(isNaN($e[Ie])||isNaN($e[Ie+1]))&&(ht.push(Ie/2+qe+1),Te=Ie+2);Be=Be.concat($e),J.hole=ht}return J.fillmode=de.fill,J.opacity=de.opacity,J.positions=Be,J}}),i.fill2d.update(i.fillOptions))}var k=c.dragmode,H=v(k),F=c.clickmode.indexOf("select")>-1;for(w=0;w<E;w++){var B=T[w][0],U=B.trace,z=B.t,W=z.index,j=U._length,ee=z.x,ie=z.y;if(U.selectedpoints||H||F){if(H||(H=!0),U.selectedpoints){var oe=i.selectBatch[W]=S.selIndices2selPoints(U),he={};for(_=0;_<oe.length;_++)he[oe[_]]=1;var ne=[];for(_=0;_<j;_++)he[_]||ne.push(_);i.unselectBatch[W]=ne}var q=z.xpx=new Array(j),le=z.ypx=new Array(j);for(_=0;_<j;_++)q[_]=d.c2p(ee[_]),le[_]=x.c2p(ie[_])}else z.xpx=z.ypx=null}if(H){if(i.select2d||(i.select2d=p(c._glcanvas.data()[1].regl)),i.scatter2d){var Q=new Array(E);for(w=0;w<E;w++)Q[w]=i.selectBatch[w].length||i.unselectBatch[w].length?i.markerUnselectedOptions[w]:{};i.scatter2d.update(Q)}i.select2d&&(i.select2d.update(i.markerOptions),i.select2d.update(i.markerSelectedOptions)),i.glText&&T.forEach(function(J){var K=((J||[])[0]||{}).trace||{};r.hasText(K)&&a(J)})}else i.scatter2d&&i.scatter2d.update(i.markerOptions);var te={viewport:f(c,d,x,y._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(x._rl||x.range)[0],(d._rl||d.range)[1],(x._rl||x.range)[1]]},ue=S.repeat(te,i.count);i.fill2d&&i.fill2d.update(ue),i.line2d&&i.line2d.update(ue),i.error2d&&i.error2d.update(ue.concat(ue)),i.scatter2d&&i.scatter2d.update(ue),i.select2d&&i.select2d.update(ue),i.glText&&i.glText.forEach(function(J){J.update(te)})}}};u.reglPrecompiled=n},74588:function(V,Y,e){var p=e(3400);V.exports=function(o,C){var S=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(S=C._scene={},S.init=function(){p.extendFlat(S,g,v)},S.init(),S.update=function(t){var a=p.repeat(t,S.count);if(S.fill2d&&S.fill2d.update(a),S.scatter2d&&S.scatter2d.update(a),S.line2d&&S.line2d.update(a),S.error2d&&S.error2d.update(a.concat(a)),S.select2d&&S.select2d.update(a),S.glText)for(var n=0;n<S.count;n++)S.glText[n].update(t)},S.draw=function(){for(var t=S.count,a=S.fill2d,n=S.error2d,f=S.line2d,u=S.scatter2d,l=S.glText,y=S.select2d,h=S.selectBatch,T=S.unselectBatch,c=0;c<t;c++){if(a&&S.fillOrder[c]&&a.draw(S.fillOrder[c]),f&&S.lineOptions[c]&&f.draw(c),n&&(S.errorXOptions[c]&&n.draw(c),S.errorYOptions[c]&&n.draw(c+t)),u&&S.markerOptions[c])if(T[c].length){var i=p.repeat([],S.count);i[c]=T[c],u.draw(i)}else h[c].length||u.draw(c);l[c]&&S.textOptions[c]&&l[c].render()}y&&y.draw(h),S.dirty=!1},S.destroy=function(){S.fill2d&&S.fill2d.destroy&&S.fill2d.destroy(),S.scatter2d&&S.scatter2d.destroy&&S.scatter2d.destroy(),S.error2d&&S.error2d.destroy&&S.error2d.destroy(),S.line2d&&S.line2d.destroy&&S.line2d.destroy(),S.select2d&&S.select2d.destroy&&S.select2d.destroy(),S.glText&&S.glText.forEach(function(t){t.destroy&&t.destroy()}),S.lineOptions=null,S.fillOptions=null,S.markerOptions=null,S.markerSelectedOptions=null,S.markerUnselectedOptions=null,S.errorXOptions=null,S.errorYOptions=null,S.textOptions=null,S.textSelectedOptions=null,S.textUnselectedOptions=null,S.selectBatch=null,S.unselectBatch=null,C._scene=null}),S.dirty||p.extendFlat(S,v),S}},73224:function(V,Y,e){var p=e(43028),L=e(26768).styleTextSelection;V.exports=function(C,S){var v=C.cd,g=C.xaxis,r=C.yaxis,t=[],a=v[0].trace,n=v[0].t,f=a._length,u=n.x,l=n.y,y=n._scene,h=n.index;if(!y)return t;var T=p.hasText(a),c=p.hasMarkers(a),i=!c&&!T;if(a.visible!==!0||i)return t;var d=[],x=[];if(S!==!1&&!S.degenerate)for(var w=0;w<f;w++)S.contains([n.xpx[w],n.ypx[w]],!1,w,C)?(d.push(w),t.push({pointNumber:w,x:g.c2d(u[w]),y:r.c2d(l[w])})):x.push(w);if(c){var _=y.scatter2d;if(!d.length&&!x.length){var m=new Array(y.count);m[h]=y.markerOptions[h],_.update.apply(_,m)}else if(!y.selectBatch[h].length&&!y.unselectBatch[h].length){var E=new Array(y.count);E[h]=y.markerUnselectedOptions[h],_.update.apply(_,E)}}return y.selectBatch[h]=d,y.unselectBatch[h]=x,T&&L(v),t}},31512:function(V,Y,e){var p=e(21776).Ks,L=e(21776).Gw,o=e(98304),C=e(6096),S=e(52904),v=e(5232),g=e(45464),r=e(49084),t=e(92880).extendFlat,a=e(67824).overrideAll,n=e(5232),f=C.line,u=C.marker;V.exports=a({lon:C.lon,lat:C.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},u.opacity,{dflt:1})},mode:t({},S.mode,{dflt:"markers"}),text:t({},S.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},S.hovertext,{}),line:{color:f.color,width:f.width},connectgaps:S.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:u.opacity,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode},r("marker")),fill:C.fill,fillcolor:o(),textfont:v.layers.symbol.textfont,textposition:v.layers.symbol.textposition,below:{valType:"string"},selected:{marker:S.selected.marker},unselected:{marker:S.unselected.marker},hoverinfo:t({},g.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},79732:function(V){var Y=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extrabold Italic","Open Sans Extrabold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];V.exports={isSupportedFont:function(e){return Y.indexOf(e)!==-1}}},59392:function(V,Y,e){var p=e(38248),L=e(3400),o=e(39032).BADNUM,C=e(44808),S=e(8932),v=e(43616),g=e(7152),r=e(43028),t=e(79732).isSupportedFont,a=e(89032),n=e(10624).appendArrayPointValue,f=e(72736).NEWLINES,u=e(72736).BR_TAG_ALL;V.exports=function(_,m){var E=m[0].trace,A=E.visible===!0&&E._length!==0,s=E.fill!=="none",M=r.hasLines(E),b=r.hasMarkers(E),N=r.hasText(E),k=b&&E.marker.symbol==="circle",H=b&&E.marker.symbol!=="circle",F=E.cluster&&E.cluster.enabled,B=l("fill"),U=l("line"),z=l("circle"),W=l("symbol"),j={fill:B,line:U,circle:z,symbol:W};if(!A)return j;var ee;if((s||M)&&(ee=C.calcTraceToLineCoords(m)),s&&(B.geojson=C.makePolygon(ee),B.layout.visibility="visible",L.extendFlat(B.paint,{"fill-color":E.fillcolor})),M&&(U.geojson=C.makeLine(ee),U.layout.visibility="visible",L.extendFlat(U.paint,{"line-width":E.line.width,"line-color":E.line.color,"line-opacity":E.opacity})),k){var ie=y(m);z.geojson=ie.geojson,z.layout.visibility="visible",F&&(z.filter=["!",["has","point_count"]],j.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":d(E.cluster.color,E.cluster.step),"circle-radius":d(E.cluster.size,E.cluster.step),"circle-opacity":d(E.cluster.opacity,E.cluster.step)}},j.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":x(E),"text-size":12}}),L.extendFlat(z.paint,{"circle-color":ie.mcc,"circle-radius":ie.mrc,"circle-opacity":ie.mo})}if(k&&F&&(z.filter=["!",["has","point_count"]]),(H||N)&&(W.geojson=h(m,_),L.extendFlat(W.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),H&&(L.extendFlat(W.layout,{"icon-size":E.marker.size/10}),"angle"in E.marker&&E.marker.angle!=="auto"&&L.extendFlat(W.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),W.layout["icon-allow-overlap"]=E.marker.allowoverlap,L.extendFlat(W.paint,{"icon-opacity":E.opacity*E.marker.opacity,"icon-color":E.marker.color})),N)){var oe=(E.marker||{}).size,he=a(E.textposition,oe);L.extendFlat(W.layout,{"text-size":E.textfont.size,"text-anchor":he.anchor,"text-offset":he.offset,"text-font":x(E)}),L.extendFlat(W.paint,{"text-color":E.textfont.color,"text-opacity":E.opacity})}return j};function l(w){return{type:w,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function y(w){var _=w[0].trace,m=_.marker,E=_.selectedpoints,A=L.isArrayOrTypedArray(m.color),s=L.isArrayOrTypedArray(m.size),M=L.isArrayOrTypedArray(m.opacity),b;function N(oe){return _.opacity*oe}function k(oe){return oe/2}var H;A&&(S.hasColorscale(_,"marker")?H=S.makeColorScaleFuncFromTrace(m):H=L.identity);var F;s&&(F=g(_));var B;M&&(B=function(oe){var he=p(oe)?+L.constrain(oe,0,1):0;return N(he)});var U=[];for(b=0;b<w.length;b++){var z=w[b],W=z.lonlat;if(!i(W)){var j={};H&&(j.mcc=z.mcc=H(z.mc)),F&&(j.mrc=z.mrc=F(z.ms)),B&&(j.mo=B(z.mo)),E&&(j.selected=z.selected||0),U.push({type:"Feature",id:b+1,geometry:{type:"Point",coordinates:W},properties:j})}}var ee;if(E)for(ee=v.makeSelectedPointStyleFns(_),b=0;b<U.length;b++){var ie=U[b].properties;ee.selectedOpacityFn&&(ie.mo=N(ee.selectedOpacityFn(ie))),ee.selectedColorFn&&(ie.mcc=ee.selectedColorFn(ie)),ee.selectedSizeFn&&(ie.mrc=ee.selectedSizeFn(ie))}return{geojson:{type:"FeatureCollection",features:U},mcc:A||ee&&ee.selectedColorFn?{type:"identity",property:"mcc"}:m.color,mrc:s||ee&&ee.selectedSizeFn?{type:"identity",property:"mrc"}:k(m.size),mo:M||ee&&ee.selectedOpacityFn?{type:"identity",property:"mo"}:N(m.opacity)}}function h(w,_){for(var m=_._fullLayout,E=w[0].trace,A=E.marker||{},s=A.symbol,M=A.angle,b=s!=="circle"?T(s):c,N=M!=="auto"?T(M,!0):c,k=r.hasText(E)?T(E.text):c,H=[],F=0;F<w.length;F++){var B=w[F];if(!i(B.lonlat)){var U=E.texttemplate,z;if(U){var W=Array.isArray(U)?U[F]||"":U,j=E._module.formatLabels(B,E,m),ee={};n(ee,E,B.i);var ie=E._meta||{};z=L.texttemplateString(W,j,m._d3locale,ee,B,ie)}else z=k(F);z&&(z=z.replace(f,"").replace(u,`
`)),H.push({type:"Feature",geometry:{type:"Point",coordinates:B.lonlat},properties:{symbol:b(F),angle:N(F),text:z}})}}return{type:"FeatureCollection",features:H}}function T(w,_){return L.isArrayOrTypedArray(w)?_?function(m){return p(w[m])?+w[m]:0}:function(m){return w[m]}:w?function(){return w}:c}function c(){return""}function i(w){return w[0]===o}function d(w,_){var m;if(L.isArrayOrTypedArray(w)&&L.isArrayOrTypedArray(_)){m=["step",["get","point_count"],w[0]];for(var E=1;E<w.length;E++)m.push(_[E-1],w[E])}else m=w;return m}function x(w){var _=w.textfont,m=_.family,E=_.style,A=_.weight,s=m.split(" "),M=s[s.length-1]==="Italic";M&&s.pop(),M=M||E==="italic";var b=s.join(" ");A==="bold"&&s.indexOf("Bold")===-1?b+=" Bold":A<=1e3&&(s[0]==="Metropolis"?(b="Metropolis",A>850?b+=" Black":A>750?b+=" Extra Bold":A>650?b+=" Bold":A>550?b+=" Semi Bold":A>450?b+=" Medium":A>350?b+=" Regular":A>250?b+=" Light":A>150?b+=" Extra Light":b+=" Thin"):s.slice(0,2).join(" ")==="Open Sans"?(b="Open Sans",A>750?b+=" Extrabold":A>650?b+=" Bold":A>550?b+=" Semibold":A>350?b+=" Regular":b+=" Light"):s.slice(0,3).join(" ")==="Klokantech Noto Sans"&&(b="Klokantech Noto Sans",s[3]==="CJK"&&(b+=" CJK"),b+=A>500?" Bold":" Regular")),M&&(b+=" Italic"),b==="Open Sans Regular Italic"?b="Open Sans Italic":b==="Open Sans Regular Bold"?b="Open Sans Bold":b==="Open Sans Regular Bold Italic"?b="Open Sans Bold Italic":b==="Klokantech Noto Sans Regular Italic"&&(b="Klokantech Noto Sans Italic"),t(b)||(b=m);var N=b.split(", ");return N}},15752:function(V,Y,e){var p=e(3400),L=e(43028),o=e(74428),C=e(66828),S=e(124),v=e(70840),g=e(31512),r=e(79732).isSupportedFont;V.exports=function(n,f,u,l){function y(s,M){return p.coerce(n,f,g,s,M)}function h(s,M){return p.coerce2(n,f,g,s,M)}var T=t(n,f,y);if(!T){f.visible=!1;return}if(y("text"),y("texttemplate"),y("hovertext"),y("hovertemplate"),y("mode"),y("below"),L.hasMarkers(f)){o(n,f,u,l,y,{noLine:!0,noAngle:!0}),y("marker.allowoverlap"),y("marker.angle");var c=f.marker;c.symbol!=="circle"&&(p.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),p.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}L.hasLines(f)&&(C(n,f,u,l,y,{noDash:!0}),y("connectgaps"));var i=h("cluster.maxzoom"),d=h("cluster.step"),x=h("cluster.color",f.marker&&f.marker.color||u),w=h("cluster.size"),_=h("cluster.opacity"),m=i!==!1||d!==!1||x!==!1||w!==!1||_!==!1,E=y("cluster.enabled",m);if(E||L.hasText(f)){var A=l.font.family;S(n,f,l,y,{noSelect:!0,noFontVariant:!0,noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0,font:{family:r(A)?A:"Open Sans Regular",weight:l.font.weight,style:l.font.style,size:l.font.size,color:l.font.color}})}y("fill"),f.fill!=="none"&&v(n,f,u,y),p.coerceSelectionMarkerOpacity(f,y)};function t(a,n,f){var u=f("lon")||[],l=f("lat")||[],y=Math.min(u.length,l.length);return n._length=y,y}},37920:function(V){V.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e}},11960:function(V,Y,e){var p=e(54460);V.exports=function(o,C,S){var v={},g=S[C.subplot]._subplot,r=g.mockAxis,t=o.lonlat;return v.lonLabel=p.tickText(r,r.c2l(t[0]),!0).text,v.latLabel=p.tickText(r,r.c2l(t[1]),!0).text,v}},63312:function(V,Y,e){var p=e(93024),L=e(3400),o=e(44928),C=L.fillText,S=e(39032).BADNUM,v=e(47552).traceLayerPrefix;function g(t,a,n){var f=t.cd,u=f[0].trace,l=t.xa,y=t.ya,h=t.subplot,T=[],c=v+u.uid+"-circle",i=u.cluster&&u.cluster.enabled;if(i){var d=h.map.queryRenderedFeatures(null,{layers:[c]});T=d.map(function(F){return F.id})}var x=a>=0?Math.floor((a+180)/360):Math.ceil((a-180)/360),w=x*360,_=a-w;function m(F){var B=F.lonlat;if(B[0]===S||i&&T.indexOf(F.i+1)===-1)return 1/0;var U=L.modHalf(B[0],360),z=B[1],W=h.project([U,z]),j=W.x-l.c2p([_,z]),ee=W.y-y.c2p([U,n]),ie=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(j*j+ee*ee)-ie,1-3/ie)}if(p.getClosest(f,m,t),t.index!==!1){var E=f[t.index],A=E.lonlat,s=[L.modHalf(A[0],360)+w,A[1]],M=l.c2p(s),b=y.c2p(s),N=E.mrc||1;t.x0=M-N,t.x1=M+N,t.y0=b-N,t.y1=b+N;var k={};k[u.subplot]={_subplot:h};var H=u._module.formatLabels(E,u,k);return t.lonLabel=H.lonLabel,t.latLabel=H.latLabel,t.color=o(u,E),t.extraText=r(u,E,f[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,a,n){if(t.hovertemplate)return;var f=a.hi||t.hoverinfo,u=f.split("+"),l=u.indexOf("all")!==-1,y=u.indexOf("lon")!==-1,h=u.indexOf("lat")!==-1,T=a.lonlat,c=[];function i(d){return d+"°"}return l||y&&h?c.push("("+i(T[1])+", "+i(T[0])+")"):y?c.push(n.lon+i(T[0])):h&&c.push(n.lat+i(T[1])),(l||u.indexOf("text")!==-1)&&C(a,t,c),c.join("<br>")}V.exports={hoverPoints:g,getExtraText:r}},11572:function(V,Y,e){V.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(p,L){if(L){var o=L[0].trace;o._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(V,Y,e){var p=e(3400),L=e(59392),o=e(47552).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function S(g,r,t,a){this.type="scattermapbox",this.subplot=g,this.uid=r,this.clusterEnabled=t,this.isHidden=a,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:o+r+"-fill",line:o+r+"-line",circle:o+r+"-circle",symbol:o+r+"-symbol",cluster:o+r+"-cluster",clusterCount:o+r+"-cluster-count"},this.below=null}var v=S.prototype;v.addSource=function(g,r,t){var a={type:"geojson",data:r.geojson};t&&t.enabled&&p.extendFlat(a,{cluster:!0,clusterMaxZoom:t.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[g]);n?n.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[g],a)},v.setSourceData=function(g,r){this.subplot.map.getSource(this.sourceIds[g]).setData(r.geojson)},v.addLayer=function(g,r,t){var a={type:r.type,id:this.layerIds[g],source:this.sourceIds[g],layout:r.layout,paint:r.paint};r.filter&&(a.filter=r.filter);for(var n=this.layerIds[g],f,u=this.subplot.getMapLayers(),l=0;l<u.length;l++)if(u[l].id===n){f=!0;break}f?(this.subplot.setOptions(n,"setLayoutProperty",a.layout),a.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",a.paint)):this.subplot.addLayer(a,t)},v.update=function(r){var t=r[0].trace,a=this.subplot,n=a.map,f=L(a.gd,r),u=a.belowLookup["trace-"+this.uid],l=!!(t.cluster&&t.cluster.enabled),y=!!this.clusterEnabled,h=this;function T(A){A||h.addSource("circle",f.circle,t.cluster);for(var s=C.cluster,M=0;M<s.length;M++){var b=s[M],N=f[b];h.addLayer(b,N,u)}}function c(A){for(var s=C.cluster,M=s.length-1;M>=0;M--){var b=s[M];n.removeLayer(h.layerIds[b])}A||n.removeSource(h.sourceIds.circle)}function i(A){for(var s=C.nonCluster,M=0;M<s.length;M++){var b=s[M],N=f[b];A||h.addSource(b,N),h.addLayer(b,N,u)}}function d(A){for(var s=C.nonCluster,M=s.length-1;M>=0;M--){var b=s[M];n.removeLayer(h.layerIds[b]),A||n.removeSource(h.sourceIds[b])}}function x(A){y?c(A):d(A)}function w(A){l?T(A):i(A)}function _(){for(var A=l?C.cluster:C.nonCluster,s=0;s<A.length;s++){var M=A[s],b=f[M];b&&(a.setOptions(h.layerIds[M],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(M!=="cluster"&&h.setSourceData(M,b),a.setOptions(h.layerIds[M],"setPaintProperty",b.paint)))}}var m=this.isHidden,E=t.visible!==!0;E?m||x():m?E||w():y!==l?(x(),w()):(this.below!==u&&(x(!0),w(!0)),_()),this.clusterEnabled=l,this.isHidden=E,this.below=u,r[0].trace._glTrace=this},v.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?C.cluster:C.nonCluster,a=t.length-1;a>=0;a--){var n=t[a];r.removeLayer(this.layerIds[n]),r.removeSource(this.sourceIds[n])}},V.exports=function(r,t){var a=t[0].trace,n=a.cluster&&a.cluster.enabled,f=a.visible!==!0,u=new S(r,a.uid,n,f),l=L(r.gd,t),y=u.below=r.belowLookup["trace-"+a.uid],h,T,c;if(n)for(u.addSource("circle",l.circle,a.cluster),h=0;h<C.cluster.length;h++)T=C.cluster[h],c=l[T],u.addLayer(T,c,y);else for(h=0;h<C.nonCluster.length;h++)T=C.nonCluster[h],c=l[T],u.addSource(T,c,a.cluster),u.addLayer(T,c,y);return t[0].trace._glTrace=u,u}},404:function(V,Y,e){var p=e(3400),L=e(43028),o=e(39032).BADNUM;V.exports=function(S,v){var g=S.cd,r=S.xaxis,t=S.yaxis,a=[],n=g[0].trace,f;if(!L.hasMarkers(n))return[];if(v===!1)for(f=0;f<g.length;f++)g[f].selected=0;else for(f=0;f<g.length;f++){var u=g[f],l=u.lonlat;if(l[0]!==o){var y=[p.modHalf(l[0],360),l[1]],h=[r.c2p(y),t.c2p(y)];v.contains(h,null,f,S)?(a.push({pointNumber:f,lon:l[0],lat:l[1]}),u.selected=1):u.selected=0}}return a}},8319:function(V,Y,e){var p=e(21776).Ks,L=e(21776).Gw,o=e(92880).extendFlat,C=e(98304),S=e(52904),v=e(45464),g=S.line;V.exports={mode:S.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:S.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:o({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:o({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:o({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:o({},v.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:S.hoveron,hovertemplate:p(),selected:S.selected,unselected:S.unselected}},58320:function(V,Y,e){var p=e(38248),L=e(39032).BADNUM,o=e(54460),C=e(90136),S=e(20148),v=e(4500),g=e(16356).calcMarkerSize;V.exports=function(t,a){for(var n=t._fullLayout,f=a.subplot,u=n[f].radialaxis,l=n[f].angularaxis,y=u.makeCalcdata(a,"r"),h=l.makeCalcdata(a,"theta"),T=a._length,c=new Array(T),i=0;i<T;i++){var d=y[i],x=h[i],w=c[i]={};p(d)&&p(x)?(w.r=d,w.theta=x):w.r=L}var _=g(a,T);return a._extremes.x=o.findExtremes(u,y,{ppad:_}),C(t,a),S(c,a),v(c,a),c}},85968:function(V,Y,e){var p=e(3400),L=e(43028),o=e(74428),C=e(66828),S=e(11731),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(8319);function a(f,u,l,y){function h(i,d){return p.coerce(f,u,t,i,d)}var T=n(f,u,y,h);if(!T){u.visible=!1;return}h("thetaunit"),h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(u)&&o(f,u,l,y,h,{gradient:!0}),L.hasLines(u)&&(C(f,u,l,y,h,{backoff:!0}),S(f,u,h),h("connectgaps")),L.hasText(u)&&(h("texttemplate"),v(f,u,y,h));var c=[];(L.hasMarkers(u)||L.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(g(f,u,l,h),L.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),p.coerceSelectionMarkerOpacity(u,h)}function n(f,u,l,y){var h=y("r"),T=y("theta");p.isTypedArray(h)&&(u.r=h=Array.from(h)),p.isTypedArray(T)&&(u.theta=T=Array.from(T));var c;if(h)T?c=Math.min(h.length,T.length):(c=h.length,y("theta0"),y("dtheta"));else{if(!T)return 0;c=u.theta.length,y("r0"),y("dr")}return u._length=c,c}V.exports={handleRThetaDefaults:n,supplyDefaults:a}},22852:function(V,Y,e){var p=e(3400),L=e(54460);V.exports=function(C,S,v){var g={},r=v[S.subplot]._subplot,t,a;r?(t=r.radialAxis,a=r.angularAxis):(r=v[S.subplot],t=r.radialaxis,a=r.angularaxis);var n=t.c2l(C.r);g.rLabel=L.tickText(t,n,!0).text;var f=a.thetaunit==="degrees"?p.rad2deg(C.theta):C.theta;return g.thetaLabel=L.tickText(a,f,!0).text,g}},8504:function(V,Y,e){var p=e(98723);function L(C,S,v,g){var r=p(C,S,v,g);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=C.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,o(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function o(C,S,v,g){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="r",t._hovertitle="θ";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(C,S,a);g.rLabel=n.rLabel,g.thetaLabel=n.thetaLabel;var f=C.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var y=f.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&l(r,g.rLabel),y.indexOf("theta")!==-1&&l(t,g.thetaLabel),y.indexOf("text")!==-1&&g.text&&(u.push(g.text),delete g.text),g.extraText=u.join("<br>")}}V.exports={hoverPoints:L,makeHoverPointText:o}},76924:function(V,Y,e){V.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(V,Y,e){var p=e(96504),L=e(39032).BADNUM;V.exports=function(C,S,v){for(var g=S.layers.frontplot.select("g.scatterlayer"),r=S.xaxis,t=S.yaxis,a={xaxis:r,yaxis:t,plot:S.framework,layerClipId:S._hasClipOnAxisFalse?S.clipIds.forTraces:null},n=S.radialAxis,f=S.angularAxis,u=0;u<v.length;u++)for(var l=v[u],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=r,l[0].trace._yA=t);var h=l[y],T=h.r;if(T===L)h.x=h.y=L;else{var c=n.c2g(T),i=f.c2g(h.theta);h.x=c*Math.cos(i),h.y=c*Math.sin(i)}}p(C,a,v,g)}},24396:function(V,Y,e){var p=e(8319),L=e(2876),o=e(21776).Gw;V.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:o({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:{color:L.line.color,width:L.line.width,dash:L.line.dash,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},27160:function(V,Y,e){V.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(V,Y,e){var p=e(90136),L=e(16356).calcMarkerSize,o=e(84236),C=e(54460),S=e(67072).TOO_MANY_POINTS;V.exports=function(g,r){var t=g._fullLayout,a=r.subplot,n=t[a].radialaxis,f=t[a].angularaxis,u=r._r=n.makeCalcdata(r,"r"),l=r._theta=f.makeCalcdata(r,"theta"),y=r._length,h={};y<u.length&&(u=u.slice(0,y)),y<l.length&&(l=l.slice(0,y)),h.r=u,h.theta=l,p(g,r);var T=h.opts=o.style(g,r),c;return y<S?c=L(r,y):T.marker&&(c=2*(T.marker.sizeAvg||Math.max(T.marker.size,3))),r._extremes.x=C.findExtremes(n,u,{ppad:c}),[{x:!1,y:!1,t:h,trace:r}]}},98608:function(V,Y,e){var p=e(3400),L=e(43028),o=e(85968).handleRThetaDefaults,C=e(74428),S=e(66828),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(24396);V.exports=function(n,f,u,l){function y(T,c){return p.coerce(n,f,t,T,c)}var h=o(n,f,l,y);if(!h){f.visible=!1;return}y("thetaunit"),y("mode",h<r?"lines+markers":"lines"),y("text"),y("hovertext"),f.hoveron!=="fills"&&y("hovertemplate"),L.hasMarkers(f)&&C(n,f,u,l,y,{noAngleRef:!0,noStandOff:!0}),L.hasLines(f)&&(S(n,f,u,l,y),y("connectgaps")),L.hasText(f)&&(y("texttemplate"),v(n,f,l,y,{noFontShadow:!0,noFontLineposition:!0,noFontTextcase:!0})),y("fill"),f.fill!=="none"&&g(n,f,u,y),p.coerceSelectionMarkerOpacity(f,y)}},94120:function(V,Y,e){var p=e(22852);V.exports=function(o,C,S){var v=o.i;return"r"in o||(o.r=C._r[v]),"theta"in o||(o.theta=C._theta[v]),p(o,C,S)}},1600:function(V,Y,e){var p=e(41272),L=e(8504).makeHoverPointText;function o(C,S,v,g){var r=C.cd,t=r[0].t,a=t.r,n=t.theta,f=p.hoverPoints(C,S,v,g);if(!(!f||f[0].index===!1)){var u=f[0];if(u.index===void 0)return f;var l=C.subplot,y=u.cd[u.index],h=u.trace;if(y.r=a[u.index],y.theta=n[u.index],!!l.isPtInside(y))return u.xLabelVal=void 0,u.yLabelVal=void 0,L(y,h,l,u),f}}V.exports={hoverPoints:o}},62944:function(V,Y,e){var p=e(27160);p.plot=e(56512),V.exports=p},56512:function(V,Y,e){var p=e(3108),L=e(38248),o=e(89876),C=e(74588),S=e(84236),v=e(3400),g=e(67072).TOO_MANY_POINTS,r={};V.exports=function(a,n,f){if(f.length){var u=n.radialAxis,l=n.angularAxis,y=C(a,n);return f.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var T=h[0],c=T.trace,i=T.t,d=c._length,x=i.r,w=i.theta,_=i.opts,m,E=x.slice(),A=w.slice();for(m=0;m<x.length;m++)n.isPtInside({r:x[m],theta:w[m]})||(E[m]=NaN,A[m]=NaN);var s=new Array(d*2),M=Array(d),b=Array(d);for(m=0;m<d;m++){var N=E[m],k,H;if(L(N)){var F=u.c2g(N),B=l.c2g(A[m],c.thetaunit);k=F*Math.cos(B),H=F*Math.sin(B)}else k=H=NaN;M[m]=s[m*2]=k,b[m]=s[m*2+1]=H}i.tree=p(s),_.marker&&d>=g&&(_.marker.cluster=i.tree),_.marker&&(_.markerSel.positions=_.markerUnsel.positions=_.marker.positions=s),_.line&&s.length>1&&v.extendFlat(_.line,S.linePositions(a,c,s)),_.text&&(v.extendFlat(_.text,{positions:s},S.textPosition(a,c,_.text,_.marker)),v.extendFlat(_.textSel,{positions:s},S.textPosition(a,c,_.text,_.markerSel)),v.extendFlat(_.textUnsel,{positions:s},S.textPosition(a,c,_.text,_.markerUnsel))),_.fill&&!y.fill2d&&(y.fill2d=!0),_.marker&&!y.scatter2d&&(y.scatter2d=!0),_.line&&!y.line2d&&(y.line2d=!0),_.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(_.line),y.fillOptions.push(_.fill),y.markerOptions.push(_.marker),y.markerSelectedOptions.push(_.markerSel),y.markerUnselectedOptions.push(_.markerUnsel),y.textOptions.push(_.text),y.textSelectedOptions.push(_.textSel),y.textUnselectedOptions.push(_.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),i.x=M,i.y=b,i.rawx=M,i.rawy=b,i.r=x,i.theta=w,i.positions=s,i._scene=y,i.index=y.count,y.count++}}),o(a,n,f)}},V.exports.reglPrecompiled=r},69496:function(V,Y,e){var p=e(21776).Ks,L=e(21776).Gw,o=e(92880).extendFlat,C=e(98304),S=e(52904),v=e(45464),g=S.line;V.exports={mode:S.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:S.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:S.hovertext,line:{color:g.color,width:g.width,dash:g.dash,backoff:g.backoff,shape:o({},g.shape,{values:["linear","spline"]}),smoothing:g.smoothing,editType:"calc"},connectgaps:S.connectgaps,marker:S.marker,cliponaxis:o({},S.cliponaxis,{dflt:!1}),textposition:S.textposition,textfont:S.textfont,fill:o({},S.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C(),hoverinfo:o({},v.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:S.hoveron,hovertemplate:p(),selected:S.selected,unselected:S.unselected}},47507:function(V,Y,e){var p=e(38248),L=e(39032).BADNUM,o=e(90136),C=e(20148),S=e(4500),v=e(16356).calcMarkerSize;V.exports=function(r,t){for(var a=r._fullLayout,n=t.subplot,f=a[n].realaxis,u=a[n].imaginaryaxis,l=f.makeCalcdata(t,"real"),y=u.makeCalcdata(t,"imag"),h=t._length,T=new Array(h),c=0;c<h;c++){var i=l[c],d=y[c],x=T[c]={};p(i)&&p(d)?(x.real=i,x.imag=d):x.real=L}return v(t,h),o(r,t),C(T,t),S(T,t),T}},76716:function(V,Y,e){var p=e(3400),L=e(43028),o=e(74428),C=e(66828),S=e(11731),v=e(124),g=e(70840),r=e(88200).PTS_LINESONLY,t=e(69496);V.exports=function(f,u,l,y){function h(i,d){return p.coerce(f,u,t,i,d)}var T=a(f,u,y,h);if(!T){u.visible=!1;return}h("mode",T<r?"lines+markers":"lines"),h("text"),h("hovertext"),u.hoveron!=="fills"&&h("hovertemplate"),L.hasMarkers(u)&&o(f,u,l,y,h,{gradient:!0}),L.hasLines(u)&&(C(f,u,l,y,h,{backoff:!0}),S(f,u,h),h("connectgaps")),L.hasText(u)&&(h("texttemplate"),v(f,u,y,h));var c=[];(L.hasMarkers(u)||L.hasText(u))&&(h("cliponaxis"),h("marker.maxdisplayed"),c.push("points")),h("fill"),u.fill!=="none"&&(g(f,u,l,h),L.hasLines(u)||S(f,u,h)),(u.fill==="tonext"||u.fill==="toself")&&c.push("fills"),h("hoveron",c.join("+")||"points"),p.coerceSelectionMarkerOpacity(u,h)};function a(n,f,u,l){var y=l("real"),h=l("imag"),T;return y&&h&&(T=Math.min(y.length,h.length)),p.isTypedArray(y)&&(f.real=y=Array.from(y)),p.isTypedArray(h)&&(f.imag=h=Array.from(h)),f._length=T,T}},49504:function(V,Y,e){var p=e(54460);V.exports=function(o,C,S){var v={},g=S[C.subplot]._subplot;return v.realLabel=p.tickText(g.radialAxis,o.real,!0).text,v.imagLabel=p.tickText(g.angularAxis,o.imag,!0).text,v}},25292:function(V,Y,e){var p=e(98723);function L(C,S,v,g){var r=p(C,S,v,g);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var a=C.subplot,n=t.cd[t.index],f=t.trace;if(a.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,o(n,f,a,t),t.hovertemplate=f.hovertemplate,r}}function o(C,S,v,g){var r=v.radialAxis,t=v.angularAxis;r._hovertitle="real",t._hovertitle="imag";var a={};a[S.subplot]={_subplot:v};var n=S._module.formatLabels(C,S,a);g.realLabel=n.realLabel,g.imagLabel=n.imagLabel;var f=C.hi||S.hoverinfo,u=[];function l(h,T){u.push(h._hovertitle+": "+T)}if(!S.hovertemplate){var y=f.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&l(r,g.realLabel),y.indexOf("imag")!==-1&&l(t,g.imagLabel),y.indexOf("text")!==-1&&g.text&&(u.push(g.text),delete g.text),g.extraText=u.join("<br>")}}V.exports={hoverPoints:L,makeHoverPointText:o}},95443:function(V,Y,e){V.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(V,Y,e){var p=e(96504),L=e(39032).BADNUM,o=e(36416),C=o.smith;V.exports=function(v,g,r){for(var t=g.layers.frontplot.select("g.scatterlayer"),a=g.xaxis,n=g.yaxis,f={xaxis:a,yaxis:n,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},u=0;u<r.length;u++)for(var l=r[u],y=0;y<l.length;y++){y===0&&(l[0].trace._xA=a,l[0].trace._yA=n);var h=l[y],T=h.real;if(T===L)h.x=h.y=L;else{var c=C([T,h.imag]);h.x=c[0],h.y=c[1]}}p(v,f,r,t)}},5896:function(V,Y,e){var p=e(21776).Ks,L=e(21776).Gw,o=e(98304),C=e(52904),S=e(45464),v=e(49084),g=e(98192).u,r=e(92880).extendFlat,t=C.marker,a=C.line,n=t.line;V.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:r({},C.hovertext,{}),line:{color:a.color,width:a.width,dash:g,backoff:a.backoff,shape:r({},a.shape,{values:["linear","spline"]}),smoothing:a.smoothing,editType:"calc"},connectgaps:C.connectgaps,cliponaxis:C.cliponaxis,fill:r({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:o(),marker:r({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:r({width:n.width,editType:"calc"},v("marker.line")),gradient:t.gradient,editType:"calc"},v("marker")),textfont:C.textfont,textposition:C.textposition,selected:C.selected,unselected:C.unselected,hoverinfo:r({},S.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:C.hoveron,hovertemplate:p()}},34335:function(V,Y,e){var p=e(38248),L=e(90136),o=e(20148),C=e(4500),S=e(16356).calcMarkerSize,v=["a","b","c"],g={a:["b","c"],b:["a","c"],c:["a","b"]};V.exports=function(t,a){var n=t._fullLayout[a.subplot],f=n.sum,u=a.sum||f,l={a:a.a,b:a.b,c:a.c},y,h,T,c,i,d;for(y=0;y<v.length;y++)if(T=v[y],!l[T]){for(i=l[g[T][0]],d=l[g[T][1]],c=new Array(i.length),h=0;h<i.length;h++)c[h]=u-i[h]-d[h];l[T]=c}var x=a._length,w=new Array(x),_,m,E,A,s,M;for(y=0;y<x;y++)_=l.a[y],m=l.b[y],E=l.c[y],p(_)&&p(m)&&p(E)?(_=+_,m=+m,E=+E,A=f/(_+m+E),A!==1&&(_*=A,m*=A,E*=A),M=_,s=E-m,w[y]={x:s,y:M,a:_,b:m,c:E}):w[y]={x:!1,y:!1};return S(a,x),L(t,a),o(w,a),C(w,a),w}},84256:function(V,Y,e){var p=e(3400),L=e(88200),o=e(43028),C=e(74428),S=e(66828),v=e(11731),g=e(124),r=e(70840),t=e(5896);V.exports=function(n,f,u,l){function y(w,_){return p.coerce(n,f,t,w,_)}var h=y("a"),T=y("b"),c=y("c"),i;if(h?(i=h.length,T?(i=Math.min(i,T.length),c&&(i=Math.min(i,c.length))):c?i=Math.min(i,c.length):i=0):T&&c&&(i=Math.min(T.length,c.length)),!i){f.visible=!1;return}f._length=i,y("sum"),y("text"),y("hovertext"),f.hoveron!=="fills"&&y("hovertemplate");var d=i<L.PTS_LINESONLY?"lines+markers":"lines";y("mode",d),o.hasMarkers(f)&&C(n,f,u,l,y,{gradient:!0}),o.hasLines(f)&&(S(n,f,u,l,y,{backoff:!0}),v(n,f,y),y("connectgaps")),o.hasText(f)&&(y("texttemplate"),g(n,f,l,y));var x=[];(o.hasMarkers(f)||o.hasText(f))&&(y("cliponaxis"),y("marker.maxdisplayed"),x.push("points")),y("fill"),f.fill!=="none"&&(r(n,f,u,y),o.hasLines(f)||v(n,f,y)),(f.fill==="tonext"||f.fill==="toself")&&x.push("fills"),y("hoveron",x.join("+")||"points"),p.coerceSelectionMarkerOpacity(f,y)}},97476:function(V){V.exports=function(e,p,L,o,C){if(p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),o[C]){var S=o[C];e.a=S.a,e.b=S.b,e.c=S.c}else e.a=p.a,e.b=p.b,e.c=p.c;return e}},90404:function(V,Y,e){var p=e(54460);V.exports=function(o,C,S){var v={},g=S[C.subplot]._subplot;return v.aLabel=p.tickText(g.aaxis,o.a,!0).text,v.bLabel=p.tickText(g.baxis,o.b,!0).text,v.cLabel=p.tickText(g.caxis,o.c,!0).text,v}},26596:function(V,Y,e){var p=e(98723);V.exports=function(o,C,S,v){var g=p(o,C,S,v);if(!g||g[0].index===!1)return;var r=g[0];if(r.index===void 0){var t=1-r.y0/o.ya._length,a=o.xa._length,n=a*t/2,f=a-n;return r.x0=Math.max(Math.min(r.x0,f),n),r.x1=Math.max(Math.min(r.x1,f),n),g}var u=r.cd[r.index],l=r.trace,y=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var h={};h[l.subplot]={_subplot:y};var T=l._module.formatLabels(u,l,h);r.aLabel=T.aLabel,r.bLabel=T.bLabel,r.cLabel=T.cLabel;var c=u.hi||l.hoverinfo,i=[];function d(w,_){i.push(w._hovertitle+": "+_)}if(!l.hovertemplate){var x=c.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&d(y.aaxis,r.aLabel),x.indexOf("b")!==-1&&d(y.baxis,r.bLabel),x.indexOf("c")!==-1&&d(y.caxis,r.cLabel)}return r.extraText=i.join("<br>"),r.hovertemplate=l.hovertemplate,g}},34864:function(V,Y,e){V.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(V,Y,e){var p=e(96504);V.exports=function(o,C,S){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var g=C.xaxis,r=C.yaxis,t={xaxis:g,yaxis:r,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},a=C.layers.frontplot.select("g.scatterlayer"),n=0;n<S.length;n++){var f=S[n];f.length&&(f[0].trace._xA=g,f[0].trace._yA=r)}p(o,t,S,a)}},44524:function(V,Y,e){var p=e(52904),L=e(49084),o=e(29736).axisHoverFormat,C=e(21776).Ks,S=e(2876),v=e(33816).idRegex,g=e(31780).templatedArray,r=e(92880).extendFlat,t=p.marker,a=t.line,n=r(L("marker.line",{editTypeOverride:"calc"}),{width:r({},a.width,{editType:"calc"}),editType:"calc"}),f=r(L("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:n,editType:"calc"});f.color.editType=f.cmin.editType=f.cmax.editType="style";function u(l){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[l],editType:"plot"}}}V.exports={dimensions:g("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},S.text,{}),hovertext:r({},S.hovertext,{}),hovertemplate:C(),xhoverformat:o("x"),yhoverformat:o("y"),marker:f,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:S.selected.marker,editType:"calc"},unselected:{marker:S.unselected.marker,editType:"calc"},opacity:S.opacity}},28888:function(V,Y,e){var p=e(24040),L=e(12704);V.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},p.register(L)},99332:function(V,Y,e){var p=e(13472),L=e(24040),o=e(5048),C=e(84888)._M,S=e(57952),v=e(79811).getFromId,g=e(54460).shouldShowZeroLine,r="splom",t={};function a(h){var T=h._fullLayout,c=L.getModule(r),i=C(h.calcdata,c)[0],d=o(h,["ANGLE_instanced_arrays","OES_element_index_uint"],t);d&&(T._hasOnlyLargeSploms&&u(h),c.plot(h,{},i))}function n(h){var T=h.calcdata,c=h._fullLayout;c._hasOnlyLargeSploms&&u(h);for(var i=0;i<T.length;i++){var d=T[i][0],x=d.trace,w=c._splomScenes[x.uid];x.type==="splom"&&w&&w.matrix&&f(h,x,w)}}function f(h,T,c){for(var i=c.matrixOptions.data.length,d=T._visibleDims,x=c.viewOpts.ranges=new Array(i),w=0;w<d.length;w++){var _=d[w],m=x[w]=new Array(4),E=v(h,T._diag[_][0]);E&&(m[0]=E.r2l(E.range[0]),m[2]=E.r2l(E.range[1]));var A=v(h,T._diag[_][1]);A&&(m[1]=A.r2l(A.range[0]),m[3]=A.r2l(A.range[1]))}c.selectBatch.length||c.unselectBatch.length?c.matrix.update({ranges:x},{ranges:x}):c.matrix.update({ranges:x})}function u(h){var T=h._fullLayout,c=T._glcanvas.data()[0].regl,i=T._splomGrid;i||(i=T._splomGrid=p(c)),i.update(l(h))}function l(h){var T=h._context.plotGlPixelRatio,c=h._fullLayout,i=c._size,d=[0,0,c.width*T,c.height*T],x={},w;function _(j,ee,ie,oe,he,ne){ie*=T,oe*=T,he*=T,ne*=T;var q=ee[j+"color"],le=ee[j+"width"],Q=String(q+le);Q in x?x[Q].data.push(NaN,NaN,ie,oe,he,ne):x[Q]={data:[ie,oe,he,ne],join:"rect",thickness:le*T,color:q,viewport:d,range:d,overlay:!1}}for(w in c._splomSubplots){var m=c._plots[w],E=m.xaxis,A=m.yaxis,s=E._gridVals,M=A._gridVals,b=E._offset,N=E._length,k=A._length,H=i.b+A.domain[0]*i.h,F=-A._m,B=-F*A.r2l(A.range[0],A.calendar),U,z;if(E.showgrid)for(w=0;w<s.length;w++)U=b+E.l2p(s[w].x),_("grid",E,U,H,U,H+k);if(A.showgrid)for(w=0;w<M.length;w++)z=H+B+F*M[w].x,_("grid",A,b,z,b+N,z);g(h,E,A)&&(U=b+E.l2p(0),_("zeroline",E,U,H,U,H+k)),g(h,A,E)&&(z=H+B+0,_("zeroline",A,b,z,b+N,z))}var W=[];for(w in x)W.push(x[w]);return W}function y(h,T,c,i){var d={},x;if(i._splomScenes){for(x=0;x<h.length;x++){var w=h[x];w.type==="splom"&&(d[w.uid]=1)}for(x=0;x<c.length;x++){var _=c[x];if(!d[_.uid]){var m=i._splomScenes[_.uid];m&&m.destroy&&m.destroy(),i._splomScenes[_.uid]=null,delete i._splomScenes[_.uid]}}}Object.keys(i._splomScenes||{}).length===0&&delete i._splomScenes,i._splomGrid&&!T._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),S.clean(h,T,c,i)}V.exports={name:r,attr:S.attr,attrRegex:S.attrRegex,layoutAttributes:S.layoutAttributes,supplyLayoutDefaults:S.supplyLayoutDefaults,drawFramework:S.drawFramework,plot:a,drag:n,updateGrid:u,clean:y,updateFx:S.updateFx,toSVG:S.toSVG,reglPrecompiled:t}},66821:function(V,Y,e){var p=e(3400),L=e(79811),o=e(16356).calcMarkerSize,C=e(16356).calcAxisExpansion,S=e(90136),v=e(84236).markerSelection,g=e(84236).markerStyle,r=e(72308),t=e(39032).BADNUM,a=e(67072).TOO_MANY_POINTS;V.exports=function(f,u){var l=u.dimensions,y=u._length,h={},T=h.cdata=[],c=h.data=[],i=u._visibleDims=[],d,x,w,_,m;function E(N,k){for(var H=N.makeCalcdata({v:k.values,vcalendar:u.calendar},"v"),F=0;F<H.length;F++)H[F]=H[F]===t?NaN:H[F];T.push(H),c.push(N.type==="log"?p.simpleMap(H,N.c2l):H)}for(d=0;d<l.length;d++)if(w=l[d],w.visible){if(_=L.getFromId(f,u._diag[d][0]),m=L.getFromId(f,u._diag[d][1]),_&&m&&_.type!==m.type){p.log("Skipping splom dimension "+d+" with conflicting axis types");continue}_?(E(_,w),m&&m.type==="category"&&(m._categories=_._categories.slice())):E(m,w),i.push(d)}S(f,u),p.extendFlat(h,g(f,u));var A=T.length,s=A*y>a,M;for(s?M=h.sizeAvg||Math.max(h.size,3):M=o(u,y),x=0;x<i.length;x++)d=i[x],w=l[d],_=L.getFromId(f,u._diag[d][0])||{},m=L.getFromId(f,u._diag[d][1])||{},C(f,u,_,m,T[x],T[x],M);var b=r(f,u);return b.matrix||(b.matrix=!0),b.matrixOptions=h,b.selectedOptions=v(f,u,u.selected),b.unselectedOptions=v(f,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},69544:function(V,Y,e){var p=e(3400),L=e(51272),o=e(44524),C=e(43028),S=e(74428),v=e(26284),g=e(80088).isOpenSymbol;V.exports=function(n,f,u,l){function y(_,m){return p.coerce(n,f,o,_,m)}var h=L(n,f,{name:"dimensions",handleItemDefaults:r}),T=y("diagonal.visible"),c=y("showupperhalf"),i=y("showlowerhalf"),d=v(f,h,"values");if(!d||!T&&!c&&!i){f.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),S(n,f,u,l,y,{noAngleRef:!0,noStandOff:!0});var x=g(f.marker.symbol),w=C.isBubble(f);y("marker.line.width",x||w?1:0),t(n,f,l,y),p.coerceSelectionMarkerOpacity(f,y)};function r(a,n){function f(l,y){return p.coerce(a,n,o.dimensions,l,y)}f("label");var u=f("values");u&&u.length?f("visible"):n.visible=!1,f("axis.type"),f("axis.matches")}function t(a,n,f,u){var l=n.dimensions,y=l.length,h=n.showupperhalf,T=n.showlowerhalf,c=n.diagonal.visible,i,d,x=new Array(y),w=new Array(y);for(i=0;i<y;i++){var _=i?i+1:"";x[i]="x"+_,w[i]="y"+_}var m=u("xaxes",x),E=u("yaxes",w),A=n._diag=new Array(y);n._xaxes={},n._yaxes={};var s=[],M=[];function b(j,ee,ie,oe){if(j){var he=j.charAt(0),ne=f._splomAxes[he];if(n["_"+he+"axes"][j]=1,oe.push(j),!(j in ne)){var q=ne[j]={};ie&&(q.label=ie.label||"",ie.visible&&ie.axis&&(ie.axis.type&&(q.type=ie.axis.type),ie.axis.matches&&(q.matches=ee)))}}}var N=!c&&!T,k=!c&&!h;for(n._axesDim={},i=0;i<y;i++){var H=l[i],F=i===0,B=i===y-1,U=F&&N||B&&k?void 0:m[i],z=F&&k||B&&N?void 0:E[i];b(U,z,H,s),b(z,U,H,M),A[i]=[U,z],n._axesDim[U]=i,n._axesDim[z]=i}for(i=0;i<s.length;i++)for(d=0;d<M.length;d++){var W=s[i]+M[d];(i>d&&h||i<d&&T||i===d&&(c||!T||!h))&&(f._splomSubplots[W]=1)}(!T||!c&&h&&T)&&(f._splomGridDflt.xside="bottom",f._splomGridDflt.yside="left")}},83156:function(V,Y,e){var p=e(3400),L=e(90136),o=e(84236).markerStyle;V.exports=function(S,v){var g=v.trace,r=S._fullLayout._splomScenes[g.uid];if(r){L(S,g),p.extendFlat(r.matrixOptions,o(S,g));var t=p.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},50328:function(V,Y){Y.getDimIndex=function(p,L){for(var o=L._id,C=o.charAt(0),S={x:0,y:1}[C],v=p._visibleDims,g=0;g<v.length;g++){var r=v[g];if(p._diag[r][S]===o)return g}return!1}},72248:function(V,Y,e){var p=e(50328),L=e(41272).calcHover,o=e(54460).getFromId,C=e(92880).extendFlat;function S(g,r,t,a,n){n||(n={});var f=(a||"").charAt(0)==="x",u=(a||"").charAt(0)==="y",l=v(g,r,t);if((f||u)&&n.hoversubplots==="axis"&&l[0])for(var y=(f?g.xa:g.ya)._subplotsWith,h=n.gd,T=C({},g),c=0;c<y.length;c++){var i=y[c];if(i!==g.xa._id+g.ya._id){u?T.xa=o(h,i,"x"):T.ya=o(h,i,"y");var d=f||u,x=v(T,r,t,d);l=l.concat(x)}}return l}function v(g,r,t,a){var n=g.cd,f=n[0].trace,u=g.scene,l=u.matrixOptions.cdata,y=g.xa,h=g.ya,T=y.c2p(r),c=h.c2p(t),i=g.distance,d=p.getDimIndex(f,y),x=p.getDimIndex(f,h);if(d===!1||x===!1)return[g];for(var w=l[d],_=l[x],m,E,A=i,s=0;s<w.length;s++)if(!(a&&s!==g.index)){var M=w[s],b=_[s],N=y.c2p(M)-T,k=h.c2p(b)-c,H=Math.sqrt(N*N+k*k);(a||H<A)&&(A=E=H,m=s)}return g.index=m,g.distance=A,g.dxy=E,m===void 0?[g]:[L(g,w,_,f)]}V.exports={hoverPoints:S}},97924:function(V,Y,e){var p=e(28888);p.basePlotModule=e(99332),V.exports=p},54840:function(V,Y,e){var p=e(55795),L=e(3400),o=e(79811),C=e(72760).selectMode;V.exports=function(g,r,t){if(t.length)for(var a=0;a<t.length;a++)S(g,t[a][0])};function S(v,g){var r=v._fullLayout,t=r._size,a=g.trace,n=g.t,f=r._splomScenes[a.uid],u=f.matrixOptions,l=u.cdata,y=r._glcanvas.data()[0].regl,h=r.dragmode,T,c,i,d,x;if(l.length!==0){u.lower=a.showupperhalf,u.upper=a.showlowerhalf,u.diagonal=a.diagonal.visible;var w=a._visibleDims,_=l.length,m=f.viewOpts={};for(m.ranges=new Array(_),m.domains=new Array(_),x=0;x<w.length;x++){i=w[x];var E=m.ranges[x]=new Array(4),A=m.domains[x]=new Array(4);T=o.getFromId(v,a._diag[i][0]),T&&(E[0]=T._rl[0],E[2]=T._rl[1],A[0]=T.domain[0],A[2]=T.domain[1]),c=o.getFromId(v,a._diag[i][1]),c&&(E[1]=c._rl[0],E[3]=c._rl[1],A[1]=c.domain[0],A[3]=c.domain[1])}var s=v._context.plotGlPixelRatio,M=t.l*s,b=t.b*s,N=t.w*s,k=t.h*s;m.viewport=[M,b,N+M,k+b],f.matrix===!0&&(f.matrix=p(y));var H=r.clickmode.indexOf("select")>-1,F=C(h)||!!a.selectedpoints||H,B=!0;if(F){var U=a._length;if(a.selectedpoints){f.selectBatch=a.selectedpoints;var z=a.selectedpoints,W={};for(i=0;i<z.length;i++)W[z[i]]=!0;var j=[];for(i=0;i<U;i++)W[i]||j.push(i);f.unselectBatch=j}var ee=n.xpx=new Array(_),ie=n.ypx=new Array(_);for(x=0;x<w.length;x++){if(i=w[x],T=o.getFromId(v,a._diag[i][0]),T)for(ee[x]=new Array(U),d=0;d<U;d++)ee[x][d]=T.c2p(l[x][d]);if(c=o.getFromId(v,a._diag[i][1]),c)for(ie[x]=new Array(U),d=0;d<U;d++)ie[x][d]=c.c2p(l[x][d])}if(f.selectBatch.length||f.unselectBatch.length){var oe=L.extendFlat({},u,f.unselectedOptions,m),he=L.extendFlat({},u,f.selectedOptions,m);f.matrix.update(oe,he),B=!1}}else n.xpx=n.ypx=null;if(B){var ne=L.extendFlat({},u,m);f.matrix.update(ne,null)}}}},72308:function(V,Y,e){var p=e(3400);V.exports=function(o,C){var S=o._fullLayout,v=C.uid,g=S._splomScenes;g||(g=S._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},a=g[C.uid];return a||(a=g[v]=p.extendFlat({},r,t),a.draw=function(){a.matrix&&a.matrix.draw&&(a.selectBatch.length||a.unselectBatch.length?a.matrix.draw(a.unselectBatch,a.selectBatch):a.matrix.draw()),a.dirty=!1},a.destroy=function(){a.matrix&&a.matrix.destroy&&a.matrix.destroy(),a.matrixOptions=null,a.selectBatch=null,a.unselectBatch=null,a=null}),a.dirty||p.extendFlat(a,r),a}},62500:function(V,Y,e){var p=e(3400),L=p.pushUnique,o=e(43028),C=e(50328);V.exports=function(v,g){var r=v.cd,t=r[0].trace,a=r[0].t,n=v.scene,f=n.matrixOptions.cdata,u=v.xaxis,l=v.yaxis,y=[];if(!n)return y;var h=!o.hasMarkers(t)&&!o.hasText(t);if(t.visible!==!0||h)return y;var T=C.getDimIndex(t,u),c=C.getDimIndex(t,l);if(T===!1||c===!1)return y;var i=a.xpx[T],d=a.ypx[c],x=f[T],w=f[c],_=(v.scene.selectBatch||[]).slice(),m=[];if(g!==!1&&!g.degenerate)for(var E=0;E<x.length;E++)g.contains([i[E],d[E]],null,E,v)?(y.push({pointNumber:E,x:x[E],y:w[E]}),L(_,E)):_.indexOf(E)!==-1?L(_,E):m.push(E);var A=n.matrixOptions;return!_.length&&!m.length?n.matrix.update(A,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,p.extendFlat({},A,n.selectedOptions,n.viewOpts)),n.selectBatch=_,n.unselectBatch=m,y}},90167:function(V,Y,e){var p=e(49084),L=e(29736).axisHoverFormat,o=e(21776).Ks,C=e(52948),S=e(45464),v=e(92880).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:o({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:v({},S.showlegend,{dflt:!1})};v(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){g[t]=C[t]}),g.hoverinfo=v({},S.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,V.exports=g},3832:function(V,Y,e){var p=e(3400),L=e(47128);function o(g,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=v(r.u,r._len),r._v=v(r.v,r._len),r._w=v(r.w,r._len),r._x=v(r.x,r._len),r._y=v(r.y,r._len),r._z=v(r.z,r._len);var t=C(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var a=0,n,f,u;r.starts&&(n=v(r.starts.x||[]),f=v(r.starts.y||[]),u=v(r.starts.z||[]),a=Math.min(n.length,f.length,u.length)),r._startsX=n||[],r._startsY=f||[],r._startsZ=u||[];var l=0,y=1/0,h;for(h=0;h<r._len;h++){var T=r._u[h],c=r._v[h],i=r._w[h],d=Math.sqrt(T*T+c*c+i*i);l=Math.max(l,d),y=Math.min(y,d)}for(L(g,r,{vals:[y,l],containerStr:"",cLetter:"c"}),h=0;h<a;h++){var x=n[h];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var w=f[h];t.yMax=Math.max(t.yMax,w),t.yMin=Math.min(t.yMin,w);var _=u[h];t.zMax=Math.max(t.zMax,_),t.zMin=Math.min(t.zMin,_)}r._slen=a,r._normMax=l,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function C(g){var r=g._x,t=g._y,a=g._z,n=g._len,f,u,l,y=-1/0,h=1/0,T=-1/0,c=1/0,i=-1/0,d=1/0,x="",w,_,m,E,A,s,M,b,N;for(n&&(E=r[0],s=t[0],b=a[0]),n>1&&(A=r[n-1],M=t[n-1],N=a[n-1]),f=0;f<n;f++)y=Math.max(y,r[f]),h=Math.min(h,r[f]),T=Math.max(T,t[f]),c=Math.min(c,t[f]),i=Math.max(i,a[f]),d=Math.min(d,a[f]),!w&&r[f]!==E&&(w=!0,x+="x"),!_&&t[f]!==s&&(_=!0,x+="y"),!m&&a[f]!==b&&(m=!0,x+="z");w||(x+="x"),_||(x+="y"),m||(x+="z");var k=S(g._x),H=S(g._y),F=S(g._z);x=x.replace("x",(E>A?"-":"+")+"x"),x=x.replace("y",(s>M?"-":"+")+"y"),x=x.replace("z",(b>N?"-":"+")+"z");var B=function(){n=0,k=[],H=[],F=[]};(!n||n<k.length*H.length*F.length)&&B();var U=function(de){return de==="x"?r:de==="y"?t:a},z=function(de){return de==="x"?k:de==="y"?H:F},W=function(de){return de[n-1]<de[0]?-1:1},j=U(x[1]),ee=U(x[3]),ie=U(x[5]),oe=z(x[1]).length,he=z(x[3]).length,ne=z(x[5]).length,q=!1,le=function(de,be,Se){return oe*(he*de+be)+Se},Q=W(U(x[1])),te=W(U(x[3])),ue=W(U(x[5]));for(f=0;f<ne-1;f++){for(u=0;u<he-1;u++){for(l=0;l<oe-1;l++){var J=le(f,u,l),K=le(f,u,l+1),ce=le(f,u+1,l),ae=le(f+1,u,l);if((!(j[J]*Q<j[K]*Q)||!(ee[J]*te<ee[ce]*te)||!(ie[J]*ue<ie[ae]*ue))&&(q=!0),q)break}if(q)break}if(q)break}return q&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),B()),{xMin:h,yMin:c,zMin:d,xMax:y,yMax:T,zMax:i,Xs:k,Ys:H,Zs:F,len:n,fill:x}}function S(g){return p.distinctVals(g).vals}function v(g,r){if(r===void 0&&(r=g.length),p.isTypedArray(g))return g.subarray(0,r);for(var t=[],a=0;a<r;a++)t[a]=+g[a];return t}V.exports={calc:o,filter:v,processGrid:C}},25668:function(V,Y,e){var p=e(67792).gl_streamtube3d,L=p.createTubeMesh,o=e(3400),C=e(33040).parseColorScale,S=e(8932).extractOpts,v=e(52094),g={xaxis:0,yaxis:1,zaxis:2};function r(l,y){this.scene=l,this.uid=y,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(l){var y=this.scene.fullSceneLayout,h=this.scene.dataScale;function T(d,x){var w=y[x],_=h[g[x]];return w.l2c(d)/_}if(l.object===this.mesh){var c=l.data.position,i=l.data.velocity;return l.traceCoordinate=[T(c[0],"xaxis"),T(c[1],"yaxis"),T(c[2],"zaxis"),T(i[0],"xaxis"),T(i[1],"yaxis"),T(i[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}};function a(l){var y=l.length,h;return y>2?h=l.slice(1,y-1):y===2?h=[(l[0]+l[1])/2]:h=l,h}function n(l){var y=l.length;return y===1?[.5,.5]:[l[1]-l[0],l[y-1]-l[y-2]]}function f(l,y){var h=l.fullSceneLayout,T=l.dataScale,c=y._len,i={};function d(he,ne){var q=h[ne],le=T[g[ne]];return o.simpleMap(he,function(Q){return q.d2l(Q)*le})}if(i.vectors=v(d(y._u,"xaxis"),d(y._v,"yaxis"),d(y._w,"zaxis"),c),!c)return{positions:[],cells:[]};var x=d(y._Xs,"xaxis"),w=d(y._Ys,"yaxis"),_=d(y._Zs,"zaxis");i.meshgrid=[x,w,_],i.gridFill=y._gridFill;var m=y._slen;if(m)i.startingPositions=v(d(y._startsX,"xaxis"),d(y._startsY,"yaxis"),d(y._startsZ,"zaxis"));else{for(var E=w[0],A=a(x),s=a(_),M=new Array(A.length*s.length),b=0,N=0;N<A.length;N++)for(var k=0;k<s.length;k++)M[b++]=[A[N],E,s[k]];i.startingPositions=M}i.colormap=C(y),i.tubeSize=y.sizeref,i.maxLength=y.maxdisplayed;var H=d(y._xbnds,"xaxis"),F=d(y._ybnds,"yaxis"),B=d(y._zbnds,"zaxis"),U=n(x),z=n(w),W=n(_),j=[[H[0]-U[0],F[0]-z[0],B[0]-W[0]],[H[1]+U[1],F[1]+z[1],B[1]+W[1]]],ee=p(i,j),ie=S(y);ee.vertexIntensityBounds=[ie.min/y._normMax,ie.max/y._normMax];var oe=y.lightposition;return ee.lightPosition=[oe.x,oe.y,oe.z],ee.ambient=y.lighting.ambient,ee.diffuse=y.lighting.diffuse,ee.specular=y.lighting.specular,ee.roughness=y.lighting.roughness,ee.fresnel=y.lighting.fresnel,ee.opacity=y.opacity,y._pad=ee.tubeScale*y.sizeref*2,ee}t.update=function(l){this.data=l;var y=f(this.scene,l);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(l,y){var h=l.glplot.gl,T=f(l,y),c=L(h,T),i=new r(l,y.uid);return i.mesh=c,i.data=y,c._trace=i,l.glplot.add(c),i}V.exports=u},54304:function(V,Y,e){var p=e(3400),L=e(27260),o=e(90167);V.exports=function(S,v,g,r){function t(h,T){return p.coerce(S,v,o,h,T)}var a=t("u"),n=t("v"),f=t("w"),u=t("x"),l=t("y"),y=t("z");if(!a||!a.length||!n||!n.length||!f||!f.length||!u||!u.length||!l||!l.length||!y||!y.length){v.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(S,v,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),v._length=null}},15436:function(V,Y,e){V.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(p,L){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=L.traceCoordinate[3],p.tubev=L.traceCoordinate[4],p.tubew=L.traceCoordinate[5],p.norm=L.traceCoordinate[6],p.divergence=L.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},424:function(V,Y,e){var p=e(45464),L=e(21776).Ks,o=e(21776).Gw,C=e(49084),S=e(86968).u,v=e(74996),g=e(27328),r=e(92880).extendFlat,t=e(98192).c;V.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},v.marker.line.color,{dflt:null}),width:r({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:o({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:r({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:g.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:r({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:S({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(V,Y,e){var p=e(7316);Y.name="sunburst",Y.plot=function(L,o,C,S){p.plotBasePlot(Y.name,L,o,C,S)},Y.clean=function(L,o,C,S){p.cleanBasePlot(Y.name,L,o,C,S)}},3776:function(V,Y,e){var p=e(74148),L=e(38248),o=e(3400),C=e(8932).makeColorScaleFuncFromTrace,S=e(45768).makePullColorFn,v=e(45768).generateExtendedColors,g=e(8932).calc,r=e(39032).ALMOST_EQUAL,t={},a={},n={};Y.calc=function(u,l){var y=u._fullLayout,h=l.ids,T=o.isArrayOrTypedArray(h),c=l.labels,i=l.parents,d=l.values,x=o.isArrayOrTypedArray(d),w=[],_={},m={},E=function(Q,te){_[Q]?_[Q].push(te):_[Q]=[te],m[te]=1},A=function(Q){return Q||typeof Q=="number"},s=function(Q){return!x||L(d[Q])&&d[Q]>=0},M,b,N;T?(M=Math.min(h.length,i.length),b=function(Q){return A(h[Q])&&s(Q)},N=function(Q){return String(h[Q])}):(M=Math.min(c.length,i.length),b=function(Q){return A(c[Q])&&s(Q)},N=function(Q){return String(c[Q])}),x&&(M=Math.min(M,d.length));for(var k=0;k<M;k++)if(b(k)){var H=N(k),F=A(i[k])?String(i[k]):"",B={i:k,id:H,pid:F,label:A(c[k])?String(c[k]):""};x&&(B.v=+d[k]),w.push(B),E(F,H)}if(_[""]){if(_[""].length>1){for(var W=o.randstr(),j=0;j<w.length;j++)w[j].pid===""&&(w[j].pid=W);w.unshift({hasMultipleRoots:!0,id:W,pid:"",label:""})}}else{var U=[],z;for(z in _)m[z]||U.push(z);if(U.length===1)z=U[0],w.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z});else return o.warn(["Multiple implied roots, cannot build",l.type,"hierarchy of",l.name+".","These roots include:",U.join(", ")].join(" "))}var ee;try{ee=p.stratify().id(function(Q){return Q.id}).parentId(function(Q){return Q.pid})(w)}catch(Q){return o.warn(["Failed to build",l.type,"hierarchy of",l.name+".","Error:",Q.message].join(" "))}var ie=p.hierarchy(ee),oe=!1;if(x)switch(l.branchvalues){case"remainder":ie.sum(function(Q){return Q.data.v});break;case"total":ie.each(function(Q){var te=Q.data.data,ue=te.v;if(Q.children){var J=Q.children.reduce(function(K,ce){return K+ce.data.data.v},0);if((te.hasImpliedRoot||te.hasMultipleRoots)&&(ue=J),ue<J*r)return oe=!0,o.warn(["Total value for node",Q.data.data.id,"of",l.name,"is smaller than the sum of its children.",`
parent value =`,ue,`
children sum =`,J].join(" "))}Q.value=ue});break}else f(ie,l,{branches:l.count.indexOf("branches")!==-1,leaves:l.count.indexOf("leaves")!==-1});if(!oe){l.sort&&ie.sort(function(Q,te){return te.value-Q.value});var he,ne,q=l.marker.colors||[],le=!!q.length;return l._hasColorscale?(le||(q=x?l.values:l._values),g(u,l,{vals:q,containerStr:"marker",cLetter:"c"}),ne=C(l.marker)):he=S(y["_"+l.type+"colormap"]),ie.each(function(Q){var te=Q.data.data;te.color=l._hasColorscale?ne(q[te.i]):he(q[te.i],te.id)}),w[0].hierarchy=ie,w}},Y._runCrossTraceCalc=function(u,l){var y=l._fullLayout,h=l.calcdata,T=y[u+"colorway"],c=y["_"+u+"colormap"];y["extend"+u+"colors"]&&(T=v(T,u==="icicle"?n:u==="treemap"?a:t));var i=0,d;function x(E){var A=E.data.data,s=A.id;A.color===!1&&(c[s]?A.color=c[s]:E.parent?E.parent.parent?A.color=E.parent.data.data.color:(c[s]=A.color=T[i%T.length],i++):A.color=d)}for(var w=0;w<h.length;w++){var _=h[w],m=_[0];m.trace.type===u&&m.hierarchy&&(d=m.trace.root.color,m.hierarchy.each(x))}},Y.crossTraceCalc=function(u){return Y._runCrossTraceCalc("sunburst",u)};function f(u,l,y){var h=0,T=u.children;if(T){for(var c=T.length,i=0;i<c;i++)h+=f(T[i],l,y);y.branches&&h++}else y.leaves&&h++;return u.value=u.data.data.value=h,l._values||(l._values=[]),l._values[u.data.data.i]=h,h}},27328:function(V){V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(V,Y,e){var p=e(3400),L=e(424),o=e(86968).Q,C=e(31508).handleText,S=e(74174).handleMarkerDefaults,v=e(8932),g=v.hasColorscale,r=v.handleDefaults;V.exports=function(a,n,f,u){function l(x,w){return p.coerce(a,n,L,x,w)}var y=l("labels"),h=l("parents");if(!y||!y.length||!h||!h.length){n.visible=!1;return}var T=l("values");T&&T.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),S(a,n,u,l);var c=n._hasColorscale=g(a,"marker","colors")||(a.marker||{}).coloraxis;c&&r(a,n,u,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",c?1:.7);var i=l("text");l("texttemplate"),n.texttemplate||l("textinfo",p.isArrayOrTypedArray(i)?"text+label":"label"),l("hovertext"),l("hovertemplate");var d="auto";C(a,n,u,l,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),o(n,u,l),n._length=null}},60404:function(V,Y,e){var p=e(43616),L=e(76308);V.exports=function(C,S,v,g,r){var t=S.data.data,a=t.i,n=r||t.color;if(a>=0){S.i=t.i;var f=v.marker;f.pattern?(!f.colors||!f.pattern.shape)&&(f.color=n,S.color=n):(f.color=n,S.color=n),p.pointStyle(C,v,g,S)}else L.fill(C,n)}},45716:function(V,Y,e){var p=e(33428),L=e(24040),o=e(10624).appendArrayPointValue,C=e(93024),S=e(3400),v=e(95924),g=e(78176),r=e(69656),t=r.formatPieValue;V.exports=function(f,u,l,y,h){var T=y[0],c=T.trace,i=T.hierarchy,d=c.type==="sunburst",x=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1);var w=function(E){var A=l._fullLayout;if(!(l._dragging||A.hovermode===!1)){var s=l._fullData[c.index],M=E.data.data,b=M.i,N=g.isHierarchyRoot(E),k=g.getParent(i,E),H=g.getValue(E),F=function(K){return S.castOption(s,b,K)},B=F("hovertemplate"),U=C.castHoverinfo(s,A,b),z=A.separators,W;if(B||U&&U!=="none"&&U!=="skip"){var j,ee;d&&(j=T.cx+E.pxmid[0]*(1-E.rInscribed),ee=T.cy+E.pxmid[1]*(1-E.rInscribed)),x&&(j=E._hoverX,ee=E._hoverY);var ie={},oe=[],he=[],ne=function(K){return oe.indexOf(K)!==-1};U&&(oe=U==="all"?s._module.attributes.hoverinfo.flags:U.split("+")),ie.label=M.label,ne("label")&&ie.label&&he.push(ie.label),M.hasOwnProperty("v")&&(ie.value=M.v,ie.valueLabel=t(ie.value,z),ne("value")&&he.push(ie.valueLabel)),ie.currentPath=E.currentPath=g.getPath(E.data),ne("current path")&&!N&&he.push(ie.currentPath);var q,le=[],Q=function(){le.indexOf(q)===-1&&(he.push(q),le.push(q))};ie.percentParent=E.percentParent=H/g.getValue(k),ie.parent=E.parentString=g.getPtLabel(k),ne("percent parent")&&(q=g.formatPercent(ie.percentParent,z)+" of "+ie.parent,Q()),ie.percentEntry=E.percentEntry=H/g.getValue(u),ie.entry=E.entry=g.getPtLabel(u),ne("percent entry")&&!N&&!E.onPathbar&&(q=g.formatPercent(ie.percentEntry,z)+" of "+ie.entry,Q()),ie.percentRoot=E.percentRoot=H/g.getValue(i),ie.root=E.root=g.getPtLabel(i),ne("percent root")&&!N&&(q=g.formatPercent(ie.percentRoot,z)+" of "+ie.root,Q()),ie.text=F("hovertext")||F("text"),ne("text")&&(q=ie.text,S.isValidTextValue(q)&&he.push(q)),W=[a(E,s,h.eventDataKeys)];var te={trace:s,y:ee,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:he.join("<br>"),name:B||ne("name")?s.name:void 0,color:F("hoverlabel.bgcolor")||M.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),fontWeight:F("hoverlabel.font.weight"),fontStyle:F("hoverlabel.font.style"),fontVariant:F("hoverlabel.font.variant"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:B,hovertemplateLabels:ie,eventData:W};d&&(te.x0=j-E.rInscribed*E.rpx1,te.x1=j+E.rInscribed*E.rpx1,te.idealAlign=E.pxmid[0]<0?"left":"right"),x&&(te.x=j,te.idealAlign=j<0?"left":"right");var ue=[];C.loneHover(te,{container:A._hoverlayer.node(),outerContainer:A._paper.node(),gd:l,inOut_bbox:ue}),W[0].bbox=ue[0],c._hasHoverLabel=!0}if(x){var J=f.select("path.surface");h.styleOne(J,E,s,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:W||[a(E,s,h.eventDataKeys)],event:p.event})}},_=function(E){var A=l._fullLayout,s=l._fullData[c.index],M=p.select(this).datum();if(c._hasHoverEvent&&(E.originalEvent=p.event,l.emit("plotly_unhover",{points:[a(M,s,h.eventDataKeys)],event:p.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(C.loneUnhover(A._hoverlayer.node()),c._hasHoverLabel=!1),x){var b=f.select("path.surface");h.styleOne(b,M,s,l,{hovered:!1})}},m=function(E){var A=l._fullLayout,s=l._fullData[c.index],M=d&&(g.isHierarchyRoot(E)||g.isLeaf(E)),b=g.getPtId(E),N=g.isEntry(E)?g.findEntryWithChild(i,b):g.findEntryWithLevel(i,b),k=g.getPtId(N),H={points:[a(E,s,h.eventDataKeys)],event:p.event};M||(H.nextLevel=k);var F=v.triggerHandler(l,"plotly_"+c.type+"click",H);if(F!==!1&&A.hovermode&&(l._hoverdata=[a(E,s,h.eventDataKeys)],C.click(l,p.event)),!M&&F!==!1&&!l._dragging&&!l._transitioning){L.call("_storeDirectGUIEdit",s,A._tracePreGUI[s.uid],{level:s.level});var B={data:[{level:k}],traces:[c.index]},U={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(A._hoverlayer.node()),L.call("animate",l,B,U)}};f.on("mouseover",w),f.on("mouseout",_),f.on("click",m)};function a(n,f,u){for(var l=n.data.data,y={curveNumber:f.index,pointNumber:l.i,data:f._input,fullData:f},h=0;h<u.length;h++){var T=u[h];T in n&&(y[T]=n[T])}return"parentString"in n&&!g.isHierarchyRoot(n)&&(y.parent=n.parentString),o(y,f,l.i),y}},78176:function(V,Y,e){var p=e(3400),L=e(76308),o=e(93972),C=e(69656);Y.findEntryWithLevel=function(r,t){var a;return t&&r.eachAfter(function(n){if(Y.getPtId(n)===t)return a=n.copy()}),a||r},Y.findEntryWithChild=function(r,t){var a;return r.eachAfter(function(n){for(var f=n.children||[],u=0;u<f.length;u++){var l=f[u];if(Y.getPtId(l)===t)return a=n.copy()}}),a||r},Y.isEntry=function(r){return!r.parent},Y.isLeaf=function(r){return!r.children},Y.getPtId=function(r){return r.data.data.id},Y.getPtLabel=function(r){return r.data.data.label},Y.getValue=function(r){return r.value},Y.isHierarchyRoot=function(r){return g(r)===""},Y.setSliceCursor=function(r,t,a){var n=a.isTransitioning;if(!n){var f=r.datum();n=a.hideOnRoot&&Y.isHierarchyRoot(f)||a.hideOnLeaves&&Y.isLeaf(f)}o(r,n?null:"pointer")};function S(r,t,a){return{color:Y.getOutsideTextFontKey("color",r,t,a),family:Y.getOutsideTextFontKey("family",r,t,a),size:Y.getOutsideTextFontKey("size",r,t,a),weight:Y.getOutsideTextFontKey("weight",r,t,a),style:Y.getOutsideTextFontKey("style",r,t,a),variant:Y.getOutsideTextFontKey("variant",r,t,a),textcase:Y.getOutsideTextFontKey("textcase",r,t,a),lineposition:Y.getOutsideTextFontKey("lineposition",r,t,a),shadow:Y.getOutsideTextFontKey("shadow",r,t,a)}}function v(r,t,a,n){var f=(n||{}).onPathbar,u=t.data.data,l=u.i,y=p.castOption(r,l,(f?"pathbar.textfont":"insidetextfont")+".color");return!y&&r._input.textfont&&(y=p.castOption(r._input,l,"textfont.color")),{color:y||L.contrast(u.color),family:Y.getInsideTextFontKey("family",r,t,a,n),size:Y.getInsideTextFontKey("size",r,t,a,n),weight:Y.getInsideTextFontKey("weight",r,t,a,n),style:Y.getInsideTextFontKey("style",r,t,a,n),variant:Y.getInsideTextFontKey("variant",r,t,a,n),textcase:Y.getInsideTextFontKey("textcase",r,t,a,n),lineposition:Y.getInsideTextFontKey("lineposition",r,t,a,n),shadow:Y.getInsideTextFontKey("shadow",r,t,a,n)}}Y.getInsideTextFontKey=function(r,t,a,n,f){var u=(f||{}).onPathbar,l=u?"pathbar.textfont":"insidetextfont",y=a.data.data.i;return p.castOption(t,y,l+"."+r)||p.castOption(t,y,"textfont."+r)||n.size},Y.getOutsideTextFontKey=function(r,t,a,n){var f=a.data.data.i;return p.castOption(t,f,"outsidetextfont."+r)||p.castOption(t,f,"textfont."+r)||n.size},Y.isOutsideText=function(r,t){return!r._hasColorscale&&Y.isHierarchyRoot(t)},Y.determineTextFont=function(r,t,a,n){return Y.isOutsideText(r,t)?S(r,t,a):v(r,t,a,n)},Y.hasTransition=function(r){return!!(r&&r.duration>0)},Y.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},Y.isHeader=function(r,t){return!(Y.isLeaf(r)||r.depth===t._maxDepth-1)};function g(r){return r.data.data.pid}Y.getParent=function(r,t){return Y.findEntryWithLevel(r,g(t))},Y.listPath=function(r,t){var a=r.parent;if(!a)return[];var n=t?[a.data[t]]:[a];return Y.listPath(a,t).concat(n)},Y.getPath=function(r){return Y.listPath(r,"label").join("/")+"/"},Y.formatValue=C.formatPieValue,Y.formatPercent=function(r,t){var a=p.formatPercent(r,0);return a==="0%"&&(a=C.formatPiePercent(r,t)),a}},5621:function(V,Y,e){V.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(V){V.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(V,Y,e){var p=e(3400),L=e(84920);V.exports=function(C,S){function v(g,r){return p.coerce(C,S,L,g,r)}v("sunburstcolorway",S.colorway),v("extendsunburstcolors")}},96488:function(V,Y,e){var p=e(33428),L=e(74148),o=e(67756).qy,C=e(43616),S=e(3400),v=e(72736),g=e(82744),r=g.recordMinTextSize,t=g.clearMinTextSize,a=e(37820),n=e(69656).getRotationAngle,f=a.computeTransform,u=a.transformInsideText,l=e(85676).styleOne,y=e(60100).resizeText,h=e(45716),T=e(27328),c=e(78176);Y.plot=function(m,E,A,s){var M=m._fullLayout,b=M._sunburstlayer,N,k,H=!A,F=!M.uniformtext.mode&&c.hasTransition(A);if(t("sunburst",M),N=b.selectAll("g.trace.sunburst").data(E,function(U){return U[0].trace.uid}),N.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),N.order(),F){s&&(k=s());var B=p.transition().duration(A.duration).ease(A.easing).each("end",function(){k&&k()}).each("interrupt",function(){k&&k()});B.each(function(){b.selectAll("g.trace").each(function(U){i(m,U,this,A)})})}else N.each(function(U){i(m,U,this,A)}),M.uniformtext.mode&&y(m,M._sunburstlayer.selectAll(".trace"),"sunburst");H&&N.exit().remove()};function i(m,E,A,s){var M=m._context.staticPlot,b=m._fullLayout,N=!b.uniformtext.mode&&c.hasTransition(s),k=p.select(A),H=k.selectAll("g.slice"),F=E[0],B=F.trace,U=F.hierarchy,z=c.findEntryWithLevel(U,B.level),W=c.getMaxDepth(B),j=b._size,ee=B.domain,ie=j.w*(ee.x[1]-ee.x[0]),oe=j.h*(ee.y[1]-ee.y[0]),he=.5*Math.min(ie,oe),ne=F.cx=j.l+j.w*(ee.x[1]+ee.x[0])/2,q=F.cy=j.t+j.h*(1-ee.y[0])-oe/2;if(!z)return H.remove();var le=null,Q={};N&&H.each(function(Ye){Q[c.getPtId(Ye)]={rpx0:Ye.rpx0,rpx1:Ye.rpx1,x0:Ye.x0,x1:Ye.x1,transform:Ye.transform},!le&&c.isEntry(Ye)&&(le=Ye)});var te=d(z).descendants(),ue=z.height+1,J=0,K=W;F.hasMultipleRoots&&c.isHierarchyRoot(z)&&(te=te.slice(1),ue-=1,J=1,K+=1),te=te.filter(function(Ye){return Ye.y1<=K});var ce=n(B.rotation);ce&&te.forEach(function(Ye){Ye.x0+=ce,Ye.x1+=ce});var ae=Math.min(ue,W),de=function(Ye){return(Ye-J)/ae*he},be=function(Ye,rt){return[Ye*Math.cos(rt),-Ye*Math.sin(rt)]},Se=function(Ye){return S.pathAnnulus(Ye.rpx0,Ye.rpx1,Ye.x0,Ye.x1,ne,q)},Te=function(Ye){return ne+w(Ye)[0]*(Ye.transform.rCenter||0)+(Ye.transform.x||0)},Ie=function(Ye){return q+w(Ye)[1]*(Ye.transform.rCenter||0)+(Ye.transform.y||0)};H=H.data(te,c.getPtId),H.enter().append("g").classed("slice",!0),N?H.exit().transition().each(function(){var Ye=p.select(this),rt=Ye.select("path.surface");rt.transition().attrTween("d",function($e){var qe=Oe($e);return function(ht){return Se(qe(ht))}});var ot=Ye.select("g.slicetext");ot.attr("opacity",0)}).remove():H.exit().remove(),H.order();var ke=null;if(N&&le){var Be=c.getPtId(le);H.each(function(Ye){ke===null&&c.getPtId(Ye)===Be&&(ke=Ye.x1)})}var Me=H;N&&(Me=Me.transition().each("end",function(){var Ye=p.select(this);c.setSliceCursor(Ye,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Me.each(function(Ye){var rt=p.select(this),ot=S.ensureSingle(rt,"path","surface",function(wt){wt.style("pointer-events",M?"none":"all")});Ye.rpx0=de(Ye.y0),Ye.rpx1=de(Ye.y1),Ye.xmid=(Ye.x0+Ye.x1)/2,Ye.pxmid=be(Ye.rpx1,Ye.xmid),Ye.midangle=-(Ye.xmid-Math.PI/2),Ye.startangle=-(Ye.x0-Math.PI/2),Ye.stopangle=-(Ye.x1-Math.PI/2),Ye.halfangle=.5*Math.min(S.angleDelta(Ye.x0,Ye.x1)||Math.PI,Math.PI),Ye.ring=1-Ye.rpx0/Ye.rpx1,Ye.rInscribed=x(Ye),N?ot.transition().attrTween("d",function(wt){var Mt=_e(wt);return function(nt){return Se(Mt(nt))}}):ot.attr("d",Se),rt.call(h,z,m,E,{eventDataKeys:T.eventDataKeys,transitionTime:T.CLICK_TRANSITION_TIME,transitionEasing:T.CLICK_TRANSITION_EASING}).call(c.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),ot.call(l,Ye,B,m);var $e=S.ensureSingle(rt,"g","slicetext"),qe=S.ensureSingle($e,"text","",function(wt){wt.attr("data-notex",1)}),ht=S.ensureUniformFontSize(m,c.determineTextFont(B,Ye,b.font));qe.text(Y.formatSliceLabel(Ye,z,B,E,b)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ht).call(v.convertToTspans,m);var vt=C.bBox(qe.node());Ye.transform=u(vt,Ye,F),Ye.transform.targetX=Te(Ye),Ye.transform.targetY=Ie(Ye);var pt=function(wt,Mt){var nt=wt.transform;return f(nt,Mt),nt.fontSize=ht.size,r(B.type,nt,b),S.getTextTransform(nt)};N?qe.transition().attrTween("transform",function(wt){var Mt=Ne(wt);return function(nt){return pt(Mt(nt),vt)}}):qe.attr("transform",pt(Ye,vt))});function Oe(Ye){var rt=c.getPtId(Ye),ot=Q[rt],$e=Q[c.getPtId(z)],qe;if($e){var ht=(Ye.x1>$e.x1?2*Math.PI:0)+ce;qe=Ye.rpx1<$e.rpx1?{x0:Ye.x0,x1:Ye.x1,rpx0:0,rpx1:0}:{x0:ht,x1:ht,rpx0:Ye.rpx0,rpx1:Ye.rpx1}}else{var vt,pt=c.getPtId(Ye.parent);H.each(function(We){if(c.getPtId(We)===pt)return vt=We});var wt=vt.children,Mt;wt.forEach(function(We,Ze){if(c.getPtId(We)===rt)return Mt=Ze});var nt=wt.length,Fe=o(vt.x0,vt.x1);qe={rpx0:he,rpx1:he,x0:Fe(Mt/nt),x1:Fe((Mt+1)/nt)}}return o(ot,qe)}function _e(Ye){var rt=Q[c.getPtId(Ye)],ot,$e={x0:Ye.x0,x1:Ye.x1,rpx0:Ye.rpx0,rpx1:Ye.rpx1};if(rt)ot=rt;else if(le)if(Ye.parent)if(ke){var qe=(Ye.x1>ke?2*Math.PI:0)+ce;ot={x0:qe,x1:qe}}else ot={rpx0:he,rpx1:he},S.extendFlat(ot,Ce(Ye));else ot={rpx0:0,rpx1:0};else ot={x0:ce,x1:ce};return o(ot,$e)}function Ne(Ye){var rt=Q[c.getPtId(Ye)],ot,$e=Ye.transform;if(rt)ot=rt;else if(ot={rpx1:Ye.rpx1,transform:{textPosAngle:$e.textPosAngle,scale:0,rotate:$e.rotate,rCenter:$e.rCenter,x:$e.x,y:$e.y}},le)if(Ye.parent)if(ke){var qe=Ye.x1>ke?2*Math.PI:0;ot.x0=ot.x1=qe}else S.extendFlat(ot,Ce(Ye));else ot.x0=ot.x1=ce;else ot.x0=ot.x1=ce;var ht=o(ot.transform.textPosAngle,Ye.transform.textPosAngle),vt=o(ot.rpx1,Ye.rpx1),pt=o(ot.x0,Ye.x0),wt=o(ot.x1,Ye.x1),Mt=o(ot.transform.scale,$e.scale),nt=o(ot.transform.rotate,$e.rotate),Fe=$e.rCenter===0?3:ot.transform.rCenter===0?1/3:1,We=o(ot.transform.rCenter,$e.rCenter),Ze=function(Ge){return We(Math.pow(Ge,Fe))};return function(Ge){var Pe=vt(Ge),Re=pt(Ge),je=wt(Ge),De=Ze(Ge),ge=be(Pe,(Re+je)/2),we=ht(Ge),Ue={pxmid:ge,rpx1:Pe,transform:{textPosAngle:we,rCenter:De,x:$e.x,y:$e.y}};return r(B.type,$e,b),{transform:{targetX:Te(Ue),targetY:Ie(Ue),scale:Mt(Ge),rotate:nt(Ge),rCenter:De}}}}function Ce(Ye){var rt=Ye.parent,ot=Q[c.getPtId(rt)],$e={};if(ot){var qe=rt.children,ht=qe.indexOf(Ye),vt=qe.length,pt=o(ot.x0,ot.x1);$e.x0=pt(ht/vt),$e.x1=pt(ht/vt)}else $e.x0=$e.x1=0;return $e}}function d(m){return L.partition().size([2*Math.PI,m.height+1])(m)}Y.formatSliceLabel=function(m,E,A,s,M){var b=A.texttemplate,N=A.textinfo;if(!b&&(!N||N==="none"))return"";var k=M.separators,H=s[0],F=m.data.data,B=H.hierarchy,U=c.isHierarchyRoot(m),z=c.getParent(B,m),W=c.getValue(m);if(!b){var j=N.split("+"),ee=function(J){return j.indexOf(J)!==-1},ie=[],oe;if(ee("label")&&F.label&&ie.push(F.label),F.hasOwnProperty("v")&&ee("value")&&ie.push(c.formatValue(F.v,k)),!U){ee("current path")&&ie.push(c.getPath(m.data));var he=0;ee("percent parent")&&he++,ee("percent entry")&&he++,ee("percent root")&&he++;var ne=he>1;if(he){var q,le=function(J){oe=c.formatPercent(q,k),ne&&(oe+=" of "+J),ie.push(oe)};ee("percent parent")&&!U&&(q=W/c.getValue(z),le("parent")),ee("percent entry")&&(q=W/c.getValue(E),le("entry")),ee("percent root")&&(q=W/c.getValue(B),le("root"))}}return ee("text")&&(oe=S.castOption(A,F.i,"text"),S.isValidTextValue(oe)&&ie.push(oe)),ie.join("<br>")}var Q=S.castOption(A,F.i,"texttemplate");if(!Q)return"";var te={};F.label&&(te.label=F.label),F.hasOwnProperty("v")&&(te.value=F.v,te.valueLabel=c.formatValue(F.v,k)),te.currentPath=c.getPath(m.data),U||(te.percentParent=W/c.getValue(z),te.percentParentLabel=c.formatPercent(te.percentParent,k),te.parent=c.getPtLabel(z)),te.percentEntry=W/c.getValue(E),te.percentEntryLabel=c.formatPercent(te.percentEntry,k),te.entry=c.getPtLabel(E),te.percentRoot=W/c.getValue(B),te.percentRootLabel=c.formatPercent(te.percentRoot,k),te.root=c.getPtLabel(B),F.hasOwnProperty("color")&&(te.color=F.color);var ue=S.castOption(A,F.i,"text");return(S.isValidTextValue(ue)||ue==="")&&(te.text=ue),te.customdata=S.castOption(A,F.i,"customdata"),S.texttemplateString(Q,te,M._d3locale,te,A._meta||{})};function x(m){return m.rpx0===0&&S.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function w(m){return _(m.rpx1,m.transform.textPosAngle)}function _(m,E){return[m*Math.sin(E),-m*Math.cos(E)]}},85676:function(V,Y,e){var p=e(33428),L=e(76308),o=e(3400),C=e(82744).resizeText,S=e(60404);function v(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");C(r,t,"sunburst"),t.each(function(a){var n=p.select(this),f=a[0],u=f.trace;n.style("opacity",u.opacity),n.selectAll("path.surface").each(function(l){p.select(this).call(g,l,u,r)})})}function g(r,t,a,n){var f=t.data.data,u=!t.children,l=f.i,y=o.castOption(a,l,"marker.line.color")||L.defaultLine,h=o.castOption(a,l,"marker.line.width")||0;r.call(S,t,a,n).style("stroke-width",h).call(L.stroke,y).style("opacity",u?a.leaf.opacity:null)}V.exports={style:v,styleOne:g}},16716:function(V,Y,e){var p=e(76308),L=e(49084),o=e(29736).axisHoverFormat,C=e(21776).Ks,S=e(45464),v=e(92880).extendFlat,g=e(67824).overrideAll;function r(n){return{valType:"boolean",dflt:!1}}function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var a=V.exports=g(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:o("x"),yhoverformat:o("y"),zhoverformat:o("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},L.zauto,{}),zmin:v({},L.zmin,{}),zmax:v({},L.zmax,{})},hoverinfo:v({},S.hoverinfo),showlegend:v({},S.showlegend,{dflt:!1})}),"calc","nested");a.x.editType=a.y.editType=a.z.editType="calc+clearAxisTypes",a.transforms=void 0},56576:function(V,Y,e){var p=e(47128);V.exports=function(o,C){C.surfacecolor?p(o,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):p(o,C,{vals:C.z,containerStr:"",cLetter:"c"})}},79164:function(V,Y,e){var p=e(67792).gl_surface3d,L=e(67792).ndarray,o=e(67792).ndarray_linear_interpolate.d2,C=e(70448),S=e(11240),v=e(3400).isArrayOrTypedArray,g=e(33040).parseColorScale,r=e(43080),t=e(8932).extractOpts;function a(s,M,b){this.scene=s,this.uid=b,this.surface=M,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=a.prototype;n.getXat=function(s,M,b,N){var k=v(this.data.x)?v(this.data.x[0])?this.data.x[M][s]:this.data.x[s]:s;return b===void 0?k:N.d2l(k,0,b)},n.getYat=function(s,M,b,N){var k=v(this.data.y)?v(this.data.y[0])?this.data.y[M][s]:this.data.y[M]:M;return b===void 0?k:N.d2l(k,0,b)},n.getZat=function(s,M,b,N){var k=this.data.z[M][s];return k===null&&this.data.connectgaps&&this.data._interpolatedZ&&(k=this.data._interpolatedZ[M][s]),b===void 0?k:N.d2l(k,0,b)},n.handlePick=function(s){if(s.object===this.surface){var M=(s.data.index[0]-1)/this.dataScaleX-1,b=(s.data.index[1]-1)/this.dataScaleY-1,N=Math.max(Math.min(Math.round(M),this.data.z[0].length-1),0),k=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);s.index=[N,k],s.traceCoordinate=[this.getXat(N,k),this.getYat(N,k),this.getZat(N,k)],s.dataCoordinate=[this.getXat(N,k,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(N,k,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(N,k,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var H=0;H<3;H++){var F=s.dataCoordinate[H];F!=null&&(s.dataCoordinate[H]*=this.scene.dataScale[H])}var B=this.data.hovertext||this.data.text;return v(B)&&B[k]&&B[k][N]!==void 0?s.textLabel=B[k][N]:B?s.textLabel=B:s.textLabel="",s.data.dataCoordinate=s.dataCoordinate.slice(),this.surface.highlight(s.data),this.scene.glplot.spikes.position=s.dataCoordinate,!0}};function f(s){var M=s[0].rgb,b=s[s.length-1].rgb;return M[0]===b[0]&&M[1]===b[1]&&M[2]===b[2]&&M[3]===b[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(s,M){if(s<M)return 0;for(var b=0;Math.floor(s%M)===0;)s/=M,b++;return b}function y(s){for(var M=[],b=0;b<u.length;b++){var N=u[b];M.push(l(s,N))}return M}function h(s){for(var M=y(s),b=s,N=0;N<u.length;N++)if(M[N]>0){b=u[N];break}return b}function T(s,M){if(!(s<1||M<1)){for(var b=y(s),N=y(M),k=1,H=0;H<u.length;H++)k*=Math.pow(u[H],Math.max(b[H],N[H]));return k}}function c(s){if(s.length!==0){for(var M=1,b=0;b<s.length;b++)M=T(M,s[b]);return M}}n.calcXnums=function(s){var M,b=[];for(M=1;M<s;M++){var N=this.getXat(M-1,0),k=this.getXat(M,0);k!==N&&N!==void 0&&N!==null&&k!==void 0&&k!==null?b[M-1]=Math.abs(k-N):b[M-1]=0}var H=0;for(M=1;M<s;M++)H+=b[M-1];for(M=1;M<s;M++)b[M-1]===0?b[M-1]=1:b[M-1]=Math.round(H/b[M-1]);return b},n.calcYnums=function(s){var M,b=[];for(M=1;M<s;M++){var N=this.getYat(0,M-1),k=this.getYat(0,M);k!==N&&N!==void 0&&N!==null&&k!==void 0&&k!==null?b[M-1]=Math.abs(k-N):b[M-1]=0}var H=0;for(M=1;M<s;M++)H+=b[M-1];for(M=1;M<s;M++)b[M-1]===0?b[M-1]=1:b[M-1]=Math.round(H/b[M-1]);return b};var i=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=i[9],x=i[13];n.estimateScale=function(s,M){for(var b=M===0?this.calcXnums(s):this.calcYnums(s),N=1+c(b);N<d;)N*=2;for(;N>x;)N--,N/=h(N),N++,N<d&&(N=x);var k=Math.round(N/s);return k>1?k:1};function w(s,M,b){var N=b[8]+b[2]*M[0]+b[5]*M[1];return s[0]=(b[6]+b[0]*M[0]+b[3]*M[1])/N,s[1]=(b[7]+b[1]*M[0]+b[4]*M[1])/N,s}function _(s,M,b){return m(s,M,w,b),s}function m(s,M,b,N){for(var k=[0,0],H=s.shape[0],F=s.shape[1],B=0;B<H;B++)for(var U=0;U<F;U++)b(k,[B,U],N),s.set(B,U,o(M,k[0],k[1]));return s}n.refineCoords=function(s){for(var M=this.dataScaleX,b=this.dataScaleY,N=s[0].shape[0],k=s[0].shape[1],H=Math.floor(s[0].shape[0]*M+1)|0,F=Math.floor(s[0].shape[1]*b+1)|0,B=1+N+1,U=1+k+1,z=L(new Float32Array(B*U),[B,U]),W=[1/M,0,0,0,1/b,0,0,0,1],j=0;j<s.length;++j){this.surface.padField(z,s[j]);var ee=L(new Float32Array(H*F),[H,F]);_(ee,z,W),s[j]=ee}};function E(s,M){for(var b=!1,N=0;N<s.length;N++)if(M===s[N]){b=!0;break}b===!1&&s.push(M)}n.setContourLevels=function(){var s=[[],[],[]],M=[!1,!1,!1],b=!1,N,k,H;for(N=0;N<3;++N)if(this.showContour[N]&&(b=!0,this.contourSize[N]>0&&this.contourStart[N]!==null&&this.contourEnd[N]!==null&&this.contourEnd[N]>this.contourStart[N]))for(M[N]=!0,k=this.contourStart[N];k<this.contourEnd[N];k+=this.contourSize[N])H=k*this.scene.dataScale[N],E(s[N],H);if(b){var F=[[],[],[]];for(N=0;N<3;++N)this.showContour[N]&&(F[N]=M[N]?s[N]:this.scene.contourLevels[N]);this.surface.update({levels:F})}},n.update=function(s){var M=this.scene,b=M.fullSceneLayout,N=this.surface,k=g(s),H=M.dataScale,F=s.z[0].length,B=s._ylength,U=M.contourLevels;this.data=s;var z,W,j,ee,ie=[];for(z=0;z<3;z++)for(ie[z]=[],W=0;W<F;W++)ie[z][W]=[];for(W=0;W<F;W++)for(j=0;j<B;j++)ie[0][W][j]=this.getXat(W,j,s.xcalendar,b.xaxis),ie[1][W][j]=this.getYat(W,j,s.ycalendar,b.yaxis),ie[2][W][j]=this.getZat(W,j,s.zcalendar,b.zaxis);if(s.connectgaps)for(s._emptypoints=S(ie[2]),C(ie[2],s._emptypoints),s._interpolatedZ=[],W=0;W<F;W++)for(s._interpolatedZ[W]=[],j=0;j<B;j++)s._interpolatedZ[W][j]=ie[2][W][j];for(z=0;z<3;z++)for(W=0;W<F;W++)for(j=0;j<B;j++)ee=ie[z][W][j],ee==null?ie[z][W][j]=NaN:ee=ie[z][W][j]*=H[z];for(z=0;z<3;z++)for(W=0;W<F;W++)for(j=0;j<B;j++)ee=ie[z][W][j],ee!=null&&(this.minValues[z]>ee&&(this.minValues[z]=ee),this.maxValues[z]<ee&&(this.maxValues[z]=ee));for(z=0;z<3;z++)this.objectOffset[z]=.5*(this.minValues[z]+this.maxValues[z]);for(z=0;z<3;z++)for(W=0;W<F;W++)for(j=0;j<B;j++)ee=ie[z][W][j],ee!=null&&(ie[z][W][j]-=this.objectOffset[z]);var oe=[L(new Float32Array(F*B),[F,B]),L(new Float32Array(F*B),[F,B]),L(new Float32Array(F*B),[F,B])];for(z=0;z<3;z++)for(W=0;W<F;W++)for(j=0;j<B;j++)oe[z].set(W,j,ie[z][W][j]);ie=[];var he={colormap:k,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!s.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:s.opacityscale,opacity:s.opacity},ne=t(s);if(he.intensityBounds=[ne.min,ne.max],s.surfacecolor){var q=L(new Float32Array(F*B),[F,B]);for(W=0;W<F;W++)for(j=0;j<B;j++)q.set(W,j,s.surfacecolor[j][W]);oe.push(q)}else he.intensityBounds[0]*=H[2],he.intensityBounds[1]*=H[2];(x<oe[0].shape[0]||x<oe[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(oe[0].shape[0],0),this.dataScaleY=this.estimateScale(oe[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(oe)),s.surfacecolor&&(he.intensity=oe.pop());var le=[!0,!0,!0],Q=["x","y","z"];for(z=0;z<3;++z){var te=s.contours[Q[z]];le[z]=te.highlight,he.showContour[z]=te.show||te.highlight,he.showContour[z]&&(he.contourProject[z]=[te.project.x,te.project.y,te.project.z],te.show?(this.showContour[z]=!0,he.levels[z]=U[z],N.highlightColor[z]=he.contourColor[z]=r(te.color),te.usecolormap?N.highlightTint[z]=he.contourTint[z]=0:N.highlightTint[z]=he.contourTint[z]=1,he.contourWidth[z]=te.width,this.contourStart[z]=te.start,this.contourEnd[z]=te.end,this.contourSize[z]=te.size):(this.showContour[z]=!1,this.contourStart[z]=null,this.contourEnd[z]=null,this.contourSize[z]=0),te.highlight&&(he.dynamicColor[z]=r(te.highlightcolor),he.dynamicWidth[z]=te.highlightwidth))}f(k)&&(he.vertexColor=!0),he.objectOffset=this.objectOffset,he.coords=oe,N.update(he),N.visible=s.visible,N.enableDynamic=le,N.enableHighlight=le,N.snapToData=!0,"lighting"in s&&(N.ambientLight=s.lighting.ambient,N.diffuseLight=s.lighting.diffuse,N.specularLight=s.lighting.specular,N.roughness=s.lighting.roughness,N.fresnel=s.lighting.fresnel),"lightposition"in s&&(N.lightPosition=[s.lightposition.x,s.lightposition.y,s.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function A(s,M){var b=s.glplot.gl,N=p({gl:b}),k=new a(s,N,M.uid);return N._trace=k,k.update(M),s.glplot.add(N),k}V.exports=A},60192:function(V,Y,e){var p=e(24040),L=e(3400),o=e(27260),C=e(16716),S=.1;function v(n,f){for(var u=[],l=32,y=0;y<l;y++){var h=y/(l-1),T=f+(1-f)*(1-Math.pow(Math.sin(n*h*Math.PI),2));u.push([h,Math.max(0,Math.min(1,T))])}return u}function g(n){var f=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var u=0;u<n.length;u++){var l=n[u];if(l.length!==2||+l[0]<f)return!1;f=+l[0]}return!0}function r(n,f,u,l){var y,h;function T(s,M){return L.coerce(n,f,C,s,M)}var c=T("x"),i=T("y"),d=T("z");if(!d||!d.length||c&&c.length<1||i&&i.length<1){f.visible=!1;return}f._xlength=Array.isArray(c)&&L.isArrayOrTypedArray(c[0])?d.length:d[0].length,f._ylength=d.length;var x=p.getComponentMethod("calendars","handleTraceDefaults");x(n,f,["x","y","z"],l),T("text"),T("hovertext"),T("hovertemplate"),T("xhoverformat"),T("yhoverformat"),T("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(s){T(s)});var w=T("surfacecolor"),_=["x","y","z"];for(y=0;y<3;++y){var m="contours."+_[y],E=T(m+".show"),A=T(m+".highlight");if(E||A)for(h=0;h<3;++h)T(m+".project."+_[h]);E&&(T(m+".color"),T(m+".width"),T(m+".usecolormap")),A&&(T(m+".highlightcolor"),T(m+".highlightwidth")),T(m+".start"),T(m+".end"),T(m+".size")}w||(a(n,"zmin","cmin"),a(n,"zmax","cmax"),a(n,"zauto","cauto")),o(n,f,l,T,{prefix:"",cLetter:"c"}),t(n,f,l,T),f._length=null}function t(n,f,u,l){var y=l("opacityscale");y==="max"?f.opacityscale=[[0,S],[1,1]]:y==="min"?f.opacityscale=[[0,1],[1,S]]:y==="extremes"?f.opacityscale=v(1,S):g(y)||(f.opacityscale=void 0)}function a(n,f,u){f in n&&!(u in n)&&(n[u]=n[f])}V.exports={supplyDefaults:r,opacityscaleDefaults:t}},91304:function(V,Y,e){V.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(V,Y,e){var p=e(13916),L=e(92880).extendFlat,o=e(67824).overrideAll,C=e(25376),S=e(86968).u,v=e(29736).descriptionOnlyNumbers,g=V.exports=o({domain:S({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))}},"calc","from-root");g.transforms=void 0},85852:function(V,Y,e){var p=e(84888)._M,L=e(24752),o="table";Y.name=o,Y.plot=function(C){var S=p(C.calcdata,o)[0];S.length&&L(C,S)},Y.clean=function(C,S,v,g){var r=g._has&&g._has(o),t=S._has&&S._has(o);r&&!t&&g._paperdiv.selectAll(".table").remove()}},39312:function(V,Y,e){var p=e(71688).wrap;V.exports=function(){return p({})}},23536:function(V){V.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(V,Y,e){var p=e(23536),L=e(92880).extendFlat,o=e(38248),C=e(38116).isTypedArray,S=e(38116).isArrayOrTypedArray;V.exports=function(y,h){var T=r(h.cells.values),c=function(ee){return ee.slice(h.header.values.length,ee.length)},i=r(h.header.values);i.length&&!i[0].length&&(i[0]=[""],i=r(i));var d=i.concat(c(T).map(function(){return t((i[0]||[""]).length)})),x=h.domain,w=Math.floor(y._fullLayout._size.w*(x.x[1]-x.x[0])),_=Math.floor(y._fullLayout._size.h*(x.y[1]-x.y[0])),m=h.header.values.length?d[0].map(function(){return h.header.height}):[p.emptyHeaderHeight],E=T.length?T[0].map(function(){return h.cells.height}):[],A=m.reduce(g,0),s=_-A,M=s+p.uplift,b=f(E,M),N=f(m,A),k=n(N,[]),H=n(b,k),F={},B=h._fullInput.columnorder;S(B)&&(B=Array.from(B)),B=B.concat(c(T.map(function(ee,ie){return ie})));var U=d.map(function(ee,ie){var oe=S(h.columnwidth)?h.columnwidth[Math.min(ie,h.columnwidth.length-1)]:h.columnwidth;return o(oe)?Number(oe):1}),z=U.reduce(g,0);U=U.map(function(ee){return ee/z*w});var W=Math.max(v(h.header.line.width),v(h.cells.line.width)),j={key:h.uid+y._context.staticPlot,translateX:x.x[0]*y._fullLayout._size.w,translateY:y._fullLayout._size.h*(1-x.y[1]),size:y._fullLayout._size,width:w,maxLineWidth:W,height:_,columnOrder:B,groupHeight:_,rowBlocks:H,headerRowBlocks:k,scrollY:0,cells:L({},h.cells,{values:T}),headerCells:L({},h.header,{values:d}),gdColumns:d.map(function(ee){return ee[0]}),gdColumnsOriginalOrder:d.map(function(ee){return ee[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:d.map(function(ee,ie){var oe=F[ee];F[ee]=(oe||0)+1;var he=ee+"__"+F[ee];return{key:he,label:ee,specIndex:ie,xIndex:B[ie],xScale:a,x:void 0,calcdata:void 0,columnWidth:U[ie]}})};return j.columns.forEach(function(ee){ee.calcdata=j,ee.x=a(ee)}),j};function v(l){if(S(l)){for(var y=0,h=0;h<l.length;h++)y=Math.max(y,v(l[h]));return y}return l}function g(l,y){return l+y}function r(l){var y=l.slice(),h=1/0,T=0,c;for(c=0;c<y.length;c++)C(y[c])?y[c]=Array.from(y[c]):S(y[c])||(y[c]=[y[c]]),h=Math.min(h,y[c].length),T=Math.max(T,y[c].length);if(h!==T)for(c=0;c<y.length;c++){var i=T-y[c].length;i&&(y[c]=y[c].concat(t(i)))}return y}function t(l){for(var y=new Array(l),h=0;h<l;h++)y[h]="";return y}function a(l){return l.calcdata.columns.reduce(function(y,h){return h.xIndex<l.xIndex?y+h.columnWidth:y},0)}function n(l,y){var h=Object.keys(l);return h.map(function(T){return L({},l[T],{auxiliaryBlocks:y})})}function f(l,y){for(var h={},T,c=0,i=0,d=u(),x=0,w=0,_=0;_<l.length;_++)T=l[_],d.rows.push({rowIndex:_,rowHeight:T}),i+=T,(i>=y||_===l.length-1)&&(h[c]=d,d.key=w++,d.firstRowIndex=x,d.lastRowIndex=_,d=u(),c+=i,x=_+1,i=0);return h}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},53056:function(V,Y,e){var p=e(92880).extendFlat;Y.splitToPanels=function(o){var C=[0,0],S=p({},o,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:o.calcdata.headerCells.values[o.specIndex],rowBlocks:o.calcdata.headerRowBlocks,calcdata:p({},o.calcdata,{cells:o.calcdata.headerCells})}),v=p({},o,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:o.calcdata.cells.values[o.specIndex],rowBlocks:o.calcdata.rowBlocks}),g=p({},o,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:o.calcdata.cells.values[o.specIndex],rowBlocks:o.calcdata.rowBlocks});return[v,g,S]},Y.splitToCells=function(o){var C=L(o);return(o.values||[]).slice(C[0],C[1]).map(function(S,v){var g=typeof S=="string"&&S.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+g,key:C[0]+v,column:o,calcdata:o.calcdata,page:o.page,rowBlocks:o.rowBlocks,value:S}})};function L(o){var C=o.rowBlocks[o.page],S=C?C.rows[0].rowIndex:0,v=C?S+C.rows.length:0;return[S,v]}},53212:function(V,Y,e){var p=e(3400),L=e(60520),o=e(86968).Q;function C(S,v){for(var g=S.columnorder||[],r=S.header.values.length,t=g.slice(0,r),a=t.slice().sort(function(u,l){return u-l}),n=t.map(function(u){return a.indexOf(u)}),f=n.length;f<r;f++)n.push(f);v("columnorder",n)}V.exports=function(v,g,r,t){function a(n,f){return p.coerce(v,g,L,n,f)}o(g,t,a),a("columnwidth"),a("header.values"),a("header.format"),a("header.align"),a("header.prefix"),a("header.suffix"),a("header.height"),a("header.line.width"),a("header.line.color"),a("header.fill.color"),p.coerceFont(a,"header.font",t.font),C(g,a),a("cells.values"),a("cells.format"),a("cells.align"),a("cells.prefix"),a("cells.suffix"),a("cells.height"),a("cells.line.width"),a("cells.line.color"),a("cells.fill.color"),p.coerceFont(a,"cells.font",t.font),g._length=null}},41724:function(V,Y,e){V.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(V,Y,e){var p=e(23536),L=e(33428),o=e(3400),C=o.numberFormat,S=e(71688),v=e(43616),g=e(72736),r=e(3400).raiseToTop,t=e(3400).strTranslate,a=e(3400).cancelTransition,n=e(55992),f=e(53056),u=e(76308);V.exports=function(ce,ae){var de=!ce._context.staticPlot,be=ce._fullLayout._paper.selectAll("."+p.cn.table).data(ae.map(function($e){var qe=S.unwrap($e),ht=qe.trace;return n(ce,ht)}),S.keyFun);be.exit().remove(),be.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),be.attr("width",function($e){return $e.width+$e.size.l+$e.size.r}).attr("height",function($e){return $e.height+$e.size.t+$e.size.b}).attr("transform",function($e){return t($e.translateX,$e.translateY)});var Se=be.selectAll("."+p.cn.tableControlView).data(S.repeat,S.keyFun),Te=Se.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(de){var Ie="onwheel"in document?"wheel":"mousewheel";Te.on("mousemove",function($e){Se.filter(function(qe){return $e===qe}).call(c,ce)}).on(Ie,function($e){if(!$e.scrollbarState.wheeling){$e.scrollbarState.wheeling=!0;var qe=$e.scrollY+L.event.deltaY,ht=ee(ce,Se,null,qe)($e);ht||(L.event.stopPropagation(),L.event.preventDefault()),$e.scrollbarState.wheeling=!1}}).call(c,ce,!0)}Se.attr("transform",function($e){return t($e.size.l,$e.size.t)});var ke=Se.selectAll("."+p.cn.scrollBackground).data(S.repeat,S.keyFun);ke.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),ke.attr("width",function($e){return $e.width}).attr("height",function($e){return $e.height}),Se.each(function($e){v.setClipUrl(L.select(this),y(ce,$e),ce)});var Be=Se.selectAll("."+p.cn.yColumn).data(function($e){return $e.columns},S.keyFun);Be.enter().append("g").classed(p.cn.yColumn,!0),Be.exit().remove(),Be.attr("transform",function($e){return t($e.x,0)}),de&&Be.call(L.behavior.drag().origin(function($e){var qe=L.select(this);return F(qe,$e,-p.uplift),r(this),$e.calcdata.columnDragInProgress=!0,c(Se.filter(function(ht){return $e.calcdata.key===ht.key}),ce),$e}).on("drag",function($e){var qe=L.select(this),ht=function(wt){return($e===wt?L.event.x:wt.x)+wt.columnWidth/2};$e.x=Math.max(-p.overdrag,Math.min($e.calcdata.width+p.overdrag-$e.columnWidth,L.event.x));var vt=T(Be).filter(function(wt){return wt.calcdata.key===$e.calcdata.key}),pt=vt.sort(function(wt,Mt){return ht(wt)-ht(Mt)});pt.forEach(function(wt,Mt){wt.xIndex=Mt,wt.x=$e===wt?wt.x:wt.xScale(wt)}),Be.filter(function(wt){return $e!==wt}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(wt){return t(wt.x,0)}),qe.call(a).attr("transform",t($e.x,-p.uplift))}).on("dragend",function($e){var qe=L.select(this),ht=$e.calcdata;$e.x=$e.xScale($e),$e.calcdata.columnDragInProgress=!1,F(qe,$e,0),k(ce,ht,ht.columns.map(function(vt){return vt.xIndex}))})),Be.each(function($e){v.setClipUrl(L.select(this),h(ce,$e),ce)});var Me=Be.selectAll("."+p.cn.columnBlock).data(f.splitToPanels,S.keyFun);Me.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function($e){return $e.key}),Me.style("cursor",function($e){return $e.dragHandle?"ew-resize":$e.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Oe=Me.filter(U),_e=Me.filter(B);de&&_e.call(L.behavior.drag().origin(function($e){return L.event.stopPropagation(),$e}).on("drag",ee(ce,Se,-1)).on("dragend",function(){})),i(ce,Se,Oe,Me),i(ce,Se,_e,Me);var Ne=Se.selectAll("."+p.cn.scrollAreaClip).data(S.repeat,S.keyFun);Ne.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function($e){return y(ce,$e)});var Ce=Ne.selectAll("."+p.cn.scrollAreaClipRect).data(S.repeat,S.keyFun);Ce.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),Ce.attr("width",function($e){return $e.width+2*p.overdrag}).attr("height",function($e){return $e.height+p.uplift});var Ye=Be.selectAll("."+p.cn.columnBoundary).data(S.repeat,S.keyFun);Ye.enter().append("g").classed(p.cn.columnBoundary,!0);var rt=Be.selectAll("."+p.cn.columnBoundaryClippath).data(S.repeat,S.keyFun);rt.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),rt.attr("id",function($e){return h(ce,$e)});var ot=rt.selectAll("."+p.cn.columnBoundaryRect).data(S.repeat,S.keyFun);ot.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),ot.attr("width",function($e){return $e.columnWidth+2*l($e)}).attr("height",function($e){return $e.calcdata.height+2*l($e)+p.uplift}).attr("x",function($e){return-l($e)}).attr("y",function($e){return-l($e)}),j(null,_e,Se)};function l(K){return Math.ceil(K.calcdata.maxLineWidth/2)}function y(K,ce){return"clip"+K._fullLayout._uid+"_scrollAreaBottomClip_"+ce.key}function h(K,ce){return"clip"+K._fullLayout._uid+"_columnBoundaryClippath_"+ce.calcdata.key+"_"+ce.specIndex}function T(K){return[].concat.apply([],K.map(function(ce){return ce})).map(function(ce){return ce.__data__})}function c(K,ce,ae){function de(Be){var Me=Be.rowBlocks;return le(Me,Me.length-1)+(Me.length?Q(Me[Me.length-1],1/0):1)}var be=K.selectAll("."+p.cn.scrollbarKit).data(S.repeat,S.keyFun);be.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),be.each(function(Be){var Me=Be.scrollbarState;Me.totalHeight=de(Be),Me.scrollableAreaHeight=Be.groupHeight-z(Be),Me.currentlyVisibleHeight=Math.min(Me.totalHeight,Me.scrollableAreaHeight),Me.ratio=Me.currentlyVisibleHeight/Me.totalHeight,Me.barLength=Math.max(Me.ratio*Me.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),Me.barWiggleRoom=Me.currentlyVisibleHeight-Me.barLength,Me.wiggleRoom=Math.max(0,Me.totalHeight-Me.scrollableAreaHeight),Me.topY=Me.barWiggleRoom===0?0:Be.scrollY/Me.wiggleRoom*Me.barWiggleRoom,Me.bottomY=Me.topY+Me.barLength,Me.dragMultiplier=Me.wiggleRoom/Me.barWiggleRoom}).attr("transform",function(Be){var Me=Be.width+p.scrollbarWidth/2+p.scrollbarOffset;return t(Me,z(Be))});var Se=be.selectAll("."+p.cn.scrollbar).data(S.repeat,S.keyFun);Se.enter().append("g").classed(p.cn.scrollbar,!0);var Te=Se.selectAll("."+p.cn.scrollbarSlider).data(S.repeat,S.keyFun);Te.enter().append("g").classed(p.cn.scrollbarSlider,!0),Te.attr("transform",function(Be){return t(0,Be.scrollbarState.topY||0)});var Ie=Te.selectAll("."+p.cn.scrollbarGlyph).data(S.repeat,S.keyFun);Ie.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),Ie.attr("y2",function(Be){return Be.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(Be){return Be.columnDragInProgress||!Be.scrollbarState.barWiggleRoom||ae?0:.4}),Ie.transition().delay(0).duration(0),Ie.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var ke=Se.selectAll("."+p.cn.scrollbarCaptureZone).data(S.repeat,S.keyFun);ke.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Be){var Me=L.event.y,Oe=this.getBoundingClientRect(),_e=Be.scrollbarState,Ne=Me-Oe.top,Ce=L.scale.linear().domain([0,_e.scrollableAreaHeight]).range([0,_e.totalHeight]).clamp(!0);_e.topY<=Ne&&Ne<=_e.bottomY||ee(ce,K,null,Ce(Ne-_e.barLength/2))(Be)}).call(L.behavior.drag().origin(function(Be){return L.event.stopPropagation(),Be.scrollbarState.scrollbarScrollInProgress=!0,Be}).on("drag",ee(ce,K)).on("dragend",function(){})),ke.attr("y2",function(Be){return Be.scrollbarState.scrollableAreaHeight}),ce._context.staticPlot&&(Ie.remove(),ke.remove())}function i(K,ce,ae,de){var be=d(ae),Se=x(be);E(Se);var Te=w(Se);s(Te);var Ie=m(Se),ke=_(Ie);A(ke),M(ke,ce,de,K),q(Se)}function d(K){var ce=K.selectAll("."+p.cn.columnCells).data(S.repeat,S.keyFun);return ce.enter().append("g").classed(p.cn.columnCells,!0),ce.exit().remove(),ce}function x(K){var ce=K.selectAll("."+p.cn.columnCell).data(f.splitToCells,function(ae){return ae.keyWithinBlock});return ce.enter().append("g").classed(p.cn.columnCell,!0),ce.exit().remove(),ce}function w(K){var ce=K.selectAll("."+p.cn.cellRect).data(S.repeat,function(ae){return ae.keyWithinBlock});return ce.enter().append("rect").classed(p.cn.cellRect,!0),ce}function _(K){var ce=K.selectAll("."+p.cn.cellText).data(S.repeat,function(ae){return ae.keyWithinBlock});return ce.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),ce}function m(K){var ce=K.selectAll("."+p.cn.cellTextHolder).data(S.repeat,function(ae){return ae.keyWithinBlock});return ce.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ce}function E(K){K.each(function(ce,ae){var de=ce.calcdata.cells.font,be=ce.column.specIndex,Se={size:H(de.size,be,ae),color:H(de.color,be,ae),family:H(de.family,be,ae),weight:H(de.weight,be,ae),style:H(de.style,be,ae),variant:H(de.variant,be,ae),textcase:H(de.textcase,be,ae),lineposition:H(de.lineposition,be,ae),shadow:H(de.shadow,be,ae)};ce.rowNumber=ce.key,ce.align=H(ce.calcdata.cells.align,be,ae),ce.cellBorderWidth=H(ce.calcdata.cells.line.width,be,ae),ce.font=Se})}function A(K){K.each(function(ce){v.font(L.select(this),ce.font)})}function s(K){K.attr("width",function(ce){return ce.column.columnWidth}).attr("stroke-width",function(ce){return ce.cellBorderWidth}).each(function(ce){var ae=L.select(this);u.stroke(ae,H(ce.calcdata.cells.line.color,ce.column.specIndex,ce.rowNumber)),u.fill(ae,H(ce.calcdata.cells.fill.color,ce.column.specIndex,ce.rowNumber))})}function M(K,ce,ae,de){K.text(function(be){var Se=be.column.specIndex,Te=be.rowNumber,Ie=be.value,ke=typeof Ie=="string",Be=ke&&Ie.match(/<br>/i),Me=!ke||Be;be.mayHaveMarkup=ke&&Ie.match(/[<&>]/);var Oe=b(Ie);be.latex=Oe;var _e=Oe?"":H(be.calcdata.cells.prefix,Se,Te)||"",Ne=Oe?"":H(be.calcdata.cells.suffix,Se,Te)||"",Ce=Oe?null:H(be.calcdata.cells.format,Se,Te)||null,Ye=_e+(Ce?C(Ce)(be.value):be.value)+Ne,rt;be.wrappingNeeded=!be.wrapped&&!Me&&!Oe&&(rt=N(Ye)),be.cellHeightMayIncrease=Be||Oe||be.mayHaveMarkup||(rt===void 0?N(Ye):rt),be.needsConvertToTspans=be.mayHaveMarkup||be.wrappingNeeded||be.latex;var ot;if(be.wrappingNeeded){var $e=p.wrapSplitCharacter===" "?Ye.replace(/<a href=/ig,"<a_href="):Ye,qe=$e.split(p.wrapSplitCharacter),ht=p.wrapSplitCharacter===" "?qe.map(function(vt){return vt.replace(/<a_href=/ig,"<a href=")}):qe;be.fragments=ht.map(function(vt){return{text:vt,width:null}}),be.fragments.push({fragment:p.wrapSpacer,width:null}),ot=ht.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete be.fragments,ot=Ye;return ot}).attr("dy",function(be){return be.needsConvertToTspans?0:"0.75em"}).each(function(be){var Se=this,Te=L.select(Se),Ie=be.wrappingNeeded?oe:he;be.needsConvertToTspans?g.convertToTspans(Te,de,Ie(ae,Se,ce,de,be)):L.select(Se.parentNode).attr("transform",function(ke){return t(ne(ke),p.cellPad)}).attr("text-anchor",function(ke){return{left:"start",center:"middle",right:"end"}[ke.align]})})}function b(K){return typeof K=="string"&&K.match(p.latexCheck)}function N(K){return K.indexOf(p.wrapSplitCharacter)!==-1}function k(K,ce,ae){var de=ce.gdColumnsOriginalOrder;ce.gdColumns.sort(function(be,Se){return ae[de.indexOf(be)]-ae[de.indexOf(Se)]}),ce.columnorder=ae,K.emit("plotly_restyle")}function H(K,ce,ae){if(o.isArrayOrTypedArray(K)){var de=K[Math.min(ce,K.length-1)];return o.isArrayOrTypedArray(de)?de[Math.min(ae,de.length-1)]:de}else return K}function F(K,ce,ae){K.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",t(ce.x,ae))}function B(K){return K.type==="cells"}function U(K){return K.type==="header"}function z(K){var ce=K.rowBlocks.length?K.rowBlocks[0].auxiliaryBlocks:[];return ce.reduce(function(ae,de){return ae+Q(de,1/0)},0)}function W(K,ce,ae){for(var de=[],be=0,Se=0;Se<K.length;Se++){for(var Te=K[Se],Ie=Te.rows,ke=0,Be=0;Be<Ie.length;Be++)ke+=Ie[Be].rowHeight;Te.allRowsHeight=ke;var Me=be+ke,Oe=ce,_e=Oe+ae;Oe<Me&&_e>be&&de.push(Se),be+=ke}return de}function j(K,ce,ae){var de=T(ce)[0];if(de!==void 0){var be=de.rowBlocks,Se=de.calcdata,Te=le(be,be.length),Ie=de.calcdata.groupHeight-z(de),ke=Se.scrollY=Math.max(0,Math.min(Te-Ie,Se.scrollY)),Be=W(be,ke,Ie);Be.length===1&&(Be[0]===be.length-1?Be.unshift(Be[0]-1):Be.push(Be[0]+1)),Be[0]%2&&Be.reverse(),ce.each(function(Me,Oe){Me.page=Be[Oe],Me.scrollY=ke}),ce.attr("transform",function(Me){var Oe=le(Me.rowBlocks,Me.page)-Me.scrollY;return t(0,Oe)}),K&&(ie(K,ae,ce,Be,de.prevPages,de,0),ie(K,ae,ce,Be,de.prevPages,de,1),c(ae,K))}}function ee(K,ce,ae,de){return function(Se){var Te=Se.calcdata?Se.calcdata:Se,Ie=ce.filter(function(Oe){return Te.key===Oe.key}),ke=ae||Te.scrollbarState.dragMultiplier,Be=Te.scrollY;Te.scrollY=de===void 0?Te.scrollY+ke*L.event.dy:de;var Me=Ie.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(B);return j(K,Me,Ie),Te.scrollY===Be}}function ie(K,ce,ae,de,be,Se,Te){var Ie=de[Te]!==be[Te];Ie&&(clearTimeout(Se.currentRepaint[Te]),Se.currentRepaint[Te]=setTimeout(function(){var ke=ae.filter(function(Be,Me){return Me===Te&&de[Me]!==be[Me]});i(K,ce,ke,ae),be[Te]=de[Te]}))}function oe(K,ce,ae,de){return function(){var Se=L.select(ce.parentNode);Se.each(function(Te){var Ie=Te.fragments;Se.selectAll("tspan.line").each(function(Ye,rt){Ie[rt].width=this.getComputedTextLength()});var ke=Ie[Ie.length-1].width,Be=Ie.slice(0,-1),Me=[],Oe,_e,Ne=0,Ce=Te.column.columnWidth-2*p.cellPad;for(Te.value="";Be.length;)Oe=Be.shift(),_e=Oe.width+ke,Ne+_e>Ce&&(Te.value+=Me.join(p.wrapSpacer)+p.lineBreaker,Me=[],Ne=0),Me.push(Oe.text),Ne+=_e;Ne&&(Te.value+=Me.join(p.wrapSpacer)),Te.wrapped=!0}),Se.selectAll("tspan.line").remove(),M(Se.select("."+p.cn.cellText),ae,K,de),L.select(ce.parentNode.parentNode).call(q)}}function he(K,ce,ae,de,be){return function(){if(!be.settledY){var Te=L.select(ce.parentNode),Ie=ue(be),ke=be.key-Ie.firstRowIndex,Be=Ie.rows[ke].rowHeight,Me=be.cellHeightMayIncrease?ce.parentNode.getBoundingClientRect().height+2*p.cellPad:Be,Oe=Math.max(Me,Be),_e=Oe-Ie.rows[ke].rowHeight;_e&&(Ie.rows[ke].rowHeight=Oe,K.selectAll("."+p.cn.columnCell).call(q),j(null,K.filter(B),0),c(ae,de,!0)),Te.attr("transform",function(){var Ne=this,Ce=Ne.parentNode,Ye=Ce.getBoundingClientRect(),rt=L.select(Ne.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),ot=Ne.transform.baseVal.consolidate(),$e=rt.top-Ye.top+(ot?ot.matrix.f:p.cellPad);return t(ne(be,L.select(Ne.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),$e)}),be.settledY=!0}}}function ne(K,ce){switch(K.align){case"left":return p.cellPad;case"right":return K.column.columnWidth-(ce||0)-p.cellPad;case"center":return(K.column.columnWidth-(ce||0))/2;default:return p.cellPad}}function q(K){K.attr("transform",function(ce){var ae=ce.rowBlocks[0].auxiliaryBlocks.reduce(function(Te,Ie){return Te+Q(Ie,1/0)},0),de=ue(ce),be=Q(de,ce.key),Se=be+ae;return t(0,Se)}).selectAll("."+p.cn.cellRect).attr("height",function(ce){return J(ue(ce),ce.key).rowHeight})}function le(K,ce){for(var ae=0,de=ce-1;de>=0;de--)ae+=te(K[de]);return ae}function Q(K,ce){for(var ae=0,de=0;de<K.rows.length&&K.rows[de].rowIndex<ce;de++)ae+=K.rows[de].rowHeight;return ae}function te(K){var ce=K.allRowsHeight;if(ce!==void 0)return ce;for(var ae=0,de=0;de<K.rows.length;de++)ae+=K.rows[de].rowHeight;return K.allRowsHeight=ae,ae}function ue(K){return K.rowBlocks[K.page]}function J(K,ce){return K.rows[ce-K.firstRowIndex]}},40516:function(V,Y,e){var p=e(21776).Ks,L=e(21776).Gw,o=e(49084),C=e(86968).u,S=e(74996),v=e(424),g=e(32984),r=e(92880).extendFlat,t=e(98192).c;V.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},S.textfont,{}),editType:"calc"},text:S.text,textinfo:v.textinfo,texttemplate:L({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:S.hovertext,hoverinfo:v.hoverinfo,hovertemplate:p({},{keys:g.eventDataKeys}),textfont:S.textfont,insidetextfont:S.insidetextfont,outsidetextfont:r({},S.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:S.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},79516:function(V,Y,e){var p=e(7316);Y.name="treemap",Y.plot=function(L,o,C,S){p.plotBasePlot(Y.name,L,o,C,S)},Y.clean=function(L,o,C,S){p.cleanBasePlot(Y.name,L,o,C,S)}},97840:function(V,Y,e){var p=e(3776);Y.r=function(L,o){return p.calc(L,o)},Y.q=function(L){return p._runCrossTraceCalc("treemap",L)}},32984:function(V){V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(V,Y,e){var p=e(3400),L=e(40516),o=e(76308),C=e(86968).Q,S=e(31508).handleText,v=e(78048).TEXTPAD,g=e(74174).handleMarkerDefaults,r=e(8932),t=r.hasColorscale,a=r.handleDefaults;V.exports=function(f,u,l,y){function h(s,M){return p.coerce(f,u,L,s,M)}var T=h("labels"),c=h("parents");if(!T||!T.length||!c||!c.length){u.visible=!1;return}var i=h("values");i&&i.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var x=h("text");h("texttemplate"),u.texttemplate||h("textinfo",p.isArrayOrTypedArray(x)?"text+label":"label"),h("hovertext"),h("hovertemplate");var w=h("pathbar.visible"),_="auto";S(f,u,y,h,_,{hasPathbar:w,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var m=u.textposition.indexOf("bottom")!==-1;g(f,u,y,h);var E=u._hasColorscale=t(f,"marker","colors")||(f.marker||{}).coloraxis;E?a(f,u,y,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(u.marker.colors||[]).length);var A=u.textfont.size*2;h("marker.pad.t",m?A/4:A),h("marker.pad.l",A/4),h("marker.pad.r",A/4),h("marker.pad.b",m?A:A/4),h("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:o.contrast(y.paper_bgcolor)}}},w&&(h("pathbar.thickness",u.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),C(u,y,h),u._length=null}},95808:function(V,Y,e){var p=e(33428),L=e(78176),o=e(82744),C=o.clearMinTextSize,S=e(60100).resizeText,v=e(52960);V.exports=function(r,t,a,n,f){var u=f.type,l=f.drawDescendants,y=r._fullLayout,h=y["_"+u+"layer"],T,c,i=!a;if(C(u,y),T=h.selectAll("g.trace."+u).data(t,function(x){return x[0].trace.uid}),T.enter().append("g").classed("trace",!0).classed(u,!0),T.order(),!y.uniformtext.mode&&L.hasTransition(a)){n&&(c=n());var d=p.transition().duration(a.duration).ease(a.easing).each("end",function(){c&&c()}).each("interrupt",function(){c&&c()});d.each(function(){h.selectAll("g.trace").each(function(x){v(r,x,this,a,l)})})}else T.each(function(x){v(r,x,this,a,l)}),y.uniformtext.mode&&S(r,h.selectAll(".trace"),u);i&&T.exit().remove()}},27336:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(72736),S=e(13832),v=e(66192).styleOne,g=e(32984),r=e(78176),t=e(45716),a=!0;V.exports=function(f,u,l,y,h){var T=h.barDifY,c=h.width,i=h.height,d=h.viewX,x=h.viewY,w=h.pathSlice,_=h.toMoveInsideSlice,m=h.strTransform,E=h.hasTransition,A=h.handleSlicesExit,s=h.makeUpdateSliceInterpolator,M=h.makeUpdateTextInterpolator,b={},N=f._context.staticPlot,k=f._fullLayout,H=u[0],F=H.trace,B=H.hierarchy,U=c/F._entryDepth,z=r.listPath(l.data,"id"),W=S(B.copy(),[c,i],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();W=W.filter(function(ee){var ie=z.indexOf(ee.data.id);return ie===-1?!1:(ee.x0=U*ie,ee.x1=U*(ie+1),ee.y0=T,ee.y1=T+i,ee.onPathbar=!0,!0)}),W.reverse(),y=y.data(W,r.getPtId),y.enter().append("g").classed("pathbar",!0),A(y,a,b,[c,i],w),y.order();var j=y;E&&(j=j.transition().each("end",function(){var ee=p.select(this);r.setSliceCursor(ee,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(ee){ee._x0=d(ee.x0),ee._x1=d(ee.x1),ee._y0=x(ee.y0),ee._y1=x(ee.y1),ee._hoverX=d(ee.x1-Math.min(c,i)/2),ee._hoverY=x(ee.y1-i/2);var ie=p.select(this),oe=L.ensureSingle(ie,"path","surface",function(le){le.style("pointer-events",N?"none":"all")});E?oe.transition().attrTween("d",function(le){var Q=s(le,a,b,[c,i]);return function(te){return w(Q(te))}}):oe.attr("d",w),ie.call(t,l,f,u,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,f,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:f._transitioning}),oe.call(v,ee,F,f,{hovered:!1}),ee._text=(r.getPtLabel(ee)||"").split("<br>").join(" ")||"";var he=L.ensureSingle(ie,"g","slicetext"),ne=L.ensureSingle(he,"text","",function(le){le.attr("data-notex",1)}),q=L.ensureUniformFontSize(f,r.determineTextFont(F,ee,k.font,{onPathbar:!0}));ne.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(o.font,q).call(C.convertToTspans,f),ee.textBB=o.bBox(ne.node()),ee.transform=_(ee,{fontSize:q.size,onPathbar:!0}),ee.transform.fontSize=q.size,E?ne.transition().attrTween("transform",function(le){var Q=M(le,a,b,[c,i]);return function(te){return m(Q(te))}}):ne.attr("transform",m(ee))})}},76477:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(72736),S=e(13832),v=e(66192).styleOne,g=e(32984),r=e(78176),t=e(45716),a=e(96488).formatSliceLabel,n=!1;V.exports=function(u,l,y,h,T){var c=T.width,i=T.height,d=T.viewX,x=T.viewY,w=T.pathSlice,_=T.toMoveInsideSlice,m=T.strTransform,E=T.hasTransition,A=T.handleSlicesExit,s=T.makeUpdateSliceInterpolator,M=T.makeUpdateTextInterpolator,b=T.prevEntry,N={},k=u._context.staticPlot,H=u._fullLayout,F=l[0],B=F.trace,U=B.textposition.indexOf("left")!==-1,z=B.textposition.indexOf("right")!==-1,W=B.textposition.indexOf("bottom")!==-1,j=!W&&!B.marker.pad.t||W&&!B.marker.pad.b,ee=S(y,[c,i],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}),ie=ee.descendants(),oe=1/0,he=-1/0;ie.forEach(function(te){var ue=te.depth;ue>=B._maxDepth?(te.x0=te.x1=(te.x0+te.x1)/2,te.y0=te.y1=(te.y0+te.y1)/2):(oe=Math.min(oe,ue),he=Math.max(he,ue))}),h=h.data(ie,r.getPtId),B._maxVisibleLayers=isFinite(he)?he-oe+1:0,h.enter().append("g").classed("slice",!0),A(h,n,N,[c,i],w),h.order();var ne=null;if(E&&b){var q=r.getPtId(b);h.each(function(te){ne===null&&r.getPtId(te)===q&&(ne={x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1})})}var le=function(){return ne||{x0:0,x1:c,y0:0,y1:i}},Q=h;return E&&(Q=Q.transition().each("end",function(){var te=p.select(this);r.setSliceCursor(te,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Q.each(function(te){var ue=r.isHeader(te,B);te._x0=d(te.x0),te._x1=d(te.x1),te._y0=x(te.y0),te._y1=x(te.y1),te._hoverX=d(te.x1-B.marker.pad.r),te._hoverY=x(W?te.y1-B.marker.pad.b/2:te.y0+B.marker.pad.t/2);var J=p.select(this),K=L.ensureSingle(J,"path","surface",function(Te){Te.style("pointer-events",k?"none":"all")});E?K.transition().attrTween("d",function(Te){var Ie=s(Te,n,le(),[c,i]);return function(ke){return w(Ie(ke))}}):K.attr("d",w),J.call(t,y,u,l,{styleOne:v,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),K.call(v,te,B,u,{hovered:!1}),te.x0===te.x1||te.y0===te.y1?te._text="":ue?te._text=j?"":r.getPtLabel(te)||"":te._text=a(te,y,B,l,H)||"";var ce=L.ensureSingle(J,"g","slicetext"),ae=L.ensureSingle(ce,"text","",function(Te){Te.attr("data-notex",1)}),de=L.ensureUniformFontSize(u,r.determineTextFont(B,te,H.font)),be=te._text||" ",Se=ue&&be.indexOf("<br>")===-1;ae.text(be).classed("slicetext",!0).attr("text-anchor",z?"end":U||Se?"start":"middle").call(o.font,de).call(C.convertToTspans,u),te.textBB=o.bBox(ae.node()),te.transform=_(te,{fontSize:de.size,isHeader:ue}),te.transform.fontSize=de.size,E?ae.transition().attrTween("transform",function(Te){var Ie=M(Te,n,le(),[c,i]);return function(ke){return m(Ie(ke))}}):ae.attr("transform",m(te))}),ne}},83024:function(V){V.exports=function Y(e,p,L){var o;L.swapXY&&(o=e.x0,e.x0=e.y0,e.y0=o,o=e.x1,e.x1=e.y1,e.y1=o),L.flipX&&(o=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-o),L.flipY&&(o=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-o);var C=e.children;if(C)for(var S=0;S<C.length;S++)Y(C[S],p,L)}},31991:function(V,Y,e){V.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(V){V.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(V,Y,e){var p=e(3400),L=e(45392);V.exports=function(C,S){function v(g,r){return p.coerce(C,S,L,g,r)}v("treemapcolorway",S.colorway),v("extendtreemapcolors")}},13832:function(V,Y,e){var p=e(74148),L=e(83024);V.exports=function(S,v,g){var r=g.flipX,t=g.flipY,a=g.packing==="dice-slice",n=g.pad[t?"bottom":"top"],f=g.pad[r?"right":"left"],u=g.pad[r?"left":"right"],l=g.pad[t?"top":"bottom"],y;a&&(y=f,f=n,n=y,y=u,u=l,l=y);var h=p.treemap().tile(o(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(f).paddingRight(u).paddingTop(n).paddingBottom(l).size(a?[v[1],v[0]]:v)(S);return(a||r||t)&&L(h,v,{swapXY:a,flipX:r,flipY:t}),h};function o(C,S){switch(C){case"squarify":return p.treemapSquarify.ratio(S);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}},53264:function(V,Y,e){var p=e(95808),L=e(76477);V.exports=function(C,S,v,g){return p(C,S,v,g,{type:"treemap",drawDescendants:L})}},52960:function(V,Y,e){var p=e(33428),L=e(67756).qy,o=e(78176),C=e(3400),S=e(78048).TEXTPAD,v=e(98184),g=v.toMoveInsideBar,r=e(82744),t=r.recordMinTextSize,a=e(32984),n=e(27336);function f(u){return o.isHierarchyRoot(u)?"":o.getPtId(u)}V.exports=function(l,y,h,T,c){var i=l._fullLayout,d=y[0],x=d.trace,w=x.type,_=w==="icicle",m=d.hierarchy,E=o.findEntryWithLevel(m,x.level),A=p.select(h),s=A.selectAll("g.pathbar"),M=A.selectAll("g.slice");if(!E){s.remove(),M.remove();return}var b=o.isHierarchyRoot(E),N=!i.uniformtext.mode&&o.hasTransition(T),k=o.getMaxDepth(x),H=function(Fe){return Fe.data.depth-E.data.depth<k},F=i._size,B=x.domain,U=F.w*(B.x[1]-B.x[0]),z=F.h*(B.y[1]-B.y[0]),W=U,j=x.pathbar.thickness,ee=x.marker.line.width+a.gapWithPathbar,ie=x.pathbar.visible?x.pathbar.side.indexOf("bottom")>-1?z+ee:-(j+ee):0,oe={x0:W,x1:W,y0:ie,y1:ie+j},he=function(Fe,We,Ze){var Ge=x.tiling.pad,Pe=function(ge){return ge-Ge<=We.x0},Re=function(ge){return ge+Ge>=We.x1},je=function(ge){return ge-Ge<=We.y0},De=function(ge){return ge+Ge>=We.y1};return Fe.x0===We.x0&&Fe.x1===We.x1&&Fe.y0===We.y0&&Fe.y1===We.y1?{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1}:{x0:Pe(Fe.x0-Ge)?0:Re(Fe.x0-Ge)?Ze[0]:Fe.x0,x1:Pe(Fe.x1+Ge)?0:Re(Fe.x1+Ge)?Ze[0]:Fe.x1,y0:je(Fe.y0-Ge)?0:De(Fe.y0-Ge)?Ze[1]:Fe.y0,y1:je(Fe.y1+Ge)?0:De(Fe.y1+Ge)?Ze[1]:Fe.y1}},ne=null,q={},le={},Q=null,te=function(Fe,We){return We?q[f(Fe)]:le[f(Fe)]},ue=function(Fe,We,Ze,Ge){if(We)return q[f(m)]||oe;var Pe=le[x.level]||Ze;return H(Fe)?he(Fe,Pe,Ge):{}};d.hasMultipleRoots&&b&&k++,x._maxDepth=k,x._backgroundColor=i.paper_bgcolor,x._entryDepth=E.data.depth,x._atRootLevel=b;var J=-U/2+F.l+F.w*(B.x[1]+B.x[0])/2,K=-z/2+F.t+F.h*(1-(B.y[1]+B.y[0])/2),ce=function(Fe){return J+Fe},ae=function(Fe){return K+Fe},de=ae(0),be=ce(0),Se=function(Fe){return be+Fe},Te=function(Fe){return de+Fe};function Ie(Fe,We){return Fe+","+We}var ke=Se(0),Be=function(Fe){Fe.x=Math.max(ke,Fe.x)},Me=x.pathbar.edgeshape,Oe=function(Fe){var We=Se(Math.max(Math.min(Fe.x0,Fe.x0),0)),Ze=Se(Math.min(Math.max(Fe.x1,Fe.x1),W)),Ge=Te(Fe.y0),Pe=Te(Fe.y1),Re=j/2,je={},De={};je.x=We,De.x=Ze,je.y=De.y=(Ge+Pe)/2;var ge={x:We,y:Ge},we={x:Ze,y:Ge},Ue={x:Ze,y:Pe},et={x:We,y:Pe};return Me===">"?(ge.x-=Re,we.x-=Re,Ue.x-=Re,et.x-=Re):Me==="/"?(Ue.x-=Re,et.x-=Re,je.x-=Re/2,De.x-=Re/2):Me==="\\"?(ge.x-=Re,we.x-=Re,je.x-=Re/2,De.x-=Re/2):Me==="<"&&(je.x-=Re,De.x-=Re),Be(ge),Be(et),Be(je),Be(we),Be(Ue),Be(De),"M"+Ie(ge.x,ge.y)+"L"+Ie(we.x,we.y)+"L"+Ie(De.x,De.y)+"L"+Ie(Ue.x,Ue.y)+"L"+Ie(et.x,et.y)+"L"+Ie(je.x,je.y)+"Z"},_e=x[_?"tiling":"marker"].pad,Ne=function(Fe){return x.textposition.indexOf(Fe)!==-1},Ce=Ne("top"),Ye=Ne("left"),rt=Ne("right"),ot=Ne("bottom"),$e=function(Fe){var We=ce(Fe.x0),Ze=ce(Fe.x1),Ge=ae(Fe.y0),Pe=ae(Fe.y1),Re=Ze-We,je=Pe-Ge;if(!Re||!je)return"";var De=x.marker.cornerradius||0,ge=Math.min(De,Re/2,je/2);ge&&Fe.data&&Fe.data.data&&Fe.data.data.label&&(Ce&&(ge=Math.min(ge,_e.t)),Ye&&(ge=Math.min(ge,_e.l)),rt&&(ge=Math.min(ge,_e.r)),ot&&(ge=Math.min(ge,_e.b)));var we=function(Ue,et){return ge?"a"+Ie(ge,ge)+" 0 0 1 "+Ie(Ue,et):""};return"M"+Ie(We,Ge+ge)+we(ge,-ge)+"L"+Ie(Ze-ge,Ge)+we(ge,ge)+"L"+Ie(Ze,Pe-ge)+we(-ge,ge)+"L"+Ie(We+ge,Pe)+we(-ge,-ge)+"Z"},qe=function(Fe,We){var Ze=Fe.x0,Ge=Fe.x1,Pe=Fe.y0,Re=Fe.y1,je=Fe.textBB,De=Ce||We.isHeader&&!ot,ge=De?"start":ot?"end":"middle",we=Ne("right"),Ue=Ne("left")||We.onPathbar,et=Ue?-1:we?1:0;if(We.isHeader){if(Ze+=(_?_e:_e.l)-S,Ge-=(_?_e:_e.r)-S,Ze>=Ge){var st=(Ze+Ge)/2;Ze=st,Ge=st}var lt;ot?(lt=Re-(_?_e:_e.b),Pe<lt&&lt<Re&&(Pe=lt)):(lt=Pe+(_?_e:_e.t),Pe<lt&&lt<Re&&(Re=lt))}var Wt=g(Ze,Ge,Pe,Re,je,{isHorizontal:!1,constrained:!0,angle:0,anchor:ge,leftToRight:et});return Wt.fontSize=We.fontSize,Wt.targetX=ce(Wt.targetX),Wt.targetY=ae(Wt.targetY),isNaN(Wt.targetX)||isNaN(Wt.targetY)?{}:(Ze!==Ge&&Pe!==Re&&t(x.type,Wt,i),{scale:Wt.scale,rotate:Wt.rotate,textX:Wt.textX,textY:Wt.textY,anchorX:Wt.anchorX,anchorY:Wt.anchorY,targetX:Wt.targetX,targetY:Wt.targetY})},ht=function(Fe,We){for(var Ze,Ge=0,Pe=Fe;!Ze&&Ge<k;)Ge++,Pe=Pe.parent,Pe?Ze=te(Pe,We):Ge=k;return Ze||{}},vt=function(Fe,We,Ze,Ge){var Pe=te(Fe,We),Re;if(We)Re=oe;else{var je=te(E,We);je?Re=he(Fe,je,Ge):Re={}}return L(Pe,Re)},pt=function(Fe,We,Ze,Ge,Pe){var Re=te(Fe,We),je;if(Re)je=Re;else if(We)je=oe;else if(ne)if(Fe.parent){var De=Q||Ze;De&&!We?je=he(Fe,De,Ge):(je={},C.extendFlat(je,ht(Fe,We)))}else je=C.extendFlat({},Fe),_&&(Pe.orientation==="h"?Pe.flipX?je.x0=Fe.x1:je.x1=0:Pe.flipY?je.y0=Fe.y1:je.y1=0);else je={};return L(je,{x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1})},wt=function(Fe,We,Ze,Ge){var Pe=te(Fe,We),Re={},je=ue(Fe,We,Ze,Ge);C.extendFlat(Re,{transform:qe({x0:je.x0,x1:je.x1,y0:je.y0,y1:je.y1,textBB:Fe.textBB,_text:Fe._text},{isHeader:o.isHeader(Fe,x)})}),Pe?Re=Pe:Fe.parent&&C.extendFlat(Re,ht(Fe,We));var De=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&t(x.type,De,i),L(Re,{transform:{scale:De.scale,rotate:De.rotate,textX:De.textX,textY:De.textY,anchorX:De.anchorX,anchorY:De.anchorY,targetX:De.targetX,targetY:De.targetY}})},Mt=function(Fe,We,Ze,Ge,Pe){var Re=Ge[0],je=Ge[1];N?Fe.exit().transition().each(function(){var De=p.select(this),ge=De.select("path.surface");ge.transition().attrTween("d",function(Ue){var et=vt(Ue,We,Ze,[Re,je]);return function(st){return Pe(et(st))}});var we=De.select("g.slicetext");we.attr("opacity",0)}).remove():Fe.exit().remove()},nt=function(Fe){var We=Fe.transform;return Fe.x0!==Fe.x1&&Fe.y0!==Fe.y1&&t(x.type,We,i),C.getTextTransform({textX:We.textX,textY:We.textY,anchorX:We.anchorX,anchorY:We.anchorY,targetX:We.targetX,targetY:We.targetY,scale:We.scale,rotate:We.rotate})};N&&(s.each(function(Fe){q[f(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(q[f(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate})}),M.each(function(Fe){le[f(Fe)]={x0:Fe.x0,x1:Fe.x1,y0:Fe.y0,y1:Fe.y1},Fe.transform&&(le[f(Fe)].transform={textX:Fe.transform.textX,textY:Fe.transform.textY,anchorX:Fe.transform.anchorX,anchorY:Fe.transform.anchorY,targetX:Fe.transform.targetX,targetY:Fe.transform.targetY,scale:Fe.transform.scale,rotate:Fe.transform.rotate}),!ne&&o.isEntry(Fe)&&(ne=Fe)})),Q=c(l,y,E,M,{width:U,height:z,viewX:ce,viewY:ae,pathSlice:$e,toMoveInsideSlice:qe,prevEntry:ne,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:wt,handleSlicesExit:Mt,hasTransition:N,strTransform:nt}),x.pathbar.visible?n(l,y,E,s,{barDifY:ie,width:W,height:j,viewX:Se,viewY:Te,pathSlice:Oe,toMoveInsideSlice:qe,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:wt,handleSlicesExit:Mt,hasTransition:N,strTransform:nt}):s.remove()}},66192:function(V,Y,e){var p=e(33428),L=e(76308),o=e(3400),C=e(78176),S=e(82744).resizeText,v=e(60404);function g(t){var a=t._fullLayout._treemaplayer.selectAll(".trace");S(t,a,"treemap"),a.each(function(n){var f=p.select(this),u=n[0],l=u.trace;f.style("opacity",l.opacity),f.selectAll("path.surface").each(function(y){p.select(this).call(r,y,l,t,{hovered:!1})})})}function r(t,a,n,f,u){var l=(u||{}).hovered,y=a.data.data,h=y.i,T,c,i=y.color,d=C.isHierarchyRoot(a),x=1;if(l)T=n._hovered.marker.line.color,c=n._hovered.marker.line.width;else if(d&&i===n.root.color)x=100,T="rgba(0,0,0,0)",c=0;else if(T=o.castOption(n,h,"marker.line.color")||L.defaultLine,c=o.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!a.onPathbar){var w=n.marker.depthfade;if(w){var _=L.combine(L.addOpacity(n._backgroundColor,.75),i),m;if(w===!0){var E=C.getMaxDepth(n);isFinite(E)?C.isLeaf(a)?m=0:m=n._maxVisibleLayers-(a.data.depth-n._entryDepth):m=a.data.height+1}else m=a.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var A=0;A<m;A++){var s=.5*A/m;i=L.combine(L.addOpacity(_,s),i)}}}t.call(v,a,n,f,i).style("stroke-width",c).call(L.stroke,T).style("opacity",x)}V.exports={style:g,styleOne:r}},13988:function(V,Y,e){var p=e(63188),L=e(92880).extendFlat,o=e(29736).axisHoverFormat;V.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:o("x"),yhoverformat:o("y"),name:L({},p.name,{}),orientation:L({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:L({},p.boxpoints,{}),jitter:L({},p.jitter,{}),pointpos:L({},p.pointpos,{}),width:L({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"},zorder:p.zorder}},67064:function(V,Y,e){var p=e(3400),L=e(54460),o=e(62555),C=e(63800),S=e(39032).BADNUM;V.exports=function(a,n){var f=o(a,n);if(f[0].t.empty)return f;for(var u=a._fullLayout,l=L.getFromId(a,n[n.orientation==="h"?"xaxis":"yaxis"]),y=1/0,h=-1/0,T=0,c=0,i=0;i<f.length;i++){var d=f[i],x=d.pts.map(C.extractVal),w=d.bandwidth=g(n,d,x),_=d.span=r(n,d,l,w);if(d.min===d.max&&w===0)_=d.span=[d.min,d.max],d.density=[{v:1,t:_[0]}],d.bandwidth=w,T=Math.max(T,1);else{var m=_[1]-_[0],E=Math.ceil(m/(w/3)),A=m/E;if(!isFinite(A)||!isFinite(E))return p.error("Something went wrong with computing the violin span"),f[0].t.empty=!0,f;var s=C.makeKDE(d,n,x);d.density=new Array(E);for(var M=0,b=_[0];b<_[1]+A/2;M++,b+=A){var N=s(b);d.density[M]={v:N,t:b},T=Math.max(T,N)}}c=Math.max(c,x.length),y=Math.min(y,_[0]),h=Math.max(h,_[1])}var k=L.findExtremes(l,[y,h],{padded:!0});if(n._extremes[l._id]=k,n.width)f[0].t.maxKDE=T;else{var H=u._violinScaleGroupStats,F=n.scalegroup,B=H[F];B?(B.maxKDE=Math.max(B.maxKDE,T),B.maxCount=Math.max(B.maxCount,c)):H[F]={maxKDE:T,maxCount:c}}return f[0].t.labels.kde=p._(a,"kde:"),f};function v(t,a,n){var f=Math.min(a,n/1.349);return 1.059*f*Math.pow(t,-.2)}function g(t,a,n){var f=a.max-a.min;if(!f)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,f/1e4);var u=n.length,l=p.stdev(n,u-1,a.mean);return Math.max(v(u,l,a.q3-a.q1),f/100)}function r(t,a,n,f){var u=t.spanmode,l=t.span||[],y=[a.min,a.max],h=[a.min-2*f,a.max+2*f],T;function c(d){var x=l[d],w=n.type==="multicategory"?n.r2c(x):n.d2c(x,0,t[a.valLetter+"calendar"]);return w===S?h[d]:w}u==="soft"?T=h:u==="hard"?T=y:T=[c(0),c(1)];var i={type:"linear",range:T};return L.setConvert(i),i.cleanRange(),T}},14348:function(V,Y,e){var p=e(96404).setPositionOffset,L=["v","h"];V.exports=function(C,S){for(var v=C.calcdata,g=S.xaxis,r=S.yaxis,t=0;t<L.length;t++){for(var a=L[t],n=a==="h"?r:g,f=[],u=0;u<v.length;u++){var l=v[u],y=l[0].t,h=l[0].trace;h.visible===!0&&h.type==="violin"&&!y.empty&&h.orientation===a&&h.xaxis===g._id&&h.yaxis===r._id&&f.push(u)}p("violin",C,f,n)}}},36240:function(V,Y,e){var p=e(3400),L=e(76308),o=e(90624),C=e(13988);V.exports=function(v,g,r,t){function a(A,s){return p.coerce(v,g,C,A,s)}function n(A,s){return p.coerce2(v,g,C,A,s)}if(o.handleSampleDefaults(v,g,a,t),g.visible!==!1){a("bandwidth"),a("side");var f=a("width");f||(a("scalegroup",g.name),a("scalemode"));var u=a("span"),l;Array.isArray(u)&&(l="manual"),a("spanmode",l);var y=a("line.color",(v.marker||{}).color||r),h=a("line.width"),T=a("fillcolor",L.addOpacity(g.line.color,.5));o.handlePointsDefaults(v,g,a,{prefix:""});var c=n("box.width"),i=n("box.fillcolor",T),d=n("box.line.color",y),x=n("box.line.width",h),w=a("box.visible",!!(c||i||d||x));w||(g.box={visible:!1});var _=n("meanline.color",y),m=n("meanline.width",h),E=a("meanline.visible",!!(_||m));E||(g.meanline={visible:!1}),a("quartilemethod"),a("zorder")}}},63800:function(V,Y,e){var p=e(3400),L={gaussian:function(o){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*o*o)}};Y.makeKDE=function(o,C,S){var v=S.length,g=L.gaussian,r=o.bandwidth,t=1/(v*r);return function(a){for(var n=0,f=0;f<v;f++)n+=g((a-S[f])/r);return t*n}},Y.getPositionOnKdePath=function(o,C,S){var v,g;C.orientation==="h"?(v="y",g="x"):(v="x",g="y");var r=p.findPointOnPath(o.path,S,g,{pathLength:o.pathLength}),t=o.posCenterPx,a=r[v],n=C.side==="both"?2*t-a:t;return[a,n]},Y.getKdeValue=function(o,C,S){var v=o.pts.map(Y.extractVal),g=Y.makeKDE(o,C,v);return g(S)/o.posDensityScale},Y.extractVal=function(o){return o.v}},78e3:function(V,Y,e){var p=e(76308),L=e(3400),o=e(54460),C=e(27576),S=e(63800);V.exports=function(g,r,t,a,n){n||(n={});var f=n.hoverLayer,u=g.cd,l=u[0].trace,y=l.hoveron,h=y.indexOf("violins")!==-1,T=y.indexOf("kde")!==-1,c=[],i,d;if(h||T){var x=C.hoverOnBoxes(g,r,t,a);if(T&&x.length>0){var w=g.xa,_=g.ya,m,E,A,s,M;l.orientation==="h"?(M=r,m="y",A=_,E="x",s=w):(M=t,m="x",A=w,E="y",s=_);var b=u[g.index];if(M>=b.span[0]&&M<=b.span[1]){var N=L.extendFlat({},g),k=s.c2p(M,!0),H=S.getKdeValue(b,l,M),F=S.getPositionOnKdePath(b,l,k),B=A._offset,U=A._length;N[m+"0"]=F[0],N[m+"1"]=F[1],N[E+"0"]=N[E+"1"]=k,N[E+"Label"]=E+": "+o.hoverLabelText(s,M,l[E+"hoverformat"])+", "+u[0].t.labels.kde+" "+H.toFixed(3);for(var z=0,W=0;W<x.length;W++)if(x[W].attr==="med"){z=W;break}N.spikeDistance=x[z].spikeDistance;var j=m+"Spike";N[j]=x[z][j],x[z].spikeDistance=void 0,x[z][j]=void 0,N.hovertemplate=!1,c.push(N),d={},d[m+"1"]=L.constrain(B+F[0],B,B+U),d[m+"2"]=L.constrain(B+F[1],B,B+U),d[E+"1"]=d[E+"2"]=s._offset+k}}h&&(c=c.concat(x))}y.indexOf("points")!==-1&&(i=C.hoverOnPoints(g,r,t));var ee=f.selectAll(".violinline-"+l.uid).data(d?[0]:[]);return ee.enter().append("line").classed("violinline-"+l.uid,!0).attr("stroke-width",1.5),ee.exit().remove(),ee.attr(d).call(p.stroke,g.color),a==="closest"?i?[i]:c:(i&&c.push(i),c)}},22869:function(V,Y,e){V.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(V,Y,e){var p=e(16560),L=e(3400).extendFlat;V.exports={violinmode:L({},p.boxmode,{}),violingap:L({},p.boxgap,{}),violingroupgap:L({},p.boxgroupgap,{})}},8939:function(V,Y,e){var p=e(3400),L=e(98228),o=e(68832);V.exports=function(S,v,g){function r(t,a){return p.coerce(S,v,L,t,a)}o._supply(S,v,g,r,"violin")}},5140:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(18728),S=e(52340),v=e(63800);V.exports=function(r,t,a,n){var f=r._context.staticPlot,u=r._fullLayout,l=t.xaxis,y=t.yaxis;function h(T,c){var i=S(T,{xaxis:l,yaxis:y,trace:c,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return o.smoothopen(i[0],1)}L.makeTraceGroups(n,a,"trace violins").each(function(T){var c=p.select(this),i=T[0],d=i.t,x=i.trace;if(x.visible!==!0||d.empty){c.remove();return}var w=d.bPos,_=d.bdPos,m=t[d.valLetter+"axis"],E=t[d.posLetter+"axis"],A=x.side==="both",s=A||x.side==="positive",M=A||x.side==="negative",b=c.selectAll("path.violin").data(L.identity);b.enter().append("path").style("vector-effect",f?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(W){var j=p.select(this),ee=W.density,ie=ee.length,oe=E.c2l(W.pos+w,!0),he=E.l2p(oe),ne;if(x.width)ne=d.maxKDE/_;else{var q=u._violinScaleGroupStats[x.scalegroup];ne=x.scalemode==="count"?q.maxKDE/_*(q.maxCount/W.pts.length):q.maxKDE/_}var le,Q,te,ue,J,K,ce;if(s){for(K=new Array(ie),ue=0;ue<ie;ue++)ce=K[ue]={},ce[d.posLetter]=oe+ee[ue].v/ne,ce[d.valLetter]=m.c2l(ee[ue].t,!0);le=h(K,x)}if(M){for(K=new Array(ie),J=0,ue=ie-1;J<ie;J++,ue--)ce=K[J]={},ce[d.posLetter]=oe-ee[ue].v/ne,ce[d.valLetter]=m.c2l(ee[ue].t,!0);Q=h(K,x)}if(A)te=le+"L"+Q.substr(1)+"Z";else{var ae=[he,m.c2p(ee[0].t)],de=[he,m.c2p(ee[ie-1].t)];x.orientation==="h"&&(ae.reverse(),de.reverse()),s?te="M"+ae+"L"+le.substr(1)+"L"+de:te="M"+de+"L"+Q.substr(1)+"L"+ae}j.attr("d",te),W.posCenterPx=he,W.posDensityScale=ne*_,W.path=j.node(),W.pathLength=W.path.getTotalLength()/(A?2:1)});var N=x.box,k=N.width,H=(N.line||{}).width,F,B;A?(F=_*k,B=0):s?(F=[0,_*k/2],B=H*{x:1,y:-1}[d.posLetter]):(F=[_*k/2,0],B=H*{x:-1,y:1}[d.posLetter]),C.plotBoxAndWhiskers(c,{pos:E,val:m},x,{bPos:w,bdPos:F,bPosPxOffset:B}),C.plotBoxMean(c,{pos:E,val:m},x,{bPos:w,bdPos:F,bPosPxOffset:B});var U;!x.box.visible&&x.meanline.visible&&(U=L.identity);var z=c.selectAll("path.meanline").data(U||[]);z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",f?"none":"non-scaling-stroke"),z.exit().remove(),z.each(function(W){var j=m.c2p(W.mean,!0),ee=v.getPositionOnKdePath(W,x,j);p.select(this).attr("d",x.orientation==="h"?"M"+j+","+ee[0]+"V"+ee[1]:"M"+ee[0]+","+j+"H"+ee[1])}),C.plotPoints(c,{x:l,y},x,d)})}},95908:function(V,Y,e){var p=e(33428),L=e(76308),o=e(49224).stylePoints;V.exports=function(S){var v=p.select(S).selectAll("g.trace.violins");v.style("opacity",function(g){return g[0].trace.opacity}),v.each(function(g){var r=g[0].trace,t=p.select(this),a=r.box||{},n=a.line||{},f=r.meanline||{},u=f.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(L.stroke,r.line.color).call(L.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(L.stroke,n.color).call(L.fill,a.fillcolor);var l={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(l).call(L.stroke,f.color),t.selectAll("path.meanline").style(l).call(L.stroke,f.color),o(t,r,S)})}},58168:function(V,Y,e){var p=e(49084),L=e(50048),o=e(16716),C=e(45464),S=e(92880).extendFlat,v=e(67824).overrideAll,g=V.exports=v(S({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:o.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:S({},C.hoverinfo),showlegend:S({},C.showlegend,{dflt:!1})}),"calc","nested");g.x.editType=g.y.editType=g.z.editType=g.value.editType="calc+clearAxisTypes",g.transforms=void 0},91976:function(V,Y,e){var p=e(67792).gl_mesh3d,L=e(33040).parseColorScale,o=e(3400).isArrayOrTypedArray,C=e(43080),S=e(8932).extractOpts,v=e(52094),g=e(31460).findNearestOnAxis,r=e(31460).generateIsoMeshes;function t(f,u,l){this.scene=f,this.uid=l,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var a=t.prototype;a.handlePick=function(f){if(f.object===this.mesh){var u=f.data.index,l=this.data._meshX[u],y=this.data._meshY[u],h=this.data._meshZ[u],T=this.data._Ys.length,c=this.data._Zs.length,i=g(l,this.data._Xs).id,d=g(y,this.data._Ys).id,x=g(h,this.data._Zs).id,w=f.index=x+c*d+c*T*i;f.traceCoordinate=[this.data._meshX[w],this.data._meshY[w],this.data._meshZ[w],this.data._value[w]];var _=this.data.hovertext||this.data.text;return o(_)&&_[w]!==void 0?f.textLabel=_[w]:_&&(f.textLabel=_),!0}},a.update=function(f){var u=this.scene,l=u.fullSceneLayout;this.data=r(f);function y(d,x,w,_){return x.map(function(m){return d.d2l(m,0,_)*w})}var h=v(y(l.xaxis,f._meshX,u.dataScale[0],f.xcalendar),y(l.yaxis,f._meshY,u.dataScale[1],f.ycalendar),y(l.zaxis,f._meshZ,u.dataScale[2],f.zcalendar)),T=v(f._meshI,f._meshJ,f._meshK),c={positions:h,cells:T,lightPosition:[f.lightposition.x,f.lightposition.y,f.lightposition.z],ambient:f.lighting.ambient,diffuse:f.lighting.diffuse,specular:f.lighting.specular,roughness:f.lighting.roughness,fresnel:f.lighting.fresnel,vertexNormalsEpsilon:f.lighting.vertexnormalsepsilon,faceNormalsEpsilon:f.lighting.facenormalsepsilon,opacity:f.opacity,opacityscale:f.opacityscale,contourEnable:f.contour.show,contourColor:C(f.contour.color).slice(0,3),contourWidth:f.contour.width,useFacetNormals:f.flatshading},i=S(f);c.vertexIntensity=f._meshIntensity,c.vertexIntensityBounds=[i.min,i.max],c.colormap=L(f),this.mesh.update(c)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function n(f,u){var l=f.glplot.gl,y=p({gl:l}),h=new t(f,y,u.uid);return y._trace=h,h.update(u),f.glplot.add(y),h}V.exports=n},12448:function(V,Y,e){var p=e(3400),L=e(58168),o=e(70548).supplyIsoDefaults,C=e(60192).opacityscaleDefaults;V.exports=function(v,g,r,t){function a(n,f){return p.coerce(v,g,L,n,f)}o(v,g,r,t,a),C(v,g,t,a)}},67776:function(V,Y,e){V.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(V,Y,e){var p=e(20832),L=e(52904).line,o=e(45464),C=e(29736).axisHoverFormat,S=e(21776).Ks,v=e(21776).Gw,g=e(10213),r=e(92880).extendFlat,t=e(76308);function a(n){return{marker:{color:r({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}V.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:S({},{keys:g.eventDataKeys}),hoverinfo:r({},o.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:g.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:a(),decreasing:a(),totals:a(),connector:{line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,zorder:p.zorder}},73540:function(V,Y,e){var p=e(54460),L=e(1220),o=e(3400).mergeArray,C=e(4500),S=e(39032).BADNUM;function v(r){return r==="a"||r==="absolute"}function g(r){return r==="t"||r==="total"}V.exports=function(t,a){var n=p.getFromId(t,a.xaxis||"x"),f=p.getFromId(t,a.yaxis||"y"),u,l,y,h,T,c;a.orientation==="h"?(u=n.makeCalcdata(a,"x"),y=f.makeCalcdata(a,"y"),h=L(a,f,"y",y),T=!!a.yperiodalignment,c="y"):(u=f.makeCalcdata(a,"y"),y=n.makeCalcdata(a,"x"),h=L(a,n,"x",y),T=!!a.xperiodalignment,c="x"),l=h.vals;for(var i=Math.min(l.length,u.length),d=new Array(i),x=0,w,_=!1,m=0;m<i;m++){var E=u[m]||0,A=!1;(u[m]!==S||g(a.measure[m])||v(a.measure[m]))&&m+1<i&&(u[m+1]!==S||g(a.measure[m+1])||v(a.measure[m+1]))&&(A=!0);var s=d[m]={i:m,p:l[m],s:E,rawS:E,cNext:A};v(a.measure[m])?(x=s.s,s.isSum=!0,s.dir="totals",s.s=x):g(a.measure[m])?(s.isSum=!0,s.dir="totals",s.s=x):(s.isSum=!1,s.dir=s.rawS<0?"decreasing":"increasing",w=s.s,s.s=x+w,x+=w),s.dir==="totals"&&(_=!0),T&&(d[m].orig_p=y[m],d[m][c+"End"]=h.ends[m],d[m][c+"Start"]=h.starts[m]),a.ids&&(s.id=String(a.ids[m])),s.v=(a.base||0)+x}return d.length&&(d[0].hasTotals=_),o(a.text,d,"tx"),o(a.hovertext,d,"htx"),C(d,a),d}},10213:function(V){V.exports={eventDataKeys:["initial","delta","final"]}},50152:function(V,Y,e){var p=e(96376).setGroupPositions;V.exports=function(o,C){var S=o._fullLayout,v=o._fullData,g=o.calcdata,r=C.xaxis,t=C.yaxis,a=[],n=[],f=[],u,l;for(l=0;l<v.length;l++){var y=v[l];y.visible===!0&&y.xaxis===r._id&&y.yaxis===t._id&&y.type==="waterfall"&&(u=g[l],y.orientation==="h"?f.push(u):n.push(u),a.push(u))}var h={mode:S.waterfallmode,norm:S.waterfallnorm,gap:S.waterfallgap,groupgap:S.waterfallgroupgap};for(p(o,r,t,n,h),p(o,t,r,f,h),l=0;l<a.length;l++){u=a[l];for(var T=0;T<u.length;T++){var c=u[T];c.isSum===!1&&(c.s0+=T===0?0:u[T-1].s),T+1<u.length&&(u[T].nextP0=u[T+1].p0,u[T].nextS0=u[T+1].s0)}}}},24224:function(V,Y,e){var p=e(3400),L=e(20011),o=e(31508).handleText,C=e(43980),S=e(31147),v=e(65776),g=e(76308),r=e(48164),t=r.INCREASING.COLOR,a=r.DECREASING.COLOR,n="#4499FF";function f(y,h,T){y(h+".marker.color",T),y(h+".marker.line.color",g.defaultLine),y(h+".marker.line.width")}function u(y,h,T,c){function i(m,E){return p.coerce(y,h,v,m,E)}var d=C(y,h,c,i);if(!d){h.visible=!1;return}S(y,h,c,i),i("xhoverformat"),i("yhoverformat"),i("measure"),i("orientation",h.x&&!h.y?"h":"v"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate");var x=i("textposition");o(y,h,c,i,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(i("texttemplate"),h.texttemplate||i("textinfo")),f(i,"increasing",t),f(i,"decreasing",a),f(i,"totals",n);var w=i("connector.visible");if(w){i("connector.mode");var _=i("connector.line.width");_&&(i("connector.line.color"),i("connector.line.dash"))}i("zorder")}function l(y,h){var T,c;function i(x){return p.coerce(c._input,c,v,x)}if(h.waterfallmode==="group")for(var d=0;d<y.length;d++)c=y[d],T=c._input,L(T,c,h,i)}V.exports={supplyDefaults:u,crossTraceDefaults:l}},53256:function(V){V.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"initial"in p&&(e.initial=p.initial),"delta"in p&&(e.delta=p.delta),"final"in p&&(e.final=p.final),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},94196:function(V,Y,e){var p=e(54460).hoverLabelText,L=e(76308).opacity,o=e(63400).hoverOnBars,C=e(48164),S={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};V.exports=function(r,t,a,n,f){var u=o(r,t,a,n,f);if(!u)return;var l=u.cd,y=l[0].trace,h=y.orientation==="h",T=h?"x":"y",c=h?r.xa:r.ya;function i(b){return p(c,b,y[T+"hoverformat"])}var d=u.index,x=l[d],w=x.isSum?x.b+x.s:x.rawS;u.initial=x.b+x.s-w,u.delta=w,u.final=u.initial+u.delta;var _=i(Math.abs(u.delta));u.deltaLabel=w<0?"("+_+")":_,u.finalLabel=i(u.final),u.initialLabel=i(u.initial);var m=x.hi||y.hoverinfo,E=[];if(m&&m!=="none"&&m!=="skip"){var A=m==="all",s=m.split("+"),M=function(b){return A||s.indexOf(b)!==-1};x.isSum||(M("final")&&(h?!M("x"):!M("y"))&&E.push(u.finalLabel),M("delta")&&(w<0?E.push(u.deltaLabel+" "+S.decreasing):E.push(u.deltaLabel+" "+S.increasing)),M("initial")&&E.push("Initial: "+u.initialLabel))}return E.length&&(u.extraText=E.join("<br>")),u.color=v(y,x),[u]};function v(g,r){var t=g[r.dir].marker,a=t.color,n=t.line.color,f=t.line.width;if(L(a))return a;if(L(n)&&f)return n}},95952:function(V,Y,e){V.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(V){V.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(V,Y,e){var p=e(3400),L=e(91352);V.exports=function(o,C,S){var v=!1;function g(a,n){return p.coerce(o,C,L,a,n)}for(var r=0;r<S.length;r++){var t=S[r];if(t.visible&&t.type==="waterfall"){v=!0;break}}v&&(g("waterfallmode"),g("waterfallgap",.2),g("waterfallgroupgap"))}},64488:function(V,Y,e){var p=e(33428),L=e(3400),o=e(43616),C=e(39032).BADNUM,S=e(98184),v=e(82744).clearMinTextSize;V.exports=function(a,n,f,u){var l=a._fullLayout;v("waterfall",l),S.plot(a,n,f,u,{mode:l.waterfallmode,norm:l.waterfallmode,gap:l.waterfallgap,groupgap:l.waterfallgroupgap}),g(a,n,f,u)};function g(t,a,n,f){var u=a.xaxis,l=a.yaxis;L.makeTraceGroups(f,n,"trace bars").each(function(y){var h=p.select(this),T=y[0].trace,c=L.ensureSingle(h,"g","lines");if(!T.connector||!T.connector.visible){c.remove();return}var i=T.orientation==="h",d=T.connector.mode,x=c.selectAll("g.line").data(L.identity);x.enter().append("g").classed("line",!0),x.exit().remove();var w=x.size();x.each(function(_,m){if(!(m!==w-1&&!_.cNext)){var E=r(_,u,l,i),A=E[0],s=E[1],M="";A[0]!==C&&s[0]!==C&&A[1]!==C&&s[1]!==C&&(d==="spanning"&&!_.isSum&&m>0&&(i?M+="M"+A[0]+","+s[1]+"V"+s[0]:M+="M"+A[1]+","+s[0]+"H"+A[0]),d!=="between"&&(_.isSum||m<w-1)&&(i?M+="M"+A[1]+","+s[0]+"V"+s[1]:M+="M"+A[0]+","+s[1]+"H"+A[1]),A[2]!==C&&s[2]!==C&&(i?M+="M"+A[1]+","+s[1]+"V"+s[2]:M+="M"+A[1]+","+s[1]+"H"+A[2])),M===""&&(M="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",M).call(o.setClipUrl,a.layerClipId,t)}})})}function r(t,a,n,f){var u=[],l=[],y=f?a:n,h=f?n:a;return u[0]=y.c2p(t.s0,!0),l[0]=h.c2p(t.p0,!0),u[1]=y.c2p(t.s1,!0),l[1]=h.c2p(t.p1,!0),u[2]=y.c2p(t.nextS0,!0),l[2]=h.c2p(t.nextP0,!0),f?[u,l]:[l,u]}},12252:function(V,Y,e){var p=e(33428),L=e(43616),o=e(76308),C=e(13448).DESELECTDIM,S=e(60100),v=e(82744).resizeText,g=S.styleTextPoints;function r(t,a,n){var f=n||p.select(t).selectAll('g[class^="waterfalllayer"]').selectAll("g.trace");v(t,f,"waterfall"),f.style("opacity",function(u){return u[0].trace.opacity}),f.each(function(u){var l=p.select(this),y=u[0].trace;l.selectAll(".point > path").each(function(h){if(!h.isBlank){var T=y[h.dir].marker;p.select(this).call(o.fill,T.color).call(o.stroke,T.line.color).call(L.dashLine,T.line.dash,T.line.width).style("opacity",y.selectedpoints&&!h.selected?C:1)}}),g(l,y,t),l.selectAll(".lines").each(function(){var h=y.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),h.width,h.color,h.dash)})})}V.exports={style:r}},84224:function(V,Y,e){var p=e(54460),L=e(3400),o=e(73060),C=e(60468).W,S=e(39032).BADNUM;Y.moduleType="transform",Y.name="aggregate";var v=Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=v.aggregations;Y.supplyDefaults=function(u,l){var y={},h;function T(b,N){return L.coerce(u,y,v,b,N)}var c=T("enabled");if(!c)return y;var i=o.findArrayAttributes(l),d={};for(h=0;h<i.length;h++)d[i[h]]=1;var x=T("groups");if(!Array.isArray(x)){if(!d[x])return y.enabled=!1,y;d[x]=0}var w=u.aggregations||[],_=y.aggregations=new Array(w.length),m;function E(b,N){return L.coerce(w[h],m,g,b,N)}for(h=0;h<w.length;h++){m={_index:h};var A=E("target"),s=E("func"),M=E("enabled");M&&A&&(d[A]||s==="count"&&d[A]===void 0)?(s==="stddev"&&E("funcmode"),d[A]=0,_[h]=m):_[h]={enabled:!1,_index:h}}for(h=0;h<i.length;h++)d[i[h]]&&_.push({target:i[h],func:g.func.dflt,enabled:!0,_index:-1});return y},Y.calcTransform=function(u,l,y){if(y.enabled){var h=y.groups,T=L.getTargetArray(l,{target:h});if(T){var c,i,d,x,w={},_={},m=[],E=C(l.transforms,y),A=T.length;for(l._length&&(A=Math.min(A,l._length)),c=0;c<A;c++)i=T[c],d=w[i],d===void 0?(w[i]=m.length,x=[c],m.push(x),_[w[i]]=E(c)):(m[d].push(c),_[w[i]]=(_[w[i]]||[]).concat(E(c)));y._indexToPoints=_;var s=y.aggregations;for(c=0;c<s.length;c++)r(u,l,m,s[c]);typeof h=="string"&&r(u,l,m,{target:h,func:"first",enabled:!0}),l._length=m.length}}};function r(u,l,y,h){if(h.enabled){for(var T=h.target,c=L.nestedProperty(l,T),i=c.get(),d=p.getDataConversions(u,l,T,i),x=t(h,d),w=new Array(y.length),_=0;_<y.length;_++)w[_]=x(i,y[_]);c.set(w),h.func==="count"&&L.pushUnique(l._arrayAttrs,T)}}function t(u,l){var y=u.func,h=l.d2c,T=l.c2d;switch(y){case"count":return a;case"first":return n;case"last":return f;case"sum":return function(c,i){for(var d=0,x=0;x<i.length;x++){var w=h(c[i[x]]);w!==S&&(d+=w)}return T(d)};case"avg":return function(c,i){for(var d=0,x=0,w=0;w<i.length;w++){var _=h(c[i[w]]);_!==S&&(d+=_,x++)}return x?T(d/x):S};case"min":return function(c,i){for(var d=1/0,x=0;x<i.length;x++){var w=h(c[i[x]]);w!==S&&(d=Math.min(d,w))}return d===1/0?S:T(d)};case"max":return function(c,i){for(var d=-1/0,x=0;x<i.length;x++){var w=h(c[i[x]]);w!==S&&(d=Math.max(d,w))}return d===-1/0?S:T(d)};case"range":return function(c,i){for(var d=1/0,x=-1/0,w=0;w<i.length;w++){var _=h(c[i[w]]);_!==S&&(d=Math.min(d,_),x=Math.max(x,_))}return x===-1/0||d===1/0?S:T(x-d)};case"change":return function(c,i){var d=h(c[i[0]]),x=h(c[i[i.length-1]]);return d===S||x===S?S:T(x-d)};case"median":return function(c,i){for(var d=[],x=0;x<i.length;x++){var w=h(c[i[x]]);w!==S&&d.push(w)}if(!d.length)return S;d.sort(L.sorterAsc);var _=(d.length-1)/2;return T((d[Math.floor(_)]+d[Math.ceil(_)])/2)};case"mode":return function(c,i){for(var d={},x=0,w=S,_=0;_<i.length;_++){var m=h(c[i[_]]);if(m!==S){var E=d[m]=(d[m]||0)+1;E>x&&(x=E,w=m)}}return x?T(w):S};case"rms":return function(c,i){for(var d=0,x=0,w=0;w<i.length;w++){var _=h(c[i[w]]);_!==S&&(d+=_*_,x++)}return x?T(Math.sqrt(d/x)):S};case"stddev":return function(c,i){var d=0,x=0,w=1,_=S,m;for(m=0;m<i.length&&_===S;m++)_=h(c[i[m]]);if(_===S)return S;for(;m<i.length;m++){var E=h(c[i[m]]);if(E!==S){var A=E-_;d+=A,x+=A*A,w++}}var s=u.funcmode==="sample"?w-1:w;return s?Math.sqrt((x-d*d/w)/s):0}}}function a(u,l){return l.length}function n(u,l){return u[l[0]]}function f(u,l){return u[l[l.length-1]]}},76744:function(V,Y,e){var p=e(3400),L=e(24040),o=e(54460),C=e(60468).W,S=e(69104),v=S.COMPARISON_OPS,g=S.INTERVAL_OPS,r=S.SET_OPS;Y.moduleType="transform",Y.name="filter",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(g).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},Y.supplyDefaults=function(a){var n={};function f(h,T){return p.coerce(a,n,Y.attributes,h,T)}var u=f("enabled");if(u){var l=f("target");if(p.isArrayOrTypedArray(l)&&l.length===0)return n.enabled=!1,n;f("preservegaps"),f("operation"),f("value");var y=L.getComponentMethod("calendars","handleDefaults");y(a,n,"valuecalendar",null),y(a,n,"targetcalendar",null)}return n},Y.calcTransform=function(a,n,f){if(!f.enabled)return;var u=p.getTargetArray(n,f);if(!u)return;var l=f.target,y=u.length;n._length&&(y=Math.min(y,n._length));var h=f.targetcalendar,T=n._arrayAttrs,c=f.preservegaps;if(typeof l=="string"){var i=p.nestedProperty(n,l+"calendar").get();i&&(h=i)}var d=o.getDataToCoordFunc(a,n,l,u),x=t(f,d,h),w={},_={},m=0;function E(k,H){for(var F=0;F<T.length;F++){var B=p.nestedProperty(n,T[F]);k(B,H)}}var A,s;c?(A=function(k){w[k.astr]=p.extendDeep([],k.get()),k.set(new Array(y))},s=function(k,H){var F=w[k.astr][H];k.get()[H]=F}):(A=function(k){w[k.astr]=p.extendDeep([],k.get()),k.set([])},s=function(k,H){var F=w[k.astr][H];k.get().push(F)}),E(A);for(var M=C(n.transforms,f),b=0;b<y;b++){var N=x(u[b]);N?(E(s,b),_[m++]=M(b)):c&&m++}f._indexToPoints=_,n._length=m};function t(a,n,f){var u=a.operation,l=a.value,y=p.isArrayOrTypedArray(l);function h(d){return d.indexOf(u)!==-1}var T=function(d){return n(d,0,a.valuecalendar)},c=function(d){return n(d,0,f)},i;switch(h(v)?i=T(y?l[0]:l):h(g)?i=y?[T(l[0]),T(l[1])]:[T(l),T(l)]:h(r)&&(i=y?l.map(T):[T(l)]),u){case"=":return function(d){return c(d)===i};case"!=":return function(d){return c(d)!==i};case"<":return function(d){return c(d)<i};case"<=":return function(d){return c(d)<=i};case">":return function(d){return c(d)>i};case">=":return function(d){return c(d)>=i};case"[]":return function(d){var x=c(d);return x>=i[0]&&x<=i[1]};case"()":return function(d){var x=c(d);return x>i[0]&&x<i[1]};case"[)":return function(d){var x=c(d);return x>=i[0]&&x<i[1]};case"(]":return function(d){var x=c(d);return x>i[0]&&x<=i[1]};case"][":return function(d){var x=c(d);return x<=i[0]||x>=i[1]};case")(":return function(d){var x=c(d);return x<i[0]||x>i[1]};case"](":return function(d){var x=c(d);return x<=i[0]||x>i[1]};case")[":return function(d){var x=c(d);return x<i[0]||x>=i[1]};case"{}":return function(d){return i.indexOf(c(d))!==-1};case"}{":return function(d){return i.indexOf(c(d))===-1}}}},32028:function(V,Y,e){var p=e(3400),L=e(73060),o=e(7316),C=e(60468).W;Y.moduleType="transform",Y.name="groupby",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},Y.supplyDefaults=function(v,g,r){var t,a={};function n(T,c){return p.coerce(v,a,Y.attributes,T,c)}var f=n("enabled");if(!f)return a;n("groups"),n("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=v.styles,l=a.styles=[];if(u)for(t=0;t<u.length;t++){var y=l[t]={};p.coerce(u[t],l[t],Y.attributes.styles,"target");var h=p.coerce(u[t],l[t],Y.attributes.styles,"value");p.isPlainObject(h)?y.value=p.extendDeep({},h):h&&delete y.value}return a},Y.transform=function(v,g){var r,t,a,n=[];for(t=0;t<v.length;t++)for(r=S(v[t],g),a=0;a<r.length;a++)n.push(r[a]);return n};function S(v,g){var r,t,a,n,f,u,l,y,h,T,c=g.transform,i=g.transformIndex,d=v.transforms[i].groups,x=C(v.transforms,c);if(!p.isArrayOrTypedArray(d)||d.length===0)return[v];var w=p.filterUnique(d),_=new Array(w.length),m=d.length,E=L.findArrayAttributes(v),A=c.styles||[],s={};for(r=0;r<A.length;r++)s[A[r].target]=A[r].value;c.styles&&(T=p.keyedContainer(c,"styles","target","value.name"));var M={},b={};for(r=0;r<w.length;r++){u=w[r],M[u]=r,b[u]=0,l=_[r]=p.extendDeepNoArrays({},v),l._group=u,l.transforms[i]._indexToPoints={};var N=null;for(T&&(N=T.get(u)),N||N===""?l.name=N:l.name=p.templateString(c.nameformat,{trace:v.name,group:u}),y=l.transforms,l.transforms=[],t=0;t<y.length;t++)l.transforms[t]=p.extendDeepNoArrays({},y[t]);for(t=0;t<E.length;t++)p.nestedProperty(l,E[t]).set([])}for(a=0;a<E.length;a++){for(n=E[a],t=0,h=[];t<w.length;t++)h[t]=p.nestedProperty(_[t],n).get();for(f=p.nestedProperty(v,n).get(),t=0;t<m;t++)h[M[d[t]]].push(f[t])}for(t=0;t<m;t++){l=_[M[d[t]]];var k=l.transforms[i]._indexToPoints;k[b[d[t]]]=x(t),b[d[t]]++}for(r=0;r<w.length;r++)u=w[r],l=_[r],o.clearExpandedTraceDefaultColors(l),l=p.extendDeepNoArrays(l,s[u]||{});return _}},60468:function(V,Y){Y.W=function(e,p){for(var L,o,C=0;C<e.length&&(L=e[C],L!==p);C++)!L._indexToPoints||L.enabled===!1||(o=L._indexToPoints);var S=o?function(v){return o[v]}:function(v){return[v]};return S}},76272:function(V,Y,e){var p=e(3400),L=e(54460),o=e(60468).W,C=e(39032).BADNUM;Y.moduleType="transform",Y.name="sort",Y.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},Y.supplyDefaults=function(g){var r={};function t(n,f){return p.coerce(g,r,Y.attributes,n,f)}var a=t("enabled");return a&&(t("target"),t("order")),r},Y.calcTransform=function(g,r,t){if(t.enabled){var a=p.getTargetArray(r,t);if(a){var n=t.target,f=a.length;r._length&&(f=Math.min(f,r._length));var u=r._arrayAttrs,l=L.getDataToCoordFunc(g,r,n,a),y=S(t,a,l,f),h=o(r.transforms,t),T={},c,i;for(c=0;c<u.length;c++){var d=p.nestedProperty(r,u[c]),x=d.get(),w=new Array(f);for(i=0;i<f;i++)w[i]=x[y[i]];d.set(w)}for(i=0;i<f;i++)T[i]=h(y[i]);t._indexToPoints=T,r._length=f}}};function S(g,r,t,a){var n=new Array(a),f=new Array(a),u;for(u=0;u<a;u++)n[u]={v:r[u],i:u};for(n.sort(v(g,t)),u=0;u<a;u++)f[u]=n[u].i;return f}function v(g,r){switch(g.order){case"ascending":return function(t,a){var n=r(t.v),f=r(a.v);return n===C?1:f===C?-1:n-f};case"descending":return function(t,a){var n=r(t.v),f=r(a.v);return n===C?1:f===C?-1:f-n}}}},25788:function(V,Y){Y.version="2.33.0"},67792:function(V,Y,e){var p=e(4168);(function(){var L={1964:function(v,g,r){v.exports={alpha_shape:r(3502),convex_hull:r(7352),delaunay_triangulate:r(7642),gl_cone3d:r(6405),gl_error3d:r(9165),gl_heatmap2d:r(2510),gl_line3d:r(5714),gl_mesh3d:r(7201),gl_plot2d:r(1850),gl_plot3d:r(4100),gl_pointcloud2d:r(4696),gl_scatter3d:r(8418),gl_select_box:r(3161),gl_spikes2d:r(4098),gl_streamtube3d:r(7815),gl_surface3d:r(9499),ndarray:r(9618),ndarray_linear_interpolate:r(4317)}},4793:function(v,g,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(De,ge){if(!(De instanceof ge))throw new TypeError("Cannot call a class as a function")}function a(De,ge){for(var we=0;we<ge.length;we++){var Ue=ge[we];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(De,f(Ue.key),Ue)}}function n(De,ge,we){return ge&&a(De.prototype,ge),Object.defineProperty(De,"prototype",{writable:!1}),De}function f(De){var ge=u(De,"string");return x(ge)=="symbol"?ge:ge+""}function u(De,ge){if(x(De)!="object"||!De)return De;var we=De[Symbol.toPrimitive];if(we!==void 0){var Ue=we.call(De,ge);if(x(Ue)!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}function l(De,ge,we){return ge=c(ge),y(De,T()?Reflect.construct(ge,[],c(De).constructor):ge.apply(De,we))}function y(De,ge){if(ge&&(x(ge)==="object"||typeof ge=="function"))return ge;if(ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(De)}function h(De){if(De===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return De}function T(){try{var De=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!De})()}function c(De){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(we){return we.__proto__||Object.getPrototypeOf(we)},c(De)}function i(De,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(ge&&ge.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),ge&&d(De,ge)}function d(De,ge){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ue,et){return Ue.__proto__=et,Ue},d(De,ge)}function x(De){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},x(De)}var w=r(7507),_=r(3778),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.hp=M,g.IS=50;var E=2147483647;M.TYPED_ARRAY_SUPPORT=A(),!M.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{var De=new Uint8Array(1),ge={foo:function(){return 42}};return Object.setPrototypeOf(ge,Uint8Array.prototype),Object.setPrototypeOf(De,ge),De.foo()===42}catch{return!1}}Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}});function s(De){if(De>E)throw new RangeError('The value "'+De+'" is invalid for option "size"');var ge=new Uint8Array(De);return Object.setPrototypeOf(ge,M.prototype),ge}function M(De,ge,we){if(typeof De=="number"){if(typeof ge=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return H(De)}return b(De,ge,we)}M.poolSize=8192;function b(De,ge,we){if(typeof De=="string")return F(De,ge);if(ArrayBuffer.isView(De))return U(De);if(De==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(De));if(Ze(De,ArrayBuffer)||De&&Ze(De.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(De,SharedArrayBuffer)||De&&Ze(De.buffer,SharedArrayBuffer)))return z(De,ge,we);if(typeof De=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ue=De.valueOf&&De.valueOf();if(Ue!=null&&Ue!==De)return M.from(Ue,ge,we);var et=W(De);if(et)return et;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof De[Symbol.toPrimitive]=="function")return M.from(De[Symbol.toPrimitive]("string"),ge,we);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+x(De))}M.from=function(De,ge,we){return b(De,ge,we)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array);function N(De){if(typeof De!="number")throw new TypeError('"size" argument must be of type number');if(De<0)throw new RangeError('The value "'+De+'" is invalid for option "size"')}function k(De,ge,we){return N(De),De<=0?s(De):ge!==void 0?typeof we=="string"?s(De).fill(ge,we):s(De).fill(ge):s(De)}M.alloc=function(De,ge,we){return k(De,ge,we)};function H(De){return N(De),s(De<0?0:j(De)|0)}M.allocUnsafe=function(De){return H(De)},M.allocUnsafeSlow=function(De){return H(De)};function F(De,ge){if((typeof ge!="string"||ge==="")&&(ge="utf8"),!M.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);var we=ee(De,ge)|0,Ue=s(we),et=Ue.write(De,ge);return et!==we&&(Ue=Ue.slice(0,et)),Ue}function B(De){for(var ge=De.length<0?0:j(De.length)|0,we=s(ge),Ue=0;Ue<ge;Ue+=1)we[Ue]=De[Ue]&255;return we}function U(De){if(Ze(De,Uint8Array)){var ge=new Uint8Array(De);return z(ge.buffer,ge.byteOffset,ge.byteLength)}return B(De)}function z(De,ge,we){if(ge<0||De.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(De.byteLength<ge+(we||0))throw new RangeError('"length" is outside of buffer bounds');var Ue;return ge===void 0&&we===void 0?Ue=new Uint8Array(De):we===void 0?Ue=new Uint8Array(De,ge):Ue=new Uint8Array(De,ge,we),Object.setPrototypeOf(Ue,M.prototype),Ue}function W(De){if(M.isBuffer(De)){var ge=j(De.length)|0,we=s(ge);return we.length===0||De.copy(we,0,0,ge),we}if(De.length!==void 0)return typeof De.length!="number"||Ge(De.length)?s(0):B(De);if(De.type==="Buffer"&&Array.isArray(De.data))return B(De.data)}function j(De){if(De>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return De|0}M.isBuffer=function(ge){return ge!=null&&ge._isBuffer===!0&&ge!==M.prototype},M.compare=function(ge,we){if(Ze(ge,Uint8Array)&&(ge=M.from(ge,ge.offset,ge.byteLength)),Ze(we,Uint8Array)&&(we=M.from(we,we.offset,we.byteLength)),!M.isBuffer(ge)||!M.isBuffer(we))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===we)return 0;for(var Ue=ge.length,et=we.length,st=0,lt=Math.min(Ue,et);st<lt;++st)if(ge[st]!==we[st]){Ue=ge[st],et=we[st];break}return Ue<et?-1:et<Ue?1:0},M.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(ge,we){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return M.alloc(0);var Ue;if(we===void 0)for(we=0,Ue=0;Ue<ge.length;++Ue)we+=ge[Ue].length;var et=M.allocUnsafe(we),st=0;for(Ue=0;Ue<ge.length;++Ue){var lt=ge[Ue];if(Ze(lt,Uint8Array))st+lt.length>et.length?(M.isBuffer(lt)||(lt=M.from(lt)),lt.copy(et,st)):Uint8Array.prototype.set.call(et,lt,st);else if(M.isBuffer(lt))lt.copy(et,st);else throw new TypeError('"list" argument must be an Array of Buffers');st+=lt.length}return et};function ee(De,ge){if(M.isBuffer(De))return De.length;if(ArrayBuffer.isView(De)||Ze(De,ArrayBuffer))return De.byteLength;if(typeof De!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+x(De));var we=De.length,Ue=arguments.length>2&&arguments[2]===!0;if(!Ue&&we===0)return 0;for(var et=!1;;)switch(ge){case"ascii":case"latin1":case"binary":return we;case"utf8":case"utf-8":return wt(De).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we*2;case"hex":return we>>>1;case"base64":return Fe(De).length;default:if(et)return Ue?-1:wt(De).length;ge=(""+ge).toLowerCase(),et=!0}}M.byteLength=ee;function ie(De,ge,we){var Ue=!1;if((ge===void 0||ge<0)&&(ge=0),ge>this.length||((we===void 0||we>this.length)&&(we=this.length),we<=0)||(we>>>=0,ge>>>=0,we<=ge))return"";for(De||(De="utf8");;)switch(De){case"hex":return Se(this,ge,we);case"utf8":case"utf-8":return K(this,ge,we);case"ascii":return de(this,ge,we);case"latin1":case"binary":return be(this,ge,we);case"base64":return J(this,ge,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,ge,we);default:if(Ue)throw new TypeError("Unknown encoding: "+De);De=(De+"").toLowerCase(),Ue=!0}}M.prototype._isBuffer=!0;function oe(De,ge,we){var Ue=De[ge];De[ge]=De[we],De[we]=Ue}M.prototype.swap16=function(){var ge=this.length;if(ge%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var we=0;we<ge;we+=2)oe(this,we,we+1);return this},M.prototype.swap32=function(){var ge=this.length;if(ge%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var we=0;we<ge;we+=4)oe(this,we,we+3),oe(this,we+1,we+2);return this},M.prototype.swap64=function(){var ge=this.length;if(ge%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var we=0;we<ge;we+=8)oe(this,we,we+7),oe(this,we+1,we+6),oe(this,we+2,we+5),oe(this,we+3,we+4);return this},M.prototype.toString=function(){var ge=this.length;return ge===0?"":arguments.length===0?K(this,0,ge):ie.apply(this,arguments)},M.prototype.toLocaleString=M.prototype.toString,M.prototype.equals=function(ge){if(!M.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge?!0:M.compare(this,ge)===0},M.prototype.inspect=function(){var ge="",we=g.IS;return ge=this.toString("hex",0,we).replace(/(.{2})/g,"$1 ").trim(),this.length>we&&(ge+=" ... "),"<Buffer "+ge+">"},m&&(M.prototype[m]=M.prototype.inspect),M.prototype.compare=function(ge,we,Ue,et,st){if(Ze(ge,Uint8Array)&&(ge=M.from(ge,ge.offset,ge.byteLength)),!M.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+x(ge));if(we===void 0&&(we=0),Ue===void 0&&(Ue=ge?ge.length:0),et===void 0&&(et=0),st===void 0&&(st=this.length),we<0||Ue>ge.length||et<0||st>this.length)throw new RangeError("out of range index");if(et>=st&&we>=Ue)return 0;if(et>=st)return-1;if(we>=Ue)return 1;if(we>>>=0,Ue>>>=0,et>>>=0,st>>>=0,this===ge)return 0;for(var lt=st-et,Wt=Ue-we,jt=Math.min(lt,Wt),Tt=this.slice(et,st),Rt=ge.slice(we,Ue),Zt=0;Zt<jt;++Zt)if(Tt[Zt]!==Rt[Zt]){lt=Tt[Zt],Wt=Rt[Zt];break}return lt<Wt?-1:Wt<lt?1:0};function he(De,ge,we,Ue,et){if(De.length===0)return-1;if(typeof we=="string"?(Ue=we,we=0):we>2147483647?we=2147483647:we<-2147483648&&(we=-2147483648),we=+we,Ge(we)&&(we=et?0:De.length-1),we<0&&(we=De.length+we),we>=De.length){if(et)return-1;we=De.length-1}else if(we<0)if(et)we=0;else return-1;if(typeof ge=="string"&&(ge=M.from(ge,Ue)),M.isBuffer(ge))return ge.length===0?-1:ne(De,ge,we,Ue,et);if(typeof ge=="number")return ge=ge&255,typeof Uint8Array.prototype.indexOf=="function"?et?Uint8Array.prototype.indexOf.call(De,ge,we):Uint8Array.prototype.lastIndexOf.call(De,ge,we):ne(De,[ge],we,Ue,et);throw new TypeError("val must be string, number or Buffer")}function ne(De,ge,we,Ue,et){var st=1,lt=De.length,Wt=ge.length;if(Ue!==void 0&&(Ue=String(Ue).toLowerCase(),Ue==="ucs2"||Ue==="ucs-2"||Ue==="utf16le"||Ue==="utf-16le")){if(De.length<2||ge.length<2)return-1;st=2,lt/=2,Wt/=2,we/=2}function jt(gt,Kt){return st===1?gt[Kt]:gt.readUInt16BE(Kt*st)}var Tt;if(et){var Rt=-1;for(Tt=we;Tt<lt;Tt++)if(jt(De,Tt)===jt(ge,Rt===-1?0:Tt-Rt)){if(Rt===-1&&(Rt=Tt),Tt-Rt+1===Wt)return Rt*st}else Rt!==-1&&(Tt-=Tt-Rt),Rt=-1}else for(we+Wt>lt&&(we=lt-Wt),Tt=we;Tt>=0;Tt--){for(var Zt=!0,mr=0;mr<Wt;mr++)if(jt(De,Tt+mr)!==jt(ge,mr)){Zt=!1;break}if(Zt)return Tt}return-1}M.prototype.includes=function(ge,we,Ue){return this.indexOf(ge,we,Ue)!==-1},M.prototype.indexOf=function(ge,we,Ue){return he(this,ge,we,Ue,!0)},M.prototype.lastIndexOf=function(ge,we,Ue){return he(this,ge,we,Ue,!1)};function q(De,ge,we,Ue){we=Number(we)||0;var et=De.length-we;Ue?(Ue=Number(Ue),Ue>et&&(Ue=et)):Ue=et;var st=ge.length;Ue>st/2&&(Ue=st/2);var lt;for(lt=0;lt<Ue;++lt){var Wt=parseInt(ge.substr(lt*2,2),16);if(Ge(Wt))return lt;De[we+lt]=Wt}return lt}function le(De,ge,we,Ue){return We(wt(ge,De.length-we),De,we,Ue)}function Q(De,ge,we,Ue){return We(Mt(ge),De,we,Ue)}function te(De,ge,we,Ue){return We(Fe(ge),De,we,Ue)}function ue(De,ge,we,Ue){return We(nt(ge,De.length-we),De,we,Ue)}M.prototype.write=function(ge,we,Ue,et){if(we===void 0)et="utf8",Ue=this.length,we=0;else if(Ue===void 0&&typeof we=="string")et=we,Ue=this.length,we=0;else if(isFinite(we))we=we>>>0,isFinite(Ue)?(Ue=Ue>>>0,et===void 0&&(et="utf8")):(et=Ue,Ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var st=this.length-we;if((Ue===void 0||Ue>st)&&(Ue=st),ge.length>0&&(Ue<0||we<0)||we>this.length)throw new RangeError("Attempt to write outside buffer bounds");et||(et="utf8");for(var lt=!1;;)switch(et){case"hex":return q(this,ge,we,Ue);case"utf8":case"utf-8":return le(this,ge,we,Ue);case"ascii":case"latin1":case"binary":return Q(this,ge,we,Ue);case"base64":return te(this,ge,we,Ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,ge,we,Ue);default:if(lt)throw new TypeError("Unknown encoding: "+et);et=(""+et).toLowerCase(),lt=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(De,ge,we){return ge===0&&we===De.length?w.fromByteArray(De):w.fromByteArray(De.slice(ge,we))}function K(De,ge,we){we=Math.min(De.length,we);for(var Ue=[],et=ge;et<we;){var st=De[et],lt=null,Wt=st>239?4:st>223?3:st>191?2:1;if(et+Wt<=we){var jt=void 0,Tt=void 0,Rt=void 0,Zt=void 0;switch(Wt){case 1:st<128&&(lt=st);break;case 2:jt=De[et+1],(jt&192)===128&&(Zt=(st&31)<<6|jt&63,Zt>127&&(lt=Zt));break;case 3:jt=De[et+1],Tt=De[et+2],(jt&192)===128&&(Tt&192)===128&&(Zt=(st&15)<<12|(jt&63)<<6|Tt&63,Zt>2047&&(Zt<55296||Zt>57343)&&(lt=Zt));break;case 4:jt=De[et+1],Tt=De[et+2],Rt=De[et+3],(jt&192)===128&&(Tt&192)===128&&(Rt&192)===128&&(Zt=(st&15)<<18|(jt&63)<<12|(Tt&63)<<6|Rt&63,Zt>65535&&Zt<1114112&&(lt=Zt))}}lt===null?(lt=65533,Wt=1):lt>65535&&(lt-=65536,Ue.push(lt>>>10&1023|55296),lt=56320|lt&1023),Ue.push(lt),et+=Wt}return ae(Ue)}var ce=4096;function ae(De){var ge=De.length;if(ge<=ce)return String.fromCharCode.apply(String,De);for(var we="",Ue=0;Ue<ge;)we+=String.fromCharCode.apply(String,De.slice(Ue,Ue+=ce));return we}function de(De,ge,we){var Ue="";we=Math.min(De.length,we);for(var et=ge;et<we;++et)Ue+=String.fromCharCode(De[et]&127);return Ue}function be(De,ge,we){var Ue="";we=Math.min(De.length,we);for(var et=ge;et<we;++et)Ue+=String.fromCharCode(De[et]);return Ue}function Se(De,ge,we){var Ue=De.length;(!ge||ge<0)&&(ge=0),(!we||we<0||we>Ue)&&(we=Ue);for(var et="",st=ge;st<we;++st)et+=Pe[De[st]];return et}function Te(De,ge,we){for(var Ue=De.slice(ge,we),et="",st=0;st<Ue.length-1;st+=2)et+=String.fromCharCode(Ue[st]+Ue[st+1]*256);return et}M.prototype.slice=function(ge,we){var Ue=this.length;ge=~~ge,we=we===void 0?Ue:~~we,ge<0?(ge+=Ue,ge<0&&(ge=0)):ge>Ue&&(ge=Ue),we<0?(we+=Ue,we<0&&(we=0)):we>Ue&&(we=Ue),we<ge&&(we=ge);var et=this.subarray(ge,we);return Object.setPrototypeOf(et,M.prototype),et};function Ie(De,ge,we){if(De%1!==0||De<0)throw new RangeError("offset is not uint");if(De+ge>we)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUintLE=M.prototype.readUIntLE=function(ge,we,Ue){ge=ge>>>0,we=we>>>0,Ue||Ie(ge,we,this.length);for(var et=this[ge],st=1,lt=0;++lt<we&&(st*=256);)et+=this[ge+lt]*st;return et},M.prototype.readUintBE=M.prototype.readUIntBE=function(ge,we,Ue){ge=ge>>>0,we=we>>>0,Ue||Ie(ge,we,this.length);for(var et=this[ge+--we],st=1;we>0&&(st*=256);)et+=this[ge+--we]*st;return et},M.prototype.readUint8=M.prototype.readUInt8=function(ge,we){return ge=ge>>>0,we||Ie(ge,1,this.length),this[ge]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(ge,we){return ge=ge>>>0,we||Ie(ge,2,this.length),this[ge]|this[ge+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(ge,we){return ge=ge>>>0,we||Ie(ge,2,this.length),this[ge]<<8|this[ge+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(ge,we){return ge=ge>>>0,we||Ie(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+this[ge+3]*16777216},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(ge,we){return ge=ge>>>0,we||Ie(ge,4,this.length),this[ge]*16777216+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},M.prototype.readBigUInt64LE=Re(function(ge){ge=ge>>>0,qe(ge,"offset");var we=this[ge],Ue=this[ge+7];(we===void 0||Ue===void 0)&&ht(ge,this.length-8);var et=we+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24),st=this[++ge]+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+Ue*Math.pow(2,24);return BigInt(et)+(BigInt(st)<<BigInt(32))}),M.prototype.readBigUInt64BE=Re(function(ge){ge=ge>>>0,qe(ge,"offset");var we=this[ge],Ue=this[ge+7];(we===void 0||Ue===void 0)&&ht(ge,this.length-8);var et=we*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge],st=this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Ue;return(BigInt(et)<<BigInt(32))+BigInt(st)}),M.prototype.readIntLE=function(ge,we,Ue){ge=ge>>>0,we=we>>>0,Ue||Ie(ge,we,this.length);for(var et=this[ge],st=1,lt=0;++lt<we&&(st*=256);)et+=this[ge+lt]*st;return st*=128,et>=st&&(et-=Math.pow(2,8*we)),et},M.prototype.readIntBE=function(ge,we,Ue){ge=ge>>>0,we=we>>>0,Ue||Ie(ge,we,this.length);for(var et=we,st=1,lt=this[ge+--et];et>0&&(st*=256);)lt+=this[ge+--et]*st;return st*=128,lt>=st&&(lt-=Math.pow(2,8*we)),lt},M.prototype.readInt8=function(ge,we){return ge=ge>>>0,we||Ie(ge,1,this.length),this[ge]&128?(255-this[ge]+1)*-1:this[ge]},M.prototype.readInt16LE=function(ge,we){ge=ge>>>0,we||Ie(ge,2,this.length);var Ue=this[ge]|this[ge+1]<<8;return Ue&32768?Ue|4294901760:Ue},M.prototype.readInt16BE=function(ge,we){ge=ge>>>0,we||Ie(ge,2,this.length);var Ue=this[ge+1]|this[ge]<<8;return Ue&32768?Ue|4294901760:Ue},M.prototype.readInt32LE=function(ge,we){return ge=ge>>>0,we||Ie(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},M.prototype.readInt32BE=function(ge,we){return ge=ge>>>0,we||Ie(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},M.prototype.readBigInt64LE=Re(function(ge){ge=ge>>>0,qe(ge,"offset");var we=this[ge],Ue=this[ge+7];(we===void 0||Ue===void 0)&&ht(ge,this.length-8);var et=this[ge+4]+this[ge+5]*Math.pow(2,8)+this[ge+6]*Math.pow(2,16)+(Ue<<24);return(BigInt(et)<<BigInt(32))+BigInt(we+this[++ge]*Math.pow(2,8)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,24))}),M.prototype.readBigInt64BE=Re(function(ge){ge=ge>>>0,qe(ge,"offset");var we=this[ge],Ue=this[ge+7];(we===void 0||Ue===void 0)&&ht(ge,this.length-8);var et=(we<<24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+this[++ge];return(BigInt(et)<<BigInt(32))+BigInt(this[++ge]*Math.pow(2,24)+this[++ge]*Math.pow(2,16)+this[++ge]*Math.pow(2,8)+Ue)}),M.prototype.readFloatLE=function(ge,we){return ge=ge>>>0,we||Ie(ge,4,this.length),_.read(this,ge,!0,23,4)},M.prototype.readFloatBE=function(ge,we){return ge=ge>>>0,we||Ie(ge,4,this.length),_.read(this,ge,!1,23,4)},M.prototype.readDoubleLE=function(ge,we){return ge=ge>>>0,we||Ie(ge,8,this.length),_.read(this,ge,!0,52,8)},M.prototype.readDoubleBE=function(ge,we){return ge=ge>>>0,we||Ie(ge,8,this.length),_.read(this,ge,!1,52,8)};function ke(De,ge,we,Ue,et,st){if(!M.isBuffer(De))throw new TypeError('"buffer" argument must be a Buffer instance');if(ge>et||ge<st)throw new RangeError('"value" argument is out of bounds');if(we+Ue>De.length)throw new RangeError("Index out of range")}M.prototype.writeUintLE=M.prototype.writeUIntLE=function(ge,we,Ue,et){if(ge=+ge,we=we>>>0,Ue=Ue>>>0,!et){var st=Math.pow(2,8*Ue)-1;ke(this,ge,we,Ue,st,0)}var lt=1,Wt=0;for(this[we]=ge&255;++Wt<Ue&&(lt*=256);)this[we+Wt]=ge/lt&255;return we+Ue},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(ge,we,Ue,et){if(ge=+ge,we=we>>>0,Ue=Ue>>>0,!et){var st=Math.pow(2,8*Ue)-1;ke(this,ge,we,Ue,st,0)}var lt=Ue-1,Wt=1;for(this[we+lt]=ge&255;--lt>=0&&(Wt*=256);)this[we+lt]=ge/Wt&255;return we+Ue},M.prototype.writeUint8=M.prototype.writeUInt8=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,1,255,0),this[we]=ge&255,we+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,2,65535,0),this[we]=ge&255,this[we+1]=ge>>>8,we+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,2,65535,0),this[we]=ge>>>8,this[we+1]=ge&255,we+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,4,4294967295,0),this[we+3]=ge>>>24,this[we+2]=ge>>>16,this[we+1]=ge>>>8,this[we]=ge&255,we+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,4,4294967295,0),this[we]=ge>>>24,this[we+1]=ge>>>16,this[we+2]=ge>>>8,this[we+3]=ge&255,we+4};function Be(De,ge,we,Ue,et){$e(ge,Ue,et,De,we,7);var st=Number(ge&BigInt(4294967295));De[we++]=st,st=st>>8,De[we++]=st,st=st>>8,De[we++]=st,st=st>>8,De[we++]=st;var lt=Number(ge>>BigInt(32)&BigInt(4294967295));return De[we++]=lt,lt=lt>>8,De[we++]=lt,lt=lt>>8,De[we++]=lt,lt=lt>>8,De[we++]=lt,we}function Me(De,ge,we,Ue,et){$e(ge,Ue,et,De,we,7);var st=Number(ge&BigInt(4294967295));De[we+7]=st,st=st>>8,De[we+6]=st,st=st>>8,De[we+5]=st,st=st>>8,De[we+4]=st;var lt=Number(ge>>BigInt(32)&BigInt(4294967295));return De[we+3]=lt,lt=lt>>8,De[we+2]=lt,lt=lt>>8,De[we+1]=lt,lt=lt>>8,De[we]=lt,we+8}M.prototype.writeBigUInt64LE=Re(function(ge){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ge,we,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Re(function(ge){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Me(this,ge,we,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(ge,we,Ue,et){if(ge=+ge,we=we>>>0,!et){var st=Math.pow(2,8*Ue-1);ke(this,ge,we,Ue,st-1,-st)}var lt=0,Wt=1,jt=0;for(this[we]=ge&255;++lt<Ue&&(Wt*=256);)ge<0&&jt===0&&this[we+lt-1]!==0&&(jt=1),this[we+lt]=(ge/Wt>>0)-jt&255;return we+Ue},M.prototype.writeIntBE=function(ge,we,Ue,et){if(ge=+ge,we=we>>>0,!et){var st=Math.pow(2,8*Ue-1);ke(this,ge,we,Ue,st-1,-st)}var lt=Ue-1,Wt=1,jt=0;for(this[we+lt]=ge&255;--lt>=0&&(Wt*=256);)ge<0&&jt===0&&this[we+lt+1]!==0&&(jt=1),this[we+lt]=(ge/Wt>>0)-jt&255;return we+Ue},M.prototype.writeInt8=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,1,127,-128),ge<0&&(ge=255+ge+1),this[we]=ge&255,we+1},M.prototype.writeInt16LE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,2,32767,-32768),this[we]=ge&255,this[we+1]=ge>>>8,we+2},M.prototype.writeInt16BE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,2,32767,-32768),this[we]=ge>>>8,this[we+1]=ge&255,we+2},M.prototype.writeInt32LE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,4,2147483647,-2147483648),this[we]=ge&255,this[we+1]=ge>>>8,this[we+2]=ge>>>16,this[we+3]=ge>>>24,we+4},M.prototype.writeInt32BE=function(ge,we,Ue){return ge=+ge,we=we>>>0,Ue||ke(this,ge,we,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[we]=ge>>>24,this[we+1]=ge>>>16,this[we+2]=ge>>>8,this[we+3]=ge&255,we+4},M.prototype.writeBigInt64LE=Re(function(ge){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Be(this,ge,we,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Re(function(ge){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Me(this,ge,we,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Oe(De,ge,we,Ue,et,st){if(we+Ue>De.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("Index out of range")}function _e(De,ge,we,Ue,et){return ge=+ge,we=we>>>0,et||Oe(De,ge,we,4),_.write(De,ge,we,Ue,23,4),we+4}M.prototype.writeFloatLE=function(ge,we,Ue){return _e(this,ge,we,!0,Ue)},M.prototype.writeFloatBE=function(ge,we,Ue){return _e(this,ge,we,!1,Ue)};function Ne(De,ge,we,Ue,et){return ge=+ge,we=we>>>0,et||Oe(De,ge,we,8),_.write(De,ge,we,Ue,52,8),we+8}M.prototype.writeDoubleLE=function(ge,we,Ue){return Ne(this,ge,we,!0,Ue)},M.prototype.writeDoubleBE=function(ge,we,Ue){return Ne(this,ge,we,!1,Ue)},M.prototype.copy=function(ge,we,Ue,et){if(!M.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(Ue||(Ue=0),!et&&et!==0&&(et=this.length),we>=ge.length&&(we=ge.length),we||(we=0),et>0&&et<Ue&&(et=Ue),et===Ue||ge.length===0||this.length===0)return 0;if(we<0)throw new RangeError("targetStart out of bounds");if(Ue<0||Ue>=this.length)throw new RangeError("Index out of range");if(et<0)throw new RangeError("sourceEnd out of bounds");et>this.length&&(et=this.length),ge.length-we<et-Ue&&(et=ge.length-we+Ue);var st=et-Ue;return this===ge&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(we,Ue,et):Uint8Array.prototype.set.call(ge,this.subarray(Ue,et),we),st},M.prototype.fill=function(ge,we,Ue,et){if(typeof ge=="string"){if(typeof we=="string"?(et=we,we=0,Ue=this.length):typeof Ue=="string"&&(et=Ue,Ue=this.length),et!==void 0&&typeof et!="string")throw new TypeError("encoding must be a string");if(typeof et=="string"&&!M.isEncoding(et))throw new TypeError("Unknown encoding: "+et);if(ge.length===1){var st=ge.charCodeAt(0);(et==="utf8"&&st<128||et==="latin1")&&(ge=st)}}else typeof ge=="number"?ge=ge&255:typeof ge=="boolean"&&(ge=Number(ge));if(we<0||this.length<we||this.length<Ue)throw new RangeError("Out of range index");if(Ue<=we)return this;we=we>>>0,Ue=Ue===void 0?this.length:Ue>>>0,ge||(ge=0);var lt;if(typeof ge=="number")for(lt=we;lt<Ue;++lt)this[lt]=ge;else{var Wt=M.isBuffer(ge)?ge:M.from(ge,et),jt=Wt.length;if(jt===0)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(lt=0;lt<Ue-we;++lt)this[lt+we]=Wt[lt%jt]}return this};var Ce={};function Ye(De,ge,we){Ce[De]=function(Ue){function et(){var st;return t(this,et),st=l(this,et),Object.defineProperty(st,"message",{value:ge.apply(st,arguments),writable:!0,configurable:!0}),st.name="".concat(st.name," [").concat(De,"]"),st.stack,delete st.name,st}return i(et,Ue),n(et,[{key:"code",get:function(){return De},set:function(lt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:lt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(De,"]: ").concat(this.message)}}])}(we)}Ye("ERR_BUFFER_OUT_OF_BOUNDS",function(De){return De?"".concat(De," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ye("ERR_INVALID_ARG_TYPE",function(De,ge){return'The "'.concat(De,'" argument must be of type number. Received type ').concat(x(ge))},TypeError),Ye("ERR_OUT_OF_RANGE",function(De,ge,we){var Ue='The value of "'.concat(De,'" is out of range.'),et=we;return Number.isInteger(we)&&Math.abs(we)>Math.pow(2,32)?et=rt(String(we)):typeof we=="bigint"&&(et=String(we),(we>Math.pow(BigInt(2),BigInt(32))||we<-Math.pow(BigInt(2),BigInt(32)))&&(et=rt(et)),et+="n"),Ue+=" It must be ".concat(ge,". Received ").concat(et),Ue},RangeError);function rt(De){for(var ge="",we=De.length,Ue=De[0]==="-"?1:0;we>=Ue+4;we-=3)ge="_".concat(De.slice(we-3,we)).concat(ge);return"".concat(De.slice(0,we)).concat(ge)}function ot(De,ge,we){qe(ge,"offset"),(De[ge]===void 0||De[ge+we]===void 0)&&ht(ge,De.length-(we+1))}function $e(De,ge,we,Ue,et,st){if(De>we||De<ge){var lt=typeof ge=="bigint"?"n":"",Wt;throw ge===0||ge===BigInt(0)?Wt=">= 0".concat(lt," and < 2").concat(lt," ** ").concat((st+1)*8).concat(lt):Wt=">= -(2".concat(lt," ** ").concat((st+1)*8-1).concat(lt,") and < 2 ** ")+"".concat((st+1)*8-1).concat(lt),new Ce.ERR_OUT_OF_RANGE("value",Wt,De)}ot(Ue,et,st)}function qe(De,ge){if(typeof De!="number")throw new Ce.ERR_INVALID_ARG_TYPE(ge,"number",De)}function ht(De,ge,we){throw Math.floor(De)!==De?(qe(De,we),new Ce.ERR_OUT_OF_RANGE("offset","an integer",De)):ge<0?new Ce.ERR_BUFFER_OUT_OF_BOUNDS:new Ce.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(ge),De)}var vt=/[^+/0-9A-Za-z-_]/g;function pt(De){if(De=De.split("=")[0],De=De.trim().replace(vt,""),De.length<2)return"";for(;De.length%4!==0;)De=De+"=";return De}function wt(De,ge){ge=ge||1/0;for(var we,Ue=De.length,et=null,st=[],lt=0;lt<Ue;++lt){if(we=De.charCodeAt(lt),we>55295&&we<57344){if(!et){if(we>56319){(ge-=3)>-1&&st.push(239,191,189);continue}else if(lt+1===Ue){(ge-=3)>-1&&st.push(239,191,189);continue}et=we;continue}if(we<56320){(ge-=3)>-1&&st.push(239,191,189),et=we;continue}we=(et-55296<<10|we-56320)+65536}else et&&(ge-=3)>-1&&st.push(239,191,189);if(et=null,we<128){if((ge-=1)<0)break;st.push(we)}else if(we<2048){if((ge-=2)<0)break;st.push(we>>6|192,we&63|128)}else if(we<65536){if((ge-=3)<0)break;st.push(we>>12|224,we>>6&63|128,we&63|128)}else if(we<1114112){if((ge-=4)<0)break;st.push(we>>18|240,we>>12&63|128,we>>6&63|128,we&63|128)}else throw new Error("Invalid code point")}return st}function Mt(De){for(var ge=[],we=0;we<De.length;++we)ge.push(De.charCodeAt(we)&255);return ge}function nt(De,ge){for(var we,Ue,et,st=[],lt=0;lt<De.length&&!((ge-=2)<0);++lt)we=De.charCodeAt(lt),Ue=we>>8,et=we%256,st.push(et),st.push(Ue);return st}function Fe(De){return w.toByteArray(pt(De))}function We(De,ge,we,Ue){var et;for(et=0;et<Ue&&!(et+we>=ge.length||et>=De.length);++et)ge[et+we]=De[et];return et}function Ze(De,ge){return De instanceof ge||De!=null&&De.constructor!=null&&De.constructor.name!=null&&De.constructor.name===ge.name}function Ge(De){return De!==De}var Pe=function(){for(var De="0123456789abcdef",ge=new Array(256),we=0;we<16;++we)for(var Ue=we*16,et=0;et<16;++et)ge[Ue+et]=De[we]+De[et];return ge}();function Re(De){return typeof BigInt>"u"?je:De}function je(){throw new Error("BigInt not supported")}},9216:function(v){v.exports=a,v.exports.isMobile=a,v.exports.default=a;var g=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function a(n){n||(n={});var f=n.ua;if(!f&&typeof navigator<"u"&&(f=navigator.userAgent),f&&f.headers&&typeof f.headers["user-agent"]=="string"&&(f=f.headers["user-agent"]),typeof f!="string")return!1;var u=g.test(f)&&!r.test(f)||!!n.tablet&&t.test(f);return!u&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&f.indexOf("Macintosh")!==-1&&f.indexOf("Safari")!==-1&&(u=!0),u}},6296:function(v,g,r){v.exports=l;var t=r(7261),a=r(9977),n=r(4192);function f(y,h){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(T){return y[T]}),this._mode=h,this._active=y[h],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=f.prototype;u.flush=function(y){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].flush(y)},u.idle=function(y){for(var h=this._controllerList,T=0;T<h.length;++T)h[T].idle(y)},u.lookAt=function(y,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].lookAt(y,h,T,c)},u.rotate=function(y,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].rotate(y,h,T,c)},u.pan=function(y,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].pan(y,h,T,c)},u.translate=function(y,h,T,c){for(var i=this._controllerList,d=0;d<i.length;++d)i[d].translate(y,h,T,c)},u.setMatrix=function(y,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setMatrix(y,h)},u.setDistanceLimits=function(y,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistanceLimits(y,h)},u.setDistance=function(y,h){for(var T=this._controllerList,c=0;c<T.length;++c)T[c].setDistance(y,h)},u.recalcMatrix=function(y){this._active.recalcMatrix(y)},u.getDistance=function(y){return this._active.getDistance(y)},u.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},u.lastT=function(){return this._active.lastT()},u.setMode=function(y){if(y!==this._mode){var h=this._controllerNames.indexOf(y);if(!(h<0)){var T=this._active,c=this._controllerList[h],i=Math.max(T.lastT(),c.lastT());T.recalcMatrix(i),c.setMatrix(i,T.computedMatrix),this._active=c,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function l(y){y=y||{};var h=y.eye||[0,0,1],T=y.center||[0,0,0],c=y.up||[0,1,0],i=y.distanceLimits||[0,1/0],d=y.mode||"turntable",x=t(),w=a(),_=n();return x.setDistanceLimits(i[0],i[1]),x.lookAt(0,h,T,c),w.setDistanceLimits(i[0],i[1]),w.lookAt(0,h,T,c),_.setDistanceLimits(i[0],i[1]),_.lookAt(0,h,T,c),new f({turntable:x,orbit:w,matrix:_},d)}},7169:function(v,g,r){var t=typeof WeakMap>"u"?r(1538):WeakMap,a=r(2762),n=r(8116),f=new t;function u(l){var y=f.get(l),h=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!h||!l.isBuffer(h)){var T=a(l,new Float32Array([-1,-1,-1,4,4,-1]));y=n(l,[{buffer:T,type:l.FLOAT,size:2}]),y._triangleBuffer=T,f.set(l,y)}y.bind(),l.drawArrays(l.TRIANGLES,0,3),y.unbind()}v.exports=u},1085:function(v,g,r){var t=r(1371);v.exports=a;function a(n,f,u){f=typeof f=="number"?f:1,u=u||": ";var l=n.split(/\r?\n/),y=String(l.length+f-1).length;return l.map(function(h,T){var c=T+f,i=String(c).length,d=t(c,y-i);return d+u+h}).join(`
`)}},3952:function(v,g,r){v.exports=n;var t=r(3250);function a(f,u){for(var l=new Array(u+1),y=0;y<f.length;++y)l[y]=f[y];for(var y=0;y<=f.length;++y){for(var h=f.length;h<=u;++h){for(var T=new Array(u),c=0;c<u;++c)T[c]=Math.pow(h+1-y,c);l[h]=T}var i=t.apply(void 0,l);if(i)return!0}return!1}function n(f){var u=f.length;if(u===0)return[];if(u===1)return[0];for(var l=f[0].length,y=[f[0]],h=[0],T=1;T<u;++T){if(y.push(f[T]),!a(y,l)){y.pop();continue}if(h.push(T),h.length===l+1)return h}return h}},5995:function(v,g,r){v.exports=n;var t=r(7642),a=r(6037);function n(f,u){return t(u).filter(function(l){for(var y=new Array(l.length),h=0;h<l.length;++h)y[h]=u[l[h]];return a(y)*f<1})}},3502:function(v,g,r){v.exports=n;var t=r(5995),a=r(9127);function n(f,u){return a(t(f,u))}},6468:function(v){v.exports=function(r){return atob(r)}},2642:function(v,g,r){v.exports=n;var t=r(727);function a(f){for(var u=0,l=0;l<f.length;++l)u+=f[l];return u}function n(f,u){for(var l=u.length,y=new Array(l+1),h=0;h<l;++h){for(var T=new Array(l+1),c=0;c<=l;++c)T[c]=f[c][h];y[h]=T}y[l]=new Array(l+1);for(var h=0;h<=l;++h)y[l][h]=1;for(var i=new Array(l+1),h=0;h<l;++h)i[h]=u[h];i[l]=1;var d=t(y,i),x=a(d[l+1]);x===0&&(x=1);for(var w=new Array(l+1),h=0;h<=l;++h)w[h]=a(d[h])/x;return w}},7507:function(v,g){g.byteLength=y,g.toByteArray=T,g.fromByteArray=d;for(var r=[],t=[],a=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,u=n.length;f<u;++f)r[f]=n[f],t[n.charCodeAt(f)]=f;t[45]=62,t[95]=63;function l(x){var w=x.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=x.indexOf("=");_===-1&&(_=w);var m=_===w?0:4-_%4;return[_,m]}function y(x){var w=l(x),_=w[0],m=w[1];return(_+m)*3/4-m}function h(x,w,_){return(w+_)*3/4-_}function T(x){var w,_=l(x),m=_[0],E=_[1],A=new a(h(x,m,E)),s=0,M=E>0?m-4:m,b;for(b=0;b<M;b+=4)w=t[x.charCodeAt(b)]<<18|t[x.charCodeAt(b+1)]<<12|t[x.charCodeAt(b+2)]<<6|t[x.charCodeAt(b+3)],A[s++]=w>>16&255,A[s++]=w>>8&255,A[s++]=w&255;return E===2&&(w=t[x.charCodeAt(b)]<<2|t[x.charCodeAt(b+1)]>>4,A[s++]=w&255),E===1&&(w=t[x.charCodeAt(b)]<<10|t[x.charCodeAt(b+1)]<<4|t[x.charCodeAt(b+2)]>>2,A[s++]=w>>8&255,A[s++]=w&255),A}function c(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function i(x,w,_){for(var m,E=[],A=w;A<_;A+=3)m=(x[A]<<16&16711680)+(x[A+1]<<8&65280)+(x[A+2]&255),E.push(c(m));return E.join("")}function d(x){for(var w,_=x.length,m=_%3,E=[],A=16383,s=0,M=_-m;s<M;s+=A)E.push(i(x,s,s+A>M?M:s+A));return m===1?(w=x[_-1],E.push(r[w>>2]+r[w<<4&63]+"==")):m===2&&(w=(x[_-2]<<8)+x[_-1],E.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),E.join("")}},3865:function(v,g,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).add(f[0].mul(n[1])),n[1].mul(f[1]))}},1318:function(v){v.exports=g;function g(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},8697:function(v,g,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]),n[1].mul(f[0]))}},7842:function(v,g,r){var t=r(6330),a=r(1533),n=r(2651),f=r(4387),u=r(869),l=r(8697);v.exports=y;function y(h,T){if(t(h))return T?l(h,y(T)):[h[0].clone(),h[1].clone()];var c=0,i,d;if(a(h))i=h.clone();else if(typeof h=="string")i=f(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))i=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),c-=256;i=n(h)}}if(t(T))i.mul(T[1]),d=T[0].clone();else if(a(T))d=T.clone();else if(typeof T=="string")d=f(T);else if(!T)d=n(1);else if(T===Math.floor(T))d=n(T);else{for(;T!==Math.floor(T);)T=T*Math.pow(2,256),c+=256;d=n(T)}return c>0?i=i.ushln(c):c<0&&(d=d.ushln(-c)),u(i,d)}},6330:function(v,g,r){var t=r(1533);v.exports=a;function a(n){return Array.isArray(n)&&n.length===2&&t(n[0])&&t(n[1])}},5716:function(v,g,r){var t=r(6859);v.exports=a;function a(n){return n.cmp(new t(0))}},1369:function(v,g,r){var t=r(5716);v.exports=a;function a(n){var f=n.length,u=n.words,l=0;if(f===1)l=u[0];else if(f===2)l=u[0]+u[1]*67108864;else for(var y=0;y<f;y++){var h=u[y];l+=h*Math.pow(67108864,y)}return t(n)*l}},4025:function(v,g,r){var t=r(2361),a=r(8828).countTrailingZeros;v.exports=n;function n(f){var u=a(t.lo(f));if(u<32)return u;var l=a(t.hi(f));return l>20?52:l+32}},1533:function(v,g,r){r(6859),v.exports=t;function t(a){return a&&typeof a=="object"&&!!a.words}},2651:function(v,g,r){var t=r(6859),a=r(2361);v.exports=n;function n(f){var u=a.exponent(f);return u<52?new t(f):new t(f*Math.pow(2,52-u)).ushln(u-52)}},869:function(v,g,r){var t=r(2651),a=r(5716);v.exports=n;function n(f,u){var l=a(f),y=a(u);if(l===0)return[t(0),t(1)];if(y===0)return[t(0),t(0)];y<0&&(f=f.neg(),u=u.neg());var h=f.gcd(u);return h.cmpn(1)?[f.div(h),u.div(h)]:[f,u]}},4387:function(v,g,r){var t=r(6859);v.exports=a;function a(n){return new t(n)}},6504:function(v,g,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[0]),n[1].mul(f[1]))}},7721:function(v,g,r){var t=r(5716);v.exports=a;function a(n){return t(n[0])*t(n[1])}},5572:function(v,g,r){var t=r(869);v.exports=a;function a(n,f){return t(n[0].mul(f[1]).sub(n[1].mul(f[0])),n[1].mul(f[1]))}},946:function(v,g,r){var t=r(1369),a=r(4025);v.exports=n;function n(f){var u=f[0],l=f[1];if(u.cmpn(0)===0)return 0;var y=u.abs().divmod(l.abs()),h=y.div,T=t(h),c=y.mod,i=u.negative!==l.negative?-1:1;if(c.cmpn(0)===0)return i*T;if(T){var d=a(T)+4,x=t(c.ushln(d).divRound(l));return i*(T+x*Math.pow(2,-d))}else{var w=l.bitLength()-c.bitLength()+53,x=t(c.ushln(w).divRound(l));return w<1023?i*x*Math.pow(2,-w):(x*=Math.pow(2,-1023),i*x*Math.pow(2,1023-w))}}},2478:function(v){function g(u,l,y,h,T){for(var c=T+1;h<=T;){var i=h+T>>>1,d=u[i],x=y!==void 0?y(d,l):d-l;x>=0?(c=i,T=i-1):h=i+1}return c}function r(u,l,y,h,T){for(var c=T+1;h<=T;){var i=h+T>>>1,d=u[i],x=y!==void 0?y(d,l):d-l;x>0?(c=i,T=i-1):h=i+1}return c}function t(u,l,y,h,T){for(var c=h-1;h<=T;){var i=h+T>>>1,d=u[i],x=y!==void 0?y(d,l):d-l;x<0?(c=i,h=i+1):T=i-1}return c}function a(u,l,y,h,T){for(var c=h-1;h<=T;){var i=h+T>>>1,d=u[i],x=y!==void 0?y(d,l):d-l;x<=0?(c=i,h=i+1):T=i-1}return c}function n(u,l,y,h,T){for(;h<=T;){var c=h+T>>>1,i=u[c],d=y!==void 0?y(i,l):i-l;if(d===0)return c;d<=0?h=c+1:T=c-1}return-1}function f(u,l,y,h,T,c){return typeof y=="function"?c(u,l,y,h===void 0?0:h|0,T===void 0?u.length-1:T|0):c(u,l,void 0,y===void 0?0:y|0,h===void 0?u.length-1:h|0)}v.exports={ge:function(u,l,y,h,T){return f(u,l,y,h,T,g)},gt:function(u,l,y,h,T){return f(u,l,y,h,T,r)},lt:function(u,l,y,h,T){return f(u,l,y,h,T,t)},le:function(u,l,y,h,T){return f(u,l,y,h,T,a)},eq:function(u,l,y,h,T){return f(u,l,y,h,T,n)}}},8828:function(v,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(n){return(n>0)-(n<0)},g.abs=function(n){var f=n>>r-1;return(n^f)-f},g.min=function(n,f){return f^(n^f)&-(n<f)},g.max=function(n,f){return n^(n^f)&-(n<f)},g.isPow2=function(n){return!(n&n-1)&&!!n},g.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},g.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},g.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}g.countTrailingZeros=t,g.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},g.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},g.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,y=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--y;n[f]=l<<y&255}})(a),g.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},g.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},g.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},g.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},g.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},g.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},6859:function(v,g,r){v=r.nmd(v),function(t,a){function n(U,z){if(!U)throw new Error(z||"Assertion failed")}function f(U,z){U.super_=z;var W=function(){};W.prototype=z.prototype,U.prototype=new W,U.prototype.constructor=U}function u(U,z,W){if(u.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((z==="le"||z==="be")&&(W=z,z=10),this._init(U||0,z||10,W||"be"))}typeof t=="object"?t.exports=u:a.BN=u,u.BN=u,u.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=r(7790).Buffer}catch{}u.isBN=function(z){return z instanceof u?!0:z!==null&&typeof z=="object"&&z.constructor.wordSize===u.wordSize&&Array.isArray(z.words)},u.max=function(z,W){return z.cmp(W)>0?z:W},u.min=function(z,W){return z.cmp(W)<0?z:W},u.prototype._init=function(z,W,j){if(typeof z=="number")return this._initNumber(z,W,j);if(typeof z=="object")return this._initArray(z,W,j);W==="hex"&&(W=16),n(W===(W|0)&&W>=2&&W<=36),z=z.toString().replace(/\s+/g,"");var ee=0;z[0]==="-"&&(ee++,this.negative=1),ee<z.length&&(W===16?this._parseHex(z,ee,j):(this._parseBase(z,W,ee),j==="le"&&this._initArray(this.toArray(),W,j)))},u.prototype._initNumber=function(z,W,j){z<0&&(this.negative=1,z=-z),z<67108864?(this.words=[z&67108863],this.length=1):z<4503599627370496?(this.words=[z&67108863,z/67108864&67108863],this.length=2):(n(z<9007199254740992),this.words=[z&67108863,z/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),W,j)},u.prototype._initArray=function(z,W,j){if(n(typeof z.length=="number"),z.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(z.length/3),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var ie,oe,he=0;if(j==="be")for(ee=z.length-1,ie=0;ee>=0;ee-=3)oe=z[ee]|z[ee-1]<<8|z[ee-2]<<16,this.words[ie]|=oe<<he&67108863,this.words[ie+1]=oe>>>26-he&67108863,he+=24,he>=26&&(he-=26,ie++);else if(j==="le")for(ee=0,ie=0;ee<z.length;ee+=3)oe=z[ee]|z[ee+1]<<8|z[ee+2]<<16,this.words[ie]|=oe<<he&67108863,this.words[ie+1]=oe>>>26-he&67108863,he+=24,he>=26&&(he-=26,ie++);return this.strip()};function y(U,z){var W=U.charCodeAt(z);return W>=65&&W<=70?W-55:W>=97&&W<=102?W-87:W-48&15}function h(U,z,W){var j=y(U,W);return W-1>=z&&(j|=y(U,W-1)<<4),j}u.prototype._parseHex=function(z,W,j){this.length=Math.ceil((z.length-W)/6),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var ie=0,oe=0,he;if(j==="be")for(ee=z.length-1;ee>=W;ee-=2)he=h(z,W,ee)<<ie,this.words[oe]|=he&67108863,ie>=18?(ie-=18,oe+=1,this.words[oe]|=he>>>26):ie+=8;else{var ne=z.length-W;for(ee=ne%2===0?W+1:W;ee<z.length;ee+=2)he=h(z,W,ee)<<ie,this.words[oe]|=he&67108863,ie>=18?(ie-=18,oe+=1,this.words[oe]|=he>>>26):ie+=8}this.strip()};function T(U,z,W,j){for(var ee=0,ie=Math.min(U.length,W),oe=z;oe<ie;oe++){var he=U.charCodeAt(oe)-48;ee*=j,he>=49?ee+=he-49+10:he>=17?ee+=he-17+10:ee+=he}return ee}u.prototype._parseBase=function(z,W,j){this.words=[0],this.length=1;for(var ee=0,ie=1;ie<=67108863;ie*=W)ee++;ee--,ie=ie/W|0;for(var oe=z.length-j,he=oe%ee,ne=Math.min(oe,oe-he)+j,q=0,le=j;le<ne;le+=ee)q=T(z,le,le+ee,W),this.imuln(ie),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(he!==0){var Q=1;for(q=T(z,le,z.length,W),le=0;le<he;le++)Q*=W;this.imuln(Q),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this.strip()},u.prototype.copy=function(z){z.words=new Array(this.length);for(var W=0;W<this.length;W++)z.words[W]=this.words[W];z.length=this.length,z.negative=this.negative,z.red=this.red},u.prototype.clone=function(){var z=new u(null);return this.copy(z),z},u.prototype._expand=function(z){for(;this.length<z;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],i=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(z,W){z=z||10,W=W|0||1;var j;if(z===16||z==="hex"){j="";for(var ee=0,ie=0,oe=0;oe<this.length;oe++){var he=this.words[oe],ne=((he<<ee|ie)&16777215).toString(16);ie=he>>>24-ee&16777215,ie!==0||oe!==this.length-1?j=c[6-ne.length]+ne+j:j=ne+j,ee+=2,ee>=26&&(ee-=26,oe--)}for(ie!==0&&(j=ie.toString(16)+j);j.length%W!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(z===(z|0)&&z>=2&&z<=36){var q=i[z],le=d[z];j="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var te=Q.modn(le).toString(z);Q=Q.idivn(le),Q.isZero()?j=te+j:j=c[q-te.length]+te+j}for(this.isZero()&&(j="0"+j);j.length%W!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}n(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var z=this.words[0];return this.length===2?z+=this.words[1]*67108864:this.length===3&&this.words[2]===1?z+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-z:z},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(z,W){return n(typeof l<"u"),this.toArrayLike(l,z,W)},u.prototype.toArray=function(z,W){return this.toArrayLike(Array,z,W)},u.prototype.toArrayLike=function(z,W,j){var ee=this.byteLength(),ie=j||Math.max(1,ee);n(ee<=ie,"byte array longer than desired length"),n(ie>0,"Requested array length <= 0"),this.strip();var oe=W==="le",he=new z(ie),ne,q,le=this.clone();if(oe){for(q=0;!le.isZero();q++)ne=le.andln(255),le.iushrn(8),he[q]=ne;for(;q<ie;q++)he[q]=0}else{for(q=0;q<ie-ee;q++)he[q]=0;for(q=0;!le.isZero();q++)ne=le.andln(255),le.iushrn(8),he[ie-q-1]=ne}return he},Math.clz32?u.prototype._countBits=function(z){return 32-Math.clz32(z)}:u.prototype._countBits=function(z){var W=z,j=0;return W>=4096&&(j+=13,W>>>=13),W>=64&&(j+=7,W>>>=7),W>=8&&(j+=4,W>>>=4),W>=2&&(j+=2,W>>>=2),j+W},u.prototype._zeroBits=function(z){if(z===0)return 26;var W=z,j=0;return W&8191||(j+=13,W>>>=13),W&127||(j+=7,W>>>=7),W&15||(j+=4,W>>>=4),W&3||(j+=2,W>>>=2),W&1||j++,j},u.prototype.bitLength=function(){var z=this.words[this.length-1],W=this._countBits(z);return(this.length-1)*26+W};function x(U){for(var z=new Array(U.bitLength()),W=0;W<z.length;W++){var j=W/26|0,ee=W%26;z[W]=(U.words[j]&1<<ee)>>>ee}return z}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z=0,W=0;W<this.length;W++){var j=this._zeroBits(this.words[W]);if(z+=j,j!==26)break}return z},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(z){return this.negative!==0?this.abs().inotn(z).iaddn(1):this.clone()},u.prototype.fromTwos=function(z){return this.testn(z-1)?this.notn(z).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(z){for(;this.length<z.length;)this.words[this.length++]=0;for(var W=0;W<z.length;W++)this.words[W]=this.words[W]|z.words[W];return this.strip()},u.prototype.ior=function(z){return n((this.negative|z.negative)===0),this.iuor(z)},u.prototype.or=function(z){return this.length>z.length?this.clone().ior(z):z.clone().ior(this)},u.prototype.uor=function(z){return this.length>z.length?this.clone().iuor(z):z.clone().iuor(this)},u.prototype.iuand=function(z){var W;this.length>z.length?W=z:W=this;for(var j=0;j<W.length;j++)this.words[j]=this.words[j]&z.words[j];return this.length=W.length,this.strip()},u.prototype.iand=function(z){return n((this.negative|z.negative)===0),this.iuand(z)},u.prototype.and=function(z){return this.length>z.length?this.clone().iand(z):z.clone().iand(this)},u.prototype.uand=function(z){return this.length>z.length?this.clone().iuand(z):z.clone().iuand(this)},u.prototype.iuxor=function(z){var W,j;this.length>z.length?(W=this,j=z):(W=z,j=this);for(var ee=0;ee<j.length;ee++)this.words[ee]=W.words[ee]^j.words[ee];if(this!==W)for(;ee<W.length;ee++)this.words[ee]=W.words[ee];return this.length=W.length,this.strip()},u.prototype.ixor=function(z){return n((this.negative|z.negative)===0),this.iuxor(z)},u.prototype.xor=function(z){return this.length>z.length?this.clone().ixor(z):z.clone().ixor(this)},u.prototype.uxor=function(z){return this.length>z.length?this.clone().iuxor(z):z.clone().iuxor(this)},u.prototype.inotn=function(z){n(typeof z=="number"&&z>=0);var W=Math.ceil(z/26)|0,j=z%26;this._expand(W),j>0&&W--;for(var ee=0;ee<W;ee++)this.words[ee]=~this.words[ee]&67108863;return j>0&&(this.words[ee]=~this.words[ee]&67108863>>26-j),this.strip()},u.prototype.notn=function(z){return this.clone().inotn(z)},u.prototype.setn=function(z,W){n(typeof z=="number"&&z>=0);var j=z/26|0,ee=z%26;return this._expand(j+1),W?this.words[j]=this.words[j]|1<<ee:this.words[j]=this.words[j]&~(1<<ee),this.strip()},u.prototype.iadd=function(z){var W;if(this.negative!==0&&z.negative===0)return this.negative=0,W=this.isub(z),this.negative^=1,this._normSign();if(this.negative===0&&z.negative!==0)return z.negative=0,W=this.isub(z),z.negative=1,W._normSign();var j,ee;this.length>z.length?(j=this,ee=z):(j=z,ee=this);for(var ie=0,oe=0;oe<ee.length;oe++)W=(j.words[oe]|0)+(ee.words[oe]|0)+ie,this.words[oe]=W&67108863,ie=W>>>26;for(;ie!==0&&oe<j.length;oe++)W=(j.words[oe]|0)+ie,this.words[oe]=W&67108863,ie=W>>>26;if(this.length=j.length,ie!==0)this.words[this.length]=ie,this.length++;else if(j!==this)for(;oe<j.length;oe++)this.words[oe]=j.words[oe];return this},u.prototype.add=function(z){var W;return z.negative!==0&&this.negative===0?(z.negative=0,W=this.sub(z),z.negative^=1,W):z.negative===0&&this.negative!==0?(this.negative=0,W=z.sub(this),this.negative=1,W):this.length>z.length?this.clone().iadd(z):z.clone().iadd(this)},u.prototype.isub=function(z){if(z.negative!==0){z.negative=0;var W=this.iadd(z);return z.negative=1,W._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(z),this.negative=1,this._normSign();var j=this.cmp(z);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ee,ie;j>0?(ee=this,ie=z):(ee=z,ie=this);for(var oe=0,he=0;he<ie.length;he++)W=(ee.words[he]|0)-(ie.words[he]|0)+oe,oe=W>>26,this.words[he]=W&67108863;for(;oe!==0&&he<ee.length;he++)W=(ee.words[he]|0)+oe,oe=W>>26,this.words[he]=W&67108863;if(oe===0&&he<ee.length&&ee!==this)for(;he<ee.length;he++)this.words[he]=ee.words[he];return this.length=Math.max(this.length,he),ee!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(z){return this.clone().isub(z)};function w(U,z,W){W.negative=z.negative^U.negative;var j=U.length+z.length|0;W.length=j,j=j-1|0;var ee=U.words[0]|0,ie=z.words[0]|0,oe=ee*ie,he=oe&67108863,ne=oe/67108864|0;W.words[0]=he;for(var q=1;q<j;q++){for(var le=ne>>>26,Q=ne&67108863,te=Math.min(q,z.length-1),ue=Math.max(0,q-U.length+1);ue<=te;ue++){var J=q-ue|0;ee=U.words[J]|0,ie=z.words[ue]|0,oe=ee*ie+Q,le+=oe/67108864|0,Q=oe&67108863}W.words[q]=Q|0,ne=le|0}return ne!==0?W.words[q]=ne|0:W.length--,W.strip()}var _=function(z,W,j){var ee=z.words,ie=W.words,oe=j.words,he=0,ne,q,le,Q=ee[0]|0,te=Q&8191,ue=Q>>>13,J=ee[1]|0,K=J&8191,ce=J>>>13,ae=ee[2]|0,de=ae&8191,be=ae>>>13,Se=ee[3]|0,Te=Se&8191,Ie=Se>>>13,ke=ee[4]|0,Be=ke&8191,Me=ke>>>13,Oe=ee[5]|0,_e=Oe&8191,Ne=Oe>>>13,Ce=ee[6]|0,Ye=Ce&8191,rt=Ce>>>13,ot=ee[7]|0,$e=ot&8191,qe=ot>>>13,ht=ee[8]|0,vt=ht&8191,pt=ht>>>13,wt=ee[9]|0,Mt=wt&8191,nt=wt>>>13,Fe=ie[0]|0,We=Fe&8191,Ze=Fe>>>13,Ge=ie[1]|0,Pe=Ge&8191,Re=Ge>>>13,je=ie[2]|0,De=je&8191,ge=je>>>13,we=ie[3]|0,Ue=we&8191,et=we>>>13,st=ie[4]|0,lt=st&8191,Wt=st>>>13,jt=ie[5]|0,Tt=jt&8191,Rt=jt>>>13,Zt=ie[6]|0,mr=Zt&8191,gt=Zt>>>13,Kt=ie[7]|0,$t=Kt&8191,br=Kt>>>13,lr=ie[8]|0,mt=lr&8191,ut=lr>>>13,bt=ie[9]|0,Et=bt&8191,Dt=bt>>>13;j.negative=z.negative^W.negative,j.length=19,ne=Math.imul(te,We),q=Math.imul(te,Ze),q=q+Math.imul(ue,We)|0,le=Math.imul(ue,Ze);var Yt=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,ne=Math.imul(K,We),q=Math.imul(K,Ze),q=q+Math.imul(ce,We)|0,le=Math.imul(ce,Ze),ne=ne+Math.imul(te,Pe)|0,q=q+Math.imul(te,Re)|0,q=q+Math.imul(ue,Pe)|0,le=le+Math.imul(ue,Re)|0;var Bt=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,ne=Math.imul(de,We),q=Math.imul(de,Ze),q=q+Math.imul(be,We)|0,le=Math.imul(be,Ze),ne=ne+Math.imul(K,Pe)|0,q=q+Math.imul(K,Re)|0,q=q+Math.imul(ce,Pe)|0,le=le+Math.imul(ce,Re)|0,ne=ne+Math.imul(te,De)|0,q=q+Math.imul(te,ge)|0,q=q+Math.imul(ue,De)|0,le=le+Math.imul(ue,ge)|0;var Ut=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,ne=Math.imul(Te,We),q=Math.imul(Te,Ze),q=q+Math.imul(Ie,We)|0,le=Math.imul(Ie,Ze),ne=ne+Math.imul(de,Pe)|0,q=q+Math.imul(de,Re)|0,q=q+Math.imul(be,Pe)|0,le=le+Math.imul(be,Re)|0,ne=ne+Math.imul(K,De)|0,q=q+Math.imul(K,ge)|0,q=q+Math.imul(ce,De)|0,le=le+Math.imul(ce,ge)|0,ne=ne+Math.imul(te,Ue)|0,q=q+Math.imul(te,et)|0,q=q+Math.imul(ue,Ue)|0,le=le+Math.imul(ue,et)|0;var Jt=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,ne=Math.imul(Be,We),q=Math.imul(Be,Ze),q=q+Math.imul(Me,We)|0,le=Math.imul(Me,Ze),ne=ne+Math.imul(Te,Pe)|0,q=q+Math.imul(Te,Re)|0,q=q+Math.imul(Ie,Pe)|0,le=le+Math.imul(Ie,Re)|0,ne=ne+Math.imul(de,De)|0,q=q+Math.imul(de,ge)|0,q=q+Math.imul(be,De)|0,le=le+Math.imul(be,ge)|0,ne=ne+Math.imul(K,Ue)|0,q=q+Math.imul(K,et)|0,q=q+Math.imul(ce,Ue)|0,le=le+Math.imul(ce,et)|0,ne=ne+Math.imul(te,lt)|0,q=q+Math.imul(te,Wt)|0,q=q+Math.imul(ue,lt)|0,le=le+Math.imul(ue,Wt)|0;var hr=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(hr>>>26)|0,hr&=67108863,ne=Math.imul(_e,We),q=Math.imul(_e,Ze),q=q+Math.imul(Ne,We)|0,le=Math.imul(Ne,Ze),ne=ne+Math.imul(Be,Pe)|0,q=q+Math.imul(Be,Re)|0,q=q+Math.imul(Me,Pe)|0,le=le+Math.imul(Me,Re)|0,ne=ne+Math.imul(Te,De)|0,q=q+Math.imul(Te,ge)|0,q=q+Math.imul(Ie,De)|0,le=le+Math.imul(Ie,ge)|0,ne=ne+Math.imul(de,Ue)|0,q=q+Math.imul(de,et)|0,q=q+Math.imul(be,Ue)|0,le=le+Math.imul(be,et)|0,ne=ne+Math.imul(K,lt)|0,q=q+Math.imul(K,Wt)|0,q=q+Math.imul(ce,lt)|0,le=le+Math.imul(ce,Wt)|0,ne=ne+Math.imul(te,Tt)|0,q=q+Math.imul(te,Rt)|0,q=q+Math.imul(ue,Tt)|0,le=le+Math.imul(ue,Rt)|0;var vr=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(vr>>>26)|0,vr&=67108863,ne=Math.imul(Ye,We),q=Math.imul(Ye,Ze),q=q+Math.imul(rt,We)|0,le=Math.imul(rt,Ze),ne=ne+Math.imul(_e,Pe)|0,q=q+Math.imul(_e,Re)|0,q=q+Math.imul(Ne,Pe)|0,le=le+Math.imul(Ne,Re)|0,ne=ne+Math.imul(Be,De)|0,q=q+Math.imul(Be,ge)|0,q=q+Math.imul(Me,De)|0,le=le+Math.imul(Me,ge)|0,ne=ne+Math.imul(Te,Ue)|0,q=q+Math.imul(Te,et)|0,q=q+Math.imul(Ie,Ue)|0,le=le+Math.imul(Ie,et)|0,ne=ne+Math.imul(de,lt)|0,q=q+Math.imul(de,Wt)|0,q=q+Math.imul(be,lt)|0,le=le+Math.imul(be,Wt)|0,ne=ne+Math.imul(K,Tt)|0,q=q+Math.imul(K,Rt)|0,q=q+Math.imul(ce,Tt)|0,le=le+Math.imul(ce,Rt)|0,ne=ne+Math.imul(te,mr)|0,q=q+Math.imul(te,gt)|0,q=q+Math.imul(ue,mr)|0,le=le+Math.imul(ue,gt)|0;var gr=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(gr>>>26)|0,gr&=67108863,ne=Math.imul($e,We),q=Math.imul($e,Ze),q=q+Math.imul(qe,We)|0,le=Math.imul(qe,Ze),ne=ne+Math.imul(Ye,Pe)|0,q=q+Math.imul(Ye,Re)|0,q=q+Math.imul(rt,Pe)|0,le=le+Math.imul(rt,Re)|0,ne=ne+Math.imul(_e,De)|0,q=q+Math.imul(_e,ge)|0,q=q+Math.imul(Ne,De)|0,le=le+Math.imul(Ne,ge)|0,ne=ne+Math.imul(Be,Ue)|0,q=q+Math.imul(Be,et)|0,q=q+Math.imul(Me,Ue)|0,le=le+Math.imul(Me,et)|0,ne=ne+Math.imul(Te,lt)|0,q=q+Math.imul(Te,Wt)|0,q=q+Math.imul(Ie,lt)|0,le=le+Math.imul(Ie,Wt)|0,ne=ne+Math.imul(de,Tt)|0,q=q+Math.imul(de,Rt)|0,q=q+Math.imul(be,Tt)|0,le=le+Math.imul(be,Rt)|0,ne=ne+Math.imul(K,mr)|0,q=q+Math.imul(K,gt)|0,q=q+Math.imul(ce,mr)|0,le=le+Math.imul(ce,gt)|0,ne=ne+Math.imul(te,$t)|0,q=q+Math.imul(te,br)|0,q=q+Math.imul(ue,$t)|0,le=le+Math.imul(ue,br)|0;var Xe=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,ne=Math.imul(vt,We),q=Math.imul(vt,Ze),q=q+Math.imul(pt,We)|0,le=Math.imul(pt,Ze),ne=ne+Math.imul($e,Pe)|0,q=q+Math.imul($e,Re)|0,q=q+Math.imul(qe,Pe)|0,le=le+Math.imul(qe,Re)|0,ne=ne+Math.imul(Ye,De)|0,q=q+Math.imul(Ye,ge)|0,q=q+Math.imul(rt,De)|0,le=le+Math.imul(rt,ge)|0,ne=ne+Math.imul(_e,Ue)|0,q=q+Math.imul(_e,et)|0,q=q+Math.imul(Ne,Ue)|0,le=le+Math.imul(Ne,et)|0,ne=ne+Math.imul(Be,lt)|0,q=q+Math.imul(Be,Wt)|0,q=q+Math.imul(Me,lt)|0,le=le+Math.imul(Me,Wt)|0,ne=ne+Math.imul(Te,Tt)|0,q=q+Math.imul(Te,Rt)|0,q=q+Math.imul(Ie,Tt)|0,le=le+Math.imul(Ie,Rt)|0,ne=ne+Math.imul(de,mr)|0,q=q+Math.imul(de,gt)|0,q=q+Math.imul(be,mr)|0,le=le+Math.imul(be,gt)|0,ne=ne+Math.imul(K,$t)|0,q=q+Math.imul(K,br)|0,q=q+Math.imul(ce,$t)|0,le=le+Math.imul(ce,br)|0,ne=ne+Math.imul(te,mt)|0,q=q+Math.imul(te,ut)|0,q=q+Math.imul(ue,mt)|0,le=le+Math.imul(ue,ut)|0;var He=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(He>>>26)|0,He&=67108863,ne=Math.imul(Mt,We),q=Math.imul(Mt,Ze),q=q+Math.imul(nt,We)|0,le=Math.imul(nt,Ze),ne=ne+Math.imul(vt,Pe)|0,q=q+Math.imul(vt,Re)|0,q=q+Math.imul(pt,Pe)|0,le=le+Math.imul(pt,Re)|0,ne=ne+Math.imul($e,De)|0,q=q+Math.imul($e,ge)|0,q=q+Math.imul(qe,De)|0,le=le+Math.imul(qe,ge)|0,ne=ne+Math.imul(Ye,Ue)|0,q=q+Math.imul(Ye,et)|0,q=q+Math.imul(rt,Ue)|0,le=le+Math.imul(rt,et)|0,ne=ne+Math.imul(_e,lt)|0,q=q+Math.imul(_e,Wt)|0,q=q+Math.imul(Ne,lt)|0,le=le+Math.imul(Ne,Wt)|0,ne=ne+Math.imul(Be,Tt)|0,q=q+Math.imul(Be,Rt)|0,q=q+Math.imul(Me,Tt)|0,le=le+Math.imul(Me,Rt)|0,ne=ne+Math.imul(Te,mr)|0,q=q+Math.imul(Te,gt)|0,q=q+Math.imul(Ie,mr)|0,le=le+Math.imul(Ie,gt)|0,ne=ne+Math.imul(de,$t)|0,q=q+Math.imul(de,br)|0,q=q+Math.imul(be,$t)|0,le=le+Math.imul(be,br)|0,ne=ne+Math.imul(K,mt)|0,q=q+Math.imul(K,ut)|0,q=q+Math.imul(ce,mt)|0,le=le+Math.imul(ce,ut)|0,ne=ne+Math.imul(te,Et)|0,q=q+Math.imul(te,Dt)|0,q=q+Math.imul(ue,Et)|0,le=le+Math.imul(ue,Dt)|0;var Nt=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,ne=Math.imul(Mt,Pe),q=Math.imul(Mt,Re),q=q+Math.imul(nt,Pe)|0,le=Math.imul(nt,Re),ne=ne+Math.imul(vt,De)|0,q=q+Math.imul(vt,ge)|0,q=q+Math.imul(pt,De)|0,le=le+Math.imul(pt,ge)|0,ne=ne+Math.imul($e,Ue)|0,q=q+Math.imul($e,et)|0,q=q+Math.imul(qe,Ue)|0,le=le+Math.imul(qe,et)|0,ne=ne+Math.imul(Ye,lt)|0,q=q+Math.imul(Ye,Wt)|0,q=q+Math.imul(rt,lt)|0,le=le+Math.imul(rt,Wt)|0,ne=ne+Math.imul(_e,Tt)|0,q=q+Math.imul(_e,Rt)|0,q=q+Math.imul(Ne,Tt)|0,le=le+Math.imul(Ne,Rt)|0,ne=ne+Math.imul(Be,mr)|0,q=q+Math.imul(Be,gt)|0,q=q+Math.imul(Me,mr)|0,le=le+Math.imul(Me,gt)|0,ne=ne+Math.imul(Te,$t)|0,q=q+Math.imul(Te,br)|0,q=q+Math.imul(Ie,$t)|0,le=le+Math.imul(Ie,br)|0,ne=ne+Math.imul(de,mt)|0,q=q+Math.imul(de,ut)|0,q=q+Math.imul(be,mt)|0,le=le+Math.imul(be,ut)|0,ne=ne+Math.imul(K,Et)|0,q=q+Math.imul(K,Dt)|0,q=q+Math.imul(ce,Et)|0,le=le+Math.imul(ce,Dt)|0;var Pt=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,ne=Math.imul(Mt,De),q=Math.imul(Mt,ge),q=q+Math.imul(nt,De)|0,le=Math.imul(nt,ge),ne=ne+Math.imul(vt,Ue)|0,q=q+Math.imul(vt,et)|0,q=q+Math.imul(pt,Ue)|0,le=le+Math.imul(pt,et)|0,ne=ne+Math.imul($e,lt)|0,q=q+Math.imul($e,Wt)|0,q=q+Math.imul(qe,lt)|0,le=le+Math.imul(qe,Wt)|0,ne=ne+Math.imul(Ye,Tt)|0,q=q+Math.imul(Ye,Rt)|0,q=q+Math.imul(rt,Tt)|0,le=le+Math.imul(rt,Rt)|0,ne=ne+Math.imul(_e,mr)|0,q=q+Math.imul(_e,gt)|0,q=q+Math.imul(Ne,mr)|0,le=le+Math.imul(Ne,gt)|0,ne=ne+Math.imul(Be,$t)|0,q=q+Math.imul(Be,br)|0,q=q+Math.imul(Me,$t)|0,le=le+Math.imul(Me,br)|0,ne=ne+Math.imul(Te,mt)|0,q=q+Math.imul(Te,ut)|0,q=q+Math.imul(Ie,mt)|0,le=le+Math.imul(Ie,ut)|0,ne=ne+Math.imul(de,Et)|0,q=q+Math.imul(de,Dt)|0,q=q+Math.imul(be,Et)|0,le=le+Math.imul(be,Dt)|0;var Qt=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,ne=Math.imul(Mt,Ue),q=Math.imul(Mt,et),q=q+Math.imul(nt,Ue)|0,le=Math.imul(nt,et),ne=ne+Math.imul(vt,lt)|0,q=q+Math.imul(vt,Wt)|0,q=q+Math.imul(pt,lt)|0,le=le+Math.imul(pt,Wt)|0,ne=ne+Math.imul($e,Tt)|0,q=q+Math.imul($e,Rt)|0,q=q+Math.imul(qe,Tt)|0,le=le+Math.imul(qe,Rt)|0,ne=ne+Math.imul(Ye,mr)|0,q=q+Math.imul(Ye,gt)|0,q=q+Math.imul(rt,mr)|0,le=le+Math.imul(rt,gt)|0,ne=ne+Math.imul(_e,$t)|0,q=q+Math.imul(_e,br)|0,q=q+Math.imul(Ne,$t)|0,le=le+Math.imul(Ne,br)|0,ne=ne+Math.imul(Be,mt)|0,q=q+Math.imul(Be,ut)|0,q=q+Math.imul(Me,mt)|0,le=le+Math.imul(Me,ut)|0,ne=ne+Math.imul(Te,Et)|0,q=q+Math.imul(Te,Dt)|0,q=q+Math.imul(Ie,Et)|0,le=le+Math.imul(Ie,Dt)|0;var ur=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(ur>>>26)|0,ur&=67108863,ne=Math.imul(Mt,lt),q=Math.imul(Mt,Wt),q=q+Math.imul(nt,lt)|0,le=Math.imul(nt,Wt),ne=ne+Math.imul(vt,Tt)|0,q=q+Math.imul(vt,Rt)|0,q=q+Math.imul(pt,Tt)|0,le=le+Math.imul(pt,Rt)|0,ne=ne+Math.imul($e,mr)|0,q=q+Math.imul($e,gt)|0,q=q+Math.imul(qe,mr)|0,le=le+Math.imul(qe,gt)|0,ne=ne+Math.imul(Ye,$t)|0,q=q+Math.imul(Ye,br)|0,q=q+Math.imul(rt,$t)|0,le=le+Math.imul(rt,br)|0,ne=ne+Math.imul(_e,mt)|0,q=q+Math.imul(_e,ut)|0,q=q+Math.imul(Ne,mt)|0,le=le+Math.imul(Ne,ut)|0,ne=ne+Math.imul(Be,Et)|0,q=q+Math.imul(Be,Dt)|0,q=q+Math.imul(Me,Et)|0,le=le+Math.imul(Me,Dt)|0;var cr=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(cr>>>26)|0,cr&=67108863,ne=Math.imul(Mt,Tt),q=Math.imul(Mt,Rt),q=q+Math.imul(nt,Tt)|0,le=Math.imul(nt,Rt),ne=ne+Math.imul(vt,mr)|0,q=q+Math.imul(vt,gt)|0,q=q+Math.imul(pt,mr)|0,le=le+Math.imul(pt,gt)|0,ne=ne+Math.imul($e,$t)|0,q=q+Math.imul($e,br)|0,q=q+Math.imul(qe,$t)|0,le=le+Math.imul(qe,br)|0,ne=ne+Math.imul(Ye,mt)|0,q=q+Math.imul(Ye,ut)|0,q=q+Math.imul(rt,mt)|0,le=le+Math.imul(rt,ut)|0,ne=ne+Math.imul(_e,Et)|0,q=q+Math.imul(_e,Dt)|0,q=q+Math.imul(Ne,Et)|0,le=le+Math.imul(Ne,Dt)|0;var tr=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(tr>>>26)|0,tr&=67108863,ne=Math.imul(Mt,mr),q=Math.imul(Mt,gt),q=q+Math.imul(nt,mr)|0,le=Math.imul(nt,gt),ne=ne+Math.imul(vt,$t)|0,q=q+Math.imul(vt,br)|0,q=q+Math.imul(pt,$t)|0,le=le+Math.imul(pt,br)|0,ne=ne+Math.imul($e,mt)|0,q=q+Math.imul($e,ut)|0,q=q+Math.imul(qe,mt)|0,le=le+Math.imul(qe,ut)|0,ne=ne+Math.imul(Ye,Et)|0,q=q+Math.imul(Ye,Dt)|0,q=q+Math.imul(rt,Et)|0,le=le+Math.imul(rt,Dt)|0;var zt=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(zt>>>26)|0,zt&=67108863,ne=Math.imul(Mt,$t),q=Math.imul(Mt,br),q=q+Math.imul(nt,$t)|0,le=Math.imul(nt,br),ne=ne+Math.imul(vt,mt)|0,q=q+Math.imul(vt,ut)|0,q=q+Math.imul(pt,mt)|0,le=le+Math.imul(pt,ut)|0,ne=ne+Math.imul($e,Et)|0,q=q+Math.imul($e,Dt)|0,q=q+Math.imul(qe,Et)|0,le=le+Math.imul(qe,Dt)|0;var or=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(or>>>26)|0,or&=67108863,ne=Math.imul(Mt,mt),q=Math.imul(Mt,ut),q=q+Math.imul(nt,mt)|0,le=Math.imul(nt,ut),ne=ne+Math.imul(vt,Et)|0,q=q+Math.imul(vt,Dt)|0,q=q+Math.imul(pt,Et)|0,le=le+Math.imul(pt,Dt)|0;var dr=(he+ne|0)+((q&8191)<<13)|0;he=(le+(q>>>13)|0)+(dr>>>26)|0,dr&=67108863,ne=Math.imul(Mt,Et),q=Math.imul(Mt,Dt),q=q+Math.imul(nt,Et)|0,le=Math.imul(nt,Dt);var wr=(he+ne|0)+((q&8191)<<13)|0;return he=(le+(q>>>13)|0)+(wr>>>26)|0,wr&=67108863,oe[0]=Yt,oe[1]=Bt,oe[2]=Ut,oe[3]=Jt,oe[4]=hr,oe[5]=vr,oe[6]=gr,oe[7]=Xe,oe[8]=He,oe[9]=Nt,oe[10]=Pt,oe[11]=Qt,oe[12]=ur,oe[13]=cr,oe[14]=tr,oe[15]=zt,oe[16]=or,oe[17]=dr,oe[18]=wr,he!==0&&(oe[19]=he,j.length++),j};Math.imul||(_=w);function m(U,z,W){W.negative=z.negative^U.negative,W.length=U.length+z.length;for(var j=0,ee=0,ie=0;ie<W.length-1;ie++){var oe=ee;ee=0;for(var he=j&67108863,ne=Math.min(ie,z.length-1),q=Math.max(0,ie-U.length+1);q<=ne;q++){var le=ie-q,Q=U.words[le]|0,te=z.words[q]|0,ue=Q*te,J=ue&67108863;oe=oe+(ue/67108864|0)|0,J=J+he|0,he=J&67108863,oe=oe+(J>>>26)|0,ee+=oe>>>26,oe&=67108863}W.words[ie]=he,j=oe,oe=ee}return j!==0?W.words[ie]=j:W.length--,W.strip()}function E(U,z,W){var j=new A;return j.mulp(U,z,W)}u.prototype.mulTo=function(z,W){var j,ee=this.length+z.length;return this.length===10&&z.length===10?j=_(this,z,W):ee<63?j=w(this,z,W):ee<1024?j=m(this,z,W):j=E(this,z,W),j};function A(U,z){this.x=U,this.y=z}A.prototype.makeRBT=function(z){for(var W=new Array(z),j=u.prototype._countBits(z)-1,ee=0;ee<z;ee++)W[ee]=this.revBin(ee,j,z);return W},A.prototype.revBin=function(z,W,j){if(z===0||z===j-1)return z;for(var ee=0,ie=0;ie<W;ie++)ee|=(z&1)<<W-ie-1,z>>=1;return ee},A.prototype.permute=function(z,W,j,ee,ie,oe){for(var he=0;he<oe;he++)ee[he]=W[z[he]],ie[he]=j[z[he]]},A.prototype.transform=function(z,W,j,ee,ie,oe){this.permute(oe,z,W,j,ee,ie);for(var he=1;he<ie;he<<=1)for(var ne=he<<1,q=Math.cos(2*Math.PI/ne),le=Math.sin(2*Math.PI/ne),Q=0;Q<ie;Q+=ne)for(var te=q,ue=le,J=0;J<he;J++){var K=j[Q+J],ce=ee[Q+J],ae=j[Q+J+he],de=ee[Q+J+he],be=te*ae-ue*de;de=te*de+ue*ae,ae=be,j[Q+J]=K+ae,ee[Q+J]=ce+de,j[Q+J+he]=K-ae,ee[Q+J+he]=ce-de,J!==ne&&(be=q*te-le*ue,ue=q*ue+le*te,te=be)}},A.prototype.guessLen13b=function(z,W){var j=Math.max(W,z)|1,ee=j&1,ie=0;for(j=j/2|0;j;j=j>>>1)ie++;return 1<<ie+1+ee},A.prototype.conjugate=function(z,W,j){if(!(j<=1))for(var ee=0;ee<j/2;ee++){var ie=z[ee];z[ee]=z[j-ee-1],z[j-ee-1]=ie,ie=W[ee],W[ee]=-W[j-ee-1],W[j-ee-1]=-ie}},A.prototype.normalize13b=function(z,W){for(var j=0,ee=0;ee<W/2;ee++){var ie=Math.round(z[2*ee+1]/W)*8192+Math.round(z[2*ee]/W)+j;z[ee]=ie&67108863,ie<67108864?j=0:j=ie/67108864|0}return z},A.prototype.convert13b=function(z,W,j,ee){for(var ie=0,oe=0;oe<W;oe++)ie=ie+(z[oe]|0),j[2*oe]=ie&8191,ie=ie>>>13,j[2*oe+1]=ie&8191,ie=ie>>>13;for(oe=2*W;oe<ee;++oe)j[oe]=0;n(ie===0),n((ie&-8192)===0)},A.prototype.stub=function(z){for(var W=new Array(z),j=0;j<z;j++)W[j]=0;return W},A.prototype.mulp=function(z,W,j){var ee=2*this.guessLen13b(z.length,W.length),ie=this.makeRBT(ee),oe=this.stub(ee),he=new Array(ee),ne=new Array(ee),q=new Array(ee),le=new Array(ee),Q=new Array(ee),te=new Array(ee),ue=j.words;ue.length=ee,this.convert13b(z.words,z.length,he,ee),this.convert13b(W.words,W.length,le,ee),this.transform(he,oe,ne,q,ee,ie),this.transform(le,oe,Q,te,ee,ie);for(var J=0;J<ee;J++){var K=ne[J]*Q[J]-q[J]*te[J];q[J]=ne[J]*te[J]+q[J]*Q[J],ne[J]=K}return this.conjugate(ne,q,ee),this.transform(ne,q,ue,oe,ee,ie),this.conjugate(ue,oe,ee),this.normalize13b(ue,ee),j.negative=z.negative^W.negative,j.length=z.length+W.length,j.strip()},u.prototype.mul=function(z){var W=new u(null);return W.words=new Array(this.length+z.length),this.mulTo(z,W)},u.prototype.mulf=function(z){var W=new u(null);return W.words=new Array(this.length+z.length),E(this,z,W)},u.prototype.imul=function(z){return this.clone().mulTo(z,this)},u.prototype.imuln=function(z){n(typeof z=="number"),n(z<67108864);for(var W=0,j=0;j<this.length;j++){var ee=(this.words[j]|0)*z,ie=(ee&67108863)+(W&67108863);W>>=26,W+=ee/67108864|0,W+=ie>>>26,this.words[j]=ie&67108863}return W!==0&&(this.words[j]=W,this.length++),this},u.prototype.muln=function(z){return this.clone().imuln(z)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(z){var W=x(z);if(W.length===0)return new u(1);for(var j=this,ee=0;ee<W.length&&W[ee]===0;ee++,j=j.sqr());if(++ee<W.length)for(var ie=j.sqr();ee<W.length;ee++,ie=ie.sqr())W[ee]!==0&&(j=j.mul(ie));return j},u.prototype.iushln=function(z){n(typeof z=="number"&&z>=0);var W=z%26,j=(z-W)/26,ee=67108863>>>26-W<<26-W,ie;if(W!==0){var oe=0;for(ie=0;ie<this.length;ie++){var he=this.words[ie]&ee,ne=(this.words[ie]|0)-he<<W;this.words[ie]=ne|oe,oe=he>>>26-W}oe&&(this.words[ie]=oe,this.length++)}if(j!==0){for(ie=this.length-1;ie>=0;ie--)this.words[ie+j]=this.words[ie];for(ie=0;ie<j;ie++)this.words[ie]=0;this.length+=j}return this.strip()},u.prototype.ishln=function(z){return n(this.negative===0),this.iushln(z)},u.prototype.iushrn=function(z,W,j){n(typeof z=="number"&&z>=0);var ee;W?ee=(W-W%26)/26:ee=0;var ie=z%26,oe=Math.min((z-ie)/26,this.length),he=67108863^67108863>>>ie<<ie,ne=j;if(ee-=oe,ee=Math.max(0,ee),ne){for(var q=0;q<oe;q++)ne.words[q]=this.words[q];ne.length=oe}if(oe!==0)if(this.length>oe)for(this.length-=oe,q=0;q<this.length;q++)this.words[q]=this.words[q+oe];else this.words[0]=0,this.length=1;var le=0;for(q=this.length-1;q>=0&&(le!==0||q>=ee);q--){var Q=this.words[q]|0;this.words[q]=le<<26-ie|Q>>>ie,le=Q&he}return ne&&le!==0&&(ne.words[ne.length++]=le),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(z,W,j){return n(this.negative===0),this.iushrn(z,W,j)},u.prototype.shln=function(z){return this.clone().ishln(z)},u.prototype.ushln=function(z){return this.clone().iushln(z)},u.prototype.shrn=function(z){return this.clone().ishrn(z)},u.prototype.ushrn=function(z){return this.clone().iushrn(z)},u.prototype.testn=function(z){n(typeof z=="number"&&z>=0);var W=z%26,j=(z-W)/26,ee=1<<W;if(this.length<=j)return!1;var ie=this.words[j];return!!(ie&ee)},u.prototype.imaskn=function(z){n(typeof z=="number"&&z>=0);var W=z%26,j=(z-W)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(W!==0&&j++,this.length=Math.min(j,this.length),W!==0){var ee=67108863^67108863>>>W<<W;this.words[this.length-1]&=ee}return this.strip()},u.prototype.maskn=function(z){return this.clone().imaskn(z)},u.prototype.iaddn=function(z){return n(typeof z=="number"),n(z<67108864),z<0?this.isubn(-z):this.negative!==0?this.length===1&&(this.words[0]|0)<z?(this.words[0]=z-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(z),this.negative=1,this):this._iaddn(z)},u.prototype._iaddn=function(z){this.words[0]+=z;for(var W=0;W<this.length&&this.words[W]>=67108864;W++)this.words[W]-=67108864,W===this.length-1?this.words[W+1]=1:this.words[W+1]++;return this.length=Math.max(this.length,W+1),this},u.prototype.isubn=function(z){if(n(typeof z=="number"),n(z<67108864),z<0)return this.iaddn(-z);if(this.negative!==0)return this.negative=0,this.iaddn(z),this.negative=1,this;if(this.words[0]-=z,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var W=0;W<this.length&&this.words[W]<0;W++)this.words[W]+=67108864,this.words[W+1]-=1;return this.strip()},u.prototype.addn=function(z){return this.clone().iaddn(z)},u.prototype.subn=function(z){return this.clone().isubn(z)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(z,W,j){var ee=z.length+j,ie;this._expand(ee);var oe,he=0;for(ie=0;ie<z.length;ie++){oe=(this.words[ie+j]|0)+he;var ne=(z.words[ie]|0)*W;oe-=ne&67108863,he=(oe>>26)-(ne/67108864|0),this.words[ie+j]=oe&67108863}for(;ie<this.length-j;ie++)oe=(this.words[ie+j]|0)+he,he=oe>>26,this.words[ie+j]=oe&67108863;if(he===0)return this.strip();for(n(he===-1),he=0,ie=0;ie<this.length;ie++)oe=-(this.words[ie]|0)+he,he=oe>>26,this.words[ie]=oe&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(z,W){var j=this.length-z.length,ee=this.clone(),ie=z,oe=ie.words[ie.length-1]|0,he=this._countBits(oe);j=26-he,j!==0&&(ie=ie.ushln(j),ee.iushln(j),oe=ie.words[ie.length-1]|0);var ne=ee.length-ie.length,q;if(W!=="mod"){q=new u(null),q.length=ne+1,q.words=new Array(q.length);for(var le=0;le<q.length;le++)q.words[le]=0}var Q=ee.clone()._ishlnsubmul(ie,1,ne);Q.negative===0&&(ee=Q,q&&(q.words[ne]=1));for(var te=ne-1;te>=0;te--){var ue=(ee.words[ie.length+te]|0)*67108864+(ee.words[ie.length+te-1]|0);for(ue=Math.min(ue/oe|0,67108863),ee._ishlnsubmul(ie,ue,te);ee.negative!==0;)ue--,ee.negative=0,ee._ishlnsubmul(ie,1,te),ee.isZero()||(ee.negative^=1);q&&(q.words[te]=ue)}return q&&q.strip(),ee.strip(),W!=="div"&&j!==0&&ee.iushrn(j),{div:q||null,mod:ee}},u.prototype.divmod=function(z,W,j){if(n(!z.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var ee,ie,oe;return this.negative!==0&&z.negative===0?(oe=this.neg().divmod(z,W),W!=="mod"&&(ee=oe.div.neg()),W!=="div"&&(ie=oe.mod.neg(),j&&ie.negative!==0&&ie.iadd(z)),{div:ee,mod:ie}):this.negative===0&&z.negative!==0?(oe=this.divmod(z.neg(),W),W!=="mod"&&(ee=oe.div.neg()),{div:ee,mod:oe.mod}):this.negative&z.negative?(oe=this.neg().divmod(z.neg(),W),W!=="div"&&(ie=oe.mod.neg(),j&&ie.negative!==0&&ie.isub(z)),{div:oe.div,mod:ie}):z.length>this.length||this.cmp(z)<0?{div:new u(0),mod:this}:z.length===1?W==="div"?{div:this.divn(z.words[0]),mod:null}:W==="mod"?{div:null,mod:new u(this.modn(z.words[0]))}:{div:this.divn(z.words[0]),mod:new u(this.modn(z.words[0]))}:this._wordDiv(z,W)},u.prototype.div=function(z){return this.divmod(z,"div",!1).div},u.prototype.mod=function(z){return this.divmod(z,"mod",!1).mod},u.prototype.umod=function(z){return this.divmod(z,"mod",!0).mod},u.prototype.divRound=function(z){var W=this.divmod(z);if(W.mod.isZero())return W.div;var j=W.div.negative!==0?W.mod.isub(z):W.mod,ee=z.ushrn(1),ie=z.andln(1),oe=j.cmp(ee);return oe<0||ie===1&&oe===0?W.div:W.div.negative!==0?W.div.isubn(1):W.div.iaddn(1)},u.prototype.modn=function(z){n(z<=67108863);for(var W=(1<<26)%z,j=0,ee=this.length-1;ee>=0;ee--)j=(W*j+(this.words[ee]|0))%z;return j},u.prototype.idivn=function(z){n(z<=67108863);for(var W=0,j=this.length-1;j>=0;j--){var ee=(this.words[j]|0)+W*67108864;this.words[j]=ee/z|0,W=ee%z}return this.strip()},u.prototype.divn=function(z){return this.clone().idivn(z)},u.prototype.egcd=function(z){n(z.negative===0),n(!z.isZero());var W=this,j=z.clone();W.negative!==0?W=W.umod(z):W=W.clone();for(var ee=new u(1),ie=new u(0),oe=new u(0),he=new u(1),ne=0;W.isEven()&&j.isEven();)W.iushrn(1),j.iushrn(1),++ne;for(var q=j.clone(),le=W.clone();!W.isZero();){for(var Q=0,te=1;!(W.words[0]&te)&&Q<26;++Q,te<<=1);if(Q>0)for(W.iushrn(Q);Q-- >0;)(ee.isOdd()||ie.isOdd())&&(ee.iadd(q),ie.isub(le)),ee.iushrn(1),ie.iushrn(1);for(var ue=0,J=1;!(j.words[0]&J)&&ue<26;++ue,J<<=1);if(ue>0)for(j.iushrn(ue);ue-- >0;)(oe.isOdd()||he.isOdd())&&(oe.iadd(q),he.isub(le)),oe.iushrn(1),he.iushrn(1);W.cmp(j)>=0?(W.isub(j),ee.isub(oe),ie.isub(he)):(j.isub(W),oe.isub(ee),he.isub(ie))}return{a:oe,b:he,gcd:j.iushln(ne)}},u.prototype._invmp=function(z){n(z.negative===0),n(!z.isZero());var W=this,j=z.clone();W.negative!==0?W=W.umod(z):W=W.clone();for(var ee=new u(1),ie=new u(0),oe=j.clone();W.cmpn(1)>0&&j.cmpn(1)>0;){for(var he=0,ne=1;!(W.words[0]&ne)&&he<26;++he,ne<<=1);if(he>0)for(W.iushrn(he);he-- >0;)ee.isOdd()&&ee.iadd(oe),ee.iushrn(1);for(var q=0,le=1;!(j.words[0]&le)&&q<26;++q,le<<=1);if(q>0)for(j.iushrn(q);q-- >0;)ie.isOdd()&&ie.iadd(oe),ie.iushrn(1);W.cmp(j)>=0?(W.isub(j),ee.isub(ie)):(j.isub(W),ie.isub(ee))}var Q;return W.cmpn(1)===0?Q=ee:Q=ie,Q.cmpn(0)<0&&Q.iadd(z),Q},u.prototype.gcd=function(z){if(this.isZero())return z.abs();if(z.isZero())return this.abs();var W=this.clone(),j=z.clone();W.negative=0,j.negative=0;for(var ee=0;W.isEven()&&j.isEven();ee++)W.iushrn(1),j.iushrn(1);do{for(;W.isEven();)W.iushrn(1);for(;j.isEven();)j.iushrn(1);var ie=W.cmp(j);if(ie<0){var oe=W;W=j,j=oe}else if(ie===0||j.cmpn(1)===0)break;W.isub(j)}while(!0);return j.iushln(ee)},u.prototype.invm=function(z){return this.egcd(z).a.umod(z)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(z){return this.words[0]&z},u.prototype.bincn=function(z){n(typeof z=="number");var W=z%26,j=(z-W)/26,ee=1<<W;if(this.length<=j)return this._expand(j+1),this.words[j]|=ee,this;for(var ie=ee,oe=j;ie!==0&&oe<this.length;oe++){var he=this.words[oe]|0;he+=ie,ie=he>>>26,he&=67108863,this.words[oe]=he}return ie!==0&&(this.words[oe]=ie,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(z){var W=z<0;if(this.negative!==0&&!W)return-1;if(this.negative===0&&W)return 1;this.strip();var j;if(this.length>1)j=1;else{W&&(z=-z),n(z<=67108863,"Number is too big");var ee=this.words[0]|0;j=ee===z?0:ee<z?-1:1}return this.negative!==0?-j|0:j},u.prototype.cmp=function(z){if(this.negative!==0&&z.negative===0)return-1;if(this.negative===0&&z.negative!==0)return 1;var W=this.ucmp(z);return this.negative!==0?-W|0:W},u.prototype.ucmp=function(z){if(this.length>z.length)return 1;if(this.length<z.length)return-1;for(var W=0,j=this.length-1;j>=0;j--){var ee=this.words[j]|0,ie=z.words[j]|0;if(ee!==ie){ee<ie?W=-1:ee>ie&&(W=1);break}}return W},u.prototype.gtn=function(z){return this.cmpn(z)===1},u.prototype.gt=function(z){return this.cmp(z)===1},u.prototype.gten=function(z){return this.cmpn(z)>=0},u.prototype.gte=function(z){return this.cmp(z)>=0},u.prototype.ltn=function(z){return this.cmpn(z)===-1},u.prototype.lt=function(z){return this.cmp(z)===-1},u.prototype.lten=function(z){return this.cmpn(z)<=0},u.prototype.lte=function(z){return this.cmp(z)<=0},u.prototype.eqn=function(z){return this.cmpn(z)===0},u.prototype.eq=function(z){return this.cmp(z)===0},u.red=function(z){return new F(z)},u.prototype.toRed=function(z){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),z.convertTo(this)._forceRed(z)},u.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(z){return this.red=z,this},u.prototype.forceRed=function(z){return n(!this.red,"Already a number in reduction context"),this._forceRed(z)},u.prototype.redAdd=function(z){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,z)},u.prototype.redIAdd=function(z){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,z)},u.prototype.redSub=function(z){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,z)},u.prototype.redISub=function(z){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,z)},u.prototype.redShl=function(z){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,z)},u.prototype.redMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.mul(this,z)},u.prototype.redIMul=function(z){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,z),this.red.imul(this,z)},u.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(z){return n(this.red&&!z.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,z)};var s={k256:null,p224:null,p192:null,p25519:null};function M(U,z){this.name=U,this.p=new u(z,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var z=new u(null);return z.words=new Array(Math.ceil(this.n/13)),z},M.prototype.ireduce=function(z){var W=z,j;do this.split(W,this.tmp),W=this.imulK(W),W=W.iadd(this.tmp),j=W.bitLength();while(j>this.n);var ee=j<this.n?-1:W.ucmp(this.p);return ee===0?(W.words[0]=0,W.length=1):ee>0?W.isub(this.p):W.strip!==void 0?W.strip():W._strip(),W},M.prototype.split=function(z,W){z.iushrn(this.n,0,W)},M.prototype.imulK=function(z){return z.imul(this.k)};function b(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}f(b,M),b.prototype.split=function(z,W){for(var j=4194303,ee=Math.min(z.length,9),ie=0;ie<ee;ie++)W.words[ie]=z.words[ie];if(W.length=ee,z.length<=9){z.words[0]=0,z.length=1;return}var oe=z.words[9];for(W.words[W.length++]=oe&j,ie=10;ie<z.length;ie++){var he=z.words[ie]|0;z.words[ie-10]=(he&j)<<4|oe>>>22,oe=he}oe>>>=22,z.words[ie-10]=oe,oe===0&&z.length>10?z.length-=10:z.length-=9},b.prototype.imulK=function(z){z.words[z.length]=0,z.words[z.length+1]=0,z.length+=2;for(var W=0,j=0;j<z.length;j++){var ee=z.words[j]|0;W+=ee*977,z.words[j]=W&67108863,W=ee*64+(W/67108864|0)}return z.words[z.length-1]===0&&(z.length--,z.words[z.length-1]===0&&z.length--),z};function N(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}f(N,M);function k(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}f(k,M);function H(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}f(H,M),H.prototype.imulK=function(z){for(var W=0,j=0;j<z.length;j++){var ee=(z.words[j]|0)*19+W,ie=ee&67108863;ee>>>=26,z.words[j]=ie,W=ee}return W!==0&&(z.words[z.length++]=W),z},u._prime=function(z){if(s[z])return s[z];var W;if(z==="k256")W=new b;else if(z==="p224")W=new N;else if(z==="p192")W=new k;else if(z==="p25519")W=new H;else throw new Error("Unknown prime "+z);return s[z]=W,W};function F(U){if(typeof U=="string"){var z=u._prime(U);this.m=z.p,this.prime=z}else n(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}F.prototype._verify1=function(z){n(z.negative===0,"red works only with positives"),n(z.red,"red works only with red numbers")},F.prototype._verify2=function(z,W){n((z.negative|W.negative)===0,"red works only with positives"),n(z.red&&z.red===W.red,"red works only with red numbers")},F.prototype.imod=function(z){return this.prime?this.prime.ireduce(z)._forceRed(this):z.umod(this.m)._forceRed(this)},F.prototype.neg=function(z){return z.isZero()?z.clone():this.m.sub(z)._forceRed(this)},F.prototype.add=function(z,W){this._verify2(z,W);var j=z.add(W);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},F.prototype.iadd=function(z,W){this._verify2(z,W);var j=z.iadd(W);return j.cmp(this.m)>=0&&j.isub(this.m),j},F.prototype.sub=function(z,W){this._verify2(z,W);var j=z.sub(W);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},F.prototype.isub=function(z,W){this._verify2(z,W);var j=z.isub(W);return j.cmpn(0)<0&&j.iadd(this.m),j},F.prototype.shl=function(z,W){return this._verify1(z),this.imod(z.ushln(W))},F.prototype.imul=function(z,W){return this._verify2(z,W),this.imod(z.imul(W))},F.prototype.mul=function(z,W){return this._verify2(z,W),this.imod(z.mul(W))},F.prototype.isqr=function(z){return this.imul(z,z.clone())},F.prototype.sqr=function(z){return this.mul(z,z)},F.prototype.sqrt=function(z){if(z.isZero())return z.clone();var W=this.m.andln(3);if(n(W%2===1),W===3){var j=this.m.add(new u(1)).iushrn(2);return this.pow(z,j)}for(var ee=this.m.subn(1),ie=0;!ee.isZero()&&ee.andln(1)===0;)ie++,ee.iushrn(1);n(!ee.isZero());var oe=new u(1).toRed(this),he=oe.redNeg(),ne=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new u(2*q*q).toRed(this);this.pow(q,ne).cmp(he)!==0;)q.redIAdd(he);for(var le=this.pow(q,ee),Q=this.pow(z,ee.addn(1).iushrn(1)),te=this.pow(z,ee),ue=ie;te.cmp(oe)!==0;){for(var J=te,K=0;J.cmp(oe)!==0;K++)J=J.redSqr();n(K<ue);var ce=this.pow(le,new u(1).iushln(ue-K-1));Q=Q.redMul(ce),le=ce.redSqr(),te=te.redMul(le),ue=K}return Q},F.prototype.invm=function(z){var W=z._invmp(this.m);return W.negative!==0?(W.negative=0,this.imod(W).redNeg()):this.imod(W)},F.prototype.pow=function(z,W){if(W.isZero())return new u(1).toRed(this);if(W.cmpn(1)===0)return z.clone();var j=4,ee=new Array(1<<j);ee[0]=new u(1).toRed(this),ee[1]=z;for(var ie=2;ie<ee.length;ie++)ee[ie]=this.mul(ee[ie-1],z);var oe=ee[0],he=0,ne=0,q=W.bitLength()%26;for(q===0&&(q=26),ie=W.length-1;ie>=0;ie--){for(var le=W.words[ie],Q=q-1;Q>=0;Q--){var te=le>>Q&1;if(oe!==ee[0]&&(oe=this.sqr(oe)),te===0&&he===0){ne=0;continue}he<<=1,he|=te,ne++,!(ne!==j&&(ie!==0||Q!==0))&&(oe=this.mul(oe,ee[he]),ne=0,he=0)}q=26}return oe},F.prototype.convertTo=function(z){var W=z.umod(this.m);return W===z?W.clone():W},F.prototype.convertFrom=function(z){var W=z.clone();return W.red=null,W},u.mont=function(z){return new B(z)};function B(U){F.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}f(B,F),B.prototype.convertTo=function(z){return this.imod(z.ushln(this.shift))},B.prototype.convertFrom=function(z){var W=this.imod(z.mul(this.rinv));return W.red=null,W},B.prototype.imul=function(z,W){if(z.isZero()||W.isZero())return z.words[0]=0,z.length=1,z;var j=z.imul(W),ee=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ie=j.isub(ee).iushrn(this.shift),oe=ie;return ie.cmp(this.m)>=0?oe=ie.isub(this.m):ie.cmpn(0)<0&&(oe=ie.iadd(this.m)),oe._forceRed(this)},B.prototype.mul=function(z,W){if(z.isZero()||W.isZero())return new u(0)._forceRed(this);var j=z.mul(W),ee=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ie=j.isub(ee).iushrn(this.shift),oe=ie;return ie.cmp(this.m)>=0?oe=ie.isub(this.m):ie.cmpn(0)<0&&(oe=ie.iadd(this.m)),oe._forceRed(this)},B.prototype.invm=function(z){var W=this.imod(z._invmp(this.m).mul(this.r2));return W._forceRed(this)}}(v,this)},6204:function(v){v.exports=g;function g(r){var t,a,n,f=r.length,u=0;for(t=0;t<f;++t)u+=r[t].length;var l=new Array(u),y=0;for(t=0;t<f;++t){var h=r[t],T=h.length;for(a=0;a<T;++a){var c=l[y++]=new Array(T-1),i=0;for(n=0;n<T;++n)n!==a&&(c[i++]=h[n]);if(a&1){var d=c[1];c[1]=c[0],c[0]=d}}}return l}},6867:function(v,g,r){v.exports=i;var t=r(1888),a=r(855),n=r(7150);function f(d,x){for(var w=0;w<d;++w)if(!(x[w]<=x[w+d]))return!0;return!1}function u(d,x,w,_){for(var m=0,E=0,A=0,s=d.length;A<s;++A){var M=d[A];if(!f(x,M)){for(var b=0;b<2*x;++b)w[m++]=M[b];_[E++]=A}}return E}function l(d,x,w,_){var m=d.length,E=x.length;if(!(m<=0||E<=0)){var A=d[0].length>>>1;if(!(A<=0)){var s,M=t.mallocDouble(2*A*m),b=t.mallocInt32(m);if(m=u(d,A,M,b),m>0){if(A===1&&_)a.init(m),s=a.sweepComplete(A,w,0,m,M,b,0,m,M,b);else{var N=t.mallocDouble(2*A*E),k=t.mallocInt32(E);E=u(x,A,N,k),E>0&&(a.init(m+E),A===1?s=a.sweepBipartite(A,w,0,m,M,b,0,E,N,k):s=n(A,w,_,m,M,b,E,N,k),t.free(N),t.free(k))}t.free(M),t.free(b)}return s}}}var y;function h(d,x){y.push([d,x])}function T(d){return y=[],l(d,d,h,!0),y}function c(d,x){return y=[],l(d,x,h,!1),y}function i(d,x,w){switch(arguments.length){case 1:return T(d);case 2:return typeof x=="function"?l(d,d,x,!0):c(d,x);case 3:return l(d,x,w,!1);default:throw new Error("box-intersect: Invalid arguments")}}},2455:function(v,g){function r(){function n(l,y,h,T,c,i,d,x,w,_,m){for(var E=2*l,A=T,s=E*T;A<c;++A,s+=E){var M=i[y+s],b=i[y+s+l],N=d[A];e:for(var k=x,H=E*x;k<w;++k,H+=E){var F=_[y+H],B=_[y+H+l],U=m[k];if(!(B<M||b<F)){for(var z=y+1;z<l;++z){var W=i[z+s],j=i[z+l+s],ee=_[z+H],ie=_[z+l+H];if(j<ee||ie<W)continue e}var oe=h(N,U);if(oe!==void 0)return oe}}}}function f(l,y,h,T,c,i,d,x,w,_,m){for(var E=2*l,A=x,s=E*x;A<w;++A,s+=E){var M=_[y+s],b=_[y+s+l],N=m[A];e:for(var k=T,H=E*T;k<c;++k,H+=E){var F=i[y+H],B=i[y+H+l],U=d[k];if(!(b<F||B<M)){for(var z=y+1;z<l;++z){var W=i[z+H],j=i[z+l+H],ee=_[z+s],ie=_[z+l+s];if(j<ee||ie<W)continue e}var oe=h(U,N);if(oe!==void 0)return oe}}}}function u(l,y,h,T,c,i,d,x,w,_,m){return c-T>w-x?n(l,y,h,T,c,i,d,x,w,_,m):f(l,y,h,T,c,i,d,x,w,_,m)}return u}function t(){function n(h,T,c,i,d,x,w,_,m,E,A){for(var s=2*h,M=i,b=s*i;M<d;++M,b+=s){var N=x[T+b],k=x[T+b+h],H=w[M];e:for(var F=_,B=s*_;F<m;++F,B+=s){var U=E[T+B],z=A[F];if(!(U<=N||k<U)){for(var W=T+1;W<h;++W){var j=x[W+b],ee=x[W+h+b],ie=E[W+B],oe=E[W+h+B];if(ee<ie||oe<j)continue e}var he=c(z,H);if(he!==void 0)return he}}}}function f(h,T,c,i,d,x,w,_,m,E,A){for(var s=2*h,M=i,b=s*i;M<d;++M,b+=s){var N=x[T+b],k=x[T+b+h],H=w[M];e:for(var F=_,B=s*_;F<m;++F,B+=s){var U=E[T+B],z=A[F];if(!(U<N||k<U)){for(var W=T+1;W<h;++W){var j=x[W+b],ee=x[W+h+b],ie=E[W+B],oe=E[W+h+B];if(ee<ie||oe<j)continue e}var he=c(H,z);if(he!==void 0)return he}}}}function u(h,T,c,i,d,x,w,_,m,E,A){for(var s=2*h,M=_,b=s*_;M<m;++M,b+=s){var N=E[T+b],k=A[M];e:for(var H=i,F=s*i;H<d;++H,F+=s){var B=x[T+F],U=x[T+F+h],z=w[H];if(!(N<=B||U<N)){for(var W=T+1;W<h;++W){var j=x[W+F],ee=x[W+h+F],ie=E[W+b],oe=E[W+h+b];if(ee<ie||oe<j)continue e}var he=c(k,z);if(he!==void 0)return he}}}}function l(h,T,c,i,d,x,w,_,m,E,A){for(var s=2*h,M=_,b=s*_;M<m;++M,b+=s){var N=E[T+b],k=A[M];e:for(var H=i,F=s*i;H<d;++H,F+=s){var B=x[T+F],U=x[T+F+h],z=w[H];if(!(N<B||U<N)){for(var W=T+1;W<h;++W){var j=x[W+F],ee=x[W+h+F],ie=E[W+b],oe=E[W+h+b];if(ee<ie||oe<j)continue e}var he=c(z,k);if(he!==void 0)return he}}}}function y(h,T,c,i,d,x,w,_,m,E,A,s){return x-d>E-m?i?n(h,T,c,d,x,w,_,m,E,A,s):f(h,T,c,d,x,w,_,m,E,A,s):i?u(h,T,c,d,x,w,_,m,E,A,s):l(h,T,c,d,x,w,_,m,E,A,s)}return y}function a(n){return n?r():t()}g.partial=a(!1),g.full=a(!0)},7150:function(v,g,r){v.exports=U;var t=r(1888),a=r(8828),n=r(2455),f=n.partial,u=n.full,l=r(855),y=r(3545),h=r(8105),T=128,c=1<<22,i=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),x=h("lo===p0"),w=h("lo<p0"),_=h("hi<=p0"),m=h("lo<=p0&&p0<=hi"),E=h("lo<p0&&p0<=hi"),A=6,s=2,M=1024,b=t.mallocInt32(M),N=t.mallocDouble(M);function k(z,W){var j=8*a.log2(W+1)*(z+1)|0,ee=a.nextPow2(A*j);b.length<ee&&(t.free(b),b=t.mallocInt32(ee));var ie=a.nextPow2(s*j);N.length<ie&&(t.free(N),N=t.mallocDouble(ie))}function H(z,W,j,ee,ie,oe,he,ne,q){var le=A*z;b[le]=W,b[le+1]=j,b[le+2]=ee,b[le+3]=ie,b[le+4]=oe,b[le+5]=he;var Q=s*z;N[Q]=ne,N[Q+1]=q}function F(z,W,j,ee,ie,oe,he,ne,q,le,Q){var te=2*z,ue=q*te,J=le[ue+W];e:for(var K=ie,ce=ie*te;K<oe;++K,ce+=te){var ae=he[ce+W],de=he[ce+W+z];if(!(J<ae||de<J)&&!(ee&&J===ae)){for(var be=ne[K],Se=W+1;Se<z;++Se){var ae=he[ce+Se],de=he[ce+Se+z],Te=le[ue+Se],Ie=le[ue+Se+z];if(de<Te||Ie<ae)continue e}var ke;if(ee?ke=j(Q,be):ke=j(be,Q),ke!==void 0)return ke}}}function B(z,W,j,ee,ie,oe,he,ne,q,le){var Q=2*z,te=ne*Q,ue=q[te+W];e:for(var J=ee,K=ee*Q;J<ie;++J,K+=Q){var ce=he[J];if(ce!==le){var ae=oe[K+W],de=oe[K+W+z];if(!(ue<ae||de<ue)){for(var be=W+1;be<z;++be){var ae=oe[K+be],de=oe[K+be+z],Se=q[te+be],Te=q[te+be+z];if(de<Se||Te<ae)continue e}var Ie=j(ce,le);if(Ie!==void 0)return Ie}}}}function U(z,W,j,ee,ie,oe,he,ne,q){k(z,ee+he);var le=0,Q=2*z,te;for(H(le++,0,0,ee,0,he,j?16:0,-1/0,1/0),j||H(le++,0,0,he,0,ee,1,-1/0,1/0);le>0;){le-=1;var ue=le*A,J=b[ue],K=b[ue+1],ce=b[ue+2],ae=b[ue+3],de=b[ue+4],be=b[ue+5],Se=le*s,Te=N[Se],Ie=N[Se+1],ke=be&1,Be=!!(be&16),Me=ie,Oe=oe,_e=ne,Ne=q;if(ke&&(Me=ne,Oe=q,_e=ie,Ne=oe),!(be&2&&(ce=w(z,J,K,ce,Me,Oe,Ie),K>=ce))&&!(be&4&&(K=_(z,J,K,ce,Me,Oe,Te),K>=ce))){var Ce=ce-K,Ye=de-ae;if(Be){if(z*Ce*(Ce+Ye)<i){if(te=l.scanComplete(z,J,W,K,ce,Me,Oe,ae,de,_e,Ne),te!==void 0)return te;continue}}else if(z*Math.min(Ce,Ye)<T){if(te=f(z,J,W,ke,K,ce,Me,Oe,ae,de,_e,Ne),te!==void 0)return te;continue}else if(z*Ce*Ye<c){if(te=l.scanBipartite(z,J,W,ke,K,ce,Me,Oe,ae,de,_e,Ne),te!==void 0)return te;continue}var rt=d(z,J,K,ce,Me,Oe,Te,Ie);if(K<rt)if(z*(rt-K)<T){if(te=u(z,J+1,W,K,rt,Me,Oe,ae,de,_e,Ne),te!==void 0)return te}else if(J===z-2){if(ke?te=l.sweepBipartite(z,W,ae,de,_e,Ne,K,rt,Me,Oe):te=l.sweepBipartite(z,W,K,rt,Me,Oe,ae,de,_e,Ne),te!==void 0)return te}else H(le++,J+1,K,rt,ae,de,ke,-1/0,1/0),H(le++,J+1,ae,de,K,rt,ke^1,-1/0,1/0);if(rt<ce){var ot=y(z,J,ae,de,_e,Ne),$e=_e[Q*ot+J],qe=x(z,J,ot,de,_e,Ne,$e);if(qe<de&&H(le++,J,rt,ce,qe,de,(ke|4)+(Be?16:0),$e,Ie),ae<ot&&H(le++,J,rt,ce,ae,ot,(ke|2)+(Be?16:0),Te,$e),ot+1===qe){if(Be?te=B(z,J,W,rt,ce,Me,Oe,ot,_e,Ne[ot]):te=F(z,J,W,ke,rt,ce,Me,Oe,ot,_e,Ne[ot]),te!==void 0)return te}else if(ot<qe){var ht;if(Be){if(ht=m(z,J,rt,ce,Me,Oe,$e),rt<ht){var vt=x(z,J,rt,ht,Me,Oe,$e);if(J===z-2){if(rt<vt&&(te=l.sweepComplete(z,W,rt,vt,Me,Oe,ot,qe,_e,Ne),te!==void 0)||vt<ht&&(te=l.sweepBipartite(z,W,vt,ht,Me,Oe,ot,qe,_e,Ne),te!==void 0))return te}else rt<vt&&H(le++,J+1,rt,vt,ot,qe,16,-1/0,1/0),vt<ht&&(H(le++,J+1,vt,ht,ot,qe,0,-1/0,1/0),H(le++,J+1,ot,qe,vt,ht,1,-1/0,1/0))}}else ke?ht=E(z,J,rt,ce,Me,Oe,$e):ht=m(z,J,rt,ce,Me,Oe,$e),rt<ht&&(J===z-2?ke?te=l.sweepBipartite(z,W,ot,qe,_e,Ne,rt,ht,Me,Oe):te=l.sweepBipartite(z,W,rt,ht,Me,Oe,ot,qe,_e,Ne):(H(le++,J+1,rt,ht,ot,qe,ke,-1/0,1/0),H(le++,J+1,ot,qe,rt,ht,ke^1,-1/0,1/0)))}}}}}},3545:function(v,g,r){v.exports=u;var t=r(8105),a=t("lo<p0"),n=8;function f(l,y,h,T,c,i){for(var d=2*l,x=d*(h+1)+y,w=h+1;w<T;++w,x+=d)for(var _=c[x],m=w,E=d*(w-1);m>h&&c[E+y]>_;--m,E-=d){for(var A=E,s=E+d,M=0;M<d;++M,++A,++s){var b=c[A];c[A]=c[s],c[s]=b}var N=i[m];i[m]=i[m-1],i[m-1]=N}}function u(l,y,h,T,c,i){if(T<=h+1)return h;for(var d=h,x=T,w=T+h>>>1,_=2*l,m=w,E=c[_*w+y];d<x;){if(x-d<n){f(l,y,d,x,c,i),E=c[_*w+y];break}var A=x-d,s=Math.random()*A+d|0,M=c[_*s+y],b=Math.random()*A+d|0,N=c[_*b+y],k=Math.random()*A+d|0,H=c[_*k+y];M<=N?H>=N?(m=b,E=N):M>=H?(m=s,E=M):(m=k,E=H):N>=H?(m=b,E=N):H>=M?(m=s,E=M):(m=k,E=H);for(var U=_*(x-1),z=_*m,F=0;F<_;++F,++U,++z){var B=c[U];c[U]=c[z],c[z]=B}var W=i[x-1];i[x-1]=i[m],i[m]=W,m=a(l,y,d,x-1,c,i,E);for(var U=_*(x-1),z=_*m,F=0;F<_;++F,++U,++z){var B=c[U];c[U]=c[z],c[z]=B}var W=i[x-1];if(i[x-1]=i[m],i[m]=W,w<m){for(x=m-1;d<x&&c[_*(x-1)+y]===E;)x-=1;x+=1}else if(m<w)for(d=m+1;d<x&&c[_*d+y]===E;)d+=1;else break}return a(l,y,h,w,c,i,c[_*w+y])}},8105:function(v){v.exports=r;var g={"lo===p0":t,"lo<p0":a,"lo<=p0":n,"hi<=p0":f,"lo<p0&&p0<=hi":l,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":y};function r(h){return g[h]}function t(h,T,c,i,d,x,w){for(var _=2*h,m=_*c,E=m,A=c,s=T,M=h+T,b=c;i>b;++b,m+=_){var N=d[m+s];if(N===w)if(A===b)A+=1,E+=_;else{for(var k=0;_>k;++k){var H=d[m+k];d[m+k]=d[E],d[E++]=H}var F=x[b];x[b]=x[A],x[A++]=F}}return A}function a(h,T,c,i,d,x,w){for(var _=2*h,m=_*c,E=m,A=c,s=T,M=h+T,b=c;i>b;++b,m+=_){var N=d[m+s];if(N<w)if(A===b)A+=1,E+=_;else{for(var k=0;_>k;++k){var H=d[m+k];d[m+k]=d[E],d[E++]=H}var F=x[b];x[b]=x[A],x[A++]=F}}return A}function n(h,T,c,i,d,x,w){for(var _=2*h,m=_*c,E=m,A=c,s=T,M=h+T,b=c;i>b;++b,m+=_){var N=d[m+M];if(N<=w)if(A===b)A+=1,E+=_;else{for(var k=0;_>k;++k){var H=d[m+k];d[m+k]=d[E],d[E++]=H}var F=x[b];x[b]=x[A],x[A++]=F}}return A}function f(h,T,c,i,d,x,w){for(var _=2*h,m=_*c,E=m,A=c,s=T,M=h+T,b=c;i>b;++b,m+=_){var N=d[m+M];if(N<=w)if(A===b)A+=1,E+=_;else{for(var k=0;_>k;++k){var H=d[m+k];d[m+k]=d[E],d[E++]=H}var F=x[b];x[b]=x[A],x[A++]=F}}return A}function u(h,T,c,i,d,x,w){for(var _=2*h,m=_*c,E=m,A=c,s=T,M=h+T,b=c;i>b;++b,m+=_){var N=d[m+s],k=d[m+M];if(N<=w&&w<=k)if(A===b)A+=1,E+=_;else{for(var H=0;_>H;++H){var F=d[m+H];d[m+H]=d[E],d[E++]=F}var B=x[b];x[b]=x[A],x[A++]=B}}return A}function l(h,T,c,i,d,x,w){for(var _=2*h,m=_*c,E=m,A=c,s=T,M=h+T,b=c;i>b;++b,m+=_){var N=d[m+s],k=d[m+M];if(N<w&&w<=k)if(A===b)A+=1,E+=_;else{for(var H=0;_>H;++H){var F=d[m+H];d[m+H]=d[E],d[E++]=F}var B=x[b];x[b]=x[A],x[A++]=B}}return A}function y(h,T,c,i,d,x,w,_){for(var m=2*h,E=m*c,A=E,s=c,M=T,b=h+T,N=c;i>N;++N,E+=m){var k=d[E+M],H=d[E+b];if(!(k>=w)&&!(_>=H))if(s===N)s+=1,A+=m;else{for(var F=0;m>F;++F){var B=d[E+F];d[E+F]=d[A],d[A++]=B}var U=x[N];x[N]=x[s],x[s++]=U}}return s}},1811:function(v){v.exports=r;var g=32;function r(T,c){c<=4*g?t(0,c-1,T):h(0,c-1,T)}function t(T,c,i){for(var d=2*(T+1),x=T+1;x<=c;++x){for(var w=i[d++],_=i[d++],m=x,E=d-2;m-- >T;){var A=i[E-2],s=i[E-1];if(A<w)break;if(A===w&&s<_)break;i[E]=A,i[E+1]=s,E-=2}i[E]=w,i[E+1]=_}}function a(T,c,i){T*=2,c*=2;var d=i[T],x=i[T+1];i[T]=i[c],i[T+1]=i[c+1],i[c]=d,i[c+1]=x}function n(T,c,i){T*=2,c*=2,i[T]=i[c],i[T+1]=i[c+1]}function f(T,c,i,d){T*=2,c*=2,i*=2;var x=d[T],w=d[T+1];d[T]=d[c],d[T+1]=d[c+1],d[c]=d[i],d[c+1]=d[i+1],d[i]=x,d[i+1]=w}function u(T,c,i,d,x){T*=2,c*=2,x[T]=x[c],x[c]=i,x[T+1]=x[c+1],x[c+1]=d}function l(T,c,i){T*=2,c*=2;var d=i[T],x=i[c];return d<x?!1:d===x?i[T+1]>i[c+1]:!0}function y(T,c,i,d){T*=2;var x=d[T];return x<c?!0:x===c?d[T+1]<i:!1}function h(T,c,i){var d=(c-T+1)/6|0,x=T+d,w=c-d,_=T+c>>1,m=_-d,E=_+d,A=x,s=m,M=_,b=E,N=w,k=T+1,H=c-1,F=0;l(A,s,i)&&(F=A,A=s,s=F),l(b,N,i)&&(F=b,b=N,N=F),l(A,M,i)&&(F=A,A=M,M=F),l(s,M,i)&&(F=s,s=M,M=F),l(A,b,i)&&(F=A,A=b,b=F),l(M,b,i)&&(F=M,M=b,b=F),l(s,N,i)&&(F=s,s=N,N=F),l(s,M,i)&&(F=s,s=M,M=F),l(b,N,i)&&(F=b,b=N,N=F);for(var B=i[2*s],U=i[2*s+1],z=i[2*b],W=i[2*b+1],j=2*A,ee=2*M,ie=2*N,oe=2*x,he=2*_,ne=2*w,q=0;q<2;++q){var le=i[j+q],Q=i[ee+q],te=i[ie+q];i[oe+q]=le,i[he+q]=Q,i[ne+q]=te}n(m,T,i),n(E,c,i);for(var ue=k;ue<=H;++ue)if(y(ue,B,U,i))ue!==k&&a(ue,k,i),++k;else if(!y(ue,z,W,i))for(;;)if(y(H,z,W,i)){y(H,B,U,i)?(f(ue,k,H,i),++k,--H):(a(ue,H,i),--H);break}else{if(--H<ue)break;continue}u(T,k-1,B,U,i),u(c,H+1,z,W,i),k-2-T<=g?t(T,k-2,i):h(T,k-2,i),c-(H+2)<=g?t(H+2,c,i):h(H+2,c,i),H-k<=g?t(k,H,i):h(k,H,i)}},855:function(v,g,r){v.exports={init:x,sweepBipartite:m,sweepComplete:E,scanBipartite:A,scanComplete:s};var t=r(1888),a=r(8828),n=r(1811),f=1<<28,u=1024,l=t.mallocInt32(u),y=t.mallocInt32(u),h=t.mallocInt32(u),T=t.mallocInt32(u),c=t.mallocInt32(u),i=t.mallocInt32(u),d=t.mallocDouble(u*8);function x(M){var b=a.nextPow2(M);l.length<b&&(t.free(l),l=t.mallocInt32(b)),y.length<b&&(t.free(y),y=t.mallocInt32(b)),h.length<b&&(t.free(h),h=t.mallocInt32(b)),T.length<b&&(t.free(T),T=t.mallocInt32(b)),c.length<b&&(t.free(c),c=t.mallocInt32(b)),i.length<b&&(t.free(i),i=t.mallocInt32(b));var N=8*b;d.length<N&&(t.free(d),d=t.mallocDouble(N))}function w(M,b,N,k){var H=b[k],F=M[N-1];M[H]=F,b[F]=H}function _(M,b,N,k){M[N]=k,b[k]=N}function m(M,b,N,k,H,F,B,U,z,W){for(var j=0,ee=2*M,ie=M-1,oe=ee-1,he=N;he<k;++he){var ne=F[he],q=ee*he;d[j++]=H[q+ie],d[j++]=-(ne+1),d[j++]=H[q+oe],d[j++]=ne}for(var he=B;he<U;++he){var ne=W[he]+f,le=ee*he;d[j++]=z[le+ie],d[j++]=-ne,d[j++]=z[le+oe],d[j++]=ne}var Q=j>>>1;n(d,Q);for(var te=0,ue=0,he=0;he<Q;++he){var J=d[2*he+1]|0;if(J>=f)J=J-f|0,w(h,T,ue--,J);else if(J>=0)w(l,y,te--,J);else if(J<=-f){J=-J-f|0;for(var K=0;K<te;++K){var ce=b(l[K],J);if(ce!==void 0)return ce}_(h,T,ue++,J)}else{J=-J-1|0;for(var K=0;K<ue;++K){var ce=b(J,h[K]);if(ce!==void 0)return ce}_(l,y,te++,J)}}}function E(M,b,N,k,H,F,B,U,z,W){for(var j=0,ee=2*M,ie=M-1,oe=ee-1,he=N;he<k;++he){var ne=F[he]+1<<1,q=ee*he;d[j++]=H[q+ie],d[j++]=-ne,d[j++]=H[q+oe],d[j++]=ne}for(var he=B;he<U;++he){var ne=W[he]+1<<1,le=ee*he;d[j++]=z[le+ie],d[j++]=-ne|1,d[j++]=z[le+oe],d[j++]=ne|1}var Q=j>>>1;n(d,Q);for(var te=0,ue=0,J=0,he=0;he<Q;++he){var K=d[2*he+1]|0,ce=K&1;if(he<Q-1&&K>>1===d[2*he+3]>>1&&(ce=2,he+=1),K<0){for(var ae=-(K>>1)-1,de=0;de<J;++de){var be=b(c[de],ae);if(be!==void 0)return be}if(ce!==0)for(var de=0;de<te;++de){var be=b(l[de],ae);if(be!==void 0)return be}if(ce!==1)for(var de=0;de<ue;++de){var be=b(h[de],ae);if(be!==void 0)return be}ce===0?_(l,y,te++,ae):ce===1?_(h,T,ue++,ae):ce===2&&_(c,i,J++,ae)}else{var ae=(K>>1)-1;ce===0?w(l,y,te--,ae):ce===1?w(h,T,ue--,ae):ce===2&&w(c,i,J--,ae)}}}function A(M,b,N,k,H,F,B,U,z,W,j,ee){var ie=0,oe=2*M,he=b,ne=b+M,q=1,le=1;k?le=f:q=f;for(var Q=H;Q<F;++Q){var te=Q+q,ue=oe*Q;d[ie++]=B[ue+he],d[ie++]=-te,d[ie++]=B[ue+ne],d[ie++]=te}for(var Q=z;Q<W;++Q){var te=Q+le,J=oe*Q;d[ie++]=j[J+he],d[ie++]=-te}var K=ie>>>1;n(d,K);for(var ce=0,Q=0;Q<K;++Q){var ae=d[2*Q+1]|0;if(ae<0){var te=-ae,de=!1;if(te>=f?(de=!k,te-=f):(de=!!k,te-=1),de)_(l,y,ce++,te);else{var be=ee[te],Se=oe*te,Te=j[Se+b+1],Ie=j[Se+b+1+M];e:for(var ke=0;ke<ce;++ke){var Be=l[ke],Me=oe*Be;if(!(Ie<B[Me+b+1]||B[Me+b+1+M]<Te)){for(var Oe=b+2;Oe<M;++Oe)if(j[Se+Oe+M]<B[Me+Oe]||B[Me+Oe+M]<j[Se+Oe])continue e;var _e=U[Be],Ne;if(k?Ne=N(be,_e):Ne=N(_e,be),Ne!==void 0)return Ne}}}}else w(l,y,ce--,ae-q)}}function s(M,b,N,k,H,F,B,U,z,W,j){for(var ee=0,ie=2*M,oe=b,he=b+M,ne=k;ne<H;++ne){var q=ne+f,le=ie*ne;d[ee++]=F[le+oe],d[ee++]=-q,d[ee++]=F[le+he],d[ee++]=q}for(var ne=U;ne<z;++ne){var q=ne+1,Q=ie*ne;d[ee++]=W[Q+oe],d[ee++]=-q}var te=ee>>>1;n(d,te);for(var ue=0,ne=0;ne<te;++ne){var J=d[2*ne+1]|0;if(J<0){var q=-J;if(q>=f)l[ue++]=q-f;else{q-=1;var K=j[q],ce=ie*q,ae=W[ce+b+1],de=W[ce+b+1+M];e:for(var be=0;be<ue;++be){var Se=l[be],Te=B[Se];if(Te===K)break;var Ie=ie*Se;if(!(de<F[Ie+b+1]||F[Ie+b+1+M]<ae)){for(var ke=b+2;ke<M;++ke)if(W[ce+ke+M]<F[Ie+ke]||F[Ie+ke+M]<W[ce+ke])continue e;var Be=N(Te,K);if(Be!==void 0)return Be}}}}else{for(var q=J-f,be=ue-1;be>=0;--be)if(l[be]===q){for(var ke=be+1;ke<ue;++ke)l[ke-1]=l[ke];break}--ue}}}},2538:function(v,g,r){var t=r(8902),a=r(5542),n=r(2272),f=r(5023);v.exports=T;function u(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function l(c,i){return c[0]-i[0]||c[1]-i[1]}function y(c){return c.map(u).sort(l)}function h(c,i,d){return i in c?c[i]:d}function T(c,i,d){Array.isArray(i)?(d=d||{},i=i||[]):(d=i||{},i=[]);var x=!!h(d,"delaunay",!0),w=!!h(d,"interior",!0),_=!!h(d,"exterior",!0),m=!!h(d,"infinity",!1);if(!w&&!_||c.length===0)return[];var E=t(c,i);if(x||w!==_||m){for(var A=a(c.length,y(i)),s=0;s<E.length;++s){var M=E[s];A.addTriangle(M[0],M[1],M[2])}return x&&n(c,A),_?w?m?f(A,0,m):A.cells():f(A,1,m):f(A,-1)}else return E}},2272:function(v,g,r){var t=r(2646)[4];r(2478),v.exports=n;function a(f,u,l,y,h,T){var c=u.opposite(y,h);if(!(c<0)){if(h<y){var i=y;y=h,h=i,i=T,T=c,c=i}u.isConstraint(y,h)||t(f[y],f[h],f[T],f[c])<0&&l.push(y,h)}}function n(f,u){for(var l=[],y=f.length,h=u.stars,T=0;T<y;++T)for(var c=h[T],i=1;i<c.length;i+=2){var d=c[i];if(!(d<T)&&!u.isConstraint(T,d)){for(var x=c[i-1],w=-1,_=1;_<c.length;_+=2)if(c[_-1]===d){w=c[_];break}w<0||t(f[T],f[d],f[x],f[w])<0&&l.push(T,d)}}for(;l.length>0;){for(var d=l.pop(),T=l.pop(),x=-1,w=-1,c=h[T],m=1;m<c.length;m+=2){var E=c[m-1],A=c[m];E===d?w=A:A===d&&(x=E)}x<0||w<0||t(f[T],f[d],f[x],f[w])>=0||(u.flip(T,d),a(f,u,l,x,T,w),a(f,u,l,T,w,x),a(f,u,l,w,d,x),a(f,u,l,d,x,w))}}},5023:function(v,g,r){var t=r(2478);v.exports=y;function a(h,T,c,i,d,x,w){this.cells=h,this.neighbor=T,this.flags=i,this.constraint=c,this.active=d,this.next=x,this.boundary=w}var n=a.prototype;function f(h,T){return h[0]-T[0]||h[1]-T[1]||h[2]-T[2]}n.locate=function(){var h=[0,0,0];return function(T,c,i){var d=T,x=c,w=i;return c<i?c<T&&(d=c,x=i,w=T):i<T&&(d=i,x=T,w=c),d<0?-1:(h[0]=d,h[1]=x,h[2]=w,t.eq(this.cells,h,f))}}();function u(h,T){for(var c=h.cells(),i=c.length,d=0;d<i;++d){var x=c[d],w=x[0],_=x[1],m=x[2];_<m?_<w&&(x[0]=_,x[1]=m,x[2]=w):m<w&&(x[0]=m,x[1]=w,x[2]=_)}c.sort(f);for(var E=new Array(i),d=0;d<E.length;++d)E[d]=0;var A=[],s=[],M=new Array(3*i),b=new Array(3*i),N=null;T&&(N=[]);for(var k=new a(c,M,b,E,A,s,N),d=0;d<i;++d)for(var x=c[d],H=0;H<3;++H){var w=x[H],_=x[(H+1)%3],F=M[3*d+H]=k.locate(_,w,h.opposite(_,w)),B=b[3*d+H]=h.isConstraint(w,_);F<0&&(B?s.push(d):(A.push(d),E[d]=1),T&&N.push([_,w,-1]))}return k}function l(h,T,c){for(var i=0,d=0;d<h.length;++d)T[d]===c&&(h[i++]=h[d]);return h.length=i,h}function y(h,T,c){var i=u(h,c);if(T===0)return c?i.cells.concat(i.boundary):i.cells;for(var d=1,x=i.active,w=i.next,_=i.flags,m=i.cells,E=i.constraint,A=i.neighbor;x.length>0||w.length>0;){for(;x.length>0;){var s=x.pop();if(_[s]!==-d){_[s]=d,m[s];for(var M=0;M<3;++M){var b=A[3*s+M];b>=0&&_[b]===0&&(E[3*s+M]?w.push(b):(x.push(b),_[b]=d))}}}var N=w;w=x,x=N,w.length=0,d=-d}var k=l(m,_,T);return c?k.concat(i.boundary):k}},8902:function(v,g,r){var t=r(2478),a=r(3250)[3],n=0,f=1,u=2;v.exports=w;function l(_,m,E,A,s){this.a=_,this.b=m,this.idx=E,this.lowerIds=A,this.upperIds=s}function y(_,m,E,A){this.a=_,this.b=m,this.type=E,this.idx=A}function h(_,m){var E=_.a[0]-m.a[0]||_.a[1]-m.a[1]||_.type-m.type;return E||_.type!==n&&(E=a(_.a,_.b,m.b),E)?E:_.idx-m.idx}function T(_,m){return a(_.a,_.b,m)}function c(_,m,E,A,s){for(var M=t.lt(m,A,T),b=t.gt(m,A,T),N=M;N<b;++N){for(var k=m[N],H=k.lowerIds,B=H.length;B>1&&a(E[H[B-2]],E[H[B-1]],A)>0;)_.push([H[B-1],H[B-2],s]),B-=1;H.length=B,H.push(s);for(var F=k.upperIds,B=F.length;B>1&&a(E[F[B-2]],E[F[B-1]],A)<0;)_.push([F[B-2],F[B-1],s]),B-=1;F.length=B,F.push(s)}}function i(_,m){var E;return _.a[0]<m.a[0]?E=a(_.a,_.b,m.a):E=a(m.b,m.a,_.a),E||(m.b[0]<_.b[0]?E=a(_.a,_.b,m.b):E=a(m.b,m.a,_.b),E||_.idx-m.idx)}function d(_,m,E){var A=t.le(_,E,i),s=_[A],M=s.upperIds,b=M[M.length-1];s.upperIds=[b],_.splice(A+1,0,new l(E.a,E.b,E.idx,[b],M))}function x(_,m,E){var A=E.a;E.a=E.b,E.b=A;var s=t.eq(_,E,i),M=_[s],b=_[s-1];b.upperIds=M.upperIds,_.splice(s,1)}function w(_,m){for(var E=_.length,A=m.length,s=[],M=0;M<E;++M)s.push(new y(_[M],null,n,M));for(var M=0;M<A;++M){var b=m[M],N=_[b[0]],k=_[b[1]];N[0]<k[0]?s.push(new y(N,k,u,M),new y(k,N,f,M)):N[0]>k[0]&&s.push(new y(k,N,u,M),new y(N,k,f,M))}s.sort(h);for(var H=s[0].a[0]-(1+Math.abs(s[0].a[0]))*Math.pow(2,-52),F=[new l([H,1],[H,0],-1,[],[])],B=[],M=0,U=s.length;M<U;++M){var z=s[M],W=z.type;W===n?c(B,F,_,z.a,z.idx):W===u?d(F,_,z):x(F,_,z)}return B}},5542:function(v,g,r){var t=r(2478);v.exports=u;function a(l,y){this.stars=l,this.edges=y}var n=a.prototype;function f(l,y,h){for(var T=1,c=l.length;T<c;T+=2)if(l[T-1]===y&&l[T]===h){l[T-1]=l[c-2],l[T]=l[c-1],l.length=c-2;return}}n.isConstraint=function(){var l=[0,0];function y(h,T){return h[0]-T[0]||h[1]-T[1]}return function(h,T){return l[0]=Math.min(h,T),l[1]=Math.max(h,T),t.eq(this.edges,l,y)>=0}}(),n.removeTriangle=function(l,y,h){var T=this.stars;f(T[l],y,h),f(T[y],h,l),f(T[h],l,y)},n.addTriangle=function(l,y,h){var T=this.stars;T[l].push(y,h),T[y].push(h,l),T[h].push(l,y)},n.opposite=function(l,y){for(var h=this.stars[y],T=1,c=h.length;T<c;T+=2)if(h[T]===l)return h[T-1];return-1},n.flip=function(l,y){var h=this.opposite(l,y),T=this.opposite(y,l);this.removeTriangle(l,y,h),this.removeTriangle(y,l,T),this.addTriangle(l,T,h),this.addTriangle(y,h,T)},n.edges=function(){for(var l=this.stars,y=[],h=0,T=l.length;h<T;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2)y.push([c[i],c[i+1]]);return y},n.cells=function(){for(var l=this.stars,y=[],h=0,T=l.length;h<T;++h)for(var c=l[h],i=0,d=c.length;i<d;i+=2){var x=c[i],w=c[i+1];h<Math.min(x,w)&&y.push([h,x,w])}return y};function u(l,y){for(var h=new Array(l),T=0;T<l;++T)h[T]=[];return new a(h,y)}},2419:function(v){v.exports=g;function g(r){for(var t=1,a=1;a<r.length;++a)for(var n=0;n<a;++n)if(r[a]<r[n])t=-t;else if(r[n]===r[a])return 0;return t}},3628:function(v,g,r){var t=r(1338),a=r(727);function n(l,y){for(var h=0,T=l.length,c=0;c<T;++c)h+=l[c]*y[c];return h}function f(l){var y=l.length;if(y===0)return[];l[0].length;var h=t([l.length+1,l.length+1],1),T=t([l.length+1],1);h[y][y]=0;for(var c=0;c<y;++c){for(var i=0;i<=c;++i)h[i][c]=h[c][i]=2*n(l[c],l[i]);T[c]=n(l[c],l[c])}for(var d=a(h,T),x=0,w=d[y+1],c=0;c<w.length;++c)x+=w[c];for(var _=new Array(y),c=0;c<y;++c){for(var w=d[c],m=0,i=0;i<w.length;++i)m+=w[i];_[c]=m/x}return _}function u(l){if(l.length===0)return[];for(var y=l[0].length,h=t([y]),T=f(l),c=0;c<l.length;++c)for(var i=0;i<y;++i)h[i]+=l[c][i]*T[c];return h}u.barycenetric=f,v.exports=u},6037:function(v,g,r){v.exports=a;var t=r(3628);function a(n){for(var f=t(n),u=0,l=0;l<n.length;++l)for(var y=n[l],h=0;h<f.length;++h)u+=Math.pow(y[h]-f[h],2);return Math.sqrt(u/n.length)}},332:function(v,g,r){v.exports=N;var t=r(1755),a=r(6867),n=r(1125),f=r(7842),u=r(1318),l=r(946),y=r(5838),h=r(1278),T=r(3637);function c(k){var H=l(k);return[h(H,-1/0),h(H,1/0)]}function i(k,H){for(var F=new Array(H.length),B=0;B<H.length;++B){var U=H[B],z=k[U[0]],W=k[U[1]];F[B]=[h(Math.min(z[0],W[0]),-1/0),h(Math.min(z[1],W[1]),-1/0),h(Math.max(z[0],W[0]),1/0),h(Math.max(z[1],W[1]),1/0)]}return F}function d(k){for(var H=new Array(k.length),F=0;F<k.length;++F){var B=k[F];H[F]=[h(B[0],-1/0),h(B[1],-1/0),h(B[0],1/0),h(B[1],1/0)]}return H}function x(k,H,F){var B=[];return a(F,function(U,z){var W=H[U],j=H[z];if(!(W[0]===j[0]||W[0]===j[1]||W[1]===j[0]||W[1]===j[1])){var ee=k[W[0]],ie=k[W[1]],oe=k[j[0]],he=k[j[1]];n(ee,ie,oe,he)&&B.push([U,z])}}),B}function w(k,H,F,B){var U=[];return a(F,B,function(z,W){var j=H[z];if(!(j[0]===W||j[1]===W)){var ee=k[W],ie=k[j[0]],oe=k[j[1]];n(ie,oe,ee,ee)&&U.push([z,W])}}),U}function _(k,H,F,B,U){var z,W,j=k.map(function(Se){return[f(Se[0]),f(Se[1])]});for(z=0;z<F.length;++z){var ee=F[z];W=ee[0];var ie=ee[1],oe=H[W],he=H[ie],ne=T(y(k[oe[0]]),y(k[oe[1]]),y(k[he[0]]),y(k[he[1]]));if(ne){var q=k.length;k.push([l(ne[0]),l(ne[1])]),j.push(ne),B.push([W,q],[ie,q])}}for(B.sort(function(Se,Te){if(Se[0]!==Te[0])return Se[0]-Te[0];var Ie=j[Se[1]],ke=j[Te[1]];return u(Ie[0],ke[0])||u(Ie[1],ke[1])}),z=B.length-1;z>=0;--z){var le=B[z];W=le[0];var Q=H[W],te=Q[0],ue=Q[1],J=k[te],K=k[ue];if((J[0]-K[0]||J[1]-K[1])<0){var ce=te;te=ue,ue=ce}Q[0]=te;var ae=Q[1]=le[1],de;for(U&&(de=Q[2]);z>0&&B[z-1][0]===W;){var le=B[--z],be=le[1];U?H.push([ae,be,de]):H.push([ae,be]),ae=be}U?H.push([ae,ue,de]):H.push([ae,ue])}return j}function m(k,H,F){for(var B=H.length,U=new t(B),z=[],W=0;W<H.length;++W){var j=H[W],ee=c(j[0]),ie=c(j[1]);z.push([h(ee[0],-1/0),h(ie[0],-1/0),h(ee[1],1/0),h(ie[1],1/0)])}a(z,function(le,Q){U.link(le,Q)});for(var oe=!0,he=new Array(B),W=0;W<B;++W){var ne=U.find(W);ne!==W&&(oe=!1,k[ne]=[Math.min(k[W][0],k[ne][0]),Math.min(k[W][1],k[ne][1])])}if(oe)return null;for(var q=0,W=0;W<B;++W){var ne=U.find(W);ne===W?(he[W]=q,k[q++]=k[W]):he[W]=-1}k.length=q;for(var W=0;W<B;++W)he[W]<0&&(he[W]=he[U.find(W)]);return he}function E(k,H){return k[0]-H[0]||k[1]-H[1]}function A(k,H){var F=k[0]-H[0]||k[1]-H[1];return F||(k[2]<H[2]?-1:k[2]>H[2]?1:0)}function s(k,H,F){if(k.length!==0){if(H)for(var B=0;B<k.length;++B){var U=k[B],z=H[U[0]],W=H[U[1]];U[0]=Math.min(z,W),U[1]=Math.max(z,W)}else for(var B=0;B<k.length;++B){var U=k[B],z=U[0],W=U[1];U[0]=Math.min(z,W),U[1]=Math.max(z,W)}F?k.sort(A):k.sort(E);for(var j=1,B=1;B<k.length;++B){var ee=k[B-1],ie=k[B];ie[0]===ee[0]&&ie[1]===ee[1]&&(!F||ie[2]===ee[2])||(k[j++]=ie)}k.length=j}}function M(k,H,F){var B=m(k,[],d(k));return s(H,B,F),!!B}function b(k,H,F){var B=i(k,H),U=x(k,H,B),z=d(k),W=w(k,H,B,z),j=_(k,H,U,W,F),ee=m(k,j);return s(H,ee,F),ee?!0:U.length>0||W.length>0}function N(k,H,F){var B;if(F){B=H;for(var U=new Array(H.length),z=0;z<H.length;++z){var W=H[z];U[z]=[W[0],W[1],F[z]]}H=U}for(var j=M(k,H,!!F);b(k,H,!!F);)j=!0;if(F&&j){B.length=0,F.length=0;for(var z=0;z<H.length;++z){var W=H[z];B.push([W[0],W[1]]),F.push(W[2])}}return j}},3637:function(v,g,r){v.exports=T;var t=r(6504),a=r(8697),n=r(5572),f=r(7721),u=r(544),l=r(2653),y=r(8987);function h(c,i){return n(t(c[0],i[1]),t(c[1],i[0]))}function T(c,i,d,x){var w=u(i,c),_=u(x,d),m=h(w,_);if(f(m)===0)return null;var E=u(c,d),A=h(_,E),s=a(A,m),M=y(w,s),b=l(c,M);return b}},3642:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},6729:function(v,g,r){var t=r(3642),a=r(395);v.exports=n;function n(y){var h,T,c,i,d,x,w,_,s,m,E;if(y||(y={}),_=(y.nshades||72)-1,w=y.format||"hex",x=y.colormap,x||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!t[x])throw Error(x+" not a supported colorscale");d=t[x]}else if(Array.isArray(x))d=x.slice();else throw Error("unsupported colormap option",x);if(d.length>_+1)throw new Error(x+" map requires nshades to be at least size "+d.length);Array.isArray(y.alpha)?y.alpha.length!==2?m=[1,1]:m=y.alpha.slice():typeof y.alpha=="number"?m=[y.alpha,y.alpha]:m=[1,1],h=d.map(function(N){return Math.round(N.index*_)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var A=d.map(function(N,k){var H=d[k].index,F=d[k].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=m[0]+(m[1]-m[0])*H),F}),s=[];for(E=0;E<h.length-1;++E){i=h[E+1]-h[E],T=A[E],c=A[E+1];for(var M=0;M<i;M++){var b=M/i;s.push([Math.round(a(T[0],c[0],b)),Math.round(a(T[1],c[1],b)),Math.round(a(T[2],c[2],b)),a(T[3],c[3],b)])}}return s.push(d[d.length-1].rgb.concat(m[1])),w==="hex"?s=s.map(u):w==="rgbaString"?s=s.map(l):w==="float"&&(s=s.map(f)),s}function f(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function u(y){for(var h,T="#",c=0;c<3;++c)h=y[c],h=h.toString(16),T+=("00"+h).substr(h.length);return T}function l(y){return"rgba("+y.join(",")+")"}},3140:function(v,g,r){v.exports=y;var t=r(3250),a=r(8572),n=r(9362),f=r(5382),u=r(8210);function l(h,T,c){var i=n(h[0],-T[0]),d=n(h[1],-T[1]),x=n(c[0],-T[0]),w=n(c[1],-T[1]),_=u(f(i,x),f(d,w));return _[_.length-1]>=0}function y(h,T,c,i){var d=t(T,c,i);if(d===0){var x=a(t(h,T,c)),w=a(t(h,T,i));if(x===w){if(x===0){var _=l(h,T,c),m=l(h,T,i);return _===m?0:_?1:-1}return 0}else{if(w===0)return x>0||l(h,T,i)?-1:1;if(x===0)return w>0||l(h,T,c)?1:-1}return a(w-x)}var E=t(h,T,c);if(E>0)return d>0&&t(h,T,i)>0?1:-1;if(E<0)return d>0||t(h,T,i)>0?1:-1;var A=t(h,T,i);return A>0||l(h,T,c)?1:-1}},8572:function(v){v.exports=function(r){return r<0?-1:r>0?1:0}},8507:function(v){v.exports=t;var g=Math.min;function r(a,n){return a-n}function t(a,n){var f=a.length,u=a.length-n.length;if(u)return u;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:return a[0]+a[1]-n[0]-n[1]||g(a[0],a[1])-g(n[0],n[1]);case 3:var l=a[0]+a[1],y=n[0]+n[1];if(u=l+a[2]-(y+n[2]),u)return u;var h=g(a[0],a[1]),T=g(n[0],n[1]);return g(h,a[2])-g(T,n[2])||g(h+a[2],l)-g(T+n[2],y);case 4:var c=a[0],i=a[1],d=a[2],x=a[3],w=n[0],_=n[1],m=n[2],E=n[3];return c+i+d+x-(w+_+m+E)||g(c,i,d,x)-g(w,_,m,E,w)||g(c+i,c+d,c+x,i+d,i+x,d+x)-g(w+_,w+m,w+E,_+m,_+E,m+E)||g(c+i+d,c+i+x,c+d+x,i+d+x)-g(w+_+m,w+_+E,w+m+E,_+m+E);default:for(var A=a.slice().sort(r),s=n.slice().sort(r),M=0;M<f;++M)if(u=A[M]-s[M],u)return u;return 0}}},3788:function(v,g,r){var t=r(8507),a=r(2419);v.exports=n;function n(f,u){return t(f,u)||a(f)-a(u)}},7352:function(v,g,r){var t=r(5721),a=r(4750),n=r(2690);v.exports=f;function f(u){var l=u.length;if(l===0)return[];if(l===1)return[[0]];var y=u[0].length;return y===0?[]:y===1?t(u):y===2?a(u):n(u,y)}},5721:function(v){v.exports=g;function g(r){for(var t=0,a=0,n=1;n<r.length;++n)r[n][0]<r[t][0]&&(t=n),r[n][0]>r[a][0]&&(a=n);return t<a?[[t],[a]]:t>a?[[a],[t]]:[[t]]}},4750:function(v,g,r){v.exports=a;var t=r(3090);function a(n){var f=t(n),u=f.length;if(u<=2)return[];for(var l=new Array(u),y=f[u-1],h=0;h<u;++h){var T=f[h];l[h]=[y,T],y=T}return l}},2690:function(v,g,r){v.exports=u;var t=r(8954),a=r(3952);function n(l,y){for(var h=l.length,T=new Array(h),c=0;c<y.length;++c)T[c]=l[y[c]];for(var i=y.length,c=0;c<h;++c)y.indexOf(c)<0&&(T[i++]=l[c]);return T}function f(l,y){for(var h=l.length,T=y.length,c=0;c<h;++c)for(var i=l[c],d=0;d<i.length;++d){var x=i[d];if(x<T)i[d]=y[x];else{x=x-T;for(var w=0;w<T;++w)x>=y[w]&&(x+=1);i[d]=x}}return l}function u(l,y){try{return t(l,!0)}catch{var h=a(l);if(h.length<=y)return[];var T=n(l,h),c=t(T,!0);return f(c,h)}}},4769:function(v){function g(t,a,n,f,u,l){var y=6*u*u-6*u,h=3*u*u-4*u+1,T=-6*u*u+6*u,c=3*u*u-2*u;if(t.length){l||(l=new Array(t.length));for(var i=t.length-1;i>=0;--i)l[i]=y*t[i]+h*a[i]+T*n[i]+c*f[i];return l}return y*t+h*a+T*n[i]+c*f}function r(t,a,n,f,u,l){var y=u-1,h=u*u,T=y*y,c=(1+2*u)*T,i=u*T,d=h*(3-2*u),x=h*y;if(t.length){l||(l=new Array(t.length));for(var w=t.length-1;w>=0;--w)l[w]=c*t[w]+i*a[w]+d*n[w]+x*f[w];return l}return c*t+i*a+d*n+x*f}v.exports=r,v.exports.derivative=g},7642:function(v,g,r){var t=r(8954),a=r(1682);v.exports=l;function n(y,h){this.point=y,this.index=h}function f(y,h){for(var T=y.point,c=h.point,i=T.length,d=0;d<i;++d){var x=c[d]-T[d];if(x)return x}return 0}function u(y,h,T){if(y===1)return T?[[-1,0]]:[];var c=h.map(function(_,m){return[_[0],m]});c.sort(function(_,m){return _[0]-m[0]});for(var i=new Array(y-1),d=1;d<y;++d){var x=c[d-1],w=c[d];i[d-1]=[x[1],w[1]]}return T&&i.push([-1,i[0][1]],[i[y-1][1],-1]),i}function l(y,h){var T=y.length;if(T===0)return[];var c=y[0].length;if(c<1)return[];if(c===1)return u(T,y,h);for(var i=new Array(T),d=1,x=0;x<T;++x){for(var w=y[x],_=new Array(c+1),m=0,E=0;E<c;++E){var A=w[E];_[E]=A,m+=A*A}_[c]=m,i[x]=new n(_,x),d=Math.max(m,d)}a(i,f),T=i.length;for(var s=new Array(T+c+1),M=new Array(T+c+1),b=(c+1)*(c+1)*d,N=new Array(c+1),x=0;x<=c;++x)N[x]=0;N[c]=b,s[0]=N.slice(),M[0]=-1;for(var x=0;x<=c;++x){var _=N.slice();_[x]=1,s[x+1]=_,M[x+1]=-1}for(var x=0;x<T;++x){var k=i[x];s[x+c+1]=k.point,M[x+c+1]=k.index}var H=t(s,!1);if(h?H=H.filter(function(F){for(var B=0,U=0;U<=c;++U){var z=M[F[U]];if(z<0&&++B>=2)return!1;F[U]=z}return!0}):H=H.filter(function(F){for(var B=0;B<=c;++B){var U=M[F[B]];if(U<0)return!1;F[B]=U}return!0}),c&1)for(var x=0;x<H.length;++x){var k=H[x],_=k[0];k[0]=k[1],k[1]=_}return H}},2361:function(v){var g=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,g=!0,t[1]===1072693248){let n=function(l,y){return t[0]=l,t[1]=y,r[0]},f=function(l){return r[0]=l,t[0]},u=function(l){return r[0]=l,t[1]};v.exports=function(y){return r[0]=y,[t[0],t[1]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else if(t[0]===1072693248){let n=function(l,y){return t[1]=l,t[0]=y,r[0]},f=function(l){return r[0]=l,t[1]},u=function(l){return r[0]=l,t[0]};v.exports=function(y){return r[0]=y,[t[1],t[0]]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}else g=!1}if(!g){let n=function(l,y){return a.writeUInt32LE(l,0,!0),a.writeUInt32LE(y,4,!0),a.readDoubleLE(0,!0)},f=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(0,!0)},u=function(l){return a.writeDoubleLE(l,0,!0),a.readUInt32LE(4,!0)};var a=new Buffer(8);v.exports=function(y){return a.writeDoubleLE(y,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=f,v.exports.hi=u}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var f=v.exports.hi(n);return(f<<1>>>21)-1023},v.exports.fraction=function(n){var f=v.exports.lo(n),u=v.exports.hi(n),l=u&(1<<20)-1;return u&2146435072&&(l+=1048576),[f,l]},v.exports.denormalized=function(n){var f=v.exports.hi(n);return!(f&2146435072)}},1338:function(v){function g(a,n,f){var u=a[f]|0;if(u<=0)return[];var l=new Array(u),y;if(f===a.length-1)for(y=0;y<u;++y)l[y]=n;else for(y=0;y<u;++y)l[y]=g(a,n,f+1);return l}function r(a,n){var f,u;for(f=new Array(a),u=0;u<a;++u)f[u]=n;return f}function t(a,n){switch(typeof n>"u"&&(n=0),typeof a){case"number":if(a>0)return r(a|0,n);break;case"object":if(typeof a.length=="number")return g(a,n,0);break}return[]}v.exports=t},3134:function(v,g,r){v.exports=a;var t=r(1682);function a(n,f){var u=n.length;if(typeof f!="number"){f=0;for(var l=0;l<u;++l){var y=n[l];f=Math.max(f,y[0],y[1])}f=(f|0)+1}f=f|0;for(var h=new Array(f),l=0;l<f;++l)h[l]=[];for(var l=0;l<u;++l){var y=n[l];h[y[0]].push(y[1]),h[y[1]].push(y[0])}for(var T=0;T<f;++T)t(h[T],function(c,i){return c-i});return h}},5033:function(v){v.exports=g;function g(r,t,a){var n=t||0,f=a||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[n*r[12]+r[8],n*r[13]+r[9],n*r[14]+r[10],n*r[15]+r[11]],[f*r[12]-r[8],f*r[13]-r[9],f*r[14]-r[10],f*r[15]-r[11]]]}},9215:function(v,g,r){v.exports=y;var t=r(4769),a=r(2478);function n(h,T,c){return Math.min(T,Math.max(h,c))}function f(h,T,c){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var i=0;i<this.dimension;++i)this.bounds[0][i]=-1/0,this.bounds[1][i]=1/0;this._state=h.slice().reverse(),this._velocity=T.slice().reverse(),this._time=[c],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var u=f.prototype;u.flush=function(h){var T=a.gt(this._time,h)-1;T<=0||(this._time.splice(0,T),this._state.splice(0,T*this.dimension),this._velocity.splice(0,T*this.dimension))},u.curve=function(h){var T=this._time,c=T.length,i=a.le(T,h),d=this._scratch[0],x=this._state,w=this._velocity,_=this.dimension,m=this.bounds;if(i<0)for(var E=_-1,A=0;A<_;++A,--E)d[A]=x[E];else if(i>=c-1)for(var E=x.length-1,s=h-T[c-1],A=0;A<_;++A,--E)d[A]=x[E]+s*w[E];else{for(var E=_*(i+1)-1,M=T[i],b=T[i+1],N=b-M||1,k=this._scratch[1],H=this._scratch[2],F=this._scratch[3],B=this._scratch[4],U=!0,A=0;A<_;++A,--E)k[A]=x[E],F[A]=w[E]*N,H[A]=x[E+_],B[A]=w[E+_]*N,U=U&&k[A]===H[A]&&F[A]===B[A]&&F[A]===0;if(U)for(var A=0;A<_;++A)d[A]=k[A];else t(k,F,H,B,(h-M)/N,d)}for(var z=m[0],W=m[1],A=0;A<_;++A)d[A]=n(z[A],W[A],d[A]);return d},u.dcurve=function(h){var T=this._time,c=T.length,i=a.le(T,h),d=this._scratch[0],x=this._state,w=this._velocity,_=this.dimension;if(i>=c-1){var m=x.length-1;h-T[c-1];for(var E=0;E<_;++E,--m)d[E]=w[m]}else{for(var m=_*(i+1)-1,A=T[i],s=T[i+1],M=s-A||1,b=this._scratch[1],N=this._scratch[2],k=this._scratch[3],H=this._scratch[4],F=!0,E=0;E<_;++E,--m)b[E]=x[m],k[E]=w[m]*M,N[E]=x[m+_],H[E]=w[m+_]*M,F=F&&b[E]===N[E]&&k[E]===H[E]&&k[E]===0;if(F)for(var E=0;E<_;++E)d[E]=0;else{t.derivative(b,k,N,H,(h-A)/M,d);for(var E=0;E<_;++E)d[E]/=M}}return d},u.lastT=function(){var h=this._time;return h[h.length-1]},u.stable=function(){for(var h=this._velocity,T=h.length,c=this.dimension-1;c>=0;--c)if(h[--T])return!1;return!0},u.jump=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,w=this.bounds,_=w[0],m=w[1];this._time.push(T,h);for(var E=0;E<2;++E)for(var A=0;A<c;++A)i.push(i[x++]),d.push(0);this._time.push(h);for(var A=c;A>0;--A)i.push(n(_[A-1],m[A-1],arguments[A])),d.push(0)}},u.push=function(h){var T=this.lastT(),c=this.dimension;if(!(h<T||arguments.length!==c+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,w=h-T,_=this.bounds,m=_[0],E=_[1],A=w>1e-6?1/w:0;this._time.push(h);for(var s=c;s>0;--s){var M=n(m[s-1],E[s-1],arguments[s]);i.push(M),d.push((M-i[x++])*A)}}},u.set=function(h){var T=this.dimension;if(!(h<this.lastT()||arguments.length!==T+1)){var c=this._state,i=this._velocity,d=this.bounds,x=d[0],w=d[1];this._time.push(h);for(var _=T;_>0;--_)c.push(n(x[_-1],w[_-1],arguments[_])),i.push(0)}},u.move=function(h){var T=this.lastT(),c=this.dimension;if(!(h<=T||arguments.length!==c+1)){var i=this._state,d=this._velocity,x=i.length-this.dimension,w=this.bounds,_=w[0],m=w[1],E=h-T,A=E>1e-6?1/E:0;this._time.push(h);for(var s=c;s>0;--s){var M=arguments[s];i.push(n(_[s-1],m[s-1],i[x++]+M)),d.push(M*A)}}},u.idle=function(h){var T=this.lastT();if(!(h<T)){var c=this.dimension,i=this._state,d=this._velocity,x=i.length-c,w=this.bounds,_=w[0],m=w[1],E=h-T;this._time.push(h);for(var A=c-1;A>=0;--A)i.push(n(_[A],m[A],i[x]+E*d[x])),d.push(0),x+=1}};function l(h){for(var T=new Array(h),c=0;c<h;++c)T[c]=0;return T}function y(h,T,c){switch(arguments.length){case 0:return new f([0],[0],0);case 1:if(typeof h=="number"){var i=l(h);return new f(i,i,0)}else return new f(h,l(h.length),0);case 2:if(typeof T=="number"){var i=l(h.length);return new f(h,i,+T)}else c=0;case 3:if(h.length!==T.length)throw new Error("state and velocity lengths must match");return new f(h,T,c)}}},3840:function(v){v.exports=_;var g=0,r=1;function t(m,E,A,s,M,b){this._color=m,this.key=E,this.value=A,this.left=s,this.right=M,this._count=b}function a(m){return new t(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,E){return new t(m,E.key,E.value,E.left,E.right,E._count)}function f(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function u(m,E){this._compare=m,this.root=E}var l=u.prototype;Object.defineProperty(l,"keys",{get:function(){var m=[];return this.forEach(function(E,A){m.push(E)}),m}}),Object.defineProperty(l,"values",{get:function(){var m=[];return this.forEach(function(E,A){m.push(A)}),m}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(m,E){for(var A=this._compare,s=this.root,M=[],b=[];s;){var N=A(m,s.key);M.push(s),b.push(N),N<=0?s=s.left:s=s.right}M.push(new t(g,m,E,null,null,1));for(var k=M.length-2;k>=0;--k){var s=M[k];b[k]<=0?M[k]=new t(s._color,s.key,s.value,M[k+1],s.right,s._count+1):M[k]=new t(s._color,s.key,s.value,s.left,M[k+1],s._count+1)}for(var k=M.length-1;k>1;--k){var H=M[k-1],s=M[k];if(H._color===r||s._color===r)break;var F=M[k-2];if(F.left===H)if(H.left===s){var B=F.right;if(B&&B._color===g)H._color=r,F.right=n(r,B),F._color=g,k-=1;else{if(F._color=g,F.left=H.right,H._color=r,H.right=F,M[k-2]=H,M[k-1]=s,f(F),f(H),k>=3){var U=M[k-3];U.left===F?U.left=H:U.right=H}break}}else{var B=F.right;if(B&&B._color===g)H._color=r,F.right=n(r,B),F._color=g,k-=1;else{if(H.right=s.left,F._color=g,F.left=s.right,s._color=r,s.left=H,s.right=F,M[k-2]=s,M[k-1]=H,f(F),f(H),f(s),k>=3){var U=M[k-3];U.left===F?U.left=s:U.right=s}break}}else if(H.right===s){var B=F.left;if(B&&B._color===g)H._color=r,F.left=n(r,B),F._color=g,k-=1;else{if(F._color=g,F.right=H.left,H._color=r,H.left=F,M[k-2]=H,M[k-1]=s,f(F),f(H),k>=3){var U=M[k-3];U.right===F?U.right=H:U.left=H}break}}else{var B=F.left;if(B&&B._color===g)H._color=r,F.left=n(r,B),F._color=g,k-=1;else{if(H.left=s.right,F._color=g,F.right=s.left,s._color=r,s.right=H,s.left=F,M[k-2]=s,M[k-1]=H,f(F),f(H),f(s),k>=3){var U=M[k-3];U.right===F?U.right=s:U.left=s}break}}}return M[0]._color=r,new u(A,M[0])};function y(m,E){if(E.left){var A=y(m,E.left);if(A)return A}var A=m(E.key,E.value);if(A)return A;if(E.right)return y(m,E.right)}function h(m,E,A,s){var M=E(m,s.key);if(M<=0){if(s.left){var b=h(m,E,A,s.left);if(b)return b}var b=A(s.key,s.value);if(b)return b}if(s.right)return h(m,E,A,s.right)}function T(m,E,A,s,M){var b=A(m,M.key),N=A(E,M.key),k;if(b<=0&&(M.left&&(k=T(m,E,A,s,M.left),k)||N>0&&(k=s(M.key,M.value),k)))return k;if(N>0&&M.right)return T(m,E,A,s,M.right)}l.forEach=function(E,A,s){if(this.root)switch(arguments.length){case 1:return y(E,this.root);case 2:return h(A,this._compare,E,this.root);case 3:return this._compare(A,s)>=0?void 0:T(A,s,this._compare,E,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var m=[],E=this.root;E;)m.push(E),E=E.left;return new c(this,m)}}),Object.defineProperty(l,"end",{get:function(){for(var m=[],E=this.root;E;)m.push(E),E=E.right;return new c(this,m)}}),l.at=function(m){if(m<0)return new c(this,[]);for(var E=this.root,A=[];;){if(A.push(E),E.left){if(m<E.left._count){E=E.left;continue}m-=E.left._count}if(!m)return new c(this,A);if(m-=1,E.right){if(m>=E.right._count)break;E=E.right}else break}return new c(this,[])},l.ge=function(m){for(var E=this._compare,A=this.root,s=[],M=0;A;){var b=E(m,A.key);s.push(A),b<=0&&(M=s.length),b<=0?A=A.left:A=A.right}return s.length=M,new c(this,s)},l.gt=function(m){for(var E=this._compare,A=this.root,s=[],M=0;A;){var b=E(m,A.key);s.push(A),b<0&&(M=s.length),b<0?A=A.left:A=A.right}return s.length=M,new c(this,s)},l.lt=function(m){for(var E=this._compare,A=this.root,s=[],M=0;A;){var b=E(m,A.key);s.push(A),b>0&&(M=s.length),b<=0?A=A.left:A=A.right}return s.length=M,new c(this,s)},l.le=function(m){for(var E=this._compare,A=this.root,s=[],M=0;A;){var b=E(m,A.key);s.push(A),b>=0&&(M=s.length),b<0?A=A.left:A=A.right}return s.length=M,new c(this,s)},l.find=function(m){for(var E=this._compare,A=this.root,s=[];A;){var M=E(m,A.key);if(s.push(A),M===0)return new c(this,s);M<=0?A=A.left:A=A.right}return new c(this,[])},l.remove=function(m){var E=this.find(m);return E?E.remove():this},l.get=function(m){for(var E=this._compare,A=this.root;A;){var s=E(m,A.key);if(s===0)return A.value;s<=0?A=A.left:A=A.right}};function c(m,E){this.tree=m,this._stack=E}var i=c.prototype;Object.defineProperty(i,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(i,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),i.clone=function(){return new c(this.tree,this._stack.slice())};function d(m,E){m.key=E.key,m.value=E.value,m.left=E.left,m.right=E.right,m._color=E._color,m._count=E._count}function x(m){for(var E,A,s,M,b=m.length-1;b>=0;--b){if(E=m[b],b===0){E._color=r;return}if(A=m[b-1],A.left===E){if(s=A.right,s.right&&s.right._color===g){if(s=A.right=a(s),M=s.right=a(s.right),A.right=s.left,s.left=A,s.right=M,s._color=A._color,E._color=r,A._color=r,M._color=r,f(A),f(s),b>1){var N=m[b-2];N.left===A?N.left=s:N.right=s}m[b-1]=s;return}else if(s.left&&s.left._color===g){if(s=A.right=a(s),M=s.left=a(s.left),A.right=M.left,s.left=M.right,M.left=A,M.right=s,M._color=A._color,A._color=r,s._color=r,E._color=r,f(A),f(s),f(M),b>1){var N=m[b-2];N.left===A?N.left=M:N.right=M}m[b-1]=M;return}if(s._color===r)if(A._color===g){A._color=r,A.right=n(g,s);return}else{A.right=n(g,s);continue}else{if(s=a(s),A.right=s.left,s.left=A,s._color=A._color,A._color=g,f(A),f(s),b>1){var N=m[b-2];N.left===A?N.left=s:N.right=s}m[b-1]=s,m[b]=A,b+1<m.length?m[b+1]=E:m.push(E),b=b+2}}else{if(s=A.left,s.left&&s.left._color===g){if(s=A.left=a(s),M=s.left=a(s.left),A.left=s.right,s.right=A,s.left=M,s._color=A._color,E._color=r,A._color=r,M._color=r,f(A),f(s),b>1){var N=m[b-2];N.right===A?N.right=s:N.left=s}m[b-1]=s;return}else if(s.right&&s.right._color===g){if(s=A.left=a(s),M=s.right=a(s.right),A.left=M.right,s.right=M.left,M.right=A,M.left=s,M._color=A._color,A._color=r,s._color=r,E._color=r,f(A),f(s),f(M),b>1){var N=m[b-2];N.right===A?N.right=M:N.left=M}m[b-1]=M;return}if(s._color===r)if(A._color===g){A._color=r,A.left=n(g,s);return}else{A.left=n(g,s);continue}else{if(s=a(s),A.left=s.right,s.right=A,s._color=A._color,A._color=g,f(A),f(s),b>1){var N=m[b-2];N.right===A?N.right=s:N.left=s}m[b-1]=s,m[b]=A,b+1<m.length?m[b+1]=E:m.push(E),b=b+2}}}}i.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var E=new Array(m.length),A=m[m.length-1];E[E.length-1]=new t(A._color,A.key,A.value,A.left,A.right,A._count);for(var s=m.length-2;s>=0;--s){var A=m[s];A.left===m[s+1]?E[s]=new t(A._color,A.key,A.value,E[s+1],A.right,A._count):E[s]=new t(A._color,A.key,A.value,A.left,E[s+1],A._count)}if(A=E[E.length-1],A.left&&A.right){var M=E.length;for(A=A.left;A.right;)E.push(A),A=A.right;var b=E[M-1];E.push(new t(A._color,b.key,b.value,A.left,A.right,A._count)),E[M-1].key=A.key,E[M-1].value=A.value;for(var s=E.length-2;s>=M;--s)A=E[s],E[s]=new t(A._color,A.key,A.value,A.left,E[s+1],A._count);E[M-1].left=E[M]}if(A=E[E.length-1],A._color===g){var N=E[E.length-2];N.left===A?N.left=null:N.right===A&&(N.right=null),E.pop();for(var s=0;s<E.length;++s)E[s]._count--;return new u(this.tree._compare,E[0])}else if(A.left||A.right){A.left?d(A,A.left):A.right&&d(A,A.right),A._color=r;for(var s=0;s<E.length-1;++s)E[s]._count--;return new u(this.tree._compare,E[0])}else{if(E.length===1)return new u(this.tree._compare,null);for(var s=0;s<E.length;++s)E[s]._count--;var k=E[E.length-2];x(E),k.left===A?k.left=null:k.right=null}return new u(this.tree._compare,E[0])},Object.defineProperty(i,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(i,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(i,"index",{get:function(){var m=0,E=this._stack;if(E.length===0){var A=this.tree.root;return A?A._count:0}else E[E.length-1].left&&(m=E[E.length-1].left._count);for(var s=E.length-2;s>=0;--s)E[s+1]===E[s].right&&(++m,E[s].left&&(m+=E[s].left._count));return m},enumerable:!0}),i.next=function(){var m=this._stack;if(m.length!==0){var E=m[m.length-1];if(E.right)for(E=E.right;E;)m.push(E),E=E.left;else for(m.pop();m.length>0&&m[m.length-1].right===E;)E=m[m.length-1],m.pop()}},Object.defineProperty(i,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var E=m.length-1;E>0;--E)if(m[E-1].left===m[E])return!0;return!1}}),i.update=function(m){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var A=new Array(E.length),s=E[E.length-1];A[A.length-1]=new t(s._color,s.key,m,s.left,s.right,s._count);for(var M=E.length-2;M>=0;--M)s=E[M],s.left===E[M+1]?A[M]=new t(s._color,s.key,s.value,A[M+1],s.right,s._count):A[M]=new t(s._color,s.key,s.value,s.left,A[M+1],s._count);return new u(this.tree._compare,A[0])},i.prev=function(){var m=this._stack;if(m.length!==0){var E=m[m.length-1];if(E.left)for(E=E.left;E;)m.push(E),E=E.right;else for(m.pop();m.length>0&&m[m.length-1].left===E;)E=m[m.length-1],m.pop()}},Object.defineProperty(i,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var E=m.length-1;E>0;--E)if(m[E-1].right===m[E])return!0;return!1}});function w(m,E){return m<E?-1:m>E?1:0}function _(m){return new u(m||w,null)}},3837:function(v,g,r){v.exports=k;var t=r(4935),a=r(501),n=r(5304),f=r(6429),u=r(6444),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),y=ArrayBuffer,h=DataView;function T(H){return y.isView(H)&&!(H instanceof h)}function c(H){return Array.isArray(H)||T(H)}function i(H,F){return H[0]=F[0],H[1]=F[1],H[2]=F[2],H}function d(H){this.gl=H,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickFontStyle=["normal","normal","normal"],this.tickFontWeight=["normal","normal","normal"],this.tickFontVariant=["normal","normal","normal"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["sans-serif","sans-serif","sans-serif"],this.labelFontStyle=["normal","normal","normal"],this.labelFontWeight=["normal","normal","normal"],this.labelFontVariant=["normal","normal","normal"],this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(H)}var x=d.prototype;x.update=function(H){H=H||{};function F(te,ue,J){if(J in H){var K=H[J],ce=this[J],ae;(te?c(K)&&c(K[0]):c(K))?this[J]=ae=[ue(K[0]),ue(K[1]),ue(K[2])]:this[J]=ae=[ue(K),ue(K),ue(K)];for(var de=0;de<3;++de)if(ae[de]!==ce[de])return!0}return!1}var B=F.bind(this,!1,Number),U=F.bind(this,!1,Boolean),z=F.bind(this,!1,String),W=F.bind(this,!0,function(te){if(c(te)){if(te.length===3)return[+te[0],+te[1],+te[2],1];if(te.length===4)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),j,ee=!1,ie=!1;if("bounds"in H)for(var oe=H.bounds,he=0;he<2;++he)for(var ne=0;ne<3;++ne)oe[he][ne]!==this.bounds[he][ne]&&(ie=!0),this.bounds[he][ne]=oe[he][ne];if("ticks"in H){j=H.ticks,ee=!0,this.autoTicks=!1;for(var he=0;he<3;++he)this.tickSpacing[he]=0}else B("tickSpacing")&&(this.autoTicks=!0,ie=!0);if(this._firstInit&&("ticks"in H||"tickSpacing"in H||(this.autoTicks=!0),ie=!0,ee=!0,this._firstInit=!1),ie&&this.autoTicks&&(j=u.create(this.bounds,this.tickSpacing),ee=!0),ee){for(var he=0;he<3;++he)j[he].sort(function(ue,J){return ue.x-J.x});u.equal(j,this.ticks)?ee=!1:this.ticks=j}U("tickEnable"),z("tickFont")&&(ee=!0),z("tickFontStyle")&&(ee=!0),z("tickFontWeight")&&(ee=!0),z("tickFontVariant")&&(ee=!0),B("tickSize"),B("tickAngle"),B("tickPad"),W("tickColor");var q=z("labels");z("labelFont")&&(q=!0),z("labelFontStyle")&&(q=!0),z("labelFontWeight")&&(q=!0),z("labelFontVariant")&&(q=!0),U("labelEnable"),B("labelSize"),B("labelPad"),W("labelColor"),U("lineEnable"),U("lineMirror"),B("lineWidth"),W("lineColor"),U("lineTickEnable"),U("lineTickMirror"),B("lineTickLength"),B("lineTickWidth"),W("lineTickColor"),U("gridEnable"),B("gridWidth"),W("gridColor"),U("zeroEnable"),W("zeroLineColor"),B("zeroLineWidth"),U("backgroundEnable"),W("backgroundColor");var le=[{family:this.labelFont[0],style:this.labelFontStyle[0],weight:this.labelFontWeight[0],variant:this.labelFontVariant[0]},{family:this.labelFont[1],style:this.labelFontStyle[1],weight:this.labelFontWeight[1],variant:this.labelFontVariant[1]},{family:this.labelFont[2],style:this.labelFontStyle[2],weight:this.labelFontWeight[2],variant:this.labelFontVariant[2]}],Q=[{family:this.tickFont[0],style:this.tickFontStyle[0],weight:this.tickFontWeight[0],variant:this.tickFontVariant[0]},{family:this.tickFont[1],style:this.tickFontStyle[1],weight:this.tickFontWeight[1],variant:this.tickFontVariant[1]},{family:this.tickFont[2],style:this.tickFontStyle[2],weight:this.tickFontWeight[2],variant:this.tickFontVariant[2]}];this._text?this._text&&(q||ee)&&this._text.update(this.bounds,this.labels,le,this.ticks,Q):this._text=t(this.gl,this.bounds,this.labels,le,this.ticks,Q),this._lines&&ee&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=a(this.gl,this.bounds,this.ticks))};function w(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var _=[new w,new w,new w];function m(H,F,B,U,z){for(var W=H.primalOffset,j=H.primalMinor,ee=H.mirrorOffset,ie=H.mirrorMinor,oe=U[F],he=0;he<3;++he)if(F!==he){var ne=W,q=ee,le=j,Q=ie;oe&1<<he&&(ne=ee,q=W,le=ie,Q=j),ne[he]=B[0][he],q[he]=B[1][he],z[he]>0?(le[he]=-1,Q[he]=0):(le[he]=0,Q[he]=1)}}var E=[0,0,0],A={model:l,view:l,projection:l,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(H){};var s=0,M=[0,0,0],b=[0,0,0],N=[0,0,0];x.draw=function(H){H=H||A;for(var J=this.gl,F=H.model||l,B=H.view||l,U=H.projection||l,z=this.bounds,W=H._ortho||!1,j=f(F,B,U,z,W),ee=j.cubeEdges,ie=j.axis,oe=B[12],he=B[13],ne=B[14],q=B[15],le=W?2:1,Q=le*this.pixelRatio*(U[3]*oe+U[7]*he+U[11]*ne+U[15]*q)/J.drawingBufferHeight,te=0;te<3;++te)this.lastCubeProps.cubeEdges[te]=ee[te],this.lastCubeProps.axis[te]=ie[te];for(var ue=_,te=0;te<3;++te)m(_[te],te,this.bounds,ee,ie);for(var J=this.gl,K=E,te=0;te<3;++te)this.backgroundEnable[te]?K[te]=ie[te]:K[te]=0;this._background.draw(F,B,U,z,K,this.backgroundColor),this._lines.bind(F,B,U,this);for(var te=0;te<3;++te){var ce=[0,0,0];ie[te]>0?ce[te]=z[1][te]:ce[te]=z[0][te];for(var ae=0;ae<2;++ae){var de=(te+1+ae)%3,be=(te+1+(ae^1))%3;this.gridEnable[de]&&this._lines.drawGrid(de,be,this.bounds,ce,this.gridColor[de],this.gridWidth[de]*this.pixelRatio)}for(var ae=0;ae<2;++ae){var de=(te+1+ae)%3,be=(te+1+(ae^1))%3;this.zeroEnable[be]&&Math.min(z[0][be],z[1][be])<=0&&Math.max(z[0][be],z[1][be])>=0&&this._lines.drawZero(de,be,this.bounds,ce,this.zeroLineColor[be],this.zeroLineWidth[be]*this.pixelRatio)}}for(var te=0;te<3;++te){this.lineEnable[te]&&this._lines.drawAxisLine(te,this.bounds,ue[te].primalOffset,this.lineColor[te],this.lineWidth[te]*this.pixelRatio),this.lineMirror[te]&&this._lines.drawAxisLine(te,this.bounds,ue[te].mirrorOffset,this.lineColor[te],this.lineWidth[te]*this.pixelRatio);for(var Se=i(M,ue[te].primalMinor),Te=i(b,ue[te].mirrorMinor),Ie=this.lineTickLength,ae=0;ae<3;++ae){var ke=Q/F[5*ae];Se[ae]*=Ie[ae]*ke,Te[ae]*=Ie[ae]*ke}this.lineTickEnable[te]&&this._lines.drawAxisTicks(te,ue[te].primalOffset,Se,this.lineTickColor[te],this.lineTickWidth[te]*this.pixelRatio),this.lineTickMirror[te]&&this._lines.drawAxisTicks(te,ue[te].mirrorOffset,Te,this.lineTickColor[te],this.lineTickWidth[te]*this.pixelRatio)}this._lines.unbind(),this._text.bind(F,B,U,this.pixelRatio);var Be,Me=.5,Oe,_e;function Ne(qe){_e=[0,0,0],_e[qe]=1}function Ce(qe,ht,vt){var pt=(qe+1)%3,wt=(qe+2)%3,Mt=ht[pt],nt=ht[wt],Fe=vt[pt],We=vt[wt];if(Mt>0&&We>0){Ne(pt);return}else if(Mt>0&&We<0){Ne(pt);return}else if(Mt<0&&We>0){Ne(pt);return}else if(Mt<0&&We<0){Ne(pt);return}else if(nt>0&&Fe>0){Ne(wt);return}else if(nt>0&&Fe<0){Ne(wt);return}else if(nt<0&&Fe>0){Ne(wt);return}else if(nt<0&&Fe<0){Ne(wt);return}}for(var te=0;te<3;++te){for(var Ye=ue[te].primalMinor,rt=ue[te].mirrorMinor,ot=i(N,ue[te].primalOffset),ae=0;ae<3;++ae)this.lineTickEnable[te]&&(ot[ae]+=Q*Ye[ae]*Math.max(this.lineTickLength[ae],0)/F[5*ae]);var $e=[0,0,0];if($e[te]=1,this.tickEnable[te]){this.tickAngle[te]===-3600?(this.tickAngle[te]=0,this.tickAlign[te]="auto"):this.tickAlign[te]=-1,Oe=1,Be=[this.tickAlign[te],Me,Oe],Be[0]==="auto"?Be[0]=s:Be[0]=parseInt(""+Be[0]),_e=[0,0,0],Ce(te,Ye,rt);for(var ae=0;ae<3;++ae)ot[ae]+=Q*Ye[ae]*this.tickPad[ae]/F[5*ae];this._text.drawTicks(te,this.tickSize[te],this.tickAngle[te],ot,this.tickColor[te],$e,_e,Be)}if(this.labelEnable[te]){Oe=0,_e=[0,0,0],this.labels[te].length>4&&(Ne(te),Oe=1),Be=[this.labelAlign[te],Me,Oe],Be[0]==="auto"?Be[0]=s:Be[0]=parseInt(""+Be[0]);for(var ae=0;ae<3;++ae)ot[ae]+=Q*Ye[ae]*this.labelPad[ae]/F[5*ae];ot[te]+=.5*(z[0][te]+z[1][te]),this._text.drawLabel(te,this.labelSize[te],this.labelAngle[te],ot,this.labelColor[te],[0,0,0],_e,Be)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function k(H,F){var B=new d(H);return B.update(F),B}},5304:function(v,g,r){v.exports=l;var t=r(2762),a=r(8116),n=r(1879).bg;function f(y,h,T,c){this.gl=y,this.buffer=h,this.vao=T,this.shader=c}var u=f.prototype;u.draw=function(y,h,T,c,i,d){for(var x=!1,w=0;w<3;++w)x=x||i[w];if(x){var _=this.gl;_.enable(_.POLYGON_OFFSET_FILL),_.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:h,projection:T,bounds:c,enable:i,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),_.disable(_.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function l(y){for(var h=[],T=[],c=0,i=0;i<3;++i)for(var d=(i+1)%3,x=(i+2)%3,w=[0,0,0],_=[0,0,0],m=-1;m<=1;m+=2){T.push(c,c+2,c+1,c+1,c+2,c+3),w[i]=m,_[i]=m;for(var E=-1;E<=1;E+=2){w[d]=E;for(var A=-1;A<=1;A+=2)w[x]=A,h.push(w[0],w[1],w[2],_[0],_[1],_[2]),c+=1}var s=d;d=x,x=s}var M=t(y,new Float32Array(h)),b=t(y,new Uint16Array(T),y.ELEMENT_ARRAY_BUFFER),N=a(y,[{buffer:M,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:M,type:y.FLOAT,size:3,offset:12,stride:24}],b),k=n(y);return k.attributes.position.location=0,k.attributes.normal.location=1,new f(y,M,N,k)}},6429:function(v,g,r){v.exports=m;var t=r(8828),a=r(6760),n=r(5202),f=r(3250),u=new Array(16),l=new Array(8),y=new Array(8),h=new Array(3),T=[0,0,0];(function(){for(var E=0;E<8;++E)l[E]=[1,1,1,1],y[E]=[1,1,1]})();function c(E,A,s){for(var M=0;M<4;++M){E[M]=s[12+M];for(var b=0;b<3;++b)E[M]+=A[b]*s[4*b+M]}}var i=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(E){for(var A=0;A<i.length;++A)if(E=n.positive(E,i[A]),E.length<3)return 0;for(var s=E[0],M=s[0]/s[3],b=s[1]/s[3],N=0,A=1;A+1<E.length;++A){var k=E[A],H=E[A+1],F=k[0]/k[3],B=k[1]/k[3],U=H[0]/H[3],z=H[1]/H[3],W=F-M,j=B-b,ee=U-M,ie=z-b;N+=Math.abs(W*ie-j*ee)}return N}var x=[1,1,1],w=[0,0,0],_={cubeEdges:x,axis:w};function m(E,A,s,M,b){a(u,A,E),a(u,s,u);for(var N=0,k=0;k<2;++k){h[2]=M[k][2];for(var H=0;H<2;++H){h[1]=M[H][1];for(var F=0;F<2;++F)h[0]=M[F][0],c(l[N],h,u),N+=1}}for(var B=-1,k=0;k<8;++k){for(var U=l[k][3],z=0;z<3;++z)y[k][z]=l[k][z]/U;b&&(y[k][2]*=-1),U<0&&(B<0||y[k][2]<y[B][2])&&(B=k)}if(B<0){B=0;for(var W=0;W<3;++W){for(var j=(W+2)%3,ee=(W+1)%3,ie=-1,oe=-1,he=0;he<2;++he){var ne=he<<W,q=ne+(he<<j)+(1-he<<ee),le=ne+(1-he<<j)+(he<<ee);f(y[ne],y[q],y[le],T)<0||(he?ie=1:oe=1)}if(ie<0||oe<0){oe>ie&&(B|=1<<W);continue}for(var he=0;he<2;++he){var ne=he<<W,q=ne+(he<<j)+(1-he<<ee),le=ne+(1-he<<j)+(he<<ee),Q=d([l[ne],l[q],l[le],l[ne+(1<<j)+(1<<ee)]]);he?ie=Q:oe=Q}if(oe>ie){B|=1<<W;continue}}}for(var te=7^B,ue=-1,k=0;k<8;++k)k===B||k===te||(ue<0||y[ue][1]>y[k][1])&&(ue=k);for(var J=-1,k=0;k<3;++k){var K=ue^1<<k;if(!(K===B||K===te)){J<0&&(J=K);var ee=y[K];ee[0]<y[J][0]&&(J=K)}}for(var ce=-1,k=0;k<3;++k){var K=ue^1<<k;if(!(K===B||K===te||K===J)){ce<0&&(ce=K);var ee=y[K];ee[0]>y[ce][0]&&(ce=K)}}var ae=x;ae[0]=ae[1]=ae[2]=0,ae[t.log2(J^ue)]=ue&J,ae[t.log2(ue^ce)]=ue&ce;var de=ce^7;de===B||de===te?(de=J^7,ae[t.log2(ce^de)]=de&ce):ae[t.log2(J^de)]=de&J;for(var be=w,Se=B,W=0;W<3;++W)Se&1<<W?be[W]=-1:be[W]=1;return _}},501:function(v,g,r){v.exports=x;var t=r(2762),a=r(8116),n=r(1879).n,f=[0,0,0],u=[0,0,0],l=[0,0,0],y=[0,0,0],h=[1,1];function T(w){return w[0]=w[1]=w[2]=0,w}function c(w,_){return w[0]=_[0],w[1]=_[1],w[2]=_[2],w}function i(w,_,m,E,A,s,M,b){this.gl=w,this.vertBuffer=_,this.vao=m,this.shader=E,this.tickCount=A,this.tickOffset=s,this.gridCount=M,this.gridOffset=b}var d=i.prototype;d.bind=function(w,_,m){this.shader.bind(),this.shader.uniforms.model=w,this.shader.uniforms.view=_,this.shader.uniforms.projection=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(w,_,m,E,A){var s=T(u);this.shader.uniforms.majorAxis=u,s[w]=_[1][w]-_[0][w],this.shader.uniforms.minorAxis=s;var M=c(y,m);M[w]+=_[0][w],this.shader.uniforms.offset=M,this.shader.uniforms.lineWidth=A,this.shader.uniforms.color=E;var b=T(l);b[(w+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=T(l);b[(w+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(w,_,m,E,A){if(this.tickCount[w]){var s=T(f);s[w]=1,this.shader.uniforms.majorAxis=s,this.shader.uniforms.offset=_,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=A;var M=T(l);M[w]=1,this.shader.uniforms.screenAxis=M,this.vao.draw(this.gl.TRIANGLES,this.tickCount[w],this.tickOffset[w])}},d.drawGrid=function(w,_,m,E,A,s){if(this.gridCount[w]){var M=T(u);M[_]=m[1][_]-m[0][_],this.shader.uniforms.minorAxis=M;var b=c(y,E);b[_]+=m[0][_],this.shader.uniforms.offset=b;var N=T(f);N[w]=1,this.shader.uniforms.majorAxis=N;var k=T(l);k[w]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,this.gridCount[w],this.gridOffset[w])}},d.drawZero=function(w,_,m,E,A,s){var M=T(u);this.shader.uniforms.majorAxis=M,M[w]=m[1][w]-m[0][w],this.shader.uniforms.minorAxis=M;var b=c(y,E);b[w]+=m[0][w],this.shader.uniforms.offset=b;var N=T(l);N[_]=1,this.shader.uniforms.screenAxis=N,this.shader.uniforms.lineWidth=s,this.shader.uniforms.color=A,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function x(w,_,m){var E=[],A=[0,0,0],s=[0,0,0],M=[0,0,0],b=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var N=0;N<3;++N){for(var F=E.length/3|0,k=0;k<m[N].length;++k){var H=+m[N][k].x;E.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var U=E.length/3|0;A[N]=F,s[N]=U-F;for(var F=E.length/3|0,B=0;B<m[N].length;++B){var H=+m[N][B].x;E.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var U=E.length/3|0;M[N]=F,b[N]=U-F}var z=t(w,new Float32Array(E)),W=a(w,[{buffer:z,type:w.FLOAT,size:3,stride:0,offset:0}]),j=n(w);return j.attributes.position.location=0,new i(w,z,W,j,s,A,b,M)}},1879:function(v,g,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.n=function(T){return a(T,n,f,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * (view * (model * vec4(p, 1.0)));
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}
`]),l=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.Q=function(T){return a(T,u,l,null,[{name:"position",type:"vec3"}])};var y=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * (view * (model * vec4(nPosition, 1.0)));
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);g.bg=function(T){return a(T,y,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},4935:function(v,g,r){v.exports=d;var t=r(2762),a=r(8116),n=r(4359),f=r(1879).Q,u=window||p.global||{},l=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var y=3;function h(x,w,_,m){this.gl=x,this.shader=w,this.buffer=_,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var T=h.prototype,c=[0,0];T.bind=function(x,w,_,m){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=x,E.view=w,E.projection=_,E.pixelScale=m,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=c},T.unbind=function(){this.vao.unbind()},T.update=function(x,w,_,m,E){var A=[];function s(W,j,ee,ie,oe,he){var ne=[ee.style,ee.weight,ee.variant,ee.family].join("_"),q=l[ne];q||(q=l[ne]={});var le=q[j];le||(le=q[j]=i(j,{triangles:!0,font:ee.family,fontStyle:ee.style,fontWeight:ee.weight,fontVariant:ee.variant,textAlign:"center",textBaseline:"middle",lineSpacing:oe,styletags:he}));for(var Q=(ie||12)/12,te=le.positions,ue=le.cells,J=0,K=ue.length;J<K;++J)for(var ce=ue[J],ae=2;ae>=0;--ae){var de=te[ce[ae]];A.push(Q*de[0],-Q*de[1],W)}}for(var M=[0,0,0],b=[0,0,0],N=[0,0,0],k=[0,0,0],H=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},B=0;B<3;++B){N[B]=A.length/y|0,s(.5*(x[0][B]+x[1][B]),w[B],_[B],12,H,F),k[B]=(A.length/y|0)-N[B],M[B]=A.length/y|0;for(var U=0;U<m[B].length;++U)if(m[B][U].text){var z={family:m[B][U].font||E[B].family,style:E[B].fontStyle||E[B].style,weight:E[B].fontWeight||E[B].weight,variant:E[B].fontVariant||E[B].variant};s(m[B][U].x,m[B][U].text,z,m[B][U].fontSize||12,H,F)}b[B]=(A.length/y|0)-M[B]}this.buffer.update(A),this.tickOffset=M,this.tickCount=b,this.labelOffset=N,this.labelCount=k},T.drawTicks=function(x,w,_,m,E,A,s,M){this.tickCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=E,this.shader.uniforms.angle=_,this.shader.uniforms.scale=w,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=M,this.vao.draw(this.gl.TRIANGLES,this.tickCount[x],this.tickOffset[x]))},T.drawLabel=function(x,w,_,m,E,A,s,M){this.labelCount[x]&&(this.shader.uniforms.axis=A,this.shader.uniforms.color=E,this.shader.uniforms.angle=_,this.shader.uniforms.scale=w,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=s,this.shader.uniforms.alignOpt=M,this.vao.draw(this.gl.TRIANGLES,this.labelCount[x],this.labelOffset[x]))},T.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function i(x,w){try{return n(x,w)}catch(_){return console.warn('error vectorizing text:"'+x+'" error:',_),{cells:[],positions:[]}}}function d(x,w,_,m,E,A){var s=t(x),M=a(x,[{buffer:s,size:3}]),b=f(x);b.attributes.position.location=0;var N=new h(x,b,s,M);return N.update(w,_,m,E,A),N}},6444:function(v,g){g.create=t,g.equal=a;function r(n,f){var u=n+"",l=u.indexOf("."),y=0;l>=0&&(y=u.length-l-1);var h=Math.pow(10,y),T=Math.round(n*f*h),c=T+"";if(c.indexOf("e")>=0)return c;var i=T/h,d=T%h;T<0?(i=-Math.ceil(i)|0,d=-d|0):(i=Math.floor(i)|0,d=d|0);var x=""+i;if(T<0&&(x="-"+x),y){for(var w=""+d;w.length<y;)w="0"+w;return x+"."+w}else return x}function t(n,f){for(var u=[],l=0;l<3;++l){var y=[];.5*(n[0][l]+n[1][l]);for(var h=0;h*f[l]<=n[1][l];++h)y.push({x:h*f[l],text:r(f[l],h)});for(var h=-1;h*f[l]>=n[0][l];--h)y.push({x:h*f[l],text:r(f[l],h)});u.push(y)}return u}function a(n,f){for(var u=0;u<3;++u){if(n[u].length!==f[u].length)return!1;for(var l=0;l<n[u].length;++l){var y=n[u][l],h=f[u][l];if(y.x!==h.x||y.text!==h.text||y.font!==h.font||y.fontColor!==h.fontColor||y.fontSize!==h.fontSize||y.dx!==h.dx||y.dy!==h.dy)return!1}}return!0}},5445:function(v,g,r){v.exports=_;var t=r(5033),a=r(5202),n=r(6429),f=r(6760),u=r(5665),l=r(5352),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function T(m,E,A){this.lo=m,this.hi=E,this.pixelsPerDataUnit=A}var c=[0,0,0,1],i=[0,0,0,1];function d(m,E,A,s,M){for(var b=0;b<3;++b){for(var N=c,k=i,H=0;H<3;++H)k[H]=N[H]=A[H];k[3]=N[3]=1,k[b]+=1,l(k,k,E),k[3]<0&&(m[b]=1/0),N[b]-=1,l(N,N,E),N[3]<0&&(m[b]=1/0);var F=(N[0]/N[3]-k[0]/k[3])*s,B=(N[1]/N[3]-k[1]/k[3])*M;m[b]=.25*Math.sqrt(F*F+B*B)}return m}var x=[new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0),new T(1/0,-1/0,1/0)],w=[0,0,0];function _(m,E,A,s,B){var b=E.model||y,N=E.view||y,k=E.projection||y,H=E._ortho||!1,F=m.bounds,B=B||n(b,N,k,F,H),U=B.axis;f(h,N,b),f(h,k,h);for(var z=x,W=0;W<3;++W)z[W].lo=1/0,z[W].hi=-1/0,z[W].pixelsPerDataUnit=1/0;var j=t(u(h,h));u(h,h);for(var ee=0;ee<3;++ee){var ie=(ee+1)%3,oe=(ee+2)%3,he=w;e:for(var W=0;W<2;++W){var ne=[];if(U[ee]<0!=!!W){he[ee]=F[W][ee];for(var q=0;q<2;++q){he[ie]=F[q^W][ie];for(var le=0;le<2;++le)he[oe]=F[le^q^W][oe],ne.push(he.slice())}for(var Q=H?5:4,q=Q;q===Q;++q){if(ne.length===0)continue e;ne=a.positive(ne,j[q])}for(var q=0;q<ne.length;++q)for(var oe=ne[q],te=d(w,h,oe,A,s),le=0;le<3;++le)z[le].lo=Math.min(z[le].lo,oe[le]),z[le].hi=Math.max(z[le].hi,oe[le]),le!==ee&&(z[le].pixelsPerDataUnit=Math.min(z[le].pixelsPerDataUnit,Math.abs(te[le])))}}}return z}},2762:function(v,g,r){var t=r(1888),a=r(5298),n=r(9618),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(i,d,x,w,_){this.gl=i,this.type=d,this.handle=x,this.length=w,this.usage=_}var l=u.prototype;l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(i,d,x,w,_,m){var E=_.length*_.BYTES_PER_ELEMENT;if(m<0)return i.bufferData(d,_,w),E;if(E+m>x)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return i.bufferSubData(d,m,_),x}function h(i,d){for(var x=t.malloc(i.length,d),w=i.length,_=0;_<w;++_)x[_]=i[_];return x}function T(i,d){for(var x=1,w=d.length-1;w>=0;--w){if(d[w]!==x)return!1;x*=i[w]}return!0}l.update=function(i,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof i=="object"&&typeof i.shape<"u"){var x=i.dtype;if(f.indexOf(x)<0&&(x="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var w=gl.getExtension("OES_element_index_uint");w&&x!=="uint16"?x="uint32":x="uint16"}if(x===i.dtype&&T(i.shape,i.stride))i.offset===0&&i.data.length===i.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,i.data,d):this.length=y(this.gl,this.type,this.length,this.usage,i.data.subarray(i.offset,i.shape[0]),d);else{var _=t.malloc(i.size,x),m=n(_,i.shape);a.assign(m,i),d<0?this.length=y(this.gl,this.type,this.length,this.usage,_,d):this.length=y(this.gl,this.type,this.length,this.usage,_.subarray(0,i.size),d),t.free(_)}}else if(Array.isArray(i)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=h(i,"uint16"):E=h(i,"float32"),d<0?this.length=y(this.gl,this.type,this.length,this.usage,E,d):this.length=y(this.gl,this.type,this.length,this.usage,E.subarray(0,i.length),d),t.free(E)}else if(typeof i=="object"&&typeof i.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,i,d);else if(typeof i=="number"||i===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");i=i|0,i<=0&&(i=1),this.gl.bufferData(this.type,i|0,this.usage),this.length=i}else throw new Error("gl-buffer: Invalid data type")};function c(i,d,x,w){if(x=x||i.ARRAY_BUFFER,w=w||i.DYNAMIC_DRAW,x!==i.ARRAY_BUFFER&&x!==i.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(w!==i.DYNAMIC_DRAW&&w!==i.STATIC_DRAW&&w!==i.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var _=i.createBuffer(),m=new u(i,x,_,0,w);return m.update(d),m}v.exports=c},6405:function(v,g,r){var t=r(2931);v.exports=function(n,f){var u=n.positions,l=n.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return f&&(f[0]=[0,0,0],f[1]=[0,0,0]),y;for(var h=0,T=1/0,c=-1/0,i=1/0,d=-1/0,x=1/0,w=-1/0,_=null,m=null,E=[],A=1/0,s=!1,M=n.coneSizemode==="raw",b=0;b<u.length;b++){var N=u[b];T=Math.min(N[0],T),c=Math.max(N[0],c),i=Math.min(N[1],i),d=Math.max(N[1],d),x=Math.min(N[2],x),w=Math.max(N[2],w);var k=l[b];if(t.length(k)>h&&(h=t.length(k)),b&&!M){var H=2*t.distance(_,N)/(t.length(m)+t.length(k));H?(A=Math.min(A,H),s=!1):s=!0}s||(_=N,m=k),E.push(k)}var F=[T,i,x],B=[c,d,w];f&&(f[0]=F,f[1]=B),h===0&&(h=1);var U=1/h;isFinite(A)||(A=1),y.vectorScale=A;var z=n.coneSize||(M?1:.5);n.absoluteConeSize&&(z=n.absoluteConeSize*U),y.coneScale=z;for(var b=0,W=0;b<u.length;b++)for(var N=u[b],j=N[0],ee=N[1],ie=N[2],oe=E[b],he=t.length(oe)*U,ne=0,q=8;ne<q;ne++){y.positions.push([j,ee,ie,W++]),y.positions.push([j,ee,ie,W++]),y.positions.push([j,ee,ie,W++]),y.positions.push([j,ee,ie,W++]),y.positions.push([j,ee,ie,W++]),y.positions.push([j,ee,ie,W++]),y.vectors.push(oe),y.vectors.push(oe),y.vectors.push(oe),y.vectors.push(oe),y.vectors.push(oe),y.vectors.push(oe),y.vertexIntensity.push(he,he,he),y.vertexIntensity.push(he,he,he);var le=y.positions.length;y.cells.push([le-6,le-5,le-4],[le-3,le-2,le-1])}return y};var a=r(614);v.exports.createMesh=r(9060),v.exports.createConeMesh=function(n,f){return v.exports.createMesh(n,f,{shaders:a,traceType:"cone"})}},9060:function(v,g,r){var t=r(9405),a=r(2762),n=r(8116),f=r(7766),u=r(6760),l=r(7608),y=r(9618),h=r(6729),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(E,A,s,M,b,N,k,H,F,B,U){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=A,this.dirty=!0,this.triShader=s,this.pickShader=M,this.trianglePositions=b,this.triangleVectors=N,this.triangleColors=H,this.triangleUVs=F,this.triangleIds=k,this.triangleVAO=B,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=U,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=T,this._view=T,this._projection=T,this._resolution=[1,1]}var i=c.prototype;i.isOpaque=function(){return this.opacity>=1},i.isTransparent=function(){return this.opacity<1},i.pickSlots=1,i.setPickBase=function(E){this.pickId=E};function d(E){for(var A=h({colormap:E,nshades:256,format:"rgba"}),s=new Uint8Array(256*4),M=0;M<256;++M){for(var b=A[M],N=0;N<3;++N)s[4*M+N]=b[N];s[4*M+3]=b[3]*255}return y(s,[256,256,4],[4,0,1])}function x(E){for(var A=E.length,s=new Array(A),M=0;M<A;++M)s[M]=E[M][2];return s}i.update=function(E){E=E||{};var A=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=A.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=A.LINEAR,this.texture.setPixels(d(E.colormap)),this.texture.generateMipmap());var s=E.cells,M=E.positions,b=E.vectors;if(!(!M||!s||!b)){var N=[],k=[],H=[],F=[],B=[];this.cells=s,this.positions=M,this.vectors=b;var U=E.meshColor||[1,1,1,1],z=E.vertexIntensity,W=1/0,j=-1/0;if(z)if(E.vertexIntensityBounds)W=+E.vertexIntensityBounds[0],j=+E.vertexIntensityBounds[1];else for(var ee=0;ee<z.length;++ee){var ie=z[ee];W=Math.min(W,ie),j=Math.max(j,ie)}else for(var ee=0;ee<M.length;++ee){var ie=M[ee][2];W=Math.min(W,ie),j=Math.max(j,ie)}z?this.intensity=z:this.intensity=x(M),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var ee=0;ee<M.length;++ee)for(var oe=M[ee],he=0;he<3;++he)isNaN(oe[he])||!isFinite(oe[he])||(this.bounds[0][he]=Math.min(this.bounds[0][he],oe[he]),this.bounds[1][he]=Math.max(this.bounds[1][he],oe[he]));var ne=0;e:for(var ee=0;ee<s.length;++ee){var q=s[ee];switch(q.length){case 3:for(var he=0;he<3;++he)for(var le=q[he],oe=M[le],Q=0;Q<3;++Q)if(isNaN(oe[Q])||!isFinite(oe[Q]))continue e;for(var he=0;he<3;++he){var le=q[2-he],oe=M[le];N.push(oe[0],oe[1],oe[2],oe[3]);var te=b[le];k.push(te[0],te[1],te[2],te[3]||0);var ue=U;ue.length===3?H.push(ue[0],ue[1],ue[2],1):H.push(ue[0],ue[1],ue[2],ue[3]);var J;z?J=[(z[le]-W)/(j-W),0]:J=[(oe[2]-W)/(j-W),0],F.push(J[0],J[1]),B.push(ee)}ne+=1;break}}this.triangleCount=ne,this.trianglePositions.update(N),this.triangleVectors.update(k),this.triangleColors.update(H),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(B))}},i.drawTransparent=i.draw=function(E){E=E||{};for(var A=this.gl,s=E.model||T,M=E.view||T,b=E.projection||T,N=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)N[0][k]=Math.max(N[0][k],this.clipBounds[0][k]),N[1][k]=Math.min(N[1][k],this.clipBounds[1][k]);var H={model:s,view:M,projection:b,inverseModel:T.slice(),clipBounds:N,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};H.inverseModel=l(H.inverseModel,H.model),A.disable(A.CULL_FACE),this.texture.bind(0);var F=new Array(16);u(F,H.view,H.model),u(F,H.projection,F),l(F,F);for(var k=0;k<3;++k)H.eyePosition[k]=F[12+k]/F[15];for(var B=F[15],k=0;k<3;++k)B+=this.lightPosition[k]*F[4*k+3];for(var k=0;k<3;++k){for(var U=F[12+k],z=0;z<3;++z)U+=F[4*z+k]*this.lightPosition[z];H.lightPosition[k]=U/B}if(this.triangleCount>0){var W=this.triShader;W.bind(),W.uniforms=H,this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},i.drawPick=function(E){E=E||{};for(var A=this.gl,s=E.model||T,M=E.view||T,b=E.projection||T,N=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],k=0;k<3;++k)N[0][k]=Math.max(N[0][k],this.clipBounds[0][k]),N[1][k]=Math.min(N[1][k],this.clipBounds[1][k]);this._model=[].slice.call(s),this._view=[].slice.call(M),this._projection=[].slice.call(b),this._resolution=[A.drawingBufferWidth,A.drawingBufferHeight];var H={model:s,view:M,projection:b,clipBounds:N,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=H,this.triangleCount>0&&(this.triangleVAO.bind(),A.drawArrays(A.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},i.pick=function(E){if(!E||E.id!==this.pickId)return null;var A=E.value[0]+256*E.value[1]+65536*E.value[2],s=this.cells[A],M=this.positions[s[1]].slice(0,3),b={position:M,dataCoordinate:M,index:Math.floor(s[1]/48)};return this.traceType==="cone"?b.index=Math.floor(s[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[s[1]],b.velocity=this.vectors[s[1]].slice(0,3),b.divergence=this.vectors[s[1]][3],b.index=A),b},i.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function w(E,A){var s=t(E,A.meshShader.vertex,A.meshShader.fragment,null,A.meshShader.attributes);return s.attributes.position.location=0,s.attributes.color.location=2,s.attributes.uv.location=3,s.attributes.vector.location=4,s}function _(E,A){var s=t(E,A.pickShader.vertex,A.pickShader.fragment,null,A.pickShader.attributes);return s.attributes.position.location=0,s.attributes.id.location=1,s.attributes.vector.location=4,s}function m(E,A,s){var M=s.shaders;arguments.length===1&&(A=E,E=A.gl);var b=w(E,M),N=_(E,M),k=f(E,y(new Uint8Array([255,255,255,255]),[1,1,4]));k.generateMipmap(),k.minFilter=E.LINEAR_MIPMAP_LINEAR,k.magFilter=E.LINEAR;var H=a(E),F=a(E),B=a(E),U=a(E),z=a(E),W=n(E,[{buffer:H,type:E.FLOAT,size:4},{buffer:z,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:E.FLOAT,size:4},{buffer:U,type:E.FLOAT,size:2},{buffer:F,type:E.FLOAT,size:4}]),j=new c(E,k,b,N,H,F,z,B,U,W,s.traceType||"cone");return j.update(A),j}v.exports=m},614:function(v,g,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * (view * conePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},g.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},737:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},5171:function(v,g,r){var t=r(737);v.exports=function(n){return t[n]}},9165:function(v,g,r){v.exports=c;var t=r(2762),a=r(8116),n=r(3436),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,x,w){this.gl=i,this.shader=w,this.buffer=d,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=u.prototype;l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(i){var d=this.gl,x=this.shader.uniforms;this.shader.bind();var w=x.view=i.view||f,_=x.projection=i.projection||f;x.model=i.model||f,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var m=w[12],E=w[13],A=w[14],s=w[15],M=i._ortho||!1,b=M?2:1,N=b*this.pixelRatio*(_[3]*m+_[7]*E+_[11]*A+_[15]*s)/d.drawingBufferHeight;this.vao.bind();for(var k=0;k<3;++k)d.lineWidth(this.lineWidth[k]*this.pixelRatio),x.capSize=this.capSize[k]*N,this.lineCount[k]&&d.drawArrays(d.LINES,this.lineOffset[k],this.lineCount[k]);this.vao.unbind()};function y(i,d){for(var x=0;x<3;++x)i[0][x]=Math.min(i[0][x],d[x]),i[1][x]=Math.max(i[1][x],d[x])}var h=function(){for(var i=new Array(3),d=0;d<3;++d){for(var x=[],w=1;w<=2;++w)for(var _=-1;_<=1;_+=2){var m=(w+d)%3,E=[0,0,0];E[m]=_,x.push(E)}i[d]=x}return i}();function T(i,d,x,w){for(var _=h[w],m=0;m<_.length;++m){var E=_[m];i.push(d[0],d[1],d[2],x[0],x[1],x[2],x[3],E[0],E[1],E[2])}return _.length}l.update=function(i){i=i||{},"lineWidth"in i&&(this.lineWidth=i.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in i&&(this.capSize=i.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=i.color||[[0,0,0],[0,0,0],[0,0,0]],x=i.position,w=i.error;if(Array.isArray(d[0])||(d=[d,d,d]),x&&w){var _=[],m=x.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var A=0;A<3;++A){this.lineOffset[A]=E;e:for(var s=0;s<m;++s){for(var M=x[s],b=0;b<3;++b)if(isNaN(M[b])||!isFinite(M[b]))continue e;var N=w[s],k=d[A];if(Array.isArray(k[0])&&(k=d[s]),k.length===3?k=[k[0],k[1],k[2],1]:k.length===4&&(k=[k[0],k[1],k[2],k[3]],!this.hasAlpha&&k[3]<1&&(this.hasAlpha=!0)),!(isNaN(N[0][A])||isNaN(N[1][A]))){if(N[0][A]<0){var H=M.slice();H[A]+=N[0][A],_.push(M[0],M[1],M[2],k[0],k[1],k[2],k[3],0,0,0,H[0],H[1],H[2],k[0],k[1],k[2],k[3],0,0,0),y(this.bounds,H),E+=2+T(_,H,k,A)}if(N[1][A]>0){var H=M.slice();H[A]+=N[1][A],_.push(M[0],M[1],M[2],k[0],k[1],k[2],k[3],0,0,0,H[0],H[1],H[2],k[0],k[1],k[2],k[3],0,0,0),y(this.bounds,H),E+=2+T(_,H,k,A)}}}this.lineCount[A]=E-this.lineOffset[A]}this.buffer.update(_)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function c(i){var d=i.gl,x=t(d),w=a(d,[{buffer:x,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:d.FLOAT,size:3,offset:28,stride:40}]),_=n(d);_.attributes.position.location=0,_.attributes.color.location=1,_.attributes.offset.location=2;var m=new u(d,x,w,_);return m.update(i),m}},3436:function(v,g,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * (view * worldPosition);
  fragColor           = color;
  fragPosition        = position;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},2260:function(v,g,r){var t=r(7766);v.exports=E;var a=null,n,f,u,l;function y(A){var s=A.getParameter(A.FRAMEBUFFER_BINDING),M=A.getParameter(A.RENDERBUFFER_BINDING),b=A.getParameter(A.TEXTURE_BINDING_2D);return[s,M,b]}function h(A,s){A.bindFramebuffer(A.FRAMEBUFFER,s[0]),A.bindRenderbuffer(A.RENDERBUFFER,s[1]),A.bindTexture(A.TEXTURE_2D,s[2])}function T(A,s){var M=A.getParameter(s.MAX_COLOR_ATTACHMENTS_WEBGL);a=new Array(M+1);for(var b=0;b<=M;++b){for(var N=new Array(M),k=0;k<b;++k)N[k]=A.COLOR_ATTACHMENT0+k;for(var k=b;k<M;++k)N[k]=A.NONE;a[b]=N}}function c(A){switch(A){case n:throw new Error("gl-fbo: Framebuffer unsupported");case f:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function i(A,s,M,b,N,k){if(!b)return null;var H=t(A,s,M,N,b);return H.magFilter=A.NEAREST,H.minFilter=A.NEAREST,H.mipSamples=1,H.bind(),A.framebufferTexture2D(A.FRAMEBUFFER,k,A.TEXTURE_2D,H.handle,0),H}function d(A,s,M,b,N){var k=A.createRenderbuffer();return A.bindRenderbuffer(A.RENDERBUFFER,k),A.renderbufferStorage(A.RENDERBUFFER,b,s,M),A.framebufferRenderbuffer(A.FRAMEBUFFER,N,A.RENDERBUFFER,k),k}function x(A){var s=y(A.gl),M=A.gl,b=A.handle=M.createFramebuffer(),N=A._shape[0],k=A._shape[1],H=A.color.length,F=A._ext,B=A._useStencil,U=A._useDepth,z=A._colorType;M.bindFramebuffer(M.FRAMEBUFFER,b);for(var W=0;W<H;++W)A.color[W]=i(M,N,k,z,M.RGBA,M.COLOR_ATTACHMENT0+W);H===0?(A._color_rb=d(M,N,k,M.RGBA4,M.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(a[0])):H>1&&F.drawBuffersWEBGL(a[H]);var j=M.getExtension("WEBGL_depth_texture");j?B?A.depth=i(M,N,k,j.UNSIGNED_INT_24_8_WEBGL,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):U&&(A.depth=i(M,N,k,M.UNSIGNED_SHORT,M.DEPTH_COMPONENT,M.DEPTH_ATTACHMENT)):U&&B?A._depth_rb=d(M,N,k,M.DEPTH_STENCIL,M.DEPTH_STENCIL_ATTACHMENT):U?A._depth_rb=d(M,N,k,M.DEPTH_COMPONENT16,M.DEPTH_ATTACHMENT):B&&(A._depth_rb=d(M,N,k,M.STENCIL_INDEX,M.STENCIL_ATTACHMENT));var ee=M.checkFramebufferStatus(M.FRAMEBUFFER);if(ee!==M.FRAMEBUFFER_COMPLETE){A._destroyed=!0,M.bindFramebuffer(M.FRAMEBUFFER,null),M.deleteFramebuffer(A.handle),A.handle=null,A.depth&&(A.depth.dispose(),A.depth=null),A._depth_rb&&(M.deleteRenderbuffer(A._depth_rb),A._depth_rb=null);for(var W=0;W<A.color.length;++W)A.color[W].dispose(),A.color[W]=null;A._color_rb&&(M.deleteRenderbuffer(A._color_rb),A._color_rb=null),h(M,s),c(ee)}h(M,s)}function w(A,s,M,b,N,k,H,F){this.gl=A,this._shape=[s|0,M|0],this._destroyed=!1,this._ext=F,this.color=new Array(N);for(var B=0;B<N;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=k,this._useStencil=H;var U=this,z=[s|0,M|0];Object.defineProperties(z,{0:{get:function(){return U._shape[0]},set:function(W){return U.width=W}},1:{get:function(){return U._shape[1]},set:function(W){return U.height=W}}}),this._shapeVector=z,x(this)}var _=w.prototype;function m(A,s,M){if(A._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(A._shape[0]===s&&A._shape[1]===M)){var b=A.gl,N=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(s<0||s>N||M<0||M>N)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");A._shape[0]=s,A._shape[1]=M;for(var k=y(b),H=0;H<A.color.length;++H)A.color[H].shape=A._shape;A._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,A._shape[0],A._shape[1])),A.depth&&(A.depth.shape=A._shape),A._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,A._depth_rb),A._useDepth&&A._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,A._shape[0],A._shape[1]):A._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,A._shape[0],A._shape[1]):A._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,A._shape[0],A._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,A.handle);var F=b.checkFramebufferStatus(b.FRAMEBUFFER);F!==b.FRAMEBUFFER_COMPLETE&&(A.dispose(),h(b,k),c(F)),h(b,k)}}Object.defineProperties(_,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(A){if(Array.isArray(A)||(A=[A|0,A|0]),A.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var s=A[0]|0,M=A[1]|0;return m(this,s,M),[s,M]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(A){return A=A|0,m(this,A,this._shape[1]),A},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(A){return A=A|0,m(this,this._shape[0],A),A},enumerable:!1}}),_.bind=function(){if(!this._destroyed){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this.handle),A.viewport(0,0,this._shape[0],this._shape[1])}},_.dispose=function(){if(!this._destroyed){this._destroyed=!0;var A=this.gl;A.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(A.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var s=0;s<this.color.length;++s)this.color[s].dispose(),this.color[s]=null;this._color_rb&&(A.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(A,s,M,b){n||(n=A.FRAMEBUFFER_UNSUPPORTED,f=A.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=A.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=A.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var N=A.getExtension("WEBGL_draw_buffers");if(!a&&N&&T(A,N),Array.isArray(s)&&(b=M,M=s[1]|0,s=s[0]|0),typeof s!="number")throw new Error("gl-fbo: Missing shape parameter");var k=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(s<0||s>k||M<0||M>k)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var H=1;if("color"in b){if(H=Math.max(b.color|0,0),H<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(H>1)if(N){if(H>A.getParameter(N.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+H+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=A.UNSIGNED_BYTE,B=A.getExtension("OES_texture_float");if(b.float&&H>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");F=A.FLOAT}else b.preferFloat&&H>0&&B&&(F=A.FLOAT);var U=!0;"depth"in b&&(U=!!b.depth);var z=!1;return"stencil"in b&&(z=!!b.stencil),new w(A,s,M,F,H,U,z,N)}},2992:function(v,g,r){var t=r(3387).sprintf,a=r(5171),n=r(1848),f=r(1085);v.exports=u;function u(l,y,h){var T=n(y)||"of unknown name (see npm glsl-shader-name)",c="unknown type";h!==void 0&&(c=h===a.FRAGMENT_SHADER?"fragment":"vertex");for(var i=t(`Error compiling %s shader %s:
`,c,T),d=t("%s%s",i,l),x=l.split(`
`),w={},_=0;_<x.length;_++){var m=x[_];if(!(m===""||m==="\0")){var E=parseInt(m.split(":")[2]);if(isNaN(E))throw new Error(t("Could not parse error: %s",m));w[E]=m}}for(var A=f(y).split(`
`),_=0;_<A.length;_++)if(!(!w[_+3]&&!w[_+2]&&!w[_+1])){var s=A[_];if(i+=s+`
`,w[_+1]){var M=w[_+1];M=M.substr(M.split(":",3).join(":").length+1).trim(),i+=t(`^^^ %s

`,M)}}return{long:i.trim(),short:d.trim()}}},2510:function(v,g,r){v.exports=c;var t=r(2478),a=r(7762),n=r(1888),f=r(9405),u=r(2762),l=r(6768);function y(i,d,x,w,_,m,E){this.plot=i,this.shader=d,this.pickShader=x,this.positionBuffer=w,this.weightBuffer=_,this.colorBuffer=m,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=y.prototype,T=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var i=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,x=this.shader,w=this.bounds,_=this.numVertices;if(!(_<=0)){var m=d.gl,E=d.dataBox,A=w[2]-w[0],s=w[3]-w[1],M=E[2]-E[0],b=E[3]-E[1];i[0]=2*A/M,i[4]=2*s/b,i[6]=2*(w[0]-E[0])/M-1,i[7]=2*(w[1]-E[1])/b-1,x.bind();var N=x.uniforms;N.viewTransform=i,N.shape=this.shape;var k=x.attributes;this.positionBuffer.bind(),k.position.pointer(),this.weightBuffer.bind(),k.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),k.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,_)}}}(),h.drawPick=function(){var i=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(x){var w=this.plot,_=this.pickShader,m=this.bounds,E=this.numVertices;if(!(E<=0)){var A=w.gl,s=w.dataBox,M=m[2]-m[0],b=m[3]-m[1],N=s[2]-s[0],k=s[3]-s[1];i[0]=2*M/N,i[4]=2*b/k,i[6]=2*(m[0]-s[0])/N-1,i[7]=2*(m[1]-s[1])/k-1;for(var H=0;H<4;++H)d[H]=x>>H*8&255;this.pickOffset=x,_.bind();var F=_.uniforms;F.viewTransform=i,F.pickOffset=d,F.shape=this.shape;var B=_.attributes;return this.positionBuffer.bind(),B.position.pointer(),this.weightBuffer.bind(),B.weight.pointer(A.UNSIGNED_BYTE,!1),this.idBuffer.bind(),B.pickId.pointer(A.UNSIGNED_BYTE,!1),A.drawArrays(A.TRIANGLES,0,E),x+this.shape[0]*this.shape[1]}}}(),h.pick=function(i,d,x){var w=this.pickOffset,_=this.shape[0]*this.shape[1];if(x<w||x>=w+_)return null;var m=x-w,E=this.xData,A=this.yData;return{object:this,pointId:m,dataCoord:[E[m%this.shape[0]],A[m/this.shape[0]|0]]}},h.update=function(i){i=i||{};var d=i.shape||[0,0],x=i.x||a(d[0]),w=i.y||a(d[1]),_=i.z||new Float32Array(d[0]*d[1]),m=i.zsmooth!==!1;this.xData=x,this.yData=w;var E=i.colorLevels||[0],A=i.colorValues||[0,0,0,1],s=E.length,M=this.bounds,b,N,k,H;m?(b=M[0]=x[0],N=M[1]=w[0],k=M[2]=x[x.length-1],H=M[3]=w[w.length-1]):(b=M[0]=x[0]+(x[1]-x[0])/2,N=M[1]=w[0]+(w[1]-w[0])/2,k=M[2]=x[x.length-1]+(x[x.length-1]-x[x.length-2])/2,H=M[3]=w[w.length-1]+(w[w.length-1]-w[w.length-2])/2);var F=1/(k-b),B=1/(H-N),U=d[0],z=d[1];this.shape=[U,z];var W=(m?(U-1)*(z-1):U*z)*(T.length>>>1);this.numVertices=W;for(var j=n.mallocUint8(W*4),ee=n.mallocFloat32(W*2),ie=n.mallocUint8(W*2),oe=n.mallocUint32(W),he=0,ne=m?U-1:U,q=m?z-1:z,le=0;le<q;++le){var Q,te;m?(Q=B*(w[le]-N),te=B*(w[le+1]-N)):(Q=le<z-1?B*(w[le]-(w[le+1]-w[le])/2-N):B*(w[le]-(w[le]-w[le-1])/2-N),te=le<z-1?B*(w[le]+(w[le+1]-w[le])/2-N):B*(w[le]+(w[le]-w[le-1])/2-N));for(var ue=0;ue<ne;++ue){var J,K;m?(J=F*(x[ue]-b),K=F*(x[ue+1]-b)):(J=ue<U-1?F*(x[ue]-(x[ue+1]-x[ue])/2-b):F*(x[ue]-(x[ue]-x[ue-1])/2-b),K=ue<U-1?F*(x[ue]+(x[ue+1]-x[ue])/2-b):F*(x[ue]+(x[ue]-x[ue-1])/2-b));for(var ce=0;ce<T.length;ce+=2){var ae=T[ce],de=T[ce+1],be=m?(le+de)*U+(ue+ae):le*U+ue,Se=_[be],Te=t.le(E,Se),Ie,ke,Be,Me;if(Te<0)Ie=A[0],ke=A[1],Be=A[2],Me=A[3];else if(Te===s-1)Ie=A[4*s-4],ke=A[4*s-3],Be=A[4*s-2],Me=A[4*s-1];else{var Oe=(Se-E[Te])/(E[Te+1]-E[Te]),_e=1-Oe,Ne=4*Te,Ce=4*(Te+1);Ie=_e*A[Ne]+Oe*A[Ce],ke=_e*A[Ne+1]+Oe*A[Ce+1],Be=_e*A[Ne+2]+Oe*A[Ce+2],Me=_e*A[Ne+3]+Oe*A[Ce+3]}j[4*he]=255*Ie,j[4*he+1]=255*ke,j[4*he+2]=255*Be,j[4*he+3]=255*Me,ee[2*he]=J*.5+K*.5,ee[2*he+1]=Q*.5+te*.5,ie[2*he]=ae,ie[2*he+1]=de,oe[he]=le*U+ue,he+=1}}}this.positionBuffer.update(ee),this.weightBuffer.update(ie),this.colorBuffer.update(j),this.idBuffer.update(oe),n.free(ee),n.free(j),n.free(ie),n.free(oe)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function c(i,d){var x=i.gl,w=f(x,l.vertex,l.fragment),_=f(x,l.pickVertex,l.pickFragment),m=u(x),E=u(x),A=u(x),s=u(x),M=new y(i,w,_,m,E,A,s);return M.update(d),i.addObject(M),M}},6768:function(v,g,r){var t=r(3236);v.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},7319:function(v,g,r){var t=r(3236),a=r(9405),n=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];g.createShader=function(y){return a(y,n,f,null,l)},g.createPickShader=function(y){return a(y,n,u,null,l)}},5714:function(v,g,r){v.exports=A;var t=r(2762),a=r(8116),n=r(7766),f=new Uint8Array(4),u=new Float32Array(f.buffer);function l(s,M,b,N){return f[0]=N,f[1]=b,f[2]=M,f[3]=s,u[0]}var y=r(2478),h=r(9618),T=r(7319),c=T.createShader,i=T.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(s,M){for(var b=0,N=0;N<3;++N){var k=s[N]-M[N];b+=k*k}return Math.sqrt(b)}function w(s){for(var M=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)M[0][b]=Math.max(s[0][b],M[0][b]),M[1][b]=Math.min(s[1][b],M[1][b]);return M}function _(s,M,b,N){this.arcLength=s,this.position=M,this.index=b,this.dataCoordinate=N}function m(s,M,b,N,k,H){this.gl=s,this.shader=M,this.pickShader=b,this.buffer=N,this.vao=k,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=H,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=m.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(s){this.pickId=s},E.drawTransparent=E.draw=function(s){if(this.vertexCount){var M=this.gl,b=this.shader,N=this.vao;b.bind(),b.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,clipBounds:w(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},N.bind(),N.draw(M.TRIANGLE_STRIP,this.vertexCount),N.unbind()}},E.drawPick=function(s){if(this.vertexCount){var M=this.gl,b=this.pickShader,N=this.vao;b.bind(),b.uniforms={model:s.model||d,view:s.view||d,projection:s.projection||d,pickId:this.pickId,clipBounds:w(this.clipBounds),screenShape:[M.drawingBufferWidth,M.drawingBufferHeight],pixelRatio:this.pixelRatio},N.bind(),N.draw(M.TRIANGLE_STRIP,this.vertexCount),N.unbind()}},E.update=function(s){var M,b;this.dirty=!0;var N=!!s.connectGaps;"dashScale"in s&&(this.dashScale=s.dashScale),this.hasAlpha=!1,"opacity"in s&&(this.opacity=+s.opacity,this.opacity<1&&(this.hasAlpha=!0));var k=[],H=[],F=[],B=0,U=0,z=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],W=s.position||s.positions;if(W){var j=s.color||s.colors||[0,0,0,1],ee=s.lineWidth||1,ie=!1;e:for(M=1;M<W.length;++M){var oe=W[M-1],he=W[M];for(H.push(B),F.push(oe.slice()),b=0;b<3;++b){if(isNaN(oe[b])||isNaN(he[b])||!isFinite(oe[b])||!isFinite(he[b])){if(!N&&k.length>0){for(var ne=0;ne<24;++ne)k.push(k[k.length-12]);U+=2,ie=!0}continue e}z[0][b]=Math.min(z[0][b],oe[b],he[b]),z[1][b]=Math.max(z[1][b],oe[b],he[b])}var q,le;Array.isArray(j[0])?(q=j.length>M-1?j[M-1]:j.length>0?j[j.length-1]:[0,0,0,1],le=j.length>M?j[M]:j.length>0?j[j.length-1]:[0,0,0,1]):q=le=j,q.length===3&&(q=[q[0],q[1],q[2],1]),le.length===3&&(le=[le[0],le[1],le[2],1]),!this.hasAlpha&&q[3]<1&&(this.hasAlpha=!0);var Q;Array.isArray(ee)?Q=ee.length>M-1?ee[M-1]:ee.length>0?ee[ee.length-1]:[0,0,0,1]:Q=ee;var te=B;if(B+=x(oe,he),ie){for(b=0;b<2;++b)k.push(oe[0],oe[1],oe[2],he[0],he[1],he[2],te,Q,q[0],q[1],q[2],q[3]);U+=2,ie=!1}k.push(oe[0],oe[1],oe[2],he[0],he[1],he[2],te,Q,q[0],q[1],q[2],q[3],oe[0],oe[1],oe[2],he[0],he[1],he[2],te,-Q,q[0],q[1],q[2],q[3],he[0],he[1],he[2],oe[0],oe[1],oe[2],B,-Q,le[0],le[1],le[2],le[3],he[0],he[1],he[2],oe[0],oe[1],oe[2],B,Q,le[0],le[1],le[2],le[3]),U+=4}}if(this.buffer.update(k),H.push(B),F.push(W[W.length-1].slice()),this.bounds=z,this.vertexCount=U,this.points=F,this.arcLength=H,"dashes"in s){var ue=s.dashes,J=ue.slice();for(J.unshift(0),M=1;M<J.length;++M)J[M]=J[M-1]+J[M];var K=h(new Array(256*4),[256,1,4]);for(M=0;M<256;++M){for(b=0;b<4;++b)K.set(M,0,b,0);y.le(J,J[J.length-1]*M/255)&1?K.set(M,0,0,0):K.set(M,0,0,255)}this.texture.setPixels(K)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(s){if(!s||s.id!==this.pickId)return null;var M=l(s.value[0],s.value[1],s.value[2],0),b=y.le(this.arcLength,M);if(b<0)return null;if(b===this.arcLength.length-1)return new _(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var N=this.points[b],k=this.points[Math.min(b+1,this.points.length-1)],H=(M-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),F=1-H,B=[0,0,0],U=0;U<3;++U)B[U]=F*N[U]+H*k[U];var z=Math.min(H<.5?b:b+1,this.points.length-1);return new _(M,B,z,this.points[z])};function A(s){var M=s.gl||s.scene&&s.scene.gl,b=c(M);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var N=i(M);N.attributes.position.location=0,N.attributes.nextPosition.location=1,N.attributes.arcLength.location=2,N.attributes.lineWidth.location=3,N.attributes.color.location=4;for(var k=t(M),H=a(M,[{buffer:k,size:3,offset:0,stride:48},{buffer:k,size:3,offset:12,stride:48},{buffer:k,size:1,offset:24,stride:48},{buffer:k,size:1,offset:28,stride:48},{buffer:k,size:4,offset:32,stride:48}]),F=h(new Array(256*4),[256,1,4]),B=0;B<1024;++B)F.data[B]=255;var U=n(M,F);U.wrap=M.REPEAT;var z=new m(M,b,N,k,H,U);return z.update(s),z}},1903:function(v){v.exports=g;function g(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},6864:function(v){v.exports=g;function g(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},9921:function(v){v.exports=g;function g(r){var t=r[0],a=r[1],n=r[2],f=r[3],u=r[4],l=r[5],y=r[6],h=r[7],T=r[8],c=r[9],i=r[10],d=r[11],x=r[12],w=r[13],_=r[14],m=r[15],E=t*l-a*u,A=t*y-n*u,s=t*h-f*u,M=a*y-n*l,b=a*h-f*l,N=n*h-f*y,k=T*w-c*x,H=T*_-i*x,F=T*m-d*x,B=c*_-i*w,U=c*m-d*w,z=i*m-d*_;return E*z-A*U+s*B+M*F-b*H+N*k}},7399:function(v){v.exports=g;function g(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=a+a,y=n+n,h=f+f,T=a*l,c=n*l,i=n*y,d=f*l,x=f*y,w=f*h,_=u*l,m=u*y,E=u*h;return r[0]=1-i-w,r[1]=c+E,r[2]=d-m,r[3]=0,r[4]=c-E,r[5]=1-T-w,r[6]=x+_,r[7]=0,r[8]=d+m,r[9]=x-_,r[10]=1-T-i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},6743:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3],y=n+n,h=f+f,T=u+u,c=n*y,i=n*h,d=n*T,x=f*h,w=f*T,_=u*T,m=l*y,E=l*h,A=l*T;return r[0]=1-(x+_),r[1]=i+A,r[2]=d-E,r[3]=0,r[4]=i-A,r[5]=1-(c+_),r[6]=w+m,r[7]=0,r[8]=d+E,r[9]=w-m,r[10]=1-(c+x),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}},7894:function(v){v.exports=g;function g(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7608:function(v){v.exports=g;function g(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=t[4],y=t[5],h=t[6],T=t[7],c=t[8],i=t[9],d=t[10],x=t[11],w=t[12],_=t[13],m=t[14],E=t[15],A=a*y-n*l,s=a*h-f*l,M=a*T-u*l,b=n*h-f*y,N=n*T-u*y,k=f*T-u*h,H=c*_-i*w,F=c*m-d*w,B=c*E-x*w,U=i*m-d*_,z=i*E-x*_,W=d*E-x*m,j=A*W-s*z+M*U+b*B-N*F+k*H;return j?(j=1/j,r[0]=(y*W-h*z+T*U)*j,r[1]=(f*z-n*W-u*U)*j,r[2]=(_*k-m*N+E*b)*j,r[3]=(d*N-i*k-x*b)*j,r[4]=(h*B-l*W-T*F)*j,r[5]=(a*W-f*B+u*F)*j,r[6]=(m*M-w*k-E*s)*j,r[7]=(c*k-d*M+x*s)*j,r[8]=(l*z-y*B+T*H)*j,r[9]=(n*B-a*z-u*H)*j,r[10]=(w*N-_*M+E*A)*j,r[11]=(i*M-c*N-x*A)*j,r[12]=(y*F-l*U-h*H)*j,r[13]=(a*U-n*F+f*H)*j,r[14]=(_*s-w*b-m*A)*j,r[15]=(c*b-i*s+d*A)*j,r):null}},6582:function(v,g,r){var t=r(7894);v.exports=a;function a(n,f,u,l){var y,h,T,c,i,d,x,w,_,m,E=f[0],A=f[1],s=f[2],M=l[0],b=l[1],N=l[2],k=u[0],H=u[1],F=u[2];return Math.abs(E-k)<1e-6&&Math.abs(A-H)<1e-6&&Math.abs(s-F)<1e-6?t(n):(x=E-k,w=A-H,_=s-F,m=1/Math.sqrt(x*x+w*w+_*_),x*=m,w*=m,_*=m,y=b*_-N*w,h=N*x-M*_,T=M*w-b*x,m=Math.sqrt(y*y+h*h+T*T),m?(m=1/m,y*=m,h*=m,T*=m):(y=0,h=0,T=0),c=w*T-_*h,i=_*y-x*T,d=x*h-w*y,m=Math.sqrt(c*c+i*i+d*d),m?(m=1/m,c*=m,i*=m,d*=m):(c=0,i=0,d=0),n[0]=y,n[1]=c,n[2]=x,n[3]=0,n[4]=h,n[5]=i,n[6]=w,n[7]=0,n[8]=T,n[9]=d,n[10]=_,n[11]=0,n[12]=-(y*E+h*A+T*s),n[13]=-(c*E+i*A+d*s),n[14]=-(x*E+w*A+_*s),n[15]=1,n)}},6760:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3],y=t[4],h=t[5],T=t[6],c=t[7],i=t[8],d=t[9],x=t[10],w=t[11],_=t[12],m=t[13],E=t[14],A=t[15],s=a[0],M=a[1],b=a[2],N=a[3];return r[0]=s*n+M*y+b*i+N*_,r[1]=s*f+M*h+b*d+N*m,r[2]=s*u+M*T+b*x+N*E,r[3]=s*l+M*c+b*w+N*A,s=a[4],M=a[5],b=a[6],N=a[7],r[4]=s*n+M*y+b*i+N*_,r[5]=s*f+M*h+b*d+N*m,r[6]=s*u+M*T+b*x+N*E,r[7]=s*l+M*c+b*w+N*A,s=a[8],M=a[9],b=a[10],N=a[11],r[8]=s*n+M*y+b*i+N*_,r[9]=s*f+M*h+b*d+N*m,r[10]=s*u+M*T+b*x+N*E,r[11]=s*l+M*c+b*w+N*A,s=a[12],M=a[13],b=a[14],N=a[15],r[12]=s*n+M*y+b*i+N*_,r[13]=s*f+M*h+b*d+N*m,r[14]=s*u+M*T+b*x+N*E,r[15]=s*l+M*c+b*w+N*A,r}},4040:function(v){v.exports=g;function g(r,t,a,n,f,u,l){var y=1/(t-a),h=1/(n-f),T=1/(u-l);return r[0]=-2*y,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*T,r[11]=0,r[12]=(t+a)*y,r[13]=(f+n)*h,r[14]=(l+u)*T,r[15]=1,r}},4772:function(v){v.exports=g;function g(r,t,a,n,f){var u=1/Math.tan(t/2),l=1/(n-f);return r[0]=u/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(f+n)*l,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*f*n*l,r[15]=0,r}},6079:function(v){v.exports=g;function g(r,t,a,n){var f=n[0],u=n[1],l=n[2],y=Math.sqrt(f*f+u*u+l*l),h,T,c,i,d,x,w,_,m,E,A,s,M,b,N,k,H,F,B,U,z,W,j,ee;return Math.abs(y)<1e-6?null:(y=1/y,f*=y,u*=y,l*=y,h=Math.sin(a),T=Math.cos(a),c=1-T,i=t[0],d=t[1],x=t[2],w=t[3],_=t[4],m=t[5],E=t[6],A=t[7],s=t[8],M=t[9],b=t[10],N=t[11],k=f*f*c+T,H=u*f*c+l*h,F=l*f*c-u*h,B=f*u*c-l*h,U=u*u*c+T,z=l*u*c+f*h,W=f*l*c+u*h,j=u*l*c-f*h,ee=l*l*c+T,r[0]=i*k+_*H+s*F,r[1]=d*k+m*H+M*F,r[2]=x*k+E*H+b*F,r[3]=w*k+A*H+N*F,r[4]=i*B+_*U+s*z,r[5]=d*B+m*U+M*z,r[6]=x*B+E*U+b*z,r[7]=w*B+A*U+N*z,r[8]=i*W+_*j+s*ee,r[9]=d*W+m*j+M*ee,r[10]=x*W+E*j+b*ee,r[11]=w*W+A*j+N*ee,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},5567:function(v){v.exports=g;function g(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[4],l=t[5],y=t[6],h=t[7],T=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*f+T*n,r[5]=l*f+c*n,r[6]=y*f+i*n,r[7]=h*f+d*n,r[8]=T*f-u*n,r[9]=c*f-l*n,r[10]=i*f-y*n,r[11]=d*f-h*n,r}},2408:function(v){v.exports=g;function g(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[0],l=t[1],y=t[2],h=t[3],T=t[8],c=t[9],i=t[10],d=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f-T*n,r[1]=l*f-c*n,r[2]=y*f-i*n,r[3]=h*f-d*n,r[8]=u*n+T*f,r[9]=l*n+c*f,r[10]=y*n+i*f,r[11]=h*n+d*f,r}},7089:function(v){v.exports=g;function g(r,t,a){var n=Math.sin(a),f=Math.cos(a),u=t[0],l=t[1],y=t[2],h=t[3],T=t[4],c=t[5],i=t[6],d=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*f+T*n,r[1]=l*f+c*n,r[2]=y*f+i*n,r[3]=h*f+d*n,r[4]=T*f-u*n,r[5]=c*f-l*n,r[6]=i*f-y*n,r[7]=d*f-h*n,r}},2504:function(v){v.exports=g;function g(r,t,a){var n=a[0],f=a[1],u=a[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*f,r[5]=t[5]*f,r[6]=t[6]*f,r[7]=t[7]*f,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},7656:function(v){v.exports=g;function g(r,t,a){var n=a[0],f=a[1],u=a[2],l,y,h,T,c,i,d,x,w,_,m,E;return t===r?(r[12]=t[0]*n+t[4]*f+t[8]*u+t[12],r[13]=t[1]*n+t[5]*f+t[9]*u+t[13],r[14]=t[2]*n+t[6]*f+t[10]*u+t[14],r[15]=t[3]*n+t[7]*f+t[11]*u+t[15]):(l=t[0],y=t[1],h=t[2],T=t[3],c=t[4],i=t[5],d=t[6],x=t[7],w=t[8],_=t[9],m=t[10],E=t[11],r[0]=l,r[1]=y,r[2]=h,r[3]=T,r[4]=c,r[5]=i,r[6]=d,r[7]=x,r[8]=w,r[9]=_,r[10]=m,r[11]=E,r[12]=l*n+c*f+w*u+t[12],r[13]=y*n+i*f+_*u+t[13],r[14]=h*n+d*f+m*u+t[14],r[15]=T*n+x*f+E*u+t[15]),r}},5665:function(v){v.exports=g;function g(r,t){if(r===t){var a=t[1],n=t[2],f=t[3],u=t[6],l=t[7],y=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=a,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=u,r[11]=t[14],r[12]=f,r[13]=l,r[14]=y}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},7626:function(v,g,r){var t=r(2642),a=r(9346);v.exports=y;function n(h,T){for(var c=[0,0,0,0],i=0;i<4;++i)for(var d=0;d<4;++d)c[d]+=h[4*i+d]*T[i];return c}function f(h,T,c,i,d){for(var x=n(i,n(c,n(T,[h[0],h[1],h[2],1]))),w=0;w<3;++w)x[w]/=x[3];return[.5*d[0]*(1+x[0]),.5*d[1]*(1-x[1])]}function u(h,T){if(h.length===2){for(var c=0,i=0,d=0;d<2;++d)c+=Math.pow(T[d]-h[0][d],2),i+=Math.pow(T[d]-h[1][d],2);return c=Math.sqrt(c),i=Math.sqrt(i),c+i<1e-6?[1,0]:[i/(c+i),c/(i+c)]}else if(h.length===3){var x=[0,0];return a(h[0],h[1],h[2],T,x),t(h,x)}return[]}function l(h,T){for(var c=[0,0,0],i=0;i<h.length;++i)for(var d=h[i],x=T[i],w=0;w<3;++w)c[w]+=x*d[w];return c}function y(h,T,c,i,d,x){if(h.length===1)return[0,h[0].slice()];for(var w=new Array(h.length),_=0;_<h.length;++_)w[_]=f(h[_],c,i,d,x);for(var m=0,E=1/0,_=0;_<w.length;++_){for(var A=0,s=0;s<2;++s)A+=Math.pow(w[_][s]-T[s],2);A<E&&(E=A,m=_)}for(var M=u(w,T),b=0,_=0;_<3;++_){if(M[_]<-.001||M[_]>1.0001)return null;b+=M[_]}return Math.abs(b-1)>.001?null:[m,l(h,M),M]}},840:function(v,g,r){var t=r(3236),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * (view * (model * vec4(p, 1.0)));
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * (view * (model * vec4(position, 1.0)));
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
  f_id        = id;
  f_position  = position;
}`]),T=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),c=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * (view * (model * vec4(position, 1.0)));
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * (view * (model * vec4(position, 1.0)));
}`]),d=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);g.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.wireShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.pointShader={vertex:l,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},g.pickShader={vertex:h,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},g.pointPickShader={vertex:c,fragment:T,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},g.contourShader={vertex:i,fragment:d,attributes:[{name:"position",type:"vec3"}]}},7201:function(v,g,r){var t=1e-6,a=1e-6,n=r(9405),f=r(2762),u=r(8116),l=r(7766),y=r(8406),h=r(6760),T=r(7608),c=r(9618),i=r(6729),d=r(7765),x=r(1888),w=r(840),_=r(7626),m=w.meshShader,E=w.wireShader,A=w.pointShader,s=w.pickShader,M=w.pointPickShader,b=w.contourShader,N=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function k(ne,q,le,Q,te,ue,J,K,ce,ae,de,be,Se,Te,Ie,ke,Be,Me,Oe,_e,Ne,Ce,Ye,rt,ot,$e,qe){this.gl=ne,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=q,this.dirty=!0,this.triShader=le,this.lineShader=Q,this.pointShader=te,this.pickShader=ue,this.pointPickShader=J,this.contourShader=K,this.trianglePositions=ce,this.triangleColors=de,this.triangleNormals=Se,this.triangleUVs=be,this.triangleIds=ae,this.triangleVAO=Te,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ie,this.edgeColors=Be,this.edgeUVs=Me,this.edgeIds=ke,this.edgeVAO=Oe,this.edgeCount=0,this.pointPositions=_e,this.pointColors=Ce,this.pointUVs=Ye,this.pointSizes=rt,this.pointIds=Ne,this.pointVAO=ot,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=$e,this.contourVAO=qe,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=N,this._view=N,this._projection=N,this._resolution=[1,1]}var H=k.prototype;H.isOpaque=function(){return!this.hasAlpha},H.isTransparent=function(){return this.hasAlpha},H.pickSlots=1,H.setPickBase=function(ne){this.pickId=ne};function F(ne,q){if(!q||!q.length)return 1;for(var le=0;le<q.length;++le){if(q.length<2)return 1;if(q[le][0]===ne)return q[le][1];if(q[le][0]>ne&&le>0){var Q=(q[le][0]-ne)/(q[le][0]-q[le-1][0]);return q[le][1]*(1-Q)+Q*q[le-1][1]}}return 1}function B(ne,q){for(var le=i({colormap:ne,nshades:256,format:"rgba"}),Q=new Uint8Array(256*4),te=0;te<256;++te){for(var ue=le[te],J=0;J<3;++J)Q[4*te+J]=ue[J];q?Q[4*te+3]=255*F(te/255,q):Q[4*te+3]=255*ue[3]}return c(Q,[256,256,4],[4,0,1])}function U(ne){for(var q=ne.length,le=new Array(q),Q=0;Q<q;++Q)le[Q]=ne[Q][2];return le}H.highlight=function(ne){if(!ne||!this.contourEnable){this.contourCount=0;return}for(var q=d(this.cells,this.intensity,ne.intensity),le=q.cells,Q=q.vertexIds,te=q.vertexWeights,ue=le.length,J=x.mallocFloat32(2*3*ue),K=0,ce=0;ce<ue;++ce)for(var ae=le[ce],de=0;de<2;++de){var be=ae[0];ae.length===2&&(be=ae[de]);for(var Se=Q[be][0],Te=Q[be][1],Ie=te[be],ke=1-Ie,Be=this.positions[Se],Me=this.positions[Te],Oe=0;Oe<3;++Oe)J[K++]=Ie*Be[Oe]+ke*Me[Oe]}this.contourCount=K/3|0,this.contourPositions.update(J.subarray(0,K)),x.free(J)},H.update=function(ne){ne=ne||{};var q=this.gl;this.dirty=!0,"contourEnable"in ne&&(this.contourEnable=ne.contourEnable),"contourColor"in ne&&(this.contourColor=ne.contourColor),"lineWidth"in ne&&(this.lineWidth=ne.lineWidth),"lightPosition"in ne&&(this.lightPosition=ne.lightPosition),this.hasAlpha=!1,"opacity"in ne&&(this.opacity=ne.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in ne&&(this.opacityscale=ne.opacityscale,this.hasAlpha=!0),"ambient"in ne&&(this.ambientLight=ne.ambient),"diffuse"in ne&&(this.diffuseLight=ne.diffuse),"specular"in ne&&(this.specularLight=ne.specular),"roughness"in ne&&(this.roughness=ne.roughness),"fresnel"in ne&&(this.fresnel=ne.fresnel),ne.texture?(this.texture.dispose(),this.texture=l(q,ne.texture)):ne.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=q.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=q.LINEAR,this.texture.setPixels(B(ne.colormap,this.opacityscale)),this.texture.generateMipmap());var le=ne.cells,Q=ne.positions;if(!(!Q||!le)){var te=[],ue=[],J=[],K=[],ce=[],ae=[],de=[],be=[],Se=[],Te=[],Ie=[],ke=[],Be=[],Me=[];this.cells=le,this.positions=Q;var Oe=ne.vertexNormals,_e=ne.cellNormals,Ne=ne.vertexNormalsEpsilon===void 0?t:ne.vertexNormalsEpsilon,Ce=ne.faceNormalsEpsilon===void 0?a:ne.faceNormalsEpsilon;ne.useFacetNormals&&!_e&&(_e=y.faceNormals(le,Q,Ce)),!_e&&!Oe&&(Oe=y.vertexNormals(le,Q,Ne));var Ye=ne.vertexColors,rt=ne.cellColors,ot=ne.meshColor||[1,1,1,1],$e=ne.vertexUVs,qe=ne.vertexIntensity,ht=ne.cellUVs,vt=ne.cellIntensity,pt=1/0,wt=-1/0;if(!$e&&!ht)if(qe)if(ne.vertexIntensityBounds)pt=+ne.vertexIntensityBounds[0],wt=+ne.vertexIntensityBounds[1];else for(var Mt=0;Mt<qe.length;++Mt){var nt=qe[Mt];pt=Math.min(pt,nt),wt=Math.max(wt,nt)}else if(vt)if(ne.cellIntensityBounds)pt=+ne.cellIntensityBounds[0],wt=+ne.cellIntensityBounds[1];else for(var Mt=0;Mt<vt.length;++Mt){var nt=vt[Mt];pt=Math.min(pt,nt),wt=Math.max(wt,nt)}else for(var Mt=0;Mt<Q.length;++Mt){var nt=Q[Mt][2];pt=Math.min(pt,nt),wt=Math.max(wt,nt)}qe?this.intensity=qe:vt?this.intensity=vt:this.intensity=U(Q),this.pickVertex=!(vt||rt);var Fe=ne.pointSizes,We=ne.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Mt=0;Mt<Q.length;++Mt)for(var Ze=Q[Mt],Ge=0;Ge<3;++Ge)isNaN(Ze[Ge])||!isFinite(Ze[Ge])||(this.bounds[0][Ge]=Math.min(this.bounds[0][Ge],Ze[Ge]),this.bounds[1][Ge]=Math.max(this.bounds[1][Ge],Ze[Ge]));var Pe=0,Re=0,je=0;e:for(var Mt=0;Mt<le.length;++Mt){var De=le[Mt];switch(De.length){case 1:for(var ge=De[0],Ze=Q[ge],Ge=0;Ge<3;++Ge)if(isNaN(Ze[Ge])||!isFinite(Ze[Ge]))continue e;Te.push(Ze[0],Ze[1],Ze[2]);var we;Ye?we=Ye[ge]:rt?we=rt[Mt]:we=ot,this.opacityscale&&qe?ue.push(we[0],we[1],we[2],this.opacity*F((qe[ge]-pt)/(wt-pt),this.opacityscale)):we.length===3?Ie.push(we[0],we[1],we[2],this.opacity):(Ie.push(we[0],we[1],we[2],we[3]*this.opacity),we[3]<1&&(this.hasAlpha=!0));var Ue;$e?Ue=$e[ge]:qe?Ue=[(qe[ge]-pt)/(wt-pt),0]:ht?Ue=ht[Mt]:vt?Ue=[(vt[Mt]-pt)/(wt-pt),0]:Ue=[(Ze[2]-pt)/(wt-pt),0],ke.push(Ue[0],Ue[1]),Fe?Be.push(Fe[ge]):Be.push(We),Me.push(Mt),je+=1;break;case 2:for(var Ge=0;Ge<2;++Ge)for(var ge=De[Ge],Ze=Q[ge],et=0;et<3;++et)if(isNaN(Ze[et])||!isFinite(Ze[et]))continue e;for(var Ge=0;Ge<2;++Ge){var ge=De[Ge],Ze=Q[ge];ae.push(Ze[0],Ze[1],Ze[2]);var we;Ye?we=Ye[ge]:rt?we=rt[Mt]:we=ot,this.opacityscale&&qe?ue.push(we[0],we[1],we[2],this.opacity*F((qe[ge]-pt)/(wt-pt),this.opacityscale)):we.length===3?de.push(we[0],we[1],we[2],this.opacity):(de.push(we[0],we[1],we[2],we[3]*this.opacity),we[3]<1&&(this.hasAlpha=!0));var Ue;$e?Ue=$e[ge]:qe?Ue=[(qe[ge]-pt)/(wt-pt),0]:ht?Ue=ht[Mt]:vt?Ue=[(vt[Mt]-pt)/(wt-pt),0]:Ue=[(Ze[2]-pt)/(wt-pt),0],be.push(Ue[0],Ue[1]),Se.push(Mt)}Re+=1;break;case 3:for(var Ge=0;Ge<3;++Ge)for(var ge=De[Ge],Ze=Q[ge],et=0;et<3;++et)if(isNaN(Ze[et])||!isFinite(Ze[et]))continue e;for(var Ge=0;Ge<3;++Ge){var ge=De[2-Ge],Ze=Q[ge];te.push(Ze[0],Ze[1],Ze[2]);var we;Ye?we=Ye[ge]:rt?we=rt[Mt]:we=ot,we?this.opacityscale&&qe?ue.push(we[0],we[1],we[2],this.opacity*F((qe[ge]-pt)/(wt-pt),this.opacityscale)):we.length===3?ue.push(we[0],we[1],we[2],this.opacity):(ue.push(we[0],we[1],we[2],we[3]*this.opacity),we[3]<1&&(this.hasAlpha=!0)):ue.push(.5,.5,.5,1);var Ue;$e?Ue=$e[ge]:qe?Ue=[(qe[ge]-pt)/(wt-pt),0]:ht?Ue=ht[Mt]:vt?Ue=[(vt[Mt]-pt)/(wt-pt),0]:Ue=[(Ze[2]-pt)/(wt-pt),0],K.push(Ue[0],Ue[1]);var st;Oe?st=Oe[ge]:st=_e[Mt],J.push(st[0],st[1],st[2]),ce.push(Mt)}Pe+=1;break}}this.pointCount=je,this.edgeCount=Re,this.triangleCount=Pe,this.pointPositions.update(Te),this.pointColors.update(Ie),this.pointUVs.update(ke),this.pointSizes.update(Be),this.pointIds.update(new Uint32Array(Me)),this.edgePositions.update(ae),this.edgeColors.update(de),this.edgeUVs.update(be),this.edgeIds.update(new Uint32Array(Se)),this.trianglePositions.update(te),this.triangleColors.update(ue),this.triangleUVs.update(K),this.triangleNormals.update(J),this.triangleIds.update(new Uint32Array(ce))}},H.drawTransparent=H.draw=function(ne){ne=ne||{};for(var q=this.gl,le=ne.model||N,Q=ne.view||N,te=ne.projection||N,ue=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ue[0][J]=Math.max(ue[0][J],this.clipBounds[0][J]),ue[1][J]=Math.min(ue[1][J],this.clipBounds[1][J]);var K={model:le,view:Q,projection:te,inverseModel:N.slice(),clipBounds:ue,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=T(K.inverseModel,K.model),q.disable(q.CULL_FACE),this.texture.bind(0);var ce=new Array(16);h(ce,K.view,K.model),h(ce,K.projection,ce),T(ce,ce);for(var J=0;J<3;++J)K.eyePosition[J]=ce[12+J]/ce[15];for(var ae=ce[15],J=0;J<3;++J)ae+=this.lightPosition[J]*ce[4*J+3];for(var J=0;J<3;++J){for(var de=ce[12+J],be=0;be<3;++be)de+=ce[4*be+J]*this.lightPosition[be];K.lightPosition[J]=de/ae}if(this.triangleCount>0){var Se=this.triShader;Se.bind(),Se.uniforms=K,this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Se=this.lineShader;Se.bind(),Se.uniforms=K,this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Se=this.pointShader;Se.bind(),Se.uniforms=K,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Se=this.contourShader;Se.bind(),Se.uniforms=K,this.contourVAO.bind(),q.drawArrays(q.LINES,0,this.contourCount),this.contourVAO.unbind()}},H.drawPick=function(ne){ne=ne||{};for(var q=this.gl,le=ne.model||N,Q=ne.view||N,te=ne.projection||N,ue=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],J=0;J<3;++J)ue[0][J]=Math.max(ue[0][J],this.clipBounds[0][J]),ue[1][J]=Math.min(ue[1][J],this.clipBounds[1][J]);this._model=[].slice.call(le),this._view=[].slice.call(Q),this._projection=[].slice.call(te),this._resolution=[q.drawingBufferWidth,q.drawingBufferHeight];var K={model:le,view:Q,projection:te,clipBounds:ue,pickId:this.pickId/255},ce=this.pickShader;if(ce.bind(),ce.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),q.drawArrays(q.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),q.lineWidth(this.lineWidth*this.pixelRatio),q.drawArrays(q.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ce=this.pointPickShader;ce.bind(),ce.uniforms=K,this.pointVAO.bind(),q.drawArrays(q.POINTS,0,this.pointCount),this.pointVAO.unbind()}},H.pick=function(ne){if(!ne||ne.id!==this.pickId)return null;for(var q=ne.value[0]+256*ne.value[1]+65536*ne.value[2],le=this.cells[q],Q=this.positions,te=new Array(le.length),ue=0;ue<le.length;++ue)te[ue]=Q[le[ue]];var J=ne.coord[0],K=ne.coord[1];if(!this.pickVertex){var ce=this.positions[le[0]],ae=this.positions[le[1]],de=this.positions[le[2]],be=[(ce[0]+ae[0]+de[0])/3,(ce[1]+ae[1]+de[1])/3,(ce[2]+ae[2]+de[2])/3];return{_cellCenter:!0,position:[J,K],index:q,cell:le,cellId:q,intensity:this.intensity[q],dataCoordinate:be}}var Se=_(te,[J*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Se)return null;for(var Te=Se[2],Ie=0,ue=0;ue<le.length;++ue)Ie+=Te[ue]*this.intensity[le[ue]];return{position:Se[1],index:le[Se[0]],cell:le,cellId:q,intensity:Ie,dataCoordinate:this.positions[le[Se[0]]]}},H.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function z(ne){var q=n(ne,m.vertex,m.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.normal.location=4,q}function W(ne){var q=n(ne,E.vertex,E.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q}function j(ne){var q=n(ne,A.vertex,A.fragment);return q.attributes.position.location=0,q.attributes.color.location=2,q.attributes.uv.location=3,q.attributes.pointSize.location=4,q}function ee(ne){var q=n(ne,s.vertex,s.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q}function ie(ne){var q=n(ne,M.vertex,M.fragment);return q.attributes.position.location=0,q.attributes.id.location=1,q.attributes.pointSize.location=4,q}function oe(ne){var q=n(ne,b.vertex,b.fragment);return q.attributes.position.location=0,q}function he(ne,q){arguments.length===1&&(q=ne,ne=q.gl);var le=ne.getExtension("OES_standard_derivatives")||ne.getExtension("MOZ_OES_standard_derivatives")||ne.getExtension("WEBKIT_OES_standard_derivatives");if(!le)throw new Error("derivatives not supported");var Q=z(ne),te=W(ne),ue=j(ne),J=ee(ne),K=ie(ne),ce=oe(ne),ae=l(ne,c(new Uint8Array([255,255,255,255]),[1,1,4]));ae.generateMipmap(),ae.minFilter=ne.LINEAR_MIPMAP_LINEAR,ae.magFilter=ne.LINEAR;var de=f(ne),be=f(ne),Se=f(ne),Te=f(ne),Ie=f(ne),ke=u(ne,[{buffer:de,type:ne.FLOAT,size:3},{buffer:Ie,type:ne.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:ne.FLOAT,size:4},{buffer:Se,type:ne.FLOAT,size:2},{buffer:Te,type:ne.FLOAT,size:3}]),Be=f(ne),Me=f(ne),Oe=f(ne),_e=f(ne),Ne=u(ne,[{buffer:Be,type:ne.FLOAT,size:3},{buffer:_e,type:ne.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Me,type:ne.FLOAT,size:4},{buffer:Oe,type:ne.FLOAT,size:2}]),Ce=f(ne),Ye=f(ne),rt=f(ne),ot=f(ne),$e=f(ne),qe=u(ne,[{buffer:Ce,type:ne.FLOAT,size:3},{buffer:$e,type:ne.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ye,type:ne.FLOAT,size:4},{buffer:rt,type:ne.FLOAT,size:2},{buffer:ot,type:ne.FLOAT,size:1}]),ht=f(ne),vt=u(ne,[{buffer:ht,type:ne.FLOAT,size:3}]),pt=new k(ne,ae,Q,te,ue,J,K,ce,de,Ie,be,Se,Te,ke,Be,_e,Me,Oe,Ne,Ce,$e,Ye,rt,ot,qe,ht,vt);return pt.update(q),pt}v.exports=he},8120:function(v,g,r){v.exports=l;var t=r(2762),a=r(9405),n=r(3603);function f(y,h,T){this.plot=y,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var y=[0,0],h=[0,0];return function(T,c,i,d,x){var w=this.plot,_=this.shader,m=w.gl;y[0]=T,y[1]=c,h[0]=i,h[1]=d,_.uniforms.lo=y,_.uniforms.hi=h,_.uniforms.color=x,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,T=t(h,[0,0,0,1,1,0,1,1]),c=a(h,n.boxVert,n.lineFrag);return new f(y,T,c)}},1913:function(v,g,r){v.exports=h;var t=r(2762),a=r(9405),n=r(2478),f=r(3603);function u(T,c,i,d){this.plot=T,this.vbo=c,this.shader=i,this.tickShader=d,this.ticks=[[],[]]}function l(T,c){return T-c}var y=u.prototype;y.draw=function(){var T=[0,0],c=[0,0],i=[0,0];return function(){for(var d=this.plot,x=this.vbo,w=this.shader,_=this.ticks,m=d.gl,E=d._tickBounds,A=d.dataBox,s=d.viewBox,M=d.gridLineWidth,b=d.gridLineColor,N=d.gridLineEnable,k=d.pixelRatio,H=0;H<2;++H){var F=E[H],B=E[H+2],U=B-F,z=.5*(A[H+2]+A[H]),W=A[H+2]-A[H];c[H]=2*U/W,T[H]=2*(F-z)/W}w.bind(),x.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=T,w.uniforms.dataScale=c;for(var j=0,H=0;H<2;++H){i[0]=i[1]=0,i[H]=1,w.uniforms.dataAxis=i,w.uniforms.lineWidth=M[H]/(s[H+2]-s[H])*k,w.uniforms.color=b[H];var ee=_[H].length*6;N[H]&&ee&&m.drawArrays(m.TRIANGLES,j,ee),j+=ee}}}(),y.drawTickMarks=function(){var T=[0,0],c=[0,0],i=[1,0],d=[0,1],x=[0,0],w=[0,0];return function(){for(var _=this.plot,m=this.vbo,E=this.tickShader,A=this.ticks,s=_.gl,M=_._tickBounds,b=_.dataBox,N=_.viewBox,k=_.pixelRatio,H=_.screenBox,F=H[2]-H[0],B=H[3]-H[1],U=N[2]-N[0],z=N[3]-N[1],W=0;W<2;++W){var j=M[W],ee=M[W+2],ie=ee-j,oe=.5*(b[W+2]+b[W]),he=b[W+2]-b[W];c[W]=2*ie/he,T[W]=2*(j-oe)/he}c[0]*=U/F,T[0]*=U/F,c[1]*=z/B,T[1]*=z/B,E.bind(),m.bind(),E.attributes.dataCoord.pointer();var ne=E.uniforms;ne.dataShift=T,ne.dataScale=c;var q=_.tickMarkLength,le=_.tickMarkWidth,Q=_.tickMarkColor,te=0,ue=A[0].length*6,J=Math.min(n.ge(A[0],(b[0]-M[0])/(M[2]-M[0]),l),A[0].length),K=Math.min(n.gt(A[0],(b[2]-M[0])/(M[2]-M[0]),l),A[0].length),ce=te+6*J,ae=6*Math.max(0,K-J),de=Math.min(n.ge(A[1],(b[1]-M[1])/(M[3]-M[1]),l),A[1].length),be=Math.min(n.gt(A[1],(b[3]-M[1])/(M[3]-M[1]),l),A[1].length),Se=ue+6*de,Te=6*Math.max(0,be-de);x[0]=2*(N[0]-q[1])/F-1,x[1]=(N[3]+N[1])/B-1,w[0]=q[1]*k/F,w[1]=le[1]*k/B,Te&&(ne.color=Q[1],ne.tickScale=w,ne.dataAxis=d,ne.screenOffset=x,s.drawArrays(s.TRIANGLES,Se,Te)),x[0]=(N[2]+N[0])/F-1,x[1]=2*(N[1]-q[0])/B-1,w[0]=le[0]*k/F,w[1]=q[0]*k/B,ae&&(ne.color=Q[0],ne.tickScale=w,ne.dataAxis=i,ne.screenOffset=x,s.drawArrays(s.TRIANGLES,ce,ae)),x[0]=2*(N[2]+q[3])/F-1,x[1]=(N[3]+N[1])/B-1,w[0]=q[3]*k/F,w[1]=le[3]*k/B,Te&&(ne.color=Q[3],ne.tickScale=w,ne.dataAxis=d,ne.screenOffset=x,s.drawArrays(s.TRIANGLES,Se,Te)),x[0]=(N[2]+N[0])/F-1,x[1]=2*(N[3]+q[2])/B-1,w[0]=le[2]*k/F,w[1]=q[2]*k/B,ae&&(ne.color=Q[2],ne.tickScale=w,ne.dataAxis=i,ne.screenOffset=x,s.drawArrays(s.TRIANGLES,ce,ae))}}(),y.update=function(){var T=[1,1,-1,-1,1,-1],c=[1,-1,1,1,-1,-1];return function(i){var d=i.ticks,x=i.bounds,w=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var _=0,m=[[],[]],E=0;E<2;++E)for(var A=m[E],s=d[E],M=x[E],b=x[E+2],N=0;N<s.length;++N){var k=(s[N].x-M)/(b-M);A.push(k);for(var H=0;H<6;++H)w[_++]=k,w[_++]=T[H],w[_++]=c[H]}this.ticks=m,this.vbo.update(w)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(T){var c=T.gl,i=t(c),d=a(c,f.gridVert,f.gridFrag),x=a(c,f.tickVert,f.gridFrag),w=new u(T,i,d,x);return w}},4747:function(v,g,r){v.exports=l;var t=r(2762),a=r(9405),n=r(3603);function f(y,h,T){this.plot=y,this.vbo=h,this.shader=T}var u=f.prototype;u.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var y=[0,0],h=[0,0];return function(T,c,i,d,x,w){var _=this.plot,m=this.shader,E=_.gl;y[0]=T,y[1]=c,h[0]=i,h[1]=d,m.uniforms.start=y,m.uniforms.end=h,m.uniforms.width=x*_.pixelRatio,m.uniforms.color=w,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function l(y){var h=y.gl,T=t(h,[-1,-1,-1,1,1,-1,1,1]),c=a(h,n.lineVert,n.lineFrag),i=new f(y,T,c);return i}},3603:function(v,g,r){var t=r(3236),a=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:a,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:a,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:a,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},2142:function(v,g,r){v.exports=h;var t=r(2762),a=r(9405),n=r(529),f=r(2478),u=r(3603);function l(T,c,i){this.plot=T,this.vbo=c,this.shader=i,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=l.prototype;y.drawTicks=function(){var T=[0,0],c=[0,0],i=[0,0];return function(d){var x=this.plot,w=this.shader,_=this.tickX[d],m=this.tickOffset[d],E=x.gl,A=x.viewBox,s=x.dataBox,M=x.screenBox,b=x.pixelRatio,N=x.tickEnable,k=x.tickPad,H=x.tickColor,F=x.tickAngle,B=x.labelEnable,U=x.labelPad,z=x.labelColor,W=x.labelAngle,j=this.labelOffset[d],ee=this.labelCount[d],ie=f.lt(_,s[d]),oe=f.le(_,s[d+2]);T[0]=T[1]=0,T[d]=1,c[d]=(A[2+d]+A[d])/(M[2+d]-M[d])-1;var he=2/M[2+(d^1)]-M[d^1];c[d^1]=he*A[d^1]-1,N[d]&&(c[d^1]-=he*b*k[d],ie<oe&&m[oe]>m[ie]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=H[d],w.uniforms.angle=F[d],E.drawArrays(E.TRIANGLES,m[ie],m[oe]-m[ie]))),B[d]&&ee&&(c[d^1]-=he*b*U[d],w.uniforms.dataAxis=i,w.uniforms.screenOffset=c,w.uniforms.color=z[d],w.uniforms.angle=W[d],E.drawArrays(E.TRIANGLES,j,ee)),c[d^1]=he*A[2+(d^1)]-1,N[d+2]&&(c[d^1]+=he*b*k[d+2],ie<oe&&m[oe]>m[ie]&&(w.uniforms.dataAxis=T,w.uniforms.screenOffset=c,w.uniforms.color=H[d+2],w.uniforms.angle=F[d+2],E.drawArrays(E.TRIANGLES,m[ie],m[oe]-m[ie]))),B[d+2]&&ee&&(c[d^1]+=he*b*U[d+2],w.uniforms.dataAxis=i,w.uniforms.screenOffset=c,w.uniforms.color=z[d+2],w.uniforms.angle=W[d+2],E.drawArrays(E.TRIANGLES,j,ee))}}(),y.drawTitle=function(){var T=[0,0],c=[0,0];return function(){var i=this.plot,d=this.shader,x=i.gl,w=i.screenBox,_=i.titleCenter,m=i.titleAngle,E=i.titleColor,A=i.pixelRatio;if(this.titleCount){for(var s=0;s<2;++s)c[s]=2*(_[s]*A-w[s])/(w[2+s]-w[s])-1;d.bind(),d.uniforms.dataAxis=T,d.uniforms.screenOffset=c,d.uniforms.angle=m,d.uniforms.color=E,x.drawArrays(x.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var T=[0,0],c=[0,0],i=[0,0];return function(){var d=this.plot,x=this.shader,w=d._tickBounds,_=d.dataBox,m=d.screenBox,E=d.viewBox;x.bind();for(var A=0;A<2;++A){var s=w[A],M=w[A+2],b=M-s,N=.5*(_[A+2]+_[A]),k=_[A+2]-_[A],H=E[A],F=E[A+2],B=F-H,U=m[A],z=m[A+2],W=z-U;c[A]=2*b/k*B/W,T[A]=2*(s-N)/k*B/W}i[1]=2*d.pixelRatio/(m[3]-m[1]),i[0]=i[1]*(m[3]-m[1])/(m[2]-m[0]),x.uniforms.dataScale=c,x.uniforms.dataShift=T,x.uniforms.textScale=i,this.vbo.bind(),x.attributes.textCoordinate.pointer()}}(),y.update=function(T){var c=[],i=T.ticks,d=T.bounds,x,w,_,m,E;for(E=0;E<2;++E){var A=[Math.floor(c.length/3)],s=[-1/0],M=i[E];for(x=0;x<M.length;++x){var b=M[x],N=b.x,k=b.text,H=b.font||"sans-serif",F=b.fontStyle||"normal",B=b.fontWeight||"normal",U=b.fontVariant||"normal";m=b.fontSize||12;for(var z=1/(d[E+2]-d[E]),W=d[E],j=k.split(`
`),ee=0;ee<j.length;ee++)for(_=n(H,j[ee],{fontStyle:F,fontWeight:B,fontVariant:U}).data,w=0;w<_.length;w+=2)c.push(_[w]*m,-_[w+1]*m-ee*m*1.2,(N-W)*z);A.push(Math.floor(c.length/3)),s.push(N)}this.tickOffset[E]=A,this.tickX[E]=s}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(c.length/3),_=n(T.labelFont[E],T.labels[E],{fontStyle:T.labelFontStyle[E],fontWeight:T.labelFontWeight[E],fontVariant:T.labelFontVariant[E],textAlign:"center"}).data,m=T.labelSize[E],x=0;x<_.length;x+=2)c.push(_[x]*m,-_[x+1]*m,0);this.labelCount[E]=Math.floor(c.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(c.length/3),_=n(T.titleFont,T.title,{fontStyle:T.titleFontStyle,fontWeight:T.titleFontWeight,fontVariant:T.titleFontVariant}).data,m=T.titleSize,x=0;x<_.length;x+=2)c.push(_[x]*m,-_[x+1]*m,0);this.titleCount=Math.floor(c.length/3)-this.titleOffset,this.vbo.update(c)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(T){var c=T.gl,i=t(c),d=a(c,u.textVert,u.textFrag),x=new l(T,i,d);return x}},1850:function(v,g,r){v.exports=c;var t=r(3589),a=r(1913),n=r(2142),f=r(4747),u=r(8120);function l(i,d){this.gl=i,this.pickBuffer=d,this.screenBox=[0,0,i.drawingBufferWidth,i.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=l.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var i=this.gl,d=this.screenBox,x=this.viewBox,w=this.dataBox,_=this.pixelRatio,m=this.grid,E=this.line,A=this.text,s=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),i.disable(i.DEPTH_TEST),i.depthFunc(i.LESS),i.depthMask(!1),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD,i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.borderColor){i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var M=this.borderColor;i.clearColor(M[0]*M[3],M[1]*M[3],M[2]*M[3],M[3]),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)}i.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),i.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var b=this.backgroundColor;i.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),i.clear(i.COLOR_BUFFER_BIT),m.draw();var N=this.zeroLineEnable,k=this.zeroLineColor,H=this.zeroLineWidth;if(N[0]||N[1]){E.bind();for(var F=0;F<2;++F)if(!(!N[F]||!(w[F]<=0&&w[F+2]>=0))){var B=d[F]-w[F]*(d[F+2]-d[F])/(w[F+2]-w[F]);F===0?E.drawLine(B,d[1],B,d[3],H[F],k[F]):E.drawLine(d[0],B,d[2],B,H[F],k[F])}}for(var F=0;F<s.length;++F)s[F].draw();i.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),i.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),E.bind();var U=this.borderLineEnable,z=this.borderLineWidth,W=this.borderLineColor;U[1]&&E.drawLine(x[0],x[1]-.5*z[1]*_,x[0],x[3]+.5*z[3]*_,z[1],W[1]),U[0]&&E.drawLine(x[0]-.5*z[0]*_,x[1],x[2]+.5*z[2]*_,x[1],z[0],W[0]),U[3]&&E.drawLine(x[2],x[1]-.5*z[1]*_,x[2],x[3]+.5*z[3]*_,z[3],W[3]),U[2]&&E.drawLine(x[0]-.5*z[0]*_,x[3],x[2]+.5*z[2]*_,x[3],z[2],W[2]),A.bind();for(var F=0;F<2;++F)A.drawTicks(F);this.titleEnable&&A.drawTitle();for(var j=this.overlays,F=0;F<j.length;++F)j[F].draw();i.disable(i.SCISSOR_TEST),i.disable(i.BLEND),i.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var i=this.pickBuffer;this.gl,this._pickTimeout=null,i.begin();for(var d=1,x=this.objects,w=0;w<x.length;++w)d=x[w].drawPick(d);i.end()}}}(),y.pick=function(){return function(i,d){if(!this.static){var x=this.pixelRatio,w=this.pickPixelRatio,_=this.viewBox,m=Math.round((i-_[0]/x)*w)|0,E=Math.round((d-_[1]/x)*w)|0,A=this.pickBuffer.query(m,E,this.pickRadius);if(!A)return null;for(var s=A.id+(A.value[0]<<8)+(A.value[1]<<16)+(A.value[2]<<24),M=this.objects,b=0;b<M.length;++b){var N=M[b].pick(m,E,s);if(N)return N}return null}}}();function h(i){for(var d=i.slice(),x=0;x<d.length;++x)d[x]=d[x].slice();return d}function T(i,d){return i.x-d.x}y.setScreenBox=function(i){var d=this.screenBox,x=this.pixelRatio;d[0]=Math.round(i[0]*x)|0,d[1]=Math.round(i[1]*x)|0,d[2]=Math.round(i[2]*x)|0,d[3]=Math.round(i[3]*x)|0,this.setDirty()},y.setDataBox=function(i){var d=this.dataBox,x=d[0]!==i[0]||d[1]!==i[1]||d[2]!==i[2]||d[3]!==i[3];x&&(d[0]=i[0],d[1]=i[1],d[2]=i[2],d[3]=i[3],this.setDirty())},y.setViewBox=function(i){var d=this.pixelRatio,x=this.viewBox;x[0]=Math.round(i[0]*d)|0,x[1]=Math.round(i[1]*d)|0,x[2]=Math.round(i[2]*d)|0,x[3]=Math.round(i[3]*d)|0;var w=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((i[2]-i[0])*w)|0,Math.round((i[3]-i[1])*w)|0],this.setDirty()},y.update=function(i){i=i||{};var d=this.gl;this.pixelRatio=i.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(i.screenBox||[0,0,d.drawingBufferWidth/x,d.drawingBufferHeight/x]),this.screenBox,this.setViewBox(i.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var w=this.viewBox,_=(w[2]-w[0])/(w[3]-w[1]);this.setDataBox(i.dataBox||[-10,-10/_,10,10/_]),this.borderColor=i.borderColor!==!1?(i.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(i.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(i.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(i.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(i.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(i.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(i.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(i.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(i.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(i.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(i.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(i.titleCenter||[.5*(w[0]+w[2])/x,(w[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in i)||!!i.titleEnable,this.titleAngle=i.titleAngle||0,this.titleColor=(i.titleColor||[0,0,0,1]).slice(),this.labelPad=(i.labelPad||[15,15,15,15]).slice(),this.labelAngle=(i.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(i.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(i.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(i.tickPad||[15,15,15,15]).slice(),this.tickAngle=(i.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(i.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(i.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(i.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(i.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(i.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=i.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var A=0;A<2;++A){var s=m[A].slice(0);s.length!==0&&(s.sort(T),E[A]=Math.min(E[A],s[0].x),E[A+2]=Math.max(E[A+2],s[s.length-1].x))}this.grid.update({bounds:E,ticks:m}),this.text.update({bounds:E,ticks:m,labels:i.labels||["x","y"],labelSize:i.labelSize||[12,12],labelFont:i.labelFont||["sans-serif","sans-serif"],labelFontStyle:i.labelFontStyle||["normal","normal"],labelFontWeight:i.labelFontWeight||["normal","normal"],labelFontVariant:i.labelFontVariant||["normal","normal"],title:i.title||"",titleSize:i.titleSize||18,titleFont:i.titleFont||"sans-serif",titleFontStyle:i.titleFontStyle||"normal",titleFontWeight:i.titleFontWeight||"normal",titleFontVariant:i.titleFontVariant||"normal"}),this.static=!!i.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var i=this.objects.length-1;i>=0;--i)this.objects[i].dispose();this.objects.length=0;for(var i=this.overlays.length-1;i>=0;--i)this.overlays[i].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(i){this.objects.indexOf(i)<0&&(this.objects.push(i),this.setDirty())},y.removeObject=function(i){for(var d=this.objects,x=0;x<d.length;++x)if(d[x]===i){d.splice(x,1),this.setDirty();break}},y.addOverlay=function(i){this.overlays.indexOf(i)<0&&(this.overlays.push(i),this.setOverlayDirty())},y.removeOverlay=function(i){for(var d=this.overlays,x=0;x<d.length;++x)if(d[x]===i){d.splice(x,1),this.setOverlayDirty();break}};function c(i){var d=i.gl,x=t(d,[d.drawingBufferWidth,d.drawingBufferHeight]),w=new l(d,x);return w.grid=a(w),w.text=n(w),w.line=f(w),w.box=u(w),w.update(i),w}},4437:function(v,g,r){v.exports=y;var t=r(3025),a=r(6296),n=r(351),f=r(8512),u=r(24),l=r(7520);function y(h,T){h=h||document.body,T=T||{};var c=[.01,1/0];"distanceLimits"in T&&(c[0]=T.distanceLimits[0],c[1]=T.distanceLimits[1]),"zoomMin"in T&&(c[0]=T.zoomMin),"zoomMax"in T&&(c[1]=T.zoomMax);var i=a({center:T.center||[0,0,0],up:T.up||[0,1,0],eye:T.eye||[0,0,10],mode:T.mode||"orbit",distanceLimits:c}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,w=h.clientWidth,_=h.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:i,element:h,delay:T.delay||16,rotateSpeed:T.rotateSpeed||1,zoomSpeed:T.zoomSpeed||1,translateSpeed:T.translateSpeed||1,flipX:!!T.flipX,flipY:!!T.flipY,modes:i.modes,_ortho:T._ortho||T.projection&&T.projection.type==="orthographic"||!1,tick:function(){var E=t(),A=this.delay,s=E-2*A;i.idle(E-A),i.recalcMatrix(s),i.flush(E-(100+A*2));for(var M=!0,b=i.computedMatrix,N=0;N<16;++N)M=M&&d[N]===b[N],d[N]=b[N];var k=h.clientWidth===w&&h.clientHeight===_;return w=h.clientWidth,_=h.clientHeight,M?!k:(x=Math.exp(i.computedRadius[0]),!0)},lookAt:function(E,A,s){i.lookAt(i.lastT(),E,A,s)},rotate:function(E,A,s){i.rotate(i.lastT(),E,A,s)},pan:function(E,A,s){i.pan(i.lastT(),E,A,s)},translate:function(E,A,s){i.translate(i.lastT(),E,A,s)}};return Object.defineProperties(m,{matrix:{get:function(){return i.computedMatrix},set:function(E){return i.setMatrix(i.lastT(),E),i.computedMatrix},enumerable:!0},mode:{get:function(){return i.getMode()},set:function(E){var A=i.computedUp.slice(),s=i.computedEye.slice(),M=i.computedCenter.slice();if(i.setMode(E),E==="turntable"){var b=t();i._active.lookAt(b,s,M,A),i._active.lookAt(b+500,s,M,[0,0,1]),i._active.flush(b)}return i.getMode()},enumerable:!0},center:{get:function(){return i.computedCenter},set:function(E){return i.lookAt(i.lastT(),null,E),i.computedCenter},enumerable:!0},eye:{get:function(){return i.computedEye},set:function(E){return i.lookAt(i.lastT(),E),i.computedEye},enumerable:!0},up:{get:function(){return i.computedUp},set:function(E){return i.lookAt(i.lastT(),null,null,E),i.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(E){return i.setDistance(i.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return i.getDistanceLimits(c)},set:function(E){return i.setDistanceLimits(E),E},enumerable:!0}}),h.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(h,E),h.addEventListener("touchstart",function(A){var s=u(A.changedTouches[0],h);E(0,s[0],s[1],m._lastMods),E(1,s[0],s[1],m._lastMods)},l?{passive:!0}:!1),h.addEventListener("touchmove",function(A){var s=u(A.changedTouches[0],h);E(1,s[0],s[1],m._lastMods),A.preventDefault()},l?{passive:!1}:!1),h.addEventListener("touchend",function(A){E(0,m._lastX,m._lastY,m._lastMods)},l?{passive:!0}:!1);function E(A,s,M,b){var N=m.keyBindingMode;if(N!==!1){var k=N==="rotate",H=N==="pan",F=N==="zoom",B=!!b.control,U=!!b.alt,z=!!b.shift,W=!!(A&1),j=!!(A&2),ee=!!(A&4),ie=1/h.clientHeight,oe=ie*(s-m._lastX),he=ie*(M-m._lastY),ne=m.flipX?1:-1,q=m.flipY?1:-1,le=Math.PI*m.rotateSpeed,Q=t();if(m._lastX!==-1&&m._lastY!==-1&&((k&&W&&!B&&!U&&!z||W&&!B&&!U&&z)&&i.rotate(Q,ne*le*oe,-q*le*he,0),(H&&W&&!B&&!U&&!z||j||W&&B&&!U&&!z)&&i.pan(Q,-m.translateSpeed*oe*x,m.translateSpeed*he*x,0),F&&W&&!B&&!U&&!z||ee||W&&!B&&U&&!z)){var te=-m.zoomSpeed*he/window.innerHeight*(Q-i.lastT())*100;i.pan(Q,0,0,x*(Math.exp(te)-1))}return m._lastX=s,m._lastY=M,m._lastMods=b,!0}}m.wheelListener=f(h,function(A,s){if(m.keyBindingMode!==!1&&m.enableWheel){var M=m.flipX?1:-1,b=m.flipY?1:-1,N=t();if(Math.abs(A)>Math.abs(s))i.rotate(N,0,0,-A*M*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var k=-m.zoomSpeed*b*s/window.innerHeight*(N-i.lastT())/20;i.pan(N,0,0,x*(Math.exp(k)-1))}}},!0)},m.enableMouseListeners(),m}},799:function(v,g,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),f=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec2"}])}},4100:function(v,g,r){var t=r(4437),a=r(3837),n=r(5445),f=r(4449),u=r(3589),l=r(2260),y=r(7169),h=r(351),T=r(4772),c=r(4040),i=r(799),d=r(9216)({tablet:!0,featureDetect:!0});v.exports={createScene:E,createCamera:t};function x(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function w(s,M){var b=null;try{b=s.getContext("webgl",M),b||(b=s.getContext("experimental-webgl",M))}catch{return null}return b}function _(s){var M=Math.round(Math.log(Math.abs(s))/Math.log(10));if(M<0){var b=Math.round(Math.pow(10,-M));return Math.ceil(s*b)/b}else if(M>0){var b=Math.round(Math.pow(10,M));return Math.ceil(s/b)*b}return Math.ceil(s)}function m(s){return typeof s=="boolean"?s:!0}function E(s){s=s||{},s.camera=s.camera||{};var M=s.canvas;if(!M)if(M=document.createElement("canvas"),s.container){var b=s.container;b.appendChild(M)}else document.body.appendChild(M);var N=s.gl;if(N||(s.glOptions&&(d=!!s.glOptions.preserveDrawingBuffer),N=w(M,s.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!N)throw new Error("webgl not supported");var k=s.bounds||[[-10,-10,-10],[10,10,10]],H=new x,F=l(N,N.drawingBufferWidth,N.drawingBufferHeight,{preferFloat:!d}),B=i(N),U=s.cameraObject&&s.cameraObject._ortho===!0||s.camera.projection&&s.camera.projection.type==="orthographic"||!1,z={eye:s.camera.eye||[2,0,0],center:s.camera.center||[0,0,0],up:s.camera.up||[0,1,0],zoomMin:s.camera.zoomMax||.1,zoomMax:s.camera.zoomMin||100,mode:s.camera.mode||"turntable",_ortho:U},W=s.axes||{},j=a(N,W);j.enable=!W.disable;var ee=s.spikes||{},ie=f(N,ee),oe=[],he=[],ne=[],q=[],le=!0,J=!0,Q=new Array(16),te=new Array(16),ue={view:null,projection:Q,model:te,_ortho:!1},J=!0,K=[N.drawingBufferWidth,N.drawingBufferHeight],ce=s.cameraObject||t(M,z),ae={gl:N,contextLost:!1,pixelRatio:s.pixelRatio||1,canvas:M,selection:H,camera:ce,axes:j,axesPixels:null,spikes:ie,bounds:k,objects:oe,shape:K,aspect:s.aspectRatio||[1,1,1],pickRadius:s.pickRadius||10,zNear:s.zNear||.01,zFar:s.zFar||1e3,fovy:s.fovy||Math.PI/4,clearColor:s.clearColor||[0,0,0,0],autoResize:m(s.autoResize),autoBounds:m(s.autoBounds),autoScale:!!s.autoScale,autoCenter:m(s.autoCenter),clipToBounds:m(s.clipToBounds),snapToData:!!s.snapToData,onselect:s.onselect||null,onrender:s.onrender||null,onclick:s.onclick||null,cameraParams:ue,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(_e){this.aspect[0]=_e.x,this.aspect[1]=_e.y,this.aspect[2]=_e.z,J=!0},setBounds:function(_e,Ne){this.bounds[0][_e]=Ne.min,this.bounds[1][_e]=Ne.max},setClearColor:function(_e){this.clearColor=_e},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},de=[N.drawingBufferWidth/ae.pixelRatio|0,N.drawingBufferHeight/ae.pixelRatio|0];function be(){if(!ae._stopped&&ae.autoResize){var _e=M.parentNode,Ne=1,Ce=1;_e&&_e!==document.body?(Ne=_e.clientWidth,Ce=_e.clientHeight):(Ne=window.innerWidth,Ce=window.innerHeight);var Ye=Math.ceil(Ne*ae.pixelRatio)|0,rt=Math.ceil(Ce*ae.pixelRatio)|0;if(Ye!==M.width||rt!==M.height){M.width=Ye,M.height=rt;var ot=M.style;ot.position=ot.position||"absolute",ot.left="0px",ot.top="0px",ot.width=Ne+"px",ot.height=Ce+"px",le=!0}}}ae.autoResize&&be(),window.addEventListener("resize",be);function Se(){for(var _e=oe.length,Ne=q.length,Ce=0;Ce<Ne;++Ce)ne[Ce]=0;e:for(var Ce=0;Ce<_e;++Ce){var Ye=oe[Ce],rt=Ye.pickSlots;if(!rt){he[Ce]=-1;continue}for(var ot=0;ot<Ne;++ot)if(ne[ot]+rt<255){he[Ce]=ot,Ye.setPickBase(ne[ot]+1),ne[ot]+=rt;continue e}var $e=u(N,K);he[Ce]=Ne,q.push($e),ne.push(rt),Ye.setPickBase(1),Ne+=1}for(;Ne>0&&ne[Ne-1]===0;)ne.pop(),q.pop().dispose()}ae.update=function(_e){ae._stopped||(le=!0,J=!0)},ae.add=function(_e){ae._stopped||(_e.axes=j,oe.push(_e),he.push(-1),le=!0,J=!0,Se())},ae.remove=function(_e){if(!ae._stopped){var Ne=oe.indexOf(_e);Ne<0||(oe.splice(Ne,1),he.pop(),le=!0,J=!0,Se())}},ae.dispose=function(){if(!ae._stopped&&(ae._stopped=!0,window.removeEventListener("resize",be),M.removeEventListener("webglcontextlost",Te),ae.mouseListener.enabled=!1,!ae.contextLost)){j.dispose(),ie.dispose();for(var _e=0;_e<oe.length;++_e)oe[_e].dispose();F.dispose();for(var _e=0;_e<q.length;++_e)q[_e].dispose();B.dispose(),N=null,j=null,ie=null,oe=[]}},ae._mouseRotating=!1,ae._prevButtons=0,ae.enableMouseListeners=function(){ae.mouseListener=h(M,function(_e,Ne,Ce){if(!ae._stopped){var Ye=q.length,rt=oe.length,ot=H.object;H.distance=1/0,H.mouse[0]=Ne,H.mouse[1]=Ce,H.object=null,H.screen=null,H.dataCoordinate=H.dataPosition=null;var $e=!1;if(_e&&ae._prevButtons)ae._mouseRotating=!0;else{ae._mouseRotating&&(J=!0),ae._mouseRotating=!1;for(var qe=0;qe<Ye;++qe){var ht=q[qe].query(Ne,de[1]-Ce-1,ae.pickRadius);if(ht){if(ht.distance>H.distance)continue;for(var vt=0;vt<rt;++vt){var pt=oe[vt];if(he[vt]===qe){var wt=pt.pick(ht);wt&&(H.buttons=_e,H.screen=ht.coord,H.distance=ht.distance,H.object=pt,H.index=wt.distance,H.dataPosition=wt.position,H.dataCoordinate=wt.dataCoordinate,H.data=wt,$e=!0)}}}}}ot&&ot!==H.object&&(ot.highlight&&ot.highlight(null),le=!0),H.object&&(H.object.highlight&&H.object.highlight(H.data),le=!0),$e=$e||H.object!==ot,$e&&ae.onselect&&ae.onselect(H),_e&1&&!(ae._prevButtons&1)&&ae.onclick&&ae.onclick(H),ae._prevButtons=_e}})};function Te(){if(ae.contextLost)return!0;N.isContextLost()&&(ae.contextLost=!0,ae.mouseListener.enabled=!1,ae.selection.object=null,ae.oncontextloss&&ae.oncontextloss())}M.addEventListener("webglcontextlost",Te);function Ie(){if(!Te()){N.colorMask(!0,!0,!0,!0),N.depthMask(!0),N.disable(N.BLEND),N.enable(N.DEPTH_TEST),N.depthFunc(N.LEQUAL);for(var _e=oe.length,Ne=q.length,Ce=0;Ce<Ne;++Ce){var Ye=q[Ce];Ye.shape=de,Ye.begin();for(var rt=0;rt<_e;++rt)if(he[rt]===Ce){var ot=oe[rt];ot.drawPick&&(ot.pixelRatio=1,ot.drawPick(ue))}Ye.end()}}}var ke=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Be=[ke[0].slice(),ke[1].slice()];function Me(){if(!Te()){be();var _e=ae.camera.tick();ue.view=ae.camera.matrix,le=le||_e,J=J||_e,j.pixelRatio=ae.pixelRatio,ie.pixelRatio=ae.pixelRatio;var Ne=oe.length,Ce=ke[0],Ye=ke[1];Ce[0]=Ce[1]=Ce[2]=1/0,Ye[0]=Ye[1]=Ye[2]=-1/0;for(var rt=0;rt<Ne;++rt){var ot=oe[rt];ot.pixelRatio=ae.pixelRatio,ot.axes=ae.axes,le=le||!!ot.dirty,J=J||!!ot.dirty;var $e=ot.bounds;if($e)for(var qe=$e[0],ht=$e[1],vt=0;vt<3;++vt)Ce[vt]=Math.min(Ce[vt],qe[vt]),Ye[vt]=Math.max(Ye[vt],ht[vt])}var pt=ae.bounds;if(ae.autoBounds)for(var vt=0;vt<3;++vt){if(Ye[vt]<Ce[vt])Ce[vt]=-1,Ye[vt]=1;else{Ce[vt]===Ye[vt]&&(Ce[vt]-=1,Ye[vt]+=1);var wt=.05*(Ye[vt]-Ce[vt]);Ce[vt]=Ce[vt]-wt,Ye[vt]=Ye[vt]+wt}pt[0][vt]=Ce[vt],pt[1][vt]=Ye[vt]}for(var Mt=!1,vt=0;vt<3;++vt)Mt=Mt||Be[0][vt]!==pt[0][vt]||Be[1][vt]!==pt[1][vt],Be[0][vt]=pt[0][vt],Be[1][vt]=pt[1][vt];if(J=J||Mt,le=le||Mt,!!le){if(Mt){for(var nt=[0,0,0],rt=0;rt<3;++rt)nt[rt]=_((pt[1][rt]-pt[0][rt])/10);j.autoTicks?j.update({bounds:pt,tickSpacing:nt}):j.update({bounds:pt})}var Fe=N.drawingBufferWidth,We=N.drawingBufferHeight;K[0]=Fe,K[1]=We,de[0]=Math.max(Fe/ae.pixelRatio,1)|0,de[1]=Math.max(We/ae.pixelRatio,1)|0,A(ae,U);for(var rt=0;rt<Ne;++rt){var ot=oe[rt];ot.axesBounds=pt,ae.clipToBounds&&(ot.clipBounds=pt)}H.object&&(ae.snapToData?ie.position=H.dataCoordinate:ie.position=H.dataPosition,ie.bounds=pt),J&&(J=!1,Ie()),ae.axesPixels=n(ae.axes,ue,Fe,We),ae.onrender&&ae.onrender(),N.bindFramebuffer(N.FRAMEBUFFER,null),N.viewport(0,0,Fe,We),ae.clearRGBA(),N.depthMask(!0),N.colorMask(!0,!0,!0,!0),N.enable(N.DEPTH_TEST),N.depthFunc(N.LEQUAL),N.disable(N.BLEND),N.disable(N.CULL_FACE);var Ze=!1;j.enable&&(Ze=Ze||j.isTransparent(),j.draw(ue)),ie.axes=j,H.object&&ie.draw(ue),N.disable(N.CULL_FACE);for(var rt=0;rt<Ne;++rt){var ot=oe[rt];ot.axes=j,ot.pixelRatio=ae.pixelRatio,ot.isOpaque&&ot.isOpaque()&&ot.draw(ue),ot.isTransparent&&ot.isTransparent()&&(Ze=!0)}if(Ze){F.shape=K,F.bind(),N.clear(N.DEPTH_BUFFER_BIT),N.colorMask(!1,!1,!1,!1),N.depthMask(!0),N.depthFunc(N.LESS),j.enable&&j.isTransparent()&&j.drawTransparent(ue);for(var rt=0;rt<Ne;++rt){var ot=oe[rt];ot.isOpaque&&ot.isOpaque()&&ot.draw(ue)}N.enable(N.BLEND),N.blendEquation(N.FUNC_ADD),N.blendFunc(N.ONE,N.ONE_MINUS_SRC_ALPHA),N.colorMask(!0,!0,!0,!0),N.depthMask(!1),N.clearColor(0,0,0,0),N.clear(N.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent(ue);for(var rt=0;rt<Ne;++rt){var ot=oe[rt];ot.isTransparent&&ot.isTransparent()&&ot.drawTransparent(ue)}N.bindFramebuffer(N.FRAMEBUFFER,null),N.blendFunc(N.ONE,N.ONE_MINUS_SRC_ALPHA),N.disable(N.DEPTH_TEST),B.bind(),F.color[0].bind(0),B.uniforms.accumBuffer=0,y(N),N.disable(N.BLEND)}le=!1;for(var rt=0;rt<Ne;++rt)oe[rt].dirty=!1}}}function Oe(){ae._stopped||ae.contextLost||(Me(),requestAnimationFrame(Oe))}return ae.enableMouseListeners(),Oe(),ae.redraw=function(){ae._stopped||(le=!0,Me())},ae}function A(s,M){var b=s.bounds,N=s.cameraParams,k=N.projection,H=N.model,F=s.gl.drawingBufferWidth,B=s.gl.drawingBufferHeight,U=s.zNear,z=s.zFar,W=s.fovy,j=F/B;M?(c(k,-j,j,-1,1,U,z),N._ortho=!0):(T(k,W,j,U,z),N._ortho=!1);for(var ee=0;ee<16;++ee)H[ee]=0;H[15]=1;for(var ie=0,ee=0;ee<3;++ee)ie=Math.max(ie,b[1][ee]-b[0][ee]);for(var ee=0;ee<3;++ee)s.autoScale?H[5*ee]=s.aspect[ee]/(b[1][ee]-b[0][ee]):H[5*ee]=1/ie,s.autoCenter&&(H[12+ee]=-H[5*ee]*.5*(b[0][ee]+b[1][ee]))}},6640:function(v,g,r){var t=r(3236);g.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),g.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),g.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),g.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},4696:function(v,g,r){var t=r(9405),a=r(2762),n=r(1888),f=r(6640);v.exports=h;function u(T,c,i,d,x){this.plot=T,this.offsetBuffer=c,this.pickBuffer=i,this.shader=d,this.pickShader=x,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var l=u.prototype;l.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},l.update=function(T){var c;T=T||{};function i(A,s){return A in T?T[A]:s}this.sizeMin=i("sizeMin",.5),this.sizeMax=i("sizeMax",20),this.color=i("color",[1,0,0,1]).slice(),this.areaRatio=i("areaRatio",1),this.borderColor=i("borderColor",[0,0,0,1]).slice(),this.blend=i("blend",!1);var d=T.positions.length>>>1,x=T.positions instanceof Float32Array,w=T.idToIndex instanceof Int32Array&&T.idToIndex.length>=d,_=T.positions,m=x?_:n.mallocFloat32(_.length),E=w?T.idToIndex:n.mallocInt32(d);if(x||m.set(_),!w)for(m.set(_),c=0;c<d;c++)E[c]=c;this.points=_,this.offsetBuffer.update(m),this.pickBuffer.update(E),x||n.free(m),w||n.free(E),this.pointCount=d,this.pickOffset=0};function y(T,c){var i=0,d=T.length>>>1,x;for(x=0;x<d;x++){var w=T[x*2],_=T[x*2+1];w>=c[0]&&w<=c[2]&&_>=c[1]&&_<=c[3]&&i++}return i}l.unifiedDraw=function(){var T=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0];return function(i){var d=i!==void 0,x=d?this.pickShader:this.shader,w=this.plot.gl,_=this.plot.dataBox;if(this.pointCount===0)return i;var m=_[2]-_[0],E=_[3]-_[1],A=y(this.points,_),s=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(A,.33333)));T[0]=2/m,T[4]=2/E,T[6]=-2*_[0]/m-1,T[7]=-2*_[1]/E-1,this.offsetBuffer.bind(),x.bind(),x.attributes.position.pointer(),x.uniforms.matrix=T,x.uniforms.color=this.color,x.uniforms.borderColor=this.borderColor,x.uniforms.pointCloud=s<5,x.uniforms.pointSize=s,x.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(c[0]=i&255,c[1]=i>>8&255,c[2]=i>>16&255,c[3]=i>>24&255,this.pickBuffer.bind(),x.attributes.pickId.pointer(w.UNSIGNED_BYTE),x.uniforms.pickOffset=c,this.pickOffset=i);var M=w.getParameter(w.BLEND),b=w.getParameter(w.DITHER);return M&&!this.blend&&w.disable(w.BLEND),b&&w.disable(w.DITHER),w.drawArrays(w.POINTS,0,this.pointCount),M&&!this.blend&&w.enable(w.BLEND),b&&w.enable(w.DITHER),i+this.pointCount}}(),l.draw=l.unifiedDraw,l.drawPick=l.unifiedDraw,l.pick=function(T,c,i){var d=this.pickOffset,x=this.pointCount;if(i<d||i>=d+x)return null;var w=i-d,_=this.points;return{object:this,pointId:w,dataCoord:[_[2*w],_[2*w+1]]}};function h(T,c){var i=T.gl,d=a(i),x=a(i),w=t(i,f.pointVertex,f.pointFragment),_=t(i,f.pickVertex,f.pickFragment),m=new u(T,d,x,w,_);return m.update(c),T.addObject(m),m}},783:function(v){v.exports=g;function g(r,t,a,n){var f=t[0],u=t[1],l=t[2],y=t[3],h=a[0],T=a[1],c=a[2],i=a[3],d,x,w,_,m;return x=f*h+u*T+l*c+y*i,x<0&&(x=-x,h=-h,T=-T,c=-c,i=-i),1-x>1e-6?(d=Math.acos(x),w=Math.sin(d),_=Math.sin((1-n)*d)/w,m=Math.sin(n*d)/w):(_=1-n,m=n),r[0]=_*f+m*h,r[1]=_*u+m*T,r[2]=_*l+m*c,r[3]=_*y+m*i,r}},5964:function(v){v.exports=function(g){return!g&&g!==0?"":g.toString()}},9366:function(v,g,r){var t=r(4359);v.exports=n;var a={};function n(f,u,l){var y=[u.style,u.weight,u.variant,u.family].join("_"),h=a[y];if(h||(h=a[y]={}),f in h)return h[f];var T={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u.family,fontStyle:u.style,fontWeight:u.weight,fontVariant:u.variant,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};T.triangles=!0;var c=t(f,T);T.triangles=!1;var i=t(f,T),d,x;if(l&&l!==1){for(d=0;d<c.positions.length;++d)for(x=0;x<c.positions[d].length;++x)c.positions[d][x]/=l;for(d=0;d<i.positions.length;++d)for(x=0;x<i.positions[d].length;++x)i.positions[d][x]/=l}var w=[[1/0,1/0],[-1/0,-1/0]],_=i.positions.length;for(d=0;d<_;++d){var m=i.positions[d];for(x=0;x<2;++x)w[0][x]=Math.min(w[0][x],m[x]),w[1][x]=Math.max(w[1][x],m[x])}return h[f]=[c,i,w]}},1283:function(v,g,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * (view * (model * vec4(position, 1)));
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * (view * (model * vec4(dataPosition, 1)));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],T={vertex:n,fragment:l,attributes:h},c={vertex:f,fragment:l,attributes:h},i={vertex:u,fragment:l,attributes:h},d={vertex:n,fragment:y,attributes:h},x={vertex:f,fragment:y,attributes:h},w={vertex:u,fragment:y,attributes:h};function _(m,E){var A=t(m,E),s=A.attributes;return s.position.location=0,s.color.location=1,s.glyph.location=2,s.id.location=3,A}g.createPerspective=function(m){return _(m,T)},g.createOrtho=function(m){return _(m,c)},g.createProject=function(m){return _(m,i)},g.createPickPerspective=function(m){return _(m,d)},g.createPickOrtho=function(m){return _(m,x)},g.createPickProject=function(m){return _(m,w)}},8418:function(v,g,r){var t=r(5219),a=r(2762),n=r(8116),f=r(1888),u=r(6760),l=r(1283),y=r(9366),h=r(5964),T=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c=ArrayBuffer,i=DataView;function d(te){return c.isView(te)&&!(te instanceof i)}function x(te){return Array.isArray(te)||d(te)}v.exports=Q;function w(te,ue){var J=te[0],K=te[1],ce=te[2],ae=te[3];return te[0]=ue[0]*J+ue[4]*K+ue[8]*ce+ue[12]*ae,te[1]=ue[1]*J+ue[5]*K+ue[9]*ce+ue[13]*ae,te[2]=ue[2]*J+ue[6]*K+ue[10]*ce+ue[14]*ae,te[3]=ue[3]*J+ue[7]*K+ue[11]*ce+ue[15]*ae,te}function _(te,ue,J,K){return w(K,K),w(K,K),w(K,K)}function m(te,ue){this.index=te,this.dataCoordinate=this.position=ue}function E(te){return te===!0||te>1?1:te}function A(te,ue,J,K,ce,ae,de,be,Se,Te,Ie,ke){this.gl=te,this.pixelRatio=1,this.shader=ue,this.orthoShader=J,this.projectShader=K,this.pointBuffer=ce,this.colorBuffer=ae,this.glyphBuffer=de,this.idBuffer=be,this.vao=Se,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=Te,this.pickOrthoShader=Ie,this.pickProjectShader=ke,this.points=[],this._selectResult=new m(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var s=A.prototype;s.pickSlots=1,s.setPickBase=function(te){this.pickId=te},s.isTransparent=function(){if(this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&this.projectHasAlpha)return!0;return!1},s.isOpaque=function(){if(!this.hasAlpha)return!0;for(var te=0;te<3;++te)if(this.axesProject[te]&&!this.projectHasAlpha)return!0;return!1};var M=[0,0],b=[0,0,0],N=[0,0,0],k=[0,0,0,1],H=[0,0,0,1],F=T.slice(),B=[0,0,0],U=[[0,0,0],[0,0,0]];function z(te){return te[0]=te[1]=te[2]=0,te}function W(te,ue){return te[0]=ue[0],te[1]=ue[1],te[2]=ue[2],te[3]=1,te}function j(te,ue,J,K){return te[0]=ue[0],te[1]=ue[1],te[2]=ue[2],te[J]=K,te}function ee(te){for(var ue=U,J=0;J<2;++J)for(var K=0;K<3;++K)ue[J][K]=Math.max(Math.min(te[J][K],1e8),-1e8);return ue}function ie(te,ue,J,K){var ce=ue.axesProject,ae=ue.gl,de=te.uniforms,be=J.model||T,Se=J.view||T,Te=J.projection||T,Ie=ue.axesBounds,ke=ee(ue.clipBounds),Be;ue.axes&&ue.axes.lastCubeProps?Be=ue.axes.lastCubeProps.axis:Be=[1,1,1],M[0]=2/ae.drawingBufferWidth,M[1]=2/ae.drawingBufferHeight,te.bind(),de.view=Se,de.projection=Te,de.screenSize=M,de.highlightId=ue.highlightId,de.highlightScale=ue.highlightScale,de.clipBounds=ke,de.pickGroup=ue.pickId/255,de.pixelRatio=K;for(var Me=0;Me<3;++Me)if(ce[Me]){de.scale=ue.projectScale[Me],de.opacity=ue.projectOpacity[Me];for(var Oe=F,_e=0;_e<16;++_e)Oe[_e]=0;for(var _e=0;_e<4;++_e)Oe[5*_e]=1;Oe[5*Me]=0,Be[Me]<0?Oe[12+Me]=Ie[0][Me]:Oe[12+Me]=Ie[1][Me],u(Oe,be,Oe),de.model=Oe;var Ne=(Me+1)%3,Ce=(Me+2)%3,Ye=z(b),rt=z(N);Ye[Ne]=1,rt[Ce]=1;var ot=_(Te,Se,be,W(k,Ye)),$e=_(Te,Se,be,W(H,rt));if(Math.abs(ot[1])>Math.abs($e[1])){var qe=ot;ot=$e,$e=qe,qe=Ye,Ye=rt,rt=qe;var ht=Ne;Ne=Ce,Ce=ht}ot[0]<0&&(Ye[Ne]=-1),$e[1]>0&&(rt[Ce]=-1);for(var vt=0,pt=0,_e=0;_e<4;++_e)vt+=Math.pow(be[4*Ne+_e],2),pt+=Math.pow(be[4*Ce+_e],2);Ye[Ne]/=Math.sqrt(vt),rt[Ce]/=Math.sqrt(pt),de.axes[0]=Ye,de.axes[1]=rt,de.fragClipBounds[0]=j(B,ke[0],Me,-1e8),de.fragClipBounds[1]=j(B,ke[1],Me,1e8),ue.vao.bind(),ue.vao.draw(ae.TRIANGLES,ue.vertexCount),ue.lineWidth>0&&(ae.lineWidth(ue.lineWidth*K),ue.vao.draw(ae.LINES,ue.lineVertexCount,ue.vertexCount)),ue.vao.unbind()}}var oe=[-1e8,-1e8,-1e8],he=[1e8,1e8,1e8],ne=[oe,he];function q(te,ue,J,K,ce,ae,de){var be=J.gl;if((ae===J.projectHasAlpha||de)&&ie(ue,J,K,ce),ae===J.hasAlpha||de){te.bind();var Se=te.uniforms;Se.model=K.model||T,Se.view=K.view||T,Se.projection=K.projection||T,M[0]=2/be.drawingBufferWidth,M[1]=2/be.drawingBufferHeight,Se.screenSize=M,Se.highlightId=J.highlightId,Se.highlightScale=J.highlightScale,Se.fragClipBounds=ne,Se.clipBounds=J.axes.bounds,Se.opacity=J.opacity,Se.pickGroup=J.pickId/255,Se.pixelRatio=ce,J.vao.bind(),J.vao.draw(be.TRIANGLES,J.vertexCount),J.lineWidth>0&&(be.lineWidth(J.lineWidth*ce),J.vao.draw(be.LINES,J.lineVertexCount,J.vertexCount)),J.vao.unbind()}}s.draw=function(te){var ue=this.useOrtho?this.orthoShader:this.shader;q(ue,this.projectShader,this,te,this.pixelRatio,!1,!1)},s.drawTransparent=function(te){var ue=this.useOrtho?this.orthoShader:this.shader;q(ue,this.projectShader,this,te,this.pixelRatio,!0,!1)},s.drawPick=function(te){var ue=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;q(ue,this.pickProjectShader,this,te,1,!0,!0)},s.pick=function(te){if(!te||te.id!==this.pickId)return null;var ue=te.value[2]+(te.value[1]<<8)+(te.value[0]<<16);if(ue>=this.pointCount||ue<0)return null;var J=this.points[ue],K=this._selectResult;K.index=ue;for(var ce=0;ce<3;++ce)K.position[ce]=K.dataCoordinate[ce]=J[ce];return K},s.highlight=function(te){if(!te)this.highlightId=[1,1,1,1];else{var ue=te.index,J=ue&255,K=ue>>8&255,ce=ue>>16&255;this.highlightId=[J/255,K/255,ce/255,0]}};function le(te,ue,J,K){var ce;x(te)?ue<te.length?ce=te[ue]:ce=void 0:ce=te,ce=h(ce);var ae=!0;t(ce)&&(ce="▼",ae=!1),J||(J={});var de=J.family;x(de)&&(de=de[ue]),de||(de="normal");var be=J.weight;x(be)&&(be=be[ue]),be||(be="normal");var Se=J.style;x(Se)&&(Se=Se[ue]),Se||(Se="normal");var Te=J.variant;x(Te)&&(Te=Te[ue]),Te||(Te="normal");var Ie=y(ce,{family:de,weight:be,style:Se,variant:Te},K),Ie=y(ce,J,K);return{mesh:Ie[0],lines:Ie[1],bounds:Ie[2],visible:ae}}s.update=function(te){if(te=te||{},"perspective"in te&&(this.useOrtho=!te.perspective),"orthographic"in te&&(this.useOrtho=!!te.orthographic),"lineWidth"in te&&(this.lineWidth=te.lineWidth),"project"in te)if(x(te.project))this.axesProject=te.project;else{var ue=!!te.project;this.axesProject=[ue,ue,ue]}if("projectScale"in te)if(x(te.projectScale))this.projectScale=te.projectScale.slice();else{var J=+te.projectScale;this.projectScale=[J,J,J]}if(this.projectHasAlpha=!1,"projectOpacity"in te){if(x(te.projectOpacity))this.projectOpacity=te.projectOpacity.slice();else{var J=+te.projectOpacity;this.projectOpacity=[J,J,J]}for(var K=0;K<3;++K)this.projectOpacity[K]=E(this.projectOpacity[K]),this.projectOpacity[K]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in te&&(this.opacity=E(te.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ce=te.position,ae={family:te.font||"normal",style:te.fontStyle||"normal",weight:te.fontWeight||"normal",variant:te.fontVariant||"normal"},de=te.alignment||[0,0],be,Se;if(de.length===2)be=de[0],Se=de[1];else{be=[],Se=[];for(var K=0;K<de.length;++K)be[K]=de[K][0],Se[K]=de[K][1]}var Te=[1/0,1/0,1/0],Ie=[-1/0,-1/0,-1/0],ke=te.glyph,Be=te.color,Me=te.size,Oe=te.angle,_e=te.lineColor,Ne=-1,Ce=0,Ye=0,rt=0;if(ce.length){rt=ce.length;e:for(var K=0;K<rt;++K){for(var ot=ce[K],$e=0;$e<3;++$e)if(isNaN(ot[$e])||!isFinite(ot[$e]))continue e;var qe=le(ke,K,ae,this.pixelRatio),ht=qe.mesh,vt=qe.lines,pt=qe.bounds;Ce+=ht.cells.length*3,Ye+=vt.edges.length*2}}var wt=Ce+Ye,Mt=f.mallocFloat(3*wt),nt=f.mallocFloat(4*wt),Fe=f.mallocFloat(2*wt),We=f.mallocUint32(wt);if(wt>0){var Ze=0,Ge=Ce,Pe=[0,0,0,1],Re=[0,0,0,1],je=x(Be)&&x(Be[0]),De=x(_e)&&x(_e[0]);e:for(var K=0;K<rt;++K){Ne+=1;for(var ot=ce[K],$e=0;$e<3;++$e){if(isNaN(ot[$e])||!isFinite(ot[$e]))continue e;Ie[$e]=Math.max(Ie[$e],ot[$e]),Te[$e]=Math.min(Te[$e],ot[$e])}var qe=le(ke,K,ae,this.pixelRatio),ht=qe.mesh,vt=qe.lines,pt=qe.bounds,ge=qe.visible;if(!ge)Pe=[1,1,1,0];else if(x(Be)){var we;if(je?K<Be.length?we=Be[K]:we=[0,0,0,0]:we=Be,we.length===3){for(var $e=0;$e<3;++$e)Pe[$e]=we[$e];Pe[3]=1}else if(we.length===4){for(var $e=0;$e<4;++$e)Pe[$e]=we[$e];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else Pe[0]=Pe[1]=Pe[2]=0,Pe[3]=1;if(!ge)Re=[1,1,1,0];else if(x(_e)){var we;if(De?K<_e.length?we=_e[K]:we=[0,0,0,0]:we=_e,we.length===3){for(var $e=0;$e<3;++$e)Re[$e]=we[$e];Re[$e]=1}else if(we.length===4){for(var $e=0;$e<4;++$e)Re[$e]=we[$e];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else Re[0]=Re[1]=Re[2]=0,Re[3]=1;var Ue=.5;ge?x(Me)?K<Me.length?Ue=+Me[K]:Ue=12:Me?Ue=+Me:this.useOrtho&&(Ue=12):Ue=0;var et=0;x(Oe)?K<Oe.length?et=+Oe[K]:et=0:Oe&&(et=+Oe);for(var st=Math.cos(et),lt=Math.sin(et),ot=ce[K],$e=0;$e<3;++$e)Ie[$e]=Math.max(Ie[$e],ot[$e]),Te[$e]=Math.min(Te[$e],ot[$e]);var Wt=be,jt=Se,Wt=0;x(be)?K<be.length?Wt=be[K]:Wt=0:be&&(Wt=be);var jt=0;x(Se)?K<Se.length?jt=Se[K]:jt=0:Se&&(jt=Se),Wt*=Wt>0?1-pt[0][0]:Wt<0?1+pt[1][0]:1,jt*=jt>0?1-pt[0][1]:jt<0?1+pt[1][1]:1;for(var Tt=[Wt,jt],Kt=ht.cells||[],$t=ht.positions||[],$e=0;$e<Kt.length;++$e)for(var Rt=Kt[$e],Zt=0;Zt<3;++Zt){for(var mr=0;mr<3;++mr)Mt[3*Ze+mr]=ot[mr];for(var mr=0;mr<4;++mr)nt[4*Ze+mr]=Pe[mr];We[Ze]=Ne;var gt=$t[Rt[Zt]];Fe[2*Ze]=Ue*(st*gt[0]-lt*gt[1]+Tt[0]),Fe[2*Ze+1]=Ue*(lt*gt[0]+st*gt[1]+Tt[1]),Ze+=1}for(var Kt=vt.edges,$t=vt.positions,$e=0;$e<Kt.length;++$e)for(var Rt=Kt[$e],Zt=0;Zt<2;++Zt){for(var mr=0;mr<3;++mr)Mt[3*Ge+mr]=ot[mr];for(var mr=0;mr<4;++mr)nt[4*Ge+mr]=Re[mr];We[Ge]=Ne;var gt=$t[Rt[Zt]];Fe[2*Ge]=Ue*(st*gt[0]-lt*gt[1]+Tt[0]),Fe[2*Ge+1]=Ue*(lt*gt[0]+st*gt[1]+Tt[1]),Ge+=1}}}this.bounds=[Te,Ie],this.points=ce,this.pointCount=ce.length,this.vertexCount=Ce,this.lineVertexCount=Ye,this.pointBuffer.update(Mt),this.colorBuffer.update(nt),this.glyphBuffer.update(Fe),this.idBuffer.update(We),f.free(Mt),f.free(nt),f.free(Fe),f.free(We)},s.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function Q(te){var ue=te.gl,J=l.createPerspective(ue),K=l.createOrtho(ue),ce=l.createProject(ue),ae=l.createPickPerspective(ue),de=l.createPickOrtho(ue),be=l.createPickProject(ue),Se=a(ue),Te=a(ue),Ie=a(ue),ke=a(ue),Be=n(ue,[{buffer:Se,size:3,type:ue.FLOAT},{buffer:Te,size:4,type:ue.FLOAT},{buffer:Ie,size:2,type:ue.FLOAT},{buffer:ke,size:4,type:ue.UNSIGNED_BYTE,normalized:!0}]),Me=new A(ue,J,K,ce,Se,Te,Ie,ke,Be,ae,de,be);return Me.update(te),Me}},4298:function(v,g,r){var t=r(3236);g.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),g.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},3161:function(v,g,r){var t=r(9405),a=r(2762),n=r(4298);v.exports=l;function f(y,h,T){this.plot=y,this.boxBuffer=h,this.boxShader=T,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=f.prototype;u.draw=function(){if(this.enabled){var y=this.plot,h=this.selectBox,T=this.borderWidth;this.innerFill;var c=this.innerColor;this.outerFill;var i=this.outerColor,d=this.borderColor,x=y.box,w=y.screenBox,_=y.dataBox,m=y.viewBox,E=y.pixelRatio,A=(h[0]-_[0])*(m[2]-m[0])/(_[2]-_[0])+m[0],s=(h[1]-_[1])*(m[3]-m[1])/(_[3]-_[1])+m[1],M=(h[2]-_[0])*(m[2]-m[0])/(_[2]-_[0])+m[0],b=(h[3]-_[1])*(m[3]-m[1])/(_[3]-_[1])+m[1];if(A=Math.max(A,m[0]),s=Math.max(s,m[1]),M=Math.min(M,m[2]),b=Math.min(b,m[3]),!(M<A||b<s)){x.bind();var N=w[2]-w[0],k=w[3]-w[1];if(this.outerFill&&(x.drawBox(0,0,N,s,i),x.drawBox(0,s,A,b,i),x.drawBox(0,b,N,k,i),x.drawBox(M,s,N,b,i)),this.innerFill&&x.drawBox(A,s,M,b,c),T>0){var H=T*E;x.drawBox(A-H,s-H,M+H,s+H,d),x.drawBox(A-H,b-H,M+H,b+H,d),x.drawBox(A-H,s-H,A+H,b+H,d),x.drawBox(M-H,s-H,M+H,b+H,d)}}}},u.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function l(y,h){var T=y.gl,c=a(T,[0,0,0,1,1,0,1,1]),i=t(T,n.boxVertex,n.boxFragment),d=new f(y,c,i);return d.update(h),y.addOverlay(d),d}},3589:function(v,g,r){v.exports=T;var t=r(2260),a=r(1888),n=r(9618),f=r(8828).nextPow2,u=function(c,i,d){for(var x=1e8,w=-1,_=-1,m=c.shape[0],E=c.shape[1],A=0;A<m;A++)for(var s=0;s<E;s++){var M=c.get(A,s,0),b=c.get(A,s,1),N=c.get(A,s,2),k=c.get(A,s,3);if(M<255||b<255||N<255||k<255){var H=i-A,F=d-s,B=H*H+F*F;B<x&&(x=B,w=A,_=s)}}return[w,_,x]};function l(c,i,d,x,w){this.coord=[c,i],this.id=d,this.value=x,this.distance=w}function y(c,i,d){this.gl=c,this.fbo=i,this.buffer=d,this._readTimeout=null;var x=this;this._readCallback=function(){x.gl&&(i.bind(),c.readPixels(0,0,i.shape[0],i.shape[1],c.RGBA,c.UNSIGNED_BYTE,x.buffer),x._readTimeout=null)}}var h=y.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var i=this.fbo.shape[0],d=this.fbo.shape[1];if(d*i*4>this.buffer.length){a.free(this.buffer);for(var x=this.buffer=a.mallocUint8(f(d*i*4)),w=0;w<d*i*4;++w)x[w]=255}return c}}}),h.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},h.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(c,i,d){if(!this.gl)return null;var x=this.fbo.shape.slice();c=c|0,i=i|0,typeof d!="number"&&(d=1);var w=Math.min(Math.max(c-d,0),x[0])|0,_=Math.min(Math.max(c+d,0),x[0])|0,m=Math.min(Math.max(i-d,0),x[1])|0,E=Math.min(Math.max(i+d,0),x[1])|0;if(_<=w||E<=m)return null;var A=[_-w,E-m],s=n(this.buffer,[A[0],A[1],4],[4,x[0]*4,1],4*(w+x[0]*m)),M=u(s.hi(A[0],A[1],1),d,d),b=M[0],N=M[1];if(b<0||Math.pow(this.radius,2)<M[2])return null;var k=s.get(b,N,0),H=s.get(b,N,1),F=s.get(b,N,2),B=s.get(b,N,3);return new l(b+w|0,N+m|0,k,[H,F,B],Math.sqrt(M[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),a.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function T(c,i){var d=i[0],x=i[1],w={},_=t(c,d,x,w),m=a.mallocUint8(d*x*4);return new y(c,_,m)}},9405:function(v,g,r){var t=r(3327),a=r(8731),n=r(216),f=r(5091),u=r(2145),l=r(8866);function y(i){this.gl=i,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=y.prototype;h.bind=function(){this.program||this._relink();var i,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(d>x)for(i=x;i<d;i++)this.gl.enableVertexAttribArray(i);else if(x>d)for(i=d;i<x;i++)this.gl.disableVertexAttribArray(i);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var i=this.gl.lastAttribCount,d=0;d<i;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function T(i,d){return i.name<d.name?-1:1}h.update=function(i,d,x,w){if(!d||arguments.length===1){var _=i;i=_.vertex,d=_.fragment,x=_.uniforms,w=_.attributes}var m=this,E=m.gl,A=m._vref;m._vref=f.shader(E,E.VERTEX_SHADER,i),A&&A.dispose(),m.vertShader=m._vref.shader;var s=this._fref;if(m._fref=f.shader(E,E.FRAGMENT_SHADER,d),s&&s.dispose(),m.fragShader=m._fref.shader,!x||!w){var M=E.createProgram();if(E.attachShader(M,m.fragShader),E.attachShader(M,m.vertShader),E.linkProgram(M),!E.getProgramParameter(M,E.LINK_STATUS)){var b=E.getProgramInfoLog(M);throw new l(b,"Error linking program:"+b)}x=x||u.uniforms(E,M),w=w||u.attributes(E,M),E.deleteProgram(M)}w=w.slice(),w.sort(T);var N=[],k=[],H=[],F;for(F=0;F<w.length;++F){var B=w[F];if(B.type.indexOf("mat")>=0){for(var U=B.type.charAt(B.type.length-1)|0,z=new Array(U),W=0;W<U;++W)z[W]=H.length,k.push(B.name+"["+W+"]"),typeof B.location=="number"?H.push(B.location+W):Array.isArray(B.location)&&B.location.length===U&&typeof B.location[W]=="number"?H.push(B.location[W]|0):H.push(-1);N.push({name:B.name,type:B.type,locations:z})}else N.push({name:B.name,type:B.type,locations:[H.length]}),k.push(B.name),typeof B.location=="number"?H.push(B.location|0):H.push(-1)}var j=0;for(F=0;F<H.length;++F)if(H[F]<0){for(;H.indexOf(j)>=0;)j+=1;H[F]=j}var ee=new Array(x.length);function ie(){m.program=f.program(E,m._vref,m._fref,k,H);for(var oe=0;oe<x.length;++oe)ee[oe]=E.getUniformLocation(m.program,x[oe].name)}ie(),m._relink=ie,m.types={uniforms:n(x),attributes:n(w)},m.attributes=a(E,m,N,H),Object.defineProperty(m,"uniforms",t(E,m,x,ee))};function c(i,d,x,w,_){var m=new y(i);return m.update(d,x,w,_),m}v.exports=c},8866:function(v){function g(r,t,a){this.shortMessage=t||"",this.longMessage=a||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(a?`
`+a:""),this.stack=new Error().stack}g.prototype=new Error,g.prototype.name="GLError",g.prototype.constructor=g,v.exports=g},8731:function(v,g,r){v.exports=y;var t=r(8866);function a(h,T,c,i,d,x){this._gl=h,this._wrapper=T,this._index=c,this._locations=i,this._dimension=d,this._constFunc=x}var n=a.prototype;n.pointer=function(T,c,i,d){var x=this,w=x._gl,_=x._locations[x._index];w.vertexAttribPointer(_,x._dimension,T||w.FLOAT,!!c,i||0,d||0),w.enableVertexAttribArray(_)},n.set=function(h,T,c,i){return this._constFunc(this._locations[this._index],h,T,c,i)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var f=[function(h,T,c){return c.length===void 0?h.vertexAttrib1f(T,c):h.vertexAttrib1fv(T,c)},function(h,T,c,i){return c.length===void 0?h.vertexAttrib2f(T,c,i):h.vertexAttrib2fv(T,c)},function(h,T,c,i,d){return c.length===void 0?h.vertexAttrib3f(T,c,i,d):h.vertexAttrib3fv(T,c)},function(h,T,c,i,d,x){return c.length===void 0?h.vertexAttrib4f(T,c,i,d,x):h.vertexAttrib4fv(T,c)}];function u(h,T,c,i,d,x,w){var _=f[d],m=new a(h,T,c,i,d,_);Object.defineProperty(x,w,{set:function(E){return h.disableVertexAttribArray(i[c]),_(h,i[c],E),E},get:function(){return m},enumerable:!0})}function l(h,T,c,i,d,x,w){for(var _=new Array(d),m=new Array(d),E=0;E<d;++E)u(h,T,c[E],i,d,_,E),m[E]=_[E];Object.defineProperty(_,"location",{set:function(M){if(Array.isArray(M))for(var b=0;b<d;++b)m[b].location=M[b];else for(var b=0;b<d;++b)m[b].location=M+b;return M},get:function(){for(var M=new Array(d),b=0;b<d;++b)M[b]=i[c[b]];return M},enumerable:!0}),_.pointer=function(M,b,N,k){M=M||h.FLOAT,b=!!b,N=N||d*d,k=k||0;for(var H=0;H<d;++H){var F=i[c[H]];h.vertexAttribPointer(F,d,M,b,N,k+H*d),h.enableVertexAttribArray(F)}};var A=new Array(d),s=h["vertexAttrib"+d+"fv"];Object.defineProperty(x,w,{set:function(M){for(var b=0;b<d;++b){var N=i[c[b]];if(h.disableVertexAttribArray(N),Array.isArray(M[0]))s.call(h,N,M[b]);else{for(var k=0;k<d;++k)A[k]=M[d*b+k];s.call(h,N,A)}}return M},get:function(){return _},enumerable:!0})}function y(h,T,c,i){for(var d={},x=0,w=c.length;x<w;++x){var _=c[x],m=_.name,E=_.type,A=_.locations;switch(E){case"bool":case"int":case"float":u(h,T,A[0],i,1,d,m);break;default:if(E.indexOf("vec")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+E);u(h,T,A[0],i,s,d,m)}else if(E.indexOf("mat")>=0){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new t("","Invalid data type for attribute "+m+": "+E);l(h,T,A,i,s,d,m)}else throw new t("","Unknown data type for attribute "+m+": "+E);break}}return d}},3327:function(v,g,r){var t=r(216),a=r(8866);v.exports=u;function n(l){return function(){return l}}function f(l,y){for(var h=new Array(l),T=0;T<l;++T)h[T]=y;return h}function u(l,y,h,T){function c(E){return function(A,s,M){return A.getUniform(s.program,M[E])}}function i(E){return function(s){for(var M=d("",E),b=0;b<M.length;++b){var N=M[b],k=N[0],H=N[1];if(T[H]){var F=s;if(typeof k=="string"&&(k.indexOf(".")===0||k.indexOf("[")===0)){var B=k;if(k.indexOf(".")===0&&(B=k.slice(1)),B.indexOf("]")===B.length-1){var U=B.indexOf("["),z=B.slice(0,U),W=B.slice(U+1,B.length-1);F=z?s[z][W]:s[W]}else F=s[B]}var j=h[H].type,ee;switch(j){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(T[H],F);break;case"float":l.uniform1f(T[H],F);break;default:var ie=j.indexOf("vec");if(0<=ie&&ie<=1&&j.length===4+ie){if(ee=j.charCodeAt(j.length-1)-48,ee<2||ee>4)throw new a("","Invalid data type");switch(j.charAt(0)){case"b":case"i":l["uniform"+ee+"iv"](T[H],F);break;case"v":l["uniform"+ee+"fv"](T[H],F);break;default:throw new a("","Unrecognized data type for vector "+name+": "+j)}}else if(j.indexOf("mat")===0&&j.length===4){if(ee=j.charCodeAt(j.length-1)-48,ee<2||ee>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+j);l["uniformMatrix"+ee+"fv"](T[H],!1,F);break}else throw new a("","Unknown uniform data type for "+name+": "+j)}}}}}function d(E,A){if(typeof A!="object")return[[E,A]];var s=[];for(var M in A){var b=A[M],N=E;parseInt(M)+""===M?N+="["+M+"]":N+="."+M,typeof b=="object"?s.push.apply(s,d(N,b)):s.push([N,b])}return s}function x(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var A=E.indexOf("vec");if(0<=A&&A<=1&&E.length===4+A){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new a("","Invalid data type");return E.charAt(0)==="b"?f(s,!1):f(s,0)}else if(E.indexOf("mat")===0&&E.length===4){var s=E.charCodeAt(E.length-1)-48;if(s<2||s>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+E);return f(s*s,0)}else throw new a("","Unknown uniform data type for "+name+": "+E)}}function w(E,A,s){if(typeof s=="object"){var M=_(s);Object.defineProperty(E,A,{get:n(M),set:i(s),enumerable:!0,configurable:!1})}else T[s]?Object.defineProperty(E,A,{get:c(s),set:i(s),enumerable:!0,configurable:!1}):E[A]=x(h[s].type)}function _(E){var A;if(Array.isArray(E)){A=new Array(E.length);for(var s=0;s<E.length;++s)w(A,s,E[s])}else{A={};for(var M in E)w(A,M,E[M])}return A}var m=t(h,!0);return{get:n(_(m)),set:i(m),enumerable:!0,configurable:!0}}},216:function(v){v.exports=g;function g(r,t){for(var a={},n=0;n<r.length;++n)for(var f=r[n].name,u=f.split("."),l=a,y=0;y<u.length;++y){var h=u[y].split("[");if(h.length>1){h[0]in l||(l[h[0]]=[]),l=l[h[0]];for(var T=1;T<h.length;++T){var c=parseInt(h[T]);T<h.length-1||y<u.length-1?(c in l||(T<h.length-1?l[c]=[]:l[c]={}),l=l[c]):t?l[c]=n:l[c]=r[n].type}}else y<u.length-1?(h[0]in l||(l[h[0]]={}),l=l[h[0]]):t?l[h[0]]=n:l[h[0]]=r[n].type}return a}},2145:function(v,g){g.uniforms=n,g.attributes=f;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function a(u,l){if(!t){var y=Object.keys(r);t={};for(var h=0;h<y.length;++h){var T=y[h];t[u[T]]=r[T]}}return t[l]}function n(u,l){for(var y=u.getProgramParameter(l,u.ACTIVE_UNIFORMS),h=[],T=0;T<y;++T){var c=u.getActiveUniform(l,T);if(c){var i=a(u,c.type);if(c.size>1)for(var d=0;d<c.size;++d)h.push({name:c.name.replace("[0]","["+d+"]"),type:i});else h.push({name:c.name,type:i})}}return h}function f(u,l){for(var y=u.getProgramParameter(l,u.ACTIVE_ATTRIBUTES),h=[],T=0;T<y;++T){var c=u.getActiveAttrib(l,T);c&&h.push({name:c.name,type:a(u,c.type)})}return h}},5091:function(v,g,r){g.shader=d,g.program=x;var t=r(8866),a=r(2992),n=typeof WeakMap>"u"?r(606):WeakMap,f=new n,u=0;function l(w,_,m,E,A,s,M){this.id=w,this.src=_,this.type=m,this.shader=E,this.count=s,this.programs=[],this.cache=M}l.prototype.dispose=function(){if(--this.count===0){for(var w=this.cache,_=w.gl,m=this.programs,E=0,A=m.length;E<A;++E){var s=w.programs[m[E]];s&&(delete w.programs[E],_.deleteProgram(s))}_.deleteShader(this.shader),delete w.shaders[this.type===_.FRAGMENT_SHADER|0][this.src]}};function y(w){this.gl=w,this.shaders=[{},{}],this.programs={}}var h=y.prototype;function T(w,_,m){var E=w.createShader(_);if(w.shaderSource(E,m),w.compileShader(E),!w.getShaderParameter(E,w.COMPILE_STATUS)){var A=w.getShaderInfoLog(E);try{var s=a(A,m,_)}catch(M){throw console.warn("Failed to format compiler error: "+M),new t(A,`Error compiling shader:
`+A)}throw new t(A,s.short,s.long)}return E}h.getShaderReference=function(w,_){var m=this.gl,E=this.shaders[w===m.FRAGMENT_SHADER|0],A=E[_];if(!A||!m.isShader(A.shader)){var s=T(m,w,_);A=E[_]=new l(u++,_,w,s,[],1,this)}else A.count+=1;return A};function c(w,_,m,E,A){var s=w.createProgram();w.attachShader(s,_),w.attachShader(s,m);for(var M=0;M<E.length;++M)w.bindAttribLocation(s,A[M],E[M]);if(w.linkProgram(s),!w.getProgramParameter(s,w.LINK_STATUS)){var b=w.getProgramInfoLog(s);throw new t(b,"Error linking program: "+b)}return s}h.getProgram=function(w,_,m,E){var A=[w.id,_.id,m.join(":"),E.join(":")].join("@"),s=this.programs[A];return(!s||!this.gl.isProgram(s))&&(this.programs[A]=s=c(this.gl,w.shader,_.shader,m,E),w.programs.push(A),_.programs.push(A)),s};function i(w){var _=f.get(w);return _||(_=new y(w),f.set(w,_)),_}function d(w,_,m){return i(w).getShaderReference(_,m)}function x(w,_,m,E,A){return i(w).getProgram(_,m,E,A)}},4098:function(v){v.exports=t;function g(a){this.plot=a,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=g.prototype;r.update=function(a){a=a||{},this.enable=(a.enable||[!0,!0,!1,!1]).slice(),this.width=(a.width||[1,1,1,1]).slice(),this.color=(a.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(a.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var a=this.enable,n=this.width,f=this.color,u=this.center,l=this.plot,y=l.line,h=l.dataBox,T=l.viewBox;if(y.bind(),h[0]<=u[0]&&u[0]<=h[2]&&h[1]<=u[1]&&u[1]<=h[3]){var c=T[0]+(u[0]-h[0])/(h[2]-h[0])*(T[2]-T[0]),i=T[1]+(u[1]-h[1])/(h[3]-h[1])*(T[3]-T[1]);a[0]&&y.drawLine(c,i,T[0],i,n[0],f[0]),a[1]&&y.drawLine(c,i,c,T[1],n[1],f[1]),a[2]&&y.drawLine(c,i,T[2],i,n[2],f[2]),a[3]&&y.drawLine(c,i,c,T[3],n[3],f[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(a,n){var f=new g(a);return f.update(n),a.addOverlay(f),f}},1493:function(v,g,r){var t=r(3236),a=r(9405),n=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * (view * (model * vec4(vertexPosition, 1.0)));
  vec2 clipOffset = (projection * (view * (model * vec4(color, 0.0)))).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),f=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(u){return a(u,n,f,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},4449:function(v,g,r){var t=r(2762),a=r(8116),n=r(1493);v.exports=c;var f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(i,d,x,w){this.gl=i,this.buffer=d,this.vao=x,this.shader=w,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=u.prototype,y=[0,0,0],h=[0,0,0],T=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(i){},l.draw=function(i){var d=this.gl,x=this.vao,w=this.shader;x.bind(),w.bind();var _=i.model||f,m=i.view||f,E=i.projection||f,A;this.axes&&(A=this.axes.lastCubeProps.axis);for(var s=y,M=h,b=0;b<3;++b)A&&A[b]<0?(s[b]=this.bounds[0][b],M[b]=this.bounds[1][b]):(s[b]=this.bounds[1][b],M[b]=this.bounds[0][b]);T[0]=d.drawingBufferWidth,T[1]=d.drawingBufferHeight,w.uniforms.model=_,w.uniforms.view=m,w.uniforms.projection=E,w.uniforms.coordinates=[this.position,s,M],w.uniforms.colors=this.colors,w.uniforms.screenShape=T;for(var b=0;b<3;++b)w.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(x.draw(d.TRIANGLES,6,6*b),this.drawSides[b]&&x.draw(d.TRIANGLES,12,18+12*b));x.unbind()},l.update=function(i){i&&("bounds"in i&&(this.bounds=i.bounds),"position"in i&&(this.position=i.position),"lineWidth"in i&&(this.lineWidth=i.lineWidth),"colors"in i&&(this.colors=i.colors),"enabled"in i&&(this.enabled=i.enabled),"drawSides"in i&&(this.drawSides=i.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(i,d){var x=[];function w(s,M,b,N,k,H){var F=[s,M,b,0,0,0,1];F[N+3]=1,F[N]=k,x.push.apply(x,F),F[6]=-1,x.push.apply(x,F),F[N]=H,x.push.apply(x,F),x.push.apply(x,F),F[6]=1,x.push.apply(x,F),F[N]=k,x.push.apply(x,F)}w(0,0,0,0,0,1),w(0,0,0,1,0,1),w(0,0,0,2,0,1),w(1,0,0,1,-1,1),w(1,0,0,2,-1,1),w(0,1,0,0,-1,1),w(0,1,0,2,-1,1),w(0,0,1,0,-1,1),w(0,0,1,1,-1,1);var _=t(i,x),m=a(i,[{type:i.FLOAT,buffer:_,size:3,offset:0,stride:28},{type:i.FLOAT,buffer:_,size:3,offset:12,stride:28},{type:i.FLOAT,buffer:_,size:1,offset:24,stride:28}]),E=n(i);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var A=new u(i,_,m,E);return A.update(d),A}},6740:function(v,g,r){var t=r(3236),a=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),f=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * (view * tubePosition);
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:a,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},g.pickShader={vertex:f,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7815:function(v,g,r){var t=r(2931),a=r(9970),n=["xyz","xzy","yxz","yzx","zxy","zyx"],f=function(x,w,_,m){for(var E=x.points,A=x.velocities,s=x.divergences,M=[],b=[],N=[],k=[],H=[],F=[],B=0,U=0,z=a.create(),W=a.create(),j=8,ee=0;ee<E.length;ee++){var ie=E[ee],oe=A[ee],he=s[ee];w===0&&(he=_*.05),U=t.length(oe)/m,z=a.create(),t.copy(z,oe),z[3]=he;for(var ne=0;ne<j;ne++)H[ne]=[ie[0],ie[1],ie[2],ne];if(k.length>0)for(var ne=0;ne<j;ne++){var q=(ne+1)%j;M.push(k[ne],H[ne],H[q],H[q],k[q],k[ne]),N.push(W,z,z,z,W,W),F.push(B,U,U,U,B,B);var le=M.length;b.push([le-6,le-5,le-4],[le-3,le-2,le-1])}var Q=k;k=H,H=Q;var te=W;W=z,z=te;var ue=B;B=U,U=ue}return{positions:M,cells:b,vectors:N,vertexIntensity:F}},u=function(x,w,_,m){for(var E=0,A=0;A<x.length;A++)for(var s=x[A].velocities,M=0;M<s.length;M++)E=Math.max(E,t.length(s[M]));for(var b=x.map(function(ee){return f(ee,_,m,E)}),N=[],k=[],H=[],F=[],A=0;A<b.length;A++){var B=b[A],U=N.length;N=N.concat(B.positions),H=H.concat(B.vectors),F=F.concat(B.vertexIntensity);for(var M=0;M<B.cells.length;M++){var z=B.cells[M],W=[];k.push(W);for(var j=0;j<z.length;j++)W.push(z[j]+U)}}return{positions:N,cells:k,vectors:H,vertexIntensity:F,colormap:w}},l=function(x,w){var _=x.length,m;for(m=0;m<_;m++){var E=x[m];if(E===w)return m;if(E>w)return m-1}return m},y=function(x,w,_){return x<w?w:x>_?_:x},h=function(x,w,_){var m=w.vectors,E=w.meshgrid,A=x[0],s=x[1],M=x[2],b=E[0].length,N=E[1].length,k=E[2].length,H=l(E[0],A),F=l(E[1],s),B=l(E[2],M),U=H+1,z=F+1,W=B+1;if(H=y(H,0,b-1),U=y(U,0,b-1),F=y(F,0,N-1),z=y(z,0,N-1),B=y(B,0,k-1),W=y(W,0,k-1),H<0||F<0||B<0||U>b-1||z>N-1||W>k-1)return t.create();var j=E[0][H],ee=E[0][U],ie=E[1][F],oe=E[1][z],he=E[2][B],ne=E[2][W],q=(A-j)/(ee-j),le=(s-ie)/(oe-ie),Q=(M-he)/(ne-he);isFinite(q)||(q=.5),isFinite(le)||(le=.5),isFinite(Q)||(Q=.5);var te,ue,J,K,ce,ae;switch(_.reversedX&&(H=b-1-H,U=b-1-U),_.reversedY&&(F=N-1-F,z=N-1-z),_.reversedZ&&(B=k-1-B,W=k-1-W),_.filled){case 5:ce=B,ae=W,J=F*k,K=z*k,te=H*k*N,ue=U*k*N;break;case 4:ce=B,ae=W,te=H*k,ue=U*k,J=F*k*b,K=z*k*b;break;case 3:J=F,K=z,ce=B*N,ae=W*N,te=H*N*k,ue=U*N*k;break;case 2:J=F,K=z,te=H*N,ue=U*N,ce=B*N*b,ae=W*N*b;break;case 1:te=H,ue=U,ce=B*b,ae=W*b,J=F*b*k,K=z*b*k;break;default:te=H,ue=U,J=F*b,K=z*b,ce=B*b*N,ae=W*b*N;break}var de=m[te+J+ce],be=m[te+J+ae],Se=m[te+K+ce],Te=m[te+K+ae],Ie=m[ue+J+ce],ke=m[ue+J+ae],Be=m[ue+K+ce],Me=m[ue+K+ae],Oe=t.create(),_e=t.create(),Ne=t.create(),Ce=t.create();t.lerp(Oe,de,Ie,q),t.lerp(_e,be,ke,q),t.lerp(Ne,Se,Be,q),t.lerp(Ce,Te,Me,q);var Ye=t.create(),rt=t.create();t.lerp(Ye,Oe,Ne,le),t.lerp(rt,_e,Ce,le);var ot=t.create();return t.lerp(ot,Ye,rt,Q),ot},T=function(x){var w=1/0;x.sort(function(A,s){return A-s});for(var _=x.length,m=1;m<_;m++){var E=Math.abs(x[m]-x[m-1]);E<w&&(w=E)}return w},c=function(x){for(var w=[],_=[],m=[],E={},A={},s={},M=x.length,b=0;b<M;b++){var N=x[b],k=N[0],H=N[1],F=N[2];E[k]||(w.push(k),E[k]=!0),A[H]||(_.push(H),A[H]=!0),s[F]||(m.push(F),s[F]=!0)}var B=T(w),U=T(_),z=T(m),W=Math.min(B,U,z);return isFinite(W)?W:1};v.exports=function(x,w){var _=x.startingPositions,m=x.maxLength||1e3,E=x.tubeSize||1,A=x.absoluteTubeSize,s=x.gridFill||"+x+y+z",M={};s.indexOf("-x")!==-1&&(M.reversedX=!0),s.indexOf("-y")!==-1&&(M.reversedY=!0),s.indexOf("-z")!==-1&&(M.reversedZ=!0),M.filled=n.indexOf(s.replace(/-/g,"").replace(/\+/g,""));var b=x.getVelocity||function(ke){return h(ke,x,M)},N=x.getDivergence||function(ke,Be){var Me=t.create(),Oe=1e-4;t.add(Me,ke,[Oe,0,0]);var _e=b(Me);t.subtract(_e,_e,Be),t.scale(_e,_e,1/Oe),t.add(Me,ke,[0,Oe,0]);var Ne=b(Me);t.subtract(Ne,Ne,Be),t.scale(Ne,Ne,1/Oe),t.add(Me,ke,[0,0,Oe]);var Ce=b(Me);return t.subtract(Ce,Ce,Be),t.scale(Ce,Ce,1/Oe),t.add(Me,_e,Ne),t.add(Me,Me,Ce),Me},k=[],H=w[0][0],F=w[0][1],B=w[0][2],U=w[1][0],z=w[1][1],W=w[1][2],j=function(ke){var Be=ke[0],Me=ke[1],Oe=ke[2];return!(Be<H||Be>U||Me<F||Me>z||Oe<B||Oe>W)},ee=t.distance(w[0],w[1]),ie=10*ee/m,oe=ie*ie,he=1,ne=0,q=_.length;q>1&&(he=c(_));for(var le=0;le<q;le++){var Q=t.create();t.copy(Q,_[le]);var te=[Q],ue=[],J=b(Q),K=Q;ue.push(J);var ce=[],ae=N(Q,J),de=t.length(ae);isFinite(de)&&de>ne&&(ne=de),ce.push(de),k.push({points:te,velocities:ue,divergences:ce});for(var be=0;be<m*100&&te.length<m&&j(Q);){be++;var Se=t.clone(J),Te=t.squaredLength(Se);if(Te===0)break;if(Te>oe&&t.scale(Se,Se,ie/Math.sqrt(Te)),t.add(Se,Se,Q),J=b(Se),t.squaredDistance(K,Se)-oe>-1e-4*oe){te.push(Se),K=Se,ue.push(J);var ae=N(Se,J),de=t.length(ae);isFinite(de)&&de>ne&&(ne=de),ce.push(de)}Q=Se}}var Ie=u(k,x.colormap,ne,he);return A?Ie.tubeScale=A:(ne===0&&(ne=1),Ie.tubeScale=E*.5*he/ne),Ie};var i=r(6740),d=r(6405).createMesh;v.exports.createTubeMesh=function(x,w){return d(x,w,{shaders:i,traceType:"streamtube"})}},990:function(v,g,r){var t=r(9405),a=r(3236),n=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(localCoordinate, 1.0);
  vec4 clipPosition = projection * (view * worldPosition);
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),f=a([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=a([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  mat4 objectOffsetTranslation = mat4(1.0) + mat4(vec4(0), vec4(0), vec4(0), vec4(objectOffset, 0));
  vec4 worldPosition = (model * objectOffsetTranslation) * vec4(dataCoordinate, 1.0);

  vec4 clipPosition = projection * (view * worldPosition);
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),l=a([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);g.createShader=function(y){var h=t(y,n,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createPickShader=function(y){var h=t(y,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},g.createContourShader=function(y){var h=t(y,u,f,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},g.createPickContourShader=function(y){var h=t(y,u,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},9499:function(v,g,r){v.exports=ue;var t=r(8828),a=r(2762),n=r(8116),f=r(7766),u=r(1888),l=r(6729),y=r(5298),h=r(9994),T=r(9618),c=r(3711),i=r(6760),d=r(7608),x=r(2478),w=r(6199),_=r(990),m=_.createShader,E=_.createContourShader,A=_.createPickShader,s=_.createPickContourShader,M=4*10,b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],N=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],k=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var J=0;J<3;++J){var K=k[J],ce=(J+1)%3,ae=(J+2)%3;K[ce+0]=1,K[ae+3]=1,K[J+6]=1}})();function H(J,K,ce,ae,de){this.position=J,this.index=K,this.uv=ce,this.level=ae,this.dataCoordinate=de}var F=256;function B(J,K,ce,ae,de,be,Se,Te,Ie,ke,Be,Me,Oe,_e,Ne){this.gl=J,this.shape=K,this.bounds=ce,this.objectOffset=Ne,this.intensityBounds=[],this._shader=ae,this._pickShader=de,this._coordinateBuffer=be,this._vao=Se,this._colorMap=Te,this._contourShader=Ie,this._contourPickShader=ke,this._contourBuffer=Be,this._contourVAO=Me,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new H([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Oe,this._dynamicVAO=_e,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0]),T(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var U=B.prototype;U.genColormap=function(J,K){var ce=!1,ae=h([l({colormap:J,nshades:F,format:"rgba"}).map(function(de,be){var Se=K?z(be/255,K):de[3];return Se<1&&(ce=!0),[de[0],de[1],de[2],255*Se]})]);return y.divseq(ae,255),this.hasAlphaScale=ce,ae},U.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},U.isOpaque=function(){return!this.isTransparent()},U.pickSlots=1,U.setPickBase=function(J){this.pickId=J};function z(J,K){if(!K||!K.length)return 1;for(var ce=0;ce<K.length;++ce){if(K.length<2)return 1;if(K[ce][0]===J)return K[ce][1];if(K[ce][0]>J&&ce>0){var ae=(K[ce][0]-J)/(K[ce][0]-K[ce-1][0]);return K[ce][1]*(1-ae)+ae*K[ce-1][1]}}return 1}var W=[0,0,0],j={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function ee(J,K){var ce,ae,de,be=K.axes&&K.axes.lastCubeProps.axis||W,Se=K.showSurface,Te=K.showContour;for(ce=0;ce<3;++ce)for(Se=Se||K.surfaceProject[ce],ae=0;ae<3;++ae)Te=Te||K.contourProject[ce][ae];for(ce=0;ce<3;++ce){var Ie=j.projections[ce];for(ae=0;ae<16;++ae)Ie[ae]=0;for(ae=0;ae<4;++ae)Ie[5*ae]=1;Ie[5*ce]=0,Ie[12+ce]=K.axesBounds[+(be[ce]>0)][ce],i(Ie,J.model,Ie);var ke=j.clipBounds[ce];for(de=0;de<2;++de)for(ae=0;ae<3;++ae)ke[de][ae]=J.clipBounds[de][ae];ke[0][ce]=-1e8,ke[1][ce]=1e8}return j.showSurface=Se,j.showContour=Te,j}var ie={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},oe=b.slice(),he=[1,0,0,0,1,0,0,0,1];function ne(J,K){J=J||{};var ce=this.gl;ce.disable(ce.CULL_FACE),this._colorMap.bind(0);var ae=ie;ae.model=J.model||b,ae.view=J.view||b,ae.projection=J.projection||b,ae.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ae.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ae.objectOffset=this.objectOffset,ae.contourColor=this.contourColor[0],ae.inverseModel=d(ae.inverseModel,ae.model);for(var de=0;de<2;++de)for(var be=ae.clipBounds[de],Se=0;Se<3;++Se)be[Se]=Math.min(Math.max(this.clipBounds[de][Se],-1e8),1e8);ae.kambient=this.ambientLight,ae.kdiffuse=this.diffuseLight,ae.kspecular=this.specularLight,ae.roughness=this.roughness,ae.fresnel=this.fresnel,ae.opacity=this.opacity,ae.height=0,ae.permutation=he,ae.vertexColor=this.vertexColor;var Te=oe;for(i(Te,ae.view,ae.model),i(Te,ae.projection,Te),d(Te,Te),de=0;de<3;++de)ae.eyePosition[de]=Te[12+de]/Te[15];var Ie=Te[15];for(de=0;de<3;++de)Ie+=this.lightPosition[de]*Te[4*de+3];for(de=0;de<3;++de){var ke=Te[12+de];for(Se=0;Se<3;++Se)ke+=Te[4*Se+de]*this.lightPosition[Se];ae.lightPosition[de]=ke/Ie}var Be=ee(ae,this);if(Be.showSurface){for(this._shader.bind(),this._shader.uniforms=ae,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ce.TRIANGLES,this._vertexCount),de=0;de<3;++de)!this.surfaceProject[de]||!this.vertexCount||(this._shader.uniforms.model=Be.projections[de],this._shader.uniforms.clipBounds=Be.clipBounds[de],this._vao.draw(ce.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Be.showContour){var Me=this._contourShader;ae.kambient=1,ae.kdiffuse=0,ae.kspecular=0,ae.opacity=1,Me.bind(),Me.uniforms=ae;var Oe=this._contourVAO;for(Oe.bind(),de=0;de<3;++de)for(Me.uniforms.permutation=k[de],ce.lineWidth(this.contourWidth[de]*this.pixelRatio),Se=0;Se<this.contourLevels[de].length;++Se)Se===this.highlightLevel[de]?(Me.uniforms.contourColor=this.highlightColor[de],Me.uniforms.contourTint=this.highlightTint[de]):(Se===0||Se-1===this.highlightLevel[de])&&(Me.uniforms.contourColor=this.contourColor[de],Me.uniforms.contourTint=this.contourTint[de]),this._contourCounts[de][Se]&&(Me.uniforms.height=this.contourLevels[de][Se],Oe.draw(ce.LINES,this._contourCounts[de][Se],this._contourOffsets[de][Se]));for(de=0;de<3;++de)for(Me.uniforms.model=Be.projections[de],Me.uniforms.clipBounds=Be.clipBounds[de],Se=0;Se<3;++Se)if(this.contourProject[de][Se]){Me.uniforms.permutation=k[Se],ce.lineWidth(this.contourWidth[Se]*this.pixelRatio);for(var _e=0;_e<this.contourLevels[Se].length;++_e)_e===this.highlightLevel[Se]?(Me.uniforms.contourColor=this.highlightColor[Se],Me.uniforms.contourTint=this.highlightTint[Se]):(_e===0||_e-1===this.highlightLevel[Se])&&(Me.uniforms.contourColor=this.contourColor[Se],Me.uniforms.contourTint=this.contourTint[Se]),this._contourCounts[Se][_e]&&(Me.uniforms.height=this.contourLevels[Se][_e],Oe.draw(ce.LINES,this._contourCounts[Se][_e],this._contourOffsets[Se][_e]))}for(Oe.unbind(),Oe=this._dynamicVAO,Oe.bind(),de=0;de<3;++de)if(this._dynamicCounts[de]!==0)for(Me.uniforms.model=ae.model,Me.uniforms.clipBounds=ae.clipBounds,Me.uniforms.permutation=k[de],ce.lineWidth(this.dynamicWidth[de]*this.pixelRatio),Me.uniforms.contourColor=this.dynamicColor[de],Me.uniforms.contourTint=this.dynamicTint[de],Me.uniforms.height=this.dynamicLevel[de],Oe.draw(ce.LINES,this._dynamicCounts[de],this._dynamicOffsets[de]),Se=0;Se<3;++Se)this.contourProject[Se][de]&&(Me.uniforms.model=Be.projections[Se],Me.uniforms.clipBounds=Be.clipBounds[Se],Oe.draw(ce.LINES,this._dynamicCounts[de],this._dynamicOffsets[de]));Oe.unbind()}}U.draw=function(J){return ne.call(this,J,!1)},U.drawTransparent=function(J){return ne.call(this,J,!0)};var q={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};U.drawPick=function(J){J=J||{};var K=this.gl;K.disable(K.CULL_FACE);var ce=q;ce.model=J.model||b,ce.view=J.view||b,ce.projection=J.projection||b,ce.shape=this._field[2].shape,ce.pickId=this.pickId/255,ce.lowerBound=this.bounds[0],ce.upperBound=this.bounds[1],ce.objectOffset=this.objectOffset,ce.permutation=he;for(var ae=0;ae<2;++ae)for(var de=ce.clipBounds[ae],be=0;be<3;++be)de[be]=Math.min(Math.max(this.clipBounds[ae][be],-1e8),1e8);var Se=ee(ce,this);if(Se.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ce,this._vao.bind(),this._vao.draw(K.TRIANGLES,this._vertexCount),ae=0;ae<3;++ae)this.surfaceProject[ae]&&(this._pickShader.uniforms.model=Se.projections[ae],this._pickShader.uniforms.clipBounds=Se.clipBounds[ae],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var Te=this._contourPickShader;Te.bind(),Te.uniforms=ce;var Ie=this._contourVAO;for(Ie.bind(),be=0;be<3;++be)for(K.lineWidth(this.contourWidth[be]*this.pixelRatio),Te.uniforms.permutation=k[be],ae=0;ae<this.contourLevels[be].length;++ae)this._contourCounts[be][ae]&&(Te.uniforms.height=this.contourLevels[be][ae],Ie.draw(K.LINES,this._contourCounts[be][ae],this._contourOffsets[be][ae]));for(ae=0;ae<3;++ae)for(Te.uniforms.model=Se.projections[ae],Te.uniforms.clipBounds=Se.clipBounds[ae],be=0;be<3;++be)if(this.contourProject[ae][be]){Te.uniforms.permutation=k[be],K.lineWidth(this.contourWidth[be]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[be].length;++ke)this._contourCounts[be][ke]&&(Te.uniforms.height=this.contourLevels[be][ke],Ie.draw(K.LINES,this._contourCounts[be][ke],this._contourOffsets[be][ke]))}Ie.unbind()}},U.pick=function(J){if(!J||J.id!==this.pickId)return null;var K=this._field[2].shape,ce=this._pickResult,ae=K[0]*(J.value[0]+(J.value[2]>>4)/16)/255,de=Math.floor(ae),be=ae-de,Se=K[1]*(J.value[1]+(J.value[2]&15)/16)/255,Te=Math.floor(Se),Ie=Se-Te;de+=1,Te+=1;var ke=ce.position;ke[0]=ke[1]=ke[2]=0;for(var Be=0;Be<2;++Be)for(var Me=Be?be:1-be,Oe=0;Oe<2;++Oe)for(var _e=Oe?Ie:1-Ie,Ne=de+Be,Ce=Te+Oe,Ye=Me*_e,rt=0;rt<3;++rt)ke[rt]+=this._field[rt].get(Ne,Ce)*Ye;for(var ot=this._pickResult.level,$e=0;$e<3;++$e)if(ot[$e]=x.le(this.contourLevels[$e],ke[$e]),ot[$e]<0)this.contourLevels[$e].length>0&&(ot[$e]=0);else if(ot[$e]<this.contourLevels[$e].length-1){var qe=this.contourLevels[$e][ot[$e]],ht=this.contourLevels[$e][ot[$e]+1];Math.abs(qe-ke[$e])>Math.abs(ht-ke[$e])&&(ot[$e]+=1)}for(ce.index[0]=be<.5?de:de+1,ce.index[1]=Ie<.5?Te:Te+1,ce.uv[0]=ae/K[0],ce.uv[1]=Se/K[1],rt=0;rt<3;++rt)ce.dataCoordinate[rt]=this._field[rt].get(ce.index[0],ce.index[1]);return ce},U.padField=function(J,K){var ce=K.shape.slice(),ae=J.shape.slice();y.assign(J.lo(1,1).hi(ce[0],ce[1]),K),y.assign(J.lo(1).hi(ce[0],1),K.hi(ce[0],1)),y.assign(J.lo(1,ae[1]-1).hi(ce[0],1),K.lo(0,ce[1]-1).hi(ce[0],1)),y.assign(J.lo(0,1).hi(1,ce[1]),K.hi(1)),y.assign(J.lo(ae[0]-1,1).hi(1,ce[1]),K.lo(ce[0]-1)),J.set(0,0,K.get(0,0)),J.set(0,ae[1]-1,K.get(0,ce[1]-1)),J.set(ae[0]-1,0,K.get(ce[0]-1,0)),J.set(ae[0]-1,ae[1]-1,K.get(ce[0]-1,ce[1]-1))};function le(J,K){return Array.isArray(J)?[K(J[0]),K(J[1]),K(J[2])]:[K(J),K(J),K(J)]}function Q(J){return Array.isArray(J)?J.length===3?[J[0],J[1],J[2],1]:[J[0],J[1],J[2],J[3]]:[0,0,0,1]}function te(J){if(Array.isArray(J)){if(Array.isArray(J))return[Q(J[0]),Q(J[1]),Q(J[2])];var K=Q(J);return[K.slice(),K.slice(),K.slice()]}}U.update=function(J){J=J||{},this.objectOffset=J.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in J&&(this.contourWidth=le(J.contourWidth,Number)),"showContour"in J&&(this.showContour=le(J.showContour,Boolean)),"showSurface"in J&&(this.showSurface=!!J.showSurface),"contourTint"in J&&(this.contourTint=le(J.contourTint,Boolean)),"contourColor"in J&&(this.contourColor=te(J.contourColor)),"contourProject"in J&&(this.contourProject=le(J.contourProject,function(Pt){return le(Pt,Boolean)})),"surfaceProject"in J&&(this.surfaceProject=J.surfaceProject),"dynamicColor"in J&&(this.dynamicColor=te(J.dynamicColor)),"dynamicTint"in J&&(this.dynamicTint=le(J.dynamicTint,Number)),"dynamicWidth"in J&&(this.dynamicWidth=le(J.dynamicWidth,Number)),"opacity"in J&&(this.opacity=J.opacity),"opacityscale"in J&&(this.opacityscale=J.opacityscale),"colorBounds"in J&&(this.colorBounds=J.colorBounds),"vertexColor"in J&&(this.vertexColor=J.vertexColor?1:0),"colormap"in J&&this._colorMap.setPixels(this.genColormap(J.colormap,this.opacityscale));var K=J.field||J.coords&&J.coords[2]||null,ce=!1;if(K||(this._field[2].shape[0]||this._field[2].shape[2]?K=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):K=this._field[2].hi(0,0)),"field"in J||"coords"in J){var ae=(K.shape[0]+2)*(K.shape[1]+2);ae>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ae))),this._field[2]=T(this._field[2].data,[K.shape[0]+2,K.shape[1]+2]),this.padField(this._field[2],K),this.shape=K.shape.slice();for(var de=this.shape,be=0;be<2;++be)this._field[2].size>this._field[be].data.length&&(u.freeFloat(this._field[be].data),this._field[be].data=u.mallocFloat(this._field[2].size)),this._field[be]=T(this._field[be].data,[de[0]+2,de[1]+2]);if(J.coords){var Se=J.coords;if(!Array.isArray(Se)||Se.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(be=0;be<2;++be){var Te=Se[be];for(Oe=0;Oe<2;++Oe)if(Te.shape[Oe]!==de[Oe])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[be],Te)}}else if(J.ticks){var Ie=J.ticks;if(!Array.isArray(Ie)||Ie.length!==2)throw new Error("gl-surface: invalid ticks");for(be=0;be<2;++be){var ke=Ie[be];if((Array.isArray(ke)||ke.length)&&(ke=T(ke)),ke.shape[0]!==de[be])throw new Error("gl-surface: invalid tick length");var Be=T(ke.data,de);Be.stride[be]=ke.stride[0],Be.stride[be^1]=0,this.padField(this._field[be],Be)}}else{for(be=0;be<2;++be){var Me=[0,0];Me[be]=1,this._field[be]=T(this._field[be].data,[de[0]+2,de[1]+2],Me,0)}this._field[0].set(0,0,0);for(var Oe=0;Oe<de[0];++Oe)this._field[0].set(Oe+1,0,Oe);for(this._field[0].set(de[0]+1,0,de[0]-1),this._field[1].set(0,0,0),Oe=0;Oe<de[1];++Oe)this._field[1].set(0,Oe+1,Oe);this._field[1].set(0,de[1]+1,de[1]-1)}var _e=this._field,Ne=T(u.mallocFloat(_e[2].size*3*2),[3,de[0]+2,de[1]+2,2]);for(be=0;be<3;++be)w(Ne.pick(be),_e[be],"mirror");var Ce=T(u.mallocFloat(_e[2].size*3),[de[0]+2,de[1]+2,3]);for(be=0;be<de[0]+2;++be)for(Oe=0;Oe<de[1]+2;++Oe){var Ye=Ne.get(0,be,Oe,0),rt=Ne.get(0,be,Oe,1),ot=Ne.get(1,be,Oe,0),$e=Ne.get(1,be,Oe,1),qe=Ne.get(2,be,Oe,0),ht=Ne.get(2,be,Oe,1),vt=ot*ht-$e*qe,pt=qe*rt-ht*Ye,wt=Ye*$e-rt*ot,Mt=Math.sqrt(vt*vt+pt*pt+wt*wt);Mt<1e-8?(Mt=Math.max(Math.abs(vt),Math.abs(pt),Math.abs(wt)),Mt<1e-8?(wt=1,pt=vt=0,Mt=1):Mt=1/Mt):Mt=1/Math.sqrt(Mt),Ce.set(be,Oe,0,vt*Mt),Ce.set(be,Oe,1,pt*Mt),Ce.set(be,Oe,2,wt*Mt)}u.free(Ne.data);var nt=[1/0,1/0,1/0],Fe=[-1/0,-1/0,-1/0],We=1/0,Ze=-1/0,Ge=(de[0]-1)*(de[1]-1)*6,Pe=u.mallocFloat(t.nextPow2(10*Ge)),Re=0,je=0;for(be=0;be<de[0]-1;++be)e:for(Oe=0;Oe<de[1]-1;++Oe){for(var De=0;De<2;++De)for(var ge=0;ge<2;++ge)for(var we=0;we<3;++we){var Ue=this._field[we].get(1+be+De,1+Oe+ge);if(isNaN(Ue)||!isFinite(Ue))continue e}for(we=0;we<6;++we){var et=be+N[we][0],st=Oe+N[we][1],lt=this._field[0].get(et+1,st+1),Wt=this._field[1].get(et+1,st+1);Ue=this._field[2].get(et+1,st+1),vt=Ce.get(et+1,st+1,0),pt=Ce.get(et+1,st+1,1),wt=Ce.get(et+1,st+1,2),J.intensity&&(jt=J.intensity.get(et,st));var jt=J.intensity?J.intensity.get(et,st):Ue+this.objectOffset[2];Pe[Re++]=et,Pe[Re++]=st,Pe[Re++]=lt,Pe[Re++]=Wt,Pe[Re++]=Ue,Pe[Re++]=0,Pe[Re++]=jt,Pe[Re++]=vt,Pe[Re++]=pt,Pe[Re++]=wt,nt[0]=Math.min(nt[0],lt+this.objectOffset[0]),nt[1]=Math.min(nt[1],Wt+this.objectOffset[1]),nt[2]=Math.min(nt[2],Ue+this.objectOffset[2]),We=Math.min(We,jt),Fe[0]=Math.max(Fe[0],lt+this.objectOffset[0]),Fe[1]=Math.max(Fe[1],Wt+this.objectOffset[1]),Fe[2]=Math.max(Fe[2],Ue+this.objectOffset[2]),Ze=Math.max(Ze,jt),je+=1}}for(J.intensityBounds&&(We=+J.intensityBounds[0],Ze=+J.intensityBounds[1]),be=6;be<Re;be+=10)Pe[be]=(Pe[be]-We)/(Ze-We);this._vertexCount=je,this._coordinateBuffer.update(Pe.subarray(0,Re)),u.freeFloat(Pe),u.free(Ce.data),this.bounds=[nt,Fe],this.intensity=J.intensity||this._field[2],(this.intensityBounds[0]!==We||this.intensityBounds[1]!==Ze)&&(ce=!0),this.intensityBounds=[We,Ze]}if("levels"in J){var Tt=J.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],be=0;be<3;++be)Tt[be]=Tt[be].slice(),Tt[be].sort(function(Pt,Qt){return Pt-Qt});for(be=0;be<3;++be)for(Oe=0;Oe<Tt[be].length;++Oe)Tt[be][Oe]-=this.objectOffset[be];e:for(be=0;be<3;++be){if(Tt[be].length!==this.contourLevels[be].length){ce=!0;break}for(Oe=0;Oe<Tt[be].length;++Oe)if(Tt[be][Oe]!==this.contourLevels[be][Oe]){ce=!0;break e}}this.contourLevels=Tt}if(ce){_e=this._field,de=this.shape;for(var Rt=[],Zt=0;Zt<3;++Zt){var mr=this.contourLevels[Zt],gt=[],Kt=[],$t=[0,0,0];for(be=0;be<mr.length;++be){var br=c(this._field[Zt],mr[be]);gt.push(Rt.length/5|0),je=0;e:for(Oe=0;Oe<br.cells.length;++Oe){var lr=br.cells[Oe];for(we=0;we<2;++we){var mt=br.positions[lr[we]],ut=mt[0],bt=Math.floor(ut)|0,Et=ut-bt,Dt=mt[1],Yt=Math.floor(Dt)|0,Bt=Dt-Yt,Ut=!1;t:for(var Jt=0;Jt<3;++Jt){$t[Jt]=0;var hr=(Zt+Jt+1)%3;for(De=0;De<2;++De){var vr=De?Et:1-Et;for(et=Math.min(Math.max(bt+De,0),de[0])|0,ge=0;ge<2;++ge){var gr=ge?Bt:1-Bt;if(st=Math.min(Math.max(Yt+ge,0),de[1])|0,Jt<2?Ue=this._field[hr].get(et,st):Ue=(this.intensity.get(et,st)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ue)||isNaN(Ue)){Ut=!0;break t}var Xe=vr*gr;$t[Jt]+=Xe*Ue}}}if(!Ut)Rt.push($t[0],$t[1],mt[0],mt[1],$t[2]),je+=1;else{if(we>0){for(var He=0;He<5;++He)Rt.pop();je-=1}continue e}}}Kt.push(je)}this._contourOffsets[Zt]=gt,this._contourCounts[Zt]=Kt}var Nt=u.mallocFloat(Rt.length);for(be=0;be<Rt.length;++be)Nt[be]=Rt[be];this._contourBuffer.update(Nt),u.freeFloat(Nt)}},U.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var J=0;J<3;++J)u.freeFloat(this._field[J].data)},U.highlight=function(J){var K;if(!J){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(K=0;K<3;++K)this.enableHighlight[K]?this.highlightLevel[K]=J.level[K]:this.highlightLevel[K]=-1;var ce;for(this.snapToData?ce=J.dataCoordinate:ce=J.position,K=0;K<3;++K)ce[K]-=this.objectOffset[K];if(!((!this.enableDynamic[0]||ce[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ce[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ce[2]===this.dynamicLevel[2]))){for(var ae=0,de=this.shape,be=u.mallocFloat(12*de[0]*de[1]),Se=0;Se<3;++Se){if(!this.enableDynamic[Se]){this.dynamicLevel[Se]=NaN,this._dynamicCounts[Se]=0;continue}this.dynamicLevel[Se]=ce[Se];var Te=(Se+1)%3,Ie=(Se+2)%3,ke=this._field[Se],Be=this._field[Te],Me=this._field[Ie],Oe=c(ke,ce[Se]),_e=Oe.cells,Ne=Oe.positions;for(this._dynamicOffsets[Se]=ae,K=0;K<_e.length;++K)for(var Ce=_e[K],Ye=0;Ye<2;++Ye){var rt=Ne[Ce[Ye]],ot=+rt[0],$e=ot|0,qe=Math.min($e+1,de[0])|0,ht=ot-$e,vt=1-ht,pt=+rt[1],wt=pt|0,Mt=Math.min(wt+1,de[1])|0,nt=pt-wt,Fe=1-nt,We=vt*Fe,Ze=vt*nt,Ge=ht*Fe,Pe=ht*nt,Re=We*Be.get($e,wt)+Ze*Be.get($e,Mt)+Ge*Be.get(qe,wt)+Pe*Be.get(qe,Mt),je=We*Me.get($e,wt)+Ze*Me.get($e,Mt)+Ge*Me.get(qe,wt)+Pe*Me.get(qe,Mt);if(isNaN(Re)||isNaN(je)){Ye&&(ae-=1);break}be[2*ae+0]=Re,be[2*ae+1]=je,ae+=1}this._dynamicCounts[Se]=ae-this._dynamicOffsets[Se]}this._dynamicBuffer.update(be.subarray(0,2*ae)),u.freeFloat(be)}};function ue(J){var K=J.gl,ce=m(K),ae=A(K),de=E(K),be=s(K),Se=a(K),Te=n(K,[{buffer:Se,size:4,stride:M,offset:0},{buffer:Se,size:3,stride:M,offset:16},{buffer:Se,size:3,stride:M,offset:28}]),Ie=a(K),ke=n(K,[{buffer:Ie,size:4,stride:20,offset:0},{buffer:Ie,size:1,stride:20,offset:16}]),Be=a(K),Me=n(K,[{buffer:Be,size:2,type:K.FLOAT}]),Oe=f(K,1,F,K.RGBA,K.UNSIGNED_BYTE);Oe.minFilter=K.LINEAR,Oe.magFilter=K.LINEAR;var _e=new B(K,[0,0],[[0,0,0],[0,0,0]],ce,ae,Se,Te,Oe,de,be,Ie,ke,Be,Me,[0,0,0]),Ne={levels:[[],[],[]]};for(var Ce in J)Ne[Ce]=J[Ce];return Ne.colormap=Ne.colormap||"jet",_e.update(Ne),_e}},7766:function(v,g,r){var t=r(9618),a=r(5298),n=r(1888);v.exports=s;var f=null,u=null,l=null;function y(M){f=[M.LINEAR,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_NEAREST],u=[M.NEAREST,M.LINEAR,M.NEAREST_MIPMAP_NEAREST,M.NEAREST_MIPMAP_LINEAR,M.LINEAR_MIPMAP_NEAREST,M.LINEAR_MIPMAP_LINEAR],l=[M.REPEAT,M.CLAMP_TO_EDGE,M.MIRRORED_REPEAT]}function h(M){return typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&M instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&M instanceof HTMLVideoElement||typeof ImageData<"u"&&M instanceof ImageData}var T=function(M,b){a.muls(M,b,255)};function c(M,b,N){var k=M.gl,H=k.getParameter(k.MAX_TEXTURE_SIZE);if(b<0||b>H||N<0||N>H)throw new Error("gl-texture2d: Invalid texture size");return M._shape=[b,N],M.bind(),k.texImage2D(k.TEXTURE_2D,0,M.format,b,N,0,M.format,M.type,null),M._mipLevels=[0],M}function i(M,b,N,k,H,F){this.gl=M,this.handle=b,this.format=H,this.type=F,this._shape=[N,k],this._mipLevels=[0],this._magFilter=M.NEAREST,this._minFilter=M.NEAREST,this._wrapS=M.CLAMP_TO_EDGE,this._wrapT=M.CLAMP_TO_EDGE,this._anisoSamples=1;var B=this,U=[this._wrapS,this._wrapT];Object.defineProperties(U,[{get:function(){return B._wrapS},set:function(W){return B.wrapS=W}},{get:function(){return B._wrapT},set:function(W){return B.wrapT=W}}]),this._wrapVector=U;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return B._shape[0]},set:function(W){return B.width=W}},{get:function(){return B._shape[1]},set:function(W){return B.height=W}}]),this._shapeVector=z}var d=i.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(M){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(M)>=0&&(b.getExtension("OES_texture_float_linear")||(M=b.NEAREST)),u.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,M),this._minFilter=M}},magFilter:{get:function(){return this._magFilter},set:function(M){this.bind();var b=this.gl;if(this.type===b.FLOAT&&f.indexOf(M)>=0&&(b.getExtension("OES_texture_float_linear")||(M=b.NEAREST)),u.indexOf(M)<0)throw new Error("gl-texture2d: Unknown filter mode "+M);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,M),this._magFilter=M}},mipSamples:{get:function(){return this._anisoSamples},set:function(M){var b=this._anisoSamples;if(this._anisoSamples=Math.max(M,1)|0,b!==this._anisoSamples){var N=this.gl.getExtension("EXT_texture_filter_anisotropic");N&&this.gl.texParameterf(this.gl.TEXTURE_2D,N.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(M){if(this.bind(),l.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,M),this._wrapS=M}},wrapT:{get:function(){return this._wrapT},set:function(M){if(this.bind(),l.indexOf(M)<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,M),this._wrapT=M}},wrap:{get:function(){return this._wrapVector},set:function(M){if(Array.isArray(M)||(M=[M,M]),M.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(l.indexOf(M[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+M);this._wrapS=M[0],this._wrapT=M[1];var N=this.gl;return this.bind(),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,this._wrapS),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,this._wrapT),M}},shape:{get:function(){return this._shapeVector},set:function(M){if(!Array.isArray(M))M=[M|0,M|0];else if(M.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return c(this,M[0]|0,M[1]|0),[M[0]|0,M[1]|0]}},width:{get:function(){return this._shape[0]},set:function(M){return M=M|0,c(this,M,this._shape[1]),M}},height:{get:function(){return this._shape[1]},set:function(M){return M=M|0,c(this,this._shape[0],M),M}}}),d.bind=function(M){var b=this.gl;return M!==void 0&&b.activeTexture(b.TEXTURE0+(M|0)),b.bindTexture(b.TEXTURE_2D,this.handle),M!==void 0?M|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var M=Math.min(this._shape[0],this._shape[1]),b=0;M>0;++b,M>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},d.setPixels=function(M,b,N,k){var H=this.gl;this.bind(),Array.isArray(b)?(k=N,N=b[1]|0,b=b[0]|0):(b=b||0,N=N||0),k=k||0;var F=h(M)?M:M.raw;if(F){var B=this._mipLevels.indexOf(k)<0;B?(H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(k)):H.texSubImage2D(H.TEXTURE_2D,k,b,N,this.format,this.type,F)}else if(M.shape&&M.stride&&M.data){if(M.shape.length<2||b+M.shape[1]>this._shape[1]>>>k||N+M.shape[0]>this._shape[0]>>>k||b<0||N<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");w(H,b,N,k,this.format,this.type,this._mipLevels,M)}else throw new Error("gl-texture2d: Unsupported data type")};function x(M,b){return M.length===3?b[2]===1&&b[1]===M[0]*M[2]&&b[0]===M[2]:b[0]===1&&b[1]===M[0]}function w(M,b,N,k,H,F,B,U){var z=U.dtype,W=U.shape.slice();if(W.length<2||W.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var j=0,ee=0,ie=x(W,U.stride.slice());if(z==="float32"?j=M.FLOAT:z==="float64"?(j=M.FLOAT,ie=!1,z="float32"):z==="uint8"?j=M.UNSIGNED_BYTE:(j=M.UNSIGNED_BYTE,ie=!1,z="uint8"),W.length===2)ee=M.LUMINANCE,W=[W[0],W[1],1],U=t(U.data,W,[U.stride[0],U.stride[1],1],U.offset);else if(W.length===3){if(W[2]===1)ee=M.ALPHA;else if(W[2]===2)ee=M.LUMINANCE_ALPHA;else if(W[2]===3)ee=M.RGB;else if(W[2]===4)ee=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");W[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((ee===M.LUMINANCE||ee===M.ALPHA)&&(H===M.LUMINANCE||H===M.ALPHA)&&(ee=H),ee!==H)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var oe=U.size,he=B.indexOf(k)<0;if(he&&B.push(k),j===F&&ie)U.offset===0&&U.data.length===oe?he?M.texImage2D(M.TEXTURE_2D,k,H,W[0],W[1],0,H,F,U.data):M.texSubImage2D(M.TEXTURE_2D,k,b,N,W[0],W[1],H,F,U.data):he?M.texImage2D(M.TEXTURE_2D,k,H,W[0],W[1],0,H,F,U.data.subarray(U.offset,U.offset+oe)):M.texSubImage2D(M.TEXTURE_2D,k,b,N,W[0],W[1],H,F,U.data.subarray(U.offset,U.offset+oe));else{var ne;F===M.FLOAT?ne=n.mallocFloat32(oe):ne=n.mallocUint8(oe);var q=t(ne,W,[W[2],W[2]*W[0],1]);j===M.FLOAT&&F===M.UNSIGNED_BYTE?T(q,U):a.assign(q,U),he?M.texImage2D(M.TEXTURE_2D,k,H,W[0],W[1],0,H,F,ne.subarray(0,oe)):M.texSubImage2D(M.TEXTURE_2D,k,b,N,W[0],W[1],H,F,ne.subarray(0,oe)),F===M.FLOAT?n.freeFloat32(ne):n.freeUint8(ne)}}function _(M){var b=M.createTexture();return M.bindTexture(M.TEXTURE_2D,b),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,M.NEAREST),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE),b}function m(M,b,N,k,H){var F=M.getParameter(M.MAX_TEXTURE_SIZE);if(b<0||b>F||N<0||N>F)throw new Error("gl-texture2d: Invalid texture shape");if(H===M.FLOAT&&!M.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var B=_(M);return M.texImage2D(M.TEXTURE_2D,0,k,b,N,0,k,H,null),new i(M,B,b,N,k,H)}function E(M,b,N,k,H,F){var B=_(M);return M.texImage2D(M.TEXTURE_2D,0,H,H,F,b),new i(M,B,N,k,H,F)}function A(M,b){var N=b.dtype,k=b.shape.slice(),H=M.getParameter(M.MAX_TEXTURE_SIZE);if(k[0]<0||k[0]>H||k[1]<0||k[1]>H)throw new Error("gl-texture2d: Invalid texture size");var F=x(k,b.stride.slice()),B=0;N==="float32"?B=M.FLOAT:N==="float64"?(B=M.FLOAT,F=!1,N="float32"):N==="uint8"?B=M.UNSIGNED_BYTE:(B=M.UNSIGNED_BYTE,F=!1,N="uint8");var U=0;if(k.length===2)U=M.LUMINANCE,k=[k[0],k[1],1],b=t(b.data,k,[b.stride[0],b.stride[1],1],b.offset);else if(k.length===3)if(k[2]===1)U=M.ALPHA;else if(k[2]===2)U=M.LUMINANCE_ALPHA;else if(k[2]===3)U=M.RGB;else if(k[2]===4)U=M.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");B===M.FLOAT&&!M.getExtension("OES_texture_float")&&(B=M.UNSIGNED_BYTE,F=!1);var z,W,j=b.size;if(F)b.offset===0&&b.data.length===j?z=b.data:z=b.data.subarray(b.offset,b.offset+j);else{var ee=[k[2],k[2]*k[0],1];W=n.malloc(j,N);var ie=t(W,k,ee,0);(N==="float32"||N==="float64")&&B===M.UNSIGNED_BYTE?T(ie,b):a.assign(ie,b),z=W.subarray(0,j)}var oe=_(M);return M.texImage2D(M.TEXTURE_2D,0,U,k[0],k[1],0,U,B,z),F||n.free(W),new i(M,oe,k[0],k[1],U,B)}function s(M){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(f||y(M),typeof arguments[1]=="number")return m(M,arguments[1],arguments[2],arguments[3]||M.RGBA,arguments[4]||M.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(M,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],N=h(b)?b:b.raw;if(N)return E(M,N,b.width|0,b.height|0,arguments[2]||M.RGBA,arguments[3]||M.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return A(M,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},1433:function(v){function g(r,t,a){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var n=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(a){if(a.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var f=0;f<a.length;++f){var u=a[f];if(u.buffer){var l=u.buffer,y=u.size||4,h=u.type||r.FLOAT,T=!!u.normalized,c=u.stride||0,i=u.offset||0;l.bind(),r.enableVertexAttribArray(f),r.vertexAttribPointer(f,y,h,T,c,i)}else{if(typeof u=="number")r.vertexAttrib1f(f,u);else if(u.length===1)r.vertexAttrib1f(f,u[0]);else if(u.length===2)r.vertexAttrib2f(f,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(f,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(f,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(f)}}for(;f<n;++f)r.disableVertexAttribArray(f)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=0;f<n;++f)r.disableVertexAttribArray(f)}}v.exports=g},870:function(v,g,r){var t=r(1433);function a(f){this.gl=f,this._elements=null,this._attributes=null,this._elementsType=f.UNSIGNED_SHORT}a.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},a.prototype.update=function(f,u,l){this._elements=u,this._attributes=f,this._elementsType=l||this.gl.UNSIGNED_SHORT},a.prototype.dispose=function(){},a.prototype.unbind=function(){},a.prototype.draw=function(f,u,l){l=l||0;var y=this.gl;this._elements?y.drawElements(f,u,this._elementsType,l):y.drawArrays(f,l,u)};function n(f){return new a(f)}v.exports=n},7518:function(v,g,r){var t=r(1433);function a(u,l,y,h,T,c){this.location=u,this.dimension=l,this.a=y,this.b=h,this.c=T,this.d=c}a.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(u,l,y){this.gl=u,this._ext=l,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(u,l,y){if(this.bind(),t(this.gl,l,u),this.unbind(),this._attribs.length=0,u)for(var h=0;h<u.length;++h){var T=u[h];typeof T=="number"?this._attribs.push(new a(h,1,T)):Array.isArray(T)&&this._attribs.push(new a(h,T.length,T[0],T[1],T[2],T[3]))}this._useElements=!!l,this._elementsType=y||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(u,l,y){y=y||0;var h=this.gl;this._useElements?h.drawElements(u,l,this._elementsType,y):h.drawArrays(u,y,l)};function f(u,l){return new n(u,l,l.createVertexArrayOES())}v.exports=f},8116:function(v,g,r){var t=r(7518),a=r(870);function n(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function f(u,l,y,h){var T=u.createVertexArray?new n(u):u.getExtension("OES_vertex_array_object"),c;return T?c=t(u,T):c=a(u),c.update(l,y,h),c}v.exports=f},5632:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r}},8192:function(v,g,r){v.exports=f;var t=r(2825),a=r(3536),n=r(244);function f(u,l){var y=t(u[0],u[1],u[2]),h=t(l[0],l[1],l[2]);a(y,y),a(h,h);var T=n(y,h);return T>1?0:Math.acos(T)}},9226:function(v){v.exports=g;function g(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},3126:function(v){v.exports=g;function g(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},3990:function(v){v.exports=g;function g(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},1091:function(v){v.exports=g;function g(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},5911:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],y=a[1],h=a[2];return r[0]=f*h-u*y,r[1]=u*l-n*h,r[2]=n*y-f*l,r}},5455:function(v,g,r){v.exports=r(7056)},7056:function(v){v.exports=g;function g(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return Math.sqrt(a*a+n*n+f*f)}},4008:function(v,g,r){v.exports=r(6690)},6690:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r}},244:function(v){v.exports=g;function g(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},2613:function(v){v.exports=1e-6},9922:function(v,g,r){v.exports=a;var t=r(2613);function a(n,f){var u=n[0],l=n[1],y=n[2],h=f[0],T=f[1],c=f[2];return Math.abs(u-h)<=t*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-T)<=t*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(y-c)<=t*Math.max(1,Math.abs(y),Math.abs(c))}},9265:function(v){v.exports=g;function g(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},2681:function(v){v.exports=g;function g(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},5137:function(v,g,r){v.exports=a;var t=r(1091)();function a(n,f,u,l,y,h){var T,c;for(f||(f=3),u||(u=0),l?c=Math.min(l*f+u,n.length):c=n.length,T=u;T<c;T+=f)t[0]=n[T],t[1]=n[T+1],t[2]=n[T+2],y(t,t,h),n[T]=t[0],n[T+1]=t[1],n[T+2]=t[2];return n}},2825:function(v){v.exports=g;function g(r,t,a){var n=new Float32Array(3);return n[0]=r,n[1]=t,n[2]=a,n}},2931:function(v,g,r){v.exports={EPSILON:r(2613),create:r(1091),clone:r(3126),angle:r(8192),fromValues:r(2825),copy:r(3990),set:r(1463),equals:r(9922),exactEquals:r(9265),add:r(5632),subtract:r(6843),sub:r(2229),multiply:r(5847),mul:r(4505),divide:r(6690),div:r(4008),min:r(8107),max:r(7417),floor:r(2681),ceil:r(9226),round:r(2447),scale:r(6621),scaleAndAdd:r(8489),distance:r(7056),dist:r(5455),squaredDistance:r(2953),sqrDist:r(6141),length:r(1387),len:r(868),squaredLength:r(3066),sqrLen:r(5486),negate:r(5093),inverse:r(811),normalize:r(3536),dot:r(244),cross:r(5911),lerp:r(6658),random:r(7636),transformMat4:r(5673),transformMat3:r(492),transformQuat:r(264),rotateX:r(6894),rotateY:r(109),rotateZ:r(8692),forEach:r(5137)}},811:function(v){v.exports=g;function g(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},868:function(v,g,r){v.exports=r(1387)},1387:function(v){v.exports=g;function g(r){var t=r[0],a=r[1],n=r[2];return Math.sqrt(t*t+a*a+n*n)}},6658:function(v){v.exports=g;function g(r,t,a,n){var f=t[0],u=t[1],l=t[2];return r[0]=f+n*(a[0]-f),r[1]=u+n*(a[1]-u),r[2]=l+n*(a[2]-l),r}},7417:function(v){v.exports=g;function g(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r}},8107:function(v){v.exports=g;function g(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r}},4505:function(v,g,r){v.exports=r(5847)},5847:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r}},5093:function(v){v.exports=g;function g(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},3536:function(v){v.exports=g;function g(r,t){var a=t[0],n=t[1],f=t[2],u=a*a+n*n+f*f;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},7636:function(v){v.exports=g;function g(r,t){t=t||1;var a=Math.random()*2*Math.PI,n=Math.random()*2-1,f=Math.sqrt(1-n*n)*t;return r[0]=Math.cos(a)*f,r[1]=Math.sin(a)*f,r[2]=n*t,r}},6894:function(v){v.exports=g;function g(r,t,a,n){var f=a[1],u=a[2],l=t[1]-f,y=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=t[0],r[1]=f+l*T-y*h,r[2]=u+l*h+y*T,r}},109:function(v){v.exports=g;function g(r,t,a,n){var f=a[0],u=a[2],l=t[0]-f,y=t[2]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+y*h+l*T,r[1]=t[1],r[2]=u+y*T-l*h,r}},8692:function(v){v.exports=g;function g(r,t,a,n){var f=a[0],u=a[1],l=t[0]-f,y=t[1]-u,h=Math.sin(n),T=Math.cos(n);return r[0]=f+l*T-y*h,r[1]=u+l*h+y*T,r[2]=t[2],r}},2447:function(v){v.exports=g;function g(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},6621:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r}},8489:function(v){v.exports=g;function g(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r}},1463:function(v){v.exports=g;function g(r,t,a,n){return r[0]=t,r[1]=a,r[2]=n,r}},6141:function(v,g,r){v.exports=r(2953)},5486:function(v,g,r){v.exports=r(3066)},2953:function(v){v.exports=g;function g(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2];return a*a+n*n+f*f}},3066:function(v){v.exports=g;function g(r){var t=r[0],a=r[1],n=r[2];return t*t+a*a+n*n}},2229:function(v,g,r){v.exports=r(6843)},6843:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r}},492:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2];return r[0]=n*a[0]+f*a[3]+u*a[6],r[1]=n*a[1]+f*a[4]+u*a[7],r[2]=n*a[2]+f*a[5]+u*a[8],r}},5673:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[3]*n+a[7]*f+a[11]*u+a[15];return l=l||1,r[0]=(a[0]*n+a[4]*f+a[8]*u+a[12])/l,r[1]=(a[1]*n+a[5]*f+a[9]*u+a[13])/l,r[2]=(a[2]*n+a[6]*f+a[10]*u+a[14])/l,r}},264:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],y=a[1],h=a[2],T=a[3],c=T*n+y*u-h*f,i=T*f+h*n-l*u,d=T*u+l*f-y*n,x=-l*n-y*f-h*u;return r[0]=c*T+x*-l+i*-h-d*-y,r[1]=i*T+x*-y+d*-l-c*-h,r[2]=d*T+x*-h+c*-y-i*-l,r}},4361:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]+a[0],r[1]=t[1]+a[1],r[2]=t[2]+a[2],r[3]=t[3]+a[3],r}},2335:function(v){v.exports=g;function g(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},2933:function(v){v.exports=g;function g(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},7536:function(v){v.exports=g;function g(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},4691:function(v){v.exports=g;function g(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(a*a+n*n+f*f+u*u)}},1373:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]/a[0],r[1]=t[1]/a[1],r[2]=t[2]/a[2],r[3]=t[3]/a[3],r}},3750:function(v){v.exports=g;function g(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},3390:function(v){v.exports=g;function g(r,t,a,n){var f=new Float32Array(4);return f[0]=r,f[1]=t,f[2]=a,f[3]=n,f}},9970:function(v,g,r){v.exports={create:r(7536),clone:r(2335),fromValues:r(3390),copy:r(2933),set:r(4578),add:r(4361),subtract:r(6860),multiply:r(3576),divide:r(1373),min:r(2334),max:r(160),scale:r(9288),scaleAndAdd:r(4844),distance:r(4691),squaredDistance:r(7960),length:r(6808),squaredLength:r(483),negate:r(1498),inverse:r(4494),normalize:r(5177),dot:r(3750),lerp:r(2573),random:r(9131),transformMat4:r(5352),transformQuat:r(4041)}},4494:function(v){v.exports=g;function g(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},6808:function(v){v.exports=g;function g(r){var t=r[0],a=r[1],n=r[2],f=r[3];return Math.sqrt(t*t+a*a+n*n+f*f)}},2573:function(v){v.exports=g;function g(r,t,a,n){var f=t[0],u=t[1],l=t[2],y=t[3];return r[0]=f+n*(a[0]-f),r[1]=u+n*(a[1]-u),r[2]=l+n*(a[2]-l),r[3]=y+n*(a[3]-y),r}},160:function(v){v.exports=g;function g(r,t,a){return r[0]=Math.max(t[0],a[0]),r[1]=Math.max(t[1],a[1]),r[2]=Math.max(t[2],a[2]),r[3]=Math.max(t[3],a[3]),r}},2334:function(v){v.exports=g;function g(r,t,a){return r[0]=Math.min(t[0],a[0]),r[1]=Math.min(t[1],a[1]),r[2]=Math.min(t[2],a[2]),r[3]=Math.min(t[3],a[3]),r}},3576:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]*a[0],r[1]=t[1]*a[1],r[2]=t[2]*a[2],r[3]=t[3]*a[3],r}},1498:function(v){v.exports=g;function g(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},5177:function(v){v.exports=g;function g(r,t){var a=t[0],n=t[1],f=t[2],u=t[3],l=a*a+n*n+f*f+u*u;return l>0&&(l=1/Math.sqrt(l),r[0]=a*l,r[1]=n*l,r[2]=f*l,r[3]=u*l),r}},9131:function(v,g,r){var t=r(5177),a=r(9288);v.exports=n;function n(f,u){return u=u||1,f[0]=Math.random(),f[1]=Math.random(),f[2]=Math.random(),f[3]=Math.random(),t(f,f),a(f,f,u),f}},9288:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r}},4844:function(v){v.exports=g;function g(r,t,a,n){return r[0]=t[0]+a[0]*n,r[1]=t[1]+a[1]*n,r[2]=t[2]+a[2]*n,r[3]=t[3]+a[3]*n,r}},4578:function(v){v.exports=g;function g(r,t,a,n,f){return r[0]=t,r[1]=a,r[2]=n,r[3]=f,r}},7960:function(v){v.exports=g;function g(r,t){var a=t[0]-r[0],n=t[1]-r[1],f=t[2]-r[2],u=t[3]-r[3];return a*a+n*n+f*f+u*u}},483:function(v){v.exports=g;function g(r){var t=r[0],a=r[1],n=r[2],f=r[3];return t*t+a*a+n*n+f*f}},6860:function(v){v.exports=g;function g(r,t,a){return r[0]=t[0]-a[0],r[1]=t[1]-a[1],r[2]=t[2]-a[2],r[3]=t[3]-a[3],r}},5352:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2],l=t[3];return r[0]=a[0]*n+a[4]*f+a[8]*u+a[12]*l,r[1]=a[1]*n+a[5]*f+a[9]*u+a[13]*l,r[2]=a[2]*n+a[6]*f+a[10]*u+a[14]*l,r[3]=a[3]*n+a[7]*f+a[11]*u+a[15]*l,r}},4041:function(v){v.exports=g;function g(r,t,a){var n=t[0],f=t[1],u=t[2],l=a[0],y=a[1],h=a[2],T=a[3],c=T*n+y*u-h*f,i=T*f+h*n-l*u,d=T*u+l*f-y*n,x=-l*n-y*f-h*u;return r[0]=c*T+x*-l+i*-h-d*-y,r[1]=i*T+x*-y+d*-l-c*-h,r[2]=d*T+x*-h+c*-y-i*-l,r[3]=t[3],r}},1848:function(v,g,r){var t=r(4905),a=r(6468);v.exports=n;function n(f){for(var u=Array.isArray(f)?f:t(f),l=0;l<u.length;l++){var y=u[l];if(y.type==="preprocessor"){var h=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var T=h[1],c=h[2];return(T?a(c):c).trim()}}}}},5874:function(v,g,r){v.exports=b;var t=r(620),a=r(7827),n=r(6852),f=r(7932),u=r(3508),l=999,y=9999,h=0,T=1,c=2,i=3,d=4,x=5,w=6,_=7,m=8,E=9,A=10,s=11,M=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(N){var k=0,H=0,F=l,B,U,z=[],W=[],j=1,ee=0,ie=0,oe=!1,he=!1,ne="",q;N=N||{};var le=n,Q=t;N.version==="300 es"&&(le=u,Q=f);for(var te={},ue={},k=0;k<le.length;k++)te[le[k]]=!0;for(var k=0;k<Q.length;k++)ue[Q[k]]=!0;return function(Ne){return W=[],Ne!==null?K(Ne):ce()};function J(Ne){Ne.length&&W.push({type:M[F],data:Ne,position:ie,line:j,column:ee})}function K(Ne){k=0,Ne.toString&&(Ne=Ne.toString()),ne+=Ne.replace(/\r\n/g,`
`),q=ne.length;for(var Ce;B=ne[k],k<q;){switch(Ce=k,F){case h:k=Te();break;case T:k=Se();break;case c:k=be();break;case i:k=Ie();break;case d:k=Me();break;case s:k=Be();break;case x:k=Oe();break;case y:k=_e();break;case E:k=de();break;case l:k=ae();break}if(Ce!==k)switch(ne[Ce]){case`
`:ee=0,++j;break;default:++ee;break}}return H+=k,ne=ne.slice(k),W}function ce(Ne){return z.length&&J(z.join("")),F=A,J("(eof)"),W}function ae(){return z=z.length?[]:z,U==="/"&&B==="*"?(ie=H+k-1,F=h,U=B,k+1):U==="/"&&B==="/"?(ie=H+k-1,F=T,U=B,k+1):B==="#"?(F=c,ie=H+k,k):/\s/.test(B)?(F=E,ie=H+k,k):(oe=/\d/.test(B),he=/[^\w_]/.test(B),ie=H+k,F=oe?d:he?i:y,k)}function de(){return/[^\s]/g.test(B)?(J(z.join("")),F=l,k):(z.push(B),U=B,k+1)}function be(){return(B==="\r"||B===`
`)&&U!=="\\"?(J(z.join("")),F=l,k):(z.push(B),U=B,k+1)}function Se(){return be()}function Te(){return B==="/"&&U==="*"?(z.push(B),J(z.join("")),F=l,k+1):(z.push(B),U=B,k+1)}function Ie(){if(U==="."&&/\d/.test(B))return F=x,k;if(U==="/"&&B==="*")return F=h,k;if(U==="/"&&B==="/")return F=T,k;if(B==="."&&z.length){for(;ke(z););return F=x,k}if(B===";"||B===")"||B==="("){if(z.length)for(;ke(z););return J(B),F=l,k+1}var Ne=z.length===2&&B!=="=";if(/[\w_\d\s]/.test(B)||Ne){for(;ke(z););return F=l,k}return z.push(B),U=B,k+1}function ke(Ne){var Ce=0,Ye,rt;do{if(Ye=a.indexOf(Ne.slice(0,Ne.length+Ce).join("")),rt=a[Ye],Ye===-1){if(Ce--+Ne.length>0)continue;rt=Ne.slice(0,1).join("")}return J(rt),ie+=rt.length,z=z.slice(rt.length),z.length}while(!0)}function Be(){return/[^a-fA-F0-9]/.test(B)?(J(z.join("")),F=l,k):(z.push(B),U=B,k+1)}function Me(){return B==="."||/[eE]/.test(B)?(z.push(B),F=x,U=B,k+1):B==="x"&&z.length===1&&z[0]==="0"?(F=s,z.push(B),U=B,k+1):/[^\d]/.test(B)?(J(z.join("")),F=l,k):(z.push(B),U=B,k+1)}function Oe(){return B==="f"&&(z.push(B),U=B,k+=1),/[eE]/.test(B)||(B==="-"||B==="+")&&/[eE]/.test(U)?(z.push(B),U=B,k+1):/[^\d]/.test(B)?(J(z.join("")),F=l,k):(z.push(B),U=B,k+1)}function _e(){if(/[^\d\w_]/.test(B)){var Ne=z.join("");return ue[Ne]?F=m:te[Ne]?F=_:F=w,J(z.join("")),F=l,k}return z.push(B),U=B,k+1}}},3508:function(v,g,r){var t=r(6852);t=t.slice().filter(function(a){return!/^(gl\_|texture)/.test(a)}),v.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},6852:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7932:function(v,g,r){var t=r(620);v.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},620:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7827:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},4905:function(v,g,r){var t=r(5874);v.exports=a;function a(n,f){var u=t(f),l=[];return l=l.concat(u(n)),l=l.concat(u(null)),l}},3236:function(v){v.exports=function(g){typeof g=="string"&&(g=[g]);for(var r=[].slice.call(arguments,1),t=[],a=0;a<g.length-1;a++)t.push(g[a],r[a]||"");return t.push(g[a]),t.join("")}},7520:function(v,g,r){var t=r(9507);function a(){var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,f),window.removeEventListener("test",null,f)}catch{n=!1}return n}v.exports=t&&a()},3778:function(v,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(r,t,a,n,f){var u,l,y=f*8-n-1,h=(1<<y)-1,T=h>>1,c=-7,i=a?f-1:0,d=a?-1:1,x=r[t+i];for(i+=d,u=x&(1<<-c)-1,x>>=-c,c+=y;c>0;u=u*256+r[t+i],i+=d,c-=8);for(l=u&(1<<-c)-1,u>>=-c,c+=n;c>0;l=l*256+r[t+i],i+=d,c-=8);if(u===0)u=1-T;else{if(u===h)return l?NaN:(x?-1:1)*(1/0);l=l+Math.pow(2,n),u=u-T}return(x?-1:1)*l*Math.pow(2,u-n)},g.write=function(r,t,a,n,f,u){var l,y,h,T=u*8-f-1,c=(1<<T)-1,i=c>>1,d=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=n?0:u-1,w=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(y=isNaN(t)?1:0,l=c):(l=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-l))<1&&(l--,h*=2),l+i>=1?t+=d/h:t+=d*Math.pow(2,1-i),t*h>=2&&(l++,h/=2),l+i>=c?(y=0,l=c):l+i>=1?(y=(t*h-1)*Math.pow(2,f),l=l+i):(y=t*Math.pow(2,i-1)*Math.pow(2,f),l=0));f>=8;r[a+x]=y&255,x+=w,y/=256,f-=8);for(l=l<<f|y,T+=f;T>0;r[a+x]=l&255,x+=w,l/=256,T-=8);r[a+x-w]|=_*128}},8954:function(v,g,r){v.exports=i;var t=r(3250),a=r(6803).Fw;function n(d,x,w){this.vertices=d,this.adjacent=x,this.boundary=w,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var x=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=x};function f(d,x,w){this.vertices=d,this.cell=x,this.index=w}function u(d,x){return a(d.vertices,x.vertices)}function l(d){return function(){var x=this.tuple;return d.apply(this,x)}}function y(d){var x=t[d+1];return x||(x=t),l(x)}var h=[];function T(d,x,w){this.dimension=d,this.vertices=x,this.simplices=w,this.interior=w.filter(function(E){return!E.boundary}),this.tuple=new Array(d+1);for(var _=0;_<=d;++_)this.tuple[_]=this.vertices[_];var m=h[d];m||(m=h[d]=y(d)),this.orient=m}var c=T.prototype;c.handleBoundaryDegeneracy=function(d,x){var w=this.dimension,_=this.vertices.length-1,m=this.tuple,E=this.vertices,A=[d];for(d.lastVisited=-_;A.length>0;){d=A.pop();for(var s=d.adjacent,M=0;M<=w;++M){var b=s[M];if(!(!b.boundary||b.lastVisited<=-_)){for(var N=b.vertices,k=0;k<=w;++k){var H=N[k];H<0?m[k]=x:m[k]=E[H]}var F=this.orient();if(F>0)return b;b.lastVisited=-_,F===0&&A.push(b)}}}return null},c.walk=function(d,x){var w=this.vertices.length-1,_=this.dimension,m=this.vertices,E=this.tuple,A=x?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[A];e:for(;!s.boundary;){for(var M=s.vertices,b=s.adjacent,N=0;N<=_;++N)E[N]=m[M[N]];s.lastVisited=w;for(var N=0;N<=_;++N){var k=b[N];if(!(k.lastVisited>=w)){var H=E[N];E[N]=d;var F=this.orient();if(E[N]=H,F<0){s=k;continue e}else k.boundary?k.lastVisited=-w:k.lastVisited=w}}return}return s},c.addPeaks=function(d,x){var w=this.vertices.length-1,_=this.dimension,m=this.vertices,E=this.tuple,A=this.interior,s=this.simplices,M=[x];x.lastVisited=w,x.vertices[x.vertices.indexOf(-1)]=w,x.boundary=!1,A.push(x);for(var b=[];M.length>0;){var x=M.pop(),N=x.vertices,k=x.adjacent,H=N.indexOf(w);if(!(H<0)){for(var F=0;F<=_;++F)if(F!==H){var B=k[F];if(!(!B.boundary||B.lastVisited>=w)){var U=B.vertices;if(B.lastVisited!==-w){for(var z=0,W=0;W<=_;++W)U[W]<0?(z=W,E[W]=d):E[W]=m[U[W]];var j=this.orient();if(j>0){U[z]=w,B.boundary=!1,A.push(B),M.push(B),B.lastVisited=w;continue}else B.lastVisited=-w}var ee=B.adjacent,ie=N.slice(),oe=k.slice(),he=new n(ie,oe,!0);s.push(he);var ne=ee.indexOf(x);if(!(ne<0)){ee[ne]=he,oe[H]=B,ie[F]=-1,oe[F]=x,k[F]=he,he.flip();for(var W=0;W<=_;++W){var q=ie[W];if(!(q<0||q===w)){for(var le=new Array(_-1),Q=0,te=0;te<=_;++te){var ue=ie[te];ue<0||te===W||(le[Q++]=ue)}b.push(new f(le,he,W))}}}}}}}b.sort(u);for(var F=0;F+1<b.length;F+=2){var J=b[F],K=b[F+1],ce=J.index,ae=K.index;ce<0||ae<0||(J.cell.adjacent[J.index]=K.cell,K.cell.adjacent[K.index]=J.cell)}},c.insert=function(d,x){var w=this.vertices;w.push(d);var _=this.walk(d,x);if(_){for(var m=this.dimension,E=this.tuple,A=0;A<=m;++A){var s=_.vertices[A];s<0?E[A]=d:E[A]=w[s]}var M=this.orient(E);M<0||M===0&&(_=this.handleBoundaryDegeneracy(_,d),!_)||this.addPeaks(d,_)}},c.boundary=function(){for(var d=this.dimension,x=[],w=this.simplices,_=w.length,m=0;m<_;++m){var E=w[m];if(E.boundary){for(var A=new Array(d),s=E.vertices,M=0,b=0,N=0;N<=d;++N)s[N]>=0?A[M++]=s[N]:b=N&1;if(b===(d&1)){var k=A[0];A[0]=A[1],A[1]=k}x.push(A)}}return x};function i(d,x){var w=d.length;if(w===0)throw new Error("Must have at least d+1 points");var _=d[0].length;if(w<=_)throw new Error("Must input at least d+1 points");var m=d.slice(0,_+1),E=t.apply(void 0,m);if(E===0)throw new Error("Input not in general position");for(var A=new Array(_+1),s=0;s<=_;++s)A[s]=s;E<0&&(A[0]=1,A[1]=0);for(var M=new n(A,new Array(_+1),!1),b=M.adjacent,N=new Array(_+2),s=0;s<=_;++s){for(var k=A.slice(),H=0;H<=_;++H)H===s&&(k[H]=-1);var F=k[0];k[0]=k[1],k[1]=F;var B=new n(k,new Array(_+1),!0);b[s]=B,N[s]=B}N[_+1]=M;for(var s=0;s<=_;++s)for(var k=b[s].vertices,U=b[s].adjacent,H=0;H<=_;++H){var z=k[H];if(z<0){U[H]=M;continue}for(var W=0;W<=_;++W)b[W].vertices.indexOf(z)<0&&(U[H]=b[W])}for(var j=new T(_,m,N),ee=!!x,s=_+1;s<w;++s)j.insert(d[s],ee);return j.boundary()}},3352:function(v,g,r){var t=r(2478),a=0,n=1,f=2;v.exports=M;function u(b,N,k,H,F){this.mid=b,this.left=N,this.right=k,this.leftPoints=H,this.rightPoints=F,this.count=(N?N.count:0)+(k?k.count:0)+H.length}var l=u.prototype;function y(b,N){b.mid=N.mid,b.left=N.left,b.right=N.right,b.leftPoints=N.leftPoints,b.rightPoints=N.rightPoints,b.count=N.count}function h(b,N){var k=E(N);b.mid=k.mid,b.left=k.left,b.right=k.right,b.leftPoints=k.leftPoints,b.rightPoints=k.rightPoints,b.count=k.count}function T(b,N){var k=b.intervals([]);k.push(N),h(b,k)}function c(b,N){var k=b.intervals([]),H=k.indexOf(N);return H<0?a:(k.splice(H,1),h(b,k),n)}l.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},l.insert=function(b){var N=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(N+1)?T(this,b):this.left.insert(b):this.left=E([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(N+1)?T(this,b):this.right.insert(b):this.right=E([b]);else{var k=t.ge(this.leftPoints,b,_),H=t.ge(this.rightPoints,b,m);this.leftPoints.splice(k,0,b),this.rightPoints.splice(H,0,b)}},l.remove=function(b){var N=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return a;var k=this.right?this.right.count:0;if(4*k>3*(N-1))return c(this,b);var H=this.left.remove(b);return H===f?(this.left=null,this.count-=1,n):(H===n&&(this.count-=1),H)}else if(b[0]>this.mid){if(!this.right)return a;var F=this.left?this.left.count:0;if(4*F>3*(N-1))return c(this,b);var H=this.right.remove(b);return H===f?(this.right=null,this.count-=1,n):(H===n&&(this.count-=1),H)}else{if(this.count===1)return this.leftPoints[0]===b?f:a;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var B=this,U=this.left;U.right;)B=U,U=U.right;if(B===this)U.right=this.right;else{var z=this.left,H=this.right;B.count-=U.count,B.right=U.left,U.left=z,U.right=H}y(this,U),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return n}for(var z=t.ge(this.leftPoints,b,_);z<this.leftPoints.length&&this.leftPoints[z][0]===b[0];++z)if(this.leftPoints[z]===b){this.count-=1,this.leftPoints.splice(z,1);for(var H=t.ge(this.rightPoints,b,m);H<this.rightPoints.length&&this.rightPoints[H][1]===b[1];++H)if(this.rightPoints[H]===b)return this.rightPoints.splice(H,1),n}return a}};function i(b,N,k){for(var H=0;H<b.length&&b[H][0]<=N;++H){var F=k(b[H]);if(F)return F}}function d(b,N,k){for(var H=b.length-1;H>=0&&b[H][1]>=N;--H){var F=k(b[H]);if(F)return F}}function x(b,N){for(var k=0;k<b.length;++k){var H=N(b[k]);if(H)return H}}l.queryPoint=function(b,N){if(b<this.mid){if(this.left){var k=this.left.queryPoint(b,N);if(k)return k}return i(this.leftPoints,b,N)}else if(b>this.mid){if(this.right){var k=this.right.queryPoint(b,N);if(k)return k}return d(this.rightPoints,b,N)}else return x(this.leftPoints,N)},l.queryInterval=function(b,N,k){if(b<this.mid&&this.left){var H=this.left.queryInterval(b,N,k);if(H)return H}if(N>this.mid&&this.right){var H=this.right.queryInterval(b,N,k);if(H)return H}return N<this.mid?i(this.leftPoints,N,k):b>this.mid?d(this.rightPoints,b,k):x(this.leftPoints,k)};function w(b,N){return b-N}function _(b,N){var k=b[0]-N[0];return k||b[1]-N[1]}function m(b,N){var k=b[1]-N[1];return k||b[0]-N[0]}function E(b){if(b.length===0)return null;for(var N=[],k=0;k<b.length;++k)N.push(b[k][0],b[k][1]);N.sort(w);for(var H=N[N.length>>1],F=[],B=[],U=[],k=0;k<b.length;++k){var z=b[k];z[1]<H?F.push(z):H<z[0]?B.push(z):U.push(z)}var W=U,j=U.slice();return W.sort(_),j.sort(m),new u(H,E(F),E(B),W,j)}function A(b){this.root=b}var s=A.prototype;s.insert=function(b){this.root?this.root.insert(b):this.root=new u(b[0],null,null,[b],[b])},s.remove=function(b){if(this.root){var N=this.root.remove(b);return N===f&&(this.root=null),N!==a}return!1},s.queryPoint=function(b,N){if(this.root)return this.root.queryPoint(b,N)},s.queryInterval=function(b,N,k){if(b<=N&&this.root)return this.root.queryInterval(b,N,k)},Object.defineProperty(s,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(s,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function M(b){return!b||b.length===0?new A(null):new A(E(b))}},7762:function(v){function g(r){for(var t=new Array(r),a=0;a<r;++a)t[a]=a;return t}v.exports=g},9507:function(v){v.exports=!0},7163:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(t){return t!=null&&(g(t)||r(t)||!!t._isBuffer)};function g(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&g(t.slice(0,0))}},5219:function(v){v.exports=function(g){for(var r=g.length,t,a=0;a<r;a++)if(t=g.charCodeAt(a),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},395:function(v){function g(r,t,a){return r*(1-a)+t*a}v.exports=g},2652:function(v,g,r){var t=r(4335),a=r(6864),n=r(1903),f=r(9921),u=r(7608),l=r(5665),y={length:r(1387),normalize:r(3536),dot:r(244),cross:r(5911)},h=a(),T=a(),c=[0,0,0,0],i=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(E,A,s,M,b,N){if(A||(A=[0,0,0]),s||(s=[0,0,0]),M||(M=[0,0,0]),b||(b=[0,0,0,1]),N||(N=[0,0,0,1]),!t(h,E)||(n(T,h),T[3]=0,T[7]=0,T[11]=0,T[15]=1,Math.abs(f(T)<1e-8)))return!1;var k=h[3],H=h[7],F=h[11],B=h[12],U=h[13],z=h[14],W=h[15];if(k!==0||H!==0||F!==0){c[0]=k,c[1]=H,c[2]=F,c[3]=W;var j=u(T,T);if(!j)return!1;l(T,T),x(b,c,T)}else b[0]=b[1]=b[2]=0,b[3]=1;if(A[0]=B,A[1]=U,A[2]=z,w(i,h),s[0]=y.length(i[0]),y.normalize(i[0],i[0]),M[0]=y.dot(i[0],i[1]),_(i[1],i[1],i[0],1,-M[0]),s[1]=y.length(i[1]),y.normalize(i[1],i[1]),M[0]/=s[1],M[1]=y.dot(i[0],i[2]),_(i[2],i[2],i[0],1,-M[1]),M[2]=y.dot(i[1],i[2]),_(i[2],i[2],i[1],1,-M[2]),s[2]=y.length(i[2]),y.normalize(i[2],i[2]),M[1]/=s[2],M[2]/=s[2],y.cross(d,i[1],i[2]),y.dot(i[0],d)<0)for(var ee=0;ee<3;ee++)s[ee]*=-1,i[ee][0]*=-1,i[ee][1]*=-1,i[ee][2]*=-1;return N[0]=.5*Math.sqrt(Math.max(1+i[0][0]-i[1][1]-i[2][2],0)),N[1]=.5*Math.sqrt(Math.max(1-i[0][0]+i[1][1]-i[2][2],0)),N[2]=.5*Math.sqrt(Math.max(1-i[0][0]-i[1][1]+i[2][2],0)),N[3]=.5*Math.sqrt(Math.max(1+i[0][0]+i[1][1]+i[2][2],0)),i[2][1]>i[1][2]&&(N[0]=-N[0]),i[0][2]>i[2][0]&&(N[1]=-N[1]),i[1][0]>i[0][1]&&(N[2]=-N[2]),!0};function x(m,E,A){var s=E[0],M=E[1],b=E[2],N=E[3];return m[0]=A[0]*s+A[4]*M+A[8]*b+A[12]*N,m[1]=A[1]*s+A[5]*M+A[9]*b+A[13]*N,m[2]=A[2]*s+A[6]*M+A[10]*b+A[14]*N,m[3]=A[3]*s+A[7]*M+A[11]*b+A[15]*N,m}function w(m,E){m[0][0]=E[0],m[0][1]=E[1],m[0][2]=E[2],m[1][0]=E[4],m[1][1]=E[5],m[1][2]=E[6],m[2][0]=E[8],m[2][1]=E[9],m[2][2]=E[10]}function _(m,E,A,s,M){m[0]=E[0]*s+A[0]*M,m[1]=E[1]*s+A[1]*M,m[2]=E[2]*s+A[2]*M}},4335:function(v){v.exports=function(r,t){var a=t[15];if(a===0)return!1;for(var n=1/a,f=0;f<16;f++)r[f]=t[f]*n;return!0}},7442:function(v,g,r){var t=r(6658),a=r(7182),n=r(2652),f=r(9921),u=r(8648),l=c(),y=c(),h=c();v.exports=T;function T(x,w,_,m){if(f(w)===0||f(_)===0)return!1;var E=n(w,l.translate,l.scale,l.skew,l.perspective,l.quaternion),A=n(_,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!E||!A?!1:(t(h.translate,l.translate,y.translate,m),t(h.skew,l.skew,y.skew,m),t(h.scale,l.scale,y.scale,m),t(h.perspective,l.perspective,y.perspective,m),u(h.quaternion,l.quaternion,y.quaternion,m),a(x,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function c(){return{translate:i(),scale:i(1),skew:i(),perspective:d(),quaternion:d()}}function i(x){return[x||0,x||0,x||0]}function d(){return[0,0,0,1]}},7182:function(v,g,r){var t={identity:r(7894),translate:r(7656),multiply:r(6760),create:r(6864),scale:r(2504),fromRotationTranslation:r(6743)};t.create();var a=t.create();v.exports=function(f,u,l,y,h,T){return t.identity(f),t.fromRotationTranslation(f,T,u),f[3]=h[0],f[7]=h[1],f[11]=h[2],f[15]=h[3],t.identity(a),y[2]!==0&&(a[9]=y[2],t.multiply(f,f,a)),y[1]!==0&&(a[9]=0,a[8]=y[1],t.multiply(f,f,a)),y[0]!==0&&(a[8]=0,a[4]=y[0],t.multiply(f,f,a)),t.scale(f,f,l),f}},4192:function(v,g,r){var t=r(2478),a=r(7442),n=r(7608),f=r(5567),u=r(2408),l=r(7089),y=r(6582),h=r(7656);r(2504);var T=r(3536),c=[0,0,0];v.exports=w;function i(_){this._components=_.slice(),this._time=[0],this.prevMatrix=_.slice(),this.nextMatrix=_.slice(),this.computedMatrix=_.slice(),this.computedInverse=_.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=i.prototype;d.recalcMatrix=function(_){var m=this._time,E=t.le(m,_),A=this.computedMatrix;if(!(E<0)){var s=this._components;if(E===m.length-1)for(var M=16*E,b=0;b<16;++b)A[b]=s[M++];else{for(var N=m[E+1]-m[E],M=16*E,k=this.prevMatrix,H=!0,b=0;b<16;++b)k[b]=s[M++];for(var F=this.nextMatrix,b=0;b<16;++b)F[b]=s[M++],H=H&&k[b]===F[b];if(N<1e-6||H)for(var b=0;b<16;++b)A[b]=k[b];else a(A,k,F,(_-m[E])/N)}var B=this.computedUp;B[0]=A[1],B[1]=A[5],B[2]=A[9],T(B,B);var U=this.computedInverse;n(U,A);var z=this.computedEye,W=U[15];z[0]=U[12]/W,z[1]=U[13]/W,z[2]=U[14]/W;for(var j=this.computedCenter,ee=Math.exp(this.computedRadius[0]),b=0;b<3;++b)j[b]=z[b]-A[2+4*b]*ee}},d.idle=function(_){if(!(_<this.lastT())){for(var m=this._components,E=m.length-16,A=0;A<16;++A)m.push(m[E++]);this._time.push(_)}},d.flush=function(_){var m=t.gt(this._time,_)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(_,m,E,A){this.recalcMatrix(_),m=m||this.computedEye,E=E||c,A=A||this.computedUp,this.setMatrix(_,y(this.computedMatrix,m,E,A));for(var s=0,M=0;M<3;++M)s+=Math.pow(E[M]-m[M],2);s=Math.log(Math.sqrt(s)),this.computedRadius[0]=s},d.rotate=function(_,m,E,A){this.recalcMatrix(_);var s=this.computedInverse;m&&u(s,s,m),E&&f(s,s,E),A&&l(s,s,A),this.setMatrix(_,n(this.computedMatrix,s))};var x=[0,0,0];d.pan=function(_,m,E,A){x[0]=-(m||0),x[1]=-(E||0),x[2]=-(A||0),this.recalcMatrix(_);var s=this.computedInverse;h(s,s,x),this.setMatrix(_,n(s,s))},d.translate=function(_,m,E,A){x[0]=m||0,x[1]=E||0,x[2]=A||0,this.recalcMatrix(_);var s=this.computedMatrix;h(s,s,x),this.setMatrix(_,s)},d.setMatrix=function(_,m){if(!(_<this.lastT())){this._time.push(_);for(var E=0;E<16;++E)this._components.push(m[E])}},d.setDistance=function(_,m){this.computedRadius[0]=m},d.setDistanceLimits=function(_,m){var E=this._limits;E[0]=_,E[1]=m},d.getDistanceLimits=function(_){var m=this._limits;return _?(_[0]=m[0],_[1]=m[1],_):m};function w(_){_=_||{};var m=_.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new i(m)}},3090:function(v,g,r){v.exports=a;var t=r(3250)[3];function a(n){var f=n.length;if(f<3){for(var d=new Array(f),u=0;u<f;++u)d[u]=u;return f===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var l=new Array(f),u=0;u<f;++u)l[u]=u;l.sort(function(m,E){var A=n[m][0]-n[E][0];return A||n[m][1]-n[E][1]});for(var y=[l[0],l[1]],h=[l[0],l[1]],u=2;u<f;++u){for(var T=l[u],c=n[T],i=y.length;i>1&&t(n[y[i-2]],n[y[i-1]],c)<=0;)i-=1,y.pop();for(y.push(T),i=h.length;i>1&&t(n[h[i-2]],n[h[i-1]],c)>=0;)i-=1,h.pop();h.push(T)}for(var d=new Array(h.length+y.length-2),x=0,u=0,w=y.length;u<w;++u)d[x++]=y[u];for(var _=h.length-2;_>0;--_)d[x++]=h[_];return d}},351:function(v,g,r){v.exports=a;var t=r(4687);function a(n,f){f||(f=n,n=window);var u=0,l=0,y=0,h={shift:!1,alt:!1,control:!1,meta:!1},T=!1;function c(b){var N=!1;return"altKey"in b&&(N=N||b.altKey!==h.alt,h.alt=!!b.altKey),"shiftKey"in b&&(N=N||b.shiftKey!==h.shift,h.shift=!!b.shiftKey),"ctrlKey"in b&&(N=N||b.ctrlKey!==h.control,h.control=!!b.ctrlKey),"metaKey"in b&&(N=N||b.metaKey!==h.meta,h.meta=!!b.metaKey),N}function i(b,N){var k=t.x(N),H=t.y(N);"buttons"in N&&(b=N.buttons|0),(b!==u||k!==l||H!==y||c(N))&&(u=b|0,l=k||0,y=H||0,f&&f(u,l,y,h))}function d(b){i(0,b)}function x(){(u||l||y||h.shift||h.alt||h.meta||h.control)&&(l=y=0,u=0,h.shift=h.alt=h.control=h.meta=!1,f&&f(0,0,0,h))}function w(b){c(b)&&f&&f(u,l,y,h)}function _(b){t.buttons(b)===0?i(0,b):i(u,b)}function m(b){i(u|t.buttons(b),b)}function E(b){i(u&~t.buttons(b),b)}function A(){T||(T=!0,n.addEventListener("mousemove",_),n.addEventListener("mousedown",m),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",x),n.addEventListener("keyup",w),n.addEventListener("keydown",w),n.addEventListener("keypress",w),n!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",w),window.addEventListener("keydown",w),window.addEventListener("keypress",w)))}function s(){T&&(T=!1,n.removeEventListener("mousemove",_),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",x),n.removeEventListener("keyup",w),n.removeEventListener("keydown",w),n.removeEventListener("keypress",w),n!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",w),window.removeEventListener("keydown",w),window.removeEventListener("keypress",w)))}A();var M={element:n};return Object.defineProperties(M,{enabled:{get:function(){return T},set:function(b){b?A():s()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),M}},24:function(v){var g={left:0,top:0};v.exports=r;function r(a,n,f){n=n||a.currentTarget||a.srcElement,Array.isArray(f)||(f=[0,0]);var u=a.clientX||0,l=a.clientY||0,y=t(n);return f[0]=u-y.left,f[1]=l-y.top,f}function t(a){return a===window||a===document||a===document.body?g:a.getBoundingClientRect()}},4687:function(v,g){function r(f){if(typeof f=="object"){if("buttons"in f)return f.buttons;if("which"in f){var u=f.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in f){var u=f.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}g.buttons=r;function t(f){return f.target||f.srcElement||window}g.element=t;function a(f){if(typeof f=="object"){if("offsetX"in f)return f.offsetX;var u=t(f),l=u.getBoundingClientRect();return f.clientX-l.left}return 0}g.x=a;function n(f){if(typeof f=="object"){if("offsetY"in f)return f.offsetY;var u=t(f),l=u.getBoundingClientRect();return f.clientY-l.top}return 0}g.y=n},8512:function(v,g,r){var t=r(665);v.exports=a;function a(n,f,u){typeof n=="function"&&(u=!!f,f=n,n=window);var l=t("ex",n),y=function(h){u&&h.preventDefault();var T=h.deltaX||0,c=h.deltaY||0,i=h.deltaZ||0,d=h.deltaMode,x=1;switch(d){case 1:x=l;break;case 2:x=window.innerHeight;break}if(T*=x,c*=x,i*=x,T||c||i)return f(T,c,i,h)};return n.addEventListener("wheel",y),y}},2640:function(v,g,r){var t=r(1888);v.exports=f;var a={"false,0,1":function(l,y,h,T,c){return function(d,x,w,_){var m=d.shape[0]|0,E=d.shape[1]|0,A=d.data,s=d.offset|0,M=d.stride[0]|0,b=d.stride[1]|0,N=s,k,H=-M|0,F=0,B=-b|0,U=0,z=-M-b|0,W=0,j=M|0,ee=b-M*m|0,ie=0,oe=0,he=0,ne=2*m|0,q=T(ne),le=T(ne),Q=0,te=0,ue=-1,J=-1,K=0,ce=-m|0,ae=m|0,de=0,be=-m-1|0,Se=m-1|0,Te=0,Ie=0,ke=0;for(ie=0;ie<m;++ie)q[Q++]=h(A[N],x,w,_),N+=j;if(N+=ee,E>0){if(oe=1,q[Q++]=h(A[N],x,w,_),N+=j,m>0)for(ie=1,k=A[N],te=q[Q]=h(k,x,w,_),K=q[Q+ue],de=q[Q+ce],Te=q[Q+be],(te!==K||te!==de||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,K,de,Te,x,w,_),Ie=le[Q]=he++),Q+=1,N+=j,ie=2;ie<m;++ie)k=A[N],te=q[Q]=h(k,x,w,_),K=q[Q+ue],de=q[Q+ce],Te=q[Q+be],(te!==K||te!==de||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,K,de,Te,x,w,_),Ie=le[Q]=he++,Te!==K&&y(le[Q+ue],Ie,W,F,Te,K,x,w,_)),Q+=1,N+=j;for(N+=ee,Q=0,ke=ue,ue=J,J=ke,ke=ce,ce=ae,ae=ke,ke=be,be=Se,Se=ke,oe=2;oe<E;++oe){if(q[Q++]=h(A[N],x,w,_),N+=j,m>0)for(ie=1,k=A[N],te=q[Q]=h(k,x,w,_),K=q[Q+ue],de=q[Q+ce],Te=q[Q+be],(te!==K||te!==de||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,K,de,Te,x,w,_),Ie=le[Q]=he++,Te!==de&&y(le[Q+ce],Ie,U,W,de,Te,x,w,_)),Q+=1,N+=j,ie=2;ie<m;++ie)k=A[N],te=q[Q]=h(k,x,w,_),K=q[Q+ue],de=q[Q+ce],Te=q[Q+be],(te!==K||te!==de||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,K,de,Te,x,w,_),Ie=le[Q]=he++,Te!==de&&y(le[Q+ce],Ie,U,W,de,Te,x,w,_),Te!==K&&y(le[Q+ue],Ie,W,F,Te,K,x,w,_)),Q+=1,N+=j;oe&1&&(Q=0),ke=ue,ue=J,J=ke,ke=ce,ce=ae,ae=ke,ke=be,be=Se,Se=ke,N+=ee}}c(le),c(q)}},"false,1,0":function(l,y,h,T,c){return function(d,x,w,_){var m=d.shape[0]|0,E=d.shape[1]|0,A=d.data,s=d.offset|0,M=d.stride[0]|0,b=d.stride[1]|0,N=s,k,H=-M|0,F=0,B=-b|0,U=0,z=-M-b|0,W=0,j=b|0,ee=M-b*E|0,ie=0,oe=0,he=0,ne=2*E|0,q=T(ne),le=T(ne),Q=0,te=0,ue=-1,J=-1,K=0,ce=-E|0,ae=E|0,de=0,be=-E-1|0,Se=E-1|0,Te=0,Ie=0,ke=0;for(oe=0;oe<E;++oe)q[Q++]=h(A[N],x,w,_),N+=j;if(N+=ee,m>0){if(ie=1,q[Q++]=h(A[N],x,w,_),N+=j,E>0)for(oe=1,k=A[N],te=q[Q]=h(k,x,w,_),de=q[Q+ce],K=q[Q+ue],Te=q[Q+be],(te!==de||te!==K||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,de,K,Te,x,w,_),Ie=le[Q]=he++),Q+=1,N+=j,oe=2;oe<E;++oe)k=A[N],te=q[Q]=h(k,x,w,_),de=q[Q+ce],K=q[Q+ue],Te=q[Q+be],(te!==de||te!==K||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,de,K,Te,x,w,_),Ie=le[Q]=he++,Te!==K&&y(le[Q+ue],Ie,U,W,K,Te,x,w,_)),Q+=1,N+=j;for(N+=ee,Q=0,ke=ce,ce=ae,ae=ke,ke=ue,ue=J,J=ke,ke=be,be=Se,Se=ke,ie=2;ie<m;++ie){if(q[Q++]=h(A[N],x,w,_),N+=j,E>0)for(oe=1,k=A[N],te=q[Q]=h(k,x,w,_),de=q[Q+ce],K=q[Q+ue],Te=q[Q+be],(te!==de||te!==K||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,de,K,Te,x,w,_),Ie=le[Q]=he++,Te!==de&&y(le[Q+ce],Ie,W,F,Te,de,x,w,_)),Q+=1,N+=j,oe=2;oe<E;++oe)k=A[N],te=q[Q]=h(k,x,w,_),de=q[Q+ce],K=q[Q+ue],Te=q[Q+be],(te!==de||te!==K||te!==Te)&&(F=A[N+H],U=A[N+B],W=A[N+z],l(ie,oe,k,F,U,W,te,de,K,Te,x,w,_),Ie=le[Q]=he++,Te!==K&&y(le[Q+ue],Ie,U,W,K,Te,x,w,_),Te!==de&&y(le[Q+ce],Ie,W,F,Te,de,x,w,_)),Q+=1,N+=j;ie&1&&(Q=0),ke=ce,ce=ae,ae=ke,ke=ue,ue=J,J=ke,ke=be,be=Se,Se=ke,N+=ee}}c(le),c(q)}}};function n(u,l,y,h,T,c){var i=[c,T].join(","),d=a[i];return d(u,l,y,t.mallocUint32,t.freeUint32)}function f(u){function l(x){throw new Error("ndarray-extract-contour: "+x)}typeof u!="object"&&l("Must specify arguments");var y=u.order;Array.isArray(y)||l("Must specify order");var h=u.arrayArguments||1;h<1&&l("Must have at least one array argument");var T=u.scalarArguments||0;T<0&&l("Scalar arg count must be > 0"),typeof u.vertex!="function"&&l("Must specify vertex creation function"),typeof u.cell!="function"&&l("Must specify cell creation function"),typeof u.phase!="function"&&l("Must specify phase function");for(var c=u.getters||[],i=new Array(h),d=0;d<h;++d)c.indexOf(d)>=0?i[d]=!0:i[d]=!1;return n(u.vertex,u.cell,u.phase,T,y,i)}},6199:function(v,g,r){var t=r(1338),a={zero:function(w,_,m,E){var A=w[0],s=m[0];E|=0;var M=0,b=s;for(M=0;M<A;++M)_[E]=0,E+=b},fdTemplate1:function(w,_,m,E,A,s,M){var b=w[0],N=m[0],k=s[0],H=-1*N,F=N;E|=0,M|=0;var B=0,U=N,z=k;for(B=0;B<b;++B)A[M]=.5*(_[E+H]-_[E+F]),E+=U,M+=z},fdTemplate2:function(w,_,m,E,A,s,M,b,N,k){var H=w[0],F=w[1],B=m[0],U=m[1],z=s[0],W=s[1],j=N[0],ee=N[1],ie=-1*B,oe=B,he=-1*U,ne=U;E|=0,M|=0,k|=0;var q=0,le=0,Q=U,te=B-F*U,ue=W,J=z-F*W,K=ee,ce=j-F*ee;for(le=0;le<H;++le){for(q=0;q<F;++q)A[M]=.5*(_[E+ie]-_[E+oe]),b[k]=.5*(_[E+he]-_[E+ne]),E+=Q,M+=ue,k+=K;E+=te,M+=J,k+=ce}}},n={cdiff:function(w){var _={};return function(E,A,s){var M=E.dtype,b=E.order,N=A.dtype,k=A.order,H=s.dtype,F=s.order,B=[M,b.join(),N,k.join(),H,F.join()].join(),U=_[B];return U||(_[B]=U=w([M,b,N,k,H,F])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0,s.data,s.stride,s.offset|0)}},zero:function(w){var _={};return function(E){var A=E.dtype,s=E.order,M=[A,s.join()].join(),b=_[M];return b||(_[M]=b=w([A,s])),b(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(w){var _={};return function(E,A){var s=E.dtype,M=E.order,b=A.dtype,N=A.order,k=[s,M.join(),b,N.join()].join(),H=_[k];return H||(_[k]=H=w([s,M,b,N])),H(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0)}},fdTemplate2:function(w){var _={};return function(E,A,s){var M=E.dtype,b=E.order,N=A.dtype,k=A.order,H=s.dtype,F=s.order,B=[M,b.join(),N,k.join(),H,F.join()].join(),U=_[B];return U||(_[B]=U=w([M,b,N,k,H,F])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,A.data,A.stride,A.offset|0,s.data,s.stride,s.offset|0)}}};function f(w){var _=n[w.funcName];return _(u.bind(void 0,w))}function u(w){return a[w.funcName]}function l(w){return f({funcName:w.funcName})}var y={},h={},T=l({funcName:"cdiff"}),c=l({funcName:"zero"});function i(w){return w in y?y[w]:y[w]=l({funcName:"fdTemplate"+w})}function d(w,_,m,E){return function(A,s){var M=s.shape.slice();return M[0]>2&&M[1]>2&&E(s.pick(-1,-1).lo(1,1).hi(M[0]-2,M[1]-2),A.pick(-1,-1,0).lo(1,1).hi(M[0]-2,M[1]-2),A.pick(-1,-1,1).lo(1,1).hi(M[0]-2,M[1]-2)),M[1]>2&&(m(s.pick(0,-1).lo(1).hi(M[1]-2),A.pick(0,-1,1).lo(1).hi(M[1]-2)),_(A.pick(0,-1,0).lo(1).hi(M[1]-2))),M[1]>2&&(m(s.pick(M[0]-1,-1).lo(1).hi(M[1]-2),A.pick(M[0]-1,-1,1).lo(1).hi(M[1]-2)),_(A.pick(M[0]-1,-1,0).lo(1).hi(M[1]-2))),M[0]>2&&(m(s.pick(-1,0).lo(1).hi(M[0]-2),A.pick(-1,0,0).lo(1).hi(M[0]-2)),_(A.pick(-1,0,1).lo(1).hi(M[0]-2))),M[0]>2&&(m(s.pick(-1,M[1]-1).lo(1).hi(M[0]-2),A.pick(-1,M[1]-1,0).lo(1).hi(M[0]-2)),_(A.pick(-1,M[1]-1,1).lo(1).hi(M[0]-2))),A.set(0,0,0,0),A.set(0,0,1,0),A.set(M[0]-1,0,0,0),A.set(M[0]-1,0,1,0),A.set(0,M[1]-1,0,0),A.set(0,M[1]-1,1,0),A.set(M[0]-1,M[1]-1,0,0),A.set(M[0]-1,M[1]-1,1,0),A}}function x(w){var _=w.join(),M=h[_];if(M)return M;for(var m=w.length,E=[T,c],A=1;A<=m;++A)E.push(i(A));var s=d,M=s.apply(void 0,E);return h[_]=M,M}v.exports=function(_,m,E){if(Array.isArray(E)||(typeof E=="string"?E=t(m.dimension,E):E=t(m.dimension,"clamp")),m.size===0)return _;if(m.dimension===0)return _.set(0),_;var A=x(E);return A(_,m)}},4317:function(v){function g(f,u){var l=Math.floor(u),y=u-l,h=0<=l&&l<f.shape[0],T=0<=l+1&&l+1<f.shape[0],c=h?+f.get(l):0,i=T?+f.get(l+1):0;return(1-y)*c+y*i}function r(f,u,l){var y=Math.floor(u),h=u-y,T=0<=y&&y<f.shape[0],c=0<=y+1&&y+1<f.shape[0],i=Math.floor(l),d=l-i,x=0<=i&&i<f.shape[1],w=0<=i+1&&i+1<f.shape[1],_=T&&x?f.get(y,i):0,m=T&&w?f.get(y,i+1):0,E=c&&x?f.get(y+1,i):0,A=c&&w?f.get(y+1,i+1):0;return(1-d)*((1-h)*_+h*E)+d*((1-h)*m+h*A)}function t(f,u,l,y){var h=Math.floor(u),T=u-h,c=0<=h&&h<f.shape[0],i=0<=h+1&&h+1<f.shape[0],d=Math.floor(l),x=l-d,w=0<=d&&d<f.shape[1],_=0<=d+1&&d+1<f.shape[1],m=Math.floor(y),E=y-m,A=0<=m&&m<f.shape[2],s=0<=m+1&&m+1<f.shape[2],M=c&&w&&A?f.get(h,d,m):0,b=c&&_&&A?f.get(h,d+1,m):0,N=i&&w&&A?f.get(h+1,d,m):0,k=i&&_&&A?f.get(h+1,d+1,m):0,H=c&&w&&s?f.get(h,d,m+1):0,F=c&&_&&s?f.get(h,d+1,m+1):0,B=i&&w&&s?f.get(h+1,d,m+1):0,U=i&&_&&s?f.get(h+1,d+1,m+1):0;return(1-E)*((1-x)*((1-T)*M+T*N)+x*((1-T)*b+T*k))+E*((1-x)*((1-T)*H+T*B)+x*((1-T)*F+T*U))}function a(f){var u=f.shape.length|0,l=new Array(u),y=new Array(u),h=new Array(u),T=new Array(u),c,i;for(c=0;c<u;++c)i=+arguments[c+1],l[c]=Math.floor(i),y[c]=i-l[c],h[c]=0<=l[c]&&l[c]<f.shape[c],T[c]=0<=l[c]+1&&l[c]+1<f.shape[c];var d=0,x,w,_;e:for(c=0;c<1<<u;++c){for(w=1,_=f.offset,x=0;x<u;++x)if(c&1<<x){if(!T[x])continue e;w*=y[x],_+=f.stride[x]*(l[x]+1)}else{if(!h[x])continue e;w*=1-y[x],_+=f.stride[x]*l[x]}d+=w*f.data[_]}return d}function n(f,u,l,y){switch(f.shape.length){case 0:return 0;case 1:return g(f,u);case 2:return r(f,u,l);case 3:return t(f,u,l,y);default:return a.apply(void 0,arguments)}}v.exports=n,v.exports.d1=g,v.exports.d2=r,v.exports.d3=t},5298:function(v,g){var r={"float64,2,1,0":function(){return function(h,T,c,i,d){var x=h[0],w=h[1],_=h[2],m=c[0],E=c[1],A=c[2];i|=0;var s=0,M=0,b=0,N=A,k=E-_*A,H=m-w*E;for(b=0;b<x;++b){for(M=0;M<w;++M){for(s=0;s<_;++s)T[i]/=d,i+=N;i+=k}i+=H}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,T,c,i,d,x,w,_){var m=h[0],E=h[1],A=h[2],s=c[0],M=c[1],b=c[2],N=x[0],k=x[1],H=x[2];i|=0,w|=0;for(var F=i,B=w,U=h[0]|0;U>0;){U<64?(m=U,U=0):(m=64,U-=64);for(var z=h[1]|0;z>0;){z<64?(E=z,z=0):(E=64,z-=64),i=F+U*s+z*M,w=B+U*N+z*k;var W=0,j=0,ee=0,ie=b,oe=s-A*b,he=M-m*s,ne=H,q=N-A*H,le=k-m*N;for(ee=0;ee<E;++ee){for(j=0;j<m;++j){for(W=0;W<A;++W)T[i]=d[w]*_,i+=ie,w+=ne;i+=oe,w+=q}i+=he,w+=le}}}}},"float32,1,0,float32,1,0":function(){return function(h,T,c,i,d,x,w){var _=h[0],m=h[1],E=c[0],A=c[1],s=x[0],M=x[1];i|=0,w|=0;var b=0,N=0,k=A,H=E-m*A,F=M,B=s-m*M;for(N=0;N<_;++N){for(b=0;b<m;++b)T[i]=d[w],i+=k,w+=F;i+=H,w+=B}}},"float32,1,0,float32,0,1":function(){return function(h,T,c,i,d,x,w){var _=h[0],m=h[1],E=c[0],A=c[1],s=x[0],M=x[1];i|=0,w|=0;for(var b=i,N=w,k=h[1]|0;k>0;){k<64?(m=k,k=0):(m=64,k-=64);for(var H=h[0]|0;H>0;){H<64?(_=H,H=0):(_=64,H-=64),i=b+k*A+H*E,w=N+k*M+H*s;var F=0,B=0,U=A,z=E-m*A,W=M,j=s-m*M;for(B=0;B<_;++B){for(F=0;F<m;++F)T[i]=d[w],i+=U,w+=W;i+=z,w+=j}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,T,c,i,d,x,w){var _=h[0],m=h[1],E=h[2],A=c[0],s=c[1],M=c[2],b=x[0],N=x[1],k=x[2];i|=0,w|=0;for(var H=i,F=w,B=h[2]|0;B>0;){B<64?(E=B,B=0):(E=64,B-=64);for(var U=h[0]|0;U>0;){U<64?(_=U,U=0):(_=64,U-=64);for(var z=h[1]|0;z>0;){z<64?(m=z,z=0):(m=64,z-=64),i=H+B*M+U*A+z*s,w=F+B*k+U*b+z*N;var W=0,j=0,ee=0,ie=M,oe=A-E*M,he=s-_*A,ne=k,q=b-E*k,le=N-_*b;for(ee=0;ee<m;++ee){for(j=0;j<_;++j){for(W=0;W<E;++W)T[i]=d[w],i+=ie,w+=ne;i+=oe,w+=q}i+=he,w+=le}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,T,c,i,d,x,w){var _=h[0],m=h[1],E=h[2],A=c[0],s=c[1],M=c[2],b=x[0],N=x[1],k=x[2];i|=0,w|=0;var H=0,F=0,B=0,U=M,z=A-E*M,W=s-_*A,j=k,ee=b-E*k,ie=N-_*b;for(B=0;B<m;++B){for(F=0;F<_;++F){for(H=0;H<E;++H)T[i]=d[w],i+=U,w+=j;i+=z,w+=ee}i+=W,w+=ie}}}};function t(y,h){var T=h.join(","),c=r[T];return c()}var a=t,n={mul:function(y){var h={};return function(c,i,d){var x=c.dtype,w=c.order,_=i.dtype,m=i.order,E=d.dtype,A=d.order,s=[x,w.join(),_,m.join(),E,A.join()].join(),M=h[s];return M||(h[s]=M=y([x,w,_,m,E,A])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},muls:function(y){var h={};return function(c,i,d){var x=c.dtype,w=c.order,_=i.dtype,m=i.order,E=[x,w.join(),_,m.join()].join(),A=h[E];return A||(h[E]=A=y([x,w,_,m])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},mulseq:function(y){var h={};return function(c,i){var d=c.dtype,x=c.order,w=[d,x.join()].join(),_=h[w];return _||(h[w]=_=y([d,x])),_(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},div:function(y){var h={};return function(c,i,d){var x=c.dtype,w=c.order,_=i.dtype,m=i.order,E=d.dtype,A=d.order,s=[x,w.join(),_,m.join(),E,A.join()].join(),M=h[s];return M||(h[s]=M=y([x,w,_,m,E,A])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d.data,d.stride,d.offset|0)}},divs:function(y){var h={};return function(c,i,d){var x=c.dtype,w=c.order,_=i.dtype,m=i.order,E=[x,w.join(),_,m.join()].join(),A=h[E];return A||(h[E]=A=y([x,w,_,m])),A(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0,d)}},divseq:function(y){var h={};return function(c,i){var d=c.dtype,x=c.order,w=[d,x.join()].join(),_=h[w];return _||(h[w]=_=y([d,x])),_(c.shape.slice(0),c.data,c.stride,c.offset|0,i)}},assign:function(y){var h={};return function(c,i){var d=c.dtype,x=c.order,w=i.dtype,_=i.order,m=[d,x.join(),w,_.join()].join(),E=h[m];return E||(h[m]=E=y([d,x,w,_])),E(c.shape.slice(0),c.data,c.stride,c.offset|0,i.data,i.stride,i.offset|0)}}};function f(y){var h=n[y.funcName];return h(a.bind(void 0,y))}function u(y){return f({funcName:y.funcName})}var l={mul:"*",div:"/"};(function(){for(var y in l)g[y]=u({funcName:y}),g[y+"s"]=u({funcName:y+"s"}),g[y+"seq"]=u({funcName:y+"seq"})})(),g.assign=u({funcName:"assign"})},9994:function(v,g,r){var t=r(9618),a=r(8277);v.exports=function(f,u){for(var l=[],y=f,h=1;Array.isArray(y);)l.push(y.length),h*=y.length,y=y[0];return l.length===0?t():(u||(u=t(new Float64Array(h),l)),a(u,f),u)}},8277:function(v){function g(){return function(u,l,y,h,T){var c=u[0],i=u[1],d=u[2],x=y[0],w=y[1],_=y[2],m=[0,0,0];h|=0;var E=0,A=0,s=0,M=_,b=w-d*_,N=x-i*w;for(s=0;s<c;++s){for(A=0;A<i;++A){for(E=0;E<d;++E){{var k=T,H;for(H=0;H<m.length-1;++H)k=k[m[H]];l[h]=k[m[m.length-1]]}h+=M,++m[2]}h+=b,m[2]-=d,++m[1]}h+=N,m[1]-=i,++m[0]}}}function r(){return g()}var t=r;function a(u){var l={};return function(h,T){var c=h.dtype,i=h.order,d=[c,i.join()].join(),x=l[d];return x||(l[d]=x=u([c,i])),x(h.shape.slice(0),h.data,h.stride,h.offset|0,T)}}function n(u){return a(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"convert"})},7640:function(v,g,r){var t=r(1888);function a(T){switch(T){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var n={"uint32,1,0":function(T,c){return function(d,x,w,_,m,E,A,s,M,b,N){var k,H,F,B=d*m+_,U,z=T(s),W,j,ee,ie;for(k=d+1;k<=x;++k){for(H=k,B+=m,F=B,W=0,j=B,U=0;U<s;++U)z[W++]=w[j],j+=M;e:for(;H-- >d;){W=0,j=F-m;t:for(U=0;U<s;++U){if(ee=w[j],ie=z[W],ee<ie)break e;if(ee>ie)break t;j+=b,W+=N}for(W=F,j=F-m,U=0;U<s;++U)w[W]=w[j],W+=M,j+=M;F-=m}for(W=F,j=0,U=0;U<s;++U)w[W]=z[j++],W+=M}c(z)}}};function f(T,c){var i=a(c),d=[c,T].join(","),x=n[d];return i?x(i[0],i[1]):x()}var u={"uint32,1,0":function(T,c,i){return function d(x,w,_,m,E,A,s,M,b,N,k){var H=(w-x+1)/6|0,F=x+H,B=w-H,U=x+w>>1,z=U-H,W=U+H,j=F,ee=z,ie=U,oe=W,he=B,ne=x+1,q=w-1,le=!0,Q,te,ue,J,K,ce,ae,de,be,Se=0,Te=0,Ie=0,ke,Be,Me,Oe,_e,Ne,Ce,Ye,rt,ot,$e,qe,ht,vt,pt,wt,Mt=M,nt=c(Mt),Fe=c(Mt);Be=E*j,Me=E*ee,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=j,j=ee,ee=te;break e}if(Ie<0)break e;wt+=N}Be=E*oe,Me=E*he,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=oe,oe=he,he=te;break e}if(Ie<0)break e;wt+=N}Be=E*j,Me=E*ie,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=j,j=ie,ie=te;break e}if(Ie<0)break e;wt+=N}Be=E*ee,Me=E*ie,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=ee,ee=ie,ie=te;break e}if(Ie<0)break e;wt+=N}Be=E*j,Me=E*oe,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=j,j=oe,oe=te;break e}if(Ie<0)break e;wt+=N}Be=E*ie,Me=E*oe,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=ie,ie=oe,oe=te;break e}if(Ie<0)break e;wt+=N}Be=E*ee,Me=E*he,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=ee,ee=he,he=te;break e}if(Ie<0)break e;wt+=N}Be=E*ee,Me=E*ie,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=ee,ee=ie,ie=te;break e}if(Ie<0)break e;wt+=N}Be=E*oe,Me=E*he,wt=m;e:for(ke=0;ke<M;++ke){if(ae=Be+wt,de=Me+wt,Ie=_[ae]-_[de],Ie>0){te=oe,oe=he,he=te;break e}if(Ie<0)break e;wt+=N}for(Be=E*j,Me=E*ee,Oe=E*ie,_e=E*oe,Ne=E*he,Ce=E*F,Ye=E*U,rt=E*B,pt=0,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,be=Oe+wt,ot=_e+wt,$e=Ne+wt,qe=Ce+wt,ht=Ye+wt,vt=rt+wt,nt[pt]=_[de],Fe[pt]=_[ot],le=le&&nt[pt]===Fe[pt],ue=_[ae],J=_[be],K=_[$e],_[qe]=ue,_[ht]=J,_[vt]=K,++pt,wt+=b;for(Be=E*z,Me=E*x,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,_[ae]=_[de],wt+=b;for(Be=E*W,Me=E*w,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,_[ae]=_[de],wt+=b;if(le)for(ce=ne;ce<=q;++ce){ae=m+ce*E,pt=0;e:for(ke=0;ke<M;++ke){if(Ie=_[ae]-nt[pt],Ie!==0)break e;pt+=k,ae+=N}if(Ie!==0)if(Ie<0){if(ce!==ne)for(Be=E*ce,Me=E*ne,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,Q=_[ae],_[ae]=_[de],_[de]=Q,wt+=b;++ne}else for(;;){ae=m+q*E,pt=0;e:for(ke=0;ke<M;++ke){if(Ie=_[ae]-nt[pt],Ie!==0)break e;pt+=k,ae+=N}if(Ie>0)q--;else if(Ie<0){for(Be=E*ce,Me=E*ne,Oe=E*q,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,be=Oe+wt,Q=_[ae],_[ae]=_[de],_[de]=_[be],_[be]=Q,wt+=b;++ne,--q;break}else{for(Be=E*ce,Me=E*q,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,Q=_[ae],_[ae]=_[de],_[de]=Q,wt+=b;--q;break}}}else for(ce=ne;ce<=q;++ce){ae=m+ce*E,pt=0;e:for(ke=0;ke<M;++ke){if(Se=_[ae]-nt[pt],Se!==0)break e;pt+=k,ae+=N}if(Se<0){if(ce!==ne)for(Be=E*ce,Me=E*ne,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,Q=_[ae],_[ae]=_[de],_[de]=Q,wt+=b;++ne}else{ae=m+ce*E,pt=0;e:for(ke=0;ke<M;++ke){if(Te=_[ae]-Fe[pt],Te!==0)break e;pt+=k,ae+=N}if(Te>0)for(;;){ae=m+q*E,pt=0;e:for(ke=0;ke<M;++ke){if(Ie=_[ae]-Fe[pt],Ie!==0)break e;pt+=k,ae+=N}if(Ie>0){if(--q<ce)break;continue}else{ae=m+q*E,pt=0;e:for(ke=0;ke<M;++ke){if(Ie=_[ae]-nt[pt],Ie!==0)break e;pt+=k,ae+=N}if(Ie<0){for(Be=E*ce,Me=E*ne,Oe=E*q,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,be=Oe+wt,Q=_[ae],_[ae]=_[de],_[de]=_[be],_[be]=Q,wt+=b;++ne,--q}else{for(Be=E*ce,Me=E*q,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,Q=_[ae],_[ae]=_[de],_[de]=Q,wt+=b;--q}break}}}}for(Be=E*x,Me=E*(ne-1),pt=0,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,_[ae]=_[de],_[de]=nt[pt],++pt,wt+=b;for(Be=E*w,Me=E*(q+1),pt=0,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,_[ae]=_[de],_[de]=Fe[pt],++pt,wt+=b;if(ne-2-x<=32?T(x,ne-2,_,m,E,A,s,M,b,N,k):d(x,ne-2,_,m,E,A,s,M,b,N,k),w-(q+2)<=32?T(q+2,w,_,m,E,A,s,M,b,N,k):d(q+2,w,_,m,E,A,s,M,b,N,k),le){i(nt),i(Fe);return}if(ne<F&&q>B){e:for(;;){for(ae=m+ne*E,pt=0,wt=m,ke=0;ke<M;++ke){if(_[ae]!==nt[pt])break e;++pt,ae+=b}++ne}e:for(;;){for(ae=m+q*E,pt=0,wt=m,ke=0;ke<M;++ke){if(_[ae]!==Fe[pt])break e;++pt,ae+=b}--q}for(ce=ne;ce<=q;++ce){ae=m+ce*E,pt=0;e:for(ke=0;ke<M;++ke){if(Se=_[ae]-nt[pt],Se!==0)break e;pt+=k,ae+=N}if(Se===0){if(ce!==ne)for(Be=E*ce,Me=E*ne,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,Q=_[ae],_[ae]=_[de],_[de]=Q,wt+=b;++ne}else{ae=m+ce*E,pt=0;e:for(ke=0;ke<M;++ke){if(Te=_[ae]-Fe[pt],Te!==0)break e;pt+=k,ae+=N}if(Te===0)for(;;){ae=m+q*E,pt=0;e:for(ke=0;ke<M;++ke){if(Ie=_[ae]-Fe[pt],Ie!==0)break e;pt+=k,ae+=N}if(Ie===0){if(--q<ce)break;continue}else{ae=m+q*E,pt=0;e:for(ke=0;ke<M;++ke){if(Ie=_[ae]-nt[pt],Ie!==0)break e;pt+=k,ae+=N}if(Ie<0){for(Be=E*ce,Me=E*ne,Oe=E*q,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,be=Oe+wt,Q=_[ae],_[ae]=_[de],_[de]=_[be],_[be]=Q,wt+=b;++ne,--q}else{for(Be=E*ce,Me=E*q,wt=m,ke=0;ke<M;++ke)ae=Be+wt,de=Me+wt,Q=_[ae],_[ae]=_[de],_[de]=Q,wt+=b;--q}break}}}}}i(nt),i(Fe),q-ne<=32?T(ne,q,_,m,E,A,s,M,b,N,k):d(ne,q,_,m,E,A,s,M,b,N,k)}}};function l(T,c,i){var d=a(c),x=[c,T].join(","),w=u[x];return T.length>1&&d?w(i,d[0],d[1]):w(i)}var y={"uint32,1,0":function(T,c){return function(i){var d=i.data,x=i.offset|0,w=i.shape,_=i.stride,m=_[0]|0,E=w[0]|0,A=_[1]|0,s=w[1]|0,M=A,b=A,N=1;E<=32?T(0,E-1,d,x,m,A,E,s,M,b,N):c(0,E-1,d,x,m,A,E,s,M,b,N)}}};function h(T,c){var i=[c,T].join(","),d=y[i],x=f(T,c),w=l(T,c,x);return d(x,w)}v.exports=h},446:function(v,g,r){var t=r(7640),a={};function n(f){var u=f.order,l=f.dtype,y=[u,l],h=y.join(":"),T=a[h];return T||(a[h]=T=t(u,l)),T(f),f}v.exports=n},9618:function(v,g,r){var t=r(7163),a=typeof Float64Array<"u";function n(c,i){return c[0]-i[0]}function f(){var c=this.stride,i=new Array(c.length),d;for(d=0;d<i.length;++d)i[d]=[Math.abs(c[d]),d];i.sort(n);var x=new Array(i.length);for(d=0;d<x.length;++d)x[d]=i[d][1];return x}var u={T:function(c){function i(x){this.data=x}var d=i.prototype;return d.dtype=c,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new i(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(w){return new i(w)}},0:function(c,i){function d(w,_){this.data=w,this.offset=_}var x=d.prototype;return x.dtype=c,x.index=function(){return this.offset},x.dimension=0,x.size=1,x.shape=x.stride=x.order=[],x.lo=x.hi=x.transpose=x.step=function(){return new d(this.data,this.offset)},x.pick=function(){return i(this.data)},x.valueOf=x.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},x.set=function(_){return c==="generic"?this.data.set(this.offset,_):this.data[this.offset]=_},function(_,m,E,A){return new d(_,A)}},1:function(c,i,d){function x(_,m,E,A){this.data=_,this.shape=[m],this.stride=[E],this.offset=A|0}var w=x.prototype;return w.dtype=c,w.dimension=1,Object.defineProperty(w,"size",{get:function(){return this.shape[0]}}),w.order=[0],w.set=function(m,E){return c==="generic"?this.data.set(this.offset+this.stride[0]*m,E):this.data[this.offset+this.stride[0]*m]=E},w.get=function(m){return c==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},w.index=function(m){return this.offset+this.stride[0]*m},w.hi=function(m){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},w.lo=function(m){var E=this.offset,A=0,s=this.shape[0],M=this.stride[0];return typeof m=="number"&&m>=0&&(A=m|0,E+=M*A,s-=A),new x(this.data,s,M,E)},w.step=function(m){var E=this.shape[0],A=this.stride[0],s=this.offset,M=0,b=Math.ceil;return typeof m=="number"&&(M=m|0,M<0?(s+=A*(E-1),E=b(-E/M)):E=b(E/M),A*=M),new x(this.data,E,A,s)},w.transpose=function(m){m=m===void 0?0:m|0;var E=this.shape,A=this.stride;return new x(this.data,E[m],A[m],this.offset)},w.pick=function(m){var E=[],A=[],s=this.offset;typeof m=="number"&&m>=0?s=s+this.stride[0]*m|0:(E.push(this.shape[0]),A.push(this.stride[0]));var M=i[E.length+1];return M(this.data,E,A,s)},function(m,E,A,s){return new x(m,E[0],A[0],s)}},2:function(c,i,d){function x(_,m,E,A,s,M){this.data=_,this.shape=[m,E],this.stride=[A,s],this.offset=M|0}var w=x.prototype;return w.dtype=c,w.dimension=2,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(w,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),w.set=function(m,E,A){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E,A):this.data[this.offset+this.stride[0]*m+this.stride[1]*E]=A},w.get=function(m,E){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E):this.data[this.offset+this.stride[0]*m+this.stride[1]*E]},w.index=function(m,E){return this.offset+this.stride[0]*m+this.stride[1]*E},w.hi=function(m,E){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},w.lo=function(m,E){var A=this.offset,s=0,M=this.shape[0],b=this.shape[1],N=this.stride[0],k=this.stride[1];return typeof m=="number"&&m>=0&&(s=m|0,A+=N*s,M-=s),typeof E=="number"&&E>=0&&(s=E|0,A+=k*s,b-=s),new x(this.data,M,b,N,k,A)},w.step=function(m,E){var A=this.shape[0],s=this.shape[1],M=this.stride[0],b=this.stride[1],N=this.offset,k=0,H=Math.ceil;return typeof m=="number"&&(k=m|0,k<0?(N+=M*(A-1),A=H(-A/k)):A=H(A/k),M*=k),typeof E=="number"&&(k=E|0,k<0?(N+=b*(s-1),s=H(-s/k)):s=H(s/k),b*=k),new x(this.data,A,s,M,b,N)},w.transpose=function(m,E){m=m===void 0?0:m|0,E=E===void 0?1:E|0;var A=this.shape,s=this.stride;return new x(this.data,A[m],A[E],s[m],s[E],this.offset)},w.pick=function(m,E){var A=[],s=[],M=this.offset;typeof m=="number"&&m>=0?M=M+this.stride[0]*m|0:(A.push(this.shape[0]),s.push(this.stride[0])),typeof E=="number"&&E>=0?M=M+this.stride[1]*E|0:(A.push(this.shape[1]),s.push(this.stride[1]));var b=i[A.length+1];return b(this.data,A,s,M)},function(m,E,A,s){return new x(m,E[0],E[1],A[0],A[1],s)}},3:function(c,i,d){function x(_,m,E,A,s,M,b,N){this.data=_,this.shape=[m,E,A],this.stride=[s,M,b],this.offset=N|0}var w=x.prototype;return w.dtype=c,w.dimension=3,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(w,"order",{get:function(){var m=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),A=Math.abs(this.stride[2]);return m>E?E>A?[2,1,0]:m>A?[1,2,0]:[1,0,2]:m>A?[2,0,1]:A>E?[0,1,2]:[0,2,1]}}),w.set=function(m,E,A,s){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A,s):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A]=s},w.get=function(m,E,A){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A]},w.index=function(m,E,A){return this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A},w.hi=function(m,E,A){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof A!="number"||A<0?this.shape[2]:A|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},w.lo=function(m,E,A){var s=this.offset,M=0,b=this.shape[0],N=this.shape[1],k=this.shape[2],H=this.stride[0],F=this.stride[1],B=this.stride[2];return typeof m=="number"&&m>=0&&(M=m|0,s+=H*M,b-=M),typeof E=="number"&&E>=0&&(M=E|0,s+=F*M,N-=M),typeof A=="number"&&A>=0&&(M=A|0,s+=B*M,k-=M),new x(this.data,b,N,k,H,F,B,s)},w.step=function(m,E,A){var s=this.shape[0],M=this.shape[1],b=this.shape[2],N=this.stride[0],k=this.stride[1],H=this.stride[2],F=this.offset,B=0,U=Math.ceil;return typeof m=="number"&&(B=m|0,B<0?(F+=N*(s-1),s=U(-s/B)):s=U(s/B),N*=B),typeof E=="number"&&(B=E|0,B<0?(F+=k*(M-1),M=U(-M/B)):M=U(M/B),k*=B),typeof A=="number"&&(B=A|0,B<0?(F+=H*(b-1),b=U(-b/B)):b=U(b/B),H*=B),new x(this.data,s,M,b,N,k,H,F)},w.transpose=function(m,E,A){m=m===void 0?0:m|0,E=E===void 0?1:E|0,A=A===void 0?2:A|0;var s=this.shape,M=this.stride;return new x(this.data,s[m],s[E],s[A],M[m],M[E],M[A],this.offset)},w.pick=function(m,E,A){var s=[],M=[],b=this.offset;typeof m=="number"&&m>=0?b=b+this.stride[0]*m|0:(s.push(this.shape[0]),M.push(this.stride[0])),typeof E=="number"&&E>=0?b=b+this.stride[1]*E|0:(s.push(this.shape[1]),M.push(this.stride[1])),typeof A=="number"&&A>=0?b=b+this.stride[2]*A|0:(s.push(this.shape[2]),M.push(this.stride[2]));var N=i[s.length+1];return N(this.data,s,M,b)},function(m,E,A,s){return new x(m,E[0],E[1],E[2],A[0],A[1],A[2],s)}},4:function(c,i,d){function x(_,m,E,A,s,M,b,N,k,H){this.data=_,this.shape=[m,E,A,s],this.stride=[M,b,N,k],this.offset=H|0}var w=x.prototype;return w.dtype=c,w.dimension=4,Object.defineProperty(w,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(w,"order",{get:d}),w.set=function(m,E,A,s,M){return c==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A+this.stride[3]*s,M):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A+this.stride[3]*s]=M},w.get=function(m,E,A,s){return c==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A+this.stride[3]*s):this.data[this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A+this.stride[3]*s]},w.index=function(m,E,A,s){return this.offset+this.stride[0]*m+this.stride[1]*E+this.stride[2]*A+this.stride[3]*s},w.hi=function(m,E,A,s){return new x(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof A!="number"||A<0?this.shape[2]:A|0,typeof s!="number"||s<0?this.shape[3]:s|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},w.lo=function(m,E,A,s){var M=this.offset,b=0,N=this.shape[0],k=this.shape[1],H=this.shape[2],F=this.shape[3],B=this.stride[0],U=this.stride[1],z=this.stride[2],W=this.stride[3];return typeof m=="number"&&m>=0&&(b=m|0,M+=B*b,N-=b),typeof E=="number"&&E>=0&&(b=E|0,M+=U*b,k-=b),typeof A=="number"&&A>=0&&(b=A|0,M+=z*b,H-=b),typeof s=="number"&&s>=0&&(b=s|0,M+=W*b,F-=b),new x(this.data,N,k,H,F,B,U,z,W,M)},w.step=function(m,E,A,s){var M=this.shape[0],b=this.shape[1],N=this.shape[2],k=this.shape[3],H=this.stride[0],F=this.stride[1],B=this.stride[2],U=this.stride[3],z=this.offset,W=0,j=Math.ceil;return typeof m=="number"&&(W=m|0,W<0?(z+=H*(M-1),M=j(-M/W)):M=j(M/W),H*=W),typeof E=="number"&&(W=E|0,W<0?(z+=F*(b-1),b=j(-b/W)):b=j(b/W),F*=W),typeof A=="number"&&(W=A|0,W<0?(z+=B*(N-1),N=j(-N/W)):N=j(N/W),B*=W),typeof s=="number"&&(W=s|0,W<0?(z+=U*(k-1),k=j(-k/W)):k=j(k/W),U*=W),new x(this.data,M,b,N,k,H,F,B,U,z)},w.transpose=function(m,E,A,s){m=m===void 0?0:m|0,E=E===void 0?1:E|0,A=A===void 0?2:A|0,s=s===void 0?3:s|0;var M=this.shape,b=this.stride;return new x(this.data,M[m],M[E],M[A],M[s],b[m],b[E],b[A],b[s],this.offset)},w.pick=function(m,E,A,s){var M=[],b=[],N=this.offset;typeof m=="number"&&m>=0?N=N+this.stride[0]*m|0:(M.push(this.shape[0]),b.push(this.stride[0])),typeof E=="number"&&E>=0?N=N+this.stride[1]*E|0:(M.push(this.shape[1]),b.push(this.stride[1])),typeof A=="number"&&A>=0?N=N+this.stride[2]*A|0:(M.push(this.shape[2]),b.push(this.stride[2])),typeof s=="number"&&s>=0?N=N+this.stride[3]*s|0:(M.push(this.shape[3]),b.push(this.stride[3]));var k=i[M.length+1];return k(this.data,M,b,N)},function(m,E,A,s){return new x(m,E[0],E[1],E[2],E[3],A[0],A[1],A[2],A[3],s)}},5:function(i,d,x){function w(m,E,A,s,M,b,N,k,H,F,B,U){this.data=m,this.shape=[E,A,s,M,b],this.stride=[N,k,H,F,B],this.offset=U|0}var _=w.prototype;return _.dtype=i,_.dimension=5,Object.defineProperty(_,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(_,"order",{get:x}),_.set=function(E,A,s,M,b,N){return i==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*s+this.stride[3]*M+this.stride[4]*b,N):this.data[this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*s+this.stride[3]*M+this.stride[4]*b]=N},_.get=function(E,A,s,M,b){return i==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*s+this.stride[3]*M+this.stride[4]*b):this.data[this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*s+this.stride[3]*M+this.stride[4]*b]},_.index=function(E,A,s,M,b){return this.offset+this.stride[0]*E+this.stride[1]*A+this.stride[2]*s+this.stride[3]*M+this.stride[4]*b},_.hi=function(E,A,s,M,b){return new w(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof A!="number"||A<0?this.shape[1]:A|0,typeof s!="number"||s<0?this.shape[2]:s|0,typeof M!="number"||M<0?this.shape[3]:M|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},_.lo=function(E,A,s,M,b){var N=this.offset,k=0,H=this.shape[0],F=this.shape[1],B=this.shape[2],U=this.shape[3],z=this.shape[4],W=this.stride[0],j=this.stride[1],ee=this.stride[2],ie=this.stride[3],oe=this.stride[4];return typeof E=="number"&&E>=0&&(k=E|0,N+=W*k,H-=k),typeof A=="number"&&A>=0&&(k=A|0,N+=j*k,F-=k),typeof s=="number"&&s>=0&&(k=s|0,N+=ee*k,B-=k),typeof M=="number"&&M>=0&&(k=M|0,N+=ie*k,U-=k),typeof b=="number"&&b>=0&&(k=b|0,N+=oe*k,z-=k),new w(this.data,H,F,B,U,z,W,j,ee,ie,oe,N)},_.step=function(E,A,s,M,b){var N=this.shape[0],k=this.shape[1],H=this.shape[2],F=this.shape[3],B=this.shape[4],U=this.stride[0],z=this.stride[1],W=this.stride[2],j=this.stride[3],ee=this.stride[4],ie=this.offset,oe=0,he=Math.ceil;return typeof E=="number"&&(oe=E|0,oe<0?(ie+=U*(N-1),N=he(-N/oe)):N=he(N/oe),U*=oe),typeof A=="number"&&(oe=A|0,oe<0?(ie+=z*(k-1),k=he(-k/oe)):k=he(k/oe),z*=oe),typeof s=="number"&&(oe=s|0,oe<0?(ie+=W*(H-1),H=he(-H/oe)):H=he(H/oe),W*=oe),typeof M=="number"&&(oe=M|0,oe<0?(ie+=j*(F-1),F=he(-F/oe)):F=he(F/oe),j*=oe),typeof b=="number"&&(oe=b|0,oe<0?(ie+=ee*(B-1),B=he(-B/oe)):B=he(B/oe),ee*=oe),new w(this.data,N,k,H,F,B,U,z,W,j,ee,ie)},_.transpose=function(E,A,s,M,b){E=E===void 0?0:E|0,A=A===void 0?1:A|0,s=s===void 0?2:s|0,M=M===void 0?3:M|0,b=b===void 0?4:b|0;var N=this.shape,k=this.stride;return new w(this.data,N[E],N[A],N[s],N[M],N[b],k[E],k[A],k[s],k[M],k[b],this.offset)},_.pick=function(E,A,s,M,b){var N=[],k=[],H=this.offset;typeof E=="number"&&E>=0?H=H+this.stride[0]*E|0:(N.push(this.shape[0]),k.push(this.stride[0])),typeof A=="number"&&A>=0?H=H+this.stride[1]*A|0:(N.push(this.shape[1]),k.push(this.stride[1])),typeof s=="number"&&s>=0?H=H+this.stride[2]*s|0:(N.push(this.shape[2]),k.push(this.stride[2])),typeof M=="number"&&M>=0?H=H+this.stride[3]*M|0:(N.push(this.shape[3]),k.push(this.stride[3])),typeof b=="number"&&b>=0?H=H+this.stride[4]*b|0:(N.push(this.shape[4]),k.push(this.stride[4]));var F=d[N.length+1];return F(this.data,N,k,H)},function(E,A,s,M){return new w(E,A[0],A[1],A[2],A[3],A[4],s[0],s[1],s[2],s[3],s[4],M)}}};function l(c,i){var d=i===-1?"T":String(i),x=u[d];return i===-1?x(c):i===0?x(c,h[c][0]):x(c,h[c],f)}function y(c){if(t(c))return"buffer";if(a)switch(Object.prototype.toString.call(c)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(c)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function T(c,i,d,x){if(c===void 0){var s=h.array[0];return s([])}else typeof c=="number"&&(c=[c]);i===void 0&&(i=[c.length]);var w=i.length;if(d===void 0){d=new Array(w);for(var _=w-1,m=1;_>=0;--_)d[_]=m,m*=i[_]}if(x===void 0){x=0;for(var _=0;_<w;++_)d[_]<0&&(x-=(i[_]-1)*d[_])}for(var E=y(c),A=h[E];A.length<=w+1;)A.push(l(E,A.length-1));var s=A[w+1];return s(c,i,d,x)}v.exports=T},1278:function(v,g,r){var t=r(2361),a=Math.pow(2,-1074),n=-1>>>0;v.exports=f;function f(u,l){if(isNaN(u)||isNaN(l))return NaN;if(u===l)return u;if(u===0)return l<0?-a:a;var y=t.hi(u),h=t.lo(u);return l>u==u>0?h===n?(y+=1,h=0):h+=1:h===0?(h=n,y-=1):h-=1,t.pack(h,y)}},8406:function(v,g){var r=1e-6,t=1e-6;g.vertexNormals=function(a,n,f){for(var u=n.length,l=new Array(u),y=f===void 0?r:f,h=0;h<u;++h)l[h]=[0,0,0];for(var h=0;h<a.length;++h)for(var T=a[h],c=0,i=T[T.length-1],d=T[0],x=0;x<T.length;++x){c=i,i=d,d=T[(x+1)%T.length];for(var w=n[c],_=n[i],m=n[d],E=new Array(3),A=0,s=new Array(3),M=0,b=0;b<3;++b)E[b]=w[b]-_[b],A+=E[b]*E[b],s[b]=m[b]-_[b],M+=s[b]*s[b];if(A*M>y)for(var N=l[i],k=1/Math.sqrt(A*M),b=0;b<3;++b){var H=(b+1)%3,F=(b+2)%3;N[b]+=k*(s[H]*E[F]-s[F]*E[H])}}for(var h=0;h<u;++h){for(var N=l[h],B=0,b=0;b<3;++b)B+=N[b]*N[b];if(B>y)for(var k=1/Math.sqrt(B),b=0;b<3;++b)N[b]*=k;else for(var b=0;b<3;++b)N[b]=0}return l},g.faceNormals=function(a,n,f){for(var u=a.length,l=new Array(u),y=f===void 0?t:f,h=0;h<u;++h){for(var T=a[h],c=new Array(3),i=0;i<3;++i)c[i]=n[T[i]];for(var d=new Array(3),x=new Array(3),i=0;i<3;++i)d[i]=c[1][i]-c[0][i],x[i]=c[2][i]-c[0][i];for(var w=new Array(3),_=0,i=0;i<3;++i){var m=(i+1)%3,E=(i+2)%3;w[i]=d[m]*x[E]-d[E]*x[m],_+=w[i]*w[i]}_>y?_=1/Math.sqrt(_):_=0;for(var i=0;i<3;++i)w[i]*=_;l[h]=w}return l}},4081:function(v){v.exports=g;function g(r,t,a,n,f,u,l,y,h,T){var c=t+u+T;if(i>0){var i=Math.sqrt(c+1);r[0]=.5*(l-h)/i,r[1]=.5*(y-n)/i,r[2]=.5*(a-u)/i,r[3]=.5*i}else{var d=Math.max(t,u,T),i=Math.sqrt(2*d-c+1);t>=d?(r[0]=.5*i,r[1]=.5*(f+a)/i,r[2]=.5*(y+n)/i,r[3]=.5*(l-h)/i):u>=d?(r[0]=.5*(a+f)/i,r[1]=.5*i,r[2]=.5*(h+l)/i,r[3]=.5*(y-n)/i):(r[0]=.5*(n+y)/i,r[1]=.5*(l+h)/i,r[2]=.5*i,r[3]=.5*(a-f)/i)}return r}},9977:function(v,g,r){v.exports=i;var t=r(9215),a=r(6582),n=r(7399),f=r(7608),u=r(4081);function l(d,x,w){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2))}function y(d,x,w,_){return Math.sqrt(Math.pow(d,2)+Math.pow(x,2)+Math.pow(w,2)+Math.pow(_,2))}function h(d,x){var w=x[0],_=x[1],m=x[2],E=x[3],A=y(w,_,m,E);A>1e-6?(d[0]=w/A,d[1]=_/A,d[2]=m/A,d[3]=E/A):(d[0]=d[1]=d[2]=0,d[3]=1)}function T(d,x,w){this.radius=t([w]),this.center=t(x),this.rotation=t(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=T.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var x=this.computedRotation;h(x,x);var w=this.computedMatrix;n(w,x);var _=this.computedCenter,m=this.computedEye,E=this.computedUp,A=Math.exp(this.computedRadius[0]);m[0]=_[0]+A*w[2],m[1]=_[1]+A*w[6],m[2]=_[2]+A*w[10],E[0]=w[1],E[1]=w[5],E[2]=w[9];for(var s=0;s<3;++s){for(var M=0,b=0;b<3;++b)M+=w[s+4*b]*m[b];w[12+s]=-M}},c.getMatrix=function(d,x){this.recalcMatrix(d);var w=this.computedMatrix;if(x){for(var _=0;_<16;++_)x[_]=w[_];return x}return w},c.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},c.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},c.pan=function(d,x,w,_){x=x||0,w=w||0,_=_||0,this.recalcMatrix(d);var m=this.computedMatrix,E=m[1],A=m[5],s=m[9],M=l(E,A,s);E/=M,A/=M,s/=M;var b=m[0],N=m[4],k=m[8],H=b*E+N*A+k*s;b-=E*H,N-=A*H,k-=s*H;var F=l(b,N,k);b/=F,N/=F,k/=F,m[2],m[6],m[10];var B=b*x+E*w,U=N*x+A*w,z=k*x+s*w;this.center.move(d,B,U,z);var W=Math.exp(this.computedRadius[0]);W=Math.max(1e-4,W+_),this.radius.set(d,Math.log(W))},c.rotate=function(d,x,w,_){this.recalcMatrix(d),x=x||0,w=w||0;var m=this.computedMatrix,E=m[0],A=m[4],s=m[8],M=m[1],b=m[5],N=m[9],k=m[2],H=m[6],F=m[10],B=x*E+w*M,U=x*A+w*b,z=x*s+w*N,W=-(H*z-F*U),j=-(F*B-k*z),ee=-(k*U-H*B),ie=Math.sqrt(Math.max(0,1-Math.pow(W,2)-Math.pow(j,2)-Math.pow(ee,2))),oe=y(W,j,ee,ie);oe>1e-6?(W/=oe,j/=oe,ee/=oe,ie/=oe):(W=j=ee=0,ie=1);var he=this.computedRotation,ne=he[0],q=he[1],le=he[2],Q=he[3],te=ne*ie+Q*W+q*ee-le*j,ue=q*ie+Q*j+le*W-ne*ee,J=le*ie+Q*ee+ne*j-q*W,K=Q*ie-ne*W-q*j-le*ee;if(_){W=k,j=H,ee=F;var ce=Math.sin(_)/l(W,j,ee);W*=ce,j*=ce,ee*=ce,ie=Math.cos(x),te=te*ie+K*W+ue*ee-J*j,ue=ue*ie+K*j+J*W-te*ee,J=J*ie+K*ee+te*j-ue*W,K=K*ie-te*W-ue*j-J*ee}var ae=y(te,ue,J,K);ae>1e-6?(te/=ae,ue/=ae,J/=ae,K/=ae):(te=ue=J=0,K=1),this.rotation.set(d,te,ue,J,K)},c.lookAt=function(d,x,w,_){this.recalcMatrix(d),w=w||this.computedCenter,x=x||this.computedEye,_=_||this.computedUp;var m=this.computedMatrix;a(m,x,w,_);var E=this.computedRotation;u(E,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),h(E,E),this.rotation.set(d,E[0],E[1],E[2],E[3]);for(var A=0,s=0;s<3;++s)A+=Math.pow(w[s]-x[s],2);this.radius.set(d,.5*Math.log(Math.max(A,1e-6))),this.center.set(d,w[0],w[1],w[2])},c.translate=function(d,x,w,_){this.center.move(d,x||0,w||0,_||0)},c.setMatrix=function(d,x){var w=this.computedRotation;u(w,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),h(w,w),this.rotation.set(d,w[0],w[1],w[2],w[3]);var _=this.computedMatrix;f(_,x);var m=_[15];if(Math.abs(m)>1e-6){var E=_[12]/m,A=_[13]/m,s=_[14]/m;this.recalcMatrix(d);var M=Math.exp(this.computedRadius[0]);this.center.set(d,E-_[2]*M,A-_[6]*M,s-_[10]*M),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},c.setDistance=function(d,x){x>0&&this.radius.set(d,Math.log(x))},c.setDistanceLimits=function(d,x){d>0?d=Math.log(d):d=-1/0,x>0?x=Math.log(x):x=1/0,x=Math.max(x,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=x},c.getDistanceLimits=function(d){var x=this.radius.bounds;return d?(d[0]=Math.exp(x[0][0]),d[1]=Math.exp(x[1][0]),d):[Math.exp(x[0][0]),Math.exp(x[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(d){var x=this.lastT(),w=d.center;w&&this.center.set(x,w[0],w[1],w[2]);var _=d.rotation;_&&this.rotation.set(x,_[0],_[1],_[2],_[3]);var m=d.distance;m&&m>0&&this.radius.set(x,Math.log(m)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function i(d){d=d||{};var x=d.center||[0,0,0],w=d.rotation||[0,0,0,1],_=d.radius||1;x=[].slice.call(x,0,3),w=[].slice.call(w,0,4),h(w,w);var m=new T(w,x,Math.log(_));return m.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&m.lookAt(0,d.eye,d.center,d.up),m}},1371:function(v,g,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(3233);v.exports=function(n,f,u){return u=typeof u<"u"?u+"":" ",t(u,f)+n}},3202:function(v){v.exports=function(r,t){t||(t=[0,""]),r=String(r);var a=parseFloat(r,10);return t[0]=a,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},3088:function(v,g,r){v.exports=a;var t=r(3140);function a(n,f){for(var u=f.length|0,l=n.length,y=[new Array(u),new Array(u)],h=0;h<u;++h)y[0][h]=[],y[1][h]=[];for(var h=0;h<l;++h){var T=n[h];y[0][T[0]].push(T),y[1][T[1]].push(T)}for(var c=[],h=0;h<u;++h)y[0][h].length+y[1][h].length===0&&c.push([h]);function i(A,s){var M=y[s][A[s]];M.splice(M.indexOf(A),1)}function d(A,s,M){for(var b,N,k,H=0;H<2;++H)if(y[H][s].length>0){b=y[H][s][0],k=H;break}N=b[k^1];for(var F=0;F<2;++F)for(var B=y[F][s],U=0;U<B.length;++U){var z=B[U],W=z[F^1],j=t(f[A],f[s],f[N],f[W]);j>0&&(b=z,N=W,k=F)}return M||b&&i(b,k),N}function x(A,s){var M=y[s][A][0],b=[A];i(M,s);for(var N=M[s^1];;){for(;N!==A;)b.push(N),N=d(b[b.length-2],N,!1);if(y[0][A].length+y[1][A].length===0)break;var k=b[b.length-1],H=A,F=b[1],B=d(k,H,!0);if(t(f[k],f[H],f[F],f[B])<0)break;b.push(A),N=d(k,H)}return b}function w(A,s){return s[1]===s[s.length-1]}for(var h=0;h<u;++h)for(var _=0;_<2;++_){for(var m=[];y[_][h].length>0;){y[0][h].length;var E=x(h,_);w(m,E)?m.push.apply(m,E):(m.length>0&&c.push(m),m=E)}m.length>0&&c.push(m)}return c}},5609:function(v,g,r){v.exports=a;var t=r(3134);function a(n,f){for(var u=t(n,f.length),l=new Array(f.length),y=new Array(f.length),h=[],T=0;T<f.length;++T){var c=u[T].length;y[T]=c,l[T]=!0,c<=1&&h.push(T)}for(;h.length>0;){var i=h.pop();l[i]=!1;for(var d=u[i],T=0;T<d.length;++T){var x=d[T];--y[x]===0&&h.push(x)}}for(var w=new Array(f.length),_=[],T=0;T<f.length;++T)if(l[T]){var i=_.length;w[T]=i,_.push(f[T])}else w[T]=-1;for(var m=[],T=0;T<n.length;++T){var E=n[T];l[E[0]]&&l[E[1]]&&m.push([w[E[0]],w[E[1]]])}return[m,_]}},2095:function(v,g,r){v.exports=c;var t=r(3134),a=r(3088),n=r(5085),f=r(5250),u=r(8210),l=r(1682),y=r(5609);function h(i,d){for(var x=new Array(i),w=0;w<i;++w)x[w]=d;return x}function T(i){for(var d=new Array(i),x=0;x<i;++x)d[x]=[];return d}function c(i,d){var K=y(i,d);i=K[0],d=K[1];var x=d.length;i.length;for(var w=t(i,d.length),_=0;_<x;++_)if(w[_].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=a(i,d);function E(Ie){for(var ke=Ie.length,Be=[0],Me=0;Me<ke;++Me){var Oe=d[Ie[Me]],_e=d[Ie[(Me+1)%ke]],Ne=f(-Oe[0],Oe[1]),Ce=f(-Oe[0],_e[1]),Ye=f(_e[0],Oe[1]),rt=f(_e[0],_e[1]);Be=u(Be,u(u(Ne,Ce),u(Ye,rt)))}return Be[Be.length-1]>0}m=m.filter(E);for(var A=m.length,s=new Array(A),M=new Array(A),_=0;_<A;++_){s[_]=_;var b=new Array(A),N=m[_].map(function(ke){return d[ke]}),k=n([N]),H=0;e:for(var F=0;F<A;++F)if(b[F]=0,_!==F){for(var B=m[F],U=B.length,z=0;z<U;++z){var W=k(d[B[z]]);if(W!==0){W<0&&(b[F]=1,H+=1);continue e}}b[F]=1,H+=1}M[_]=[H,_,b]}M.sort(function(Ie,ke){return ke[0]-Ie[0]});for(var _=0;_<A;++_)for(var b=M[_],j=b[1],ee=b[2],F=0;F<A;++F)ee[F]&&(s[F]=j);for(var ie=T(A),_=0;_<A;++_)ie[_].push(s[_]),ie[s[_]].push(_);for(var oe={},he=h(x,!1),_=0;_<A;++_)for(var B=m[_],U=B.length,F=0;F<U;++F){var ne=B[F],q=B[(F+1)%U],le=Math.min(ne,q)+":"+Math.max(ne,q);if(le in oe){var Q=oe[le];ie[Q].push(_),ie[_].push(Q),he[ne]=he[q]=!0}else oe[le]=_}function te(Ie){for(var ke=Ie.length,Be=0;Be<ke;++Be)if(!he[Ie[Be]])return!1;return!0}for(var ue=[],J=h(A,-1),_=0;_<A;++_)s[_]===_&&!te(m[_])?(ue.push(_),J[_]=0):J[_]=-1;for(var K=[];ue.length>0;){var ce=ue.pop(),ae=ie[ce];l(ae,function(Ie,ke){return Ie-ke});var de=ae.length,be=J[ce],Se;if(be===0){var B=m[ce];Se=[B]}for(var _=0;_<de;++_){var Te=ae[_];if(!(J[Te]>=0)&&(J[Te]=be^1,ue.push(Te),be===0)){var B=m[Te];te(B)||(B.reverse(),Se.push(B))}}be===0&&K.push(Se)}return K}},5085:function(v,g,r){v.exports=d;var t=r(3250)[3],a=r(4209),n=r(3352),f=r(2478);function u(){return!0}function l(x){return function(w,_){var m=x[w];return m?!!m.queryPoint(_,u):!1}}function y(x){for(var w={},_=0;_<x.length;++_){var m=x[_],E=m[0][0],A=m[0][1],s=m[1][1],M=[Math.min(A,s),Math.max(A,s)];E in w?w[E].push(M):w[E]=[M]}for(var b={},N=Object.keys(w),_=0;_<N.length;++_){var k=w[N[_]];b[N[_]]=n(k)}return l(b)}function h(x,w){return function(_){var m=f.le(w,_[0]);if(m<0)return 1;var E=x[m];if(!E)if(m>0&&w[m]===_[0])E=x[m-1];else return 1;for(var A=1;E;){var s=E.key,M=t(_,s[0],s[1]);if(s[0][0]<s[1][0])if(M<0)E=E.left;else if(M>0)A=-1,E=E.right;else return 0;else if(M>0)E=E.left;else if(M<0)A=1,E=E.right;else return 0}return A}}function T(x){return 1}function c(x){return function(_){return x(_[0],_[1])?0:1}}function i(x,w){return function(m){return x(m[0],m[1])?0:w(m)}}function d(x){for(var w=x.length,_=[],m=[],E=0;E<w;++E)for(var A=x[E],s=A.length,M=s-1,b=0;b<s;M=b++){var N=A[M],k=A[b];N[0]===k[0]?m.push([N,k]):_.push([N,k])}if(_.length===0)return m.length===0?T:c(y(m));var H=a(_),F=h(H.slabs,H.coordinates);return m.length===0?F:i(y(m),F)}},9346:function(v){var g=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function a(n,f,u,l,y){g.length<l.length&&(g=new Float64Array(l.length),r=new Float64Array(l.length),t=new Float64Array(l.length));for(var h=0;h<l.length;++h)g[h]=n[h]-l[h],r[h]=f[h]-n[h],t[h]=u[h]-n[h];for(var T=0,c=0,i=0,d=0,x=0,w=0,h=0;h<l.length;++h){var _=r[h],m=t[h],E=g[h];T+=_*_,c+=_*m,i+=m*m,d+=E*_,x+=E*m,w+=E*E}var A=Math.abs(T*i-c*c),s=c*x-i*d,M=c*d-T*x,b;if(s+M<=A)if(s<0)M<0&&d<0?(M=0,-d>=T?(s=1,b=T+2*d+w):(s=-d/T,b=d*s+w)):(s=0,x>=0?(M=0,b=w):-x>=i?(M=1,b=i+2*x+w):(M=-x/i,b=x*M+w));else if(M<0)M=0,d>=0?(s=0,b=w):-d>=T?(s=1,b=T+2*d+w):(s=-d/T,b=d*s+w);else{var N=1/A;s*=N,M*=N,b=s*(T*s+c*M+2*d)+M*(c*s+i*M+2*x)+w}else{var k,H,F,B;s<0?(k=c+d,H=i+x,H>k?(F=H-k,B=T-2*c+i,F>=B?(s=1,M=0,b=T+2*d+w):(s=F/B,M=1-s,b=s*(T*s+c*M+2*d)+M*(c*s+i*M+2*x)+w)):(s=0,H<=0?(M=1,b=i+2*x+w):x>=0?(M=0,b=w):(M=-x/i,b=x*M+w))):M<0?(k=c+x,H=T+d,H>k?(F=H-k,B=T-2*c+i,F>=B?(M=1,s=0,b=i+2*x+w):(M=F/B,s=1-M,b=s*(T*s+c*M+2*d)+M*(c*s+i*M+2*x)+w)):(M=0,H<=0?(s=1,b=T+2*d+w):d>=0?(s=0,b=w):(s=-d/T,b=d*s+w))):(F=i+x-c-d,F<=0?(s=0,M=1,b=i+2*x+w):(B=T-2*c+i,F>=B?(s=1,M=0,b=T+2*d+w):(s=F/B,M=1-s,b=s*(T*s+c*M+2*d)+M*(c*s+i*M+2*x)+w)))}for(var U=1-s-M,h=0;h<l.length;++h)y[h]=U*n[h]+s*f[h]+M*u[h];return b<0?0:b}v.exports=a},8648:function(v,g,r){v.exports=r(783)},2653:function(v,g,r){var t=r(3865);v.exports=a;function a(n,f){for(var u=n.length,l=new Array(u),y=0;y<u;++y)l[y]=t(n[y],f[y]);return l}},5838:function(v,g,r){v.exports=a;var t=r(7842);function a(n){for(var f=new Array(n.length),u=0;u<n.length;++u)f[u]=t(n[u]);return f}},8987:function(v,g,r){var t=r(7842),a=r(6504);v.exports=n;function n(f,u){for(var l=t(u),y=f.length,h=new Array(y),T=0;T<y;++T)h[T]=a(f[T],l);return h}},544:function(v,g,r){var t=r(5572);v.exports=a;function a(n,f){for(var u=n.length,l=new Array(u),y=0;y<u;++y)l[y]=t(n[y],f[y]);return l}},5771:function(v,g,r){var t=r(8507),a=r(3788),n=r(2419);v.exports=f;function f(u){u.sort(a);for(var l=u.length,y=0,h=0;h<l;++h){var T=u[h],c=n(T);if(c!==0){if(y>0){var i=u[y-1];if(t(T,i)===0&&n(i)!==c){y-=1;continue}}u[y++]=T}}return u.length=y,u}},3233:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var g="",r;v.exports=t;function t(a,n){if(typeof a!="string")throw new TypeError("expected a string");if(n===1)return a;if(n===2)return a+a;var f=a.length*n;if(r!==a||typeof r>"u")r=a,g="";else if(g.length>=f)return g.substr(0,f);for(;f>g.length&&n>1;)n&1&&(g+=a),n>>=1,a+=a;return g+=a,g=g.substr(0,f),g}},3025:function(v,g,r){v.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},7004:function(v){v.exports=g;function g(r){for(var t=r.length,a=r[r.length-1],n=t,f=t-2;f>=0;--f){var u=a,l=r[f];a=u+l;var y=a-u,h=l-y;h&&(r[--n]=a,a=h)}for(var T=0,f=n;f<t;++f){var u=r[f],l=a;a=u+l;var y=a-u,h=l-y;h&&(r[T++]=h)}return r[T++]=a,r.length=T,r}},2962:function(v,g,r){var t=r(5250),a=r(8210),n=r(3012),f=r(7004),u=6;function l(w,_,m,E){return function(s){return E(w(m(s[0][0],s[1][1]),m(-s[0][1],s[1][0])))}}function y(w,_,m,E){return function(s){return E(w(_(w(m(s[1][1],s[2][2]),m(-s[1][2],s[2][1])),s[0][0]),w(_(w(m(s[1][0],s[2][2]),m(-s[1][2],s[2][0])),-s[0][1]),_(w(m(s[1][0],s[2][1]),m(-s[1][1],s[2][0])),s[0][2]))))}}function h(w,_,m,E){return function(s){return E(w(w(_(w(_(w(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][1]),w(_(w(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),-s[1][2]),_(w(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][3]))),s[0][0]),_(w(_(w(m(s[2][2],s[3][3]),m(-s[2][3],s[3][2])),s[1][0]),w(_(w(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][2]),_(w(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),s[1][3]))),-s[0][1])),w(_(w(_(w(m(s[2][1],s[3][3]),m(-s[2][3],s[3][1])),s[1][0]),w(_(w(m(s[2][0],s[3][3]),m(-s[2][3],s[3][0])),-s[1][1]),_(w(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][3]))),s[0][2]),_(w(_(w(m(s[2][1],s[3][2]),m(-s[2][2],s[3][1])),s[1][0]),w(_(w(m(s[2][0],s[3][2]),m(-s[2][2],s[3][0])),-s[1][1]),_(w(m(s[2][0],s[3][1]),m(-s[2][1],s[3][0])),s[1][2]))),-s[0][3]))))}}function T(w,_,m,E){return function(s){return E(w(w(_(w(w(_(w(_(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),w(_(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),_(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][1]),_(w(_(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),w(_(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),_(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),-s[1][2])),w(_(w(_(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),w(_(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),_(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][3]),_(w(_(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),w(_(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),_(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),-s[1][4]))),s[0][0]),_(w(w(_(w(_(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][2]),w(_(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),-s[2][3]),_(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][4]))),s[1][0]),_(w(_(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),w(_(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),_(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][2])),w(_(w(_(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),w(_(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),_(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),s[1][3]),_(w(_(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),w(_(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),_(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][4]))),-s[0][1])),w(_(w(w(_(w(_(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][1]),w(_(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][3]),_(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][4]))),s[1][0]),_(w(_(w(m(s[3][3],s[4][4]),m(-s[3][4],s[4][3])),s[2][0]),w(_(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][3]),_(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),s[2][4]))),-s[1][1])),w(_(w(_(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),w(_(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),_(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][3]),_(w(_(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),w(_(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),_(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),-s[1][4]))),s[0][2]),w(_(w(w(_(w(_(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][1]),w(_(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),-s[2][2]),_(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][4]))),s[1][0]),_(w(_(w(m(s[3][2],s[4][4]),m(-s[3][4],s[4][2])),s[2][0]),w(_(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][2]),_(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][4]))),-s[1][1])),w(_(w(_(w(m(s[3][1],s[4][4]),m(-s[3][4],s[4][1])),s[2][0]),w(_(w(m(s[3][0],s[4][4]),m(-s[3][4],s[4][0])),-s[2][1]),_(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][4]))),s[1][2]),_(w(_(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),w(_(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),_(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][4]))),-s[0][3]),_(w(w(_(w(_(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][1]),w(_(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),-s[2][2]),_(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][3]))),s[1][0]),_(w(_(w(m(s[3][2],s[4][3]),m(-s[3][3],s[4][2])),s[2][0]),w(_(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][2]),_(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),s[2][3]))),-s[1][1])),w(_(w(_(w(m(s[3][1],s[4][3]),m(-s[3][3],s[4][1])),s[2][0]),w(_(w(m(s[3][0],s[4][3]),m(-s[3][3],s[4][0])),-s[2][1]),_(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][3]))),s[1][2]),_(w(_(w(m(s[3][1],s[4][2]),m(-s[3][2],s[4][1])),s[2][0]),w(_(w(m(s[3][0],s[4][2]),m(-s[3][2],s[4][0])),-s[2][1]),_(w(m(s[3][0],s[4][1]),m(-s[3][1],s[4][0])),s[2][2]))),-s[1][3]))),s[0][4])))))}}function c(w){var _=w===2?l:w===3?y:w===4?h:w===5?T:void 0;return _(a,n,t,f)}var i=[function(){return[0]},function(_){return[_[0][0]]}];function d(w,_,m,E,A,s,M,b){return function(k){switch(k.length){case 0:return w(k);case 1:return _(k);case 2:return m(k);case 3:return E(k);case 4:return A(k);case 5:return s(k)}var H=M[k.length];return H||(H=M[k.length]=b(k.length)),H(k)}}function x(){for(;i.length<u;)i.push(c(i.length));v.exports=d.apply(void 0,i.concat([i,c]));for(var w=0;w<i.length;++w)v.exports[w]=i[w]}x()},1944:function(v,g,r){var t=r(5250),a=r(8210);v.exports=n;function n(f,u){for(var l=t(f[0],u[0]),y=1;y<f.length;++y)l=a(l,t(f[y],u[y]));return l}},2646:function(v,g,r){var t=r(5250),a=r(8210),n=r(8545),f=r(3012),u=6;function l(A){var s=A===3?c:A===4?i:A===5?d:x;return s(a,n,t,f)}function y(){return 0}function h(){return 0}function T(){return 0}function c(A,s,M,b){function N(k,H,F){var B=M(k[0],k[0]),U=b(B,H[0]),z=b(B,F[0]),W=M(H[0],H[0]),j=b(W,k[0]),ee=b(W,F[0]),ie=M(F[0],F[0]),oe=b(ie,k[0]),he=b(ie,H[0]),ne=A(s(he,ee),s(j,U)),q=s(oe,z),le=s(ne,q);return le[le.length-1]}return N}function i(A,s,M,b){function N(k,H,F,B){var U=A(M(k[0],k[0]),M(k[1],k[1])),z=b(U,H[0]),W=b(U,F[0]),j=b(U,B[0]),ee=A(M(H[0],H[0]),M(H[1],H[1])),ie=b(ee,k[0]),oe=b(ee,F[0]),he=b(ee,B[0]),ne=A(M(F[0],F[0]),M(F[1],F[1])),q=b(ne,k[0]),le=b(ne,H[0]),Q=b(ne,B[0]),te=A(M(B[0],B[0]),M(B[1],B[1])),ue=b(te,k[0]),J=b(te,H[0]),K=b(te,F[0]),ce=A(A(b(s(K,Q),H[1]),A(b(s(J,he),-F[1]),b(s(le,oe),B[1]))),A(b(s(J,he),k[1]),A(b(s(ue,j),-H[1]),b(s(ie,z),B[1])))),ae=A(A(b(s(K,Q),k[1]),A(b(s(ue,j),-F[1]),b(s(q,W),B[1]))),A(b(s(le,oe),k[1]),A(b(s(q,W),-H[1]),b(s(ie,z),F[1])))),de=s(ce,ae);return de[de.length-1]}return N}function d(A,s,M,b){function N(k,H,F,B,U){var z=A(M(k[0],k[0]),A(M(k[1],k[1]),M(k[2],k[2]))),W=b(z,H[0]),j=b(z,F[0]),ee=b(z,B[0]),ie=b(z,U[0]),oe=A(M(H[0],H[0]),A(M(H[1],H[1]),M(H[2],H[2]))),he=b(oe,k[0]),ne=b(oe,F[0]),q=b(oe,B[0]),le=b(oe,U[0]),Q=A(M(F[0],F[0]),A(M(F[1],F[1]),M(F[2],F[2]))),te=b(Q,k[0]),ue=b(Q,H[0]),J=b(Q,B[0]),K=b(Q,U[0]),ce=A(M(B[0],B[0]),A(M(B[1],B[1]),M(B[2],B[2]))),ae=b(ce,k[0]),de=b(ce,H[0]),be=b(ce,F[0]),Se=b(ce,U[0]),Te=A(M(U[0],U[0]),A(M(U[1],U[1]),M(U[2],U[2]))),Ie=b(Te,k[0]),ke=b(Te,H[0]),Be=b(Te,F[0]),Me=b(Te,B[0]),Oe=A(A(A(b(A(b(s(Me,Se),F[1]),A(b(s(Be,K),-B[1]),b(s(be,J),U[1]))),H[2]),A(b(A(b(s(Me,Se),H[1]),A(b(s(ke,le),-B[1]),b(s(de,q),U[1]))),-F[2]),b(A(b(s(Be,K),H[1]),A(b(s(ke,le),-F[1]),b(s(ue,ne),U[1]))),B[2]))),A(b(A(b(s(be,J),H[1]),A(b(s(de,q),-F[1]),b(s(ue,ne),B[1]))),-U[2]),A(b(A(b(s(Me,Se),H[1]),A(b(s(ke,le),-B[1]),b(s(de,q),U[1]))),k[2]),b(A(b(s(Me,Se),k[1]),A(b(s(Ie,ie),-B[1]),b(s(ae,ee),U[1]))),-H[2])))),A(A(b(A(b(s(ke,le),k[1]),A(b(s(Ie,ie),-H[1]),b(s(he,W),U[1]))),B[2]),A(b(A(b(s(de,q),k[1]),A(b(s(ae,ee),-H[1]),b(s(he,W),B[1]))),-U[2]),b(A(b(s(be,J),H[1]),A(b(s(de,q),-F[1]),b(s(ue,ne),B[1]))),k[2]))),A(b(A(b(s(be,J),k[1]),A(b(s(ae,ee),-F[1]),b(s(te,j),B[1]))),-H[2]),A(b(A(b(s(de,q),k[1]),A(b(s(ae,ee),-H[1]),b(s(he,W),B[1]))),F[2]),b(A(b(s(ue,ne),k[1]),A(b(s(te,j),-H[1]),b(s(he,W),F[1]))),-B[2]))))),_e=A(A(A(b(A(b(s(Me,Se),F[1]),A(b(s(Be,K),-B[1]),b(s(be,J),U[1]))),k[2]),b(A(b(s(Me,Se),k[1]),A(b(s(Ie,ie),-B[1]),b(s(ae,ee),U[1]))),-F[2])),A(b(A(b(s(Be,K),k[1]),A(b(s(Ie,ie),-F[1]),b(s(te,j),U[1]))),B[2]),b(A(b(s(be,J),k[1]),A(b(s(ae,ee),-F[1]),b(s(te,j),B[1]))),-U[2]))),A(A(b(A(b(s(Be,K),H[1]),A(b(s(ke,le),-F[1]),b(s(ue,ne),U[1]))),k[2]),b(A(b(s(Be,K),k[1]),A(b(s(Ie,ie),-F[1]),b(s(te,j),U[1]))),-H[2])),A(b(A(b(s(ke,le),k[1]),A(b(s(Ie,ie),-H[1]),b(s(he,W),U[1]))),F[2]),b(A(b(s(ue,ne),k[1]),A(b(s(te,j),-H[1]),b(s(he,W),F[1]))),-U[2])))),Ne=s(Oe,_e);return Ne[Ne.length-1]}return N}function x(A,s,M,b){function N(k,H,F,B,U,z){var W=A(A(M(k[0],k[0]),M(k[1],k[1])),A(M(k[2],k[2]),M(k[3],k[3]))),j=b(W,H[0]),ee=b(W,F[0]),ie=b(W,B[0]),oe=b(W,U[0]),he=b(W,z[0]),ne=A(A(M(H[0],H[0]),M(H[1],H[1])),A(M(H[2],H[2]),M(H[3],H[3]))),q=b(ne,k[0]),le=b(ne,F[0]),Q=b(ne,B[0]),te=b(ne,U[0]),ue=b(ne,z[0]),J=A(A(M(F[0],F[0]),M(F[1],F[1])),A(M(F[2],F[2]),M(F[3],F[3]))),K=b(J,k[0]),ce=b(J,H[0]),ae=b(J,B[0]),de=b(J,U[0]),be=b(J,z[0]),Se=A(A(M(B[0],B[0]),M(B[1],B[1])),A(M(B[2],B[2]),M(B[3],B[3]))),Te=b(Se,k[0]),Ie=b(Se,H[0]),ke=b(Se,F[0]),Be=b(Se,U[0]),Me=b(Se,z[0]),Oe=A(A(M(U[0],U[0]),M(U[1],U[1])),A(M(U[2],U[2]),M(U[3],U[3]))),_e=b(Oe,k[0]),Ne=b(Oe,H[0]),Ce=b(Oe,F[0]),Ye=b(Oe,B[0]),rt=b(Oe,z[0]),ot=A(A(M(z[0],z[0]),M(z[1],z[1])),A(M(z[2],z[2]),M(z[3],z[3]))),$e=b(ot,k[0]),qe=b(ot,H[0]),ht=b(ot,F[0]),vt=b(ot,B[0]),pt=b(ot,U[0]),wt=A(A(A(b(A(A(b(A(b(s(pt,rt),B[1]),A(b(s(vt,Me),-U[1]),b(s(Ye,Be),z[1]))),F[2]),b(A(b(s(pt,rt),F[1]),A(b(s(ht,be),-U[1]),b(s(Ce,de),z[1]))),-B[2])),A(b(A(b(s(vt,Me),F[1]),A(b(s(ht,be),-B[1]),b(s(ke,ae),z[1]))),U[2]),b(A(b(s(Ye,Be),F[1]),A(b(s(Ce,de),-B[1]),b(s(ke,ae),U[1]))),-z[2]))),H[3]),A(b(A(A(b(A(b(s(pt,rt),B[1]),A(b(s(vt,Me),-U[1]),b(s(Ye,Be),z[1]))),H[2]),b(A(b(s(pt,rt),H[1]),A(b(s(qe,ue),-U[1]),b(s(Ne,te),z[1]))),-B[2])),A(b(A(b(s(vt,Me),H[1]),A(b(s(qe,ue),-B[1]),b(s(Ie,Q),z[1]))),U[2]),b(A(b(s(Ye,Be),H[1]),A(b(s(Ne,te),-B[1]),b(s(Ie,Q),U[1]))),-z[2]))),-F[3]),b(A(A(b(A(b(s(pt,rt),F[1]),A(b(s(ht,be),-U[1]),b(s(Ce,de),z[1]))),H[2]),b(A(b(s(pt,rt),H[1]),A(b(s(qe,ue),-U[1]),b(s(Ne,te),z[1]))),-F[2])),A(b(A(b(s(ht,be),H[1]),A(b(s(qe,ue),-F[1]),b(s(ce,le),z[1]))),U[2]),b(A(b(s(Ce,de),H[1]),A(b(s(Ne,te),-F[1]),b(s(ce,le),U[1]))),-z[2]))),B[3]))),A(A(b(A(A(b(A(b(s(vt,Me),F[1]),A(b(s(ht,be),-B[1]),b(s(ke,ae),z[1]))),H[2]),b(A(b(s(vt,Me),H[1]),A(b(s(qe,ue),-B[1]),b(s(Ie,Q),z[1]))),-F[2])),A(b(A(b(s(ht,be),H[1]),A(b(s(qe,ue),-F[1]),b(s(ce,le),z[1]))),B[2]),b(A(b(s(ke,ae),H[1]),A(b(s(Ie,Q),-F[1]),b(s(ce,le),B[1]))),-z[2]))),-U[3]),b(A(A(b(A(b(s(Ye,Be),F[1]),A(b(s(Ce,de),-B[1]),b(s(ke,ae),U[1]))),H[2]),b(A(b(s(Ye,Be),H[1]),A(b(s(Ne,te),-B[1]),b(s(Ie,Q),U[1]))),-F[2])),A(b(A(b(s(Ce,de),H[1]),A(b(s(Ne,te),-F[1]),b(s(ce,le),U[1]))),B[2]),b(A(b(s(ke,ae),H[1]),A(b(s(Ie,Q),-F[1]),b(s(ce,le),B[1]))),-U[2]))),z[3])),A(b(A(A(b(A(b(s(pt,rt),B[1]),A(b(s(vt,Me),-U[1]),b(s(Ye,Be),z[1]))),H[2]),b(A(b(s(pt,rt),H[1]),A(b(s(qe,ue),-U[1]),b(s(Ne,te),z[1]))),-B[2])),A(b(A(b(s(vt,Me),H[1]),A(b(s(qe,ue),-B[1]),b(s(Ie,Q),z[1]))),U[2]),b(A(b(s(Ye,Be),H[1]),A(b(s(Ne,te),-B[1]),b(s(Ie,Q),U[1]))),-z[2]))),k[3]),b(A(A(b(A(b(s(pt,rt),B[1]),A(b(s(vt,Me),-U[1]),b(s(Ye,Be),z[1]))),k[2]),b(A(b(s(pt,rt),k[1]),A(b(s($e,he),-U[1]),b(s(_e,oe),z[1]))),-B[2])),A(b(A(b(s(vt,Me),k[1]),A(b(s($e,he),-B[1]),b(s(Te,ie),z[1]))),U[2]),b(A(b(s(Ye,Be),k[1]),A(b(s(_e,oe),-B[1]),b(s(Te,ie),U[1]))),-z[2]))),-H[3])))),A(A(A(b(A(A(b(A(b(s(pt,rt),H[1]),A(b(s(qe,ue),-U[1]),b(s(Ne,te),z[1]))),k[2]),b(A(b(s(pt,rt),k[1]),A(b(s($e,he),-U[1]),b(s(_e,oe),z[1]))),-H[2])),A(b(A(b(s(qe,ue),k[1]),A(b(s($e,he),-H[1]),b(s(q,j),z[1]))),U[2]),b(A(b(s(Ne,te),k[1]),A(b(s(_e,oe),-H[1]),b(s(q,j),U[1]))),-z[2]))),B[3]),b(A(A(b(A(b(s(vt,Me),H[1]),A(b(s(qe,ue),-B[1]),b(s(Ie,Q),z[1]))),k[2]),b(A(b(s(vt,Me),k[1]),A(b(s($e,he),-B[1]),b(s(Te,ie),z[1]))),-H[2])),A(b(A(b(s(qe,ue),k[1]),A(b(s($e,he),-H[1]),b(s(q,j),z[1]))),B[2]),b(A(b(s(Ie,Q),k[1]),A(b(s(Te,ie),-H[1]),b(s(q,j),B[1]))),-z[2]))),-U[3])),A(b(A(A(b(A(b(s(Ye,Be),H[1]),A(b(s(Ne,te),-B[1]),b(s(Ie,Q),U[1]))),k[2]),b(A(b(s(Ye,Be),k[1]),A(b(s(_e,oe),-B[1]),b(s(Te,ie),U[1]))),-H[2])),A(b(A(b(s(Ne,te),k[1]),A(b(s(_e,oe),-H[1]),b(s(q,j),U[1]))),B[2]),b(A(b(s(Ie,Q),k[1]),A(b(s(Te,ie),-H[1]),b(s(q,j),B[1]))),-U[2]))),z[3]),b(A(A(b(A(b(s(vt,Me),F[1]),A(b(s(ht,be),-B[1]),b(s(ke,ae),z[1]))),H[2]),b(A(b(s(vt,Me),H[1]),A(b(s(qe,ue),-B[1]),b(s(Ie,Q),z[1]))),-F[2])),A(b(A(b(s(ht,be),H[1]),A(b(s(qe,ue),-F[1]),b(s(ce,le),z[1]))),B[2]),b(A(b(s(ke,ae),H[1]),A(b(s(Ie,Q),-F[1]),b(s(ce,le),B[1]))),-z[2]))),k[3]))),A(A(b(A(A(b(A(b(s(vt,Me),F[1]),A(b(s(ht,be),-B[1]),b(s(ke,ae),z[1]))),k[2]),b(A(b(s(vt,Me),k[1]),A(b(s($e,he),-B[1]),b(s(Te,ie),z[1]))),-F[2])),A(b(A(b(s(ht,be),k[1]),A(b(s($e,he),-F[1]),b(s(K,ee),z[1]))),B[2]),b(A(b(s(ke,ae),k[1]),A(b(s(Te,ie),-F[1]),b(s(K,ee),B[1]))),-z[2]))),-H[3]),b(A(A(b(A(b(s(vt,Me),H[1]),A(b(s(qe,ue),-B[1]),b(s(Ie,Q),z[1]))),k[2]),b(A(b(s(vt,Me),k[1]),A(b(s($e,he),-B[1]),b(s(Te,ie),z[1]))),-H[2])),A(b(A(b(s(qe,ue),k[1]),A(b(s($e,he),-H[1]),b(s(q,j),z[1]))),B[2]),b(A(b(s(Ie,Q),k[1]),A(b(s(Te,ie),-H[1]),b(s(q,j),B[1]))),-z[2]))),F[3])),A(b(A(A(b(A(b(s(ht,be),H[1]),A(b(s(qe,ue),-F[1]),b(s(ce,le),z[1]))),k[2]),b(A(b(s(ht,be),k[1]),A(b(s($e,he),-F[1]),b(s(K,ee),z[1]))),-H[2])),A(b(A(b(s(qe,ue),k[1]),A(b(s($e,he),-H[1]),b(s(q,j),z[1]))),F[2]),b(A(b(s(ce,le),k[1]),A(b(s(K,ee),-H[1]),b(s(q,j),F[1]))),-z[2]))),-B[3]),b(A(A(b(A(b(s(ke,ae),H[1]),A(b(s(Ie,Q),-F[1]),b(s(ce,le),B[1]))),k[2]),b(A(b(s(ke,ae),k[1]),A(b(s(Te,ie),-F[1]),b(s(K,ee),B[1]))),-H[2])),A(b(A(b(s(Ie,Q),k[1]),A(b(s(Te,ie),-H[1]),b(s(q,j),B[1]))),F[2]),b(A(b(s(ce,le),k[1]),A(b(s(K,ee),-H[1]),b(s(q,j),F[1]))),-B[2]))),z[3]))))),Mt=A(A(A(b(A(A(b(A(b(s(pt,rt),B[1]),A(b(s(vt,Me),-U[1]),b(s(Ye,Be),z[1]))),F[2]),b(A(b(s(pt,rt),F[1]),A(b(s(ht,be),-U[1]),b(s(Ce,de),z[1]))),-B[2])),A(b(A(b(s(vt,Me),F[1]),A(b(s(ht,be),-B[1]),b(s(ke,ae),z[1]))),U[2]),b(A(b(s(Ye,Be),F[1]),A(b(s(Ce,de),-B[1]),b(s(ke,ae),U[1]))),-z[2]))),k[3]),A(b(A(A(b(A(b(s(pt,rt),B[1]),A(b(s(vt,Me),-U[1]),b(s(Ye,Be),z[1]))),k[2]),b(A(b(s(pt,rt),k[1]),A(b(s($e,he),-U[1]),b(s(_e,oe),z[1]))),-B[2])),A(b(A(b(s(vt,Me),k[1]),A(b(s($e,he),-B[1]),b(s(Te,ie),z[1]))),U[2]),b(A(b(s(Ye,Be),k[1]),A(b(s(_e,oe),-B[1]),b(s(Te,ie),U[1]))),-z[2]))),-F[3]),b(A(A(b(A(b(s(pt,rt),F[1]),A(b(s(ht,be),-U[1]),b(s(Ce,de),z[1]))),k[2]),b(A(b(s(pt,rt),k[1]),A(b(s($e,he),-U[1]),b(s(_e,oe),z[1]))),-F[2])),A(b(A(b(s(ht,be),k[1]),A(b(s($e,he),-F[1]),b(s(K,ee),z[1]))),U[2]),b(A(b(s(Ce,de),k[1]),A(b(s(_e,oe),-F[1]),b(s(K,ee),U[1]))),-z[2]))),B[3]))),A(A(b(A(A(b(A(b(s(vt,Me),F[1]),A(b(s(ht,be),-B[1]),b(s(ke,ae),z[1]))),k[2]),b(A(b(s(vt,Me),k[1]),A(b(s($e,he),-B[1]),b(s(Te,ie),z[1]))),-F[2])),A(b(A(b(s(ht,be),k[1]),A(b(s($e,he),-F[1]),b(s(K,ee),z[1]))),B[2]),b(A(b(s(ke,ae),k[1]),A(b(s(Te,ie),-F[1]),b(s(K,ee),B[1]))),-z[2]))),-U[3]),b(A(A(b(A(b(s(Ye,Be),F[1]),A(b(s(Ce,de),-B[1]),b(s(ke,ae),U[1]))),k[2]),b(A(b(s(Ye,Be),k[1]),A(b(s(_e,oe),-B[1]),b(s(Te,ie),U[1]))),-F[2])),A(b(A(b(s(Ce,de),k[1]),A(b(s(_e,oe),-F[1]),b(s(K,ee),U[1]))),B[2]),b(A(b(s(ke,ae),k[1]),A(b(s(Te,ie),-F[1]),b(s(K,ee),B[1]))),-U[2]))),z[3])),A(b(A(A(b(A(b(s(pt,rt),F[1]),A(b(s(ht,be),-U[1]),b(s(Ce,de),z[1]))),H[2]),b(A(b(s(pt,rt),H[1]),A(b(s(qe,ue),-U[1]),b(s(Ne,te),z[1]))),-F[2])),A(b(A(b(s(ht,be),H[1]),A(b(s(qe,ue),-F[1]),b(s(ce,le),z[1]))),U[2]),b(A(b(s(Ce,de),H[1]),A(b(s(Ne,te),-F[1]),b(s(ce,le),U[1]))),-z[2]))),k[3]),b(A(A(b(A(b(s(pt,rt),F[1]),A(b(s(ht,be),-U[1]),b(s(Ce,de),z[1]))),k[2]),b(A(b(s(pt,rt),k[1]),A(b(s($e,he),-U[1]),b(s(_e,oe),z[1]))),-F[2])),A(b(A(b(s(ht,be),k[1]),A(b(s($e,he),-F[1]),b(s(K,ee),z[1]))),U[2]),b(A(b(s(Ce,de),k[1]),A(b(s(_e,oe),-F[1]),b(s(K,ee),U[1]))),-z[2]))),-H[3])))),A(A(A(b(A(A(b(A(b(s(pt,rt),H[1]),A(b(s(qe,ue),-U[1]),b(s(Ne,te),z[1]))),k[2]),b(A(b(s(pt,rt),k[1]),A(b(s($e,he),-U[1]),b(s(_e,oe),z[1]))),-H[2])),A(b(A(b(s(qe,ue),k[1]),A(b(s($e,he),-H[1]),b(s(q,j),z[1]))),U[2]),b(A(b(s(Ne,te),k[1]),A(b(s(_e,oe),-H[1]),b(s(q,j),U[1]))),-z[2]))),F[3]),b(A(A(b(A(b(s(ht,be),H[1]),A(b(s(qe,ue),-F[1]),b(s(ce,le),z[1]))),k[2]),b(A(b(s(ht,be),k[1]),A(b(s($e,he),-F[1]),b(s(K,ee),z[1]))),-H[2])),A(b(A(b(s(qe,ue),k[1]),A(b(s($e,he),-H[1]),b(s(q,j),z[1]))),F[2]),b(A(b(s(ce,le),k[1]),A(b(s(K,ee),-H[1]),b(s(q,j),F[1]))),-z[2]))),-U[3])),A(b(A(A(b(A(b(s(Ce,de),H[1]),A(b(s(Ne,te),-F[1]),b(s(ce,le),U[1]))),k[2]),b(A(b(s(Ce,de),k[1]),A(b(s(_e,oe),-F[1]),b(s(K,ee),U[1]))),-H[2])),A(b(A(b(s(Ne,te),k[1]),A(b(s(_e,oe),-H[1]),b(s(q,j),U[1]))),F[2]),b(A(b(s(ce,le),k[1]),A(b(s(K,ee),-H[1]),b(s(q,j),F[1]))),-U[2]))),z[3]),b(A(A(b(A(b(s(Ye,Be),F[1]),A(b(s(Ce,de),-B[1]),b(s(ke,ae),U[1]))),H[2]),b(A(b(s(Ye,Be),H[1]),A(b(s(Ne,te),-B[1]),b(s(Ie,Q),U[1]))),-F[2])),A(b(A(b(s(Ce,de),H[1]),A(b(s(Ne,te),-F[1]),b(s(ce,le),U[1]))),B[2]),b(A(b(s(ke,ae),H[1]),A(b(s(Ie,Q),-F[1]),b(s(ce,le),B[1]))),-U[2]))),k[3]))),A(A(b(A(A(b(A(b(s(Ye,Be),F[1]),A(b(s(Ce,de),-B[1]),b(s(ke,ae),U[1]))),k[2]),b(A(b(s(Ye,Be),k[1]),A(b(s(_e,oe),-B[1]),b(s(Te,ie),U[1]))),-F[2])),A(b(A(b(s(Ce,de),k[1]),A(b(s(_e,oe),-F[1]),b(s(K,ee),U[1]))),B[2]),b(A(b(s(ke,ae),k[1]),A(b(s(Te,ie),-F[1]),b(s(K,ee),B[1]))),-U[2]))),-H[3]),b(A(A(b(A(b(s(Ye,Be),H[1]),A(b(s(Ne,te),-B[1]),b(s(Ie,Q),U[1]))),k[2]),b(A(b(s(Ye,Be),k[1]),A(b(s(_e,oe),-B[1]),b(s(Te,ie),U[1]))),-H[2])),A(b(A(b(s(Ne,te),k[1]),A(b(s(_e,oe),-H[1]),b(s(q,j),U[1]))),B[2]),b(A(b(s(Ie,Q),k[1]),A(b(s(Te,ie),-H[1]),b(s(q,j),B[1]))),-U[2]))),F[3])),A(b(A(A(b(A(b(s(Ce,de),H[1]),A(b(s(Ne,te),-F[1]),b(s(ce,le),U[1]))),k[2]),b(A(b(s(Ce,de),k[1]),A(b(s(_e,oe),-F[1]),b(s(K,ee),U[1]))),-H[2])),A(b(A(b(s(Ne,te),k[1]),A(b(s(_e,oe),-H[1]),b(s(q,j),U[1]))),F[2]),b(A(b(s(ce,le),k[1]),A(b(s(K,ee),-H[1]),b(s(q,j),F[1]))),-U[2]))),-B[3]),b(A(A(b(A(b(s(ke,ae),H[1]),A(b(s(Ie,Q),-F[1]),b(s(ce,le),B[1]))),k[2]),b(A(b(s(ke,ae),k[1]),A(b(s(Te,ie),-F[1]),b(s(K,ee),B[1]))),-H[2])),A(b(A(b(s(Ie,Q),k[1]),A(b(s(Te,ie),-H[1]),b(s(q,j),B[1]))),F[2]),b(A(b(s(ce,le),k[1]),A(b(s(K,ee),-H[1]),b(s(q,j),F[1]))),-B[2]))),U[3]))))),nt=s(wt,Mt);return nt[nt.length-1]}return N}var w=[y,h,T];function _(A){var s=w[A.length];return s||(s=w[A.length]=l(A.length)),s.apply(void 0,A)}function m(A,s,M,b,N,k,H,F){function B(U,z,W,j,ee,ie){switch(arguments.length){case 0:case 1:return 0;case 2:return b(U,z);case 3:return N(U,z,W);case 4:return k(U,z,W,j);case 5:return H(U,z,W,j,ee);case 6:return F(U,z,W,j,ee,ie)}for(var oe=new Array(arguments.length),he=0;he<arguments.length;++he)oe[he]=arguments[he];return A(oe)}return B}function E(){for(;w.length<=u;)w.push(l(w.length));v.exports=m.apply(void 0,[_].concat(w));for(var A=0;A<=u;++A)v.exports[A]=w[A]}E()},727:function(v,g,r){var t=r(2962),a=6;function n(w){var _=w===2?l:w===3?y:w===4?h:w===5?T:c;return w<6?_(t[w]):_(t)}function f(){return[[0]]}function u(w,_){return[[_[0]],[w[0][0]]]}function l(w){return function(m,E){return[w([[+E[0],+m[0][1]],[+E[1],+m[1][1]]]),w([[+m[0][0],+E[0]],[+m[1][0],+E[1]]]),w(m)]}}function y(w){return function(m,E){return[w([[+E[0],+m[0][1],+m[0][2]],[+E[1],+m[1][1],+m[1][2]],[+E[2],+m[2][1],+m[2][2]]]),w([[+m[0][0],+E[0],+m[0][2]],[+m[1][0],+E[1],+m[1][2]],[+m[2][0],+E[2],+m[2][2]]]),w([[+m[0][0],+m[0][1],+E[0]],[+m[1][0],+m[1][1],+E[1]],[+m[2][0],+m[2][1],+E[2]]]),w(m)]}}function h(w){return function(m,E){return[w([[+E[0],+m[0][1],+m[0][2],+m[0][3]],[+E[1],+m[1][1],+m[1][2],+m[1][3]],[+E[2],+m[2][1],+m[2][2],+m[2][3]],[+E[3],+m[3][1],+m[3][2],+m[3][3]]]),w([[+m[0][0],+E[0],+m[0][2],+m[0][3]],[+m[1][0],+E[1],+m[1][2],+m[1][3]],[+m[2][0],+E[2],+m[2][2],+m[2][3]],[+m[3][0],+E[3],+m[3][2],+m[3][3]]]),w([[+m[0][0],+m[0][1],+E[0],+m[0][3]],[+m[1][0],+m[1][1],+E[1],+m[1][3]],[+m[2][0],+m[2][1],+E[2],+m[2][3]],[+m[3][0],+m[3][1],+E[3],+m[3][3]]]),w([[+m[0][0],+m[0][1],+m[0][2],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+E[3]]]),w(m)]}}function T(w){return function(m,E){return[w([[+E[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+E[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+E[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+E[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+E[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),w([[+m[0][0],+E[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+E[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+E[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+E[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+E[4],+m[4][2],+m[4][3],+m[4][4]]]),w([[+m[0][0],+m[0][1],+E[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+E[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+E[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+E[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+E[4],+m[4][3],+m[4][4]]]),w([[+m[0][0],+m[0][1],+m[0][2],+E[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+E[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+E[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+E[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+E[4],+m[4][4]]]),w([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+E[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+E[4]]]),w(m)]}}function c(w){return function(m,E){return[w([[+E[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+E[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+E[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+E[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+E[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+E[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),w([[+m[0][0],+E[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+E[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+E[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+E[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+E[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+E[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),w([[+m[0][0],+m[0][1],+E[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+E[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+E[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+E[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+E[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+E[5],+m[5][3],+m[5][4],+m[5][5]]]),w([[+m[0][0],+m[0][1],+m[0][2],+E[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+E[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+E[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+E[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+E[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+E[5],+m[5][4],+m[5][5]]]),w([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+E[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+E[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+E[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+E[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+E[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+E[5],+m[5][5]]]),w([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+E[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+E[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+E[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+E[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+E[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+E[5]]]),w(m)]}}var i=[f,u];function d(w,_,m,E,A,s,M,b){return function(k,H){switch(k.length){case 0:return w(k,H);case 1:return _(k,H);case 2:return m(k,H);case 3:return E(k,H);case 4:return A(k,H);case 5:return s(k,H)}var F=M[k.length];return F||(F=M[k.length]=b(k.length)),F(k,H)}}function x(){for(;i.length<a;)i.push(n(i.length));v.exports=d.apply(void 0,i.concat([i,n]));for(var w=0;w<a;++w)v.exports[w]=i[w]}x()},3250:function(v,g,r){var t=r(5250),a=r(8210),n=r(3012),f=r(8545),u=5,l=11102230246251565e-32,y=(3+16*l)*l,h=(7+56*l)*l;function T(s,M,b,N){return function(H,F,B){var U=s(s(M(F[1],B[0]),M(-B[1],F[0])),s(M(H[1],F[0]),M(-F[1],H[0]))),z=s(M(H[1],B[0]),M(-B[1],H[0])),W=N(U,z);return W[W.length-1]}}function c(s,M,b,N){return function(H,F,B,U){var z=s(s(b(s(M(B[1],U[0]),M(-U[1],B[0])),F[2]),s(b(s(M(F[1],U[0]),M(-U[1],F[0])),-B[2]),b(s(M(F[1],B[0]),M(-B[1],F[0])),U[2]))),s(b(s(M(F[1],U[0]),M(-U[1],F[0])),H[2]),s(b(s(M(H[1],U[0]),M(-U[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),U[2])))),W=s(s(b(s(M(B[1],U[0]),M(-U[1],B[0])),H[2]),s(b(s(M(H[1],U[0]),M(-U[1],H[0])),-B[2]),b(s(M(H[1],B[0]),M(-B[1],H[0])),U[2]))),s(b(s(M(F[1],B[0]),M(-B[1],F[0])),H[2]),s(b(s(M(H[1],B[0]),M(-B[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),B[2])))),j=N(z,W);return j[j.length-1]}}function i(s,M,b,N){return function(H,F,B,U,z){var W=s(s(s(b(s(b(s(M(U[1],z[0]),M(-z[1],U[0])),B[2]),s(b(s(M(B[1],z[0]),M(-z[1],B[0])),-U[2]),b(s(M(B[1],U[0]),M(-U[1],B[0])),z[2]))),F[3]),s(b(s(b(s(M(U[1],z[0]),M(-z[1],U[0])),F[2]),s(b(s(M(F[1],z[0]),M(-z[1],F[0])),-U[2]),b(s(M(F[1],U[0]),M(-U[1],F[0])),z[2]))),-B[3]),b(s(b(s(M(B[1],z[0]),M(-z[1],B[0])),F[2]),s(b(s(M(F[1],z[0]),M(-z[1],F[0])),-B[2]),b(s(M(F[1],B[0]),M(-B[1],F[0])),z[2]))),U[3]))),s(b(s(b(s(M(B[1],U[0]),M(-U[1],B[0])),F[2]),s(b(s(M(F[1],U[0]),M(-U[1],F[0])),-B[2]),b(s(M(F[1],B[0]),M(-B[1],F[0])),U[2]))),-z[3]),s(b(s(b(s(M(U[1],z[0]),M(-z[1],U[0])),F[2]),s(b(s(M(F[1],z[0]),M(-z[1],F[0])),-U[2]),b(s(M(F[1],U[0]),M(-U[1],F[0])),z[2]))),H[3]),b(s(b(s(M(U[1],z[0]),M(-z[1],U[0])),H[2]),s(b(s(M(H[1],z[0]),M(-z[1],H[0])),-U[2]),b(s(M(H[1],U[0]),M(-U[1],H[0])),z[2]))),-F[3])))),s(s(b(s(b(s(M(F[1],z[0]),M(-z[1],F[0])),H[2]),s(b(s(M(H[1],z[0]),M(-z[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),z[2]))),U[3]),s(b(s(b(s(M(F[1],U[0]),M(-U[1],F[0])),H[2]),s(b(s(M(H[1],U[0]),M(-U[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),U[2]))),-z[3]),b(s(b(s(M(B[1],U[0]),M(-U[1],B[0])),F[2]),s(b(s(M(F[1],U[0]),M(-U[1],F[0])),-B[2]),b(s(M(F[1],B[0]),M(-B[1],F[0])),U[2]))),H[3]))),s(b(s(b(s(M(B[1],U[0]),M(-U[1],B[0])),H[2]),s(b(s(M(H[1],U[0]),M(-U[1],H[0])),-B[2]),b(s(M(H[1],B[0]),M(-B[1],H[0])),U[2]))),-F[3]),s(b(s(b(s(M(F[1],U[0]),M(-U[1],F[0])),H[2]),s(b(s(M(H[1],U[0]),M(-U[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),U[2]))),B[3]),b(s(b(s(M(F[1],B[0]),M(-B[1],F[0])),H[2]),s(b(s(M(H[1],B[0]),M(-B[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),B[2]))),-U[3]))))),j=s(s(s(b(s(b(s(M(U[1],z[0]),M(-z[1],U[0])),B[2]),s(b(s(M(B[1],z[0]),M(-z[1],B[0])),-U[2]),b(s(M(B[1],U[0]),M(-U[1],B[0])),z[2]))),H[3]),b(s(b(s(M(U[1],z[0]),M(-z[1],U[0])),H[2]),s(b(s(M(H[1],z[0]),M(-z[1],H[0])),-U[2]),b(s(M(H[1],U[0]),M(-U[1],H[0])),z[2]))),-B[3])),s(b(s(b(s(M(B[1],z[0]),M(-z[1],B[0])),H[2]),s(b(s(M(H[1],z[0]),M(-z[1],H[0])),-B[2]),b(s(M(H[1],B[0]),M(-B[1],H[0])),z[2]))),U[3]),b(s(b(s(M(B[1],U[0]),M(-U[1],B[0])),H[2]),s(b(s(M(H[1],U[0]),M(-U[1],H[0])),-B[2]),b(s(M(H[1],B[0]),M(-B[1],H[0])),U[2]))),-z[3]))),s(s(b(s(b(s(M(B[1],z[0]),M(-z[1],B[0])),F[2]),s(b(s(M(F[1],z[0]),M(-z[1],F[0])),-B[2]),b(s(M(F[1],B[0]),M(-B[1],F[0])),z[2]))),H[3]),b(s(b(s(M(B[1],z[0]),M(-z[1],B[0])),H[2]),s(b(s(M(H[1],z[0]),M(-z[1],H[0])),-B[2]),b(s(M(H[1],B[0]),M(-B[1],H[0])),z[2]))),-F[3])),s(b(s(b(s(M(F[1],z[0]),M(-z[1],F[0])),H[2]),s(b(s(M(H[1],z[0]),M(-z[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),z[2]))),B[3]),b(s(b(s(M(F[1],B[0]),M(-B[1],F[0])),H[2]),s(b(s(M(H[1],B[0]),M(-B[1],H[0])),-F[2]),b(s(M(H[1],F[0]),M(-F[1],H[0])),B[2]))),-z[3])))),ee=N(W,j);return ee[ee.length-1]}}function d(s){var M=s===3?T:s===4?c:i;return M(a,t,n,f)}var x=d(3),w=d(4),_=[function(){return 0},function(){return 0},function(M,b){return b[0]-M[0]},function(M,b,N){var k=(M[1]-N[1])*(b[0]-N[0]),H=(M[0]-N[0])*(b[1]-N[1]),F=k-H,B;if(k>0){if(H<=0)return F;B=k+H}else if(k<0){if(H>=0)return F;B=-(k+H)}else return F;var U=y*B;return F>=U||F<=-U?F:x(M,b,N)},function(M,b,N,k){var H=M[0]-k[0],F=b[0]-k[0],B=N[0]-k[0],U=M[1]-k[1],z=b[1]-k[1],W=N[1]-k[1],j=M[2]-k[2],ee=b[2]-k[2],ie=N[2]-k[2],oe=F*W,he=B*z,ne=B*U,q=H*W,le=H*z,Q=F*U,te=j*(oe-he)+ee*(ne-q)+ie*(le-Q),ue=(Math.abs(oe)+Math.abs(he))*Math.abs(j)+(Math.abs(ne)+Math.abs(q))*Math.abs(ee)+(Math.abs(le)+Math.abs(Q))*Math.abs(ie),J=h*ue;return te>J||-te>J?te:w(M,b,N,k)}];function m(s){var M=_[s.length];return M||(M=_[s.length]=d(s.length)),M.apply(void 0,s)}function E(s,M,b,N,k,H,F){return function(U,z,W,j,ee){switch(arguments.length){case 0:case 1:return 0;case 2:return N(U,z);case 3:return k(U,z,W);case 4:return H(U,z,W,j);case 5:return F(U,z,W,j,ee)}for(var ie=new Array(arguments.length),oe=0;oe<arguments.length;++oe)ie[oe]=arguments[oe];return s(ie)}}function A(){for(;_.length<=u;)_.push(d(_.length));v.exports=E.apply(void 0,[m].concat(_));for(var s=0;s<=u;++s)v.exports[s]=_[s]}A()},5382:function(v,g,r){var t=r(8210),a=r(3012);v.exports=n;function n(f,u){if(f.length===1)return a(u,f[0]);if(u.length===1)return a(f,u[0]);if(f.length===0||u.length===0)return[0];var l=[0];if(f.length<u.length)for(var y=0;y<f.length;++y)l=t(l,a(u,f[y]));else for(var y=0;y<u.length;++y)l=t(l,a(f,u[y]));return l}},3012:function(v,g,r){var t=r(5250),a=r(9362);v.exports=n;function n(f,u){var l=f.length;if(l===1){var y=t(f[0],u);return y[0]?y:[y[1]]}var h=new Array(2*l),T=[.1,.1],c=[.1,.1],i=0;t(f[0],u,T),T[0]&&(h[i++]=T[0]);for(var d=1;d<l;++d){t(f[d],u,c);var x=T[1];a(x,c[0],T),T[0]&&(h[i++]=T[0]);var w=c[1],_=T[1],m=w+_,E=m-w,A=_-E;T[1]=m,A&&(h[i++]=A)}return T[1]&&(h[i++]=T[1]),i===0&&(h[i++]=0),h.length=i,h}},1125:function(v,g,r){v.exports=n;var t=r(3250)[3];function a(f,u,l,y){for(var h=0;h<2;++h){var T=f[h],c=u[h],i=Math.min(T,c),d=Math.max(T,c),x=l[h],w=y[h],_=Math.min(x,w),m=Math.max(x,w);if(m<i||d<_)return!1}return!0}function n(f,u,l,y){var h=t(f,l,y),T=t(u,l,y);if(h>0&&T>0||h<0&&T<0)return!1;var c=t(l,f,u),i=t(y,f,u);return c>0&&i>0||c<0&&i<0?!1:h===0&&T===0&&c===0&&i===0?a(f,u,l,y):!0}},8545:function(v){v.exports=r;function g(t,a){var n=t+a,f=n-t,u=n-f,l=a-f,y=t-u,h=y+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return g(t[0],-a[0]);var u=n+f,l=new Array(u),y=0,h=0,T=0,c=Math.abs,i=t[h],d=c(i),x=-a[T],w=c(x),_,m;d<w?(m=i,h+=1,h<n&&(i=t[h],d=c(i))):(m=x,T+=1,T<f&&(x=-a[T],w=c(x))),h<n&&d<w||T>=f?(_=i,h+=1,h<n&&(i=t[h],d=c(i))):(_=x,T+=1,T<f&&(x=-a[T],w=c(x)));for(var E=_+m,A=E-_,s=m-A,M=s,b=E,N,k,H,F,B;h<n&&T<f;)d<w?(_=i,h+=1,h<n&&(i=t[h],d=c(i))):(_=x,T+=1,T<f&&(x=-a[T],w=c(x))),m=M,E=_+m,A=E-_,s=m-A,s&&(l[y++]=s),N=b+E,k=N-b,H=N-k,F=E-k,B=b-H,M=B+F,b=N;for(;h<n;)_=i,m=M,E=_+m,A=E-_,s=m-A,s&&(l[y++]=s),N=b+E,k=N-b,H=N-k,F=E-k,B=b-H,M=B+F,b=N,h+=1,h<n&&(i=t[h]);for(;T<f;)_=x,m=M,E=_+m,A=E-_,s=m-A,s&&(l[y++]=s),N=b+E,k=N-b,H=N-k,F=E-k,B=b-H,M=B+F,b=N,T+=1,T<f&&(x=-a[T]);return M&&(l[y++]=M),b&&(l[y++]=b),y||(l[y++]=0),l.length=y,l}},8210:function(v){v.exports=r;function g(t,a){var n=t+a,f=n-t,u=n-f,l=a-f,y=t-u,h=y+l;return h?[h,n]:[n]}function r(t,a){var n=t.length|0,f=a.length|0;if(n===1&&f===1)return g(t[0],a[0]);var u=n+f,l=new Array(u),y=0,h=0,T=0,c=Math.abs,i=t[h],d=c(i),x=a[T],w=c(x),_,m;d<w?(m=i,h+=1,h<n&&(i=t[h],d=c(i))):(m=x,T+=1,T<f&&(x=a[T],w=c(x))),h<n&&d<w||T>=f?(_=i,h+=1,h<n&&(i=t[h],d=c(i))):(_=x,T+=1,T<f&&(x=a[T],w=c(x)));for(var E=_+m,A=E-_,s=m-A,M=s,b=E,N,k,H,F,B;h<n&&T<f;)d<w?(_=i,h+=1,h<n&&(i=t[h],d=c(i))):(_=x,T+=1,T<f&&(x=a[T],w=c(x))),m=M,E=_+m,A=E-_,s=m-A,s&&(l[y++]=s),N=b+E,k=N-b,H=N-k,F=E-k,B=b-H,M=B+F,b=N;for(;h<n;)_=i,m=M,E=_+m,A=E-_,s=m-A,s&&(l[y++]=s),N=b+E,k=N-b,H=N-k,F=E-k,B=b-H,M=B+F,b=N,h+=1,h<n&&(i=t[h]);for(;T<f;)_=x,m=M,E=_+m,A=E-_,s=m-A,s&&(l[y++]=s),N=b+E,k=N-b,H=N-k,F=E-k,B=b-H,M=B+F,b=N,T+=1,T<f&&(x=a[T]);return M&&(l[y++]=M),b&&(l[y++]=b),y||(l[y++]=0),l.length=y,l}},9127:function(v,g,r){v.exports=n;var t=r(6204),a=r(5771);function n(f){return a(t(f))}},7765:function(v,g,r){v.exports=i;var t=r(9618),a=r(1888),n=r(446),f=r(1570);function u(d){for(var x=d.length,w=0,_=0;_<x;++_)w=Math.max(w,d[_].length)|0;return w-1}function l(d,x){for(var w=d.length,_=a.mallocUint8(w),m=0;m<w;++m)_[m]=d[m]<x|0;return _}function y(d,x){for(var w=d.length,_=x*(x+1)/2*w|0,m=a.mallocUint32(_*2),E=0,A=0;A<w;++A)for(var s=d[A],x=s.length,M=0;M<x;++M)for(var b=0;b<M;++b){var N=s[b],k=s[M];m[E++]=Math.min(N,k)|0,m[E++]=Math.max(N,k)|0}var H=E/2|0;n(t(m,[H,2]));for(var F=2,A=2;A<E;A+=2)m[A-2]===m[A]&&m[A-1]===m[A+1]||(m[F++]=m[A],m[F++]=m[A+1]);return t(m,[F/2|0,2])}function h(d,x,w,_){for(var m=d.data,E=d.shape[0],A=a.mallocDouble(E),s=0,M=0;M<E;++M){var b=m[2*M],N=m[2*M+1];if(w[b]!==w[N]){var k=x[b],H=x[N];m[2*s]=b,m[2*s+1]=N,A[s++]=(H-_)/(H-k)}}return d.shape[0]=s,t(A,[s])}function T(d,x){var w=a.mallocInt32(x*2),_=d.shape[0],m=d.data;w[0]=0;for(var E=0,A=0;A<_;++A){var s=m[2*A];if(s!==E){for(w[2*E+1]=A;++E<s;)w[2*E]=A,w[2*E+1]=A;w[2*E]=A}}for(w[2*E+1]=_;++E<x;)w[2*E]=w[2*E+1]=_;return w}function c(d){for(var x=d.shape[0]|0,w=d.data,_=new Array(x),m=0;m<x;++m)_[m]=[w[2*m],w[2*m+1]];return _}function i(d,x,w,_){w=w||0,typeof _>"u"&&(_=u(d));var m=d.length;if(m===0||_<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=l(x,+w),A=y(d,_),s=h(A,x,E,+w),M=T(A,x.length|0),b=f(_)(d,A.data,M,E),N=c(A),k=[].slice.call(s.data,0,s.shape[0]);return a.free(E),a.free(A.data),a.free(s.data),a.free(M),{cells:b,vertexIds:N,vertexWeights:k}}},1570:function(v){v.exports=r;var g=[function(){function a(n,f,u,l){for(var y=n.length,h=[],T=0;T<y;++T){var c=n[T];c.length}return h}return a},function(){function a(f,u,l,y){for(var h=Math.min(l,y)|0,T=Math.max(l,y)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,x=u[2*d+1];if(x===T)return d;T<x?i=d:c=d+1}return c}function n(f,u,l,y){for(var h=f.length,T=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===2){var x=(y[i[0]]<<0)+(y[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0])]);break}}}return T}return n},function(){function a(f,u,l,y){for(var h=Math.min(l,y)|0,T=Math.max(l,y)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,x=u[2*d+1];if(x===T)return d;T<x?i=d:c=d+1}return c}function n(f,u,l,y){for(var h=f.length,T=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===3){var x=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([a(l,u,i[0],i[2]),a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0]),a(l,u,i[1],i[2])]);break;case 3:T.push([a(l,u,i[0],i[2]),a(l,u,i[1],i[2])]);break;case 4:T.push([a(l,u,i[2],i[1]),a(l,u,i[2],i[0])]);break;case 5:T.push([a(l,u,i[2],i[1]),a(l,u,i[0],i[1])]);break;case 6:T.push([a(l,u,i[1],i[0]),a(l,u,i[2],i[0])]);break}}else if(d===2){var x=(y[i[0]]<<0)+(y[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0])]);break}}}return T}return n},function(){function a(f,u,l,y){for(var h=Math.min(l,y)|0,T=Math.max(l,y)|0,c=f[2*h],i=f[2*h+1];c<i;){var d=c+i>>1,x=u[2*d+1];if(x===T)return d;T<x?i=d:c=d+1}return c}function n(f,u,l,y){for(var h=f.length,T=[],c=0;c<h;++c){var i=f[c],d=i.length;if(d===4){var x=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2)+(y[i[3]]<<3);if(x===0||x===15)continue;switch(x){case 0:break;case 1:T.push([a(l,u,i[0],i[1]),a(l,u,i[0],i[2]),a(l,u,i[0],i[3])]);break;case 2:T.push([a(l,u,i[1],i[2]),a(l,u,i[1],i[0]),a(l,u,i[1],i[3])]);break;case 3:T.push([a(l,u,i[1],i[2]),a(l,u,i[0],i[2]),a(l,u,i[0],i[3])],[a(l,u,i[1],i[3]),a(l,u,i[1],i[2]),a(l,u,i[0],i[3])]);break;case 4:T.push([a(l,u,i[2],i[0]),a(l,u,i[2],i[1]),a(l,u,i[2],i[3])]);break;case 5:T.push([a(l,u,i[0],i[1]),a(l,u,i[2],i[1]),a(l,u,i[0],i[3])],[a(l,u,i[2],i[1]),a(l,u,i[2],i[3]),a(l,u,i[0],i[3])]);break;case 6:T.push([a(l,u,i[2],i[0]),a(l,u,i[1],i[0]),a(l,u,i[1],i[3])],[a(l,u,i[2],i[3]),a(l,u,i[2],i[0]),a(l,u,i[1],i[3])]);break;case 7:T.push([a(l,u,i[0],i[3]),a(l,u,i[1],i[3]),a(l,u,i[2],i[3])]);break;case 8:T.push([a(l,u,i[3],i[1]),a(l,u,i[3],i[0]),a(l,u,i[3],i[2])]);break;case 9:T.push([a(l,u,i[3],i[1]),a(l,u,i[0],i[1]),a(l,u,i[0],i[2])],[a(l,u,i[3],i[2]),a(l,u,i[3],i[1]),a(l,u,i[0],i[2])]);break;case 10:T.push([a(l,u,i[1],i[0]),a(l,u,i[3],i[0]),a(l,u,i[1],i[2])],[a(l,u,i[3],i[0]),a(l,u,i[3],i[2]),a(l,u,i[1],i[2])]);break;case 11:T.push([a(l,u,i[1],i[2]),a(l,u,i[0],i[2]),a(l,u,i[3],i[2])]);break;case 12:T.push([a(l,u,i[3],i[0]),a(l,u,i[2],i[0]),a(l,u,i[2],i[1])],[a(l,u,i[3],i[1]),a(l,u,i[3],i[0]),a(l,u,i[2],i[1])]);break;case 13:T.push([a(l,u,i[0],i[1]),a(l,u,i[2],i[1]),a(l,u,i[3],i[1])]);break;case 14:T.push([a(l,u,i[2],i[0]),a(l,u,i[1],i[0]),a(l,u,i[3],i[0])]);break}}else if(d===3){var x=(y[i[0]]<<0)+(y[i[1]]<<1)+(y[i[2]]<<2);if(x===0||x===7)continue;switch(x){case 0:break;case 1:T.push([a(l,u,i[0],i[2]),a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0]),a(l,u,i[1],i[2])]);break;case 3:T.push([a(l,u,i[0],i[2]),a(l,u,i[1],i[2])]);break;case 4:T.push([a(l,u,i[2],i[1]),a(l,u,i[2],i[0])]);break;case 5:T.push([a(l,u,i[2],i[1]),a(l,u,i[0],i[1])]);break;case 6:T.push([a(l,u,i[1],i[0]),a(l,u,i[2],i[0])]);break}}else if(d===2){var x=(y[i[0]]<<0)+(y[i[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:break;case 1:T.push([a(l,u,i[0],i[1])]);break;case 2:T.push([a(l,u,i[1],i[0])]);break}}}return T}return n}];function r(t){return g[t]()}},6803:function(v,g,r){r(8828),r(1755);function t(a,n){var f=a.length,u=a.length-n.length,l=Math.min;if(u)return u;switch(f){case 0:return 0;case 1:return a[0]-n[0];case 2:var i=a[0]+a[1]-n[0]-n[1];return i||l(a[0],a[1])-l(n[0],n[1]);case 3:var y=a[0]+a[1],h=n[0]+n[1];if(i=y+a[2]-(h+n[2]),i)return i;var T=l(a[0],a[1]),c=l(n[0],n[1]),i=l(T,a[2])-l(c,n[2]);return i||l(T+a[2],y)-l(c+n[2],h);default:var d=a.slice(0);d.sort();var x=n.slice(0);x.sort();for(var w=0;w<f;++w)if(u=d[w]-x[w],u)return u;return 0}}g.Fw=t},3105:function(v,g){"use restrict";var r=32;g.INT_BITS=r,g.INT_MAX=2147483647,g.INT_MIN=-1<<r-1,g.sign=function(n){return(n>0)-(n<0)},g.abs=function(n){var f=n>>r-1;return(n^f)-f},g.min=function(n,f){return f^(n^f)&-(n<f)},g.max=function(n,f){return n^(n^f)&-(n<f)},g.isPow2=function(n){return!(n&n-1)&&!!n},g.log2=function(n){var f,u;return f=(n>65535)<<4,n>>>=f,u=(n>255)<<3,n>>>=u,f|=u,u=(n>15)<<2,n>>>=u,f|=u,u=(n>3)<<1,n>>>=u,f|=u,f|n>>1},g.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},g.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function t(n){var f=32;return n&=-n,n&&f--,n&65535&&(f-=16),n&16711935&&(f-=8),n&252645135&&(f-=4),n&858993459&&(f-=2),n&1431655765&&(f-=1),f}g.countTrailingZeros=t,g.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},g.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},g.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var a=new Array(256);(function(n){for(var f=0;f<256;++f){var u=f,l=f,y=7;for(u>>>=1;u;u>>>=1)l<<=1,l|=u&1,--y;n[f]=l<<y&255}})(a),g.reverse=function(n){return a[n&255]<<24|a[n>>>8&255]<<16|a[n>>>16&255]<<8|a[n>>>24&255]},g.interleave2=function(n,f){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,f&=65535,f=(f|f<<8)&16711935,f=(f|f<<4)&252645135,f=(f|f<<2)&858993459,f=(f|f<<1)&1431655765,n|f<<1},g.deinterleave2=function(n,f){return n=n>>>f&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},g.interleave3=function(n,f,u){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|=f<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,n|u<<2},g.deinterleave3=function(n,f){return n=n>>>f&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},g.nextCombination=function(n){var f=n|n-1;return f+1|(~f&-~f)-1>>>t(n)+1}},2014:function(v,g,r){"use restrict";var t=r(3105),a=r(4623);function n(s){for(var M=0,b=Math.max,N=0,k=s.length;N<k;++N)M=b(M,s[N].length);return M-1}g.dimension=n;function f(s){for(var M=-1,b=Math.max,N=0,k=s.length;N<k;++N)for(var H=s[N],F=0,B=H.length;F<B;++F)M=b(M,H[F]);return M+1}g.countVertices=f;function u(s){for(var M=new Array(s.length),b=0,N=s.length;b<N;++b)M[b]=s[b].slice(0);return M}g.cloneCells=u;function l(s,M){var b=s.length,N=s.length-M.length,k=Math.min;if(N)return N;switch(b){case 0:return 0;case 1:return s[0]-M[0];case 2:var z=s[0]+s[1]-M[0]-M[1];return z||k(s[0],s[1])-k(M[0],M[1]);case 3:var H=s[0]+s[1],F=M[0]+M[1];if(z=H+s[2]-(F+M[2]),z)return z;var B=k(s[0],s[1]),U=k(M[0],M[1]),z=k(B,s[2])-k(U,M[2]);return z||k(B+s[2],H)-k(U+M[2],F);default:var W=s.slice(0);W.sort();var j=M.slice(0);j.sort();for(var ee=0;ee<b;++ee)if(N=W[ee]-j[ee],N)return N;return 0}}g.compareCells=l;function y(s,M){return l(s[0],M[0])}function h(s,M){if(M){for(var b=s.length,N=new Array(b),k=0;k<b;++k)N[k]=[s[k],M[k]];N.sort(y);for(var k=0;k<b;++k)s[k]=N[k][0],M[k]=N[k][1];return s}else return s.sort(l),s}g.normalize=h;function T(s){if(s.length===0)return[];for(var M=1,b=s.length,N=1;N<b;++N){var k=s[N];if(l(k,s[N-1])){if(N===M){M++;continue}s[M++]=k}}return s.length=M,s}g.unique=T;function c(s,M){for(var b=0,N=s.length-1,k=-1;b<=N;){var H=b+N>>1,F=l(s[H],M);F<=0?(F===0&&(k=H),b=H+1):F>0&&(N=H-1)}return k}g.findCell=c;function i(s,M){for(var b=new Array(s.length),N=0,k=b.length;N<k;++N)b[N]=[];for(var H=[],N=0,F=M.length;N<F;++N)for(var B=M[N],U=B.length,z=1,W=1<<U;z<W;++z){H.length=t.popCount(z);for(var j=0,ee=0;ee<U;++ee)z&1<<ee&&(H[j++]=B[ee]);var ie=c(s,H);if(!(ie<0))for(;b[ie++].push(N),!(ie>=s.length||l(s[ie],H)!==0););}return b}g.incidence=i;function d(s,M){if(!M)return i(T(w(s,0)),s);for(var b=new Array(M),N=0;N<M;++N)b[N]=[];for(var N=0,k=s.length;N<k;++N)for(var H=s[N],F=0,B=H.length;F<B;++F)b[H[F]].push(N);return b}g.dual=d;function x(s){for(var M=[],b=0,N=s.length;b<N;++b)for(var k=s[b],H=k.length|0,F=1,B=1<<H;F<B;++F){for(var U=[],z=0;z<H;++z)F>>>z&1&&U.push(k[z]);M.push(U)}return h(M)}g.explode=x;function w(s,M){if(M<0)return[];for(var b=[],N=(1<<M+1)-1,k=0;k<s.length;++k)for(var H=s[k],F=N;F<1<<H.length;F=t.nextCombination(F)){for(var B=new Array(M+1),U=0,z=0;z<H.length;++z)F&1<<z&&(B[U++]=H[z]);b.push(B)}return h(b)}g.skeleton=w;function _(s){for(var M=[],b=0,N=s.length;b<N;++b)for(var k=s[b],H=0,F=k.length;H<F;++H){for(var B=new Array(k.length-1),U=0,z=0;U<F;++U)U!==H&&(B[z++]=k[U]);M.push(B)}return h(M)}g.boundary=_;function m(s,M){for(var b=new a(M),N=0;N<s.length;++N)for(var k=s[N],H=0;H<k.length;++H)for(var F=H+1;F<k.length;++F)b.link(k[H],k[F]);for(var B=[],U=b.ranks,N=0;N<U.length;++N)U[N]=-1;for(var N=0;N<s.length;++N){var z=b.find(s[N][0]);U[z]<0?(U[z]=B.length,B.push([s[N].slice(0)])):B[U[z]].push(s[N].slice(0))}return B}function E(s){for(var M=T(h(w(s,0))),b=new a(M.length),N=0;N<s.length;++N)for(var k=s[N],H=0;H<k.length;++H)for(var F=c(M,[k[H]]),B=H+1;B<k.length;++B)b.link(F,c(M,[k[B]]));for(var U=[],z=b.ranks,N=0;N<z.length;++N)z[N]=-1;for(var N=0;N<s.length;++N){var W=b.find(c(M,[s[N][0]]));z[W]<0?(z[W]=U.length,U.push([s[N].slice(0)])):U[z[W]].push(s[N].slice(0))}return U}function A(s,M){return M?m(s,M):E(s)}g.connectedComponents=A},4623:function(v){"use restrict";v.exports=g;function g(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}g.prototype.length=function(){return this.roots.length},g.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},g.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var a=t[r];t[r]=t[a],r=a}return r},g.prototype.link=function(r,t){var a=this.find(r),n=this.find(t);if(a!==n){var f=this.ranks,u=this.roots,l=f[a],y=f[n];l<y?u[a]=n:y<l?u[n]=a:(u[n]=a,++f[a])}}},5878:function(v,g,r){v.exports=f;var t=r(3250),a=r(2014);function n(u,l,y){var h=Math.abs(t(u,l,y)),T=Math.sqrt(Math.pow(l[0]-y[0],2)+Math.pow(l[1]-y[1],2));return h/T}function f(u,l,y){for(var h=l.length,T=u.length,c=new Array(h),i=new Array(h),d=new Array(h),x=new Array(h),w=0;w<h;++w)c[w]=i[w]=-1,d[w]=1/0,x[w]=!1;for(var w=0;w<T;++w){var _=u[w];if(_.length!==2)throw new Error("Input must be a graph");var m=_[1],E=_[0];i[E]!==-1?i[E]=-2:i[E]=m,c[m]!==-1?c[m]=-2:c[m]=E}function A(ne){if(x[ne])return 1/0;var q=c[ne],le=i[ne];return q<0||le<0?1/0:n(l[ne],l[q],l[le])}function s(ne,q){var le=U[ne],Q=U[q];U[ne]=Q,U[q]=le,z[le]=q,z[Q]=ne}function M(ne){return d[U[ne]]}function b(ne){return ne&1?ne-1>>1:(ne>>1)-1}function N(ne){for(var q=M(ne);;){var le=q,Q=2*ne+1,te=2*(ne+1),ue=ne;if(Q<j){var J=M(Q);J<le&&(ue=Q,le=J)}if(te<j){var K=M(te);K<le&&(ue=te)}if(ue===ne)return ne;s(ne,ue),ne=ue}}function k(ne){for(var q=M(ne);ne>0;){var le=b(ne);if(le>=0){var Q=M(le);if(q<Q){s(ne,le),ne=le;continue}}return ne}}function H(){if(j>0){var ne=U[0];return s(0,j-1),j-=1,N(0),ne}return-1}function F(ne,q){var le=U[ne];return d[le]===q?ne:(d[le]=-1/0,k(ne),H(),d[le]=q,j+=1,k(j-1))}function B(ne){if(!x[ne]){x[ne]=!0;var q=c[ne],le=i[ne];c[le]>=0&&(c[le]=q),i[q]>=0&&(i[q]=le),z[q]>=0&&F(z[q],A(q)),z[le]>=0&&F(z[le],A(le))}}for(var U=[],z=new Array(h),w=0;w<h;++w){var W=d[w]=A(w);W<1/0?(z[w]=U.length,U.push(w)):z[w]=-1}for(var j=U.length,w=j>>1;w>=0;--w)N(w);for(;;){var ee=H();if(ee<0||d[ee]>y)break;B(ee)}for(var ie=[],w=0;w<h;++w)x[w]||(z[w]=ie.length,ie.push(l[w].slice()));ie.length;function oe(ne,q){if(ne[q]<0)return q;var le=q,Q=q;do{var te=ne[Q];if(!x[Q]||te<0||te===Q||(Q=te,te=ne[Q],!x[Q]||te<0||te===Q))break;Q=te,le=ne[le]}while(le!==Q);for(var ue=q;ue!==Q;ue=ne[ue])ne[ue]=Q;return Q}var he=[];return u.forEach(function(ne){var q=oe(c,ne[0]),le=oe(i,ne[1]);if(q>=0&&le>=0&&q!==le){var Q=z[q],te=z[le];Q!==te&&he.push([Q,te])}}),a.unique(a.normalize(he)),{positions:ie,edges:he}}},1303:function(v,g,r){v.exports=n;var t=r(3250);function a(f,u){var l,y;if(u[0][0]<u[1][0])l=u[0],y=u[1];else if(u[0][0]>u[1][0])l=u[1],y=u[0];else{var h=Math.min(f[0][1],f[1][1]),T=Math.max(f[0][1],f[1][1]),c=Math.min(u[0][1],u[1][1]),i=Math.max(u[0][1],u[1][1]);return T<c?T-c:h>i?h-i:T-i}var d,x;f[0][1]<f[1][1]?(d=f[0],x=f[1]):(d=f[1],x=f[0]);var w=t(y,l,d);return w||(w=t(y,l,x),w)?w:x-y}function n(f,u){var l,y;if(u[0][0]<u[1][0])l=u[0],y=u[1];else if(u[0][0]>u[1][0])l=u[1],y=u[0];else return a(u,f);var h,T;if(f[0][0]<f[1][0])h=f[0],T=f[1];else if(f[0][0]>f[1][0])h=f[1],T=f[0];else return-a(f,u);var c=t(l,y,T),i=t(l,y,h);if(c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;if(c=t(T,h,y),i=t(T,h,l),c<0){if(i<=0)return c}else if(c>0){if(i>=0)return c}else if(i)return i;return y[0]-T[0]}},4209:function(v,g,r){v.exports=i;var t=r(2478),a=r(3840),n=r(3250),f=r(1303);function u(d,x,w){this.slabs=d,this.coordinates=x,this.horizontal=w}var l=u.prototype;function y(d,x){return d.y-x}function h(d,x){for(var w=null;d;){var _=d.key,m,E;_[0][0]<_[1][0]?(m=_[0],E=_[1]):(m=_[1],E=_[0]);var A=n(m,E,x);if(A<0)d=d.left;else if(A>0)if(x[0]!==_[1][0])w=d,d=d.right;else{var s=h(d.right,x);if(s)return s;d=d.left}else{if(x[0]!==_[1][0])return d;var s=h(d.right,x);if(s)return s;d=d.left}}return w}l.castUp=function(d){var x=t.le(this.coordinates,d[0]);if(x<0)return-1;this.slabs[x];var w=h(this.slabs[x],d),_=-1;if(w&&(_=w.value),this.coordinates[x]===d[0]){var m=null;if(w&&(m=w.key),x>0){var E=h(this.slabs[x-1],d);E&&(m?f(E.key,m)>0&&(m=E.key,_=E.value):(_=E.value,m=E.key))}var A=this.horizontal[x];if(A.length>0){var s=t.ge(A,d[1],y);if(s<A.length){var M=A[s];if(d[1]===M.y){if(M.closed)return M.index;for(;s<A.length-1&&A[s+1].y===d[1];)if(s=s+1,M=A[s],M.closed)return M.index;if(M.y===d[1]&&!M.start){if(s=s+1,s>=A.length)return _;M=A[s]}}if(M.start)if(m){var b=n(m[0],m[1],[d[0],M.y]);m[0][0]>m[1][0]&&(b=-b),b>0&&(_=M.index)}else _=M.index;else M.y!==d[1]&&(_=M.index)}}}return _};function T(d,x,w,_){this.y=d,this.index=x,this.start=w,this.closed=_}function c(d,x,w,_){this.x=d,this.segment=x,this.create=w,this.index=_}function i(d){for(var x=d.length,w=2*x,_=new Array(w),m=0;m<x;++m){var E=d[m],A=E[0][0]<E[1][0];_[2*m]=new c(E[0][0],E,A,m),_[2*m+1]=new c(E[1][0],E,!A,m)}_.sort(function(B,U){var z=B.x-U.x;return z||(z=B.create-U.create,z)?z:Math.min(B.segment[0][1],B.segment[1][1])-Math.min(U.segment[0][1],U.segment[1][1])});for(var s=a(f),M=[],b=[],N=[],m=0;m<w;){for(var k=_[m].x,H=[];m<w;){var F=_[m];if(F.x!==k)break;m+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(H.push(new T(F.segment[0][1],F.index,!0,!0)),H.push(new T(F.segment[1][1],F.index,!1,!1))):(H.push(new T(F.segment[1][1],F.index,!0,!1)),H.push(new T(F.segment[0][1],F.index,!1,!0)))):F.create?s=s.insert(F.segment,F.index):s=s.remove(F.segment)}M.push(s.root),b.push(k),N.push(H)}return new u(M,b,N)}},5202:function(v,g,r){var t=r(1944),a=r(8210);v.exports=u,v.exports.positive=l,v.exports.negative=y;function n(h,T){var c=a(t(h,T),[T[T.length-1]]);return c[c.length-1]}function f(h,T,c,i){var d=i-T,x=-T/d;x<0?x=0:x>1&&(x=1);for(var w=1-x,_=h.length,m=new Array(_),E=0;E<_;++E)m[E]=x*h[E]+w*c[E];return m}function u(h,T){for(var c=[],i=[],d=n(h[h.length-1],T),x=h[h.length-1],w=h[0],_=0;_<h.length;++_,x=w){w=h[_];var m=n(w,T);if(d<0&&m>0||d>0&&m<0){var E=f(x,m,w,d);c.push(E),i.push(E.slice())}m<0?i.push(w.slice()):m>0?c.push(w.slice()):(c.push(w.slice()),i.push(w.slice())),d=m}return{positive:c,negative:i}}function l(h,T){for(var c=[],i=n(h[h.length-1],T),d=h[h.length-1],x=h[0],w=0;w<h.length;++w,d=x){x=h[w];var _=n(x,T);(i<0&&_>0||i>0&&_<0)&&c.push(f(d,_,x,i)),_>=0&&c.push(x.slice()),i=_}return c}function y(h,T){for(var c=[],i=n(h[h.length-1],T),d=h[h.length-1],x=h[0],w=0;w<h.length;++w,d=x){x=h[w];var _=n(x,T);(i<0&&_>0||i>0&&_<0)&&c.push(f(d,_,x,i)),_<=0&&c.push(x.slice()),i=_}return c}},3387:function(v,g,r){var t;(function(){var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return u(y(h),arguments)}function f(h,T){return n.apply(null,[h].concat(T||[]))}function u(h,T){var c=1,i=h.length,d,x="",w,_,m,E,A,s,M,b;for(w=0;w<i;w++)if(typeof h[w]=="string")x+=h[w];else if(typeof h[w]=="object"){if(m=h[w],m.keys)for(d=T[c],_=0;_<m.keys.length;_++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[_],m.keys[_-1]));d=d[m.keys[_]]}else m.param_no?d=T[m.param_no]:d=T[c++];if(a.not_type.test(m.type)&&a.not_primitive.test(m.type)&&d instanceof Function&&(d=d()),a.numeric_arg.test(m.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(a.number.test(m.type)&&(M=d>=0),m.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,m.width?parseInt(m.width):0);break;case"e":d=m.precision?parseFloat(d).toExponential(m.precision):parseFloat(d).toExponential();break;case"f":d=m.precision?parseFloat(d).toFixed(m.precision):parseFloat(d);break;case"g":d=m.precision?String(Number(d.toPrecision(m.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=m.precision?d.substring(0,m.precision):d;break;case"t":d=String(!!d),d=m.precision?d.substring(0,m.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=m.precision?d.substring(0,m.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=m.precision?d.substring(0,m.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}a.json.test(m.type)?x+=d:(a.number.test(m.type)&&(!M||m.sign)?(b=M?"+":"-",d=d.toString().replace(a.sign,"")):b="",A=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",s=m.width-(b+d).length,E=m.width&&s>0?A.repeat(s):"",x+=m.align?b+d+E:A==="0"?b+E+d:E+b+d)}return x}var l=Object.create(null);function y(h){if(l[h])return l[h];for(var T=h,c,i=[],d=0;T;){if((c=a.text.exec(T))!==null)i.push(c[0]);else if((c=a.modulo.exec(T))!==null)i.push("%");else if((c=a.placeholder.exec(T))!==null){if(c[2]){d|=1;var x=[],w=c[2],_=[];if((_=a.key.exec(w))!==null)for(x.push(_[1]);(w=w.substring(_[0].length))!=="";)if((_=a.key_access.exec(w))!==null)x.push(_[1]);else if((_=a.index_access.exec(w))!==null)x.push(_[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=x}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");T=T.substring(c[0].length)}return l[h]=i}g.sprintf=n,g.vsprintf=f,typeof window<"u"&&(window.sprintf=n,window.vsprintf=f,t=(function(){return{sprintf:n,vsprintf:f}}).call(g,r,g,v),t!==void 0&&(v.exports=t))})()},3711:function(v,g,r){v.exports=y;var t=r(2640),a=r(781),n={"2d":function(h,T,c){var i=h({order:T,scalarArguments:3,getters:c==="generic"?[0]:void 0,phase:function(x,w,_,m){return x>m|0},vertex:function(x,w,_,m,E,A,s,M,b,N,k,H,F){var B=(s<<0)+(M<<1)+(b<<2)+(N<<3)|0;if(!(B===0||B===15))switch(B){case 0:k.push([x-.5,w-.5]);break;case 1:k.push([x-.25-.25*(m+_-2*F)/(_-m),w-.25-.25*(E+_-2*F)/(_-E)]);break;case 2:k.push([x-.75-.25*(-m-_+2*F)/(m-_),w-.25-.25*(A+m-2*F)/(m-A)]);break;case 3:k.push([x-.5,w-.5-.5*(E+_+A+m-4*F)/(_-E+m-A)]);break;case 4:k.push([x-.25-.25*(A+E-2*F)/(E-A),w-.75-.25*(-E-_+2*F)/(E-_)]);break;case 5:k.push([x-.5-.5*(m+_+A+E-4*F)/(_-m+E-A),w-.5]);break;case 6:k.push([x-.5-.25*(-m-_+A+E)/(m-_+E-A),w-.5-.25*(-E-_+A+m)/(E-_+m-A)]);break;case 7:k.push([x-.75-.25*(A+E-2*F)/(E-A),w-.75-.25*(A+m-2*F)/(m-A)]);break;case 8:k.push([x-.75-.25*(-A-E+2*F)/(A-E),w-.75-.25*(-A-m+2*F)/(A-m)]);break;case 9:k.push([x-.5-.25*(m+_+-A-E)/(_-m+A-E),w-.5-.25*(E+_+-A-m)/(_-E+A-m)]);break;case 10:k.push([x-.5-.5*(-m-_+-A-E+4*F)/(m-_+A-E),w-.5]);break;case 11:k.push([x-.25-.25*(-A-E+2*F)/(A-E),w-.75-.25*(E+_-2*F)/(_-E)]);break;case 12:k.push([x-.5,w-.5-.5*(-E-_+-A-m+4*F)/(E-_+A-m)]);break;case 13:k.push([x-.75-.25*(m+_-2*F)/(_-m),w-.25-.25*(-A-m+2*F)/(A-m)]);break;case 14:k.push([x-.25-.25*(-m-_+2*F)/(m-_),w-.25-.25*(-E-_+2*F)/(E-_)]);break;case 15:k.push([x-.5,w-.5]);break}},cell:function(x,w,_,m,E,A,s,M,b){E?M.push([x,w]):M.push([w,x])}});return function(d,x){var w=[],_=[];return i(d,w,_,x),{positions:w,cells:_}}}};function f(h,T){var c=h.length+"d",i=n[c];if(i)return i(t,h,T)}function u(h,T){for(var c=a(h,T),i=c.length,d=new Array(i),x=new Array(i),w=0;w<i;++w)d[w]=[c[w]],x[w]=[w];return{positions:d,cells:x}}var l={};function y(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return u(h,d);var c=h.order.join()+"-"+h.dtype,i=l[c],d=+d||0;return i||(i=l[c]=f(h.order,h.dtype)),i(h,d)}},529:function(v,g,r){v.exports=u;var t=r(4359),a=window||p.global||{},n=a.__TEXT_CACHE||{};a.__TEXT_CACHE={};function f(l){for(var y=l.cells,h=l.positions,T=new Float32Array(y.length*6),c=0,i=0,d=0;d<y.length;++d)for(var x=y[d],w=0;w<3;++w){var _=h[x[w]];T[c++]=_[0],T[c++]=_[1]+1.4,i=Math.max(_[0],i)}return{data:T,shape:i}}function u(l,y,T){var T=T||{},c=T.fontStyle||"normal",i=T.fontWeight||"normal",d=T.fontVariant||"normal",x=[c,i,d,l].join("_"),w=n[x];w||(w=n[x]={" ":{data:new Float32Array(0),shape:.2}});var _=w[y];if(!_)if(y.length<=1||!/\d/.test(y))_=w[y]=f(t(y,{triangles:!0,font:l,fontStyle:c,fontWeight:i,fontVariant:d,textAlign:T.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var m=y.split(/(\d|\s)/),E=new Array(m.length),A=0,s=0,M=0;M<m.length;++M)E[M]=u(l,m[M]),A+=E[M].data.length,s+=E[M].shape,M>0&&(s+=.02);for(var b=new Float32Array(A),N=0,k=-.5*s,M=0;M<E.length;++M){for(var H=E[M].data,F=0;F<H.length;F+=2)b[N++]=H[F]+k,b[N++]=H[F+1];k+=E[M].shape+.02}_=w[y]={data:b,shape:s}}return _}},665:function(v,g,r){var t=r(3202);v.exports=u;var a=96;function n(l,y){var h=t(getComputedStyle(l).getPropertyValue(y));return h[0]*u(h[1],l)}function f(l,y){var h=document.createElement("div");h.style["font-size"]="128"+l,y.appendChild(h);var T=n(h,"font-size")/128;return y.removeChild(h),T}function u(l,y){switch(y=y||document.body,l=(l||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),l){case"%":return y.clientHeight/100;case"ch":case"ex":return f(l,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}},7261:function(v,g,r){v.exports=x;var t=r(9215),a=r(7608),n=r(6079),f=r(5911),u=r(3536),l=r(244);function y(w,_,m){return Math.sqrt(Math.pow(w,2)+Math.pow(_,2)+Math.pow(m,2))}function h(w){return Math.min(1,Math.max(-1,w))}function T(w){var _=Math.abs(w[0]),m=Math.abs(w[1]),E=Math.abs(w[2]),A=[0,0,0];_>Math.max(m,E)?A[2]=1:m>Math.max(_,E)?A[0]=1:A[1]=1;for(var s=0,M=0,b=0;b<3;++b)s+=w[b]*w[b],M+=A[b]*w[b];for(var b=0;b<3;++b)A[b]-=M/s*w[b];return u(A,A),A}function c(w,_,m,E,A,s,M,b){this.center=t(m),this.up=t(E),this.right=t(A),this.radius=t([s]),this.angle=t([M,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(w,_),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var N=0;N<16;++N)this.computedMatrix[N]=.5;this.recalcMatrix(0)}var i=c.prototype;i.setDistanceLimits=function(w,_){w>0?w=Math.log(w):w=-1/0,_>0?_=Math.log(_):_=1/0,_=Math.max(_,w),this.radius.bounds[0][0]=w,this.radius.bounds[1][0]=_},i.getDistanceLimits=function(w){var _=this.radius.bounds[0];return w?(w[0]=Math.exp(_[0][0]),w[1]=Math.exp(_[1][0]),w):[Math.exp(_[0][0]),Math.exp(_[1][0])]},i.recalcMatrix=function(w){this.center.curve(w),this.up.curve(w),this.right.curve(w),this.radius.curve(w),this.angle.curve(w);for(var _=this.computedUp,m=this.computedRight,E=0,A=0,s=0;s<3;++s)A+=_[s]*m[s],E+=_[s]*_[s];for(var M=Math.sqrt(E),b=0,s=0;s<3;++s)m[s]-=_[s]*A/E,b+=m[s]*m[s],_[s]/=M;for(var N=Math.sqrt(b),s=0;s<3;++s)m[s]/=N;var k=this.computedToward;f(k,_,m),u(k,k);for(var H=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],B=this.computedAngle[1],U=Math.cos(F),z=Math.sin(F),W=Math.cos(B),j=Math.sin(B),ee=this.computedCenter,ie=U*W,oe=z*W,he=j,ne=-U*j,q=-z*j,le=W,Q=this.computedEye,te=this.computedMatrix,s=0;s<3;++s){var ue=ie*m[s]+oe*k[s]+he*_[s];te[4*s+1]=ne*m[s]+q*k[s]+le*_[s],te[4*s+2]=ue,te[4*s+3]=0}var J=te[1],K=te[5],ce=te[9],ae=te[2],de=te[6],be=te[10],Se=K*be-ce*de,Te=ce*ae-J*be,Ie=J*de-K*ae,ke=y(Se,Te,Ie);Se/=ke,Te/=ke,Ie/=ke,te[0]=Se,te[4]=Te,te[8]=Ie;for(var s=0;s<3;++s)Q[s]=ee[s]+te[2+4*s]*H;for(var s=0;s<3;++s){for(var b=0,Be=0;Be<3;++Be)b+=te[s+4*Be]*Q[Be];te[12+s]=-b}te[15]=1},i.getMatrix=function(w,_){this.recalcMatrix(w);var m=this.computedMatrix;if(_){for(var E=0;E<16;++E)_[E]=m[E];return _}return m};var d=[0,0,0];i.rotate=function(w,_,m,E){if(this.angle.move(w,_,m),E){this.recalcMatrix(w);var A=this.computedMatrix;d[0]=A[2],d[1]=A[6],d[2]=A[10];for(var s=this.computedUp,M=this.computedRight,b=this.computedToward,N=0;N<3;++N)A[4*N]=s[N],A[4*N+1]=M[N],A[4*N+2]=b[N];n(A,A,E,d);for(var N=0;N<3;++N)s[N]=A[4*N],M[N]=A[4*N+1];this.up.set(w,s[0],s[1],s[2]),this.right.set(w,M[0],M[1],M[2])}},i.pan=function(w,_,m,E){_=_||0,m=m||0,E=E||0,this.recalcMatrix(w);var A=this.computedMatrix;Math.exp(this.computedRadius[0]);var s=A[1],M=A[5],b=A[9],N=y(s,M,b);s/=N,M/=N,b/=N;var k=A[0],H=A[4],F=A[8],B=k*s+H*M+F*b;k-=s*B,H-=M*B,F-=b*B;var U=y(k,H,F);k/=U,H/=U,F/=U;var z=k*_+s*m,W=H*_+M*m,j=F*_+b*m;this.center.move(w,z,W,j);var ee=Math.exp(this.computedRadius[0]);ee=Math.max(1e-4,ee+E),this.radius.set(w,Math.log(ee))},i.translate=function(w,_,m,E){this.center.move(w,_||0,m||0,E||0)},i.setMatrix=function(w,_,m,E){var A=1;typeof m=="number"&&(A=m|0),(A<0||A>3)&&(A=1);var s=(A+2)%3;_||(this.recalcMatrix(w),_=this.computedMatrix);var M=_[A],b=_[A+4],N=_[A+8];if(E){var H=Math.abs(M),F=Math.abs(b),B=Math.abs(N),U=Math.max(H,F,B);H===U?(M=M<0?-1:1,b=N=0):B===U?(N=N<0?-1:1,M=b=0):(b=b<0?-1:1,M=N=0)}else{var k=y(M,b,N);M/=k,b/=k,N/=k}var z=_[s],W=_[s+4],j=_[s+8],ee=z*M+W*b+j*N;z-=M*ee,W-=b*ee,j-=N*ee;var ie=y(z,W,j);z/=ie,W/=ie,j/=ie;var oe=b*j-N*W,he=N*z-M*j,ne=M*W-b*z,q=y(oe,he,ne);oe/=q,he/=q,ne/=q,this.center.jump(w,Ne,Ce,Ye),this.radius.idle(w),this.up.jump(w,M,b,N),this.right.jump(w,z,W,j);var le,Q;if(A===2){var te=_[1],ue=_[5],J=_[9],K=te*z+ue*W+J*j,ce=te*oe+ue*he+J*ne;Se<0?le=-Math.PI/2:le=Math.PI/2,Q=Math.atan2(ce,K)}else{var ae=_[2],de=_[6],be=_[10],Se=ae*M+de*b+be*N,Te=ae*z+de*W+be*j,Ie=ae*oe+de*he+be*ne;le=Math.asin(h(Se)),Q=Math.atan2(Ie,Te)}this.angle.jump(w,Q,le),this.recalcMatrix(w);var ke=_[2],Be=_[6],Me=_[10],Oe=this.computedMatrix;a(Oe,_);var _e=Oe[15],Ne=Oe[12]/_e,Ce=Oe[13]/_e,Ye=Oe[14]/_e,rt=Math.exp(this.computedRadius[0]);this.center.jump(w,Ne-ke*rt,Ce-Be*rt,Ye-Me*rt)},i.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},i.idle=function(w){this.center.idle(w),this.up.idle(w),this.right.idle(w),this.radius.idle(w),this.angle.idle(w)},i.flush=function(w){this.center.flush(w),this.up.flush(w),this.right.flush(w),this.radius.flush(w),this.angle.flush(w)},i.setDistance=function(w,_){_>0&&this.radius.set(w,Math.log(_))},i.lookAt=function(w,_,m,E){this.recalcMatrix(w),_=_||this.computedEye,m=m||this.computedCenter,E=E||this.computedUp;var A=E[0],s=E[1],M=E[2],b=y(A,s,M);if(!(b<1e-6)){A/=b,s/=b,M/=b;var N=_[0]-m[0],k=_[1]-m[1],H=_[2]-m[2],F=y(N,k,H);if(!(F<1e-6)){N/=F,k/=F,H/=F;var B=this.computedRight,U=B[0],z=B[1],W=B[2],j=A*U+s*z+M*W;U-=j*A,z-=j*s,W-=j*M;var ee=y(U,z,W);if(!(ee<.01&&(U=s*H-M*k,z=M*N-A*H,W=A*k-s*N,ee=y(U,z,W),ee<1e-6))){U/=ee,z/=ee,W/=ee,this.up.set(w,A,s,M),this.right.set(w,U,z,W),this.center.set(w,m[0],m[1],m[2]),this.radius.set(w,Math.log(F));var ie=s*W-M*z,oe=M*U-A*W,he=A*z-s*U,ne=y(ie,oe,he);ie/=ne,oe/=ne,he/=ne;var q=A*N+s*k+M*H,le=U*N+z*k+W*H,Q=ie*N+oe*k+he*H,te=Math.asin(h(q)),ue=Math.atan2(Q,le),J=this.angle._state,K=J[J.length-1],ce=J[J.length-2];K=K%(2*Math.PI);var ae=Math.abs(K+2*Math.PI-ue),de=Math.abs(K-ue),be=Math.abs(K-2*Math.PI-ue);ae<de&&(K+=2*Math.PI),be<de&&(K-=2*Math.PI),this.angle.jump(this.angle.lastT(),K,ce),this.angle.set(w,ue,te)}}}};function x(w){w=w||{};var _=w.center||[0,0,0],m=w.up||[0,1,0],E=w.right||T(m),A=w.radius||1,s=w.theta||0,M=w.phi||0;if(_=[].slice.call(_,0,3),m=[].slice.call(m,0,3),u(m,m),E=[].slice.call(E,0,3),u(E,E),"eye"in w){var b=w.eye,N=[b[0]-_[0],b[1]-_[1],b[2]-_[2]];f(E,N,m),y(E[0],E[1],E[2])<1e-6?E=T(m):u(E,E),A=y(N[0],N[1],N[2]);var k=l(m,N)/A,H=l(E,N)/A;M=Math.acos(k),s=Math.acos(H)}return A=Math.log(A),new c(w.zoomMin,w.zoomMax,_,m,E,A,s,M)}},5250:function(v){v.exports=r;var g=+(Math.pow(2,27)+1);function r(t,a,n){var f=t*a,u=g*t,l=u-t,y=u-l,h=t-y,T=g*a,c=T-a,i=T-c,d=a-i,x=f-y*i,w=x-h*i,_=w-y*d,m=h*d-_;return n?(n[0]=m,n[1]=f,n):[m,f]}},9362:function(v){v.exports=g;function g(r,t,a){var n=r+t,f=n-r,u=n-f,l=t-f,y=r-u;return a?(a[0]=y+l,a[1]=n,a):[y+l,n]}},1888:function(v,g,r){var t=r(8828),a=r(1338),n=r(4793).hp;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),BIGUINT64:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),BIGINT64:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var f=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",l=typeof BigInt64Array<"u",y=r.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=a([32,0])),y.BIGUINT64||(y.BIGUINT64=a([32,0])),y.BIGINT64||(y.BIGINT64=a([32,0])),y.BUFFER||(y.BUFFER=a([32,0]));var h=y.DATA,T=y.BUFFER;g.free=function(U){if(n.isBuffer(U))T[t.log2(U.length)].push(U);else{if(Object.prototype.toString.call(U)!=="[object ArrayBuffer]"&&(U=U.buffer),!U)return;var z=U.length||U.byteLength,W=t.log2(z)|0;h[W].push(U)}};function c(B){if(B){var U=B.length||B.byteLength,z=t.log2(U);h[z].push(B)}}function i(B){c(B.buffer)}g.freeUint8=g.freeUint16=g.freeUint32=g.freeBigUint64=g.freeInt8=g.freeInt16=g.freeInt32=g.freeBigInt64=g.freeFloat32=g.freeFloat=g.freeFloat64=g.freeDouble=g.freeUint8Clamped=g.freeDataView=i,g.freeArrayBuffer=c,g.freeBuffer=function(U){T[t.log2(U.length)].push(U)},g.malloc=function(U,z){if(z===void 0||z==="arraybuffer")return d(U);switch(z){case"uint8":return x(U);case"uint16":return w(U);case"uint32":return _(U);case"int8":return m(U);case"int16":return E(U);case"int32":return A(U);case"float":case"float32":return s(U);case"double":case"float64":return M(U);case"uint8_clamped":return b(U);case"bigint64":return k(U);case"biguint64":return N(U);case"buffer":return F(U);case"data":case"dataview":return H(U);default:return null}return null};function d(U){var U=t.nextPow2(U),z=t.log2(U),W=h[z];return W.length>0?W.pop():new ArrayBuffer(U)}g.mallocArrayBuffer=d;function x(B){return new Uint8Array(d(B),0,B)}g.mallocUint8=x;function w(B){return new Uint16Array(d(2*B),0,B)}g.mallocUint16=w;function _(B){return new Uint32Array(d(4*B),0,B)}g.mallocUint32=_;function m(B){return new Int8Array(d(B),0,B)}g.mallocInt8=m;function E(B){return new Int16Array(d(2*B),0,B)}g.mallocInt16=E;function A(B){return new Int32Array(d(4*B),0,B)}g.mallocInt32=A;function s(B){return new Float32Array(d(4*B),0,B)}g.mallocFloat32=g.mallocFloat=s;function M(B){return new Float64Array(d(8*B),0,B)}g.mallocFloat64=g.mallocDouble=M;function b(B){return f?new Uint8ClampedArray(d(B),0,B):x(B)}g.mallocUint8Clamped=b;function N(B){return u?new BigUint64Array(d(8*B),0,B):null}g.mallocBigUint64=N;function k(B){return l?new BigInt64Array(d(8*B),0,B):null}g.mallocBigInt64=k;function H(B){return new DataView(d(B),0,B)}g.mallocDataView=H;function F(B){B=t.nextPow2(B);var U=t.log2(B),z=T[U];return z.length>0?z.pop():new n(B)}g.mallocBuffer=F,g.clearCache=function(){for(var U=0;U<32;++U)y.UINT8[U].length=0,y.UINT16[U].length=0,y.UINT32[U].length=0,y.INT8[U].length=0,y.INT16[U].length=0,y.INT32[U].length=0,y.FLOAT[U].length=0,y.DOUBLE[U].length=0,y.BIGUINT64[U].length=0,y.BIGINT64[U].length=0,y.UINT8C[U].length=0,h[U].length=0,T[U].length=0}},1755:function(v){"use restrict";v.exports=g;function g(t){this.roots=new Array(t),this.ranks=new Array(t);for(var a=0;a<t;++a)this.roots[a]=a,this.ranks[a]=0}var r=g.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var a=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[a]!==t;){var f=n[a];n[a]=t,a=f}return t},r.link=function(t,a){var n=this.find(t),f=this.find(a);if(n!==f){var u=this.ranks,l=this.roots,y=u[n],h=u[f];y<h?l[n]=f:h<y?l[f]=n:(l[f]=n,++u[n])}}},1682:function(v){function g(a,n){for(var f=1,u=a.length,l=a[0],y=a[0],h=1;h<u;++h)if(y=l,l=a[h],n(l,y)){if(h===f){f++;continue}a[f++]=l}return a.length=f,a}function r(a){for(var n=1,f=a.length,u=a[0],l=a[0],y=1;y<f;++y,l=u)if(l=u,u=a[y],u!==l){if(y===n){n++;continue}a[n++]=u}return a.length=n,a}function t(a,n,f){return a.length===0?a:n?(f||a.sort(n),g(a,n)):(f||a.sort(),r(a))}v.exports=t},4359:function(v,g,r){v.exports=f;var t=r(7718),a=null,n=null;typeof document<"u"&&(a=document.createElement("canvas"),a.width=8192,a.height=1024,n=a.getContext("2d"));function f(u,l){return(typeof l!="object"||l===null)&&(l={}),t(u,l.canvas||a,l.context||n,l)}},7718:function(v,g,r){v.exports=k,v.exports.processPixels=N;var t=r(3711),a=r(9618),n=r(5878),f=r(332),u=r(2538),l=r(2095),y="b",h="b|",T="i",c="i|",i="sup",d="+",x="+1",w="sub",_="-",m="-1";function E(H,F,B,U){for(var z="<"+H+">",W="</"+H+">",j=z.length,ee=W.length,ie=F[0]===d||F[0]===_,oe=0,he=-ee;oe>-1&&(oe=B.indexOf(z,oe),!(oe===-1||(he=B.indexOf(W,oe+j),he===-1)||he<=oe));){for(var ne=oe;ne<he+ee;++ne)if(ne<oe+j||ne>=he)U[ne]=null,B=B.substr(0,ne)+" "+B.substr(ne+1);else if(U[ne]!==null){var q=U[ne].indexOf(F[0]);q===-1?U[ne]+=F:ie&&(U[ne]=U[ne].substr(0,q+1)+(1+parseInt(U[ne][q+1]))+U[ne].substr(q+2))}var le=oe+j,Q=B.substr(le,he-le),te=Q.indexOf(z);te!==-1?oe=te:oe=he+ee}return U}function A(H,F,B){for(var U=F.textAlign||"start",z=F.textBaseline||"alphabetic",W=[1<<30,1<<30],j=[0,0],ee=H.length,ie=0;ie<ee;++ie)for(var oe=H[ie],he=0;he<2;++he)W[he]=Math.min(W[he],oe[he])|0,j[he]=Math.max(j[he],oe[he])|0;var ne=0;switch(U){case"center":ne=-.5*(W[0]+j[0]);break;case"right":case"end":ne=-j[0];break;case"left":case"start":ne=-W[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+U+"'")}var q=0;switch(z){case"hanging":case"top":q=-W[1];break;case"middle":q=-.5*(W[1]+j[1]);break;case"alphabetic":case"ideographic":q=-3*B;break;case"bottom":q=-j[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+z+"'")}var le=1/B;return"lineHeight"in F?le*=+F.lineHeight:"width"in F?le=F.width/(j[0]-W[0]):"height"in F&&(le=F.height/(j[1]-W[1])),H.map(function(Q){return[le*(Q[0]+ne),le*(Q[1]+q)]})}function s(H,F,B,U,z,W){B=B.replace(/\n/g,""),W.breaklines===!0?B=B.replace(/\<br\>/g,`
`):B=B.replace(/\<br\>/g," ");var j="",ee=[];for(K=0;K<B.length;++K)ee[K]=j;W.bolds===!0&&(ee=E(y,h,B,ee)),W.italics===!0&&(ee=E(T,c,B,ee)),W.superscripts===!0&&(ee=E(i,x,B,ee)),W.subscripts===!0&&(ee=E(w,m,B,ee));var ie=[],oe="";for(K=0;K<B.length;++K)ee[K]!==null&&(oe+=B[K],ie.push(ee[K]));var he=oe.split(`
`),ne=he.length,q=Math.round(z*U),le=U,Q=U*2,te=0,ue=ne*q+Q;H.height<ue&&(H.height=ue),F.fillStyle="#000",F.fillRect(0,0,H.width,H.height),F.fillStyle="#fff";var J,K,ce,ae,de,be=0,Se="";function Te(){if(Se!==""){var Ye=F.measureText(Se).width;F.fillText(Se,le+ce,Q+ae),ce+=Ye}}function Ie(){return""+Math.round(de)+"px "}function ke(Ye,rt){var ot=""+F.font;if(W.subscripts===!0){var $e=Ye.indexOf(_),qe=rt.indexOf(_),ht=$e>-1?parseInt(Ye[1+$e]):0,vt=qe>-1?parseInt(rt[1+qe]):0;ht!==vt&&(ot=ot.replace(Ie(),"?px "),de*=Math.pow(.75,vt-ht),ot=ot.replace("?px ",Ie())),ae+=.25*q*(vt-ht)}if(W.superscripts===!0){var pt=Ye.indexOf(d),wt=rt.indexOf(d),Mt=pt>-1?parseInt(Ye[1+pt]):0,nt=wt>-1?parseInt(rt[1+wt]):0;Mt!==nt&&(ot=ot.replace(Ie(),"?px "),de*=Math.pow(.75,nt-Mt),ot=ot.replace("?px ",Ie())),ae-=.25*q*(nt-Mt)}if(W.bolds===!0){var Fe=Ye.indexOf(h)>-1,We=rt.indexOf(h)>-1;!Fe&&We&&(Ze?ot=ot.replace("italic ","italic bold "):ot="bold "+ot),Fe&&!We&&(ot=ot.replace("bold ",""))}if(W.italics===!0){var Ze=Ye.indexOf(c)>-1,Ge=rt.indexOf(c)>-1;!Ze&&Ge&&(ot="italic "+ot),Ze&&!Ge&&(ot=ot.replace("italic ",""))}F.font=ot}for(J=0;J<ne;++J){var Be=he[J]+`
`;for(ce=0,ae=J*q,de=U,Se="",K=0;K<Be.length;++K){var Me=K+be<ie.length?ie[K+be]:ie[ie.length-1];j===Me?Se+=Be[K]:(Te(),Se=Be[K],Me!==void 0&&(ke(j,Me),j=Me))}Te(),be+=Be.length;var Oe=Math.round(ce+2*le)|0;te<Oe&&(te=Oe)}var _e=te,Ne=Q+q*ne,Ce=a(F.getImageData(0,0,_e,Ne).data,[Ne,_e,4]);return Ce.pick(-1,-1,0).transpose(1,0)}function M(H,F){var B=t(H,128);return F?n(B.cells,B.positions,.25):{edges:B.cells,positions:B.positions}}function b(H,F,B,U){var z=M(H,U),W=A(z.positions,F,B),j=z.edges,ee=F.orientation==="ccw";if(f(W,j),F.polygons||F.polygon||F.polyline){for(var ie=l(j,W),oe=new Array(ie.length),he=0;he<ie.length;++he){for(var ne=ie[he],q=new Array(ne.length),le=0;le<ne.length;++le){for(var Q=ne[le],te=new Array(Q.length),ue=0;ue<Q.length;++ue)te[ue]=W[Q[ue]].slice();ee&&te.reverse(),q[le]=te}oe[he]=q}return oe}else return F.triangles||F.triangulate||F.triangle?{cells:u(W,j,{delaunay:!1,exterior:!1,interior:!0}),positions:W}:{edges:j,positions:W}}function N(H,F,B){try{return b(H,F,B,!0)}catch{}try{return b(H,F,B,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function k(H,F,B,U){var z=64,W=1.25,j={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};U&&(U.size&&U.size>0&&(z=U.size),U.lineSpacing&&U.lineSpacing>0&&(W=U.lineSpacing),U.styletags&&U.styletags.breaklines&&(j.breaklines=!!U.styletags.breaklines),U.styletags&&U.styletags.bolds&&(j.bolds=!!U.styletags.bolds),U.styletags&&U.styletags.italics&&(j.italics=!!U.styletags.italics),U.styletags&&U.styletags.subscripts&&(j.subscripts=!!U.styletags.subscripts),U.styletags&&U.styletags.superscripts&&(j.superscripts=!!U.styletags.superscripts)),B.font=[U.fontStyle,U.fontVariant,U.fontWeight,z+"px",U.font].filter(function(ie){return ie}).join(" "),B.textAlign="start",B.textBaseline="alphabetic",B.direction="ltr";var ee=s(F,B,H,z,W,j);return N(ee,U,z)}},1538:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(M){M.permitHostObjects___&&M.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var a=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new a,f=Object.freeze({});if(n.set(f,1),n.get(f)!==1)t=!0;else{v.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,l=Object.defineProperty,y=Object.isExtensible,h="weakmap:",T=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),i=new Uint8Array(c);crypto.getRandomValues(i),T=h+"rand:"+Array.prototype.map.call(i,function(M){return(M%36).toString(36)}).join("")+"___"}function d(M){return!(M.substr(0,h.length)==h&&M.substr(M.length-3)==="___")}if(l(Object,"getOwnPropertyNames",{value:function(b){return u(b).filter(d)}}),"getPropertyNames"in Object){var x=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(b){return x(b).filter(d)}})}function w(M){if(M!==Object(M))throw new TypeError("Not an object: "+M);var b=M[T];if(b&&b.key===M)return b;if(y(M)){b={key:M};try{return l(M,T,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var M=Object.freeze;l(Object,"freeze",{value:function(H){return w(H),M(H)}});var b=Object.seal;l(Object,"seal",{value:function(H){return w(H),b(H)}});var N=Object.preventExtensions;l(Object,"preventExtensions",{value:function(H){return w(H),N(H)}})})();function _(M){return M.prototype=null,Object.freeze(M)}var m=!1;function E(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var A=0,s=function(){this instanceof s||E();var M=[],b=[],N=A++;function k(U,z){var W,j=w(U);return j?N in j?j[N]:z:(W=M.indexOf(U),W>=0?b[W]:z)}function H(U){var z=w(U);return z?N in z:M.indexOf(U)>=0}function F(U,z){var W,j=w(U);return j?j[N]=z:(W=M.indexOf(U),W>=0?b[W]=z:(W=M.length,b[W]=z,M[W]=U)),this}function B(U){var z=w(U),W,j;return z?N in z&&delete z[N]:(W=M.indexOf(U),W<0?!1:(j=M.length-1,M[W]=void 0,b[W]=b[j],M[W]=M[j],M.length=j,b.length=j,!0))}return Object.create(s.prototype,{get___:{value:_(k)},has___:{value:_(H)},set___:{value:_(F)},delete___:{value:_(B)}})};s.prototype=Object.create(Object.prototype,{get:{value:function(b,N){return this.get___(b,N)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,N){return this.set___(b,N)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof a=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function M(){this instanceof s||E();var b=new a,N=void 0,k=!1;function H(z,W){return N?b.has(z)?b.get(z):N.get___(z,W):b.get(z,W)}function F(z){return b.has(z)||(N?N.has___(z):!1)}var B;t?B=function(z,W){return b.set(z,W),b.has(z)||(N||(N=new s),N.set(z,W)),this}:B=function(z,W){if(k)try{b.set(z,W)}catch{N||(N=new s),N.set___(z,W)}else b.set(z,W);return this};function U(z){var W=!!b.delete(z);return N&&N.delete___(z)||W}return Object.create(s.prototype,{get___:{value:_(H)},has___:{value:_(F)},set___:{value:_(B)},delete___:{value:_(U)},permitHostObjects___:{value:_(function(z){if(z===r)k=!0;else throw new Error("bogus call to permitHostObjects___")})}})}M.prototype=s.prototype,v.exports=M,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=s)})()},236:function(v,g,r){var t=r(8284);v.exports=a;function a(){var n={};return function(f){if((typeof f!="object"||f===null)&&typeof f!="function")throw new Error("Weakmap-shim: Key must be object");var u=f.valueOf(n);return u&&u.identity===n?u:t(f,n)}}},8284:function(v){v.exports=g;function g(r,t){var a={identity:t},n=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(f){return f!==t?n.apply(this,arguments):a},writable:!0}),a}},606:function(v,g,r){var t=r(236);v.exports=a;function a(){var n=t();return{get:function(f,u){var l=n(f);return l.hasOwnProperty("value")?l.value:u},set:function(f,u){return n(f).value=u,this},has:function(f){return"value"in n(f)},delete:function(f){return delete n(f).value}}}},3349:function(v){function g(){return function(u,l,y,h,T,c){var i=u[0],d=y[0],x=[0],w=d;h|=0;var _=0,m=d;for(_=0;_<i;++_){{var E=l[h]-c,A=l[h+w]-c;E>=0!=A>=0&&T.push(x[0]+.5+.5*(E+A)/(E-A))}h+=m,++x[0]}}}function r(){return g()}var t=r;function a(u){var l={};return function(h,T,c){var i=h.dtype,d=h.order,x=[i,d.join()].join(),w=l[x];return w||(l[x]=w=u([i,d])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,T,c)}}function n(u){return a(t.bind(void 0,u))}function f(u){return n({funcName:u.funcName})}v.exports=f({funcName:"zeroCrossings"})},781:function(v,g,r){v.exports=a;var t=r(3349);function a(n,f){var u=[];return f=+f||0,t(n.hi(n.shape[0]-1),u,f),u}},7790:function(){}},o={};function C(v){var g=o[v];if(g!==void 0)return g.exports;var r=o[v]={id:v,loaded:!1,exports:{}};return L[v].call(r.exports,r,r.exports,C),r.loaded=!0,r.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var S=C(1964);V.exports=S})()},33576:function(V,Y,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function p(nt,Fe){if(!(nt instanceof Fe))throw new TypeError("Cannot call a class as a function")}function L(nt,Fe){for(var We=0;We<Fe.length;We++){var Ze=Fe[We];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(nt,C(Ze.key),Ze)}}function o(nt,Fe,We){return Fe&&L(nt.prototype,Fe),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function C(nt){var Fe=S(nt,"string");return f(Fe)==="symbol"?Fe:String(Fe)}function S(nt,Fe){if(f(nt)!=="object"||nt===null)return nt;var We=nt[Symbol.toPrimitive];if(We!==void 0){var Ze=We.call(nt,Fe);if(f(Ze)!=="object")return Ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(nt)}function v(nt,Fe,We){function Ze(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}return Fe=r(Fe),g(nt,Ze()?Reflect.construct(Fe,[],r(nt).constructor):Fe.apply(nt,We))}function g(nt,Fe){if(Fe&&(f(Fe)==="object"||typeof Fe=="function"))return Fe;if(Fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(nt)}function r(nt){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)},r(nt)}function t(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function a(nt,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(Fe&&Fe.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),Fe&&n(nt,Fe)}function n(nt,Fe){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ze,Ge){return Ze.__proto__=Ge,Ze},n(nt,Fe)}function f(nt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Fe){return typeof Fe}:function(Fe){return Fe&&typeof Symbol=="function"&&Fe.constructor===Symbol&&Fe!==Symbol.prototype?"symbol":typeof Fe},f(nt)}var u=e(59968),l=e(35984),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Y.Buffer=i,Y.SlowBuffer=N,Y.INSPECT_MAX_BYTES=50;var h=2147483647;Y.kMaxLength=h,i.TYPED_ARRAY_SUPPORT=T(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function T(){try{var nt=new Uint8Array(1),Fe={foo:function(){return 42}};return Object.setPrototypeOf(Fe,Uint8Array.prototype),Object.setPrototypeOf(nt,Fe),nt.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function c(nt){if(nt>h)throw new RangeError('The value "'+nt+'" is invalid for option "size"');var Fe=new Uint8Array(nt);return Object.setPrototypeOf(Fe,i.prototype),Fe}function i(nt,Fe,We){if(typeof nt=="number"){if(typeof Fe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(nt)}return d(nt,Fe,We)}i.poolSize=8192;function d(nt,Fe,We){if(typeof nt=="string")return m(nt,Fe);if(ArrayBuffer.isView(nt))return A(nt);if(nt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(nt));if(ht(nt,ArrayBuffer)||nt&&ht(nt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ht(nt,SharedArrayBuffer)||nt&&ht(nt.buffer,SharedArrayBuffer)))return s(nt,Fe,We);if(typeof nt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ze=nt.valueOf&&nt.valueOf();if(Ze!=null&&Ze!==nt)return i.from(Ze,Fe,We);var Ge=M(nt);if(Ge)return Ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof nt[Symbol.toPrimitive]=="function")return i.from(nt[Symbol.toPrimitive]("string"),Fe,We);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(nt))}i.from=function(nt,Fe,We){return d(nt,Fe,We)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function x(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be of type number');if(nt<0)throw new RangeError('The value "'+nt+'" is invalid for option "size"')}function w(nt,Fe,We){return x(nt),nt<=0?c(nt):Fe!==void 0?typeof We=="string"?c(nt).fill(Fe,We):c(nt).fill(Fe):c(nt)}i.alloc=function(nt,Fe,We){return w(nt,Fe,We)};function _(nt){return x(nt),c(nt<0?0:b(nt)|0)}i.allocUnsafe=function(nt){return _(nt)},i.allocUnsafeSlow=function(nt){return _(nt)};function m(nt,Fe){if((typeof Fe!="string"||Fe==="")&&(Fe="utf8"),!i.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);var We=k(nt,Fe)|0,Ze=c(We),Ge=Ze.write(nt,Fe);return Ge!==We&&(Ze=Ze.slice(0,Ge)),Ze}function E(nt){for(var Fe=nt.length<0?0:b(nt.length)|0,We=c(Fe),Ze=0;Ze<Fe;Ze+=1)We[Ze]=nt[Ze]&255;return We}function A(nt){if(ht(nt,Uint8Array)){var Fe=new Uint8Array(nt);return s(Fe.buffer,Fe.byteOffset,Fe.byteLength)}return E(nt)}function s(nt,Fe,We){if(Fe<0||nt.byteLength<Fe)throw new RangeError('"offset" is outside of buffer bounds');if(nt.byteLength<Fe+(We||0))throw new RangeError('"length" is outside of buffer bounds');var Ze;return Fe===void 0&&We===void 0?Ze=new Uint8Array(nt):We===void 0?Ze=new Uint8Array(nt,Fe):Ze=new Uint8Array(nt,Fe,We),Object.setPrototypeOf(Ze,i.prototype),Ze}function M(nt){if(i.isBuffer(nt)){var Fe=b(nt.length)|0,We=c(Fe);return We.length===0||nt.copy(We,0,0,Fe),We}if(nt.length!==void 0)return typeof nt.length!="number"||vt(nt.length)?c(0):E(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return E(nt.data)}function b(nt){if(nt>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return nt|0}function N(nt){return+nt!=nt&&(nt=0),i.alloc(+nt)}i.isBuffer=function(Fe){return Fe!=null&&Fe._isBuffer===!0&&Fe!==i.prototype},i.compare=function(Fe,We){if(ht(Fe,Uint8Array)&&(Fe=i.from(Fe,Fe.offset,Fe.byteLength)),ht(We,Uint8Array)&&(We=i.from(We,We.offset,We.byteLength)),!i.isBuffer(Fe)||!i.isBuffer(We))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Fe===We)return 0;for(var Ze=Fe.length,Ge=We.length,Pe=0,Re=Math.min(Ze,Ge);Pe<Re;++Pe)if(Fe[Pe]!==We[Pe]){Ze=Fe[Pe],Ge=We[Pe];break}return Ze<Ge?-1:Ge<Ze?1:0},i.isEncoding=function(Fe){switch(String(Fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(Fe,We){if(!Array.isArray(Fe))throw new TypeError('"list" argument must be an Array of Buffers');if(Fe.length===0)return i.alloc(0);var Ze;if(We===void 0)for(We=0,Ze=0;Ze<Fe.length;++Ze)We+=Fe[Ze].length;var Ge=i.allocUnsafe(We),Pe=0;for(Ze=0;Ze<Fe.length;++Ze){var Re=Fe[Ze];if(ht(Re,Uint8Array))Pe+Re.length>Ge.length?(i.isBuffer(Re)||(Re=i.from(Re)),Re.copy(Ge,Pe)):Uint8Array.prototype.set.call(Ge,Re,Pe);else if(i.isBuffer(Re))Re.copy(Ge,Pe);else throw new TypeError('"list" argument must be an Array of Buffers');Pe+=Re.length}return Ge};function k(nt,Fe){if(i.isBuffer(nt))return nt.length;if(ArrayBuffer.isView(nt)||ht(nt,ArrayBuffer))return nt.byteLength;if(typeof nt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(nt));var We=nt.length,Ze=arguments.length>2&&arguments[2]===!0;if(!Ze&&We===0)return 0;for(var Ge=!1;;)switch(Fe){case"ascii":case"latin1":case"binary":return We;case"utf8":case"utf-8":return Ye(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return We*2;case"hex":return We>>>1;case"base64":return $e(nt).length;default:if(Ge)return Ze?-1:Ye(nt).length;Fe=(""+Fe).toLowerCase(),Ge=!0}}i.byteLength=k;function H(nt,Fe,We){var Ze=!1;if((Fe===void 0||Fe<0)&&(Fe=0),Fe>this.length||((We===void 0||We>this.length)&&(We=this.length),We<=0)||(We>>>=0,Fe>>>=0,We<=Fe))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return te(this,Fe,We);case"utf8":case"utf-8":return he(this,Fe,We);case"ascii":return le(this,Fe,We);case"latin1":case"binary":return Q(this,Fe,We);case"base64":return oe(this,Fe,We);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,Fe,We);default:if(Ze)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),Ze=!0}}i.prototype._isBuffer=!0;function F(nt,Fe,We){var Ze=nt[Fe];nt[Fe]=nt[We],nt[We]=Ze}i.prototype.swap16=function(){var Fe=this.length;if(Fe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var We=0;We<Fe;We+=2)F(this,We,We+1);return this},i.prototype.swap32=function(){var Fe=this.length;if(Fe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var We=0;We<Fe;We+=4)F(this,We,We+3),F(this,We+1,We+2);return this},i.prototype.swap64=function(){var Fe=this.length;if(Fe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var We=0;We<Fe;We+=8)F(this,We,We+7),F(this,We+1,We+6),F(this,We+2,We+5),F(this,We+3,We+4);return this},i.prototype.toString=function(){var Fe=this.length;return Fe===0?"":arguments.length===0?he(this,0,Fe):H.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(Fe){if(!i.isBuffer(Fe))throw new TypeError("Argument must be a Buffer");return this===Fe?!0:i.compare(this,Fe)===0},i.prototype.inspect=function(){var Fe="",We=Y.INSPECT_MAX_BYTES;return Fe=this.toString("hex",0,We).replace(/(.{2})/g,"$1 ").trim(),this.length>We&&(Fe+=" ... "),"<Buffer "+Fe+">"},y&&(i.prototype[y]=i.prototype.inspect),i.prototype.compare=function(Fe,We,Ze,Ge,Pe){if(ht(Fe,Uint8Array)&&(Fe=i.from(Fe,Fe.offset,Fe.byteLength)),!i.isBuffer(Fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(Fe));if(We===void 0&&(We=0),Ze===void 0&&(Ze=Fe?Fe.length:0),Ge===void 0&&(Ge=0),Pe===void 0&&(Pe=this.length),We<0||Ze>Fe.length||Ge<0||Pe>this.length)throw new RangeError("out of range index");if(Ge>=Pe&&We>=Ze)return 0;if(Ge>=Pe)return-1;if(We>=Ze)return 1;if(We>>>=0,Ze>>>=0,Ge>>>=0,Pe>>>=0,this===Fe)return 0;for(var Re=Pe-Ge,je=Ze-We,De=Math.min(Re,je),ge=this.slice(Ge,Pe),we=Fe.slice(We,Ze),Ue=0;Ue<De;++Ue)if(ge[Ue]!==we[Ue]){Re=ge[Ue],je=we[Ue];break}return Re<je?-1:je<Re?1:0};function B(nt,Fe,We,Ze,Ge){if(nt.length===0)return-1;if(typeof We=="string"?(Ze=We,We=0):We>2147483647?We=2147483647:We<-2147483648&&(We=-2147483648),We=+We,vt(We)&&(We=Ge?0:nt.length-1),We<0&&(We=nt.length+We),We>=nt.length){if(Ge)return-1;We=nt.length-1}else if(We<0)if(Ge)We=0;else return-1;if(typeof Fe=="string"&&(Fe=i.from(Fe,Ze)),i.isBuffer(Fe))return Fe.length===0?-1:U(nt,Fe,We,Ze,Ge);if(typeof Fe=="number")return Fe=Fe&255,typeof Uint8Array.prototype.indexOf=="function"?Ge?Uint8Array.prototype.indexOf.call(nt,Fe,We):Uint8Array.prototype.lastIndexOf.call(nt,Fe,We):U(nt,[Fe],We,Ze,Ge);throw new TypeError("val must be string, number or Buffer")}function U(nt,Fe,We,Ze,Ge){var Pe=1,Re=nt.length,je=Fe.length;if(Ze!==void 0&&(Ze=String(Ze).toLowerCase(),Ze==="ucs2"||Ze==="ucs-2"||Ze==="utf16le"||Ze==="utf-16le")){if(nt.length<2||Fe.length<2)return-1;Pe=2,Re/=2,je/=2,We/=2}function De(st,lt){return Pe===1?st[lt]:st.readUInt16BE(lt*Pe)}var ge;if(Ge){var we=-1;for(ge=We;ge<Re;ge++)if(De(nt,ge)===De(Fe,we===-1?0:ge-we)){if(we===-1&&(we=ge),ge-we+1===je)return we*Pe}else we!==-1&&(ge-=ge-we),we=-1}else for(We+je>Re&&(We=Re-je),ge=We;ge>=0;ge--){for(var Ue=!0,et=0;et<je;et++)if(De(nt,ge+et)!==De(Fe,et)){Ue=!1;break}if(Ue)return ge}return-1}i.prototype.includes=function(Fe,We,Ze){return this.indexOf(Fe,We,Ze)!==-1},i.prototype.indexOf=function(Fe,We,Ze){return B(this,Fe,We,Ze,!0)},i.prototype.lastIndexOf=function(Fe,We,Ze){return B(this,Fe,We,Ze,!1)};function z(nt,Fe,We,Ze){We=Number(We)||0;var Ge=nt.length-We;Ze?(Ze=Number(Ze),Ze>Ge&&(Ze=Ge)):Ze=Ge;var Pe=Fe.length;Ze>Pe/2&&(Ze=Pe/2);var Re;for(Re=0;Re<Ze;++Re){var je=parseInt(Fe.substr(Re*2,2),16);if(vt(je))return Re;nt[We+Re]=je}return Re}function W(nt,Fe,We,Ze){return qe(Ye(Fe,nt.length-We),nt,We,Ze)}function j(nt,Fe,We,Ze){return qe(rt(Fe),nt,We,Ze)}function ee(nt,Fe,We,Ze){return qe($e(Fe),nt,We,Ze)}function ie(nt,Fe,We,Ze){return qe(ot(Fe,nt.length-We),nt,We,Ze)}i.prototype.write=function(Fe,We,Ze,Ge){if(We===void 0)Ge="utf8",Ze=this.length,We=0;else if(Ze===void 0&&typeof We=="string")Ge=We,Ze=this.length,We=0;else if(isFinite(We))We=We>>>0,isFinite(Ze)?(Ze=Ze>>>0,Ge===void 0&&(Ge="utf8")):(Ge=Ze,Ze=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Pe=this.length-We;if((Ze===void 0||Ze>Pe)&&(Ze=Pe),Fe.length>0&&(Ze<0||We<0)||We>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ge||(Ge="utf8");for(var Re=!1;;)switch(Ge){case"hex":return z(this,Fe,We,Ze);case"utf8":case"utf-8":return W(this,Fe,We,Ze);case"ascii":case"latin1":case"binary":return j(this,Fe,We,Ze);case"base64":return ee(this,Fe,We,Ze);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,Fe,We,Ze);default:if(Re)throw new TypeError("Unknown encoding: "+Ge);Ge=(""+Ge).toLowerCase(),Re=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(nt,Fe,We){return Fe===0&&We===nt.length?u.fromByteArray(nt):u.fromByteArray(nt.slice(Fe,We))}function he(nt,Fe,We){We=Math.min(nt.length,We);for(var Ze=[],Ge=Fe;Ge<We;){var Pe=nt[Ge],Re=null,je=Pe>239?4:Pe>223?3:Pe>191?2:1;if(Ge+je<=We){var De=void 0,ge=void 0,we=void 0,Ue=void 0;switch(je){case 1:Pe<128&&(Re=Pe);break;case 2:De=nt[Ge+1],(De&192)===128&&(Ue=(Pe&31)<<6|De&63,Ue>127&&(Re=Ue));break;case 3:De=nt[Ge+1],ge=nt[Ge+2],(De&192)===128&&(ge&192)===128&&(Ue=(Pe&15)<<12|(De&63)<<6|ge&63,Ue>2047&&(Ue<55296||Ue>57343)&&(Re=Ue));break;case 4:De=nt[Ge+1],ge=nt[Ge+2],we=nt[Ge+3],(De&192)===128&&(ge&192)===128&&(we&192)===128&&(Ue=(Pe&15)<<18|(De&63)<<12|(ge&63)<<6|we&63,Ue>65535&&Ue<1114112&&(Re=Ue))}}Re===null?(Re=65533,je=1):Re>65535&&(Re-=65536,Ze.push(Re>>>10&1023|55296),Re=56320|Re&1023),Ze.push(Re),Ge+=je}return q(Ze)}var ne=4096;function q(nt){var Fe=nt.length;if(Fe<=ne)return String.fromCharCode.apply(String,nt);for(var We="",Ze=0;Ze<Fe;)We+=String.fromCharCode.apply(String,nt.slice(Ze,Ze+=ne));return We}function le(nt,Fe,We){var Ze="";We=Math.min(nt.length,We);for(var Ge=Fe;Ge<We;++Ge)Ze+=String.fromCharCode(nt[Ge]&127);return Ze}function Q(nt,Fe,We){var Ze="";We=Math.min(nt.length,We);for(var Ge=Fe;Ge<We;++Ge)Ze+=String.fromCharCode(nt[Ge]);return Ze}function te(nt,Fe,We){var Ze=nt.length;(!Fe||Fe<0)&&(Fe=0),(!We||We<0||We>Ze)&&(We=Ze);for(var Ge="",Pe=Fe;Pe<We;++Pe)Ge+=pt[nt[Pe]];return Ge}function ue(nt,Fe,We){for(var Ze=nt.slice(Fe,We),Ge="",Pe=0;Pe<Ze.length-1;Pe+=2)Ge+=String.fromCharCode(Ze[Pe]+Ze[Pe+1]*256);return Ge}i.prototype.slice=function(Fe,We){var Ze=this.length;Fe=~~Fe,We=We===void 0?Ze:~~We,Fe<0?(Fe+=Ze,Fe<0&&(Fe=0)):Fe>Ze&&(Fe=Ze),We<0?(We+=Ze,We<0&&(We=0)):We>Ze&&(We=Ze),We<Fe&&(We=Fe);var Ge=this.subarray(Fe,We);return Object.setPrototypeOf(Ge,i.prototype),Ge};function J(nt,Fe,We){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+Fe>We)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(Fe,We,Ze){Fe=Fe>>>0,We=We>>>0,Ze||J(Fe,We,this.length);for(var Ge=this[Fe],Pe=1,Re=0;++Re<We&&(Pe*=256);)Ge+=this[Fe+Re]*Pe;return Ge},i.prototype.readUintBE=i.prototype.readUIntBE=function(Fe,We,Ze){Fe=Fe>>>0,We=We>>>0,Ze||J(Fe,We,this.length);for(var Ge=this[Fe+--We],Pe=1;We>0&&(Pe*=256);)Ge+=this[Fe+--We]*Pe;return Ge},i.prototype.readUint8=i.prototype.readUInt8=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,1,this.length),this[Fe]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,2,this.length),this[Fe]|this[Fe+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,2,this.length),this[Fe]<<8|this[Fe+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,4,this.length),(this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16)+this[Fe+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,4,this.length),this[Fe]*16777216+(this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3])},i.prototype.readBigUInt64LE=wt(function(Fe){Fe=Fe>>>0,Oe(Fe,"offset");var We=this[Fe],Ze=this[Fe+7];(We===void 0||Ze===void 0)&&_e(Fe,this.length-8);var Ge=We+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24),Pe=this[++Fe]+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+Ze*Math.pow(2,24);return BigInt(Ge)+(BigInt(Pe)<<BigInt(32))}),i.prototype.readBigUInt64BE=wt(function(Fe){Fe=Fe>>>0,Oe(Fe,"offset");var We=this[Fe],Ze=this[Fe+7];(We===void 0||Ze===void 0)&&_e(Fe,this.length-8);var Ge=We*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe],Pe=this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+Ze;return(BigInt(Ge)<<BigInt(32))+BigInt(Pe)}),i.prototype.readIntLE=function(Fe,We,Ze){Fe=Fe>>>0,We=We>>>0,Ze||J(Fe,We,this.length);for(var Ge=this[Fe],Pe=1,Re=0;++Re<We&&(Pe*=256);)Ge+=this[Fe+Re]*Pe;return Pe*=128,Ge>=Pe&&(Ge-=Math.pow(2,8*We)),Ge},i.prototype.readIntBE=function(Fe,We,Ze){Fe=Fe>>>0,We=We>>>0,Ze||J(Fe,We,this.length);for(var Ge=We,Pe=1,Re=this[Fe+--Ge];Ge>0&&(Pe*=256);)Re+=this[Fe+--Ge]*Pe;return Pe*=128,Re>=Pe&&(Re-=Math.pow(2,8*We)),Re},i.prototype.readInt8=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,1,this.length),this[Fe]&128?(255-this[Fe]+1)*-1:this[Fe]},i.prototype.readInt16LE=function(Fe,We){Fe=Fe>>>0,We||J(Fe,2,this.length);var Ze=this[Fe]|this[Fe+1]<<8;return Ze&32768?Ze|4294901760:Ze},i.prototype.readInt16BE=function(Fe,We){Fe=Fe>>>0,We||J(Fe,2,this.length);var Ze=this[Fe+1]|this[Fe]<<8;return Ze&32768?Ze|4294901760:Ze},i.prototype.readInt32LE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,4,this.length),this[Fe]|this[Fe+1]<<8|this[Fe+2]<<16|this[Fe+3]<<24},i.prototype.readInt32BE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,4,this.length),this[Fe]<<24|this[Fe+1]<<16|this[Fe+2]<<8|this[Fe+3]},i.prototype.readBigInt64LE=wt(function(Fe){Fe=Fe>>>0,Oe(Fe,"offset");var We=this[Fe],Ze=this[Fe+7];(We===void 0||Ze===void 0)&&_e(Fe,this.length-8);var Ge=this[Fe+4]+this[Fe+5]*Math.pow(2,8)+this[Fe+6]*Math.pow(2,16)+(Ze<<24);return(BigInt(Ge)<<BigInt(32))+BigInt(We+this[++Fe]*Math.pow(2,8)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,24))}),i.prototype.readBigInt64BE=wt(function(Fe){Fe=Fe>>>0,Oe(Fe,"offset");var We=this[Fe],Ze=this[Fe+7];(We===void 0||Ze===void 0)&&_e(Fe,this.length-8);var Ge=(We<<24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+this[++Fe];return(BigInt(Ge)<<BigInt(32))+BigInt(this[++Fe]*Math.pow(2,24)+this[++Fe]*Math.pow(2,16)+this[++Fe]*Math.pow(2,8)+Ze)}),i.prototype.readFloatLE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,4,this.length),l.read(this,Fe,!0,23,4)},i.prototype.readFloatBE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,4,this.length),l.read(this,Fe,!1,23,4)},i.prototype.readDoubleLE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,8,this.length),l.read(this,Fe,!0,52,8)},i.prototype.readDoubleBE=function(Fe,We){return Fe=Fe>>>0,We||J(Fe,8,this.length),l.read(this,Fe,!1,52,8)};function K(nt,Fe,We,Ze,Ge,Pe){if(!i.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Fe>Ge||Fe<Pe)throw new RangeError('"value" argument is out of bounds');if(We+Ze>nt.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(Fe,We,Ze,Ge){if(Fe=+Fe,We=We>>>0,Ze=Ze>>>0,!Ge){var Pe=Math.pow(2,8*Ze)-1;K(this,Fe,We,Ze,Pe,0)}var Re=1,je=0;for(this[We]=Fe&255;++je<Ze&&(Re*=256);)this[We+je]=Fe/Re&255;return We+Ze},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(Fe,We,Ze,Ge){if(Fe=+Fe,We=We>>>0,Ze=Ze>>>0,!Ge){var Pe=Math.pow(2,8*Ze)-1;K(this,Fe,We,Ze,Pe,0)}var Re=Ze-1,je=1;for(this[We+Re]=Fe&255;--Re>=0&&(je*=256);)this[We+Re]=Fe/je&255;return We+Ze},i.prototype.writeUint8=i.prototype.writeUInt8=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,1,255,0),this[We]=Fe&255,We+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,2,65535,0),this[We]=Fe&255,this[We+1]=Fe>>>8,We+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,2,65535,0),this[We]=Fe>>>8,this[We+1]=Fe&255,We+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,4,4294967295,0),this[We+3]=Fe>>>24,this[We+2]=Fe>>>16,this[We+1]=Fe>>>8,this[We]=Fe&255,We+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,4,4294967295,0),this[We]=Fe>>>24,this[We+1]=Fe>>>16,this[We+2]=Fe>>>8,this[We+3]=Fe&255,We+4};function ce(nt,Fe,We,Ze,Ge){Me(Fe,Ze,Ge,nt,We,7);var Pe=Number(Fe&BigInt(4294967295));nt[We++]=Pe,Pe=Pe>>8,nt[We++]=Pe,Pe=Pe>>8,nt[We++]=Pe,Pe=Pe>>8,nt[We++]=Pe;var Re=Number(Fe>>BigInt(32)&BigInt(4294967295));return nt[We++]=Re,Re=Re>>8,nt[We++]=Re,Re=Re>>8,nt[We++]=Re,Re=Re>>8,nt[We++]=Re,We}function ae(nt,Fe,We,Ze,Ge){Me(Fe,Ze,Ge,nt,We,7);var Pe=Number(Fe&BigInt(4294967295));nt[We+7]=Pe,Pe=Pe>>8,nt[We+6]=Pe,Pe=Pe>>8,nt[We+5]=Pe,Pe=Pe>>8,nt[We+4]=Pe;var Re=Number(Fe>>BigInt(32)&BigInt(4294967295));return nt[We+3]=Re,Re=Re>>8,nt[We+2]=Re,Re=Re>>8,nt[We+1]=Re,Re=Re>>8,nt[We]=Re,We+8}i.prototype.writeBigUInt64LE=wt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,Fe,We,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=wt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Fe,We,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(Fe,We,Ze,Ge){if(Fe=+Fe,We=We>>>0,!Ge){var Pe=Math.pow(2,8*Ze-1);K(this,Fe,We,Ze,Pe-1,-Pe)}var Re=0,je=1,De=0;for(this[We]=Fe&255;++Re<Ze&&(je*=256);)Fe<0&&De===0&&this[We+Re-1]!==0&&(De=1),this[We+Re]=(Fe/je>>0)-De&255;return We+Ze},i.prototype.writeIntBE=function(Fe,We,Ze,Ge){if(Fe=+Fe,We=We>>>0,!Ge){var Pe=Math.pow(2,8*Ze-1);K(this,Fe,We,Ze,Pe-1,-Pe)}var Re=Ze-1,je=1,De=0;for(this[We+Re]=Fe&255;--Re>=0&&(je*=256);)Fe<0&&De===0&&this[We+Re+1]!==0&&(De=1),this[We+Re]=(Fe/je>>0)-De&255;return We+Ze},i.prototype.writeInt8=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,1,127,-128),Fe<0&&(Fe=255+Fe+1),this[We]=Fe&255,We+1},i.prototype.writeInt16LE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,2,32767,-32768),this[We]=Fe&255,this[We+1]=Fe>>>8,We+2},i.prototype.writeInt16BE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,2,32767,-32768),this[We]=Fe>>>8,this[We+1]=Fe&255,We+2},i.prototype.writeInt32LE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,4,2147483647,-2147483648),this[We]=Fe&255,this[We+1]=Fe>>>8,this[We+2]=Fe>>>16,this[We+3]=Fe>>>24,We+4},i.prototype.writeInt32BE=function(Fe,We,Ze){return Fe=+Fe,We=We>>>0,Ze||K(this,Fe,We,4,2147483647,-2147483648),Fe<0&&(Fe=4294967295+Fe+1),this[We]=Fe>>>24,this[We+1]=Fe>>>16,this[We+2]=Fe>>>8,this[We+3]=Fe&255,We+4},i.prototype.writeBigInt64LE=wt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,Fe,We,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=wt(function(Fe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ae(this,Fe,We,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function de(nt,Fe,We,Ze,Ge,Pe){if(We+Ze>nt.length)throw new RangeError("Index out of range");if(We<0)throw new RangeError("Index out of range")}function be(nt,Fe,We,Ze,Ge){return Fe=+Fe,We=We>>>0,Ge||de(nt,Fe,We,4),l.write(nt,Fe,We,Ze,23,4),We+4}i.prototype.writeFloatLE=function(Fe,We,Ze){return be(this,Fe,We,!0,Ze)},i.prototype.writeFloatBE=function(Fe,We,Ze){return be(this,Fe,We,!1,Ze)};function Se(nt,Fe,We,Ze,Ge){return Fe=+Fe,We=We>>>0,Ge||de(nt,Fe,We,8),l.write(nt,Fe,We,Ze,52,8),We+8}i.prototype.writeDoubleLE=function(Fe,We,Ze){return Se(this,Fe,We,!0,Ze)},i.prototype.writeDoubleBE=function(Fe,We,Ze){return Se(this,Fe,We,!1,Ze)},i.prototype.copy=function(Fe,We,Ze,Ge){if(!i.isBuffer(Fe))throw new TypeError("argument should be a Buffer");if(Ze||(Ze=0),!Ge&&Ge!==0&&(Ge=this.length),We>=Fe.length&&(We=Fe.length),We||(We=0),Ge>0&&Ge<Ze&&(Ge=Ze),Ge===Ze||Fe.length===0||this.length===0)return 0;if(We<0)throw new RangeError("targetStart out of bounds");if(Ze<0||Ze>=this.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("sourceEnd out of bounds");Ge>this.length&&(Ge=this.length),Fe.length-We<Ge-Ze&&(Ge=Fe.length-We+Ze);var Pe=Ge-Ze;return this===Fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(We,Ze,Ge):Uint8Array.prototype.set.call(Fe,this.subarray(Ze,Ge),We),Pe},i.prototype.fill=function(Fe,We,Ze,Ge){if(typeof Fe=="string"){if(typeof We=="string"?(Ge=We,We=0,Ze=this.length):typeof Ze=="string"&&(Ge=Ze,Ze=this.length),Ge!==void 0&&typeof Ge!="string")throw new TypeError("encoding must be a string");if(typeof Ge=="string"&&!i.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);if(Fe.length===1){var Pe=Fe.charCodeAt(0);(Ge==="utf8"&&Pe<128||Ge==="latin1")&&(Fe=Pe)}}else typeof Fe=="number"?Fe=Fe&255:typeof Fe=="boolean"&&(Fe=Number(Fe));if(We<0||this.length<We||this.length<Ze)throw new RangeError("Out of range index");if(Ze<=We)return this;We=We>>>0,Ze=Ze===void 0?this.length:Ze>>>0,Fe||(Fe=0);var Re;if(typeof Fe=="number")for(Re=We;Re<Ze;++Re)this[Re]=Fe;else{var je=i.isBuffer(Fe)?Fe:i.from(Fe,Ge),De=je.length;if(De===0)throw new TypeError('The value "'+Fe+'" is invalid for argument "value"');for(Re=0;Re<Ze-We;++Re)this[Re+We]=je[Re%De]}return this};var Te={};function Ie(nt,Fe,We){Te[nt]=function(Ze){a(Ge,Ze);function Ge(){var Pe;return p(this,Ge),Pe=v(this,Ge),Object.defineProperty(t(Pe),"message",{value:Fe.apply(t(Pe),arguments),writable:!0,configurable:!0}),Pe.name="".concat(Pe.name," [").concat(nt,"]"),Pe.stack,delete Pe.name,Pe}return o(Ge,[{key:"code",get:function(){return nt},set:function(Re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Re,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(nt,"]: ").concat(this.message)}}]),Ge}(We)}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(nt){return nt?"".concat(nt," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(nt,Fe){return'The "'.concat(nt,'" argument must be of type number. Received type ').concat(f(Fe))},TypeError),Ie("ERR_OUT_OF_RANGE",function(nt,Fe,We){var Ze='The value of "'.concat(nt,'" is out of range.'),Ge=We;return Number.isInteger(We)&&Math.abs(We)>Math.pow(2,32)?Ge=ke(String(We)):typeof We=="bigint"&&(Ge=String(We),(We>Math.pow(BigInt(2),BigInt(32))||We<-Math.pow(BigInt(2),BigInt(32)))&&(Ge=ke(Ge)),Ge+="n"),Ze+=" It must be ".concat(Fe,". Received ").concat(Ge),Ze},RangeError);function ke(nt){for(var Fe="",We=nt.length,Ze=nt[0]==="-"?1:0;We>=Ze+4;We-=3)Fe="_".concat(nt.slice(We-3,We)).concat(Fe);return"".concat(nt.slice(0,We)).concat(Fe)}function Be(nt,Fe,We){Oe(Fe,"offset"),(nt[Fe]===void 0||nt[Fe+We]===void 0)&&_e(Fe,nt.length-(We+1))}function Me(nt,Fe,We,Ze,Ge,Pe){if(nt>We||nt<Fe){var Re=typeof Fe=="bigint"?"n":"",je;throw Fe===0||Fe===BigInt(0)?je=">= 0".concat(Re," and < 2").concat(Re," ** ").concat((Pe+1)*8).concat(Re):je=">= -(2".concat(Re," ** ").concat((Pe+1)*8-1).concat(Re,") and < 2 ** ")+"".concat((Pe+1)*8-1).concat(Re),new Te.ERR_OUT_OF_RANGE("value",je,nt)}Be(Ze,Ge,Pe)}function Oe(nt,Fe){if(typeof nt!="number")throw new Te.ERR_INVALID_ARG_TYPE(Fe,"number",nt)}function _e(nt,Fe,We){throw Math.floor(nt)!==nt?(Oe(nt,We),new Te.ERR_OUT_OF_RANGE("offset","an integer",nt)):Fe<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",">= ".concat(0," and <= ").concat(Fe),nt)}var Ne=/[^+/0-9A-Za-z-_]/g;function Ce(nt){if(nt=nt.split("=")[0],nt=nt.trim().replace(Ne,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function Ye(nt,Fe){Fe=Fe||1/0;for(var We,Ze=nt.length,Ge=null,Pe=[],Re=0;Re<Ze;++Re){if(We=nt.charCodeAt(Re),We>55295&&We<57344){if(!Ge){if(We>56319){(Fe-=3)>-1&&Pe.push(239,191,189);continue}else if(Re+1===Ze){(Fe-=3)>-1&&Pe.push(239,191,189);continue}Ge=We;continue}if(We<56320){(Fe-=3)>-1&&Pe.push(239,191,189),Ge=We;continue}We=(Ge-55296<<10|We-56320)+65536}else Ge&&(Fe-=3)>-1&&Pe.push(239,191,189);if(Ge=null,We<128){if((Fe-=1)<0)break;Pe.push(We)}else if(We<2048){if((Fe-=2)<0)break;Pe.push(We>>6|192,We&63|128)}else if(We<65536){if((Fe-=3)<0)break;Pe.push(We>>12|224,We>>6&63|128,We&63|128)}else if(We<1114112){if((Fe-=4)<0)break;Pe.push(We>>18|240,We>>12&63|128,We>>6&63|128,We&63|128)}else throw new Error("Invalid code point")}return Pe}function rt(nt){for(var Fe=[],We=0;We<nt.length;++We)Fe.push(nt.charCodeAt(We)&255);return Fe}function ot(nt,Fe){for(var We,Ze,Ge,Pe=[],Re=0;Re<nt.length&&!((Fe-=2)<0);++Re)We=nt.charCodeAt(Re),Ze=We>>8,Ge=We%256,Pe.push(Ge),Pe.push(Ze);return Pe}function $e(nt){return u.toByteArray(Ce(nt))}function qe(nt,Fe,We,Ze){var Ge;for(Ge=0;Ge<Ze&&!(Ge+We>=Fe.length||Ge>=nt.length);++Ge)Fe[Ge+We]=nt[Ge];return Ge}function ht(nt,Fe){return nt instanceof Fe||nt!=null&&nt.constructor!=null&&nt.constructor.name!=null&&nt.constructor.name===Fe.name}function vt(nt){return nt!==nt}var pt=function(){for(var nt="0123456789abcdef",Fe=new Array(256),We=0;We<16;++We)for(var Ze=We*16,Ge=0;Ge<16;++Ge)Fe[Ze+Ge]=nt[We]+nt[Ge];return Fe}();function wt(nt){return typeof BigInt>"u"?Mt:nt}function Mt(){throw new Error("BigInt not supported")}},25928:function(V){V.exports=L,V.exports.isMobile=L,V.exports.default=L;var Y=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,p=/android|ipad|playbook|silk/i;function L(o){o||(o={});var C=o.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var S=Y.test(C)&&!e.test(C)||!!o.tablet&&p.test(C);return!S&&o.tablet&&o.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(S=!0),S}},48932:function(V,Y,e){e.r(Y),e.d(Y,{sankeyCenter:function(){return a},sankeyCircular:function(){return M},sankeyJustify:function(){return t},sankeyLeft:function(){return g},sankeyRight:function(){return r}});var p=e(84706),L=e(34712),o=e(10132),C=e(6688),S=e.n(C);function v(Te){return Te.target.depth}function g(Te){return Te.depth}function r(Te,Ie){return Ie-1-Te.height}function t(Te,Ie){return Te.sourceLinks.length?Te.depth:Ie-1}function a(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,p.SY)(Te.sourceLinks,v)-1:0}function n(Te){return function(){return Te}}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function u(Te,Ie){return y(Te.source,Ie.source)||Te.index-Ie.index}function l(Te,Ie){return y(Te.target,Ie.target)||Te.index-Ie.index}function y(Te,Ie){return Te.partOfCycle===Ie.partOfCycle?Te.y0-Ie.y0:Te.circularLinkType==="top"||Ie.circularLinkType==="bottom"?-1:1}function h(Te){return Te.value}function T(Te){return(Te.y0+Te.y1)/2}function c(Te){return T(Te.source)}function i(Te){return T(Te.target)}function d(Te){return Te.index}function x(Te){return Te.nodes}function w(Te){return Te.links}function _(Te,Ie){var ke=Te.get(Ie);if(!ke)throw new Error("missing: "+Ie);return ke}function m(Te,Ie){return Ie(Te)}var E=25,A=10,s=.3;function M(){var Te=0,Ie=0,ke=1,Be=1,Me=24,Oe,_e=d,Ne=t,Ce=x,Ye=w,rt=32,ot=2,$e,qe=null;function ht(){var Ze={nodes:Ce.apply(null,arguments),links:Ye.apply(null,arguments)};vt(Ze),b(Ze,_e,qe),pt(Ze),nt(Ze),N(Ze,_e),Fe(Ze,rt,_e),We(Ze);for(var Ge=4,Pe=0;Pe<Ge;Pe++)K(Ze,Be,_e),ce(Ze,Be,_e),te(Ze,Ie,Be,_e),K(Ze,Be,_e),ce(Ze,Be,_e);return Se(Ze,Ie,Be),z(Ze,ot,Be,_e),Ze}ht.nodeId=function(Ze){return arguments.length?(_e=typeof Ze=="function"?Ze:n(Ze),ht):_e},ht.nodeAlign=function(Ze){return arguments.length?(Ne=typeof Ze=="function"?Ze:n(Ze),ht):Ne},ht.nodeWidth=function(Ze){return arguments.length?(Me=+Ze,ht):Me},ht.nodePadding=function(Ze){return arguments.length?(Oe=+Ze,ht):Oe},ht.nodes=function(Ze){return arguments.length?(Ce=typeof Ze=="function"?Ze:n(Ze),ht):Ce},ht.links=function(Ze){return arguments.length?(Ye=typeof Ze=="function"?Ze:n(Ze),ht):Ye},ht.size=function(Ze){return arguments.length?(Te=Ie=0,ke=+Ze[0],Be=+Ze[1],ht):[ke-Te,Be-Ie]},ht.extent=function(Ze){return arguments.length?(Te=+Ze[0][0],ke=+Ze[1][0],Ie=+Ze[0][1],Be=+Ze[1][1],ht):[[Te,Ie],[ke,Be]]},ht.iterations=function(Ze){return arguments.length?(rt=+Ze,ht):rt},ht.circularLinkGap=function(Ze){return arguments.length?(ot=+Ze,ht):ot},ht.nodePaddingRatio=function(Ze){return arguments.length?($e=+Ze,ht):$e},ht.sortNodes=function(Ze){return arguments.length?(qe=Ze,ht):qe},ht.update=function(Ze){return N(Ze,_e),We(Ze),Ze.links.forEach(function(Ge){Ge.circular&&(Ge.circularLinkType=Ge.y0+Ge.y1<Be?"top":"bottom",Ge.source.circularLinkType=Ge.circularLinkType,Ge.target.circularLinkType=Ge.circularLinkType)}),K(Ze,Be,_e,!1),ce(Ze,Be,_e),z(Ze,ot,Be,_e),Ze};function vt(Ze){Ze.nodes.forEach(function(Pe,Re){Pe.index=Re,Pe.sourceLinks=[],Pe.targetLinks=[]});var Ge=(0,L.kH)(Ze.nodes,_e);return Ze.links.forEach(function(Pe,Re){Pe.index=Re;var je=Pe.source,De=Pe.target;(typeof je>"u"?"undefined":f(je))!=="object"&&(je=Pe.source=_(Ge,je)),(typeof De>"u"?"undefined":f(De))!=="object"&&(De=Pe.target=_(Ge,De)),je.sourceLinks.push(Pe),De.targetLinks.push(Pe)}),Ze}function pt(Ze){Ze.nodes.forEach(function(Ge){Ge.partOfCycle=!1,Ge.value=Math.max((0,p.oh)(Ge.sourceLinks,h),(0,p.oh)(Ge.targetLinks,h)),Ge.sourceLinks.forEach(function(Pe){Pe.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=Pe.circularLinkType)}),Ge.targetLinks.forEach(function(Pe){Pe.circular&&(Ge.partOfCycle=!0,Ge.circularLinkType=Pe.circularLinkType)})})}function wt(Ze){var Ge=0,Pe=0,Re=0,je=0,De=(0,p.kv)(Ze.nodes,function(ge){return ge.column});return Ze.links.forEach(function(ge){ge.circular&&(ge.circularLinkType=="top"?Ge=Ge+ge.width:Pe=Pe+ge.width,ge.target.column==0&&(je=je+ge.width),ge.source.column==De&&(Re=Re+ge.width))}),Ge=Ge>0?Ge+E+A:Ge,Pe=Pe>0?Pe+E+A:Pe,Re=Re>0?Re+E+A:Re,je=je>0?je+E+A:je,{top:Ge,bottom:Pe,left:je,right:Re}}function Mt(Ze,Ge){var Pe=(0,p.kv)(Ze.nodes,function(et){return et.column}),Re=ke-Te,je=Be-Ie,De=Re+Ge.right+Ge.left,ge=je+Ge.top+Ge.bottom,we=Re/De,Ue=je/ge;return Te=Te*we+Ge.left,ke=Ge.right==0?ke:ke*we,Ie=Ie*Ue+Ge.top,Be=Be*Ue,Ze.nodes.forEach(function(et){et.x0=Te+et.column*((ke-Te-Me)/Pe),et.x1=et.x0+Me}),Ue}function nt(Ze){var Ge,Pe,Re;for(Ge=Ze.nodes,Pe=[],Re=0;Ge.length;++Re,Ge=Pe,Pe=[])Ge.forEach(function(je){je.depth=Re,je.sourceLinks.forEach(function(De){Pe.indexOf(De.target)<0&&!De.circular&&Pe.push(De.target)})});for(Ge=Ze.nodes,Pe=[],Re=0;Ge.length;++Re,Ge=Pe,Pe=[])Ge.forEach(function(je){je.height=Re,je.targetLinks.forEach(function(De){Pe.indexOf(De.source)<0&&!De.circular&&Pe.push(De.source)})});Ze.nodes.forEach(function(je){je.column=Math.floor(Ne.call(null,je,Re))})}function Fe(Ze,Ge,Pe){var Re=(0,L.UJ)().key(function(et){return et.column}).sortKeys(p.XE).entries(Ze.nodes).map(function(et){return et.values});ge(Pe),Ue();for(var je=1,De=Ge;De>0;--De)we(je*=.99,Pe),Ue();function ge(et){if($e){var st=1/0;Re.forEach(function(Tt){var Rt=Be*$e/(Tt.length+1);st=Rt<st?Rt:st}),Oe=st}var lt=(0,p.SY)(Re,function(Tt){return(Be-Ie-(Tt.length-1)*Oe)/(0,p.oh)(Tt,h)});lt=lt*s,Ze.links.forEach(function(Tt){Tt.width=Tt.value*lt});var Wt=wt(Ze),jt=Mt(Ze,Wt);lt=lt*jt,Ze.links.forEach(function(Tt){Tt.width=Tt.value*lt}),Re.forEach(function(Tt){var Rt=Tt.length;Tt.forEach(function(Zt,mr){Zt.depth==Re.length-1&&Rt==1||Zt.depth==0&&Rt==1?(Zt.y0=Be/2-Zt.value*lt,Zt.y1=Zt.y0+Zt.value*lt):Zt.partOfCycle?F(Zt,et)==0?(Zt.y0=Be/2+mr,Zt.y1=Zt.y0+Zt.value*lt):Zt.circularLinkType=="top"?(Zt.y0=Ie+mr,Zt.y1=Zt.y0+Zt.value*lt):(Zt.y0=Be-Zt.value*lt-mr,Zt.y1=Zt.y0+Zt.value*lt):Wt.top==0||Wt.bottom==0?(Zt.y0=(Be-Ie)/Rt*mr,Zt.y1=Zt.y0+Zt.value*lt):(Zt.y0=(Be-Ie)/2-Rt/2+mr,Zt.y1=Zt.y0+Zt.value*lt)})})}function we(et,st){var lt=Re.length;Re.forEach(function(Wt){var jt=Wt.length,Tt=Wt[0].depth;Wt.forEach(function(Rt){var Zt;if((Rt.sourceLinks.length||Rt.targetLinks.length)&&!(Rt.partOfCycle&&F(Rt,st)>0))if(Tt==0&&jt==1)Zt=Rt.y1-Rt.y0,Rt.y0=Be/2-Zt/2,Rt.y1=Be/2+Zt/2;else if(Tt==lt-1&&jt==1)Zt=Rt.y1-Rt.y0,Rt.y0=Be/2-Zt/2,Rt.y1=Be/2+Zt/2;else{var mr=0,gt=(0,p.mo)(Rt.sourceLinks,i),Kt=(0,p.mo)(Rt.targetLinks,c);gt&&Kt?mr=(gt+Kt)/2:mr=gt||Kt;var $t=(mr-T(Rt))*et;Rt.y0+=$t,Rt.y1+=$t}})})}function Ue(){Re.forEach(function(et){var st,lt,Wt=Ie,jt=et.length,Tt;for(et.sort(y),Tt=0;Tt<jt;++Tt)st=et[Tt],lt=Wt-st.y0,lt>0&&(st.y0+=lt,st.y1+=lt),Wt=st.y1+Oe;if(lt=Wt-Oe-Be,lt>0)for(Wt=st.y0-=lt,st.y1-=lt,Tt=jt-2;Tt>=0;--Tt)st=et[Tt],lt=st.y1+Oe-Wt,lt>0&&(st.y0-=lt,st.y1-=lt),Wt=st.y0})}}function We(Ze){Ze.nodes.forEach(function(Ge){Ge.sourceLinks.sort(l),Ge.targetLinks.sort(u)}),Ze.nodes.forEach(function(Ge){var Pe=Ge.y0,Re=Pe,je=Ge.y1,De=je;Ge.sourceLinks.forEach(function(ge){ge.circular?(ge.y0=je-ge.width/2,je=je-ge.width):(ge.y0=Pe+ge.width/2,Pe+=ge.width)}),Ge.targetLinks.forEach(function(ge){ge.circular?(ge.y1=De-ge.width/2,De=De-ge.width):(ge.y1=Re+ge.width/2,Re+=ge.width)})})}return ht}function b(Te,Ie,ke){var Be=0;if(ke===null){for(var Me=[],Oe=0;Oe<Te.links.length;Oe++){var _e=Te.links[Oe],Ne=_e.source.index,Ce=_e.target.index;Me[Ne]||(Me[Ne]=[]),Me[Ce]||(Me[Ce]=[]),Me[Ne].indexOf(Ce)===-1&&Me[Ne].push(Ce)}var Ye=S()(Me);Ye.sort(function(qe,ht){return qe.length-ht.length});var rt={};for(Oe=0;Oe<Ye.length;Oe++){var ot=Ye[Oe],$e=ot.slice(-2);rt[$e[0]]||(rt[$e[0]]={}),rt[$e[0]][$e[1]]=!0}Te.links.forEach(function(qe){var ht=qe.target.index,vt=qe.source.index;ht===vt||rt[vt]&&rt[vt][ht]?(qe.circular=!0,qe.circularLinkID=Be,Be=Be+1):qe.circular=!1})}else Te.links.forEach(function(qe){qe.source[ke]<qe.target[ke]?qe.circular=!1:(qe.circular=!0,qe.circularLinkID=Be,Be=Be+1)})}function N(Te,Ie){var ke=0,Be=0;Te.links.forEach(function(Me){Me.circular&&(Me.source.circularLinkType||Me.target.circularLinkType?Me.circularLinkType=Me.source.circularLinkType?Me.source.circularLinkType:Me.target.circularLinkType:Me.circularLinkType=ke<Be?"top":"bottom",Me.circularLinkType=="top"?ke=ke+1:Be=Be+1,Te.nodes.forEach(function(Oe){(m(Oe,Ie)==m(Me.source,Ie)||m(Oe,Ie)==m(Me.target,Ie))&&(Oe.circularLinkType=Me.circularLinkType)}))}),Te.links.forEach(function(Me){Me.circular&&(Me.source.circularLinkType==Me.target.circularLinkType&&(Me.circularLinkType=Me.source.circularLinkType),be(Me,Ie)&&(Me.circularLinkType=Me.source.circularLinkType))})}function k(Te){var Ie=Math.abs(Te.y1-Te.y0),ke=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(ke/Ie)}function H(Te,Ie){return Te.source.column<Ie.target.column?!1:!(Te.target.column>Ie.source.column)}function F(Te,Ie){var ke=0;Te.sourceLinks.forEach(function(Me){ke=Me.circular&&!be(Me,Ie)?ke+1:ke});var Be=0;return Te.targetLinks.forEach(function(Me){Be=Me.circular&&!be(Me,Ie)?Be+1:Be}),ke+Be}function B(Te){var Ie=Te.source.sourceLinks,ke=0;Ie.forEach(function(Oe){ke=Oe.circular?ke+1:ke});var Be=Te.target.targetLinks,Me=0;return Be.forEach(function(Oe){Me=Oe.circular?Me+1:Me}),!(ke>1||Me>1)}function U(Te,Ie,ke){return Te.sort(j),Te.forEach(function(Be,Me){var Oe=0;if(be(Be,ke)&&B(Be))Be.circularPathData.verticalBuffer=Oe+Be.width/2;else{var _e=0;for(_e;_e<Me;_e++)if(H(Te[Me],Te[_e])){var Ne=Te[_e].circularPathData.verticalBuffer+Te[_e].width/2+Ie;Oe=Ne>Oe?Ne:Oe}Be.circularPathData.verticalBuffer=Oe+Be.width/2}}),Te}function z(Te,Ie,ke,Be){var Me=5,Oe=(0,p.SY)(Te.links,function(Ce){return Ce.source.y0});Te.links.forEach(function(Ce){Ce.circular&&(Ce.circularPathData={})});var _e=Te.links.filter(function(Ce){return Ce.circularLinkType=="top"});U(_e,Ie,Be);var Ne=Te.links.filter(function(Ce){return Ce.circularLinkType=="bottom"});U(Ne,Ie,Be),Te.links.forEach(function(Ce){if(Ce.circular){if(Ce.circularPathData.arcRadius=Ce.width+A,Ce.circularPathData.leftNodeBuffer=Me,Ce.circularPathData.rightNodeBuffer=Me,Ce.circularPathData.sourceWidth=Ce.source.x1-Ce.source.x0,Ce.circularPathData.sourceX=Ce.source.x0+Ce.circularPathData.sourceWidth,Ce.circularPathData.targetX=Ce.target.x0,Ce.circularPathData.sourceY=Ce.y0,Ce.circularPathData.targetY=Ce.y1,be(Ce,Be)&&B(Ce))Ce.circularPathData.leftSmallArcRadius=A+Ce.width/2,Ce.circularPathData.leftLargeArcRadius=A+Ce.width/2,Ce.circularPathData.rightSmallArcRadius=A+Ce.width/2,Ce.circularPathData.rightLargeArcRadius=A+Ce.width/2,Ce.circularLinkType=="bottom"?(Ce.circularPathData.verticalFullExtent=Ce.source.y1+E+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=Ce.source.y0-E-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius);else{var Ye=Ce.source.column,rt=Ce.circularLinkType,ot=Te.links.filter(function(ht){return ht.source.column==Ye&&ht.circularLinkType==rt});Ce.circularLinkType=="bottom"?ot.sort(ie):ot.sort(ee);var $e=0;ot.forEach(function(ht,vt){ht.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.leftSmallArcRadius=A+Ce.width/2+$e,Ce.circularPathData.leftLargeArcRadius=A+Ce.width/2+vt*Ie+$e),$e=$e+ht.width}),Ye=Ce.target.column,ot=Te.links.filter(function(ht){return ht.target.column==Ye&&ht.circularLinkType==rt}),Ce.circularLinkType=="bottom"?ot.sort(he):ot.sort(oe),$e=0,ot.forEach(function(ht,vt){ht.circularLinkID==Ce.circularLinkID&&(Ce.circularPathData.rightSmallArcRadius=A+Ce.width/2+$e,Ce.circularPathData.rightLargeArcRadius=A+Ce.width/2+vt*Ie+$e),$e=$e+ht.width}),Ce.circularLinkType=="bottom"?(Ce.circularPathData.verticalFullExtent=Math.max(ke,Ce.source.y1,Ce.target.y1)+E+Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent-Ce.circularPathData.rightLargeArcRadius):(Ce.circularPathData.verticalFullExtent=Oe-E-Ce.circularPathData.verticalBuffer,Ce.circularPathData.verticalLeftInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.leftLargeArcRadius,Ce.circularPathData.verticalRightInnerExtent=Ce.circularPathData.verticalFullExtent+Ce.circularPathData.rightLargeArcRadius)}Ce.circularPathData.leftInnerExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightInnerExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightNodeBuffer,Ce.circularPathData.leftFullExtent=Ce.circularPathData.sourceX+Ce.circularPathData.leftLargeArcRadius+Ce.circularPathData.leftNodeBuffer,Ce.circularPathData.rightFullExtent=Ce.circularPathData.targetX-Ce.circularPathData.rightLargeArcRadius-Ce.circularPathData.rightNodeBuffer}if(Ce.circular)Ce.path=W(Ce);else{var qe=(0,o.ak)().source(function(ht){var vt=ht.source.x0+(ht.source.x1-ht.source.x0),pt=ht.y0;return[vt,pt]}).target(function(ht){var vt=ht.target.x0,pt=ht.y1;return[vt,pt]});Ce.path=qe(Ce)}})}function W(Te){var Ie="";return Te.circularLinkType=="top"?Ie="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 0 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY-Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 0 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 0 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY-Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 0 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY:Ie="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 1 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY+Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 1 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 1 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY+Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 1 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY,Ie}function j(Te,Ie){return ne(Te)==ne(Ie)?Te.circularLinkType=="bottom"?ie(Te,Ie):ee(Te,Ie):ne(Ie)-ne(Te)}function ee(Te,Ie){return Te.y0-Ie.y0}function ie(Te,Ie){return Ie.y0-Te.y0}function oe(Te,Ie){return Te.y1-Ie.y1}function he(Te,Ie){return Ie.y1-Te.y1}function ne(Te){return Te.target.column-Te.source.column}function q(Te){return Te.target.x0-Te.source.x1}function le(Te,Ie){var ke=k(Te),Be=q(Ie)/Math.tan(ke),Me=de(Te)=="up"?Te.y1+Be:Te.y1-Be;return Me}function Q(Te,Ie){var ke=k(Te),Be=q(Ie)/Math.tan(ke),Me=de(Te)=="up"?Te.y1-Be:Te.y1+Be;return Me}function te(Te,Ie,ke,Be){Te.links.forEach(function(Me){if(!Me.circular&&Me.target.column-Me.source.column>1){var Oe=Me.source.column+1,_e=Me.target.column-1,Ne=1,Ce=_e-Oe+1;for(Ne=1;Oe<=_e;Oe++,Ne++)Te.nodes.forEach(function(Ye){if(Ye.column==Oe){var rt=Ne/(Ce+1),ot=Math.pow(1-rt,3),$e=3*rt*Math.pow(1-rt,2),qe=3*Math.pow(rt,2)*(1-rt),ht=Math.pow(rt,3),vt=ot*Me.y0+$e*Me.y0+qe*Me.y1+ht*Me.y1,pt=vt-Me.width/2,wt=vt+Me.width/2,Mt;pt>Ye.y0&&pt<Ye.y1?(Mt=Ye.y1-pt+10,Mt=Ye.circularLinkType=="bottom"?Mt:-Mt,Ye=J(Ye,Mt,Ie,ke),Te.nodes.forEach(function(nt){m(nt,Be)==m(Ye,Be)||nt.column!=Ye.column||ue(Ye,nt)&&J(nt,Mt,Ie,ke)})):wt>Ye.y0&&wt<Ye.y1?(Mt=wt-Ye.y0+10,Ye=J(Ye,Mt,Ie,ke),Te.nodes.forEach(function(nt){m(nt,Be)==m(Ye,Be)||nt.column!=Ye.column||nt.y0<Ye.y1&&nt.y1>Ye.y1&&J(nt,Mt,Ie,ke)})):pt<Ye.y0&&wt>Ye.y1&&(Mt=wt-Ye.y0+10,Ye=J(Ye,Mt,Ie,ke),Te.nodes.forEach(function(nt){m(nt,Be)==m(Ye,Be)||nt.column!=Ye.column||nt.y0<Ye.y1&&nt.y1>Ye.y1&&J(nt,Mt,Ie,ke)}))}})}})}function ue(Te,Ie){return Te.y0>Ie.y0&&Te.y0<Ie.y1||Te.y1>Ie.y0&&Te.y1<Ie.y1?!0:Te.y0<Ie.y0&&Te.y1>Ie.y1}function J(Te,Ie,ke,Be){return Te.y0+Ie>=ke&&Te.y1+Ie<=Be&&(Te.y0=Te.y0+Ie,Te.y1=Te.y1+Ie,Te.targetLinks.forEach(function(Me){Me.y1=Me.y1+Ie}),Te.sourceLinks.forEach(function(Me){Me.y0=Me.y0+Ie})),Te}function K(Te,Ie,ke,Be){Te.nodes.forEach(function(Me){Be&&Me.y+(Me.y1-Me.y0)>Ie&&(Me.y=Me.y-(Me.y+(Me.y1-Me.y0)-Ie));var Oe=Te.links.filter(function(Ce){return m(Ce.source,ke)==m(Me,ke)}),_e=Oe.length;_e>1&&Oe.sort(function(Ce,Ye){if(!Ce.circular&&!Ye.circular){if(Ce.target.column==Ye.target.column)return Ce.y1-Ye.y1;if(ae(Ce,Ye)){if(Ce.target.column>Ye.target.column){var rt=Q(Ye,Ce);return Ce.y1-rt}if(Ye.target.column>Ce.target.column){var ot=Q(Ce,Ye);return ot-Ye.y1}}else return Ce.y1-Ye.y1}if(Ce.circular&&!Ye.circular)return Ce.circularLinkType=="top"?-1:1;if(Ye.circular&&!Ce.circular)return Ye.circularLinkType=="top"?1:-1;if(Ce.circular&&Ye.circular)return Ce.circularLinkType===Ye.circularLinkType&&Ce.circularLinkType=="top"?Ce.target.column===Ye.target.column?Ce.target.y1-Ye.target.y1:Ye.target.column-Ce.target.column:Ce.circularLinkType===Ye.circularLinkType&&Ce.circularLinkType=="bottom"?Ce.target.column===Ye.target.column?Ye.target.y1-Ce.target.y1:Ce.target.column-Ye.target.column:Ce.circularLinkType=="top"?-1:1});var Ne=Me.y0;Oe.forEach(function(Ce){Ce.y0=Ne+Ce.width/2,Ne=Ne+Ce.width}),Oe.forEach(function(Ce,Ye){if(Ce.circularLinkType=="bottom"){var rt=Ye+1,ot=0;for(rt;rt<_e;rt++)ot=ot+Oe[rt].width;Ce.y0=Me.y1-ot-Ce.width/2}})})}function ce(Te,Ie,ke){Te.nodes.forEach(function(Be){var Me=Te.links.filter(function(Ne){return m(Ne.target,ke)==m(Be,ke)}),Oe=Me.length;Oe>1&&Me.sort(function(Ne,Ce){if(!Ne.circular&&!Ce.circular){if(Ne.source.column==Ce.source.column)return Ne.y0-Ce.y0;if(ae(Ne,Ce)){if(Ce.source.column<Ne.source.column){var Ye=le(Ce,Ne);return Ne.y0-Ye}if(Ne.source.column<Ce.source.column){var rt=le(Ne,Ce);return rt-Ce.y0}}else return Ne.y0-Ce.y0}if(Ne.circular&&!Ce.circular)return Ne.circularLinkType=="top"?-1:1;if(Ce.circular&&!Ne.circular)return Ce.circularLinkType=="top"?1:-1;if(Ne.circular&&Ce.circular)return Ne.circularLinkType===Ce.circularLinkType&&Ne.circularLinkType=="top"?Ne.source.column===Ce.source.column?Ne.source.y1-Ce.source.y1:Ne.source.column-Ce.source.column:Ne.circularLinkType===Ce.circularLinkType&&Ne.circularLinkType=="bottom"?Ne.source.column===Ce.source.column?Ne.source.y1-Ce.source.y1:Ce.source.column-Ne.source.column:Ne.circularLinkType=="top"?-1:1});var _e=Be.y0;Me.forEach(function(Ne){Ne.y1=_e+Ne.width/2,_e=_e+Ne.width}),Me.forEach(function(Ne,Ce){if(Ne.circularLinkType=="bottom"){var Ye=Ce+1,rt=0;for(Ye;Ye<Oe;Ye++)rt=rt+Me[Ye].width;Ne.y1=Be.y1-rt-Ne.width/2}})})}function ae(Te,Ie){return de(Te)==de(Ie)}function de(Te){return Te.y0-Te.y1>0?"up":"down"}function be(Te,Ie){return m(Te.source,Ie)==m(Te.target,Ie)}function Se(Te,Ie,ke){var Be=Te.nodes,Me=Te.links,Oe=!1,_e=!1;if(Me.forEach(function($e){$e.circularLinkType=="top"?Oe=!0:$e.circularLinkType=="bottom"&&(_e=!0)}),Oe==!1||_e==!1){var Ne=(0,p.SY)(Be,function($e){return $e.y0}),Ce=(0,p.kv)(Be,function($e){return $e.y1}),Ye=Ce-Ne,rt=ke-Ie,ot=rt/Ye;Be.forEach(function($e){var qe=($e.y1-$e.y0)*ot;$e.y0=($e.y0-Ne)*ot,$e.y1=$e.y0+qe}),Me.forEach(function($e){$e.y0=($e.y0-Ne)*ot,$e.y1=($e.y1-Ne)*ot,$e.width=$e.width*ot})}}},26800:function(V,Y,e){e.r(Y),e.d(Y,{sankey:function(){return d},sankeyCenter:function(){return g},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return S}});var p=e(84706),L=e(34712);function o(E){return E.target.depth}function C(E){return E.depth}function S(E,A){return A-1-E.height}function v(E,A){return E.sourceLinks.length?E.depth:A-1}function g(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,p.SY)(E.sourceLinks,o)-1:0}function r(E){return function(){return E}}function t(E,A){return n(E.source,A.source)||E.index-A.index}function a(E,A){return n(E.target,A.target)||E.index-A.index}function n(E,A){return E.y0-A.y0}function f(E){return E.value}function u(E){return(E.y0+E.y1)/2}function l(E){return u(E.source)*E.value}function y(E){return u(E.target)*E.value}function h(E){return E.index}function T(E){return E.nodes}function c(E){return E.links}function i(E,A){var s=E.get(A);if(!s)throw new Error("missing: "+A);return s}function d(){var E=0,A=0,s=1,M=1,b=24,N=8,k=h,H=v,F=T,B=c,U=32,z=2/3;function W(){var ne={nodes:F.apply(null,arguments),links:B.apply(null,arguments)};return j(ne),ee(ne),ie(ne),oe(ne),he(ne),ne}W.update=function(ne){return he(ne),ne},W.nodeId=function(ne){return arguments.length?(k=typeof ne=="function"?ne:r(ne),W):k},W.nodeAlign=function(ne){return arguments.length?(H=typeof ne=="function"?ne:r(ne),W):H},W.nodeWidth=function(ne){return arguments.length?(b=+ne,W):b},W.nodePadding=function(ne){return arguments.length?(N=+ne,W):N},W.nodes=function(ne){return arguments.length?(F=typeof ne=="function"?ne:r(ne),W):F},W.links=function(ne){return arguments.length?(B=typeof ne=="function"?ne:r(ne),W):B},W.size=function(ne){return arguments.length?(E=A=0,s=+ne[0],M=+ne[1],W):[s-E,M-A]},W.extent=function(ne){return arguments.length?(E=+ne[0][0],s=+ne[1][0],A=+ne[0][1],M=+ne[1][1],W):[[E,A],[s,M]]},W.iterations=function(ne){return arguments.length?(U=+ne,W):U};function j(ne){ne.nodes.forEach(function(le,Q){le.index=Q,le.sourceLinks=[],le.targetLinks=[]});var q=(0,L.kH)(ne.nodes,k);ne.links.forEach(function(le,Q){le.index=Q;var te=le.source,ue=le.target;typeof te!="object"&&(te=le.source=i(q,te)),typeof ue!="object"&&(ue=le.target=i(q,ue)),te.sourceLinks.push(le),ue.targetLinks.push(le)})}function ee(ne){ne.nodes.forEach(function(q){q.value=Math.max((0,p.oh)(q.sourceLinks,f),(0,p.oh)(q.targetLinks,f))})}function ie(ne){var q,le,Q;for(q=ne.nodes,le=[],Q=0;q.length;++Q,q=le,le=[])q.forEach(function(ue){ue.depth=Q,ue.sourceLinks.forEach(function(J){le.indexOf(J.target)<0&&le.push(J.target)})});for(q=ne.nodes,le=[],Q=0;q.length;++Q,q=le,le=[])q.forEach(function(ue){ue.height=Q,ue.targetLinks.forEach(function(J){le.indexOf(J.source)<0&&le.push(J.source)})});var te=(s-E-b)/(Q-1);ne.nodes.forEach(function(ue){ue.x1=(ue.x0=E+Math.max(0,Math.min(Q-1,Math.floor(H.call(null,ue,Q))))*te)+b})}function oe(ne){var q=(0,L.UJ)().key(function(ce){return ce.x0}).sortKeys(p.XE).entries(ne.nodes).map(function(ce){return ce.values});te(),K();for(var le=1,Q=U;Q>0;--Q)J(le*=.99),K(),ue(le),K();function te(){var ce=(0,p.kv)(q,function(be){return be.length}),ae=z*(M-A)/(ce-1);N>ae&&(N=ae);var de=(0,p.SY)(q,function(be){return(M-A-(be.length-1)*N)/(0,p.oh)(be,f)});q.forEach(function(be){be.forEach(function(Se,Te){Se.y1=(Se.y0=Te)+Se.value*de})}),ne.links.forEach(function(be){be.width=be.value*de})}function ue(ce){q.forEach(function(ae){ae.forEach(function(de){if(de.targetLinks.length){var be=((0,p.oh)(de.targetLinks,l)/(0,p.oh)(de.targetLinks,f)-u(de))*ce;de.y0+=be,de.y1+=be}})})}function J(ce){q.slice().reverse().forEach(function(ae){ae.forEach(function(de){if(de.sourceLinks.length){var be=((0,p.oh)(de.sourceLinks,y)/(0,p.oh)(de.sourceLinks,f)-u(de))*ce;de.y0+=be,de.y1+=be}})})}function K(){q.forEach(function(ce){var ae,de,be=A,Se=ce.length,Te;for(ce.sort(n),Te=0;Te<Se;++Te)ae=ce[Te],de=be-ae.y0,de>0&&(ae.y0+=de,ae.y1+=de),be=ae.y1+N;if(de=be-N-M,de>0)for(be=ae.y0-=de,ae.y1-=de,Te=Se-2;Te>=0;--Te)ae=ce[Te],de=ae.y1+N-be,de>0&&(ae.y0-=de,ae.y1-=de),be=ae.y0})}}function he(ne){ne.nodes.forEach(function(q){q.sourceLinks.sort(a),q.targetLinks.sort(t)}),ne.nodes.forEach(function(q){var le=q.y0,Q=le;q.sourceLinks.forEach(function(te){te.y0=le+te.width/2,le+=te.width}),q.targetLinks.forEach(function(te){te.y1=Q+te.width/2,Q+=te.width})})}return W}var x=e(10132);function w(E){return[E.source.x1,E.y0]}function _(E){return[E.target.x0,E.y1]}function m(){return(0,x.ak)().source(w).target(_)}},33428:function(V,Y,e){var p,L;(function(){var o={version:"3.8.2"},C=[].slice,S=function(ve){return C.call(ve)},v=self.document;function g(ve){return ve&&(ve.ownerDocument||ve.document||ve).documentElement}function r(ve){return ve&&(ve.ownerDocument&&ve.ownerDocument.defaultView||ve.document&&ve||ve.defaultView)}if(v)try{S(v.documentElement.childNodes)[0].nodeType}catch{S=function(Ee){for(var Ve=Ee.length,tt=new Array(Ve);Ve--;)tt[Ve]=Ee[Ve];return tt}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,a=t.setAttribute,n=t.setAttributeNS,f=this.CSSStyleDeclaration.prototype,u=f.setProperty;t.setAttribute=function(Ee,Ve){a.call(this,Ee,Ve+"")},t.setAttributeNS=function(Ee,Ve,tt){n.call(this,Ee,Ve,tt+"")},f.setProperty=function(Ee,Ve,tt){u.call(this,Ee,Ve+"",tt)}}o.ascending=l;function l(ve,Ee){return ve<Ee?-1:ve>Ee?1:ve>=Ee?0:NaN}o.descending=function(ve,Ee){return Ee<ve?-1:Ee>ve?1:Ee>=ve?0:NaN},o.min=function(ve,Ee){var Ve=-1,tt=ve.length,at,ct;if(arguments.length===1){for(;++Ve<tt;)if((ct=ve[Ve])!=null&&ct>=ct){at=ct;break}for(;++Ve<tt;)(ct=ve[Ve])!=null&&at>ct&&(at=ct)}else{for(;++Ve<tt;)if((ct=Ee.call(ve,ve[Ve],Ve))!=null&&ct>=ct){at=ct;break}for(;++Ve<tt;)(ct=Ee.call(ve,ve[Ve],Ve))!=null&&at>ct&&(at=ct)}return at},o.max=function(ve,Ee){var Ve=-1,tt=ve.length,at,ct;if(arguments.length===1){for(;++Ve<tt;)if((ct=ve[Ve])!=null&&ct>=ct){at=ct;break}for(;++Ve<tt;)(ct=ve[Ve])!=null&&ct>at&&(at=ct)}else{for(;++Ve<tt;)if((ct=Ee.call(ve,ve[Ve],Ve))!=null&&ct>=ct){at=ct;break}for(;++Ve<tt;)(ct=Ee.call(ve,ve[Ve],Ve))!=null&&ct>at&&(at=ct)}return at},o.extent=function(ve,Ee){var Ve=-1,tt=ve.length,at,ct,Ct;if(arguments.length===1){for(;++Ve<tt;)if((ct=ve[Ve])!=null&&ct>=ct){at=Ct=ct;break}for(;++Ve<tt;)(ct=ve[Ve])!=null&&(at>ct&&(at=ct),Ct<ct&&(Ct=ct))}else{for(;++Ve<tt;)if((ct=Ee.call(ve,ve[Ve],Ve))!=null&&ct>=ct){at=Ct=ct;break}for(;++Ve<tt;)(ct=Ee.call(ve,ve[Ve],Ve))!=null&&(at>ct&&(at=ct),Ct<ct&&(Ct=ct))}return[at,Ct]};function y(ve){return ve===null?NaN:+ve}function h(ve){return!isNaN(ve)}o.sum=function(ve,Ee){var Ve=0,tt=ve.length,at,ct=-1;if(arguments.length===1)for(;++ct<tt;)h(at=+ve[ct])&&(Ve+=at);else for(;++ct<tt;)h(at=+Ee.call(ve,ve[ct],ct))&&(Ve+=at);return Ve},o.mean=function(ve,Ee){var Ve=0,tt=ve.length,at,ct=-1,Ct=tt;if(arguments.length===1)for(;++ct<tt;)h(at=y(ve[ct]))?Ve+=at:--Ct;else for(;++ct<tt;)h(at=y(Ee.call(ve,ve[ct],ct)))?Ve+=at:--Ct;if(Ct)return Ve/Ct},o.quantile=function(ve,Ee){var Ve=(ve.length-1)*Ee+1,tt=Math.floor(Ve),at=+ve[tt-1],ct=Ve-tt;return ct?at+ct*(ve[tt]-at):at},o.median=function(ve,Ee){var Ve=[],tt=ve.length,at,ct=-1;if(arguments.length===1)for(;++ct<tt;)h(at=y(ve[ct]))&&Ve.push(at);else for(;++ct<tt;)h(at=y(Ee.call(ve,ve[ct],ct)))&&Ve.push(at);if(Ve.length)return o.quantile(Ve.sort(l),.5)},o.variance=function(ve,Ee){var Ve=ve.length,tt=0,at,ct,Ct=0,At=-1,Ht=0;if(arguments.length===1)for(;++At<Ve;)h(at=y(ve[At]))&&(ct=at-tt,tt+=ct/++Ht,Ct+=ct*(at-tt));else for(;++At<Ve;)h(at=y(Ee.call(ve,ve[At],At)))&&(ct=at-tt,tt+=ct/++Ht,Ct+=ct*(at-tt));if(Ht>1)return Ct/(Ht-1)},o.deviation=function(){var ve=o.variance.apply(this,arguments);return ve&&Math.sqrt(ve)};function T(ve){return{left:function(Ee,Ve,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=Ee.length);tt<at;){var ct=tt+at>>>1;ve(Ee[ct],Ve)<0?tt=ct+1:at=ct}return tt},right:function(Ee,Ve,tt,at){for(arguments.length<3&&(tt=0),arguments.length<4&&(at=Ee.length);tt<at;){var ct=tt+at>>>1;ve(Ee[ct],Ve)>0?at=ct:tt=ct+1}return tt}}}var c=T(l);o.bisectLeft=c.left,o.bisect=o.bisectRight=c.right,o.bisector=function(ve){return T(ve.length===1?function(Ee,Ve){return l(ve(Ee),Ve)}:ve)},o.shuffle=function(ve,Ee,Ve){(tt=arguments.length)<3&&(Ve=ve.length,tt<2&&(Ee=0));for(var tt=Ve-Ee,at,ct;tt;)ct=Math.random()*tt--|0,at=ve[tt+Ee],ve[tt+Ee]=ve[ct+Ee],ve[ct+Ee]=at;return ve},o.permute=function(ve,Ee){for(var Ve=Ee.length,tt=new Array(Ve);Ve--;)tt[Ve]=ve[Ee[Ve]];return tt},o.pairs=function(ve){for(var Ee=0,Ve=ve.length-1,tt=ve[0],at=new Array(Ve<0?0:Ve);Ee<Ve;)at[Ee]=[tt,tt=ve[++Ee]];return at},o.transpose=function(ve){if(!(ct=ve.length))return[];for(var Ee=-1,Ve=o.min(ve,i),tt=new Array(Ve);++Ee<Ve;)for(var at=-1,ct,Ct=tt[Ee]=new Array(ct);++at<ct;)Ct[at]=ve[at][Ee];return tt};function i(ve){return ve.length}o.zip=function(){return o.transpose(arguments)},o.keys=function(ve){var Ee=[];for(var Ve in ve)Ee.push(Ve);return Ee},o.values=function(ve){var Ee=[];for(var Ve in ve)Ee.push(ve[Ve]);return Ee},o.entries=function(ve){var Ee=[];for(var Ve in ve)Ee.push({key:Ve,value:ve[Ve]});return Ee},o.merge=function(ve){for(var Ee=ve.length,Ve,tt=-1,at=0,ct,Ct;++tt<Ee;)at+=ve[tt].length;for(ct=new Array(at);--Ee>=0;)for(Ct=ve[Ee],Ve=Ct.length;--Ve>=0;)ct[--at]=Ct[Ve];return ct};var d=Math.abs;o.range=function(ve,Ee,Ve){if(arguments.length<3&&(Ve=1,arguments.length<2&&(Ee=ve,ve=0)),(Ee-ve)/Ve===1/0)throw new Error("infinite range");var tt=[],at=x(d(Ve)),ct=-1,Ct;if(ve*=at,Ee*=at,Ve*=at,Ve<0)for(;(Ct=ve+Ve*++ct)>Ee;)tt.push(Ct/at);else for(;(Ct=ve+Ve*++ct)<Ee;)tt.push(Ct/at);return tt};function x(ve){for(var Ee=1;ve*Ee%1;)Ee*=10;return Ee}function w(ve,Ee){for(var Ve in Ee)Object.defineProperty(ve.prototype,Ve,{value:Ee[Ve],enumerable:!1})}o.map=function(ve,Ee){var Ve=new _;if(ve instanceof _)ve.forEach(function(At,Ht){Ve.set(At,Ht)});else if(Array.isArray(ve)){var tt=-1,at=ve.length,ct;if(arguments.length===1)for(;++tt<at;)Ve.set(tt,ve[tt]);else for(;++tt<at;)Ve.set(Ee.call(ve,ct=ve[tt],tt),ct)}else for(var Ct in ve)Ve.set(Ct,ve[Ct]);return Ve};function _(){this._=Object.create(null)}var m="__proto__",E="\0";w(_,{has:M,get:function(ve){return this._[A(ve)]},set:function(ve,Ee){return this._[A(ve)]=Ee},remove:b,keys:N,values:function(){var ve=[];for(var Ee in this._)ve.push(this._[Ee]);return ve},entries:function(){var ve=[];for(var Ee in this._)ve.push({key:s(Ee),value:this._[Ee]});return ve},size:k,empty:H,forEach:function(ve){for(var Ee in this._)ve.call(this,s(Ee),this._[Ee])}});function A(ve){return(ve+="")===m||ve[0]===E?E+ve:ve}function s(ve){return(ve+="")[0]===E?ve.slice(1):ve}function M(ve){return A(ve)in this._}function b(ve){return(ve=A(ve))in this._&&delete this._[ve]}function N(){var ve=[];for(var Ee in this._)ve.push(s(Ee));return ve}function k(){var ve=0;for(var Ee in this._)++ve;return ve}function H(){for(var ve in this._)return!1;return!0}o.nest=function(){var ve={},Ee=[],Ve=[],tt,at;function ct(At,Ht,Gt){if(Gt>=Ee.length)return at?at.call(ve,Ht):tt?Ht.sort(tt):Ht;for(var nr=-1,Lr=Ht.length,Dr=Ee[Gt++],tn,fn,Rr,Yr=new _,$r;++nr<Lr;)($r=Yr.get(tn=Dr(fn=Ht[nr])))?$r.push(fn):Yr.set(tn,[fn]);return At?(fn=At(),Rr=function(pn,mn){fn.set(pn,ct(At,mn,Gt))}):(fn={},Rr=function(pn,mn){fn[pn]=ct(At,mn,Gt)}),Yr.forEach(Rr),fn}function Ct(At,Ht){if(Ht>=Ee.length)return At;var Gt=[],nr=Ve[Ht++];return At.forEach(function(Lr,Dr){Gt.push({key:Lr,values:Ct(Dr,Ht)})}),nr?Gt.sort(function(Lr,Dr){return nr(Lr.key,Dr.key)}):Gt}return ve.map=function(At,Ht){return ct(Ht,At,0)},ve.entries=function(At){return Ct(ct(o.map,At,0),0)},ve.key=function(At){return Ee.push(At),ve},ve.sortKeys=function(At){return Ve[Ee.length-1]=At,ve},ve.sortValues=function(At){return tt=At,ve},ve.rollup=function(At){return at=At,ve},ve},o.set=function(ve){var Ee=new F;if(ve)for(var Ve=0,tt=ve.length;Ve<tt;++Ve)Ee.add(ve[Ve]);return Ee};function F(){this._=Object.create(null)}w(F,{has:M,add:function(ve){return this._[A(ve+="")]=!0,ve},remove:b,values:N,size:k,empty:H,forEach:function(ve){for(var Ee in this._)ve.call(this,s(Ee))}}),o.behavior={};function B(ve){return ve}o.rebind=function(ve,Ee){for(var Ve=1,tt=arguments.length,at;++Ve<tt;)ve[at=arguments[Ve]]=U(ve,Ee,Ee[at]);return ve};function U(ve,Ee,Ve){return function(){var tt=Ve.apply(Ee,arguments);return tt===Ee?ve:tt}}function z(ve,Ee){if(Ee in ve)return Ee;Ee=Ee.charAt(0).toUpperCase()+Ee.slice(1);for(var Ve=0,tt=W.length;Ve<tt;++Ve){var at=W[Ve]+Ee;if(at in ve)return at}}var W=["webkit","ms","moz","Moz","o","O"];function j(){}o.dispatch=function(){for(var ve=new ee,Ee=-1,Ve=arguments.length;++Ee<Ve;)ve[arguments[Ee]]=ie(ve);return ve};function ee(){}ee.prototype.on=function(ve,Ee){var Ve=ve.indexOf("."),tt="";if(Ve>=0&&(tt=ve.slice(Ve+1),ve=ve.slice(0,Ve)),ve)return arguments.length<2?this[ve].on(tt):this[ve].on(tt,Ee);if(arguments.length===2){if(Ee==null)for(ve in this)this.hasOwnProperty(ve)&&this[ve].on(tt,null);return this}};function ie(ve){var Ee=[],Ve=new _;function tt(){for(var at=Ee,ct=-1,Ct=at.length,At;++ct<Ct;)(At=at[ct].on)&&At.apply(this,arguments);return ve}return tt.on=function(at,ct){var Ct=Ve.get(at),At;return arguments.length<2?Ct&&Ct.on:(Ct&&(Ct.on=null,Ee=Ee.slice(0,At=Ee.indexOf(Ct)).concat(Ee.slice(At+1)),Ve.remove(at)),ct&&Ee.push(Ve.set(at,{on:ct})),ve)},tt}o.event=null;function oe(){o.event.preventDefault()}function he(){for(var ve=o.event,Ee;Ee=ve.sourceEvent;)ve=Ee;return ve}function ne(ve){for(var Ee=new ee,Ve=0,tt=arguments.length;++Ve<tt;)Ee[arguments[Ve]]=ie(Ee);return Ee.of=function(at,ct){return function(Ct){try{var At=Ct.sourceEvent=o.event;Ct.target=ve,o.event=Ct,Ee[Ct.type].apply(at,ct)}finally{o.event=At}}},Ee}o.requote=function(ve){return ve.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,le={}.__proto__?function(ve,Ee){ve.__proto__=Ee}:function(ve,Ee){for(var Ve in Ee)ve[Ve]=Ee[Ve]};function Q(ve){return le(ve,K),ve}var te=function(ve,Ee){return Ee.querySelector(ve)},ue=function(ve,Ee){return Ee.querySelectorAll(ve)},J=function(ve,Ee){var Ve=ve.matches||ve[z(ve,"matchesSelector")];return J=function(tt,at){return Ve.call(tt,at)},J(ve,Ee)};typeof Sizzle=="function"&&(te=function(ve,Ee){return Sizzle(ve,Ee)[0]||null},ue=Sizzle,J=Sizzle.matchesSelector),o.selection=function(){return o.select(v.documentElement)};var K=o.selection.prototype=[];K.select=function(ve){var Ee=[],Ve,tt,at,ct;ve=ce(ve);for(var Ct=-1,At=this.length;++Ct<At;){Ee.push(Ve=[]),Ve.parentNode=(at=this[Ct]).parentNode;for(var Ht=-1,Gt=at.length;++Ht<Gt;)(ct=at[Ht])?(Ve.push(tt=ve.call(ct,ct.__data__,Ht,Ct)),tt&&"__data__"in ct&&(tt.__data__=ct.__data__)):Ve.push(null)}return Q(Ee)};function ce(ve){return typeof ve=="function"?ve:function(){return te(ve,this)}}K.selectAll=function(ve){var Ee=[],Ve,tt;ve=ae(ve);for(var at=-1,ct=this.length;++at<ct;)for(var Ct=this[at],At=-1,Ht=Ct.length;++At<Ht;)(tt=Ct[At])&&(Ee.push(Ve=S(ve.call(tt,tt.__data__,At,at))),Ve.parentNode=tt);return Q(Ee)};function ae(ve){return typeof ve=="function"?ve:function(){return ue(ve,this)}}var de="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:de,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};o.ns={prefix:be,qualify:function(ve){var Ee=ve.indexOf(":"),Ve=ve;return Ee>=0&&(Ve=ve.slice(0,Ee))!=="xmlns"&&(ve=ve.slice(Ee+1)),be.hasOwnProperty(Ve)?{space:be[Ve],local:ve}:ve}},K.attr=function(ve,Ee){if(arguments.length<2){if(typeof ve=="string"){var Ve=this.node();return ve=o.ns.qualify(ve),ve.local?Ve.getAttributeNS(ve.space,ve.local):Ve.getAttribute(ve)}for(Ee in ve)this.each(Se(Ee,ve[Ee]));return this}return this.each(Se(ve,Ee))};function Se(ve,Ee){ve=o.ns.qualify(ve);function Ve(){this.removeAttribute(ve)}function tt(){this.removeAttributeNS(ve.space,ve.local)}function at(){this.setAttribute(ve,Ee)}function ct(){this.setAttributeNS(ve.space,ve.local,Ee)}function Ct(){var Ht=Ee.apply(this,arguments);Ht==null?this.removeAttribute(ve):this.setAttribute(ve,Ht)}function At(){var Ht=Ee.apply(this,arguments);Ht==null?this.removeAttributeNS(ve.space,ve.local):this.setAttributeNS(ve.space,ve.local,Ht)}return Ee==null?ve.local?tt:Ve:typeof Ee=="function"?ve.local?At:Ct:ve.local?ct:at}function Te(ve){return ve.trim().replace(/\s+/g," ")}K.classed=function(ve,Ee){if(arguments.length<2){if(typeof ve=="string"){var Ve=this.node(),tt=(ve=ke(ve)).length,at=-1;if(Ee=Ve.classList){for(;++at<tt;)if(!Ee.contains(ve[at]))return!1}else for(Ee=Ve.getAttribute("class");++at<tt;)if(!Ie(ve[at]).test(Ee))return!1;return!0}for(Ee in ve)this.each(Be(Ee,ve[Ee]));return this}return this.each(Be(ve,Ee))};function Ie(ve){return new RegExp("(?:^|\\s+)"+o.requote(ve)+"(?:\\s+|$)","g")}function ke(ve){return(ve+"").trim().split(/^|\s+/)}function Be(ve,Ee){ve=ke(ve).map(Me);var Ve=ve.length;function tt(){for(var ct=-1;++ct<Ve;)ve[ct](this,Ee)}function at(){for(var ct=-1,Ct=Ee.apply(this,arguments);++ct<Ve;)ve[ct](this,Ct)}return typeof Ee=="function"?at:tt}function Me(ve){var Ee=Ie(ve);return function(Ve,tt){if(at=Ve.classList)return tt?at.add(ve):at.remove(ve);var at=Ve.getAttribute("class")||"";tt?(Ee.lastIndex=0,Ee.test(at)||Ve.setAttribute("class",Te(at+" "+ve))):Ve.setAttribute("class",Te(at.replace(Ee," ")))}}K.style=function(ve,Ee,Ve){var tt=arguments.length;if(tt<3){if(typeof ve!="string"){tt<2&&(Ee="");for(Ve in ve)this.each(Oe(Ve,ve[Ve],Ee));return this}if(tt<2){var at=this.node();return r(at).getComputedStyle(at,null).getPropertyValue(ve)}Ve=""}return this.each(Oe(ve,Ee,Ve))};function Oe(ve,Ee,Ve){function tt(){this.style.removeProperty(ve)}function at(){this.style.setProperty(ve,Ee,Ve)}function ct(){var Ct=Ee.apply(this,arguments);Ct==null?this.style.removeProperty(ve):this.style.setProperty(ve,Ct,Ve)}return Ee==null?tt:typeof Ee=="function"?ct:at}K.property=function(ve,Ee){if(arguments.length<2){if(typeof ve=="string")return this.node()[ve];for(Ee in ve)this.each(_e(Ee,ve[Ee]));return this}return this.each(_e(ve,Ee))};function _e(ve,Ee){function Ve(){delete this[ve]}function tt(){this[ve]=Ee}function at(){var ct=Ee.apply(this,arguments);ct==null?delete this[ve]:this[ve]=ct}return Ee==null?Ve:typeof Ee=="function"?at:tt}K.text=function(ve){return arguments.length?this.each(typeof ve=="function"?function(){var Ee=ve.apply(this,arguments);this.textContent=Ee??""}:ve==null?function(){this.textContent=""}:function(){this.textContent=ve}):this.node().textContent},K.html=function(ve){return arguments.length?this.each(typeof ve=="function"?function(){var Ee=ve.apply(this,arguments);this.innerHTML=Ee??""}:ve==null?function(){this.innerHTML=""}:function(){this.innerHTML=ve}):this.node().innerHTML},K.append=function(ve){return ve=Ne(ve),this.select(function(){return this.appendChild(ve.apply(this,arguments))})};function Ne(ve){function Ee(){var tt=this.ownerDocument,at=this.namespaceURI;return at===de&&tt.documentElement.namespaceURI===de?tt.createElement(ve):tt.createElementNS(at,ve)}function Ve(){return this.ownerDocument.createElementNS(ve.space,ve.local)}return typeof ve=="function"?ve:(ve=o.ns.qualify(ve)).local?Ve:Ee}K.insert=function(ve,Ee){return ve=Ne(ve),Ee=ce(Ee),this.select(function(){return this.insertBefore(ve.apply(this,arguments),Ee.apply(this,arguments)||null)})},K.remove=function(){return this.each(Ce)};function Ce(){var ve=this.parentNode;ve&&ve.removeChild(this)}K.data=function(ve,Ee){var Ve=-1,tt=this.length,at,ct;if(!arguments.length){for(ve=new Array(tt=(at=this[0]).length);++Ve<tt;)(ct=at[Ve])&&(ve[Ve]=ct.__data__);return ve}function Ct(nr,Lr){var Dr,tn=nr.length,fn=Lr.length,Rr=Math.min(tn,fn),Yr=new Array(fn),$r=new Array(fn),pn=new Array(tn),mn,on;if(Ee){var Xn=new _,oa=new Array(tn),da;for(Dr=-1;++Dr<tn;)(mn=nr[Dr])&&(Xn.has(da=Ee.call(mn,mn.__data__,Dr))?pn[Dr]=mn:Xn.set(da,mn),oa[Dr]=da);for(Dr=-1;++Dr<fn;)(mn=Xn.get(da=Ee.call(Lr,on=Lr[Dr],Dr)))?mn!==!0&&(Yr[Dr]=mn,mn.__data__=on):$r[Dr]=Ye(on),Xn.set(da,!0);for(Dr=-1;++Dr<tn;)Dr in oa&&Xn.get(oa[Dr])!==!0&&(pn[Dr]=nr[Dr])}else{for(Dr=-1;++Dr<Rr;)mn=nr[Dr],on=Lr[Dr],mn?(mn.__data__=on,Yr[Dr]=mn):$r[Dr]=Ye(on);for(;Dr<fn;++Dr)$r[Dr]=Ye(Lr[Dr]);for(;Dr<tn;++Dr)pn[Dr]=nr[Dr]}$r.update=Yr,$r.parentNode=Yr.parentNode=pn.parentNode=nr.parentNode,At.push($r),Ht.push(Yr),Gt.push(pn)}var At=qe([]),Ht=Q([]),Gt=Q([]);if(typeof ve=="function")for(;++Ve<tt;)Ct(at=this[Ve],ve.call(at,at.parentNode.__data__,Ve));else for(;++Ve<tt;)Ct(at=this[Ve],ve);return Ht.enter=function(){return At},Ht.exit=function(){return Gt},Ht};function Ye(ve){return{__data__:ve}}K.datum=function(ve){return arguments.length?this.property("__data__",ve):this.property("__data__")},K.filter=function(ve){var Ee=[],Ve,tt,at;typeof ve!="function"&&(ve=rt(ve));for(var ct=0,Ct=this.length;ct<Ct;ct++){Ee.push(Ve=[]),Ve.parentNode=(tt=this[ct]).parentNode;for(var At=0,Ht=tt.length;At<Ht;At++)(at=tt[At])&&ve.call(at,at.__data__,At,ct)&&Ve.push(at)}return Q(Ee)};function rt(ve){return function(){return J(this,ve)}}K.order=function(){for(var ve=-1,Ee=this.length;++ve<Ee;)for(var Ve=this[ve],tt=Ve.length-1,at=Ve[tt],ct;--tt>=0;)(ct=Ve[tt])&&(at&&at!==ct.nextSibling&&at.parentNode.insertBefore(ct,at),at=ct);return this},K.sort=function(ve){ve=ot.apply(this,arguments);for(var Ee=-1,Ve=this.length;++Ee<Ve;)this[Ee].sort(ve);return this.order()};function ot(ve){return arguments.length||(ve=l),function(Ee,Ve){return Ee&&Ve?ve(Ee.__data__,Ve.__data__):!Ee-!Ve}}K.each=function(ve){return $e(this,function(Ee,Ve,tt){ve.call(Ee,Ee.__data__,Ve,tt)})};function $e(ve,Ee){for(var Ve=0,tt=ve.length;Ve<tt;Ve++)for(var at=ve[Ve],ct=0,Ct=at.length,At;ct<Ct;ct++)(At=at[ct])&&Ee(At,ct,Ve);return ve}K.call=function(ve){var Ee=S(arguments);return ve.apply(Ee[0]=this,Ee),this},K.empty=function(){return!this.node()},K.node=function(){for(var ve=0,Ee=this.length;ve<Ee;ve++)for(var Ve=this[ve],tt=0,at=Ve.length;tt<at;tt++){var ct=Ve[tt];if(ct)return ct}return null},K.size=function(){var ve=0;return $e(this,function(){++ve}),ve};function qe(ve){return le(ve,ht),ve}var ht=[];o.selection.enter=qe,o.selection.enter.prototype=ht,ht.append=K.append,ht.empty=K.empty,ht.node=K.node,ht.call=K.call,ht.size=K.size,ht.select=function(ve){for(var Ee=[],Ve,tt,at,ct,Ct,At=-1,Ht=this.length;++At<Ht;){at=(ct=this[At]).update,Ee.push(Ve=[]),Ve.parentNode=ct.parentNode;for(var Gt=-1,nr=ct.length;++Gt<nr;)(Ct=ct[Gt])?(Ve.push(at[Gt]=tt=ve.call(ct.parentNode,Ct.__data__,Gt,At)),tt.__data__=Ct.__data__):Ve.push(null)}return Q(Ee)},ht.insert=function(ve,Ee){return arguments.length<2&&(Ee=vt(this)),K.insert.call(this,ve,Ee)};function vt(ve){var Ee,Ve;return function(tt,at,ct){var Ct=ve[ct].update,At=Ct.length,Ht;for(ct!=Ve&&(Ve=ct,Ee=0),at>=Ee&&(Ee=at+1);!(Ht=Ct[Ee])&&++Ee<At;);return Ht}}o.select=function(ve){var Ee;return typeof ve=="string"?(Ee=[te(ve,v)],Ee.parentNode=v.documentElement):(Ee=[ve],Ee.parentNode=g(ve)),Q([Ee])},o.selectAll=function(ve){var Ee;return typeof ve=="string"?(Ee=S(ue(ve,v)),Ee.parentNode=v.documentElement):(Ee=S(ve),Ee.parentNode=null),Q([Ee])},K.on=function(ve,Ee,Ve){var tt=arguments.length;if(tt<3){if(typeof ve!="string"){tt<2&&(Ee=!1);for(Ve in ve)this.each(pt(Ve,ve[Ve],Ee));return this}if(tt<2)return(tt=this.node()["__on"+ve])&&tt._;Ve=!1}return this.each(pt(ve,Ee,Ve))};function pt(ve,Ee,Ve){var tt="__on"+ve,at=ve.indexOf("."),ct=Mt;at>0&&(ve=ve.slice(0,at));var Ct=wt.get(ve);Ct&&(ve=Ct,ct=nt);function At(){var nr=this[tt];nr&&(this.removeEventListener(ve,nr,nr.$),delete this[tt])}function Ht(){var nr=ct(Ee,S(arguments));At.call(this),this.addEventListener(ve,this[tt]=nr,nr.$=Ve),nr._=Ee}function Gt(){var nr=new RegExp("^__on([^.]+)"+o.requote(ve)+"$"),Lr;for(var Dr in this)if(Lr=Dr.match(nr)){var tn=this[Dr];this.removeEventListener(Lr[1],tn,tn.$),delete this[Dr]}}return at?Ee?Ht:At:Ee?j:Gt}var wt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&wt.forEach(function(ve){"on"+ve in v&&wt.remove(ve)});function Mt(ve,Ee){return function(Ve){var tt=o.event;o.event=Ve,Ee[0]=this.__data__;try{ve.apply(this,Ee)}finally{o.event=tt}}}function nt(ve,Ee){var Ve=Mt(ve,Ee);return function(tt){var at=this,ct=tt.relatedTarget;(!ct||ct!==at&&!(ct.compareDocumentPosition(at)&8))&&Ve.call(at,tt)}}var Fe,We=0;function Ze(ve){var Ee=".dragsuppress-"+ ++We,Ve="click"+Ee,tt=o.select(r(ve)).on("touchmove"+Ee,oe).on("dragstart"+Ee,oe).on("selectstart"+Ee,oe);if(Fe==null&&(Fe="onselectstart"in ve?!1:z(ve.style,"userSelect")),Fe){var at=g(ve).style,ct=at[Fe];at[Fe]="none"}return function(Ct){if(tt.on(Ee,null),Fe&&(at[Fe]=ct),Ct){var At=function(){tt.on(Ve,null)};tt.on(Ve,function(){oe(),At()},!0),setTimeout(At,0)}}}o.mouse=function(ve){return Pe(ve,he())};var Ge=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Pe(ve,Ee){Ee.changedTouches&&(Ee=Ee.changedTouches[0]);var Ve=ve.ownerSVGElement||ve;if(Ve.createSVGPoint){var tt=Ve.createSVGPoint();if(Ge<0){var at=r(ve);if(at.scrollX||at.scrollY){Ve=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ct=Ve[0][0].getScreenCTM();Ge=!(ct.f||ct.e),Ve.remove()}}return Ge?(tt.x=Ee.pageX,tt.y=Ee.pageY):(tt.x=Ee.clientX,tt.y=Ee.clientY),tt=tt.matrixTransform(ve.getScreenCTM().inverse()),[tt.x,tt.y]}var Ct=ve.getBoundingClientRect();return[Ee.clientX-Ct.left-ve.clientLeft,Ee.clientY-Ct.top-ve.clientTop]}o.touch=function(ve,Ee,Ve){if(arguments.length<3&&(Ve=Ee,Ee=he().changedTouches),Ee){for(var tt=0,at=Ee.length,ct;tt<at;++tt)if((ct=Ee[tt]).identifier===Ve)return Pe(ve,ct)}},o.behavior.drag=function(){var ve=ne(at,"drag","dragstart","dragend"),Ee=null,Ve=ct(j,o.mouse,r,"mousemove","mouseup"),tt=ct(Re,o.touch,B,"touchmove","touchend");function at(){this.on("mousedown.drag",Ve).on("touchstart.drag",tt)}function ct(Ct,At,Ht,Gt,nr){return function(){var Lr=this,Dr=o.event.target.correspondingElement||o.event.target,tn=Lr.parentNode,fn=ve.of(Lr,arguments),Rr=0,Yr=Ct(),$r=".drag"+(Yr==null?"":"-"+Yr),pn,mn=o.select(Ht(Dr)).on(Gt+$r,oa).on(nr+$r,da),on=Ze(Dr),Xn=At(tn,Yr);Ee?(pn=Ee.apply(Lr,arguments),pn=[pn.x-Xn[0],pn.y-Xn[1]]):pn=[0,0],fn({type:"dragstart"});function oa(){var na=At(tn,Yr),fa,pa;na&&(fa=na[0]-Xn[0],pa=na[1]-Xn[1],Rr|=fa|pa,Xn=na,fn({type:"drag",x:na[0]+pn[0],y:na[1]+pn[1],dx:fa,dy:pa}))}function da(){At(tn,Yr)&&(mn.on(Gt+$r,null).on(nr+$r,null),on(Rr),fn({type:"dragend"}))}}}return at.origin=function(Ct){return arguments.length?(Ee=Ct,at):Ee},o.rebind(at,ve,"on")};function Re(){return o.event.changedTouches[0].identifier}o.touches=function(ve,Ee){return arguments.length<2&&(Ee=he().touches),Ee?S(Ee).map(function(Ve){var tt=Pe(ve,Ve);return tt.identifier=Ve.identifier,tt}):[]};var je=1e-6,De=je*je,ge=Math.PI,we=2*ge,Ue=we-je,et=ge/2,st=ge/180,lt=180/ge;function Wt(ve,Ee,Ve){return(Ee[0]-ve[0])*(Ve[1]-ve[1])-(Ee[1]-ve[1])*(Ve[0]-ve[0])}function jt(ve){return ve>1?et:ve<-1?-et:Math.asin(ve)}function Tt(ve){return((ve=Math.exp(ve))-1/ve)/2}function Rt(ve){return((ve=Math.exp(ve))+1/ve)/2}function Zt(ve){return((ve=Math.exp(2*ve))-1)/(ve+1)}var mr=Math.SQRT2,gt=2,Kt=4;o.interpolateZoom=function(ve,Ee){var Ve=ve[0],tt=ve[1],at=ve[2],ct=Ee[0],Ct=Ee[1],At=Ee[2],Ht=ct-Ve,Gt=Ct-tt,nr=Ht*Ht+Gt*Gt,Lr,Dr;if(nr<De)Dr=Math.log(At/at)/mr,Lr=function(pn){return[Ve+pn*Ht,tt+pn*Gt,at*Math.exp(mr*pn*Dr)]};else{var tn=Math.sqrt(nr),fn=(At*At-at*at+Kt*nr)/(2*at*gt*tn),Rr=(At*At-at*at-Kt*nr)/(2*At*gt*tn),Yr=Math.log(Math.sqrt(fn*fn+1)-fn),$r=Math.log(Math.sqrt(Rr*Rr+1)-Rr);Dr=($r-Yr)/mr,Lr=function(pn){var mn=pn*Dr,on=Rt(Yr),Xn=at/(gt*tn)*(on*Zt(mr*mn+Yr)-Tt(Yr));return[Ve+Xn*Ht,tt+Xn*Gt,at*on/Rt(mr*mn+Yr)]}}return Lr.duration=Dr*1e3,Lr},o.behavior.zoom=function(){var ve={x:0,y:0,k:1},Ee,Ve,tt,at=[960,500],ct=$t,Ct=250,At=0,Ht="mousedown.zoom",Gt="mousemove.zoom",nr="mouseup.zoom",Lr,Dr="touchstart.zoom",tn,fn=ne(mn,"zoomstart","zoom","zoomend"),Rr,Yr,$r,pn;lr||(lr="onwheel"in v?(br=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(br=function(){return o.event.wheelDelta},"mousewheel"):(br=function(){return-o.event.detail},"MozMousePixelScroll"));function mn(ra){ra.on(Ht,Ua).on(lr+".zoom",co).on("dblclick.zoom",_i).on(Dr,bi)}mn.event=function(ra){ra.each(function(){var Za=fn.of(this,arguments),Ca=ve;Or?o.select(this).transition().each("start.zoom",function(){ve=this.__chart__||{x:0,y:0,k:1},pa(Za)}).tween("zoom:zoom",function(){var li=at[0],Vi=at[1],wi=Ve?Ve[0]:li/2,Co=Ve?Ve[1]:Vi/2,Lo=o.interpolateZoom([(wi-ve.x)/ve.k,(Co-ve.y)/ve.k,li/ve.k],[(wi-Ca.x)/Ca.k,(Co-Ca.y)/Ca.k,li/Ca.k]);return function(Oo){var Hi=Lo(Oo),Xo=li/Hi[2];this.__chart__=ve={x:wi-Hi[0]*Xo,y:Co-Hi[1]*Xo,k:Xo},Wa(Za)}}).each("interrupt.zoom",function(){Da(Za)}).each("end.zoom",function(){Da(Za)}):(this.__chart__=ve,pa(Za),Wa(Za),Da(Za))})},mn.translate=function(ra){return arguments.length?(ve={x:+ra[0],y:+ra[1],k:ve.k},fa(),mn):[ve.x,ve.y]},mn.scale=function(ra){return arguments.length?(ve={x:ve.x,y:ve.y,k:null},oa(+ra),fa(),mn):ve.k},mn.scaleExtent=function(ra){return arguments.length?(ct=ra==null?$t:[+ra[0],+ra[1]],mn):ct},mn.center=function(ra){return arguments.length?(tt=ra&&[+ra[0],+ra[1]],mn):tt},mn.size=function(ra){return arguments.length?(at=ra&&[+ra[0],+ra[1]],mn):at},mn.duration=function(ra){return arguments.length?(Ct=+ra,mn):Ct},mn.x=function(ra){return arguments.length?(Yr=ra,Rr=ra.copy(),ve={x:0,y:0,k:1},mn):Yr},mn.y=function(ra){return arguments.length?(pn=ra,$r=ra.copy(),ve={x:0,y:0,k:1},mn):pn};function on(ra){return[(ra[0]-ve.x)/ve.k,(ra[1]-ve.y)/ve.k]}function Xn(ra){return[ra[0]*ve.k+ve.x,ra[1]*ve.k+ve.y]}function oa(ra){ve.k=Math.max(ct[0],Math.min(ct[1],ra))}function da(ra,Za){Za=Xn(Za),ve.x+=ra[0]-Za[0],ve.y+=ra[1]-Za[1]}function na(ra,Za,Ca,li){ra.__chart__={x:ve.x,y:ve.y,k:ve.k},oa(Math.pow(2,li)),da(Ve=Za,Ca),ra=o.select(ra),Ct>0&&(ra=ra.transition().duration(Ct)),ra.call(mn.event)}function fa(){Yr&&Yr.domain(Rr.range().map(function(ra){return(ra-ve.x)/ve.k}).map(Rr.invert)),pn&&pn.domain($r.range().map(function(ra){return(ra-ve.y)/ve.k}).map($r.invert))}function pa(ra){At++||ra({type:"zoomstart"})}function Wa(ra){fa(),ra({type:"zoom",scale:ve.k,translate:[ve.x,ve.y]})}function Da(ra){--At||(ra({type:"zoomend"}),Ve=null)}function Ua(){var ra=this,Za=fn.of(ra,arguments),Ca=0,li=o.select(r(ra)).on(Gt,Co).on(nr,Lo),Vi=on(o.mouse(ra)),wi=Ze(ra);Ft.call(ra),pa(Za);function Co(){Ca=1,da(o.mouse(ra),Vi),Wa(Za)}function Lo(){li.on(Gt,null).on(nr,null),wi(Ca),Da(Za)}}function bi(){var ra=this,Za=fn.of(ra,arguments),Ca={},li=0,Vi,wi=".zoom-"+o.event.changedTouches[0].identifier,Co="touchmove"+wi,Lo="touchend"+wi,Oo=[],Hi=o.select(ra),Xo=Ze(ra);Ra(),pa(Za),Hi.on(Ht,null).on(Dr,Ra);function ha(){var ko=o.touches(ra);return Vi=ve.k,ko.forEach(function(Li){Li.identifier in Ca&&(Ca[Li.identifier]=on(Li))}),ko}function Ra(){var ko=o.event.target;o.select(ko).on(Co,ss).on(Lo,ps),Oo.push(ko);for(var Li=o.event.changedTouches,bo=0,ho=Li.length;bo<ho;++bo)Ca[Li[bo].identifier]=null;var js=ha(),cl=Date.now();if(js.length===1){if(cl-tn<500){var qi=js[0];na(ra,qi,Ca[qi.identifier],Math.floor(Math.log(ve.k)/Math.LN2)+1),oe()}tn=cl}else if(js.length>1){var qi=js[0],Pu=js[1],ui=qi[0]-Pu[0],eo=qi[1]-Pu[1];li=ui*ui+eo*eo}}function ss(){var ko=o.touches(ra),Li,bo,ho,js;Ft.call(ra);for(var cl=0,qi=ko.length;cl<qi;++cl,js=null)if(ho=ko[cl],js=Ca[ho.identifier]){if(bo)break;Li=ho,bo=js}if(js){var Pu=(Pu=ho[0]-Li[0])*Pu+(Pu=ho[1]-Li[1])*Pu,ui=li&&Math.sqrt(Pu/li);Li=[(Li[0]+ho[0])/2,(Li[1]+ho[1])/2],bo=[(bo[0]+js[0])/2,(bo[1]+js[1])/2],oa(ui*Vi)}tn=null,da(Li,bo),Wa(Za)}function ps(){if(o.event.touches.length){for(var ko=o.event.changedTouches,Li=0,bo=ko.length;Li<bo;++Li)delete Ca[ko[Li].identifier];for(var ho in Ca)return void ha()}o.selectAll(Oo).on(wi,null),Hi.on(Ht,Ua).on(Dr,bi),Xo(),Da(Za)}}function co(){var ra=fn.of(this,arguments);Lr?clearTimeout(Lr):(Ft.call(this),Ee=on(Ve=tt||o.mouse(this)),pa(ra)),Lr=setTimeout(function(){Lr=null,Da(ra)},50),oe(),oa(Math.pow(2,br()*.002)*ve.k),da(Ve,Ee),Wa(ra)}function _i(){var ra=o.mouse(this),Za=Math.log(ve.k)/Math.LN2;na(this,ra,on(ra),o.event.shiftKey?Math.ceil(Za)-1:Math.floor(Za)+1)}return o.rebind(mn,fn,"on")};var $t=[0,1/0],br,lr;o.color=mt;function mt(){}mt.prototype.toString=function(){return this.rgb()+""},o.hsl=ut;function ut(ve,Ee,Ve){return this instanceof ut?(this.h=+ve,this.s=+Ee,void(this.l=+Ve)):arguments.length<2?ve instanceof ut?new ut(ve.h,ve.s,ve.l):wr(""+ve,pr,ut):new ut(ve,Ee,Ve)}var bt=ut.prototype=new mt;bt.brighter=function(ve){return ve=Math.pow(.7,arguments.length?ve:1),new ut(this.h,this.s,this.l/ve)},bt.darker=function(ve){return ve=Math.pow(.7,arguments.length?ve:1),new ut(this.h,this.s,ve*this.l)},bt.rgb=function(){return Et(this.h,this.s,this.l)};function Et(ve,Ee,Ve){var tt,at;ve=isNaN(ve)?0:(ve%=360)<0?ve+360:ve,Ee=isNaN(Ee)||Ee<0?0:Ee>1?1:Ee,Ve=Ve<0?0:Ve>1?1:Ve,at=Ve<=.5?Ve*(1+Ee):Ve+Ee-Ve*Ee,tt=2*Ve-at;function ct(At){return At>360?At-=360:At<0&&(At+=360),At<60?tt+(at-tt)*At/60:At<180?at:At<240?tt+(at-tt)*(240-At)/60:tt}function Ct(At){return Math.round(ct(At)*255)}return new cr(Ct(ve+120),Ct(ve),Ct(ve-120))}o.hcl=Dt;function Dt(ve,Ee,Ve){return this instanceof Dt?(this.h=+ve,this.c=+Ee,void(this.l=+Ve)):arguments.length<2?ve instanceof Dt?new Dt(ve.h,ve.c,ve.l):ve instanceof Ut?Nt(ve.l,ve.a,ve.b):Nt((ve=Wr((ve=o.rgb(ve)).r,ve.g,ve.b)).l,ve.a,ve.b):new Dt(ve,Ee,Ve)}var Yt=Dt.prototype=new mt;Yt.brighter=function(ve){return new Dt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?ve:1)))},Yt.darker=function(ve){return new Dt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?ve:1)))},Yt.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(ve,Ee,Ve){return isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=0),new Ut(Ve,Math.cos(ve*=st)*Ee,Math.sin(ve)*Ee)}o.lab=Ut;function Ut(ve,Ee,Ve){return this instanceof Ut?(this.l=+ve,this.a=+Ee,void(this.b=+Ve)):arguments.length<2?ve instanceof Ut?new Ut(ve.l,ve.a,ve.b):ve instanceof Dt?Bt(ve.h,ve.c,ve.l):Wr((ve=cr(ve)).r,ve.g,ve.b):new Ut(ve,Ee,Ve)}var Jt=18,hr=.95047,vr=1,gr=1.08883,Xe=Ut.prototype=new mt;Xe.brighter=function(ve){return new Ut(Math.min(100,this.l+Jt*(arguments.length?ve:1)),this.a,this.b)},Xe.darker=function(ve){return new Ut(Math.max(0,this.l-Jt*(arguments.length?ve:1)),this.a,this.b)},Xe.rgb=function(){return He(this.l,this.a,this.b)};function He(ve,Ee,Ve){var tt=(ve+16)/116,at=tt+Ee/500,ct=tt-Ve/200;return at=Pt(at)*hr,tt=Pt(tt)*vr,ct=Pt(ct)*gr,new cr(ur(3.2404542*at-1.5371385*tt-.4985314*ct),ur(-.969266*at+1.8760108*tt+.041556*ct),ur(.0556434*at-.2040259*tt+1.0572252*ct))}function Nt(ve,Ee,Ve){return ve>0?new Dt(Math.atan2(Ve,Ee)*lt,Math.sqrt(Ee*Ee+Ve*Ve),ve):new Dt(NaN,NaN,ve)}function Pt(ve){return ve>.206893034?ve*ve*ve:(ve-.13793103448275862)/7.787037}function Qt(ve){return ve>.008856?Math.pow(ve,.3333333333333333):7.787037*ve+.13793103448275862}function ur(ve){return Math.round(255*(ve<=.00304?12.92*ve:1.055*Math.pow(ve,.4166666666666667)-.055))}o.rgb=cr;function cr(ve,Ee,Ve){return this instanceof cr?(this.r=~~ve,this.g=~~Ee,void(this.b=~~Ve)):arguments.length<2?ve instanceof cr?new cr(ve.r,ve.g,ve.b):wr(""+ve,cr,Et):new cr(ve,Ee,Ve)}function tr(ve){return new cr(ve>>16,ve>>8&255,ve&255)}function zt(ve){return tr(ve)+""}var or=cr.prototype=new mt;or.brighter=function(ve){ve=Math.pow(.7,arguments.length?ve:1);var Ee=this.r,Ve=this.g,tt=this.b,at=30;return!Ee&&!Ve&&!tt?new cr(at,at,at):(Ee&&Ee<at&&(Ee=at),Ve&&Ve<at&&(Ve=at),tt&&tt<at&&(tt=at),new cr(Math.min(255,Ee/ve),Math.min(255,Ve/ve),Math.min(255,tt/ve)))},or.darker=function(ve){return ve=Math.pow(.7,arguments.length?ve:1),new cr(ve*this.r,ve*this.g,ve*this.b)},or.hsl=function(){return pr(this.r,this.g,this.b)},or.toString=function(){return"#"+dr(this.r)+dr(this.g)+dr(this.b)};function dr(ve){return ve<16?"0"+Math.max(0,ve).toString(16):Math.min(255,ve).toString(16)}function wr(ve,Ee,Ve){var tt=0,at=0,ct=0,Ct,At,Ht;if(Ct=/([a-z]+)\((.*)\)/.exec(ve=ve.toLowerCase()),Ct)switch(At=Ct[2].split(","),Ct[1]){case"hsl":return Ve(parseFloat(At[0]),parseFloat(At[1])/100,parseFloat(At[2])/100);case"rgb":return Ee(Ir(At[0]),Ir(At[1]),Ir(At[2]))}return(Ht=ln.get(ve))?Ee(Ht.r,Ht.g,Ht.b):(ve!=null&&ve.charAt(0)==="#"&&!isNaN(Ht=parseInt(ve.slice(1),16))&&(ve.length===4?(tt=(Ht&3840)>>4,tt=tt>>4|tt,at=Ht&240,at=at>>4|at,ct=Ht&15,ct=ct<<4|ct):ve.length===7&&(tt=(Ht&16711680)>>16,at=(Ht&65280)>>8,ct=Ht&255)),Ee(tt,at,ct))}function pr(ve,Ee,Ve){var tt=Math.min(ve/=255,Ee/=255,Ve/=255),at=Math.max(ve,Ee,Ve),ct=at-tt,Ct,At,Ht=(at+tt)/2;return ct?(At=Ht<.5?ct/(at+tt):ct/(2-at-tt),ve==at?Ct=(Ee-Ve)/ct+(Ee<Ve?6:0):Ee==at?Ct=(Ve-ve)/ct+2:Ct=(ve-Ee)/ct+4,Ct*=60):(Ct=NaN,At=Ht>0&&Ht<1?0:Ct),new ut(Ct,At,Ht)}function Wr(ve,Ee,Ve){ve=Pr(ve),Ee=Pr(Ee),Ve=Pr(Ve);var tt=Qt((.4124564*ve+.3575761*Ee+.1804375*Ve)/hr),at=Qt((.2126729*ve+.7151522*Ee+.072175*Ve)/vr),ct=Qt((.0193339*ve+.119192*Ee+.9503041*Ve)/gr);return Ut(116*at-16,500*(tt-at),200*(at-ct))}function Pr(ve){return(ve/=255)<=.04045?ve/12.92:Math.pow((ve+.055)/1.055,2.4)}function Ir(ve){var Ee=parseFloat(ve);return ve.charAt(ve.length-1)==="%"?Math.round(Ee*2.55):Ee}var ln=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ln.forEach(function(ve,Ee){ln.set(ve,tr(Ee))});function an(ve){return typeof ve=="function"?ve:function(){return ve}}o.functor=an,o.xhr=_n(B);function _n(ve){return function(Ee,Ve,tt){return arguments.length===2&&typeof Ve=="function"&&(tt=Ve,Ve=null),Mn(Ee,Ve,ve,tt)}}function Mn(ve,Ee,Ve,tt){var at={},ct=o.dispatch("beforesend","progress","load","error"),Ct={},At=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in At)&&/^(http(s)?:)?\/\//.test(ve)&&(At=new XDomainRequest),"onload"in At?At.onload=At.onerror=Gt:At.onreadystatechange=function(){At.readyState>3&&Gt()};function Gt(){var nr=At.status,Lr;if(!nr&&Nr(At)||nr>=200&&nr<300||nr===304){try{Lr=Ve.call(at,At)}catch(Dr){ct.error.call(at,Dr);return}ct.load.call(at,Lr)}else ct.error.call(at,At)}return At.onprogress=function(nr){var Lr=o.event;o.event=nr;try{ct.progress.call(at,At)}finally{o.event=Lr}},at.header=function(nr,Lr){return nr=(nr+"").toLowerCase(),arguments.length<2?Ct[nr]:(Lr==null?delete Ct[nr]:Ct[nr]=Lr+"",at)},at.mimeType=function(nr){return arguments.length?(Ee=nr==null?null:nr+"",at):Ee},at.responseType=function(nr){return arguments.length?(Ht=nr,at):Ht},at.response=function(nr){return Ve=nr,at},["get","post"].forEach(function(nr){at[nr]=function(){return at.send.apply(at,[nr].concat(S(arguments)))}}),at.send=function(nr,Lr,Dr){if(arguments.length===2&&typeof Lr=="function"&&(Dr=Lr,Lr=null),At.open(nr,ve,!0),Ee!=null&&!("accept"in Ct)&&(Ct.accept=Ee+",*/*"),At.setRequestHeader)for(var tn in Ct)At.setRequestHeader(tn,Ct[tn]);return Ee!=null&&At.overrideMimeType&&At.overrideMimeType(Ee),Ht!=null&&(At.responseType=Ht),Dr!=null&&at.on("error",Dr).on("load",function(fn){Dr(null,fn)}),ct.beforesend.call(at,At),At.send(Lr??null),at},at.abort=function(){return At.abort(),at},o.rebind(at,ct,"on"),tt==null?at:at.get(Sr(tt))}function Sr(ve){return ve.length===1?function(Ee,Ve){ve(Ee==null?Ve:null)}:ve}function Nr(ve){var Ee=ve.responseType;return Ee&&Ee!=="text"?ve.response:ve.responseText}o.dsv=function(ve,Ee){var Ve=new RegExp('["'+ve+`
]`),tt=ve.charCodeAt(0);function at(Gt,nr,Lr){arguments.length<3&&(Lr=nr,nr=null);var Dr=Mn(Gt,Ee,nr==null?ct:Ct(nr),Lr);return Dr.row=function(tn){return arguments.length?Dr.response((nr=tn)==null?ct:Ct(tn)):nr},Dr}function ct(Gt){return at.parse(Gt.responseText)}function Ct(Gt){return function(nr){return at.parse(nr.responseText,Gt)}}at.parse=function(Gt,nr){var Lr;return at.parseRows(Gt,function(Dr,tn){if(Lr)return Lr(Dr,tn-1);var fn=function(Rr){for(var Yr={},$r=Dr.length,pn=0;pn<$r;++pn)Yr[Dr[pn]]=Rr[pn];return Yr};Lr=nr?function(Rr,Yr){return nr(fn(Rr),Yr)}:fn})},at.parseRows=function(Gt,nr){var Lr={},Dr={},tn=[],fn=Gt.length,Rr=0,Yr=0,$r,pn;function mn(){if(Rr>=fn)return Dr;if(pn)return pn=!1,Lr;var Xn=Rr;if(Gt.charCodeAt(Xn)===34){for(var oa=Xn;oa++<fn;)if(Gt.charCodeAt(oa)===34){if(Gt.charCodeAt(oa+1)!==34)break;++oa}Rr=oa+2;var da=Gt.charCodeAt(oa+1);return da===13?(pn=!0,Gt.charCodeAt(oa+2)===10&&++Rr):da===10&&(pn=!0),Gt.slice(Xn+1,oa).replace(/""/g,'"')}for(;Rr<fn;){var da=Gt.charCodeAt(Rr++),na=1;if(da===10)pn=!0;else if(da===13)pn=!0,Gt.charCodeAt(Rr)===10&&(++Rr,++na);else if(da!==tt)continue;return Gt.slice(Xn,Rr-na)}return Gt.slice(Xn)}for(;($r=mn())!==Dr;){for(var on=[];$r!==Lr&&$r!==Dr;)on.push($r),$r=mn();nr&&(on=nr(on,Yr++))==null||tn.push(on)}return tn},at.format=function(Gt){if(Array.isArray(Gt[0]))return at.formatRows(Gt);var nr=new F,Lr=[];return Gt.forEach(function(Dr){for(var tn in Dr)nr.has(tn)||Lr.push(nr.add(tn))}),[Lr.map(Ht).join(ve)].concat(Gt.map(function(Dr){return Lr.map(function(tn){return Ht(Dr[tn])}).join(ve)})).join(`
`)},at.formatRows=function(Gt){return Gt.map(At).join(`
`)};function At(Gt){return Gt.map(Ht).join(ve)}function Ht(Gt){return Ve.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return at},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("	","text/tab-separated-values");var Zr,Fr,cn,vn,Cn=this[z(this,"requestAnimationFrame")]||function(ve){setTimeout(ve,17)};o.timer=function(){Rn.apply(this,arguments)};function Rn(ve,Ee,Ve){var tt=arguments.length;tt<2&&(Ee=0),tt<3&&(Ve=Date.now());var at=Ve+Ee,ct={c:ve,t:at,n:null};return Fr?Fr.n=ct:Zr=ct,Fr=ct,cn||(vn=clearTimeout(vn),cn=1,Cn(Gn)),ct}function Gn(){var ve=ua(),Ee=wa()-ve;Ee>24?(isFinite(Ee)&&(clearTimeout(vn),vn=setTimeout(Gn,Ee)),cn=0):(cn=1,Cn(Gn))}o.timer.flush=function(){ua(),wa()};function ua(){for(var ve=Date.now(),Ee=Zr;Ee;)ve>=Ee.t&&Ee.c(ve-Ee.t)&&(Ee.c=null),Ee=Ee.n;return ve}function wa(){for(var ve,Ee=Zr,Ve=1/0;Ee;)Ee.c?(Ee.t<Ve&&(Ve=Ee.t),Ee=(ve=Ee).n):Ee=ve?ve.n=Ee.n:Zr=Ee.n;return Fr=ve,Ve}o.round=function(ve,Ee){return Ee?Math.round(ve*(Ee=Math.pow(10,Ee)))/Ee:Math.round(ve)},o.geom={};function Ma(ve){return ve[0]}function Zn(ve){return ve[1]}o.geom.hull=function(ve){var Ee=Ma,Ve=Zn;if(arguments.length)return tt(ve);function tt(at){if(at.length<3)return[];var ct=an(Ee),Ct=an(Ve),At,Ht=at.length,Gt=[],nr=[];for(At=0;At<Ht;At++)Gt.push([+ct.call(this,at[At],At),+Ct.call(this,at[At],At),At]);for(Gt.sort(xr),At=0;At<Ht;At++)nr.push([Gt[At][0],-Gt[At][1]]);var Lr=ea(Gt),Dr=ea(nr),tn=Dr[0]===Lr[0],fn=Dr[Dr.length-1]===Lr[Lr.length-1],Rr=[];for(At=Lr.length-1;At>=0;--At)Rr.push(at[Gt[Lr[At]][2]]);for(At=+tn;At<Dr.length-fn;++At)Rr.push(at[Gt[Dr[At]][2]]);return Rr}return tt.x=function(at){return arguments.length?(Ee=at,tt):Ee},tt.y=function(at){return arguments.length?(Ve=at,tt):Ve},tt};function ea(ve){for(var Ee=ve.length,Ve=[0,1],tt=2,at=2;at<Ee;at++){for(;tt>1&&Wt(ve[Ve[tt-2]],ve[Ve[tt-1]],ve[at])<=0;)--tt;Ve[tt++]=at}return Ve.slice(0,tt)}function xr(ve,Ee){return ve[0]-Ee[0]||ve[1]-Ee[1]}o.geom.polygon=function(ve){return le(ve,nn),ve};var nn=o.geom.polygon.prototype=[];nn.area=function(){for(var ve=-1,Ee=this.length,Ve,tt=this[Ee-1],at=0;++ve<Ee;)Ve=tt,tt=this[ve],at+=Ve[1]*tt[0]-Ve[0]*tt[1];return at*.5},nn.centroid=function(ve){var Ee=-1,Ve=this.length,tt=0,at=0,ct,Ct=this[Ve-1],At;for(arguments.length||(ve=-1/(6*this.area()));++Ee<Ve;)ct=Ct,Ct=this[Ee],At=ct[0]*Ct[1]-Ct[0]*ct[1],tt+=(ct[0]+Ct[0])*At,at+=(ct[1]+Ct[1])*At;return[tt*ve,at*ve]},nn.clip=function(ve){for(var Ee,Ve=Un(ve),tt=-1,at=this.length-Un(this),ct,Ct,At=this[at-1],Ht,Gt,nr;++tt<at;){for(Ee=ve.slice(),ve.length=0,Ht=this[tt],Gt=Ee[(Ct=Ee.length-Ve)-1],ct=-1;++ct<Ct;)nr=Ee[ct],qr(nr,At,Ht)?(qr(Gt,At,Ht)||ve.push(gn(Gt,nr,At,Ht)),ve.push(nr)):qr(Gt,At,Ht)&&ve.push(gn(Gt,nr,At,Ht)),Gt=nr;Ve&&ve.push(ve[0]),At=Ht}return ve};function qr(ve,Ee,Ve){return(Ve[0]-Ee[0])*(ve[1]-Ee[1])<(Ve[1]-Ee[1])*(ve[0]-Ee[0])}function gn(ve,Ee,Ve,tt){var at=ve[0],ct=Ve[0],Ct=Ee[0]-at,At=tt[0]-ct,Ht=ve[1],Gt=Ve[1],nr=Ee[1]-Ht,Lr=tt[1]-Gt,Dr=(At*(Ht-Gt)-Lr*(at-ct))/(Lr*Ct-At*nr);return[at+Dr*Ct,Ht+Dr*nr]}function Un(ve){var Ee=ve[0],Ve=ve[ve.length-1];return!(Ee[0]-Ve[0]||Ee[1]-Ve[1])}var An,En,Vn,ta=[],ga,Na,_r=[];function Br(){hs(this),this.edge=this.site=this.circle=null}function Mr(ve){var Ee=ta.pop()||new Br;return Ee.site=ve,Ee}function Ur(ve){Bn(ve),Vn.remove(ve),ta.push(ve),hs(ve)}function wn(ve){var Ee=ve.circle,Ve=Ee.x,tt=Ee.cy,at={x:Ve,y:tt},ct=ve.P,Ct=ve.N,At=[ve];Ur(ve);for(var Ht=ct;Ht.circle&&d(Ve-Ht.circle.x)<je&&d(tt-Ht.circle.cy)<je;)ct=Ht.P,At.unshift(Ht),Ur(Ht),Ht=ct;At.unshift(Ht),Bn(Ht);for(var Gt=Ct;Gt.circle&&d(Ve-Gt.circle.x)<je&&d(tt-Gt.circle.cy)<je;)Ct=Gt.N,At.push(Gt),Ur(Gt),Gt=Ct;At.push(Gt),Bn(Gt);var nr=At.length,Lr;for(Lr=1;Lr<nr;++Lr)Gt=At[Lr],Ht=At[Lr-1],Ia(Gt.edge,Ht.site,Gt.site,at);Ht=At[0],Gt=At[nr-1],Gt.edge=ca(Ht.site,Gt.site,null,at),Sn(Ht),Sn(Gt)}function kn(ve){for(var Ee=ve.x,Ve=ve.y,tt,at,ct,Ct,At=Vn._;At;)if(ct=xn(At,Ve)-Ee,ct>je)At=At.L;else if(Ct=Ee-hn(At,Ve),Ct>je){if(!At.R){tt=At;break}At=At.R}else{ct>-je?(tt=At.P,at=At):Ct>-je?(tt=At,at=At.N):tt=at=At;break}var Ht=Mr(ve);if(Vn.insert(tt,Ht),!(!tt&&!at)){if(tt===at){Bn(tt),at=Mr(tt.site),Vn.insert(Ht,at),Ht.edge=at.edge=ca(tt.site,Ht.site),Sn(tt),Sn(at);return}if(!at){Ht.edge=ca(tt.site,Ht.site);return}Bn(tt),Bn(at);var Gt=tt.site,nr=Gt.x,Lr=Gt.y,Dr=ve.x-nr,tn=ve.y-Lr,fn=at.site,Rr=fn.x-nr,Yr=fn.y-Lr,$r=2*(Dr*Yr-tn*Rr),pn=Dr*Dr+tn*tn,mn=Rr*Rr+Yr*Yr,on={x:(Yr*pn-tn*mn)/$r+nr,y:(Dr*mn-Rr*pn)/$r+Lr};Ia(at.edge,Gt,fn,on),Ht.edge=ca(Gt,ve,null,on),at.edge=ca(ve,fn,null,on),Sn(tt),Sn(at)}}function xn(ve,Ee){var Ve=ve.site,tt=Ve.x,at=Ve.y,ct=at-Ee;if(!ct)return tt;var Ct=ve.P;if(!Ct)return-1/0;Ve=Ct.site;var At=Ve.x,Ht=Ve.y,Gt=Ht-Ee;if(!Gt)return At;var nr=At-tt,Lr=1/ct-1/Gt,Dr=nr/Gt;return Lr?(-Dr+Math.sqrt(Dr*Dr-2*Lr*(nr*nr/(-2*Gt)-Ht+Gt/2+at-ct/2)))/Lr+tt:(tt+At)/2}function hn(ve,Ee){var Ve=ve.N;if(Ve)return xn(Ve,Ee);var tt=ve.site;return tt.y===Ee?tt.x:1/0}function Cr(ve){this.site=ve,this.edges=[]}Cr.prototype.prepare=function(){for(var ve=this.edges,Ee=ve.length,Ve;Ee--;)Ve=ve[Ee].edge,(!Ve.b||!Ve.a)&&ve.splice(Ee,1);return ve.sort(Gr),ve.length};function Qr(ve){for(var Ee=ve[0][0],Ve=ve[1][0],tt=ve[0][1],at=ve[1][1],ct,Ct,At,Ht,Gt=En,nr=Gt.length,Lr,Dr,tn,fn,Rr,Yr;nr--;)if(Lr=Gt[nr],!(!Lr||!Lr.prepare()))for(tn=Lr.edges,fn=tn.length,Dr=0;Dr<fn;)Yr=tn[Dr].end(),At=Yr.x,Ht=Yr.y,Rr=tn[++Dr%fn].start(),ct=Rr.x,Ct=Rr.y,(d(At-ct)>je||d(Ht-Ct)>je)&&(tn.splice(Dr,0,new Ii(ba(Lr.site,Yr,d(At-Ee)<je&&at-Ht>je?{x:Ee,y:d(ct-Ee)<je?Ct:at}:d(Ht-at)<je&&Ve-At>je?{x:d(Ct-at)<je?ct:Ve,y:at}:d(At-Ve)<je&&Ht-tt>je?{x:Ve,y:d(ct-Ve)<je?Ct:tt}:d(Ht-tt)<je&&At-Ee>je?{x:d(Ct-tt)<je?ct:Ee,y:tt}:null),Lr.site,null)),++fn)}function Gr(ve,Ee){return Ee.angle-ve.angle}function rn(){hs(this),this.x=this.y=this.arc=this.site=this.cy=null}function Sn(ve){var Ee=ve.P,Ve=ve.N;if(!(!Ee||!Ve)){var tt=Ee.site,at=ve.site,ct=Ve.site;if(tt!==ct){var Ct=at.x,At=at.y,Ht=tt.x-Ct,Gt=tt.y-At,nr=ct.x-Ct,Yr=ct.y-At,Lr=2*(Ht*Yr-Gt*nr);if(!(Lr>=-De)){var Dr=Ht*Ht+Gt*Gt,tn=nr*nr+Yr*Yr,fn=(Yr*Dr-Gt*tn)/Lr,Rr=(Ht*tn-nr*Dr)/Lr,Yr=Rr+At,$r=_r.pop()||new rn;$r.arc=ve,$r.site=at,$r.x=fn+Ct,$r.y=Yr+Math.sqrt(fn*fn+Rr*Rr),$r.cy=Yr,ve.circle=$r;for(var pn=null,mn=Na._;mn;)if($r.y<mn.y||$r.y===mn.y&&$r.x<=mn.x)if(mn.L)mn=mn.L;else{pn=mn.P;break}else if(mn.R)mn=mn.R;else{pn=mn;break}Na.insert(pn,$r),pn||(ga=$r)}}}}function Bn(ve){var Ee=ve.circle;Ee&&(Ee.P||(ga=Ee.N),Na.remove(Ee),_r.push(Ee),hs(Ee),ve.circle=null)}function Ln(ve,Ee,Ve,tt){return function(at){var ct=at.a,Ct=at.b,At=ct.x,Ht=ct.y,Gt=Ct.x,nr=Ct.y,Lr=0,Dr=1,tn=Gt-At,fn=nr-Ht,Rr;if(Rr=ve-At,!(!tn&&Rr>0)){if(Rr/=tn,tn<0){if(Rr<Lr)return;Rr<Dr&&(Dr=Rr)}else if(tn>0){if(Rr>Dr)return;Rr>Lr&&(Lr=Rr)}if(Rr=Ve-At,!(!tn&&Rr<0)){if(Rr/=tn,tn<0){if(Rr>Dr)return;Rr>Lr&&(Lr=Rr)}else if(tn>0){if(Rr<Lr)return;Rr<Dr&&(Dr=Rr)}if(Rr=Ee-Ht,!(!fn&&Rr>0)){if(Rr/=fn,fn<0){if(Rr<Lr)return;Rr<Dr&&(Dr=Rr)}else if(fn>0){if(Rr>Dr)return;Rr>Lr&&(Lr=Rr)}if(Rr=tt-Ht,!(!fn&&Rr<0)){if(Rr/=fn,fn<0){if(Rr>Dr)return;Rr>Lr&&(Lr=Rr)}else if(fn>0){if(Rr<Lr)return;Rr<Dr&&(Dr=Rr)}return Lr>0&&(at.a={x:At+Lr*tn,y:Ht+Lr*fn}),Dr<1&&(at.b={x:At+Dr*tn,y:Ht+Dr*fn}),at}}}}}}function Wn(ve){for(var Ee=An,Ve=Ln(ve[0][0],ve[0][1],ve[1][0],ve[1][1]),tt=Ee.length,at;tt--;)at=Ee[tt],(!Hn(at,ve)||!Ve(at)||d(at.a.x-at.b.x)<je&&d(at.a.y-at.b.y)<je)&&(at.a=at.b=null,Ee.splice(tt,1))}function Hn(ve,Ee){var Ve=ve.b;if(Ve)return!0;var tt=ve.a,at=Ee[0][0],ct=Ee[1][0],Ct=Ee[0][1],At=Ee[1][1],Ht=ve.l,Gt=ve.r,nr=Ht.x,Lr=Ht.y,Dr=Gt.x,tn=Gt.y,fn=(nr+Dr)/2,Rr=(Lr+tn)/2,Yr,$r;if(tn===Lr){if(fn<at||fn>=ct)return;if(nr>Dr){if(!tt)tt={x:fn,y:Ct};else if(tt.y>=At)return;Ve={x:fn,y:At}}else{if(!tt)tt={x:fn,y:At};else if(tt.y<Ct)return;Ve={x:fn,y:Ct}}}else if(Yr=(nr-Dr)/(tn-Lr),$r=Rr-Yr*fn,Yr<-1||Yr>1)if(nr>Dr){if(!tt)tt={x:(Ct-$r)/Yr,y:Ct};else if(tt.y>=At)return;Ve={x:(At-$r)/Yr,y:At}}else{if(!tt)tt={x:(At-$r)/Yr,y:At};else if(tt.y<Ct)return;Ve={x:(Ct-$r)/Yr,y:Ct}}else if(Lr<tn){if(!tt)tt={x:at,y:Yr*at+$r};else if(tt.x>=ct)return;Ve={x:ct,y:Yr*ct+$r}}else{if(!tt)tt={x:ct,y:Yr*ct+$r};else if(tt.x<at)return;Ve={x:at,y:Yr*at+$r}}return ve.a=tt,ve.b=Ve,!0}function ya(ve,Ee){this.l=ve,this.r=Ee,this.a=this.b=null}function ca(ve,Ee,Ve,tt){var at=new ya(ve,Ee);return An.push(at),Ve&&Ia(at,ve,Ee,Ve),tt&&Ia(at,Ee,ve,tt),En[ve.i].edges.push(new Ii(at,ve,Ee)),En[Ee.i].edges.push(new Ii(at,Ee,ve)),at}function ba(ve,Ee,Ve){var tt=new ya(ve,null);return tt.a=Ee,tt.b=Ve,An.push(tt),tt}function Ia(ve,Ee,Ve,tt){!ve.a&&!ve.b?(ve.a=tt,ve.l=Ee,ve.r=Ve):ve.l===Ve?ve.b=tt:ve.a=tt}function Ii(ve,Ee,Ve){var tt=ve.a,at=ve.b;this.edge=ve,this.site=Ee,this.angle=Ve?Math.atan2(Ve.y-Ee.y,Ve.x-Ee.x):ve.l===Ee?Math.atan2(at.x-tt.x,tt.y-at.y):Math.atan2(tt.x-at.x,at.y-tt.y)}Ii.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function xi(){this._=null}function hs(ve){ve.U=ve.C=ve.L=ve.R=ve.P=ve.N=null}xi.prototype={insert:function(ve,Ee){var Ve,tt,at;if(ve){if(Ee.P=ve,Ee.N=ve.N,ve.N&&(ve.N.P=Ee),ve.N=Ee,ve.R){for(ve=ve.R;ve.L;)ve=ve.L;ve.L=Ee}else ve.R=Ee;Ve=ve}else this._?(ve=hu(this._),Ee.P=null,Ee.N=ve,ve.P=ve.L=Ee,Ve=ve):(Ee.P=Ee.N=null,this._=Ee,Ve=null);for(Ee.L=Ee.R=null,Ee.U=Ve,Ee.C=!0,ve=Ee;Ve&&Ve.C;)tt=Ve.U,Ve===tt.L?(at=tt.R,at&&at.C?(Ve.C=at.C=!1,tt.C=!0,ve=tt):(ve===Ve.R&&(ns(this,Ve),ve=Ve,Ve=ve.U),Ve.C=!1,tt.C=!0,Po(this,tt))):(at=tt.L,at&&at.C?(Ve.C=at.C=!1,tt.C=!0,ve=tt):(ve===Ve.L&&(Po(this,Ve),ve=Ve,Ve=ve.U),Ve.C=!1,tt.C=!0,ns(this,tt))),Ve=ve.U;this._.C=!1},remove:function(ve){ve.N&&(ve.N.P=ve.P),ve.P&&(ve.P.N=ve.N),ve.N=ve.P=null;var Ee=ve.U,Ve,tt=ve.L,at=ve.R,ct,Ct;if(tt?at?ct=hu(at):ct=tt:ct=at,Ee?Ee.L===ve?Ee.L=ct:Ee.R=ct:this._=ct,tt&&at?(Ct=ct.C,ct.C=ve.C,ct.L=tt,tt.U=ct,ct!==at?(Ee=ct.U,ct.U=ve.U,ve=ct.R,Ee.L=ve,ct.R=at,at.U=ct):(ct.U=Ee,Ee=ct,ve=ct.R)):(Ct=ve.C,ve=ct),ve&&(ve.U=Ee),!Ct){if(ve&&ve.C){ve.C=!1;return}do{if(ve===this._)break;if(ve===Ee.L){if(Ve=Ee.R,Ve.C&&(Ve.C=!1,Ee.C=!0,ns(this,Ee),Ve=Ee.R),Ve.L&&Ve.L.C||Ve.R&&Ve.R.C){(!Ve.R||!Ve.R.C)&&(Ve.L.C=!1,Ve.C=!0,Po(this,Ve),Ve=Ee.R),Ve.C=Ee.C,Ee.C=Ve.R.C=!1,ns(this,Ee),ve=this._;break}}else if(Ve=Ee.L,Ve.C&&(Ve.C=!1,Ee.C=!0,Po(this,Ee),Ve=Ee.L),Ve.L&&Ve.L.C||Ve.R&&Ve.R.C){(!Ve.L||!Ve.L.C)&&(Ve.R.C=!1,Ve.C=!0,ns(this,Ve),Ve=Ee.L),Ve.C=Ee.C,Ee.C=Ve.L.C=!1,Po(this,Ee),ve=this._;break}Ve.C=!0,ve=Ee,Ee=Ee.U}while(!ve.C);ve&&(ve.C=!1)}}};function ns(ve,Ee){var Ve=Ee,tt=Ee.R,at=Ve.U;at?at.L===Ve?at.L=tt:at.R=tt:ve._=tt,tt.U=at,Ve.U=tt,Ve.R=tt.L,Ve.R&&(Ve.R.U=Ve),tt.L=Ve}function Po(ve,Ee){var Ve=Ee,tt=Ee.L,at=Ve.U;at?at.L===Ve?at.L=tt:at.R=tt:ve._=tt,tt.U=at,Ve.U=tt,Ve.L=tt.R,Ve.L&&(Ve.L.U=Ve),tt.R=Ve}function hu(ve){for(;ve.L;)ve=ve.L;return ve}function dc(ve,Ee){var Ve=ve.sort(nh).pop(),tt,at,ct;for(An=[],En=new Array(ve.length),Vn=new xi,Na=new xi;;)if(ct=ga,Ve&&(!ct||Ve.y<ct.y||Ve.y===ct.y&&Ve.x<ct.x))(Ve.x!==tt||Ve.y!==at)&&(En[Ve.i]=new Cr(Ve),kn(Ve),tt=Ve.x,at=Ve.y),Ve=ve.pop();else if(ct)wn(ct.arc);else break;Ee&&(Wn(Ee),Qr(Ee));var Ct={cells:En,edges:An};return Vn=Na=An=En=null,Ct}function nh(ve,Ee){return Ee.y-ve.y||Ee.x-ve.x}o.geom.voronoi=function(ve){var Ee=Ma,Ve=Zn,tt=Ee,at=Ve,ct=gi;if(ve)return Ct(ve);function Ct(Ht){var Gt=new Array(Ht.length),nr=ct[0][0],Lr=ct[0][1],Dr=ct[1][0],tn=ct[1][1];return dc(At(Ht),ct).cells.forEach(function(fn,Rr){var Yr=fn.edges,$r=fn.site,pn=Gt[Rr]=Yr.length?Yr.map(function(mn){var on=mn.start();return[on.x,on.y]}):$r.x>=nr&&$r.x<=Dr&&$r.y>=Lr&&$r.y<=tn?[[nr,tn],[Dr,tn],[Dr,Lr],[nr,Lr]]:[];pn.point=Ht[Rr]}),Gt}function At(Ht){return Ht.map(function(Gt,nr){return{x:Math.round(tt(Gt,nr)/je)*je,y:Math.round(at(Gt,nr)/je)*je,i:nr}})}return Ct.links=function(Ht){return dc(At(Ht)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Ht[Gt.l.i],target:Ht[Gt.r.i]}})},Ct.triangles=function(Ht){var Gt=[];return dc(At(Ht)).cells.forEach(function(nr,Lr){for(var Dr=nr.site,tn=nr.edges.sort(Gr),fn=-1,Rr=tn.length,Yr,$r=tn[Rr-1].edge,pn=$r.l===Dr?$r.r:$r.l;++fn<Rr;)Yr=pn,$r=tn[fn].edge,pn=$r.l===Dr?$r.r:$r.l,Lr<Yr.i&&Lr<pn.i&&Yu(Dr,Yr,pn)<0&&Gt.push([Ht[Lr],Ht[Yr.i],Ht[pn.i]])}),Gt},Ct.x=function(Ht){return arguments.length?(tt=an(Ee=Ht),Ct):Ee},Ct.y=function(Ht){return arguments.length?(at=an(Ve=Ht),Ct):Ve},Ct.clipExtent=function(Ht){return arguments.length?(ct=Ht??gi,Ct):ct===gi?null:ct},Ct.size=function(Ht){return arguments.length?Ct.clipExtent(Ht&&[[0,0],Ht]):ct===gi?null:ct&&ct[1]},Ct};var gi=[[-1e6,-1e6],[1e6,1e6]];function Yu(ve,Ee,Ve){return(ve.x-Ve.x)*(Ee.y-ve.y)-(ve.x-Ee.x)*(Ve.y-ve.y)}o.geom.delaunay=function(ve){return o.geom.voronoi().triangles(ve)},o.geom.quadtree=function(ve,Ee,Ve,tt,at){var ct=Ma,Ct=Zn,At;if(At=arguments.length)return ct=pc,Ct=Mo,At===3&&(at=Ve,tt=Ee,Ve=Ee=0),Ht(ve);function Ht(Gt){var nr,Lr=an(ct),Dr=an(Ct),tn,fn,Rr,Yr,$r,pn,mn,on;if(Ee!=null)$r=Ee,pn=Ve,mn=tt,on=at;else if(mn=on=-($r=pn=1/0),tn=[],fn=[],Yr=Gt.length,At)for(Rr=0;Rr<Yr;++Rr)nr=Gt[Rr],nr.x<$r&&($r=nr.x),nr.y<pn&&(pn=nr.y),nr.x>mn&&(mn=nr.x),nr.y>on&&(on=nr.y),tn.push(nr.x),fn.push(nr.y);else for(Rr=0;Rr<Yr;++Rr){var Xn=+Lr(nr=Gt[Rr],Rr),oa=+Dr(nr,Rr);Xn<$r&&($r=Xn),oa<pn&&(pn=oa),Xn>mn&&(mn=Xn),oa>on&&(on=oa),tn.push(Xn),fn.push(oa)}var da=mn-$r,na=on-pn;da>na?on=pn+da:mn=$r+na;function fa(Da,Ua,bi,co,_i,ra,Za,Ca){if(!(isNaN(bi)||isNaN(co)))if(Da.leaf){var li=Da.x,Vi=Da.y;if(li!=null)if(d(li-bi)+d(Vi-co)<.01)pa(Da,Ua,bi,co,_i,ra,Za,Ca);else{var wi=Da.point;Da.x=Da.y=Da.point=null,pa(Da,wi,li,Vi,_i,ra,Za,Ca),pa(Da,Ua,bi,co,_i,ra,Za,Ca)}else Da.x=bi,Da.y=co,Da.point=Ua}else pa(Da,Ua,bi,co,_i,ra,Za,Ca)}function pa(Da,Ua,bi,co,_i,ra,Za,Ca){var li=(_i+Za)*.5,Vi=(ra+Ca)*.5,wi=bi>=li,Co=co>=Vi,Lo=Co<<1|wi;Da.leaf=!1,Da=Da.nodes[Lo]||(Da.nodes[Lo]=Jo()),wi?_i=li:Za=li,Co?ra=Vi:Ca=Vi,fa(Da,Ua,bi,co,_i,ra,Za,Ca)}var Wa=Jo();if(Wa.add=function(Da){fa(Wa,Da,+Lr(Da,++Rr),+Dr(Da,Rr),$r,pn,mn,on)},Wa.visit=function(Da){vu(Da,Wa,$r,pn,mn,on)},Wa.find=function(Da){return Rf(Wa,Da[0],Da[1],$r,pn,mn,on)},Rr=-1,Ee==null){for(;++Rr<Yr;)fa(Wa,Gt[Rr],tn[Rr],fn[Rr],$r,pn,mn,on);--Rr}else Gt.forEach(Wa.add);return tn=fn=Gt=nr=null,Wa}return Ht.x=function(Gt){return arguments.length?(ct=Gt,Ht):ct},Ht.y=function(Gt){return arguments.length?(Ct=Gt,Ht):Ct},Ht.extent=function(Gt){return arguments.length?(Gt==null?Ee=Ve=tt=at=null:(Ee=+Gt[0][0],Ve=+Gt[0][1],tt=+Gt[1][0],at=+Gt[1][1]),Ht):Ee==null?null:[[Ee,Ve],[tt,at]]},Ht.size=function(Gt){return arguments.length?(Gt==null?Ee=Ve=tt=at=null:(Ee=Ve=0,tt=+Gt[0],at=+Gt[1]),Ht):Ee==null?null:[tt-Ee,at-Ve]},Ht};function pc(ve){return ve.x}function Mo(ve){return ve.y}function Jo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function vu(ve,Ee,Ve,tt,at,ct){if(!ve(Ee,Ve,tt,at,ct)){var Ct=(Ve+at)*.5,At=(tt+ct)*.5,Ht=Ee.nodes;Ht[0]&&vu(ve,Ht[0],Ve,tt,Ct,At),Ht[1]&&vu(ve,Ht[1],Ct,tt,at,At),Ht[2]&&vu(ve,Ht[2],Ve,At,Ct,ct),Ht[3]&&vu(ve,Ht[3],Ct,At,at,ct)}}function Rf(ve,Ee,Ve,tt,at,ct,Ct){var At=1/0,Ht;return function Gt(nr,Lr,Dr,tn,fn){if(!(Lr>ct||Dr>Ct||tn<tt||fn<at)){if(Rr=nr.point){var Rr,Yr=Ee-nr.x,$r=Ve-nr.y,pn=Yr*Yr+$r*$r;if(pn<At){var mn=Math.sqrt(At=pn);tt=Ee-mn,at=Ve-mn,ct=Ee+mn,Ct=Ve+mn,Ht=Rr}}for(var on=nr.nodes,Xn=(Lr+tn)*.5,oa=(Dr+fn)*.5,da=Ee>=Xn,na=Ve>=oa,fa=na<<1|da,pa=fa+4;fa<pa;++fa)if(nr=on[fa&3])switch(fa&3){case 0:Gt(nr,Lr,Dr,Xn,oa);break;case 1:Gt(nr,Xn,Dr,tn,oa);break;case 2:Gt(nr,Lr,oa,Xn,fn);break;case 3:Gt(nr,Xn,oa,tn,fn);break}}}(ve,tt,at,ct,Ct),Ht}o.interpolateRgb=oo;function oo(ve,Ee){ve=o.rgb(ve),Ee=o.rgb(Ee);var Ve=ve.r,tt=ve.g,at=ve.b,ct=Ee.r-Ve,Ct=Ee.g-tt,At=Ee.b-at;return function(Ht){return"#"+dr(Math.round(Ve+ct*Ht))+dr(Math.round(tt+Ct*Ht))+dr(Math.round(at+At*Ht))}}o.interpolateObject=du;function du(ve,Ee){var Ve={},tt={},at;for(at in ve)at in Ee?Ve[at]=Io(ve[at],Ee[at]):tt[at]=ve[at];for(at in Ee)at in ve||(tt[at]=Ee[at]);return function(ct){for(at in Ve)tt[at]=Ve[at](ct);return tt}}o.interpolateNumber=fo;function fo(ve,Ee){return ve=+ve,Ee=+Ee,function(Ve){return ve*(1-Ve)+Ee*Ve}}o.interpolateString=mo;function mo(ve,Ee){var Ve=pu.lastIndex=Ro.lastIndex=0,tt,at,ct,Ct=-1,At=[],Ht=[];for(ve=ve+"",Ee=Ee+"";(tt=pu.exec(ve))&&(at=Ro.exec(Ee));)(ct=at.index)>Ve&&(ct=Ee.slice(Ve,ct),At[Ct]?At[Ct]+=ct:At[++Ct]=ct),(tt=tt[0])===(at=at[0])?At[Ct]?At[Ct]+=at:At[++Ct]=at:(At[++Ct]=null,Ht.push({i:Ct,x:fo(tt,at)})),Ve=Ro.lastIndex;return Ve<Ee.length&&(ct=Ee.slice(Ve),At[Ct]?At[Ct]+=ct:At[++Ct]=ct),At.length<2?Ht[0]?(Ee=Ht[0].x,function(Gt){return Ee(Gt)+""}):function(){return Ee}:(Ee=Ht.length,function(Gt){for(var nr=0,Lr;nr<Ee;++nr)At[(Lr=Ht[nr]).i]=Lr.x(Gt);return At.join("")})}var pu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ro=new RegExp(pu.source,"g");o.interpolate=Io;function Io(ve,Ee){for(var Ve=o.interpolators.length,tt;--Ve>=0&&!(tt=o.interpolators[Ve](ve,Ee)););return tt}o.interpolators=[function(ve,Ee){var Ve=typeof Ee;return(Ve==="string"?ln.has(Ee.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Ee)?oo:mo:Ee instanceof mt?oo:Array.isArray(Ee)?vs:Ve==="object"&&isNaN(Ee)?du:fo)(ve,Ee)}],o.interpolateArray=vs;function vs(ve,Ee){var Ve=[],tt=[],at=ve.length,ct=Ee.length,Ct=Math.min(ve.length,Ee.length),At;for(At=0;At<Ct;++At)Ve.push(Io(ve[At],Ee[At]));for(;At<at;++At)tt[At]=ve[At];for(;At<ct;++At)tt[At]=Ee[At];return function(Ht){for(At=0;At<Ct;++At)tt[At]=Ve[At](Ht);return tt}}var ah=function(){return B},as=o.map({linear:ah,poly:ih,quad:function(){return Tl},cubic:function(){return Gs},sin:function(){return uv},exp:function(){return If},circle:function(){return fv},elastic:cv,back:hv,bounce:function(){return mc}}),lv=o.map({in:B,out:Eo,"in-out":gc,"out-in":function(ve){return gc(Eo(ve))}});o.ease=function(ve){var Ee=ve.indexOf("-"),Ve=Ee>=0?ve.slice(0,Ee):ve,tt=Ee>=0?ve.slice(Ee+1):"in";return Ve=as.get(Ve)||ah,tt=lv.get(tt)||B,Ws(tt(Ve.apply(null,C.call(arguments,1))))};function Ws(ve){return function(Ee){return Ee<=0?0:Ee>=1?1:ve(Ee)}}function Eo(ve){return function(Ee){return 1-ve(1-Ee)}}function gc(ve){return function(Ee){return .5*(Ee<.5?ve(2*Ee):2-ve(2-2*Ee))}}function Tl(ve){return ve*ve}function Gs(ve){return ve*ve*ve}function yc(ve){if(ve<=0)return 0;if(ve>=1)return 1;var Ee=ve*ve,Ve=Ee*ve;return 4*(ve<.5?Ve:3*(ve-Ee)+Ve-.75)}function ih(ve){return function(Ee){return Math.pow(Ee,ve)}}function uv(ve){return 1-Math.cos(ve*et)}function If(ve){return Math.pow(2,10*(ve-1))}function fv(ve){return 1-Math.sqrt(1-ve*ve)}function cv(ve,Ee){var Ve;return arguments.length<2&&(Ee=.45),arguments.length?Ve=Ee/we*Math.asin(1/ve):(ve=1,Ve=Ee/4),function(tt){return 1+ve*Math.pow(2,-10*tt)*Math.sin((tt-Ve)*we/Ee)}}function hv(ve){return ve||(ve=1.70158),function(Ee){return Ee*Ee*((ve+1)*Ee-ve)}}function mc(ve){return ve<.36363636363636365?7.5625*ve*ve:ve<.7272727272727273?7.5625*(ve-=.5454545454545454)*ve+.75:ve<.9090909090909091?7.5625*(ve-=.8181818181818182)*ve+.9375:7.5625*(ve-=.9545454545454546)*ve+.984375}o.interpolateHcl=vv;function vv(ve,Ee){ve=o.hcl(ve),Ee=o.hcl(Ee);var Ve=ve.h,tt=ve.c,at=ve.l,ct=Ee.h-Ve,Ct=Ee.c-tt,At=Ee.l-at;return isNaN(Ct)&&(Ct=0,tt=isNaN(tt)?Ee.c:tt),isNaN(ct)?(ct=0,Ve=isNaN(Ve)?Ee.h:Ve):ct>180?ct-=360:ct<-180&&(ct+=360),function(Ht){return Bt(Ve+ct*Ht,tt+Ct*Ht,at+At*Ht)+""}}o.interpolateHsl=dv;function dv(ve,Ee){ve=o.hsl(ve),Ee=o.hsl(Ee);var Ve=ve.h,tt=ve.s,at=ve.l,ct=Ee.h-Ve,Ct=Ee.s-tt,At=Ee.l-at;return isNaN(Ct)&&(Ct=0,tt=isNaN(tt)?Ee.s:tt),isNaN(ct)?(ct=0,Ve=isNaN(Ve)?Ee.h:Ve):ct>180?ct-=360:ct<-180&&(ct+=360),function(Ht){return Et(Ve+ct*Ht,tt+Ct*Ht,at+At*Ht)+""}}o.interpolateLab=oh;function oh(ve,Ee){ve=o.lab(ve),Ee=o.lab(Ee);var Ve=ve.l,tt=ve.a,at=ve.b,ct=Ee.l-Ve,Ct=Ee.a-tt,At=Ee.b-at;return function(Ht){return He(Ve+ct*Ht,tt+Ct*Ht,at+At*Ht)+""}}o.interpolateRound=sh;function sh(ve,Ee){return Ee-=ve,function(Ve){return Math.round(ve+Ee*Ve)}}o.transform=function(ve){var Ee=v.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(Ve){if(Ve!=null){Ee.setAttribute("transform",Ve);var tt=Ee.transform.baseVal.consolidate()}return new Wl(tt?tt.matrix:lh)})(ve)};function Wl(ve){var Ee=[ve.a,ve.b],Ve=[ve.c,ve.d],tt=Wu(Ee),at=gu(Ee,Ve),ct=Wu(Gu(Ve,Ee,-at))||0;Ee[0]*Ve[1]<Ve[0]*Ee[1]&&(Ee[0]*=-1,Ee[1]*=-1,tt*=-1,at*=-1),this.rotate=(tt?Math.atan2(Ee[1],Ee[0]):Math.atan2(-Ve[0],Ve[1]))*lt,this.translate=[ve.e,ve.f],this.scale=[tt,ct],this.skew=ct?Math.atan2(at,ct)*lt:0}Wl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function gu(ve,Ee){return ve[0]*Ee[0]+ve[1]*Ee[1]}function Wu(ve){var Ee=Math.sqrt(gu(ve,ve));return Ee&&(ve[0]/=Ee,ve[1]/=Ee),Ee}function Gu(ve,Ee,Ve){return ve[0]+=Ve*Ee[0],ve[1]+=Ve*Ee[1],ve}var lh={a:1,b:0,c:0,d:1,e:0,f:0};o.interpolateTransform=kf;function al(ve){return ve.length?ve.pop()+",":""}function pv(ve,Ee,Ve,tt){if(ve[0]!==Ee[0]||ve[1]!==Ee[1]){var at=Ve.push("translate(",null,",",null,")");tt.push({i:at-4,x:fo(ve[0],Ee[0])},{i:at-2,x:fo(ve[1],Ee[1])})}else(Ee[0]||Ee[1])&&Ve.push("translate("+Ee+")")}function Of(ve,Ee,Ve,tt){ve!==Ee?(ve-Ee>180?Ee+=360:Ee-ve>180&&(ve+=360),tt.push({i:Ve.push(al(Ve)+"rotate(",null,")")-2,x:fo(ve,Ee)})):Ee&&Ve.push(al(Ve)+"rotate("+Ee+")")}function uh(ve,Ee,Ve,tt){ve!==Ee?tt.push({i:Ve.push(al(Ve)+"skewX(",null,")")-2,x:fo(ve,Ee)}):Ee&&Ve.push(al(Ve)+"skewX("+Ee+")")}function fh(ve,Ee,Ve,tt){if(ve[0]!==Ee[0]||ve[1]!==Ee[1]){var at=Ve.push(al(Ve)+"scale(",null,",",null,")");tt.push({i:at-4,x:fo(ve[0],Ee[0])},{i:at-2,x:fo(ve[1],Ee[1])})}else(Ee[0]!==1||Ee[1]!==1)&&Ve.push(al(Ve)+"scale("+Ee+")")}function kf(ve,Ee){var Ve=[],tt=[];return ve=o.transform(ve),Ee=o.transform(Ee),pv(ve.translate,Ee.translate,Ve,tt),Of(ve.rotate,Ee.rotate,Ve,tt),uh(ve.skew,Ee.skew,Ve,tt),fh(ve.scale,Ee.scale,Ve,tt),ve=Ee=null,function(at){for(var ct=-1,Ct=tt.length,At;++ct<Ct;)Ve[(At=tt[ct]).i]=At.x(at);return Ve.join("")}}function _s(ve,Ee){return Ee=(Ee-=ve=+ve)||1/Ee,function(Ve){return(Ve-ve)/Ee}}function yu(ve,Ee){return Ee=(Ee-=ve=+ve)||1/Ee,function(Ve){return Math.max(0,Math.min(1,(Ve-ve)/Ee))}}o.layout={},o.layout.bundle=function(){return function(ve){for(var Ee=[],Ve=-1,tt=ve.length;++Ve<tt;)Ee.push(Gl(ve[Ve]));return Ee}};function Gl(ve){for(var Ee=ve.source,Ve=ve.target,tt=Al(Ee,Ve),at=[Ee];Ee!==tt;)Ee=Ee.parent,at.push(Ee);for(var ct=at.length;Ve!==tt;)at.splice(ct,0,Ve),Ve=Ve.parent;return at}function Xu(ve){for(var Ee=[],Ve=ve.parent;Ve!=null;)Ee.push(ve),ve=Ve,Ve=Ve.parent;return Ee.push(ve),Ee}function Al(ve,Ee){if(ve===Ee)return ve;for(var Ve=Xu(ve),tt=Xu(Ee),at=Ve.pop(),ct=tt.pop(),Ct=null;at===ct;)Ct=at,at=Ve.pop(),ct=tt.pop();return Ct}o.layout.chord=function(){var ve={},Ee,Ve,tt,at,ct=0,Ct,At,Ht;function Gt(){var Lr={},Dr=[],tn=o.range(at),fn=[],Rr,Yr,$r,pn,mn;for(Ee=[],Ve=[],Rr=0,pn=-1;++pn<at;){for(Yr=0,mn=-1;++mn<at;)Yr+=tt[pn][mn];Dr.push(Yr),fn.push(o.range(at)),Rr+=Yr}for(Ct&&tn.sort(function(Wa,Da){return Ct(Dr[Wa],Dr[Da])}),At&&fn.forEach(function(Wa,Da){Wa.sort(function(Ua,bi){return At(tt[Da][Ua],tt[Da][bi])})}),Rr=(we-ct*at)/Rr,Yr=0,pn=-1;++pn<at;){for($r=Yr,mn=-1;++mn<at;){var on=tn[pn],Xn=fn[on][mn],oa=tt[on][Xn],da=Yr,na=Yr+=oa*Rr;Lr[on+"-"+Xn]={index:on,subindex:Xn,startAngle:da,endAngle:na,value:oa}}Ve[on]={index:on,startAngle:$r,endAngle:Yr,value:Dr[on]},Yr+=ct}for(pn=-1;++pn<at;)for(mn=pn-1;++mn<at;){var fa=Lr[pn+"-"+mn],pa=Lr[mn+"-"+pn];(fa.value||pa.value)&&Ee.push(fa.value<pa.value?{source:pa,target:fa}:{source:fa,target:pa})}Ht&&nr()}function nr(){Ee.sort(function(Lr,Dr){return Ht((Lr.source.value+Lr.target.value)/2,(Dr.source.value+Dr.target.value)/2)})}return ve.matrix=function(Lr){return arguments.length?(at=(tt=Lr)&&tt.length,Ee=Ve=null,ve):tt},ve.padding=function(Lr){return arguments.length?(ct=Lr,Ee=Ve=null,ve):ct},ve.sortGroups=function(Lr){return arguments.length?(Ct=Lr,Ee=Ve=null,ve):Ct},ve.sortSubgroups=function(Lr){return arguments.length?(At=Lr,Ee=null,ve):At},ve.sortChords=function(Lr){return arguments.length?(Ht=Lr,Ee&&nr(),ve):Ht},ve.chords=function(){return Ee||Gt(),Ee},ve.groups=function(){return Ve||Gt(),Ve},ve},o.layout.force=function(){var ve={},Ee=o.dispatch("start","tick","end"),Ve,tt=[1,1],at,ct,Ct=.9,At=bc,Ht=gv,Gt=-30,nr=Nf,Lr=.1,Dr=.64,tn=[],fn=[],Rr,Yr,$r;function pn(on){return function(Xn,oa,da,na){if(Xn.point!==on){var fa=Xn.cx-on.x,pa=Xn.cy-on.y,Wa=na-oa,Da=fa*fa+pa*pa;if(Wa*Wa/Dr<Da){if(Da<nr){var Ua=Xn.charge/Da;on.px-=fa*Ua,on.py-=pa*Ua}return!0}if(Xn.point&&Da&&Da<nr){var Ua=Xn.pointCharge/Da;on.px-=fa*Ua,on.py-=pa*Ua}}return!Xn.charge}}ve.tick=function(){if((ct*=.99)<.005)return Ve=null,Ee.end({type:"end",alpha:ct=0}),!0;var on=tn.length,Xn=fn.length,oa,da,na,fa,pa,Wa,Da,Ua,bi;for(da=0;da<Xn;++da)na=fn[da],fa=na.source,pa=na.target,Ua=pa.x-fa.x,bi=pa.y-fa.y,(Wa=Ua*Ua+bi*bi)&&(Wa=ct*Yr[da]*((Wa=Math.sqrt(Wa))-Rr[da])/Wa,Ua*=Wa,bi*=Wa,pa.x-=Ua*(Da=fa.weight+pa.weight?fa.weight/(fa.weight+pa.weight):.5),pa.y-=bi*Da,fa.x+=Ua*(Da=1-Da),fa.y+=bi*Da);if((Da=ct*Lr)&&(Ua=tt[0]/2,bi=tt[1]/2,da=-1,Da))for(;++da<on;)na=tn[da],na.x+=(Ua-na.x)*Da,na.y+=(bi-na.y)*Da;if(Gt)for(to(oa=o.geom.quadtree(tn),ct,$r),da=-1;++da<on;)(na=tn[da]).fixed||oa.visit(pn(na));for(da=-1;++da<on;)na=tn[da],na.fixed?(na.x=na.px,na.y=na.py):(na.x-=(na.px-(na.px=na.x))*Ct,na.y-=(na.py-(na.py=na.y))*Ct);Ee.tick({type:"tick",alpha:ct})},ve.nodes=function(on){return arguments.length?(tn=on,ve):tn},ve.links=function(on){return arguments.length?(fn=on,ve):fn},ve.size=function(on){return arguments.length?(tt=on,ve):tt},ve.linkDistance=function(on){return arguments.length?(At=typeof on=="function"?on:+on,ve):At},ve.distance=ve.linkDistance,ve.linkStrength=function(on){return arguments.length?(Ht=typeof on=="function"?on:+on,ve):Ht},ve.friction=function(on){return arguments.length?(Ct=+on,ve):Ct},ve.charge=function(on){return arguments.length?(Gt=typeof on=="function"?on:+on,ve):Gt},ve.chargeDistance=function(on){return arguments.length?(nr=on*on,ve):Math.sqrt(nr)},ve.gravity=function(on){return arguments.length?(Lr=+on,ve):Lr},ve.theta=function(on){return arguments.length?(Dr=on*on,ve):Math.sqrt(Dr)},ve.alpha=function(on){return arguments.length?(on=+on,ct?on>0?ct=on:(Ve.c=null,Ve.t=NaN,Ve=null,Ee.end({type:"end",alpha:ct=0})):on>0&&(Ee.start({type:"start",alpha:ct=on}),Ve=Rn(ve.tick)),ve):ct},ve.start=function(){var on,Xn=tn.length,oa=fn.length,da=tt[0],na=tt[1],fa,pa;for(on=0;on<Xn;++on)(pa=tn[on]).index=on,pa.weight=0;for(on=0;on<oa;++on)pa=fn[on],typeof pa.source=="number"&&(pa.source=tn[pa.source]),typeof pa.target=="number"&&(pa.target=tn[pa.target]),++pa.source.weight,++pa.target.weight;for(on=0;on<Xn;++on)pa=tn[on],isNaN(pa.x)&&(pa.x=Wa("x",da)),isNaN(pa.y)&&(pa.y=Wa("y",na)),isNaN(pa.px)&&(pa.px=pa.x),isNaN(pa.py)&&(pa.py=pa.y);if(Rr=[],typeof At=="function")for(on=0;on<oa;++on)Rr[on]=+At.call(this,fn[on],on);else for(on=0;on<oa;++on)Rr[on]=At;if(Yr=[],typeof Ht=="function")for(on=0;on<oa;++on)Yr[on]=+Ht.call(this,fn[on],on);else for(on=0;on<oa;++on)Yr[on]=Ht;if($r=[],typeof Gt=="function")for(on=0;on<Xn;++on)$r[on]=+Gt.call(this,tn[on],on);else for(on=0;on<Xn;++on)$r[on]=Gt;function Wa(Da,Ua){if(!fa){for(fa=new Array(Xn),_i=0;_i<Xn;++_i)fa[_i]=[];for(_i=0;_i<oa;++_i){var bi=fn[_i];fa[bi.source.index].push(bi.target),fa[bi.target.index].push(bi.source)}}for(var co=fa[on],_i=-1,ra=co.length,Za;++_i<ra;)if(!isNaN(Za=co[_i][Da]))return Za;return Math.random()*Ua}return ve.resume()},ve.resume=function(){return ve.alpha(.1)},ve.stop=function(){return ve.alpha(0)},ve.drag=function(){if(at||(at=o.behavior.drag().origin(B).on("dragstart.force",Xs).on("drag.force",mn).on("dragend.force",xc)),!arguments.length)return at;this.on("mouseover.force",mu).on("mouseout.force",Cs).call(at)};function mn(on){on.px=o.event.x,on.py=o.event.y,ve.resume()}return o.rebind(ve,Ee,"on")};function Xs(ve){ve.fixed|=2}function xc(ve){ve.fixed&=-7}function mu(ve){ve.fixed|=4,ve.px=ve.x,ve.py=ve.y}function Cs(ve){ve.fixed&=-5}function to(ve,Ee,Ve){var tt=0,at=0;if(ve.charge=0,!ve.leaf)for(var ct=ve.nodes,Ct=ct.length,At=-1,Ht;++At<Ct;)Ht=ct[At],Ht!=null&&(to(Ht,Ee,Ve),ve.charge+=Ht.charge,tt+=Ht.charge*Ht.cx,at+=Ht.charge*Ht.cy);if(ve.point){ve.leaf||(ve.point.x+=Math.random()-.5,ve.point.y+=Math.random()-.5);var Gt=Ee*Ve[ve.point.index];ve.charge+=ve.pointCharge=Gt,tt+=Gt*ve.point.x,at+=Gt*ve.point.y}ve.cx=tt/ve.charge,ve.cy=at/ve.charge}var bc=20,gv=1,Nf=1/0;o.layout.hierarchy=function(){var ve=zf,Ee=Ff,Ve=wu;function tt(at){var ct=[at],Ct=[],At;for(at.depth=0;(At=ct.pop())!=null;)if(Ct.push(At),(Gt=Ee.call(tt,At,At.depth))&&(Ht=Gt.length)){for(var Ht,Gt,nr;--Ht>=0;)ct.push(nr=Gt[Ht]),nr.parent=At,nr.depth=At.depth+1;Ve&&(At.value=0),At.children=Gt}else Ve&&(At.value=+Ve.call(tt,At,At.depth)||0),delete At.children;return is(at,function(Lr){var Dr,tn;ve&&(Dr=Lr.children)&&Dr.sort(ve),Ve&&(tn=Lr.parent)&&(tn.value+=Lr.value)}),Ct}return tt.sort=function(at){return arguments.length?(ve=at,tt):ve},tt.children=function(at){return arguments.length?(Ee=at,tt):Ee},tt.value=function(at){return arguments.length?(Ve=at,tt):Ve},tt.revalue=function(at){return Ve&&(bu(at,function(ct){ct.children&&(ct.value=0)}),is(at,function(ct){var Ct;ct.children||(ct.value=+Ve.call(tt,ct,ct.depth)||0),(Ct=ct.parent)&&(Ct.value+=ct.value)})),at},tt};function xu(ve,Ee){return o.rebind(ve,Ee,"sort","children","value"),ve.nodes=ve,ve.links=yv,ve}function bu(ve,Ee){for(var Ve=[ve];(ve=Ve.pop())!=null;)if(Ee(ve),(at=ve.children)&&(tt=at.length))for(var tt,at;--tt>=0;)Ve.push(at[tt])}function is(ve,Ee){for(var Ve=[ve],tt=[];(ve=Ve.pop())!=null;)if(tt.push(ve),(Ct=ve.children)&&(ct=Ct.length))for(var at=-1,ct,Ct;++at<ct;)Ve.push(Ct[at]);for(;(ve=tt.pop())!=null;)Ee(ve)}function Ff(ve){return ve.children}function wu(ve){return ve.value}function zf(ve,Ee){return Ee.value-ve.value}function yv(ve){return o.merge(ve.map(function(Ee){return(Ee.children||[]).map(function(Ve){return{source:Ee,target:Ve}})}))}o.layout.partition=function(){var ve=o.layout.hierarchy(),Ee=[1,1];function Ve(ct,Ct,At,Ht){var Gt=ct.children;if(ct.x=Ct,ct.y=ct.depth*Ht,ct.dx=At,ct.dy=Ht,Gt&&(Lr=Gt.length)){var nr=-1,Lr,Dr,tn;for(At=ct.value?At/ct.value:0;++nr<Lr;)Ve(Dr=Gt[nr],Ct,tn=Dr.value*At,Ht),Ct+=tn}}function tt(ct){var Ct=ct.children,At=0;if(Ct&&(Gt=Ct.length))for(var Ht=-1,Gt;++Ht<Gt;)At=Math.max(At,tt(Ct[Ht]));return 1+At}function at(ct,Ct){var At=ve.call(this,ct,Ct);return Ve(At[0],0,Ee[0],Ee[1]/tt(At[0])),At}return at.size=function(ct){return arguments.length?(Ee=ct,at):Ee},xu(at,ve)},o.layout.pie=function(){var ve=Number,Ee=ch,Ve=0,tt=we,at=0;function ct(Ct){var At=Ct.length,Ht=Ct.map(function(pn,mn){return+ve.call(ct,pn,mn)}),Gt=+(typeof Ve=="function"?Ve.apply(this,arguments):Ve),nr=(typeof tt=="function"?tt.apply(this,arguments):tt)-Gt,Lr=Math.min(Math.abs(nr)/At,+(typeof at=="function"?at.apply(this,arguments):at)),Dr=Lr*(nr<0?-1:1),tn=o.sum(Ht),fn=tn?(nr-At*Dr)/tn:0,Rr=o.range(At),Yr=[],$r;return Ee!=null&&Rr.sort(Ee===ch?function(pn,mn){return Ht[mn]-Ht[pn]}:function(pn,mn){return Ee(Ct[pn],Ct[mn])}),Rr.forEach(function(pn){Yr[pn]={data:Ct[pn],value:$r=Ht[pn],startAngle:Gt,endAngle:Gt+=$r*fn+Dr,padAngle:Lr}}),Yr}return ct.value=function(Ct){return arguments.length?(ve=Ct,ct):ve},ct.sort=function(Ct){return arguments.length?(Ee=Ct,ct):Ee},ct.startAngle=function(Ct){return arguments.length?(Ve=Ct,ct):Ve},ct.endAngle=function(Ct){return arguments.length?(tt=Ct,ct):tt},ct.padAngle=function(Ct){return arguments.length?(at=Ct,ct):at},ct};var ch={};o.layout.stack=function(){var ve=B,Ee=Zu,Ve=Uf,tt=Ac,at=wc,ct=Tc;function Ct(At,Ht){if(!(fn=At.length))return At;var Gt=At.map(function(pn,mn){return ve.call(Ct,pn,mn)}),nr=Gt.map(function(pn){return pn.map(function(mn,on){return[at.call(Ct,mn,on),ct.call(Ct,mn,on)]})}),Lr=Ee.call(Ct,nr,Ht);Gt=o.permute(Gt,Lr),nr=o.permute(nr,Lr);var Dr=Ve.call(Ct,nr,Ht),tn=Gt[0].length,fn,Rr,Yr,$r;for(Yr=0;Yr<tn;++Yr)for(tt.call(Ct,Gt[0][Yr],$r=Dr[Yr],nr[0][Yr][1]),Rr=1;Rr<fn;++Rr)tt.call(Ct,Gt[Rr][Yr],$r+=nr[Rr-1][Yr][1],nr[Rr][Yr][1]);return At}return Ct.values=function(At){return arguments.length?(ve=At,Ct):ve},Ct.order=function(At){return arguments.length?(Ee=typeof At=="function"?At:Tu.get(At)||Zu,Ct):Ee},Ct.offset=function(At){return arguments.length?(Ve=typeof At=="function"?At:Bf.get(At)||Uf,Ct):Ve},Ct.x=function(At){return arguments.length?(at=At,Ct):at},Ct.y=function(At){return arguments.length?(ct=At,Ct):ct},Ct.out=function(At){return arguments.length?(tt=At,Ct):tt},Ct};function wc(ve){return ve.x}function Tc(ve){return ve.y}function Ac(ve,Ee,Ve){ve.y0=Ee,ve.y=Ve}var Tu=o.map({"inside-out":function(ve){var Ee=ve.length,Ve,tt,at=ve.map(Oi),ct=ve.map(hh),Ct=o.range(Ee).sort(function(Lr,Dr){return at[Lr]-at[Dr]}),At=0,Ht=0,Gt=[],nr=[];for(Ve=0;Ve<Ee;++Ve)tt=Ct[Ve],At<Ht?(At+=ct[tt],Gt.push(tt)):(Ht+=ct[tt],nr.push(tt));return nr.reverse().concat(Gt)},reverse:function(ve){return o.range(ve.length).reverse()},default:Zu}),Bf=o.map({silhouette:function(ve){var Ee=ve.length,Ve=ve[0].length,tt=[],at=0,ct,Ct,At,Ht=[];for(Ct=0;Ct<Ve;++Ct){for(ct=0,At=0;ct<Ee;ct++)At+=ve[ct][Ct][1];At>at&&(at=At),tt.push(At)}for(Ct=0;Ct<Ve;++Ct)Ht[Ct]=(at-tt[Ct])/2;return Ht},wiggle:function(ve){var Ee=ve.length,Ve=ve[0],tt=Ve.length,at,ct,Ct,At,Ht,Gt,nr,Lr,Dr,tn=[];for(tn[0]=Lr=Dr=0,ct=1;ct<tt;++ct){for(at=0,At=0;at<Ee;++at)At+=ve[at][ct][1];for(at=0,Ht=0,nr=Ve[ct][0]-Ve[ct-1][0];at<Ee;++at){for(Ct=0,Gt=(ve[at][ct][1]-ve[at][ct-1][1])/(2*nr);Ct<at;++Ct)Gt+=(ve[Ct][ct][1]-ve[Ct][ct-1][1])/nr;Ht+=Gt*ve[at][ct][1]}tn[ct]=Lr-=At?Ht/At*nr:0,Lr<Dr&&(Dr=Lr)}for(ct=0;ct<tt;++ct)tn[ct]-=Dr;return tn},expand:function(ve){var Ee=ve.length,Ve=ve[0].length,tt=1/Ee,at,ct,Ct,At=[];for(ct=0;ct<Ve;++ct){for(at=0,Ct=0;at<Ee;at++)Ct+=ve[at][ct][1];if(Ct)for(at=0;at<Ee;at++)ve[at][ct][1]/=Ct;else for(at=0;at<Ee;at++)ve[at][ct][1]=tt}for(ct=0;ct<Ve;++ct)At[ct]=0;return At},zero:Uf});function Zu(ve){return o.range(ve.length)}function Uf(ve){for(var Ee=-1,Ve=ve[0].length,tt=[];++Ee<Ve;)tt[Ee]=0;return tt}function Oi(ve){for(var Ee=1,Ve=0,tt=ve[0][1],at,ct=ve.length;Ee<ct;++Ee)(at=ve[Ee][1])>tt&&(Ve=Ee,tt=at);return Ve}function hh(ve){return ve.reduce(Ls,0)}function Ls(ve,Ee){return ve+Ee[1]}o.layout.histogram=function(){var ve=!0,Ee=Number,Ve=Xl,tt=vh;function at(ct,Dr){for(var At=[],Ht=ct.map(Ee,this),Gt=Ve.call(this,Ht,Dr),nr=tt.call(this,Gt,Ht,Dr),Lr,Dr=-1,tn=Ht.length,fn=nr.length-1,Rr=ve?1:1/tn,Yr;++Dr<fn;)Lr=At[Dr]=[],Lr.dx=nr[Dr+1]-(Lr.x=nr[Dr]),Lr.y=0;if(fn>0)for(Dr=-1;++Dr<tn;)Yr=Ht[Dr],Yr>=Gt[0]&&Yr<=Gt[1]&&(Lr=At[o.bisect(nr,Yr,1,fn)-1],Lr.y+=Rr,Lr.push(ct[Dr]));return At}return at.value=function(ct){return arguments.length?(Ee=ct,at):Ee},at.range=function(ct){return arguments.length?(Ve=an(ct),at):Ve},at.bins=function(ct){return arguments.length?(tt=typeof ct=="number"?function(Ct){return Sc(Ct,ct)}:an(ct),at):tt},at.frequency=function(ct){return arguments.length?(ve=!!ct,at):ve},at};function vh(ve,Ee){return Sc(ve,Math.ceil(Math.log(Ee.length)/Math.LN2+1))}function Sc(ve,Ee){for(var Ve=-1,tt=+ve[0],at=(ve[1]-tt)/Ee,ct=[];++Ve<=Ee;)ct[Ve]=at*Ve+tt;return ct}function Xl(ve){return[o.min(ve),o.max(ve)]}o.layout.pack=function(){var ve=o.layout.hierarchy().sort(Sl),Ee=0,Ve=[1,1],tt;function at(ct,Ct){var At=ve.call(this,ct,Ct),Ht=At[0],Gt=Ve[0],nr=Ve[1],Lr=tt==null?Math.sqrt:typeof tt=="function"?tt:function(){return tt};if(Ht.x=Ht.y=0,is(Ht,function(tn){tn.r=+Lr(tn.value)}),is(Ht,Ds),Ee){var Dr=Ee*(tt?1:Math.max(2*Ht.r/Gt,2*Ht.r/nr))/2;is(Ht,function(tn){tn.r+=Dr}),is(Ht,Ds),is(Ht,function(tn){tn.r-=Dr})}return Ml(Ht,Gt/2,nr/2,tt?1:1/Math.max(2*Ht.r/Gt,2*Ht.r/nr)),At}return at.size=function(ct){return arguments.length?(Ve=ct,at):Ve},at.radius=function(ct){return arguments.length?(tt=ct==null||typeof ct=="function"?ct:+ct,at):tt},at.padding=function(ct){return arguments.length?(Ee=+ct,at):Ee},xu(at,ve)};function Sl(ve,Ee){return ve.value-Ee.value}function Vf(ve,Ee){var Ve=ve._pack_next;ve._pack_next=Ee,Ee._pack_prev=ve,Ee._pack_next=Ve,Ve._pack_prev=Ee}function so(ve,Ee){ve._pack_next=Ee,Ee._pack_prev=ve}function ju(ve,Ee){var Ve=Ee.x-ve.x,tt=Ee.y-ve.y,at=ve.r+Ee.r;return .999*at*at>Ve*Ve+tt*tt}function Ds(ve){if(!(Ee=ve.children)||!(Dr=Ee.length))return;var Ee,Ve=1/0,tt=-1/0,at=1/0,ct=-1/0,Ct,At,Ht,Gt,nr,Lr,Dr;function tn(on){Ve=Math.min(on.x-on.r,Ve),tt=Math.max(on.x+on.r,tt),at=Math.min(on.y-on.r,at),ct=Math.max(on.y+on.r,ct)}if(Ee.forEach(il),Ct=Ee[0],Ct.x=-Ct.r,Ct.y=0,tn(Ct),Dr>1&&(At=Ee[1],At.x=At.r,At.y=0,tn(At),Dr>2))for(Ht=Ee[2],Ps(Ct,At,Ht),tn(Ht),Vf(Ct,Ht),Ct._pack_prev=Ht,Vf(Ht,At),At=Ct._pack_next,Gt=3;Gt<Dr;Gt++){Ps(Ct,At,Ht=Ee[Gt]);var fn=0,Rr=1,Yr=1;for(nr=At._pack_next;nr!==At;nr=nr._pack_next,Rr++)if(ju(nr,Ht)){fn=1;break}if(fn==1)for(Lr=Ct._pack_prev;Lr!==nr._pack_prev&&!ju(Lr,Ht);Lr=Lr._pack_prev,Yr++);fn?(Rr<Yr||Rr==Yr&&At.r<Ct.r?so(Ct,At=nr):so(Ct=Lr,At),Gt--):(Vf(Ct,Ht),At=Ht,tn(Ht))}var $r=(Ve+tt)/2,pn=(at+ct)/2,mn=0;for(Gt=0;Gt<Dr;Gt++)Ht=Ee[Gt],Ht.x-=$r,Ht.y-=pn,mn=Math.max(mn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));ve.r=mn,Ee.forEach(Zl)}function il(ve){ve._pack_next=ve._pack_prev=ve}function Zl(ve){delete ve._pack_next,delete ve._pack_prev}function Ml(ve,Ee,Ve,tt){var at=ve.children;if(ve.x=Ee+=tt*ve.x,ve.y=Ve+=tt*ve.y,ve.r*=tt,at)for(var ct=-1,Ct=at.length;++ct<Ct;)Ml(at[ct],Ee,Ve,tt)}function Ps(ve,Ee,Ve){var tt=ve.r+Ve.r,at=Ee.x-ve.x,ct=Ee.y-ve.y;if(tt&&(at||ct)){var Ct=Ee.r+Ve.r,At=at*at+ct*ct;Ct*=Ct,tt*=tt;var Ht=.5+(tt-Ct)/(2*At),Gt=Math.sqrt(Math.max(0,2*Ct*(tt+At)-(tt-=At)*tt-Ct*Ct))/(2*At);Ve.x=ve.x+Ht*at+Gt*ct,Ve.y=ve.y+Ht*ct-Gt*at}else Ve.x=ve.x+tt,Ve.y=ve.y}o.layout.tree=function(){var ve=o.layout.hierarchy().sort(null).value(null),Ee=ol,Ve=[1,1],tt=null;function at(nr,Lr){var Dr=ve.call(this,nr,Lr),tn=Dr[0],fn=ct(tn);if(is(fn,Ct),fn.parent.m=-fn.z,bu(fn,At),tt)bu(tn,Gt);else{var Rr=tn,Yr=tn,$r=tn;bu(tn,function(Xn){Xn.x<Rr.x&&(Rr=Xn),Xn.x>Yr.x&&(Yr=Xn),Xn.depth>$r.depth&&($r=Xn)});var pn=Ee(Rr,Yr)/2-Rr.x,mn=Ve[0]/(Yr.x+Ee(Yr,Rr)/2+pn),on=Ve[1]/($r.depth||1);bu(tn,function(Xn){Xn.x=(Xn.x+pn)*mn,Xn.y=Xn.depth*on})}return Dr}function ct(nr){for(var Lr={A:null,children:[nr]},Dr=[Lr],tn;(tn=Dr.pop())!=null;)for(var fn=tn.children,Rr,Yr=0,$r=fn.length;Yr<$r;++Yr)Dr.push((fn[Yr]=Rr={_:fn[Yr],parent:tn,children:(Rr=fn[Yr].children)&&Rr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Yr}).a=Rr);return Lr.children[0]}function Ct(nr){var Lr=nr.children,Dr=nr.parent.children,tn=nr.i?Dr[nr.i-1]:null;if(Lr.length){mv(nr);var fn=(Lr[0].z+Lr[Lr.length-1].z)/2;tn?(nr.z=tn.z+Ee(nr._,tn._),nr.m=nr.z-fn):nr.z=fn}else tn&&(nr.z=tn.z+Ee(nr._,tn._));nr.parent.A=Ht(nr,tn,nr.parent.A||Dr[0])}function At(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Ht(nr,Lr,Dr){if(Lr){for(var tn=nr,fn=nr,Rr=Lr,Yr=tn.parent.children[0],$r=tn.m,pn=fn.m,mn=Rr.m,on=Yr.m,Xn;Rr=ms(Rr),tn=Rs(tn),Rr&&tn;)Yr=Rs(Yr),fn=ms(fn),fn.a=nr,Xn=Rr.z+mn-tn.z-$r+Ee(Rr._,tn._),Xn>0&&(Ku(xv(Rr,nr,Dr),nr,Xn),$r+=Xn,pn+=Xn),mn+=Rr.m,$r+=tn.m,on+=Yr.m,pn+=fn.m;Rr&&!ms(fn)&&(fn.t=Rr,fn.m+=mn-pn),tn&&!Rs(Yr)&&(Yr.t=tn,Yr.m+=$r-on,Dr=nr)}return Dr}function Gt(nr){nr.x*=Ve[0],nr.y=nr.depth*Ve[1]}return at.separation=function(nr){return arguments.length?(Ee=nr,at):Ee},at.size=function(nr){return arguments.length?(tt=(Ve=nr)==null?Gt:null,at):tt?null:Ve},at.nodeSize=function(nr){return arguments.length?(tt=(Ve=nr)==null?null:Gt,at):tt?Ve:null},xu(at,ve)};function ol(ve,Ee){return ve.parent==Ee.parent?1:2}function Rs(ve){var Ee=ve.children;return Ee.length?Ee[0]:ve.t}function ms(ve){var Ee=ve.children,Ve;return(Ve=Ee.length)?Ee[Ve-1]:ve.t}function Ku(ve,Ee,Ve){var tt=Ve/(Ee.i-ve.i);Ee.c-=tt,Ee.s+=Ve,ve.c+=tt,Ee.z+=Ve,Ee.m+=Ve}function mv(ve){for(var Ee=0,Ve=0,tt=ve.children,at=tt.length,ct;--at>=0;)ct=tt[at],ct.z+=Ee,ct.m+=Ee,Ee+=ct.s+(Ve+=ct.c)}function xv(ve,Ee,Ve){return ve.a.parent===Ee.parent?ve.a:Ve}o.layout.cluster=function(){var ve=o.layout.hierarchy().sort(null).value(null),Ee=ol,Ve=[1,1],tt=!1;function at(ct,Ct){var At=ve.call(this,ct,Ct),Ht=At[0],Gt,nr=0;is(Ht,function(Rr){var Yr=Rr.children;Yr&&Yr.length?(Rr.x=wv(Yr),Rr.y=bv(Yr)):(Rr.x=Gt?nr+=Ee(Rr,Gt):0,Rr.y=0,Gt=Rr)});var Lr=Mc(Ht),Dr=dh(Ht),tn=Lr.x-Ee(Lr,Dr)/2,fn=Dr.x+Ee(Dr,Lr)/2;return is(Ht,tt?function(Rr){Rr.x=(Rr.x-Ht.x)*Ve[0],Rr.y=(Ht.y-Rr.y)*Ve[1]}:function(Rr){Rr.x=(Rr.x-tn)/(fn-tn)*Ve[0],Rr.y=(1-(Ht.y?Rr.y/Ht.y:1))*Ve[1]}),At}return at.separation=function(ct){return arguments.length?(Ee=ct,at):Ee},at.size=function(ct){return arguments.length?(tt=(Ve=ct)==null,at):tt?null:Ve},at.nodeSize=function(ct){return arguments.length?(tt=(Ve=ct)!=null,at):tt?Ve:null},xu(at,ve)};function bv(ve){return 1+o.max(ve,function(Ee){return Ee.y})}function wv(ve){return ve.reduce(function(Ee,Ve){return Ee+Ve.x},0)/ve.length}function Mc(ve){var Ee=ve.children;return Ee&&Ee.length?Mc(Ee[0]):ve}function dh(ve){var Ee=ve.children,Ve;return Ee&&(Ve=Ee.length)?dh(Ee[Ve-1]):ve}o.layout.treemap=function(){var ve=o.layout.hierarchy(),Ee=Math.round,Ve=[1,1],tt=null,at=Au,ct=!1,Ct,At="squarify",Ht=.5*(1+Math.sqrt(5));function Gt(Rr,Yr){for(var $r=-1,pn=Rr.length,mn,on;++$r<pn;)on=(mn=Rr[$r]).value*(Yr<0?0:Yr),mn.area=isNaN(on)||on<=0?0:on}function nr(Rr){var Yr=Rr.children;if(Yr&&Yr.length){var $r=at(Rr),pn=[],mn=Yr.slice(),on,Xn=1/0,oa,da=At==="slice"?$r.dx:At==="dice"?$r.dy:At==="slice-dice"?Rr.depth&1?$r.dy:$r.dx:Math.min($r.dx,$r.dy),na;for(Gt(mn,$r.dx*$r.dy/Rr.value),pn.area=0;(na=mn.length)>0;)pn.push(on=mn[na-1]),pn.area+=on.area,At!=="squarify"||(oa=Dr(pn,da))<=Xn?(mn.pop(),Xn=oa):(pn.area-=pn.pop().area,tn(pn,da,$r,!1),da=Math.min($r.dx,$r.dy),pn.length=pn.area=0,Xn=1/0);pn.length&&(tn(pn,da,$r,!0),pn.length=pn.area=0),Yr.forEach(nr)}}function Lr(Rr){var Yr=Rr.children;if(Yr&&Yr.length){var $r=at(Rr),pn=Yr.slice(),mn,on=[];for(Gt(pn,$r.dx*$r.dy/Rr.value),on.area=0;mn=pn.pop();)on.push(mn),on.area+=mn.area,mn.z!=null&&(tn(on,mn.z?$r.dx:$r.dy,$r,!pn.length),on.length=on.area=0);Yr.forEach(Lr)}}function Dr(Rr,Yr){for(var $r=Rr.area,pn,mn=0,on=1/0,Xn=-1,oa=Rr.length;++Xn<oa;)(pn=Rr[Xn].area)&&(pn<on&&(on=pn),pn>mn&&(mn=pn));return $r*=$r,Yr*=Yr,$r?Math.max(Yr*mn*Ht/$r,$r/(Yr*on*Ht)):1/0}function tn(Rr,Yr,$r,pn){var mn=-1,on=Rr.length,Xn=$r.x,oa=$r.y,da=Yr?Ee(Rr.area/Yr):0,na;if(Yr==$r.dx){for((pn||da>$r.dy)&&(da=$r.dy);++mn<on;)na=Rr[mn],na.x=Xn,na.y=oa,na.dy=da,Xn+=na.dx=Math.min($r.x+$r.dx-Xn,da?Ee(na.area/da):0);na.z=!0,na.dx+=$r.x+$r.dx-Xn,$r.y+=da,$r.dy-=da}else{for((pn||da>$r.dx)&&(da=$r.dx);++mn<on;)na=Rr[mn],na.x=Xn,na.y=oa,na.dx=da,oa+=na.dy=Math.min($r.y+$r.dy-oa,da?Ee(na.area/da):0);na.z=!1,na.dy+=$r.y+$r.dy-oa,$r.x+=da,$r.dx-=da}}function fn(Rr){var Yr=Ct||ve(Rr),$r=Yr[0];return $r.x=$r.y=0,$r.value?($r.dx=Ve[0],$r.dy=Ve[1]):$r.dx=$r.dy=0,Ct&&ve.revalue($r),Gt([$r],$r.dx*$r.dy/$r.value),(Ct?Lr:nr)($r),ct&&(Ct=Yr),Yr}return fn.size=function(Rr){return arguments.length?(Ve=Rr,fn):Ve},fn.padding=function(Rr){if(!arguments.length)return tt;function Yr(mn){var on=Rr.call(fn,mn,mn.depth);return on==null?Au(mn):_o(mn,typeof on=="number"?[on,on,on,on]:on)}function $r(mn){return _o(mn,Rr)}var pn;return at=(tt=Rr)==null?Au:(pn=typeof Rr)=="function"?Yr:(pn==="number"&&(Rr=[Rr,Rr,Rr,Rr]),$r),fn},fn.round=function(Rr){return arguments.length?(Ee=Rr?Math.round:Number,fn):Ee!=Number},fn.sticky=function(Rr){return arguments.length?(ct=Rr,Ct=null,fn):ct},fn.ratio=function(Rr){return arguments.length?(Ht=Rr,fn):Ht},fn.mode=function(Rr){return arguments.length?(At=Rr+"",fn):At},xu(fn,ve)};function Au(ve){return{x:ve.x,y:ve.y,dx:ve.dx,dy:ve.dy}}function _o(ve,Ee){var Ve=ve.x+Ee[3],tt=ve.y+Ee[0],at=ve.dx-Ee[1]-Ee[3],ct=ve.dy-Ee[0]-Ee[2];return at<0&&(Ve+=at/2,at=0),ct<0&&(tt+=ct/2,ct=0),{x:Ve,y:tt,dx:at,dy:ct}}o.random={normal:function(ve,Ee){var Ve=arguments.length;return Ve<2&&(Ee=1),Ve<1&&(ve=0),function(){var tt,at,ct;do tt=Math.random()*2-1,at=Math.random()*2-1,ct=tt*tt+at*at;while(!ct||ct>1);return ve+Ee*tt*Math.sqrt(-2*Math.log(ct)/ct)}},logNormal:function(){var ve=o.random.normal.apply(o,arguments);return function(){return Math.exp(ve())}},bates:function(ve){var Ee=o.random.irwinHall(ve);return function(){return Ee()/ve}},irwinHall:function(ve){return function(){for(var Ee=0,Ve=0;Ve<ve;Ve++)Ee+=Math.random();return Ee}}},o.scale={};function ds(ve){var Ee=ve[0],Ve=ve[ve.length-1];return Ee<Ve?[Ee,Ve]:[Ve,Ee]}function Su(ve){return ve.rangeExtent?ve.rangeExtent():ds(ve.range())}function ph(ve,Ee,Ve,tt){var at=Ve(ve[0],ve[1]),ct=tt(Ee[0],Ee[1]);return function(Ct){return ct(at(Ct))}}function Ju(ve,Ee){var Ve=0,tt=ve.length-1,at=ve[Ve],ct=ve[tt],Ct;return ct<at&&(Ct=Ve,Ve=tt,tt=Ct,Ct=at,at=ct,ct=Ct),ve[Ve]=Ee.floor(at),ve[tt]=Ee.ceil(ct),ve}function sl(ve){return ve?{floor:function(Ee){return Math.floor(Ee/ve)*ve},ceil:function(Ee){return Math.ceil(Ee/ve)*ve}}:Tv}var Tv={floor:B,ceil:B};function gh(ve,Ee,Ve,tt){var at=[],ct=[],Ct=0,At=Math.min(ve.length,Ee.length)-1;for(ve[At]<ve[0]&&(ve=ve.slice().reverse(),Ee=Ee.slice().reverse());++Ct<=At;)at.push(Ve(ve[Ct-1],ve[Ct])),ct.push(tt(Ee[Ct-1],Ee[Ct]));return function(Ht){var Gt=o.bisect(ve,Ht,1,At)-1;return ct[Gt](at[Gt](Ht))}}o.scale.linear=function(){return yh([0,1],[0,1],Io,!1)};function yh(ve,Ee,Ve,tt){var at,ct;function Ct(){var Ht=Math.min(ve.length,Ee.length)>2?gh:ph,Gt=tt?yu:_s;return at=Ht(ve,Ee,Gt,Ve),ct=Ht(Ee,ve,Gt,Io),At}function At(Ht){return at(Ht)}return At.invert=function(Ht){return ct(Ht)},At.domain=function(Ht){return arguments.length?(ve=Ht.map(Number),Ct()):ve},At.range=function(Ht){return arguments.length?(Ee=Ht,Ct()):Ee},At.rangeRound=function(Ht){return At.range(Ht).interpolate(sh)},At.clamp=function(Ht){return arguments.length?(tt=Ht,Ct()):tt},At.interpolate=function(Ht){return arguments.length?(Ve=Ht,Ct()):Ve},At.ticks=function(Ht){return Is(ve,Ht)},At.tickFormat=function(Ht,Gt){return d3_scale_linearTickFormat(ve,Ht,Gt)},At.nice=function(Ht){return mh(ve,Ht),Ct()},At.copy=function(){return yh(ve,Ee,Ve,tt)},Ct()}function Ec(ve,Ee){return o.rebind(ve,Ee,"range","rangeRound","interpolate","clamp")}function mh(ve,Ee){return Ju(ve,sl(Qo(ve,Ee)[2])),Ju(ve,sl(Qo(ve,Ee)[2])),ve}function Qo(ve,Ee){Ee==null&&(Ee=10);var Ve=ds(ve),tt=Ve[1]-Ve[0],at=Math.pow(10,Math.floor(Math.log(tt/Ee)/Math.LN10)),ct=Ee/tt*at;return ct<=.15?at*=10:ct<=.35?at*=5:ct<=.75&&(at*=2),Ve[0]=Math.ceil(Ve[0]/at)*at,Ve[1]=Math.floor(Ve[1]/at)*at+at*.5,Ve[2]=at,Ve}function Is(ve,Ee){return o.range.apply(o,Qo(ve,Ee))}o.scale.log=function(){return El(o.scale.linear().domain([0,1]),10,!0,[1,10])};function El(ve,Ee,Ve,tt){function at(At){return(Ve?Math.log(At<0?0:At):-Math.log(At>0?0:-At))/Math.log(Ee)}function ct(At){return Ve?Math.pow(Ee,At):-Math.pow(Ee,-At)}function Ct(At){return ve(at(At))}return Ct.invert=function(At){return ct(ve.invert(At))},Ct.domain=function(At){return arguments.length?(Ve=At[0]>=0,ve.domain((tt=At.map(Number)).map(at)),Ct):tt},Ct.base=function(At){return arguments.length?(Ee=+At,ve.domain(tt.map(at)),Ct):Ee},Ct.nice=function(){var At=Ju(tt.map(at),Ve?Math:Mu);return ve.domain(At),tt=At.map(ct),Ct},Ct.ticks=function(){var At=ds(tt),Ht=[],Gt=At[0],nr=At[1],Lr=Math.floor(at(Gt)),Dr=Math.ceil(at(nr)),tn=Ee%1?2:Ee;if(isFinite(Dr-Lr)){if(Ve){for(;Lr<Dr;Lr++)for(var fn=1;fn<tn;fn++)Ht.push(ct(Lr)*fn);Ht.push(ct(Lr))}else for(Ht.push(ct(Lr));Lr++<Dr;)for(var fn=tn-1;fn>0;fn--)Ht.push(ct(Lr)*fn);for(Lr=0;Ht[Lr]<Gt;Lr++);for(Dr=Ht.length;Ht[Dr-1]>nr;Dr--);Ht=Ht.slice(Lr,Dr)}return Ht},Ct.copy=function(){return El(ve.copy(),Ee,Ve,tt)},Ec(Ct,ve)}var Mu={floor:function(ve){return-Math.ceil(-ve)},ceil:function(ve){return-Math.floor(-ve)}};o.scale.pow=function(){return Hf(o.scale.linear(),1,[0,1])};function Hf(ve,Ee,Ve){var tt=jl(Ee),at=jl(1/Ee);function ct(Ct){return ve(tt(Ct))}return ct.invert=function(Ct){return at(ve.invert(Ct))},ct.domain=function(Ct){return arguments.length?(ve.domain((Ve=Ct.map(Number)).map(tt)),ct):Ve},ct.ticks=function(Ct){return Is(Ve,Ct)},ct.tickFormat=function(Ct,At){return d3_scale_linearTickFormat(Ve,Ct,At)},ct.nice=function(Ct){return ct.domain(mh(Ve,Ct))},ct.exponent=function(Ct){return arguments.length?(tt=jl(Ee=Ct),at=jl(1/Ee),ve.domain(Ve.map(tt)),ct):Ee},ct.copy=function(){return Hf(ve.copy(),Ee,Ve)},Ec(ct,ve)}function jl(ve){return function(Ee){return Ee<0?-Math.pow(-Ee,ve):Math.pow(Ee,ve)}}o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return Kl([],{t:"range",a:[[]]})};function Kl(ve,Ee){var Ve,tt,at;function ct(At){return tt[((Ve.get(At)||(Ee.t==="range"?Ve.set(At,ve.push(At)):NaN))-1)%tt.length]}function Ct(At,Ht){return o.range(ve.length).map(function(Gt){return At+Ht*Gt})}return ct.domain=function(At){if(!arguments.length)return ve;ve=[],Ve=new _;for(var Ht=-1,Gt=At.length,nr;++Ht<Gt;)Ve.has(nr=At[Ht])||Ve.set(nr,ve.push(nr));return ct[Ee.t].apply(ct,Ee.a)},ct.range=function(At){return arguments.length?(tt=At,at=0,Ee={t:"range",a:arguments},ct):tt},ct.rangePoints=function(At,Ht){arguments.length<2&&(Ht=0);var Gt=At[0],nr=At[1],Lr=ve.length<2?(Gt=(Gt+nr)/2,0):(nr-Gt)/(ve.length-1+Ht);return tt=Ct(Gt+Lr*Ht/2,Lr),at=0,Ee={t:"rangePoints",a:arguments},ct},ct.rangeRoundPoints=function(At,Ht){arguments.length<2&&(Ht=0);var Gt=At[0],nr=At[1],Lr=ve.length<2?(Gt=nr=Math.round((Gt+nr)/2),0):(nr-Gt)/(ve.length-1+Ht)|0;return tt=Ct(Gt+Math.round(Lr*Ht/2+(nr-Gt-(ve.length-1+Ht)*Lr)/2),Lr),at=0,Ee={t:"rangeRoundPoints",a:arguments},ct},ct.rangeBands=function(At,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var nr=At[1]<At[0],Lr=At[nr-0],Dr=At[1-nr],tn=(Dr-Lr)/(ve.length-Ht+2*Gt);return tt=Ct(Lr+tn*Gt,tn),nr&&tt.reverse(),at=tn*(1-Ht),Ee={t:"rangeBands",a:arguments},ct},ct.rangeRoundBands=function(At,Ht,Gt){arguments.length<2&&(Ht=0),arguments.length<3&&(Gt=Ht);var nr=At[1]<At[0],Lr=At[nr-0],Dr=At[1-nr],tn=Math.floor((Dr-Lr)/(ve.length-Ht+2*Gt));return tt=Ct(Lr+Math.round((Dr-Lr-(ve.length-Ht)*tn)/2),tn),nr&&tt.reverse(),at=Math.round(tn*(1-Ht)),Ee={t:"rangeRoundBands",a:arguments},ct},ct.rangeBand=function(){return at},ct.rangeExtent=function(){return ds(Ee.a[0])},ct.copy=function(){return Kl(ve,Ee)},ct.domain(ve)}o.scale.category10=function(){return o.scale.ordinal().range(xh)},o.scale.category20=function(){return o.scale.ordinal().range(ll)},o.scale.category20b=function(){return o.scale.ordinal().range(Eu)},o.scale.category20c=function(){return o.scale.ordinal().range(_l)};var xh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(zt),ll=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(zt),Eu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(zt),_l=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(zt);o.scale.quantile=function(){return ul([],[])};function ul(ve,Ee){var Ve;function tt(){var ct=0,Ct=Ee.length;for(Ve=[];++ct<Ct;)Ve[ct-1]=o.quantile(ve,ct/Ct);return at}function at(ct){if(!isNaN(ct=+ct))return Ee[o.bisect(Ve,ct)]}return at.domain=function(ct){return arguments.length?(ve=ct.map(y).filter(h).sort(l),tt()):ve},at.range=function(ct){return arguments.length?(Ee=ct,tt()):Ee},at.quantiles=function(){return Ve},at.invertExtent=function(ct){return ct=Ee.indexOf(ct),ct<0?[NaN,NaN]:[ct>0?Ve[ct-1]:ve[0],ct<Ve.length?Ve[ct]:ve[ve.length-1]]},at.copy=function(){return ul(ve,Ee)},tt()}o.scale.quantize=function(){return Qu(0,1,[0,1])};function Qu(ve,Ee,Ve){var tt,at;function ct(At){return Ve[Math.max(0,Math.min(at,Math.floor(tt*(At-ve))))]}function Ct(){return tt=Ve.length/(Ee-ve),at=Ve.length-1,ct}return ct.domain=function(At){return arguments.length?(ve=+At[0],Ee=+At[At.length-1],Ct()):[ve,Ee]},ct.range=function(At){return arguments.length?(Ve=At,Ct()):Ve},ct.invertExtent=function(At){return At=Ve.indexOf(At),At=At<0?NaN:At/tt+ve,[At,At+1/tt]},ct.copy=function(){return Qu(ve,Ee,Ve)},Ct()}o.scale.threshold=function(){return _u([.5],[0,1])};function _u(ve,Ee){function Ve(tt){if(tt<=tt)return Ee[o.bisect(ve,tt)]}return Ve.domain=function(tt){return arguments.length?(ve=tt,Ve):ve},Ve.range=function(tt){return arguments.length?(Ee=tt,Ve):Ee},Ve.invertExtent=function(tt){return tt=Ee.indexOf(tt),[ve[tt-1],ve[tt]]},Ve.copy=function(){return _u(ve,Ee)},Ve}o.scale.identity=function(){return Di([0,1])};function Di(ve){function Ee(Ve){return+Ve}return Ee.invert=Ee,Ee.domain=Ee.range=function(Ve){return arguments.length?(ve=Ve.map(Ee),Ee):ve},Ee.ticks=function(Ve){return Is(ve,Ve)},Ee.tickFormat=function(Ve,tt){return d3_scale_linearTickFormat(ve,Ve,tt)},Ee.copy=function(){return Di(ve)},Ee}o.svg={};function Cu(){return 0}o.svg.arc=function(){var ve=bh,Ee=Lu,Ve=Cu,tt=Yf,at=$u,ct=Wf,Ct=_c;function At(){var Gt=Math.max(0,+ve.apply(this,arguments)),nr=Math.max(0,+Ee.apply(this,arguments)),Lr=at.apply(this,arguments)-et,Dr=ct.apply(this,arguments)-et,tn=Math.abs(Dr-Lr),fn=Lr>Dr?0:1;if(nr<Gt&&(Rr=nr,nr=Gt,Gt=Rr),tn>=Ue)return Ht(nr,fn)+(Gt?Ht(Gt,1-fn):"")+"Z";var Rr,Yr,$r,pn,mn=0,on=0,Xn,oa,da,na,fa,pa,Wa,Da,Ua=[];if((pn=(+Ct.apply(this,arguments)||0)/2)&&($r=tt===Yf?Math.sqrt(Gt*Gt+nr*nr):+tt.apply(this,arguments),fn||(on*=-1),nr&&(on=jt($r/nr*Math.sin(pn))),Gt&&(mn=jt($r/Gt*Math.sin(pn)))),nr){Xn=nr*Math.cos(Lr+on),oa=nr*Math.sin(Lr+on),da=nr*Math.cos(Dr-on),na=nr*Math.sin(Dr-on);var bi=Math.abs(Dr-Lr-2*on)<=ge?0:1;if(on&&qu(Xn,oa,da,na)===fn^bi){var co=(Lr+Dr)/2;Xn=nr*Math.cos(co),oa=nr*Math.sin(co),da=na=null}}else Xn=oa=0;if(Gt){fa=Gt*Math.cos(Dr-mn),pa=Gt*Math.sin(Dr-mn),Wa=Gt*Math.cos(Lr+mn),Da=Gt*Math.sin(Lr+mn);var _i=Math.abs(Lr-Dr+2*mn)<=ge?0:1;if(mn&&qu(fa,pa,Wa,Da)===1-fn^_i){var ra=(Lr+Dr)/2;fa=Gt*Math.cos(ra),pa=Gt*Math.sin(ra),Wa=Da=null}}else fa=pa=0;if(tn>je&&(Rr=Math.min(Math.abs(nr-Gt)/2,+Ve.apply(this,arguments)))>.001){Yr=Gt<nr^fn?0:1;var Za=Rr,Ca=Rr;if(tn<ge){var li=Wa==null?[fa,pa]:da==null?[Xn,oa]:gn([Xn,oa],[Wa,Da],[da,na],[fa,pa]),Vi=Xn-li[0],wi=oa-li[1],Co=da-li[0],Lo=na-li[1],Oo=1/Math.sin(Math.acos((Vi*Co+wi*Lo)/(Math.sqrt(Vi*Vi+wi*wi)*Math.sqrt(Co*Co+Lo*Lo)))/2),Hi=Math.sqrt(li[0]*li[0]+li[1]*li[1]);Ca=Math.min(Rr,(Gt-Hi)/(Oo-1)),Za=Math.min(Rr,(nr-Hi)/(Oo+1))}if(da!=null){var Xo=ef(Wa==null?[fa,pa]:[Wa,Da],[Xn,oa],nr,Za,fn),ha=ef([da,na],[fa,pa],nr,Za,fn);Rr===Za?Ua.push("M",Xo[0],"A",Za,",",Za," 0 0,",Yr," ",Xo[1],"A",nr,",",nr," 0 ",1-fn^qu(Xo[1][0],Xo[1][1],ha[1][0],ha[1][1]),",",fn," ",ha[1],"A",Za,",",Za," 0 0,",Yr," ",ha[0]):Ua.push("M",Xo[0],"A",Za,",",Za," 0 1,",Yr," ",ha[0])}else Ua.push("M",Xn,",",oa);if(Wa!=null){var Ra=ef([Xn,oa],[Wa,Da],Gt,-Ca,fn),ss=ef([fa,pa],da==null?[Xn,oa]:[da,na],Gt,-Ca,fn);Rr===Ca?Ua.push("L",ss[0],"A",Ca,",",Ca," 0 0,",Yr," ",ss[1],"A",Gt,",",Gt," 0 ",fn^qu(ss[1][0],ss[1][1],Ra[1][0],Ra[1][1]),",",1-fn," ",Ra[1],"A",Ca,",",Ca," 0 0,",Yr," ",Ra[0]):Ua.push("L",ss[0],"A",Ca,",",Ca," 0 0,",Yr," ",Ra[0])}else Ua.push("L",fa,",",pa)}else Ua.push("M",Xn,",",oa),da!=null&&Ua.push("A",nr,",",nr," 0 ",bi,",",fn," ",da,",",na),Ua.push("L",fa,",",pa),Wa!=null&&Ua.push("A",Gt,",",Gt," 0 ",_i,",",1-fn," ",Wa,",",Da);return Ua.push("Z"),Ua.join("")}function Ht(Gt,nr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+nr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+nr+" 0,"+Gt}return At.innerRadius=function(Gt){return arguments.length?(ve=an(Gt),At):ve},At.outerRadius=function(Gt){return arguments.length?(Ee=an(Gt),At):Ee},At.cornerRadius=function(Gt){return arguments.length?(Ve=an(Gt),At):Ve},At.padRadius=function(Gt){return arguments.length?(tt=Gt==Yf?Yf:an(Gt),At):tt},At.startAngle=function(Gt){return arguments.length?(at=an(Gt),At):at},At.endAngle=function(Gt){return arguments.length?(ct=an(Gt),At):ct},At.padAngle=function(Gt){return arguments.length?(Ct=an(Gt),At):Ct},At.centroid=function(){var Gt=(+ve.apply(this,arguments)+ +Ee.apply(this,arguments))/2,nr=(+at.apply(this,arguments)+ +ct.apply(this,arguments))/2-et;return[Math.cos(nr)*Gt,Math.sin(nr)*Gt]},At};var Yf="auto";function bh(ve){return ve.innerRadius}function Lu(ve){return ve.outerRadius}function $u(ve){return ve.startAngle}function Wf(ve){return ve.endAngle}function _c(ve){return ve&&ve.padAngle}function qu(ve,Ee,Ve,tt){return(ve-Ve)*Ee-(Ee-tt)*ve>0?0:1}function ef(ve,Ee,Ve,tt,at){var ct=ve[0]-Ee[0],Ct=ve[1]-Ee[1],At=(at?tt:-tt)/Math.sqrt(ct*ct+Ct*Ct),Ht=At*Ct,Gt=-At*ct,nr=ve[0]+Ht,Lr=ve[1]+Gt,Dr=Ee[0]+Ht,tn=Ee[1]+Gt,fn=(nr+Dr)/2,Rr=(Lr+tn)/2,Yr=Dr-nr,$r=tn-Lr,pn=Yr*Yr+$r*$r,mn=Ve-tt,on=nr*tn-Dr*Lr,Xn=($r<0?-1:1)*Math.sqrt(Math.max(0,mn*mn*pn-on*on)),oa=(on*$r-Yr*Xn)/pn,da=(-on*Yr-$r*Xn)/pn,na=(on*$r+Yr*Xn)/pn,fa=(-on*Yr+$r*Xn)/pn,pa=oa-fn,Wa=da-Rr,Da=na-fn,Ua=fa-Rr;return pa*pa+Wa*Wa>Da*Da+Ua*Ua&&(oa=na,da=fa),[[oa-Ht,da-Gt],[oa*Ve/mn,da*Ve/mn]]}function Cl(){return!0}function tf(ve){var Ee=Ma,Ve=Zn,tt=Cl,at=xo,ct=at.key,Ct=.7;function At(Ht){var Gt=[],nr=[],Lr=-1,Dr=Ht.length,tn,fn=an(Ee),Rr=an(Ve);function Yr(){Gt.push("M",at(ve(nr),Ct))}for(;++Lr<Dr;)tt.call(this,tn=Ht[Lr],Lr)?nr.push([+fn.call(this,tn,Lr),+Rr.call(this,tn,Lr)]):nr.length&&(Yr(),nr=[]);return nr.length&&Yr(),Gt.length?Gt.join(""):null}return At.x=function(Ht){return arguments.length?(Ee=Ht,At):Ee},At.y=function(Ht){return arguments.length?(Ve=Ht,At):Ve},At.defined=function(Ht){return arguments.length?(tt=Ht,At):tt},At.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?ct=at=Ht:ct=(at=Ll.get(Ht)||xo).key,At):ct},At.tension=function(Ht){return arguments.length?(Ct=Ht,At):Ct},At}o.svg.line=function(){return tf(B)};var Ll=o.map({linear:xo,"linear-closed":Zs,step:Cc,"step-before":Jl,"step-after":Gf,basis:Du,"basis-open":Th,"basis-closed":Dl,bundle:Sv,cardinal:wh,"cardinal-open":rf,"cardinal-closed":Av,monotone:Zf});Ll.forEach(function(ve,Ee){Ee.key=ve,Ee.closed=/-closed$/.test(ve)});function xo(ve){return ve.length>1?ve.join("L"):ve+"Z"}function Zs(ve){return ve.join("L")+"Z"}function Cc(ve){for(var Ee=0,Ve=ve.length,tt=ve[0],at=[tt[0],",",tt[1]];++Ee<Ve;)at.push("H",(tt[0]+(tt=ve[Ee])[0])/2,"V",tt[1]);return Ve>1&&at.push("H",tt[0]),at.join("")}function Jl(ve){for(var Ee=0,Ve=ve.length,tt=ve[0],at=[tt[0],",",tt[1]];++Ee<Ve;)at.push("V",(tt=ve[Ee])[1],"H",tt[0]);return at.join("")}function Gf(ve){for(var Ee=0,Ve=ve.length,tt=ve[0],at=[tt[0],",",tt[1]];++Ee<Ve;)at.push("H",(tt=ve[Ee])[0],"V",tt[1]);return at.join("")}function rf(ve,Ee){return ve.length<4?xo(ve):ve[1]+Go(ve.slice(1,-1),nf(ve,Ee))}function Av(ve,Ee){return ve.length<3?Zs(ve):ve[0]+Go((ve.push(ve[0]),ve),nf([ve[ve.length-2]].concat(ve,[ve[1]]),Ee))}function wh(ve,Ee){return ve.length<3?xo(ve):ve[0]+Go(ve,nf(ve,Ee))}function Go(ve,Ee){if(Ee.length<1||ve.length!=Ee.length&&ve.length!=Ee.length+2)return xo(ve);var Ve=ve.length!=Ee.length,tt="",at=ve[0],ct=ve[1],Ct=Ee[0],At=Ct,Ht=1;if(Ve&&(tt+="Q"+(ct[0]-Ct[0]*2/3)+","+(ct[1]-Ct[1]*2/3)+","+ct[0]+","+ct[1],at=ve[1],Ht=2),Ee.length>1){At=Ee[1],ct=ve[Ht],Ht++,tt+="C"+(at[0]+Ct[0])+","+(at[1]+Ct[1])+","+(ct[0]-At[0])+","+(ct[1]-At[1])+","+ct[0]+","+ct[1];for(var Gt=2;Gt<Ee.length;Gt++,Ht++)ct=ve[Ht],At=Ee[Gt],tt+="S"+(ct[0]-At[0])+","+(ct[1]-At[1])+","+ct[0]+","+ct[1]}if(Ve){var nr=ve[Ht];tt+="Q"+(ct[0]+At[0]*2/3)+","+(ct[1]+At[1]*2/3)+","+nr[0]+","+nr[1]}return tt}function nf(ve,Ee){for(var Ve=[],tt=(1-Ee)/2,at,ct=ve[0],Ct=ve[1],At=1,Ht=ve.length;++At<Ht;)at=ct,ct=Ct,Ct=ve[At],Ve.push([tt*(Ct[0]-at[0]),tt*(Ct[1]-at[1])]);return Ve}function Du(ve){if(ve.length<3)return xo(ve);var Ee=1,Ve=ve.length,tt=ve[0],at=tt[0],ct=tt[1],Ct=[at,at,at,(tt=ve[1])[0]],At=[ct,ct,ct,tt[1]],Ht=[at,",",ct,"L",os(fl,Ct),",",os(fl,At)];for(ve.push(ve[Ve-1]);++Ee<=Ve;)tt=ve[Ee],Ct.shift(),Ct.push(tt[0]),At.shift(),At.push(tt[1]),Pl(Ht,Ct,At);return ve.pop(),Ht.push("L",tt),Ht.join("")}function Th(ve){if(ve.length<4)return xo(ve);for(var Ee=[],Ve=-1,tt=ve.length,at,ct=[0],Ct=[0];++Ve<3;)at=ve[Ve],ct.push(at[0]),Ct.push(at[1]);for(Ee.push(os(fl,ct)+","+os(fl,Ct)),--Ve;++Ve<tt;)at=ve[Ve],ct.shift(),ct.push(at[0]),Ct.shift(),Ct.push(at[1]),Pl(Ee,ct,Ct);return Ee.join("")}function Dl(ve){for(var Ee,Ve=-1,tt=ve.length,at=tt+4,ct,Ct=[],At=[];++Ve<4;)ct=ve[Ve%tt],Ct.push(ct[0]),At.push(ct[1]);for(Ee=[os(fl,Ct),",",os(fl,At)],--Ve;++Ve<at;)ct=ve[Ve%tt],Ct.shift(),Ct.push(ct[0]),At.shift(),At.push(ct[1]),Pl(Ee,Ct,At);return Ee.join("")}function Sv(ve,Ee){var Ve=ve.length-1;if(Ve)for(var tt=ve[0][0],at=ve[0][1],ct=ve[Ve][0]-tt,Ct=ve[Ve][1]-at,At=-1,Ht,Gt;++At<=Ve;)Ht=ve[At],Gt=At/Ve,Ht[0]=Ee*Ht[0]+(1-Ee)*(tt+Gt*ct),Ht[1]=Ee*Ht[1]+(1-Ee)*(at+Gt*Ct);return Du(ve)}function os(ve,Ee){return ve[0]*Ee[0]+ve[1]*Ee[1]+ve[2]*Ee[2]+ve[3]*Ee[3]}var af=[0,2/3,1/3,0],Xf=[0,1/3,2/3,0],fl=[0,1/6,2/3,1/6];function Pl(ve,Ee,Ve){ve.push("C",os(af,Ee),",",os(af,Ve),",",os(Xf,Ee),",",os(Xf,Ve),",",os(fl,Ee),",",os(fl,Ve))}function Lc(ve,Ee){return(Ee[1]-ve[1])/(Ee[0]-ve[0])}function of(ve){for(var Ee=0,Ve=ve.length-1,tt=[],at=ve[0],ct=ve[1],Ct=tt[0]=Lc(at,ct);++Ee<Ve;)tt[Ee]=(Ct+(Ct=Lc(at=ct,ct=ve[Ee+1])))/2;return tt[Ee]=Ct,tt}function sf(ve){for(var Ee=[],Ve,tt,at,ct,Ct=of(ve),At=-1,Ht=ve.length-1;++At<Ht;)Ve=Lc(ve[At],ve[At+1]),d(Ve)<je?Ct[At]=Ct[At+1]=0:(tt=Ct[At]/Ve,at=Ct[At+1]/Ve,ct=tt*tt+at*at,ct>9&&(ct=Ve*3/Math.sqrt(ct),Ct[At]=ct*tt,Ct[At+1]=ct*at));for(At=-1;++At<=Ht;)ct=(ve[Math.min(Ht,At+1)][0]-ve[Math.max(0,At-1)][0])/(6*(1+Ct[At]*Ct[At])),Ee.push([ct||0,Ct[At]*ct||0]);return Ee}function Zf(ve){return ve.length<3?xo(ve):ve[0]+Go(ve,sf(ve))}o.svg.line.radial=function(){var ve=tf(Ah);return ve.radius=ve.x,delete ve.x,ve.angle=ve.y,delete ve.y,ve};function Ah(ve){for(var Ee,Ve=-1,tt=ve.length,at,ct;++Ve<tt;)Ee=ve[Ve],at=Ee[0],ct=Ee[1]-et,Ee[0]=at*Math.cos(ct),Ee[1]=at*Math.sin(ct);return ve}function lf(ve){var Ee=Ma,Ve=Ma,tt=0,at=Zn,ct=Cl,Ct=xo,At=Ct.key,Ht=Ct,Gt="L",nr=.7;function Lr(Dr){var tn=[],fn=[],Rr=[],Yr=-1,$r=Dr.length,pn,mn=an(Ee),on=an(tt),Xn=Ee===Ve?function(){return da}:an(Ve),oa=tt===at?function(){return na}:an(at),da,na;function fa(){tn.push("M",Ct(ve(Rr),nr),Gt,Ht(ve(fn.reverse()),nr),"Z")}for(;++Yr<$r;)ct.call(this,pn=Dr[Yr],Yr)?(fn.push([da=+mn.call(this,pn,Yr),na=+on.call(this,pn,Yr)]),Rr.push([+Xn.call(this,pn,Yr),+oa.call(this,pn,Yr)])):fn.length&&(fa(),fn=[],Rr=[]);return fn.length&&fa(),tn.length?tn.join(""):null}return Lr.x=function(Dr){return arguments.length?(Ee=Ve=Dr,Lr):Ve},Lr.x0=function(Dr){return arguments.length?(Ee=Dr,Lr):Ee},Lr.x1=function(Dr){return arguments.length?(Ve=Dr,Lr):Ve},Lr.y=function(Dr){return arguments.length?(tt=at=Dr,Lr):at},Lr.y0=function(Dr){return arguments.length?(tt=Dr,Lr):tt},Lr.y1=function(Dr){return arguments.length?(at=Dr,Lr):at},Lr.defined=function(Dr){return arguments.length?(ct=Dr,Lr):ct},Lr.interpolate=function(Dr){return arguments.length?(typeof Dr=="function"?At=Ct=Dr:At=(Ct=Ll.get(Dr)||xo).key,Ht=Ct.reverse||Ct,Gt=Ct.closed?"M":"L",Lr):At},Lr.tension=function(Dr){return arguments.length?(nr=Dr,Lr):nr},Lr}Jl.reverse=Gf,Gf.reverse=Jl,o.svg.area=function(){return lf(B)},o.svg.area.radial=function(){var ve=lf(Ah);return ve.radius=ve.x,delete ve.x,ve.innerRadius=ve.x0,delete ve.x0,ve.outerRadius=ve.x1,delete ve.x1,ve.angle=ve.y,delete ve.y,ve.startAngle=ve.y0,delete ve.y0,ve.endAngle=ve.y1,delete ve.y1,ve};function Dc(ve){return ve.source}function Ql(ve){return ve.target}o.svg.chord=function(){var ve=Dc,Ee=Ql,Ve=Pc,tt=$u,at=Wf;function ct(nr,Lr){var Dr=Ct(this,ve,nr,Lr),tn=Ct(this,Ee,nr,Lr);return"M"+Dr.p0+Ht(Dr.r,Dr.p1,Dr.a1-Dr.a0)+(At(Dr,tn)?Gt(Dr.r,Dr.p1,Dr.r,Dr.p0):Gt(Dr.r,Dr.p1,tn.r,tn.p0)+Ht(tn.r,tn.p1,tn.a1-tn.a0)+Gt(tn.r,tn.p1,Dr.r,Dr.p0))+"Z"}function Ct(nr,Lr,Dr,tn){var fn=Lr.call(nr,Dr,tn),Rr=Ve.call(nr,fn,tn),Yr=tt.call(nr,fn,tn)-et,$r=at.call(nr,fn,tn)-et;return{r:Rr,a0:Yr,a1:$r,p0:[Rr*Math.cos(Yr),Rr*Math.sin(Yr)],p1:[Rr*Math.cos($r),Rr*Math.sin($r)]}}function At(nr,Lr){return nr.a0==Lr.a0&&nr.a1==Lr.a1}function Ht(nr,Lr,Dr){return"A"+nr+","+nr+" 0 "+ +(Dr>ge)+",1 "+Lr}function Gt(nr,Lr,Dr,tn){return"Q 0,0 "+tn}return ct.radius=function(nr){return arguments.length?(Ve=an(nr),ct):Ve},ct.source=function(nr){return arguments.length?(ve=an(nr),ct):ve},ct.target=function(nr){return arguments.length?(Ee=an(nr),ct):Ee},ct.startAngle=function(nr){return arguments.length?(tt=an(nr),ct):tt},ct.endAngle=function(nr){return arguments.length?(at=an(nr),ct):at},ct};function Pc(ve){return ve.radius}o.svg.diagonal=function(){var ve=Dc,Ee=Ql,Ve=uf;function tt(at,ct){var Ct=ve.call(this,at,ct),At=Ee.call(this,at,ct),Ht=(Ct.y+At.y)/2,Gt=[Ct,{x:Ct.x,y:Ht},{x:At.x,y:Ht},At];return Gt=Gt.map(Ve),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return tt.source=function(at){return arguments.length?(ve=an(at),tt):ve},tt.target=function(at){return arguments.length?(Ee=an(at),tt):Ee},tt.projection=function(at){return arguments.length?(Ve=at,tt):Ve},tt};function uf(ve){return[ve.x,ve.y]}o.svg.diagonal.radial=function(){var ve=o.svg.diagonal(),Ee=uf,Ve=ve.projection;return ve.projection=function(tt){return arguments.length?Ve(Sh(Ee=tt)):Ee},ve};function Sh(ve){return function(){var Ee=ve.apply(this,arguments),Ve=Ee[0],tt=Ee[1]-et;return[Ve*Math.cos(tt),Ve*Math.sin(tt)]}}o.svg.symbol=function(){var ve=it,Ee=Je;function Ve(tt,at){return(xt.get(ve.call(this,tt,at))||yt)(Ee.call(this,tt,at))}return Ve.type=function(tt){return arguments.length?(ve=an(tt),Ve):ve},Ve.size=function(tt){return arguments.length?(Ee=an(tt),Ve):Ee},Ve};function Je(){return 64}function it(){return"circle"}function yt(ve){var Ee=Math.sqrt(ve/ge);return"M0,"+Ee+"A"+Ee+","+Ee+" 0 1,1 0,"+-Ee+"A"+Ee+","+Ee+" 0 1,1 0,"+Ee+"Z"}var xt=o.map({circle:yt,cross:function(ve){var Ee=Math.sqrt(ve/5)/2;return"M"+-3*Ee+","+-Ee+"H"+-Ee+"V"+-3*Ee+"H"+Ee+"V"+-Ee+"H"+3*Ee+"V"+Ee+"H"+Ee+"V"+3*Ee+"H"+-Ee+"V"+Ee+"H"+-3*Ee+"Z"},diamond:function(ve){var Ee=Math.sqrt(ve/(2*It)),Ve=Ee*It;return"M0,"+-Ee+"L"+Ve+",0 0,"+Ee+" "+-Ve+",0Z"},square:function(ve){var Ee=Math.sqrt(ve)/2;return"M"+-Ee+","+-Ee+"L"+Ee+","+-Ee+" "+Ee+","+Ee+" "+-Ee+","+Ee+"Z"},"triangle-down":function(ve){var Ee=Math.sqrt(ve/Ot),Ve=Ee*Ot/2;return"M0,"+Ve+"L"+Ee+","+-Ve+" "+-Ee+","+-Ve+"Z"},"triangle-up":function(ve){var Ee=Math.sqrt(ve/Ot),Ve=Ee*Ot/2;return"M0,"+-Ve+"L"+Ee+","+Ve+" "+-Ee+","+Ve+"Z"}});o.svg.symbolTypes=xt.keys();var Ot=Math.sqrt(3),It=Math.tan(30*st);K.transition=function(ve){for(var Ee=Or||++Er,Ve=On(ve),tt=[],at,ct,Ct=Hr||{time:Date.now(),ease:yc,delay:0,duration:250},At=-1,Ht=this.length;++At<Ht;){tt.push(at=[]);for(var Gt=this[At],nr=-1,Lr=Gt.length;++nr<Lr;)(ct=Gt[nr])&&Nn(ct,nr,Ve,Ee,Ct),at.push(ct)}return Ar(tt,Ve,Ee)},K.interrupt=function(ve){return this.each(ve==null?Ft:yr(On(ve)))};var Ft=yr(On());function yr(ve){return function(){var Ee,Ve,tt;(Ee=this[ve])&&(tt=Ee[Ve=Ee.active])&&(tt.timer.c=null,tt.timer.t=NaN,--Ee.count?delete Ee[Ve]:delete this[ve],Ee.active+=.5,tt.event&&tt.event.interrupt.call(this,this.__data__,tt.index))}}function Ar(ve,Ee,Ve){return le(ve,ir),ve.namespace=Ee,ve.id=Ve,ve}var ir=[],Er=0,Or,Hr;ir.call=K.call,ir.empty=K.empty,ir.node=K.node,ir.size=K.size,o.transition=function(ve,Ee){return ve&&ve.transition?Or?ve.transition(Ee):ve:o.selection().transition(ve)},o.transition.prototype=ir,ir.select=function(ve){var Ee=this.id,Ve=this.namespace,tt=[],at,ct,Ct;ve=ce(ve);for(var At=-1,Ht=this.length;++At<Ht;){tt.push(at=[]);for(var Gt=this[At],nr=-1,Lr=Gt.length;++nr<Lr;)(Ct=Gt[nr])&&(ct=ve.call(Ct,Ct.__data__,nr,At))?("__data__"in Ct&&(ct.__data__=Ct.__data__),Nn(ct,nr,Ve,Ee,Ct[Ve][Ee]),at.push(ct)):at.push(null)}return Ar(tt,Ve,Ee)},ir.selectAll=function(ve){var Ee=this.id,Ve=this.namespace,tt=[],at,ct,Ct,At,Ht;ve=ae(ve);for(var Gt=-1,nr=this.length;++Gt<nr;)for(var Lr=this[Gt],Dr=-1,tn=Lr.length;++Dr<tn;)if(Ct=Lr[Dr]){Ht=Ct[Ve][Ee],ct=ve.call(Ct,Ct.__data__,Dr,Gt),tt.push(at=[]);for(var fn=-1,Rr=ct.length;++fn<Rr;)(At=ct[fn])&&Nn(At,fn,Ve,Ee,Ht),at.push(At)}return Ar(tt,Ve,Ee)},ir.filter=function(ve){var Ee=[],Ve,tt,at;typeof ve!="function"&&(ve=rt(ve));for(var ct=0,Ct=this.length;ct<Ct;ct++){Ee.push(Ve=[]);for(var tt=this[ct],At=0,Ht=tt.length;At<Ht;At++)(at=tt[At])&&ve.call(at,at.__data__,At,ct)&&Ve.push(at)}return Ar(Ee,this.namespace,this.id)},ir.tween=function(ve,Ee){var Ve=this.id,tt=this.namespace;return arguments.length<2?this.node()[tt][Ve].tween.get(ve):$e(this,Ee==null?function(at){at[tt][Ve].tween.remove(ve)}:function(at){at[tt][Ve].tween.set(ve,Ee)})};function un(ve,Ee,Ve,tt){var at=ve.id,ct=ve.namespace;return $e(ve,typeof Ve=="function"?function(Ct,At,Ht){Ct[ct][at].tween.set(Ee,tt(Ve.call(Ct,Ct.__data__,At,Ht)))}:(Ve=tt(Ve),function(Ct){Ct[ct][at].tween.set(Ee,Ve)}))}ir.attr=function(ve,Ee){if(arguments.length<2){for(Ee in ve)this.attr(Ee,ve[Ee]);return this}var Ve=ve=="transform"?kf:Io,tt=o.ns.qualify(ve);function at(){this.removeAttribute(tt)}function ct(){this.removeAttributeNS(tt.space,tt.local)}function Ct(Ht){return Ht==null?at:(Ht+="",function(){var Gt=this.getAttribute(tt),nr;return Gt!==Ht&&(nr=Ve(Gt,Ht),function(Lr){this.setAttribute(tt,nr(Lr))})})}function At(Ht){return Ht==null?ct:(Ht+="",function(){var Gt=this.getAttributeNS(tt.space,tt.local),nr;return Gt!==Ht&&(nr=Ve(Gt,Ht),function(Lr){this.setAttributeNS(tt.space,tt.local,nr(Lr))})})}return un(this,"attr."+ve,Ee,tt.local?At:Ct)},ir.attrTween=function(ve,Ee){var Ve=o.ns.qualify(ve);function tt(ct,Ct){var At=Ee.call(this,ct,Ct,this.getAttribute(Ve));return At&&function(Ht){this.setAttribute(Ve,At(Ht))}}function at(ct,Ct){var At=Ee.call(this,ct,Ct,this.getAttributeNS(Ve.space,Ve.local));return At&&function(Ht){this.setAttributeNS(Ve.space,Ve.local,At(Ht))}}return this.tween("attr."+ve,Ve.local?at:tt)},ir.style=function(ve,Ee,Ve){var tt=arguments.length;if(tt<3){if(typeof ve!="string"){tt<2&&(Ee="");for(Ve in ve)this.style(Ve,ve[Ve],Ee);return this}Ve=""}function at(){this.style.removeProperty(ve)}function ct(Ct){return Ct==null?at:(Ct+="",function(){var At=r(this).getComputedStyle(this,null).getPropertyValue(ve),Ht;return At!==Ct&&(Ht=Io(At,Ct),function(Gt){this.style.setProperty(ve,Ht(Gt),Ve)})})}return un(this,"style."+ve,Ee,ct)},ir.styleTween=function(ve,Ee,Ve){arguments.length<3&&(Ve="");function tt(at,ct){var Ct=Ee.call(this,at,ct,r(this).getComputedStyle(this,null).getPropertyValue(ve));return Ct&&function(At){this.style.setProperty(ve,Ct(At),Ve)}}return this.tween("style."+ve,tt)},ir.text=function(ve){return un(this,"text",ve,Tn)};function Tn(ve){return ve==null&&(ve=""),function(){this.textContent=ve}}ir.remove=function(){var ve=this.namespace;return this.each("end.transition",function(){var Ee;this[ve].count<2&&(Ee=this.parentNode)&&Ee.removeChild(this)})},ir.ease=function(ve){var Ee=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Ee].ease:(typeof ve!="function"&&(ve=o.ease.apply(o,arguments)),$e(this,function(tt){tt[Ve][Ee].ease=ve}))},ir.delay=function(ve){var Ee=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Ee].delay:$e(this,typeof ve=="function"?function(tt,at,ct){tt[Ve][Ee].delay=+ve.call(tt,tt.__data__,at,ct)}:(ve=+ve,function(tt){tt[Ve][Ee].delay=ve}))},ir.duration=function(ve){var Ee=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Ee].duration:$e(this,typeof ve=="function"?function(tt,at,ct){tt[Ve][Ee].duration=Math.max(1,ve.call(tt,tt.__data__,at,ct))}:(ve=Math.max(1,ve),function(tt){tt[Ve][Ee].duration=ve}))},ir.each=function(ve,Ee){var Ve=this.id,tt=this.namespace;if(arguments.length<2){var at=Hr,ct=Or;try{Or=Ve,$e(this,function(Ct,At,Ht){Hr=Ct[tt][Ve],ve.call(Ct,Ct.__data__,At,Ht)})}finally{Hr=at,Or=ct}}else $e(this,function(Ct){var At=Ct[tt][Ve];(At.event||(At.event=o.dispatch("start","end","interrupt"))).on(ve,Ee)});return this},ir.transition=function(){for(var ve=this.id,Ee=++Er,Ve=this.namespace,tt=[],at,ct,Ct,At,Ht=0,Gt=this.length;Ht<Gt;Ht++){tt.push(at=[]);for(var ct=this[Ht],nr=0,Lr=ct.length;nr<Lr;nr++)(Ct=ct[nr])&&(At=Ct[Ve][ve],Nn(Ct,nr,Ve,Ee,{time:At.time,ease:At.ease,delay:At.delay+At.duration,duration:At.duration})),at.push(Ct)}return Ar(tt,Ve,Ee)};function On(ve){return ve==null?"__transition__":"__transition_"+ve+"__"}function Nn(ve,Ee,Ve,tt,at){var ct=ve[Ve]||(ve[Ve]={active:0,count:0}),Ct=ct[tt],At,Ht,Gt,nr,Lr;function Dr(Rr){var Yr=Ct.delay;if(Ht.t=Yr+At,Yr<=Rr)return tn(Rr-Yr);Ht.c=tn}function tn(Rr){var Yr=ct.active,$r=ct[Yr];$r&&($r.timer.c=null,$r.timer.t=NaN,--ct.count,delete ct[Yr],$r.event&&$r.event.interrupt.call(ve,ve.__data__,$r.index));for(var pn in ct)if(+pn<tt){var mn=ct[pn];mn.timer.c=null,mn.timer.t=NaN,--ct.count,delete ct[pn]}Ht.c=fn,Rn(function(){return Ht.c&&fn(Rr||1)&&(Ht.c=null,Ht.t=NaN),1},0,At),ct.active=tt,Ct.event&&Ct.event.start.call(ve,ve.__data__,Ee),Lr=[],Ct.tween.forEach(function(on,Xn){(Xn=Xn.call(ve,ve.__data__,Ee))&&Lr.push(Xn)}),nr=Ct.ease,Gt=Ct.duration}function fn(Rr){for(var Yr=Rr/Gt,$r=nr(Yr),pn=Lr.length;pn>0;)Lr[--pn].call(ve,$r);if(Yr>=1)return Ct.event&&Ct.event.end.call(ve,ve.__data__,Ee),--ct.count?delete ct[tt]:delete ve[Ve],1}Ct||(At=at.time,Ht=Rn(Dr,0,At),Ct=ct[tt]={tween:new _,time:At,timer:Ht,delay:at.delay,duration:at.duration,ease:at.ease,index:Ee},at=null,++ct.count)}o.svg.axis=function(){var ve=o.scale.linear(),Ee=$n,Ve=6,tt=6,at=3,ct=[10],Ct=null,At;function Ht(Gt){Gt.each(function(){var nr=o.select(this),Lr=this.__chart__||ve,Dr=this.__chart__=ve.copy(),tn=Ct??(Dr.ticks?Dr.ticks.apply(Dr,ct):Dr.domain()),fn=At??(Dr.tickFormat?Dr.tickFormat.apply(Dr,ct):B),Rr=nr.selectAll(".tick").data(tn,Dr),Yr=Rr.enter().insert("g",".domain").attr("class","tick").style("opacity",je),$r=o.transition(Rr.exit()).style("opacity",je).remove(),pn=o.transition(Rr.order()).style("opacity",1),mn=Math.max(Ve,0)+at,on,Xn=Su(Dr),oa=nr.selectAll(".domain").data([0]),da=(oa.enter().append("path").attr("class","domain"),o.transition(oa));Yr.append("line"),Yr.append("text");var na=Yr.select("line"),fa=pn.select("line"),pa=Rr.select("text").text(fn),Wa=Yr.select("text"),Da=pn.select("text"),Ua=Ee==="top"||Ee==="left"?-1:1,bi,co,_i,ra;if(Ee==="bottom"||Ee==="top"?(on=ka,bi="x",_i="y",co="x2",ra="y2",pa.attr("dy",Ua<0?"0em":".71em").style("text-anchor","middle"),da.attr("d","M"+Xn[0]+","+Ua*tt+"V0H"+Xn[1]+"V"+Ua*tt)):(on=za,bi="y",_i="x",co="y2",ra="x2",pa.attr("dy",".32em").style("text-anchor",Ua<0?"end":"start"),da.attr("d","M"+Ua*tt+","+Xn[0]+"H0V"+Xn[1]+"H"+Ua*tt)),na.attr(ra,Ua*Ve),Wa.attr(_i,Ua*mn),fa.attr(co,0).attr(ra,Ua*Ve),Da.attr(bi,0).attr(_i,Ua*mn),Dr.rangeBand){var Za=Dr,Ca=Za.rangeBand()/2;Lr=Dr=function(li){return Za(li)+Ca}}else Lr.rangeBand?Lr=Dr:$r.call(on,Dr,Lr);Yr.call(on,Lr,Dr),pn.call(on,Dr,Dr)})}return Ht.scale=function(Gt){return arguments.length?(ve=Gt,Ht):ve},Ht.orient=function(Gt){return arguments.length?(Ee=Gt in Oa?Gt+"":$n,Ht):Ee},Ht.ticks=function(){return arguments.length?(ct=S(arguments),Ht):ct},Ht.tickValues=function(Gt){return arguments.length?(Ct=Gt,Ht):Ct},Ht.tickFormat=function(Gt){return arguments.length?(At=Gt,Ht):At},Ht.tickSize=function(Gt){var nr=arguments.length;return nr?(Ve=+Gt,tt=+arguments[nr-1],Ht):Ve},Ht.innerTickSize=function(Gt){return arguments.length?(Ve=+Gt,Ht):Ve},Ht.outerTickSize=function(Gt){return arguments.length?(tt=+Gt,Ht):tt},Ht.tickPadding=function(Gt){return arguments.length?(at=+Gt,Ht):at},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var $n="bottom",Oa={top:1,right:1,bottom:1,left:1};function ka(ve,Ee,Ve){ve.attr("transform",function(tt){var at=Ee(tt);return"translate("+(isFinite(at)?at:Ve(tt))+",0)"})}function za(ve,Ee,Ve){ve.attr("transform",function(tt){var at=Ee(tt);return"translate(0,"+(isFinite(at)?at:Ve(tt))+")"})}o.svg.brush=function(){var ve=ne(nr,"brushstart","brush","brushend"),Ee=null,Ve=null,tt=[0,0],at=[0,0],ct,Ct,At=!0,Ht=!0,Gt=si[0];function nr(Rr){Rr.each(function(){var Yr=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",fn).on("touchstart.brush",fn),$r=Yr.selectAll(".background").data([0]);$r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Yr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pn=Yr.selectAll(".resize").data(Gt,B);pn.exit().remove(),pn.enter().append("g").attr("class",function(oa){return"resize "+oa}).style("cursor",function(oa){return Ha[oa]}).append("rect").attr("x",function(oa){return/[ew]$/.test(oa)?-3:null}).attr("y",function(oa){return/^[ns]/.test(oa)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pn.style("display",nr.empty()?"none":null);var mn=o.transition(Yr),on=o.transition($r),Xn;Ee&&(Xn=Su(Ee),on.attr("x",Xn[0]).attr("width",Xn[1]-Xn[0]),Dr(mn)),Ve&&(Xn=Su(Ve),on.attr("y",Xn[0]).attr("height",Xn[1]-Xn[0]),tn(mn)),Lr(mn)})}nr.event=function(Rr){Rr.each(function(){var Yr=ve.of(this,arguments),$r={x:tt,y:at,i:ct,j:Ct},pn=this.__chart__||$r;this.__chart__=$r,Or?o.select(this).transition().each("start.brush",function(){ct=pn.i,Ct=pn.j,tt=pn.x,at=pn.y,Yr({type:"brushstart"})}).tween("brush:brush",function(){var mn=vs(tt,$r.x),on=vs(at,$r.y);return ct=Ct=null,function(Xn){tt=$r.x=mn(Xn),at=$r.y=on(Xn),Yr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ct=$r.i,Ct=$r.j,Yr({type:"brush",mode:"resize"}),Yr({type:"brushend"})}):(Yr({type:"brushstart"}),Yr({type:"brush",mode:"resize"}),Yr({type:"brushend"}))})};function Lr(Rr){Rr.selectAll(".resize").attr("transform",function(Yr){return"translate("+tt[+/e$/.test(Yr)]+","+at[+/^s/.test(Yr)]+")"})}function Dr(Rr){Rr.select(".extent").attr("x",tt[0]),Rr.selectAll(".extent,.n>rect,.s>rect").attr("width",tt[1]-tt[0])}function tn(Rr){Rr.select(".extent").attr("y",at[0]),Rr.selectAll(".extent,.e>rect,.w>rect").attr("height",at[1]-at[0])}function fn(){var Rr=this,Yr=o.select(o.event.target),$r=ve.of(Rr,arguments),pn=o.select(Rr),mn=Yr.datum(),on=!/^(n|s)$/.test(mn)&&Ee,Xn=!/^(e|w)$/.test(mn)&&Ve,oa=Yr.classed("extent"),da=Ze(Rr),na,fa=o.mouse(Rr),pa,Wa=o.select(r(Rr)).on("keydown.brush",bi).on("keyup.brush",co);if(o.event.changedTouches?Wa.on("touchmove.brush",_i).on("touchend.brush",Za):Wa.on("mousemove.brush",_i).on("mouseup.brush",Za),pn.interrupt().selectAll("*").interrupt(),oa)fa[0]=tt[0]-fa[0],fa[1]=at[0]-fa[1];else if(mn){var Da=+/w$/.test(mn),Ua=+/^n/.test(mn);pa=[tt[1-Da]-fa[0],at[1-Ua]-fa[1]],fa[0]=tt[Da],fa[1]=at[Ua]}else o.event.altKey&&(na=fa.slice());pn.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",Yr.style("cursor")),$r({type:"brushstart"}),_i();function bi(){o.event.keyCode==32&&(oa||(na=null,fa[0]-=tt[1],fa[1]-=at[1],oa=2),oe())}function co(){o.event.keyCode==32&&oa==2&&(fa[0]+=tt[1],fa[1]+=at[1],oa=0,oe())}function _i(){var Ca=o.mouse(Rr),li=!1;pa&&(Ca[0]+=pa[0],Ca[1]+=pa[1]),oa||(o.event.altKey?(na||(na=[(tt[0]+tt[1])/2,(at[0]+at[1])/2]),fa[0]=tt[+(Ca[0]<na[0])],fa[1]=at[+(Ca[1]<na[1])]):na=null),on&&ra(Ca,Ee,0)&&(Dr(pn),li=!0),Xn&&ra(Ca,Ve,1)&&(tn(pn),li=!0),li&&(Lr(pn),$r({type:"brush",mode:oa?"move":"resize"}))}function ra(Ca,li,Vi){var wi=Su(li),Co=wi[0],Lo=wi[1],Oo=fa[Vi],Hi=Vi?at:tt,Xo=Hi[1]-Hi[0],ha,Ra;if(oa&&(Co-=Oo,Lo-=Xo+Oo),ha=(Vi?Ht:At)?Math.max(Co,Math.min(Lo,Ca[Vi])):Ca[Vi],oa?Ra=(ha+=Oo)+Xo:(na&&(Oo=Math.max(Co,Math.min(Lo,2*na[Vi]-ha))),Oo<ha?(Ra=ha,ha=Oo):Ra=Oo),Hi[0]!=ha||Hi[1]!=Ra)return Vi?Ct=null:ct=null,Hi[0]=ha,Hi[1]=Ra,!0}function Za(){_i(),pn.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),o.select("body").style("cursor",null),Wa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),da(),$r({type:"brushend"})}}return nr.x=function(Rr){return arguments.length?(Ee=Rr,Gt=si[!Ee<<1|!Ve],nr):Ee},nr.y=function(Rr){return arguments.length?(Ve=Rr,Gt=si[!Ee<<1|!Ve],nr):Ve},nr.clamp=function(Rr){return arguments.length?(Ee&&Ve?(At=!!Rr[0],Ht=!!Rr[1]):Ee?At=!!Rr:Ve&&(Ht=!!Rr),nr):Ee&&Ve?[At,Ht]:Ee?At:Ve?Ht:null},nr.extent=function(Rr){var Yr,$r,pn,mn,on;return arguments.length?(Ee&&(Yr=Rr[0],$r=Rr[1],Ve&&(Yr=Yr[0],$r=$r[0]),ct=[Yr,$r],Ee.invert&&(Yr=Ee(Yr),$r=Ee($r)),$r<Yr&&(on=Yr,Yr=$r,$r=on),(Yr!=tt[0]||$r!=tt[1])&&(tt=[Yr,$r])),Ve&&(pn=Rr[0],mn=Rr[1],Ee&&(pn=pn[1],mn=mn[1]),Ct=[pn,mn],Ve.invert&&(pn=Ve(pn),mn=Ve(mn)),mn<pn&&(on=pn,pn=mn,mn=on),(pn!=at[0]||mn!=at[1])&&(at=[pn,mn])),nr):(Ee&&(ct?(Yr=ct[0],$r=ct[1]):(Yr=tt[0],$r=tt[1],Ee.invert&&(Yr=Ee.invert(Yr),$r=Ee.invert($r)),$r<Yr&&(on=Yr,Yr=$r,$r=on))),Ve&&(Ct?(pn=Ct[0],mn=Ct[1]):(pn=at[0],mn=at[1],Ve.invert&&(pn=Ve.invert(pn),mn=Ve.invert(mn)),mn<pn&&(on=pn,pn=mn,mn=on))),Ee&&Ve?[[Yr,pn],[$r,mn]]:Ee?[Yr,$r]:Ve&&[pn,mn])},nr.clear=function(){return nr.empty()||(tt=[0,0],at=[0,0],ct=Ct=null),nr},nr.empty=function(){return!!Ee&&tt[0]==tt[1]||!!Ve&&at[0]==at[1]},o.rebind(nr,ve,"on")};var Ha={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},si=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];o.text=_n(function(ve){return ve.responseText}),o.json=function(ve,Ee){return Mn(ve,"application/json",Pi,Ee)};function Pi(ve){return JSON.parse(ve.responseText)}o.html=function(ve,Ee){return Mn(ve,"text/html",lo,Ee)};function lo(ve){var Ee=v.createRange();return Ee.selectNode(v.body),Ee.createContextualFragment(ve.responseText)}o.xml=_n(function(ve){return ve.responseXML}),p=o,L=typeof p=="function"?p.call(Y,e,Y,V):p,L!==void 0&&(V.exports=L)}).apply(self)},3480:function(V){(function(Y,e){V.exports=e()})(this,function(){var Y,e,p;function L(o,C){if(!Y)Y=C;else if(!e)e=C;else{var S="var sharedChunk = {}; ("+Y+")(sharedChunk); ("+e+")(sharedChunk);",v={};Y(v),p=C(v),typeof window<"u"&&(p.workerUrl=window.URL.createObjectURL(new Blob([S],{type:"text/javascript"})))}}return L(["exports"],function(o){function C(D,P){return P={exports:{}},D(P,P.exports),P.exports}var S="1.13.4",v=g;function g(D,P,X,se){this.cx=3*D,this.bx=3*(X-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*P,this.by=3*(se-P)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=se,this.p2x=X,this.p2y=se}g.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},g.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},g.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},g.prototype.solveCurveX=function(D,P){typeof P>"u"&&(P=1e-6);var X,se,ye,Ae,Le;for(ye=D,Le=0;Le<8;Le++){if(Ae=this.sampleCurveX(ye)-D,Math.abs(Ae)<P)return ye;var Qe=this.sampleCurveDerivativeX(ye);if(Math.abs(Qe)<1e-6)break;ye=ye-Ae/Qe}if(X=0,se=1,ye=D,ye<X)return X;if(ye>se)return se;for(;X<se;){if(Ae=this.sampleCurveX(ye),Math.abs(Ae-D)<P)return ye;D>Ae?X=ye:se=ye,ye=(se-X)*.5+X}return ye},g.prototype.solve=function(D,P){return this.sampleCurveY(this.solveCurveX(D,P))};var r=t;function t(D,P){this.x=D,this.y=P}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,P){return this.clone()._rotateAround(D,P)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var P=D.x-this.x,X=D.y-this.y;return P*P+X*X},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,P){return Math.atan2(this.x*P-this.y*D,this.x*D+this.y*P)},_matMult:function(D){var P=D[0]*this.x+D[1]*this.y,X=D[2]*this.x+D[3]*this.y;return this.x=P,this.y=X,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var P=Math.cos(D),X=Math.sin(D),se=P*this.x-X*this.y,ye=X*this.x+P*this.y;return this.x=se,this.y=ye,this},_rotateAround:function(D,P){var X=Math.cos(D),se=Math.sin(D),ye=P.x+X*(this.x-P.x)-se*(this.y-P.y),Ae=P.y+se*(this.x-P.x)+X*(this.y-P.y);return this.x=ye,this.y=Ae,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var a=typeof self<"u"?self:{};function n(D,P){if(Array.isArray(D)){if(!Array.isArray(P)||D.length!==P.length)return!1;for(var X=0;X<D.length;X++)if(!n(D[X],P[X]))return!1;return!0}if(typeof D=="object"&&D!==null&&P!==null){if(typeof P!="object")return!1;var se=Object.keys(D);if(se.length!==Object.keys(P).length)return!1;for(var ye in D)if(!n(D[ye],P[ye]))return!1;return!0}return D===P}var f=Math.pow(2,53)-1;function u(D){if(D<=0)return 0;if(D>=1)return 1;var P=D*D,X=P*D;return 4*(D<.5?X:3*(D-P)+X-.75)}function l(D,P,X,se){var ye=new v(D,P,X,se);return function(Ae){return ye.solve(Ae)}}var y=l(.25,.1,.25,1);function h(D,P,X){return Math.min(X,Math.max(P,D))}function T(D,P,X){var se=X-P,ye=((D-P)%se+se)%se+P;return ye===P?X:ye}function c(D,P,X){if(!D.length)return X(null,[]);var se=D.length,ye=new Array(D.length),Ae=null;D.forEach(function(Le,Qe){P(Le,function(dt,St){dt&&(Ae=dt),ye[Qe]=St,--se===0&&X(Ae,ye)})})}function i(D){var P=[];for(var X in D)P.push(D[X]);return P}function d(D,P){var X=[];for(var se in D)se in P||X.push(se);return X}function x(D){for(var P=[],X=arguments.length-1;X-- >0;)P[X]=arguments[X+1];for(var se=0,ye=P;se<ye.length;se+=1){var Ae=ye[se];for(var Le in Ae)D[Le]=Ae[Le]}return D}function w(D,P){for(var X={},se=0;se<P.length;se++){var ye=P[se];ye in D&&(X[ye]=D[ye])}return X}var _=1;function m(){return _++}function E(){function D(P){return P?(P^Math.random()*16>>P/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function A(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function s(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function M(D,P){D.forEach(function(X){P[X]&&(P[X]=P[X].bind(P))})}function b(D,P){return D.indexOf(P,D.length-P.length)!==-1}function N(D,P,X){var se={};for(var ye in D)se[ye]=P.call(X||this,D[ye],ye,D);return se}function k(D,P,X){var se={};for(var ye in D)P.call(X||this,D[ye],ye,D)&&(se[ye]=D[ye]);return se}function H(D){return Array.isArray(D)?D.map(H):typeof D=="object"&&D?N(D,H):D}function F(D,P){for(var X=0;X<D.length;X++)if(P.indexOf(D[X])>=0)return!0;return!1}var B={};function U(D){B[D]||(typeof console<"u"&&console.warn(D),B[D]=!0)}function z(D,P,X){return(X.y-D.y)*(P.x-D.x)>(P.y-D.y)*(X.x-D.x)}function W(D){for(var P=0,X=0,se=D.length,ye=se-1,Ae=void 0,Le=void 0;X<se;ye=X++)Ae=D[X],Le=D[ye],P+=(Le.x-Ae.x)*(Ae.y+Le.y);return P}function j(D){var P=D[0],X=D[1],se=D[2];return X+=90,X*=Math.PI/180,se*=Math.PI/180,{x:P*Math.cos(X)*Math.sin(se),y:P*Math.sin(X)*Math.sin(se),z:P*Math.cos(se)}}function ee(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ie(D){var P=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,X={};if(D.replace(P,function(ye,Ae,Le,Qe){var dt=Le||Qe;return X[Ae]=dt?dt.toLowerCase():!0,""}),X["max-age"]){var se=parseInt(X["max-age"],10);isNaN(se)?delete X["max-age"]:X["max-age"]=se}return X}var oe=null;function he(D){if(oe==null){var P=D.navigator?D.navigator.userAgent:null;oe=!!D.safari||!!(P&&(/\b(iPad|iPhone|iPod)\b/.test(P)||P.match("Safari")&&!P.match("Chrome")))}return oe}function ne(D){try{var P=a[D];return P.setItem("_mapbox_test_",1),P.removeItem("_mapbox_test_"),!0}catch{return!1}}function q(D){return a.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(P,X){return String.fromCharCode(+("0x"+X))}))}function le(D){return decodeURIComponent(a.atob(D).split("").map(function(P){return"%"+("00"+P.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Q=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),te=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,ue=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,J,K,ce={now:Q,frame:function(P){var X=te(P);return{cancel:function(){return ue(X)}}},getImageData:function(P,X){X===void 0&&(X=0);var se=a.document.createElement("canvas"),ye=se.getContext("2d");if(!ye)throw new Error("failed to create canvas 2d context");return se.width=P.width,se.height=P.height,ye.drawImage(P,0,0,P.width,P.height),ye.getImageData(-X,-X,P.width+2*X,P.height+2*X)},resolveURL:function(P){return J||(J=a.document.createElement("a")),J.href=P,J.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return a.matchMedia?(K==null&&(K=a.matchMedia("(prefers-reduced-motion: reduce)")),K.matches):!1}},ae={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},de={supported:!1,testSupport:ke},be,Se=!1,Te,Ie=!1;a.document&&(Te=a.document.createElement("img"),Te.onload=function(){be&&Be(be),be=null,Ie=!0},Te.onerror=function(){Se=!0,be=null},Te.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function ke(D){Se||!Te||(Ie?Be(D):be=D)}function Be(D){var P=D.createTexture();D.bindTexture(D.TEXTURE_2D,P);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,Te),D.isContextLost())return;de.supported=!0}catch{}D.deleteTexture(P),Se=!0}var Me="01";function Oe(){for(var D="1",P="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",X="",se=0;se<10;se++)X+=P[Math.floor(Math.random()*62)];var ye=12*60*60*1e3,Ae=[D,Me,X].join(""),Le=Date.now()+ye;return{token:Ae,tokenExpiresAt:Le}}var _e=function(P,X){this._transformRequestFn=P,this._customAccessToken=X,this._createSkuToken()};_e.prototype._createSkuToken=function(){var P=Oe();this._skuToken=P.token,this._skuTokenExpiresAt=P.tokenExpiresAt},_e.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},_e.prototype.transformRequest=function(P,X){return this._transformRequestFn?this._transformRequestFn(P,X)||{url:P}:{url:P}},_e.prototype.normalizeStyleURL=function(P,X){if(!Ne(P))return P;var se=qe(P);return se.path="/styles/v1"+se.path,this._makeAPIURL(se,this._customAccessToken||X)},_e.prototype.normalizeGlyphsURL=function(P,X){if(!Ne(P))return P;var se=qe(P);return se.path="/fonts/v1"+se.path,this._makeAPIURL(se,this._customAccessToken||X)},_e.prototype.normalizeSourceURL=function(P,X){if(!Ne(P))return P;var se=qe(P);return se.path="/v4/"+se.authority+".json",se.params.push("secure"),this._makeAPIURL(se,this._customAccessToken||X)},_e.prototype.normalizeSpriteURL=function(P,X,se,ye){var Ae=qe(P);return Ne(P)?(Ae.path="/styles/v1"+Ae.path+"/sprite"+X+se,this._makeAPIURL(Ae,this._customAccessToken||ye)):(Ae.path+=""+X+se,ht(Ae))},_e.prototype.normalizeTileURL=function(P,X){if(this._isSkuTokenExpired()&&this._createSkuToken(),P&&!Ne(P))return P;var se=qe(P),ye=/(\.(png|jpg)\d*)(?=$)/,Ae=/^.+\/v4\//,Le=ce.devicePixelRatio>=2||X===512?"@2x":"",Qe=de.supported?".webp":"$1";se.path=se.path.replace(ye,""+Le+Qe),se.path=se.path.replace(Ae,"/"),se.path="/v4"+se.path;var dt=this._customAccessToken||ot(se.params)||ae.ACCESS_TOKEN;return ae.REQUIRE_ACCESS_TOKEN&&dt&&this._skuToken&&se.params.push("sku="+this._skuToken),this._makeAPIURL(se,dt)},_e.prototype.canonicalizeTileURL=function(P,X){var se="/v4/",ye=/\.[\w]+$/,Ae=qe(P);if(!Ae.path.match(/(^\/v4\/)/)||!Ae.path.match(ye))return P;var Le="mapbox://tiles/";Le+=Ae.path.replace(se,"");var Qe=Ae.params;return X&&(Qe=Qe.filter(function(dt){return!dt.match(/^access_token=/)})),Qe.length&&(Le+="?"+Qe.join("&")),Le},_e.prototype.canonicalizeTileset=function(P,X){for(var se=X?Ne(X):!1,ye=[],Ae=0,Le=P.tiles||[];Ae<Le.length;Ae+=1){var Qe=Le[Ae];Ye(Qe)?ye.push(this.canonicalizeTileURL(Qe,se)):ye.push(Qe)}return ye},_e.prototype._makeAPIURL=function(P,X){var se="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ye=qe(ae.API_URL);if(P.protocol=ye.protocol,P.authority=ye.authority,P.protocol==="http"){var Ae=P.params.indexOf("secure");Ae>=0&&P.params.splice(Ae,1)}if(ye.path!=="/"&&(P.path=""+ye.path+P.path),!ae.REQUIRE_ACCESS_TOKEN)return ht(P);if(X=X||ae.ACCESS_TOKEN,!X)throw new Error("An API access token is required to use Mapbox GL. "+se);if(X[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+se);return P.params=P.params.filter(function(Le){return Le.indexOf("access_token")===-1}),P.params.push("access_token="+X),ht(P)};function Ne(D){return D.indexOf("mapbox:")===0}var Ce=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ye(D){return Ce.test(D)}function rt(D){return D.indexOf("sku=")>0&&Ye(D)}function ot(D){for(var P=0,X=D;P<X.length;P+=1){var se=X[P],ye=se.match(/^access_token=(.*)$/);if(ye)return ye[1]}return null}var $e=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function qe(D){var P=D.match($e);if(!P)throw new Error("Unable to parse URL object");return{protocol:P[1],authority:P[2],path:P[3]||"/",params:P[4]?P[4].split("&"):[]}}function ht(D){var P=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+P}var vt="mapbox.eventData";function pt(D){if(!D)return null;var P=D.split(".");if(!P||P.length!==3)return null;try{var X=JSON.parse(le(P[1]));return X}catch{return null}}var wt=function(P){this.type=P,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};wt.prototype.getStorageKey=function(P){var X=pt(ae.ACCESS_TOKEN),se="";return X&&X.u?se=q(X.u):se=ae.ACCESS_TOKEN||"",P?vt+"."+P+":"+se:vt+":"+se},wt.prototype.fetchEventData=function(){var P=ne("localStorage"),X=this.getStorageKey(),se=this.getStorageKey("uuid");if(P)try{var ye=a.localStorage.getItem(X);ye&&(this.eventData=JSON.parse(ye));var Ae=a.localStorage.getItem(se);Ae&&(this.anonId=Ae)}catch{U("Unable to read from LocalStorage")}},wt.prototype.saveEventData=function(){var P=ne("localStorage"),X=this.getStorageKey(),se=this.getStorageKey("uuid");if(P)try{a.localStorage.setItem(se,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(X,JSON.stringify(this.eventData))}catch{U("Unable to write to LocalStorage")}},wt.prototype.processRequests=function(P){},wt.prototype.postEvent=function(P,X,se,ye){var Ae=this;if(ae.EVENTS_URL){var Le=qe(ae.EVENTS_URL);Le.params.push("access_token="+(ye||ae.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(P).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:S,skuId:Me,userId:this.anonId},dt=X?x(Qe,X):Qe,St={url:ht(Le),headers:{"Content-Type":"text/plain"},body:JSON.stringify([dt])};this.pendingRequest=Ut(St,function(Lt){Ae.pendingRequest=null,se(Lt),Ae.saveEventData(),Ae.processRequests(ye)})}},wt.prototype.queueRequest=function(P,X){this.queue.push(P),this.processRequests(X)};var Mt=function(D){function P(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.postMapLoadEvent=function(se,ye,Ae,Le){this.skuToken=Ae,(ae.EVENTS_URL&&Le||ae.ACCESS_TOKEN&&Array.isArray(se)&&se.some(function(Qe){return Ne(Qe)||Ye(Qe)}))&&this.queueRequest({id:ye,timestamp:Date.now()},Le)},P.prototype.processRequests=function(se){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){var Ae=this.queue.shift(),Le=Ae.id,Qe=Ae.timestamp;Le&&this.success[Le]||(this.anonId||this.fetchEventData(),s(this.anonId)||(this.anonId=E()),this.postEvent(Qe,{skuToken:this.skuToken},function(dt){dt||Le&&(ye.success[Le]=!0)},se))}},P}(wt),nt=function(D){function P(X){D.call(this,"appUserTurnstile"),this._customAccessToken=X}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.postTurnstileEvent=function(se,ye){ae.EVENTS_URL&&ae.ACCESS_TOKEN&&Array.isArray(se)&&se.some(function(Ae){return Ne(Ae)||Ye(Ae)})&&this.queueRequest(Date.now(),ye)},P.prototype.processRequests=function(se){var ye=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Ae=pt(ae.ACCESS_TOKEN),Le=Ae?Ae.u:ae.ACCESS_TOKEN,Qe=Le!==this.eventData.tokenU;s(this.anonId)||(this.anonId=E(),Qe=!0);var dt=this.queue.shift();if(this.eventData.lastSuccess){var St=new Date(this.eventData.lastSuccess),Lt=new Date(dt),Xt=(dt-this.eventData.lastSuccess)/(24*60*60*1e3);Qe=Qe||Xt>=1||Xt<-1||St.getDate()!==Lt.getDate()}else Qe=!0;if(!Qe)return this.processRequests();this.postEvent(dt,{"enabled.telemetry":!1},function(ar){ar||(ye.eventData.lastSuccess=dt,ye.eventData.tokenU=Le)},se)}},P}(wt),Fe=new nt,We=Fe.postTurnstileEvent.bind(Fe),Ze=new Mt,Ge=Ze.postMapLoadEvent.bind(Ze),Pe="mapbox-tiles",Re=500,je=50,De=1e3*60*7,ge;function we(){a.caches&&!ge&&(ge=a.caches.open(Pe))}var Ue;function et(D,P){if(Ue===void 0)try{new Response(new ReadableStream),Ue=!0}catch{Ue=!1}Ue?P(D.body):D.blob().then(P)}function st(D,P,X){if(we(),!!ge){var se={status:P.status,statusText:P.statusText,headers:new a.Headers};P.headers.forEach(function(Le,Qe){return se.headers.set(Qe,Le)});var ye=ie(P.headers.get("Cache-Control")||"");if(!ye["no-store"]){ye["max-age"]&&se.headers.set("Expires",new Date(X+ye["max-age"]*1e3).toUTCString());var Ae=new Date(se.headers.get("Expires")).getTime()-X;Ae<De||et(P,function(Le){var Qe=new a.Response(Le,se);we(),ge&&ge.then(function(dt){return dt.put(lt(D.url),Qe)}).catch(function(dt){return U(dt.message)})})}}}function lt(D){var P=D.indexOf("?");return P<0?D:D.slice(0,P)}function Wt(D,P){if(we(),!ge)return P(null);var X=lt(D.url);ge.then(function(se){se.match(X).then(function(ye){var Ae=jt(ye);se.delete(X),Ae&&se.put(X,ye.clone()),P(null,ye,Ae)}).catch(P)}).catch(P)}function jt(D){if(!D)return!1;var P=new Date(D.headers.get("Expires")||0),X=ie(D.headers.get("Cache-Control")||"");return P>Date.now()&&!X["no-cache"]}var Tt=1/0;function Rt(D){Tt++,Tt>je&&(D.getActor().send("enforceCacheSizeLimit",Re),Tt=0)}function Zt(D){we(),ge&&ge.then(function(P){P.keys().then(function(X){for(var se=0;se<X.length-D;se++)P.delete(X[se])})})}function mr(D){var P=a.caches.delete(Pe);D&&P.catch(D).then(function(){return D()})}function gt(D,P){Re=D,je=P}var Kt;function $t(){return Kt==null&&(Kt=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&typeof a.createImageBitmap=="function"),Kt}var br={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(br);var lr=function(D){function P(X,se,ye){se===401&&Ye(ye)&&(X+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,X),this.status=se,this.url=ye,this.name=this.constructor.name,this.message=X}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},P}(Error),mt=ee()?function(){return self.worker&&self.worker.referrer}:function(){return(a.location.protocol==="blob:"?a.parent:a).location.href},ut=function(D){return/^file:/.test(D)||/^file:/.test(mt())&&!/^\w+:/.test(D)};function bt(D,P){var X=new a.AbortController,se=new a.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:mt(),signal:X.signal}),ye=!1,Ae=!1,Le=rt(se.url);D.type==="json"&&se.headers.set("Accept","application/json");var Qe=function(St,Lt,Xt){if(!Ae){if(St&&St.message!=="SecurityError"&&U(St),Lt&&Xt)return dt(Lt);var ar=Date.now();a.fetch(se).then(function(er){if(er.ok){var Tr=Le?er.clone():null;return dt(er,Tr,ar)}else return P(new lr(er.statusText,er.status,D.url))}).catch(function(er){er.code!==20&&P(new Error(er.message))})}},dt=function(St,Lt,Xt){(D.type==="arrayBuffer"?St.arrayBuffer():D.type==="json"?St.json():St.text()).then(function(ar){Ae||(Lt&&Xt&&st(se,Lt,Xt),ye=!0,P(null,ar,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(ar){Ae||P(new Error(ar.message))})};return Le?Wt(se,Qe):Qe(null,null),{cancel:function(){Ae=!0,ye||X.abort()}}}function Et(D,P){var X=new a.XMLHttpRequest;X.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(X.responseType="arraybuffer");for(var se in D.headers)X.setRequestHeader(se,D.headers[se]);return D.type==="json"&&(X.responseType="text",X.setRequestHeader("Accept","application/json")),X.withCredentials=D.credentials==="include",X.onerror=function(){P(new Error(X.statusText))},X.onload=function(){if((X.status>=200&&X.status<300||X.status===0)&&X.response!==null){var ye=X.response;if(D.type==="json")try{ye=JSON.parse(X.response)}catch(Ae){return P(Ae)}P(null,ye,X.getResponseHeader("Cache-Control"),X.getResponseHeader("Expires"))}else P(new lr(X.statusText,X.status,D.url))},X.send(D.body),{cancel:function(){return X.abort()}}}var Dt=function(D,P){if(!ut(D.url)){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return bt(D,P);if(ee()&&self.worker&&self.worker.actor){var X=!0;return self.worker.actor.send("getResource",D,P,void 0,X)}}return Et(D,P)},Yt=function(D,P){return Dt(x(D,{type:"json"}),P)},Bt=function(D,P){return Dt(x(D,{type:"arrayBuffer"}),P)},Ut=function(D,P){return Dt(x(D,{method:"POST"}),P)};function Jt(D){var P=a.document.createElement("a");return P.href=D,P.protocol===a.document.location.protocol&&P.host===a.document.location.host}var hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function vr(D,P,X,se){var ye=new a.Image,Ae=a.URL;ye.onload=function(){P(null,ye),Ae.revokeObjectURL(ye.src),ye.onload=null,a.requestAnimationFrame(function(){ye.src=hr})},ye.onerror=function(){return P(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Le=new a.Blob([new Uint8Array(D)],{type:"image/png"});ye.cacheControl=X,ye.expires=se,ye.src=D.byteLength?Ae.createObjectURL(Le):hr}function gr(D,P){var X=new a.Blob([new Uint8Array(D)],{type:"image/png"});a.createImageBitmap(X).then(function(se){P(null,se)}).catch(function(se){P(new Error("Could not load image because of "+se.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Xe,He,Nt=function(){Xe=[],He=0};Nt();var Pt=function(D,P){if(de.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),He>=ae.MAX_PARALLEL_IMAGE_REQUESTS){var X={requestParameters:D,callback:P,cancelled:!1,cancel:function(){this.cancelled=!0}};return Xe.push(X),X}He++;var se=!1,ye=function(){if(!se)for(se=!0,He--;Xe.length&&He<ae.MAX_PARALLEL_IMAGE_REQUESTS;){var Le=Xe.shift(),Qe=Le.requestParameters,dt=Le.callback,St=Le.cancelled;St||(Le.cancel=Pt(Qe,dt).cancel)}},Ae=Bt(D,function(Le,Qe,dt,St){ye(),Le?P(Le):Qe&&($t()?gr(Qe,P):vr(Qe,P,dt,St))});return{cancel:function(){Ae.cancel(),ye()}}},Qt=function(D,P){var X=a.document.createElement("video");X.muted=!0,X.onloadstart=function(){P(null,X)};for(var se=0;se<D.length;se++){var ye=a.document.createElement("source");Jt(D[se])||(X.crossOrigin="Anonymous"),ye.src=D[se],X.appendChild(ye)}return{cancel:function(){}}};function ur(D,P,X){var se=X[D]&&X[D].indexOf(P)!==-1;se||(X[D]=X[D]||[],X[D].push(P))}function cr(D,P,X){if(X&&X[D]){var se=X[D].indexOf(P);se!==-1&&X[D].splice(se,1)}}var tr=function(P,X){X===void 0&&(X={}),x(this,X),this.type=P},zt=function(D){function P(X,se){se===void 0&&(se={}),D.call(this,"error",x({error:X},se))}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P}(tr),or=function(){};or.prototype.on=function(P,X){return this._listeners=this._listeners||{},ur(P,X,this._listeners),this},or.prototype.off=function(P,X){return cr(P,X,this._listeners),cr(P,X,this._oneTimeListeners),this},or.prototype.once=function(P,X){return this._oneTimeListeners=this._oneTimeListeners||{},ur(P,X,this._oneTimeListeners),this},or.prototype.fire=function(P,X){typeof P=="string"&&(P=new tr(P,X||{}));var se=P.type;if(this.listens(se)){P.target=this;for(var ye=this._listeners&&this._listeners[se]?this._listeners[se].slice():[],Ae=0,Le=ye;Ae<Le.length;Ae+=1){var Qe=Le[Ae];Qe.call(this,P)}for(var dt=this._oneTimeListeners&&this._oneTimeListeners[se]?this._oneTimeListeners[se].slice():[],St=0,Lt=dt;St<Lt.length;St+=1){var Xt=Lt[St];cr(se,Xt,this._oneTimeListeners),Xt.call(this,P)}var ar=this._eventedParent;ar&&(x(P,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ar.fire(P))}else P instanceof zt&&console.error(P.error);return this},or.prototype.listens=function(P){return this._listeners&&this._listeners[P]&&this._listeners[P].length>0||this._oneTimeListeners&&this._oneTimeListeners[P]&&this._oneTimeListeners[P].length>0||this._eventedParent&&this._eventedParent.listens(P)},or.prototype.setEventedParent=function(P,X){return this._eventedParent=P,this._eventedParentData=X,this};var dr=8,wr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},pr={"*":{type:"source"}},Wr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],Pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Ir={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},ln={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},an={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},_n={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Mn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Sr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Nr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Zr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Fr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},cn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},vn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Cn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},ua={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},wa={type:"array",value:"*"},Ma={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Zn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ea={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},xr={type:"array",value:"*",minimum:1},nn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},qr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],gn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Un={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},An={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},En={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Vn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},ta={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ga={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Na={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},_r={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Br={"*":{type:"string"}},Mr={$version:dr,$root:wr,sources:pr,source:Wr,source_vector:Pr,source_raster:Ir,source_raster_dem:ln,source_geojson:an,source_video:_n,source_image:Mn,layer:Sr,layout:Nr,layout_background:Zr,layout_fill:Fr,layout_circle:cn,layout_heatmap:vn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Cn,layout_symbol:Rn,layout_raster:Gn,layout_hillshade:ua,filter:wa,filter_operator:Ma,geometry_type:Zn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ea,expression:xr,light:nn,paint:qr,paint_fill:gn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Un,paint_circle:An,paint_heatmap:En,paint_symbol:Vn,paint_raster:ta,paint_hillshade:ga,paint_background:Na,transition:_r,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Br},Ur=function(P,X,se,ye){this.message=(P?P+": ":"")+se,ye&&(this.identifier=ye),X!=null&&X.__line__&&(this.line=X.__line__)};function wn(D){var P=D.key,X=D.value;return X?[new Ur(P,X,"constants have been deprecated as of v8")]:[]}function kn(D){for(var P=[],X=arguments.length-1;X-- >0;)P[X]=arguments[X+1];for(var se=0,ye=P;se<ye.length;se+=1){var Ae=ye[se];for(var Le in Ae)D[Le]=Ae[Le]}return D}function xn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function hn(D){if(Array.isArray(D))return D.map(hn);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var P={};for(var X in D)P[X]=hn(D[X]);return P}return xn(D)}var Cr=function(D){function P(X,se){D.call(this,se),this.message=se,this.key=X}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P}(Error),Qr=function(P,X){X===void 0&&(X=[]),this.parent=P,this.bindings={};for(var se=0,ye=X;se<ye.length;se+=1){var Ae=ye[se],Le=Ae[0],Qe=Ae[1];this.bindings[Le]=Qe}};Qr.prototype.concat=function(P){return new Qr(this,P)},Qr.prototype.get=function(P){if(this.bindings[P])return this.bindings[P];if(this.parent)return this.parent.get(P);throw new Error(P+" not found in scope.")},Qr.prototype.has=function(P){return this.bindings[P]?!0:this.parent?this.parent.has(P):!1};var Gr={kind:"null"},rn={kind:"number"},Sn={kind:"string"},Bn={kind:"boolean"},Ln={kind:"color"},Wn={kind:"object"},Hn={kind:"value"},ya={kind:"error"},ca={kind:"collator"},ba={kind:"formatted"},Ia={kind:"resolvedImage"};function Ii(D,P){return{kind:"array",itemType:D,N:P}}function xi(D){if(D.kind==="array"){var P=xi(D.itemType);return typeof D.N=="number"?"array<"+P+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+P+">"}else return D.kind}var hs=[Gr,rn,Sn,Bn,Ln,ba,Wn,Ii(Hn),Ia];function ns(D,P){if(P.kind==="error")return null;if(D.kind==="array"){if(P.kind==="array"&&(P.N===0&&P.itemType.kind==="value"||!ns(D.itemType,P.itemType))&&(typeof D.N!="number"||D.N===P.N))return null}else{if(D.kind===P.kind)return null;if(D.kind==="value")for(var X=0,se=hs;X<se.length;X+=1){var ye=se[X];if(!ns(ye,P))return null}}return"Expected "+xi(D)+" but found "+xi(P)+" instead."}function Po(D,P){return P.some(function(X){return X.kind===D.kind})}function hu(D,P){return P.some(function(X){return X==="null"?D===null:X==="array"?Array.isArray(D):X==="object"?D&&!Array.isArray(D)&&typeof D=="object":X===typeof D})}var dc=C(function(D,P){var X={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function se(St){return St=Math.round(St),St<0?0:St>255?255:St}function ye(St){return St<0?0:St>1?1:St}function Ae(St){return St[St.length-1]==="%"?se(parseFloat(St)/100*255):se(parseInt(St))}function Le(St){return St[St.length-1]==="%"?ye(parseFloat(St)/100):ye(parseFloat(St))}function Qe(St,Lt,Xt){return Xt<0?Xt+=1:Xt>1&&(Xt-=1),Xt*6<1?St+(Lt-St)*Xt*6:Xt*2<1?Lt:Xt*3<2?St+(Lt-St)*(2/3-Xt)*6:St}function dt(St){var Lt=St.replace(/ /g,"").toLowerCase();if(Lt in X)return X[Lt].slice();if(Lt[0]==="#"){if(Lt.length===4){var Xt=parseInt(Lt.substr(1),16);return Xt>=0&&Xt<=4095?[(Xt&3840)>>4|(Xt&3840)>>8,Xt&240|(Xt&240)>>4,Xt&15|(Xt&15)<<4,1]:null}else if(Lt.length===7){var Xt=parseInt(Lt.substr(1),16);return Xt>=0&&Xt<=16777215?[(Xt&16711680)>>16,(Xt&65280)>>8,Xt&255,1]:null}return null}var ar=Lt.indexOf("("),er=Lt.indexOf(")");if(ar!==-1&&er+1===Lt.length){var Tr=Lt.substr(0,ar),Vr=Lt.substr(ar+1,er-(ar+1)).split(","),dn=1;switch(Tr){case"rgba":if(Vr.length!==4)return null;dn=Le(Vr.pop());case"rgb":return Vr.length!==3?null:[Ae(Vr[0]),Ae(Vr[1]),Ae(Vr[2]),dn];case"hsla":if(Vr.length!==4)return null;dn=Le(Vr.pop());case"hsl":if(Vr.length!==3)return null;var sn=(parseFloat(Vr[0])%360+360)%360/360,Pn=Le(Vr[1]),bn=Le(Vr[2]),Dn=bn<=.5?bn*(Pn+1):bn+Pn-bn*Pn,zn=bn*2-Dn;return[se(Qe(zn,Dn,sn+1/3)*255),se(Qe(zn,Dn,sn)*255),se(Qe(zn,Dn,sn-1/3)*255),dn];default:return null}}return null}try{P.parseCSSColor=dt}catch{}}),nh=dc.parseCSSColor,gi=function(P,X,se,ye){ye===void 0&&(ye=1),this.r=P,this.g=X,this.b=se,this.a=ye};gi.parse=function(P){if(P){if(P instanceof gi)return P;if(typeof P=="string"){var X=nh(P);if(X)return new gi(X[0]/255*X[3],X[1]/255*X[3],X[2]/255*X[3],X[3])}}},gi.prototype.toString=function(){var P=this.toArray(),X=P[0],se=P[1],ye=P[2],Ae=P[3];return"rgba("+Math.round(X)+","+Math.round(se)+","+Math.round(ye)+","+Ae+")"},gi.prototype.toArray=function(){var P=this,X=P.r,se=P.g,ye=P.b,Ae=P.a;return Ae===0?[0,0,0,0]:[X*255/Ae,se*255/Ae,ye*255/Ae,Ae]},gi.black=new gi(0,0,0,1),gi.white=new gi(1,1,1,1),gi.transparent=new gi(0,0,0,0),gi.red=new gi(1,0,0,1);var Yu=function(P,X,se){P?this.sensitivity=X?"variant":"case":this.sensitivity=X?"accent":"base",this.locale=se,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Yu.prototype.compare=function(P,X){return this.collator.compare(P,X)},Yu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var pc=function(P,X,se,ye,Ae){this.text=P,this.image=X,this.scale=se,this.fontStack=ye,this.textColor=Ae},Mo=function(P){this.sections=P};Mo.fromString=function(P){return new Mo([new pc(P,null,null,null,null)])},Mo.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(P){return P.text.length!==0||P.image&&P.image.name.length!==0})},Mo.factory=function(P){return P instanceof Mo?P:Mo.fromString(P)},Mo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(P){return P.text}).join("")},Mo.prototype.serialize=function(){for(var P=["format"],X=0,se=this.sections;X<se.length;X+=1){var ye=se[X];if(ye.image){P.push(["image",ye.image.name]);continue}P.push(ye.text);var Ae={};ye.fontStack&&(Ae["text-font"]=["literal",ye.fontStack.split(",")]),ye.scale&&(Ae["font-scale"]=ye.scale),ye.textColor&&(Ae["text-color"]=["rgba"].concat(ye.textColor.toArray())),P.push(Ae)}return P};var Jo=function(P){this.name=P.name,this.available=P.available};Jo.prototype.toString=function(){return this.name},Jo.fromString=function(P){return P?new Jo({name:P,available:!1}):null},Jo.prototype.serialize=function(){return["image",this.name]};function vu(D,P,X,se){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof P=="number"&&P>=0&&P<=255&&typeof X=="number"&&X>=0&&X<=255)){var ye=typeof se=="number"?[D,P,X,se]:[D,P,X];return"Invalid rgba value ["+ye.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof se>"u"||typeof se=="number"&&se>=0&&se<=1?null:"Invalid rgba value ["+[D,P,X,se].join(", ")+"]: 'a' must be between 0 and 1."}function Rf(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof gi)return!0;if(D instanceof Yu)return!0;if(D instanceof Mo)return!0;if(D instanceof Jo)return!0;if(Array.isArray(D)){for(var P=0,X=D;P<X.length;P+=1){var se=X[P];if(!Rf(se))return!1}return!0}else if(typeof D=="object"){for(var ye in D)if(!Rf(D[ye]))return!1;return!0}else return!1}function oo(D){if(D===null)return Gr;if(typeof D=="string")return Sn;if(typeof D=="boolean")return Bn;if(typeof D=="number")return rn;if(D instanceof gi)return Ln;if(D instanceof Yu)return ca;if(D instanceof Mo)return ba;if(D instanceof Jo)return Ia;if(Array.isArray(D)){for(var P=D.length,X,se=0,ye=D;se<ye.length;se+=1){var Ae=ye[se],Le=oo(Ae);if(!X)X=Le;else{if(X===Le)continue;X=Hn;break}}return Ii(X||Hn,P)}else return Wn}function du(D){var P=typeof D;return D===null?"":P==="string"||P==="number"||P==="boolean"?String(D):D instanceof gi||D instanceof Mo||D instanceof Jo?D.toString():JSON.stringify(D)}var fo=function(P,X){this.type=P,this.value=X};fo.parse=function(P,X){if(P.length!==2)return X.error("'literal' expression requires exactly one argument, but found "+(P.length-1)+" instead.");if(!Rf(P[1]))return X.error("invalid value");var se=P[1],ye=oo(se),Ae=X.expectedType;return ye.kind==="array"&&ye.N===0&&Ae&&Ae.kind==="array"&&(typeof Ae.N!="number"||Ae.N===0)&&(ye=Ae),new fo(ye,se)},fo.prototype.evaluate=function(){return this.value},fo.prototype.eachChild=function(){},fo.prototype.outputDefined=function(){return!0},fo.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof gi?["rgba"].concat(this.value.toArray()):this.value instanceof Mo?this.value.serialize():this.value};var mo=function(P){this.name="ExpressionEvaluationError",this.message=P};mo.prototype.toJSON=function(){return this.message};var pu={string:Sn,number:rn,boolean:Bn,object:Wn},Ro=function(P,X){this.type=P,this.args=X};Ro.parse=function(P,X){if(P.length<2)return X.error("Expected at least one argument.");var se=1,ye,Ae=P[0];if(Ae==="array"){var Le;if(P.length>2){var Qe=P[1];if(typeof Qe!="string"||!(Qe in pu)||Qe==="object")return X.error('The item type argument of "array" must be one of string, number, boolean',1);Le=pu[Qe],se++}else Le=Hn;var dt;if(P.length>3){if(P[2]!==null&&(typeof P[2]!="number"||P[2]<0||P[2]!==Math.floor(P[2])))return X.error('The length argument to "array" must be a positive integer literal',2);dt=P[2],se++}ye=Ii(Le,dt)}else ye=pu[Ae];for(var St=[];se<P.length;se++){var Lt=X.parse(P[se],se,Hn);if(!Lt)return null;St.push(Lt)}return new Ro(ye,St)},Ro.prototype.evaluate=function(P){for(var X=0;X<this.args.length;X++){var se=this.args[X].evaluate(P),ye=ns(this.type,oo(se));if(ye){if(X===this.args.length-1)throw new mo("Expected value to be of type "+xi(this.type)+", but found "+xi(oo(se))+" instead.")}else return se}return null},Ro.prototype.eachChild=function(P){this.args.forEach(P)},Ro.prototype.outputDefined=function(){return this.args.every(function(P){return P.outputDefined()})},Ro.prototype.serialize=function(){var P=this.type,X=[P.kind];if(P.kind==="array"){var se=P.itemType;if(se.kind==="string"||se.kind==="number"||se.kind==="boolean"){X.push(se.kind);var ye=P.N;(typeof ye=="number"||this.args.length>1)&&X.push(ye)}}return X.concat(this.args.map(function(Ae){return Ae.serialize()}))};var Io=function(P){this.type=ba,this.sections=P};Io.parse=function(P,X){if(P.length<2)return X.error("Expected at least one argument.");var se=P[1];if(!Array.isArray(se)&&typeof se=="object")return X.error("First argument must be an image or text section.");for(var ye=[],Ae=!1,Le=1;Le<=P.length-1;++Le){var Qe=P[Le];if(Ae&&typeof Qe=="object"&&!Array.isArray(Qe)){Ae=!1;var dt=null;if(Qe["font-scale"]&&(dt=X.parse(Qe["font-scale"],1,rn),!dt))return null;var St=null;if(Qe["text-font"]&&(St=X.parse(Qe["text-font"],1,Ii(Sn)),!St))return null;var Lt=null;if(Qe["text-color"]&&(Lt=X.parse(Qe["text-color"],1,Ln),!Lt))return null;var Xt=ye[ye.length-1];Xt.scale=dt,Xt.font=St,Xt.textColor=Lt}else{var ar=X.parse(P[Le],1,Hn);if(!ar)return null;var er=ar.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return X.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ae=!0,ye.push({content:ar,scale:null,font:null,textColor:null})}}return new Io(ye)},Io.prototype.evaluate=function(P){var X=function(se){var ye=se.content.evaluate(P);return oo(ye)===Ia?new pc("",ye,null,null,null):new pc(du(ye),null,se.scale?se.scale.evaluate(P):null,se.font?se.font.evaluate(P).join(","):null,se.textColor?se.textColor.evaluate(P):null)};return new Mo(this.sections.map(X))},Io.prototype.eachChild=function(P){for(var X=0,se=this.sections;X<se.length;X+=1){var ye=se[X];P(ye.content),ye.scale&&P(ye.scale),ye.font&&P(ye.font),ye.textColor&&P(ye.textColor)}},Io.prototype.outputDefined=function(){return!1},Io.prototype.serialize=function(){for(var P=["format"],X=0,se=this.sections;X<se.length;X+=1){var ye=se[X];P.push(ye.content.serialize());var Ae={};ye.scale&&(Ae["font-scale"]=ye.scale.serialize()),ye.font&&(Ae["text-font"]=ye.font.serialize()),ye.textColor&&(Ae["text-color"]=ye.textColor.serialize()),P.push(Ae)}return P};var vs=function(P){this.type=Ia,this.input=P};vs.parse=function(P,X){if(P.length!==2)return X.error("Expected two arguments.");var se=X.parse(P[1],1,Sn);return se?new vs(se):X.error("No image name provided.")},vs.prototype.evaluate=function(P){var X=this.input.evaluate(P),se=Jo.fromString(X);return se&&P.availableImages&&(se.available=P.availableImages.indexOf(X)>-1),se},vs.prototype.eachChild=function(P){P(this.input)},vs.prototype.outputDefined=function(){return!1},vs.prototype.serialize=function(){return["image",this.input.serialize()]};var ah={"to-boolean":Bn,"to-color":Ln,"to-number":rn,"to-string":Sn},as=function(P,X){this.type=P,this.args=X};as.parse=function(P,X){if(P.length<2)return X.error("Expected at least one argument.");var se=P[0];if((se==="to-boolean"||se==="to-string")&&P.length!==2)return X.error("Expected one argument.");for(var ye=ah[se],Ae=[],Le=1;Le<P.length;Le++){var Qe=X.parse(P[Le],Le,Hn);if(!Qe)return null;Ae.push(Qe)}return new as(ye,Ae)},as.prototype.evaluate=function(P){if(this.type.kind==="boolean")return!!this.args[0].evaluate(P);if(this.type.kind==="color"){for(var X,se,ye=0,Ae=this.args;ye<Ae.length;ye+=1){var Le=Ae[ye];if(X=Le.evaluate(P),se=null,X instanceof gi)return X;if(typeof X=="string"){var Qe=P.parseColor(X);if(Qe)return Qe}else if(Array.isArray(X)&&(X.length<3||X.length>4?se="Invalid rbga value "+JSON.stringify(X)+": expected an array containing either three or four numeric values.":se=vu(X[0],X[1],X[2],X[3]),!se))return new gi(X[0]/255,X[1]/255,X[2]/255,X[3])}throw new mo(se||"Could not parse color from value '"+(typeof X=="string"?X:String(JSON.stringify(X)))+"'")}else if(this.type.kind==="number"){for(var dt=null,St=0,Lt=this.args;St<Lt.length;St+=1){var Xt=Lt[St];if(dt=Xt.evaluate(P),dt===null)return 0;var ar=Number(dt);if(!isNaN(ar))return ar}throw new mo("Could not convert "+JSON.stringify(dt)+" to number.")}else return this.type.kind==="formatted"?Mo.fromString(du(this.args[0].evaluate(P))):this.type.kind==="resolvedImage"?Jo.fromString(du(this.args[0].evaluate(P))):du(this.args[0].evaluate(P))},as.prototype.eachChild=function(P){this.args.forEach(P)},as.prototype.outputDefined=function(){return this.args.every(function(P){return P.outputDefined()})},as.prototype.serialize=function(){if(this.type.kind==="formatted")return new Io([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new vs(this.args[0]).serialize();var P=["to-"+this.type.kind];return this.eachChild(function(X){P.push(X.serialize())}),P};var lv=["Unknown","Point","LineString","Polygon"],Ws=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ws.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ws.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?lv[this.feature.type]:this.feature.type:null},Ws.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ws.prototype.canonicalID=function(){return this.canonical},Ws.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ws.prototype.parseColor=function(P){var X=this._parseColorCache[P];return X||(X=this._parseColorCache[P]=gi.parse(P)),X};var Eo=function(P,X,se,ye){this.name=P,this.type=X,this._evaluate=se,this.args=ye};Eo.prototype.evaluate=function(P){return this._evaluate(P,this.args)},Eo.prototype.eachChild=function(P){this.args.forEach(P)},Eo.prototype.outputDefined=function(){return!1},Eo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(P){return P.serialize()}))},Eo.parse=function(P,X){var se,ye=P[0],Ae=Eo.definitions[ye];if(!Ae)return X.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Le=Array.isArray(Ae)?Ae[0]:Ae.type,Qe=Array.isArray(Ae)?[[Ae[1],Ae[2]]]:Ae.overloads,dt=Qe.filter(function(_a){var Pa=_a[0];return!Array.isArray(Pa)||Pa.length===P.length-1}),St=null,Lt=0,Xt=dt;Lt<Xt.length;Lt+=1){var ar=Xt[Lt],er=ar[0],Tr=ar[1];St=new Xs(X.registry,X.path,null,X.scope);for(var Vr=[],dn=!1,sn=1;sn<P.length;sn++){var Pn=P[sn],bn=Array.isArray(er)?er[sn-1]:er.type,Dn=St.parse(Pn,1+Vr.length,bn);if(!Dn){dn=!0;break}Vr.push(Dn)}if(!dn){if(Array.isArray(er)&&er.length!==Vr.length){St.error("Expected "+er.length+" arguments, but found "+Vr.length+" instead.");continue}for(var zn=0;zn<Vr.length;zn++){var Kn=Array.isArray(er)?er[zn]:er.type,la=Vr[zn];St.concat(zn+1).checkSubtype(Kn,la.type)}if(St.errors.length===0)return new Eo(ye,Le,Tr,Vr)}}if(dt.length===1)(se=X.errors).push.apply(se,St.errors);else{for(var aa=dt.length?dt:Qe,Ea=aa.map(function(_a){var Pa=_a[0];return gc(Pa)}).join(" | "),xa=[],Sa=1;Sa<P.length;Sa++){var Ga=X.parse(P[Sa],1+xa.length);if(!Ga)return null;xa.push(xi(Ga.type))}X.error("Expected arguments of type "+Ea+", but found ("+xa.join(", ")+") instead.")}return null},Eo.register=function(P,X){Eo.definitions=X;for(var se in X)P[se]=Eo};function gc(D){return Array.isArray(D)?"("+D.map(xi).join(", ")+")":"("+xi(D.type)+"...)"}var Tl=function(P,X,se){this.type=ca,this.locale=se,this.caseSensitive=P,this.diacriticSensitive=X};Tl.parse=function(P,X){if(P.length!==2)return X.error("Expected one argument.");var se=P[1];if(typeof se!="object"||Array.isArray(se))return X.error("Collator options argument must be an object.");var ye=X.parse(se["case-sensitive"]===void 0?!1:se["case-sensitive"],1,Bn);if(!ye)return null;var Ae=X.parse(se["diacritic-sensitive"]===void 0?!1:se["diacritic-sensitive"],1,Bn);if(!Ae)return null;var Le=null;return se.locale&&(Le=X.parse(se.locale,1,Sn),!Le)?null:new Tl(ye,Ae,Le)},Tl.prototype.evaluate=function(P){return new Yu(this.caseSensitive.evaluate(P),this.diacriticSensitive.evaluate(P),this.locale?this.locale.evaluate(P):null)},Tl.prototype.eachChild=function(P){P(this.caseSensitive),P(this.diacriticSensitive),this.locale&&P(this.locale)},Tl.prototype.outputDefined=function(){return!1},Tl.prototype.serialize=function(){var P={};return P["case-sensitive"]=this.caseSensitive.serialize(),P["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(P.locale=this.locale.serialize()),["collator",P]};var Gs=8192;function yc(D,P){D[0]=Math.min(D[0],P[0]),D[1]=Math.min(D[1],P[1]),D[2]=Math.max(D[2],P[0]),D[3]=Math.max(D[3],P[1])}function ih(D){return(180+D)/360}function uv(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function If(D,P){return!(D[0]<=P[0]||D[2]>=P[2]||D[1]<=P[1]||D[3]>=P[3])}function fv(D,P){var X=ih(D[0]),se=uv(D[1]),ye=Math.pow(2,P.z);return[Math.round(X*ye*Gs),Math.round(se*ye*Gs)]}function cv(D,P,X){var se=D[0]-P[0],ye=D[1]-P[1],Ae=D[0]-X[0],Le=D[1]-X[1];return se*Le-Ae*ye===0&&se*Ae<=0&&ye*Le<=0}function hv(D,P,X){return P[1]>D[1]!=X[1]>D[1]&&D[0]<(X[0]-P[0])*(D[1]-P[1])/(X[1]-P[1])+P[0]}function mc(D,P){for(var X=!1,se=0,ye=P.length;se<ye;se++)for(var Ae=P[se],Le=0,Qe=Ae.length;Le<Qe-1;Le++){if(cv(D,Ae[Le],Ae[Le+1]))return!1;hv(D,Ae[Le],Ae[Le+1])&&(X=!X)}return X}function vv(D,P){for(var X=0;X<P.length;X++)if(mc(D,P[X]))return!0;return!1}function dv(D,P){return D[0]*P[1]-D[1]*P[0]}function oh(D,P,X,se){var ye=D[0]-X[0],Ae=D[1]-X[1],Le=P[0]-X[0],Qe=P[1]-X[1],dt=se[0]-X[0],St=se[1]-X[1],Lt=ye*St-dt*Ae,Xt=Le*St-dt*Qe;return Lt>0&&Xt<0||Lt<0&&Xt>0}function sh(D,P,X,se){var ye=[P[0]-D[0],P[1]-D[1]],Ae=[se[0]-X[0],se[1]-X[1]];return dv(Ae,ye)===0?!1:!!(oh(D,P,X,se)&&oh(X,se,D,P))}function Wl(D,P,X){for(var se=0,ye=X;se<ye.length;se+=1)for(var Ae=ye[se],Le=0;Le<Ae.length-1;++Le)if(sh(D,P,Ae[Le],Ae[Le+1]))return!0;return!1}function gu(D,P){for(var X=0;X<D.length;++X)if(!mc(D[X],P))return!1;for(var se=0;se<D.length-1;++se)if(Wl(D[se],D[se+1],P))return!1;return!0}function Wu(D,P){for(var X=0;X<P.length;X++)if(gu(D,P[X]))return!0;return!1}function Gu(D,P,X){for(var se=[],ye=0;ye<D.length;ye++){for(var Ae=[],Le=0;Le<D[ye].length;Le++){var Qe=fv(D[ye][Le],X);yc(P,Qe),Ae.push(Qe)}se.push(Ae)}return se}function lh(D,P,X){for(var se=[],ye=0;ye<D.length;ye++){var Ae=Gu(D[ye],P,X);se.push(Ae)}return se}function al(D,P,X,se){if(D[0]<X[0]||D[0]>X[2]){var ye=se*.5,Ae=D[0]-X[0]>ye?-se:X[0]-D[0]>ye?se:0;Ae===0&&(Ae=D[0]-X[2]>ye?-se:X[2]-D[0]>ye?se:0),D[0]+=Ae}yc(P,D)}function pv(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function Of(D,P,X,se){for(var ye=Math.pow(2,se.z)*Gs,Ae=[se.x*Gs,se.y*Gs],Le=[],Qe=0,dt=D;Qe<dt.length;Qe+=1)for(var St=dt[Qe],Lt=0,Xt=St;Lt<Xt.length;Lt+=1){var ar=Xt[Lt],er=[ar.x+Ae[0],ar.y+Ae[1]];al(er,P,X,ye),Le.push(er)}return Le}function uh(D,P,X,se){for(var ye=Math.pow(2,se.z)*Gs,Ae=[se.x*Gs,se.y*Gs],Le=[],Qe=0,dt=D;Qe<dt.length;Qe+=1){for(var St=dt[Qe],Lt=[],Xt=0,ar=St;Xt<ar.length;Xt+=1){var er=ar[Xt],Tr=[er.x+Ae[0],er.y+Ae[1]];yc(P,Tr),Lt.push(Tr)}Le.push(Lt)}if(P[2]-P[0]<=ye/2){pv(P);for(var Vr=0,dn=Le;Vr<dn.length;Vr+=1)for(var sn=dn[Vr],Pn=0,bn=sn;Pn<bn.length;Pn+=1){var Dn=bn[Pn];al(Dn,P,X,ye)}}return Le}function fh(D,P){var X=[1/0,1/0,-1/0,-1/0],se=[1/0,1/0,-1/0,-1/0],ye=D.canonicalID();if(P.type==="Polygon"){var Ae=Gu(P.coordinates,se,ye),Le=Of(D.geometry(),X,se,ye);if(!If(X,se))return!1;for(var Qe=0,dt=Le;Qe<dt.length;Qe+=1){var St=dt[Qe];if(!mc(St,Ae))return!1}}if(P.type==="MultiPolygon"){var Lt=lh(P.coordinates,se,ye),Xt=Of(D.geometry(),X,se,ye);if(!If(X,se))return!1;for(var ar=0,er=Xt;ar<er.length;ar+=1){var Tr=er[ar];if(!vv(Tr,Lt))return!1}}return!0}function kf(D,P){var X=[1/0,1/0,-1/0,-1/0],se=[1/0,1/0,-1/0,-1/0],ye=D.canonicalID();if(P.type==="Polygon"){var Ae=Gu(P.coordinates,se,ye),Le=uh(D.geometry(),X,se,ye);if(!If(X,se))return!1;for(var Qe=0,dt=Le;Qe<dt.length;Qe+=1){var St=dt[Qe];if(!gu(St,Ae))return!1}}if(P.type==="MultiPolygon"){var Lt=lh(P.coordinates,se,ye),Xt=uh(D.geometry(),X,se,ye);if(!If(X,se))return!1;for(var ar=0,er=Xt;ar<er.length;ar+=1){var Tr=er[ar];if(!Wu(Tr,Lt))return!1}}return!0}var _s=function(P,X){this.type=Bn,this.geojson=P,this.geometries=X};_s.parse=function(P,X){if(P.length!==2)return X.error("'within' expression requires exactly one argument, but found "+(P.length-1)+" instead.");if(Rf(P[1])){var se=P[1];if(se.type==="FeatureCollection")for(var ye=0;ye<se.features.length;++ye){var Ae=se.features[ye].geometry.type;if(Ae==="Polygon"||Ae==="MultiPolygon")return new _s(se,se.features[ye].geometry)}else if(se.type==="Feature"){var Le=se.geometry.type;if(Le==="Polygon"||Le==="MultiPolygon")return new _s(se,se.geometry)}else if(se.type==="Polygon"||se.type==="MultiPolygon")return new _s(se,se)}return X.error("'within' expression requires valid geojson object that contains polygon geometry type.")},_s.prototype.evaluate=function(P){if(P.geometry()!=null&&P.canonicalID()!=null){if(P.geometryType()==="Point")return fh(P,this.geometries);if(P.geometryType()==="LineString")return kf(P,this.geometries)}return!1},_s.prototype.eachChild=function(){},_s.prototype.outputDefined=function(){return!0},_s.prototype.serialize=function(){return["within",this.geojson]};function yu(D){if(D instanceof Eo){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof _s)return!1;var P=!0;return D.eachChild(function(X){P&&!yu(X)&&(P=!1)}),P}function Gl(D){if(D instanceof Eo&&D.name==="feature-state")return!1;var P=!0;return D.eachChild(function(X){P&&!Gl(X)&&(P=!1)}),P}function Xu(D,P){if(D instanceof Eo&&P.indexOf(D.name)>=0)return!1;var X=!0;return D.eachChild(function(se){X&&!Xu(se,P)&&(X=!1)}),X}var Al=function(P,X){this.type=X.type,this.name=P,this.boundExpression=X};Al.parse=function(P,X){if(P.length!==2||typeof P[1]!="string")return X.error("'var' expression requires exactly one string literal argument.");var se=P[1];return X.scope.has(se)?new Al(se,X.scope.get(se)):X.error('Unknown variable "'+se+'". Make sure "'+se+'" has been bound in an enclosing "let" expression before using it.',1)},Al.prototype.evaluate=function(P){return this.boundExpression.evaluate(P)},Al.prototype.eachChild=function(){},Al.prototype.outputDefined=function(){return!1},Al.prototype.serialize=function(){return["var",this.name]};var Xs=function(P,X,se,ye,Ae){X===void 0&&(X=[]),ye===void 0&&(ye=new Qr),Ae===void 0&&(Ae=[]),this.registry=P,this.path=X,this.key=X.map(function(Le){return"["+Le+"]"}).join(""),this.scope=ye,this.errors=Ae,this.expectedType=se};Xs.prototype.parse=function(P,X,se,ye,Ae){return Ae===void 0&&(Ae={}),X?this.concat(X,se,ye)._parse(P,Ae):this._parse(P,Ae)},Xs.prototype._parse=function(P,X){(P===null||typeof P=="string"||typeof P=="boolean"||typeof P=="number")&&(P=["literal",P]);function se(Lt,Xt,ar){return ar==="assert"?new Ro(Xt,[Lt]):ar==="coerce"?new as(Xt,[Lt]):Lt}if(Array.isArray(P)){if(P.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ye=P[0];if(typeof ye!="string")return this.error("Expression name must be a string, but found "+typeof ye+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ae=this.registry[ye];if(Ae){var Le=Ae.parse(P,this);if(!Le)return null;if(this.expectedType){var Qe=this.expectedType,dt=Le.type;if((Qe.kind==="string"||Qe.kind==="number"||Qe.kind==="boolean"||Qe.kind==="object"||Qe.kind==="array")&&dt.kind==="value")Le=se(Le,Qe,X.typeAnnotation||"assert");else if((Qe.kind==="color"||Qe.kind==="formatted"||Qe.kind==="resolvedImage")&&(dt.kind==="value"||dt.kind==="string"))Le=se(Le,Qe,X.typeAnnotation||"coerce");else if(this.checkSubtype(Qe,dt))return null}if(!(Le instanceof fo)&&Le.type.kind!=="resolvedImage"&&xc(Le)){var St=new Ws;try{Le=new fo(Le.type,Le.evaluate(St))}catch(Lt){return this.error(Lt.message),null}}return Le}return this.error('Unknown expression "'+ye+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof P>"u"?this.error("'undefined' value invalid. Use null instead."):typeof P=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof P+" instead.")},Xs.prototype.concat=function(P,X,se){var ye=typeof P=="number"?this.path.concat(P):this.path,Ae=se?this.scope.concat(se):this.scope;return new Xs(this.registry,ye,X||null,Ae,this.errors)},Xs.prototype.error=function(P){for(var X=[],se=arguments.length-1;se-- >0;)X[se]=arguments[se+1];var ye=""+this.key+X.map(function(Ae){return"["+Ae+"]"}).join("");this.errors.push(new Cr(ye,P))},Xs.prototype.checkSubtype=function(P,X){var se=ns(P,X);return se&&this.error(se),se};function xc(D){if(D instanceof Al)return xc(D.boundExpression);if(D instanceof Eo&&D.name==="error")return!1;if(D instanceof Tl)return!1;if(D instanceof _s)return!1;var P=D instanceof as||D instanceof Ro,X=!0;return D.eachChild(function(se){P?X=X&&xc(se):X=X&&se instanceof fo}),X?yu(D)&&Xu(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function mu(D,P){for(var X=D.length-1,se=0,ye=X,Ae=0,Le,Qe;se<=ye;)if(Ae=Math.floor((se+ye)/2),Le=D[Ae],Qe=D[Ae+1],Le<=P){if(Ae===X||P<Qe)return Ae;se=Ae+1}else if(Le>P)ye=Ae-1;else throw new mo("Input is not a number.");return 0}var Cs=function(P,X,se){this.type=P,this.input=X,this.labels=[],this.outputs=[];for(var ye=0,Ae=se;ye<Ae.length;ye+=1){var Le=Ae[ye],Qe=Le[0],dt=Le[1];this.labels.push(Qe),this.outputs.push(dt)}};Cs.parse=function(P,X){if(P.length-1<4)return X.error("Expected at least 4 arguments, but found only "+(P.length-1)+".");if((P.length-1)%2!==0)return X.error("Expected an even number of arguments.");var se=X.parse(P[1],1,rn);if(!se)return null;var ye=[],Ae=null;X.expectedType&&X.expectedType.kind!=="value"&&(Ae=X.expectedType);for(var Le=1;Le<P.length;Le+=2){var Qe=Le===1?-1/0:P[Le],dt=P[Le+1],St=Le,Lt=Le+1;if(typeof Qe!="number")return X.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',St);if(ye.length&&ye[ye.length-1][0]>=Qe)return X.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',St);var Xt=X.parse(dt,Lt,Ae);if(!Xt)return null;Ae=Ae||Xt.type,ye.push([Qe,Xt])}return new Cs(Ae,se,ye)},Cs.prototype.evaluate=function(P){var X=this.labels,se=this.outputs;if(X.length===1)return se[0].evaluate(P);var ye=this.input.evaluate(P);if(ye<=X[0])return se[0].evaluate(P);var Ae=X.length;if(ye>=X[Ae-1])return se[Ae-1].evaluate(P);var Le=mu(X,ye);return se[Le].evaluate(P)},Cs.prototype.eachChild=function(P){P(this.input);for(var X=0,se=this.outputs;X<se.length;X+=1){var ye=se[X];P(ye)}},Cs.prototype.outputDefined=function(){return this.outputs.every(function(P){return P.outputDefined()})},Cs.prototype.serialize=function(){for(var P=["step",this.input.serialize()],X=0;X<this.labels.length;X++)X>0&&P.push(this.labels[X]),P.push(this.outputs[X].serialize());return P};function to(D,P,X){return D*(1-X)+P*X}function bc(D,P,X){return new gi(to(D.r,P.r,X),to(D.g,P.g,X),to(D.b,P.b,X),to(D.a,P.a,X))}function gv(D,P,X){return D.map(function(se,ye){return to(se,P[ye],X)})}var Nf=Object.freeze({__proto__:null,number:to,color:bc,array:gv}),xu=.95047,bu=1,is=1.08883,Ff=4/29,wu=6/29,zf=3*wu*wu,yv=wu*wu*wu,ch=Math.PI/180,wc=180/Math.PI;function Tc(D){return D>yv?Math.pow(D,.3333333333333333):D/zf+Ff}function Ac(D){return D>wu?D*D*D:zf*(D-Ff)}function Tu(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function Bf(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function Zu(D){var P=Bf(D.r),X=Bf(D.g),se=Bf(D.b),ye=Tc((.4124564*P+.3575761*X+.1804375*se)/xu),Ae=Tc((.2126729*P+.7151522*X+.072175*se)/bu),Le=Tc((.0193339*P+.119192*X+.9503041*se)/is);return{l:116*Ae-16,a:500*(ye-Ae),b:200*(Ae-Le),alpha:D.a}}function Uf(D){var P=(D.l+16)/116,X=isNaN(D.a)?P:P+D.a/500,se=isNaN(D.b)?P:P-D.b/200;return P=bu*Ac(P),X=xu*Ac(X),se=is*Ac(se),new gi(Tu(3.2404542*X-1.5371385*P-.4985314*se),Tu(-.969266*X+1.8760108*P+.041556*se),Tu(.0556434*X-.2040259*P+1.0572252*se),D.alpha)}function Oi(D,P,X){return{l:to(D.l,P.l,X),a:to(D.a,P.a,X),b:to(D.b,P.b,X),alpha:to(D.alpha,P.alpha,X)}}function hh(D){var P=Zu(D),X=P.l,se=P.a,ye=P.b,Ae=Math.atan2(ye,se)*wc;return{h:Ae<0?Ae+360:Ae,c:Math.sqrt(se*se+ye*ye),l:X,alpha:D.a}}function Ls(D){var P=D.h*ch,X=D.c,se=D.l;return Uf({l:se,a:Math.cos(P)*X,b:Math.sin(P)*X,alpha:D.alpha})}function vh(D,P,X){var se=P-D;return D+X*(se>180||se<-180?se-360*Math.round(se/360):se)}function Sc(D,P,X){return{h:vh(D.h,P.h,X),c:to(D.c,P.c,X),l:to(D.l,P.l,X),alpha:to(D.alpha,P.alpha,X)}}var Xl={forward:Zu,reverse:Uf,interpolate:Oi},Sl={forward:hh,reverse:Ls,interpolate:Sc},Vf=Object.freeze({__proto__:null,lab:Xl,hcl:Sl}),so=function(P,X,se,ye,Ae){this.type=P,this.operator=X,this.interpolation=se,this.input=ye,this.labels=[],this.outputs=[];for(var Le=0,Qe=Ae;Le<Qe.length;Le+=1){var dt=Qe[Le],St=dt[0],Lt=dt[1];this.labels.push(St),this.outputs.push(Lt)}};so.interpolationFactor=function(P,X,se,ye){var Ae=0;if(P.name==="exponential")Ae=ju(X,P.base,se,ye);else if(P.name==="linear")Ae=ju(X,1,se,ye);else if(P.name==="cubic-bezier"){var Le=P.controlPoints,Qe=new v(Le[0],Le[1],Le[2],Le[3]);Ae=Qe.solve(ju(X,1,se,ye))}return Ae},so.parse=function(P,X){var se=P[0],ye=P[1],Ae=P[2],Le=P.slice(3);if(!Array.isArray(ye)||ye.length===0)return X.error("Expected an interpolation type expression.",1);if(ye[0]==="linear")ye={name:"linear"};else if(ye[0]==="exponential"){var Qe=ye[1];if(typeof Qe!="number")return X.error("Exponential interpolation requires a numeric base.",1,1);ye={name:"exponential",base:Qe}}else if(ye[0]==="cubic-bezier"){var dt=ye.slice(1);if(dt.length!==4||dt.some(function(sn){return typeof sn!="number"||sn<0||sn>1}))return X.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ye={name:"cubic-bezier",controlPoints:dt}}else return X.error("Unknown interpolation type "+String(ye[0]),1,0);if(P.length-1<4)return X.error("Expected at least 4 arguments, but found only "+(P.length-1)+".");if((P.length-1)%2!==0)return X.error("Expected an even number of arguments.");if(Ae=X.parse(Ae,2,rn),!Ae)return null;var St=[],Lt=null;se==="interpolate-hcl"||se==="interpolate-lab"?Lt=Ln:X.expectedType&&X.expectedType.kind!=="value"&&(Lt=X.expectedType);for(var Xt=0;Xt<Le.length;Xt+=2){var ar=Le[Xt],er=Le[Xt+1],Tr=Xt+3,Vr=Xt+4;if(typeof ar!="number")return X.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tr);if(St.length&&St[St.length-1][0]>=ar)return X.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Tr);var dn=X.parse(er,Vr,Lt);if(!dn)return null;Lt=Lt||dn.type,St.push([ar,dn])}return Lt.kind!=="number"&&Lt.kind!=="color"&&!(Lt.kind==="array"&&Lt.itemType.kind==="number"&&typeof Lt.N=="number")?X.error("Type "+xi(Lt)+" is not interpolatable."):new so(Lt,se,ye,Ae,St)},so.prototype.evaluate=function(P){var X=this.labels,se=this.outputs;if(X.length===1)return se[0].evaluate(P);var ye=this.input.evaluate(P);if(ye<=X[0])return se[0].evaluate(P);var Ae=X.length;if(ye>=X[Ae-1])return se[Ae-1].evaluate(P);var Le=mu(X,ye),Qe=X[Le],dt=X[Le+1],St=so.interpolationFactor(this.interpolation,ye,Qe,dt),Lt=se[Le].evaluate(P),Xt=se[Le+1].evaluate(P);return this.operator==="interpolate"?Nf[this.type.kind.toLowerCase()](Lt,Xt,St):this.operator==="interpolate-hcl"?Sl.reverse(Sl.interpolate(Sl.forward(Lt),Sl.forward(Xt),St)):Xl.reverse(Xl.interpolate(Xl.forward(Lt),Xl.forward(Xt),St))},so.prototype.eachChild=function(P){P(this.input);for(var X=0,se=this.outputs;X<se.length;X+=1){var ye=se[X];P(ye)}},so.prototype.outputDefined=function(){return this.outputs.every(function(P){return P.outputDefined()})},so.prototype.serialize=function(){var P;this.interpolation.name==="linear"?P=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?P=["linear"]:P=["exponential",this.interpolation.base]:P=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var X=[this.operator,P,this.input.serialize()],se=0;se<this.labels.length;se++)X.push(this.labels[se],this.outputs[se].serialize());return X};function ju(D,P,X,se){var ye=se-X,Ae=D-X;return ye===0?0:P===1?Ae/ye:(Math.pow(P,Ae)-1)/(Math.pow(P,ye)-1)}var Ds=function(P,X){this.type=P,this.args=X};Ds.parse=function(P,X){if(P.length<2)return X.error("Expectected at least one argument.");var se=null,ye=X.expectedType;ye&&ye.kind!=="value"&&(se=ye);for(var Ae=[],Le=0,Qe=P.slice(1);Le<Qe.length;Le+=1){var dt=Qe[Le],St=X.parse(dt,1+Ae.length,se,void 0,{typeAnnotation:"omit"});if(!St)return null;se=se||St.type,Ae.push(St)}var Lt=ye&&Ae.some(function(Xt){return ns(ye,Xt.type)});return Lt?new Ds(Hn,Ae):new Ds(se,Ae)},Ds.prototype.evaluate=function(P){for(var X=null,se=0,ye,Ae=0,Le=this.args;Ae<Le.length;Ae+=1){var Qe=Le[Ae];if(se++,X=Qe.evaluate(P),X&&X instanceof Jo&&!X.available&&(ye||(ye=X.name),X=null,se===this.args.length&&(X=ye)),X!==null)break}return X},Ds.prototype.eachChild=function(P){this.args.forEach(P)},Ds.prototype.outputDefined=function(){return this.args.every(function(P){return P.outputDefined()})},Ds.prototype.serialize=function(){var P=["coalesce"];return this.eachChild(function(X){P.push(X.serialize())}),P};var il=function(P,X){this.type=X.type,this.bindings=[].concat(P),this.result=X};il.prototype.evaluate=function(P){return this.result.evaluate(P)},il.prototype.eachChild=function(P){for(var X=0,se=this.bindings;X<se.length;X+=1){var ye=se[X];P(ye[1])}P(this.result)},il.parse=function(P,X){if(P.length<4)return X.error("Expected at least 3 arguments, but found "+(P.length-1)+" instead.");for(var se=[],ye=1;ye<P.length-1;ye+=2){var Ae=P[ye];if(typeof Ae!="string")return X.error("Expected string, but found "+typeof Ae+" instead.",ye);if(/[^a-zA-Z0-9_]/.test(Ae))return X.error("Variable names must contain only alphanumeric characters or '_'.",ye);var Le=X.parse(P[ye+1],ye+1);if(!Le)return null;se.push([Ae,Le])}var Qe=X.parse(P[P.length-1],P.length-1,X.expectedType,se);return Qe?new il(se,Qe):null},il.prototype.outputDefined=function(){return this.result.outputDefined()},il.prototype.serialize=function(){for(var P=["let"],X=0,se=this.bindings;X<se.length;X+=1){var ye=se[X],Ae=ye[0],Le=ye[1];P.push(Ae,Le.serialize())}return P.push(this.result.serialize()),P};var Zl=function(P,X,se){this.type=P,this.index=X,this.input=se};Zl.parse=function(P,X){if(P.length!==3)return X.error("Expected 2 arguments, but found "+(P.length-1)+" instead.");var se=X.parse(P[1],1,rn),ye=X.parse(P[2],2,Ii(X.expectedType||Hn));if(!se||!ye)return null;var Ae=ye.type;return new Zl(Ae.itemType,se,ye)},Zl.prototype.evaluate=function(P){var X=this.index.evaluate(P),se=this.input.evaluate(P);if(X<0)throw new mo("Array index out of bounds: "+X+" < 0.");if(X>=se.length)throw new mo("Array index out of bounds: "+X+" > "+(se.length-1)+".");if(X!==Math.floor(X))throw new mo("Array index must be an integer, but found "+X+" instead.");return se[X]},Zl.prototype.eachChild=function(P){P(this.index),P(this.input)},Zl.prototype.outputDefined=function(){return!1},Zl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ml=function(P,X){this.type=Bn,this.needle=P,this.haystack=X};Ml.parse=function(P,X){if(P.length!==3)return X.error("Expected 2 arguments, but found "+(P.length-1)+" instead.");var se=X.parse(P[1],1,Hn),ye=X.parse(P[2],2,Hn);return!se||!ye?null:Po(se.type,[Bn,Sn,rn,Gr,Hn])?new Ml(se,ye):X.error("Expected first argument to be of type boolean, string, number or null, but found "+xi(se.type)+" instead")},Ml.prototype.evaluate=function(P){var X=this.needle.evaluate(P),se=this.haystack.evaluate(P);if(!se)return!1;if(!hu(X,["boolean","string","number","null"]))throw new mo("Expected first argument to be of type boolean, string, number or null, but found "+xi(oo(X))+" instead.");if(!hu(se,["string","array"]))throw new mo("Expected second argument to be of type array or string, but found "+xi(oo(se))+" instead.");return se.indexOf(X)>=0},Ml.prototype.eachChild=function(P){P(this.needle),P(this.haystack)},Ml.prototype.outputDefined=function(){return!0},Ml.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ps=function(P,X,se){this.type=rn,this.needle=P,this.haystack=X,this.fromIndex=se};Ps.parse=function(P,X){if(P.length<=2||P.length>=5)return X.error("Expected 3 or 4 arguments, but found "+(P.length-1)+" instead.");var se=X.parse(P[1],1,Hn),ye=X.parse(P[2],2,Hn);if(!se||!ye)return null;if(!Po(se.type,[Bn,Sn,rn,Gr,Hn]))return X.error("Expected first argument to be of type boolean, string, number or null, but found "+xi(se.type)+" instead");if(P.length===4){var Ae=X.parse(P[3],3,rn);return Ae?new Ps(se,ye,Ae):null}else return new Ps(se,ye)},Ps.prototype.evaluate=function(P){var X=this.needle.evaluate(P),se=this.haystack.evaluate(P);if(!hu(X,["boolean","string","number","null"]))throw new mo("Expected first argument to be of type boolean, string, number or null, but found "+xi(oo(X))+" instead.");if(!hu(se,["string","array"]))throw new mo("Expected second argument to be of type array or string, but found "+xi(oo(se))+" instead.");if(this.fromIndex){var ye=this.fromIndex.evaluate(P);return se.indexOf(X,ye)}return se.indexOf(X)},Ps.prototype.eachChild=function(P){P(this.needle),P(this.haystack),this.fromIndex&&P(this.fromIndex)},Ps.prototype.outputDefined=function(){return!1},Ps.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var P=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),P]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ol=function(P,X,se,ye,Ae,Le){this.inputType=P,this.type=X,this.input=se,this.cases=ye,this.outputs=Ae,this.otherwise=Le};ol.parse=function(P,X){if(P.length<5)return X.error("Expected at least 4 arguments, but found only "+(P.length-1)+".");if(P.length%2!==1)return X.error("Expected an even number of arguments.");var se,ye;X.expectedType&&X.expectedType.kind!=="value"&&(ye=X.expectedType);for(var Ae={},Le=[],Qe=2;Qe<P.length-1;Qe+=2){var dt=P[Qe],St=P[Qe+1];Array.isArray(dt)||(dt=[dt]);var Lt=X.concat(Qe);if(dt.length===0)return Lt.error("Expected at least one branch label.");for(var Xt=0,ar=dt;Xt<ar.length;Xt+=1){var er=ar[Xt];if(typeof er!="number"&&typeof er!="string")return Lt.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return Lt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return Lt.error("Numeric branch labels must be integer values.");if(!se)se=oo(er);else if(Lt.checkSubtype(se,oo(er)))return null;if(typeof Ae[String(er)]<"u")return Lt.error("Branch labels must be unique.");Ae[String(er)]=Le.length}var Tr=X.parse(St,Qe,ye);if(!Tr)return null;ye=ye||Tr.type,Le.push(Tr)}var Vr=X.parse(P[1],1,Hn);if(!Vr)return null;var dn=X.parse(P[P.length-1],P.length-1,ye);return!dn||Vr.type.kind!=="value"&&X.concat(1).checkSubtype(se,Vr.type)?null:new ol(se,ye,Vr,Ae,Le,dn)},ol.prototype.evaluate=function(P){var X=this.input.evaluate(P),se=oo(X)===this.inputType&&this.outputs[this.cases[X]]||this.otherwise;return se.evaluate(P)},ol.prototype.eachChild=function(P){P(this.input),this.outputs.forEach(P),P(this.otherwise)},ol.prototype.outputDefined=function(){return this.outputs.every(function(P){return P.outputDefined()})&&this.otherwise.outputDefined()},ol.prototype.serialize=function(){for(var P=this,X=["match",this.input.serialize()],se=Object.keys(this.cases).sort(),ye=[],Ae={},Le=0,Qe=se;Le<Qe.length;Le+=1){var dt=Qe[Le],St=Ae[this.cases[dt]];St===void 0?(Ae[this.cases[dt]]=ye.length,ye.push([this.cases[dt],[dt]])):ye[St][1].push(dt)}for(var Lt=function(Vr){return P.inputType.kind==="number"?Number(Vr):Vr},Xt=0,ar=ye;Xt<ar.length;Xt+=1){var er=ar[Xt],St=er[0],Tr=er[1];Tr.length===1?X.push(Lt(Tr[0])):X.push(Tr.map(Lt)),X.push(this.outputs[outputIndex$1].serialize())}return X.push(this.otherwise.serialize()),X};var Rs=function(P,X,se){this.type=P,this.branches=X,this.otherwise=se};Rs.parse=function(P,X){if(P.length<4)return X.error("Expected at least 3 arguments, but found only "+(P.length-1)+".");if(P.length%2!==0)return X.error("Expected an odd number of arguments.");var se;X.expectedType&&X.expectedType.kind!=="value"&&(se=X.expectedType);for(var ye=[],Ae=1;Ae<P.length-1;Ae+=2){var Le=X.parse(P[Ae],Ae,Bn);if(!Le)return null;var Qe=X.parse(P[Ae+1],Ae+1,se);if(!Qe)return null;ye.push([Le,Qe]),se=se||Qe.type}var dt=X.parse(P[P.length-1],P.length-1,se);return dt?new Rs(se,ye,dt):null},Rs.prototype.evaluate=function(P){for(var X=0,se=this.branches;X<se.length;X+=1){var ye=se[X],Ae=ye[0],Le=ye[1];if(Ae.evaluate(P))return Le.evaluate(P)}return this.otherwise.evaluate(P)},Rs.prototype.eachChild=function(P){for(var X=0,se=this.branches;X<se.length;X+=1){var ye=se[X],Ae=ye[0],Le=ye[1];P(Ae),P(Le)}P(this.otherwise)},Rs.prototype.outputDefined=function(){return this.branches.every(function(P){P[0];var X=P[1];return X.outputDefined()})&&this.otherwise.outputDefined()},Rs.prototype.serialize=function(){var P=["case"];return this.eachChild(function(X){P.push(X.serialize())}),P};var ms=function(P,X,se,ye){this.type=P,this.input=X,this.beginIndex=se,this.endIndex=ye};ms.parse=function(P,X){if(P.length<=2||P.length>=5)return X.error("Expected 3 or 4 arguments, but found "+(P.length-1)+" instead.");var se=X.parse(P[1],1,Hn),ye=X.parse(P[2],2,rn);if(!se||!ye)return null;if(!Po(se.type,[Ii(Hn),Sn,Hn]))return X.error("Expected first argument to be of type array or string, but found "+xi(se.type)+" instead");if(P.length===4){var Ae=X.parse(P[3],3,rn);return Ae?new ms(se.type,se,ye,Ae):null}else return new ms(se.type,se,ye)},ms.prototype.evaluate=function(P){var X=this.input.evaluate(P),se=this.beginIndex.evaluate(P);if(!hu(X,["string","array"]))throw new mo("Expected first argument to be of type array or string, but found "+xi(oo(X))+" instead.");if(this.endIndex){var ye=this.endIndex.evaluate(P);return X.slice(se,ye)}return X.slice(se)},ms.prototype.eachChild=function(P){P(this.input),P(this.beginIndex),this.endIndex&&P(this.endIndex)},ms.prototype.outputDefined=function(){return!1},ms.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var P=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),P]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Ku(D,P){return D==="=="||D==="!="?P.kind==="boolean"||P.kind==="string"||P.kind==="number"||P.kind==="null"||P.kind==="value":P.kind==="string"||P.kind==="number"||P.kind==="value"}function mv(D,P,X){return P===X}function xv(D,P,X){return P!==X}function bv(D,P,X){return P<X}function wv(D,P,X){return P>X}function Mc(D,P,X){return P<=X}function dh(D,P,X){return P>=X}function Au(D,P,X,se){return se.compare(P,X)===0}function _o(D,P,X,se){return!Au(D,P,X,se)}function ds(D,P,X,se){return se.compare(P,X)<0}function Su(D,P,X,se){return se.compare(P,X)>0}function ph(D,P,X,se){return se.compare(P,X)<=0}function Ju(D,P,X,se){return se.compare(P,X)>=0}function sl(D,P,X){var se=D!=="=="&&D!=="!=";return function(){function ye(Ae,Le,Qe){this.type=Bn,this.lhs=Ae,this.rhs=Le,this.collator=Qe,this.hasUntypedArgument=Ae.type.kind==="value"||Le.type.kind==="value"}return ye.parse=function(Le,Qe){if(Le.length!==3&&Le.length!==4)return Qe.error("Expected two or three arguments.");var dt=Le[0],St=Qe.parse(Le[1],1,Hn);if(!St)return null;if(!Ku(dt,St.type))return Qe.concat(1).error('"'+dt+`" comparisons are not supported for type '`+xi(St.type)+"'.");var Lt=Qe.parse(Le[2],2,Hn);if(!Lt)return null;if(!Ku(dt,Lt.type))return Qe.concat(2).error('"'+dt+`" comparisons are not supported for type '`+xi(Lt.type)+"'.");if(St.type.kind!==Lt.type.kind&&St.type.kind!=="value"&&Lt.type.kind!=="value")return Qe.error("Cannot compare types '"+xi(St.type)+"' and '"+xi(Lt.type)+"'.");se&&(St.type.kind==="value"&&Lt.type.kind!=="value"?St=new Ro(Lt.type,[St]):St.type.kind!=="value"&&Lt.type.kind==="value"&&(Lt=new Ro(St.type,[Lt])));var Xt=null;if(Le.length===4){if(St.type.kind!=="string"&&Lt.type.kind!=="string"&&St.type.kind!=="value"&&Lt.type.kind!=="value")return Qe.error("Cannot use collator to compare non-string types.");if(Xt=Qe.parse(Le[3],3,ca),!Xt)return null}return new ye(St,Lt,Xt)},ye.prototype.evaluate=function(Le){var Qe=this.lhs.evaluate(Le),dt=this.rhs.evaluate(Le);if(se&&this.hasUntypedArgument){var St=oo(Qe),Lt=oo(dt);if(St.kind!==Lt.kind||!(St.kind==="string"||St.kind==="number"))throw new mo('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+St.kind+", "+Lt.kind+") instead.")}if(this.collator&&!se&&this.hasUntypedArgument){var Xt=oo(Qe),ar=oo(dt);if(Xt.kind!=="string"||ar.kind!=="string")return P(Le,Qe,dt)}return this.collator?X(Le,Qe,dt,this.collator.evaluate(Le)):P(Le,Qe,dt)},ye.prototype.eachChild=function(Le){Le(this.lhs),Le(this.rhs),this.collator&&Le(this.collator)},ye.prototype.outputDefined=function(){return!0},ye.prototype.serialize=function(){var Le=[D];return this.eachChild(function(Qe){Le.push(Qe.serialize())}),Le},ye}()}var Tv=sl("==",mv,Au),gh=sl("!=",xv,_o),yh=sl("<",bv,ds),Ec=sl(">",wv,Su),mh=sl("<=",Mc,ph),Qo=sl(">=",dh,Ju),Is=function(P,X,se,ye,Ae){this.type=Sn,this.number=P,this.locale=X,this.currency=se,this.minFractionDigits=ye,this.maxFractionDigits=Ae};Is.parse=function(P,X){if(P.length!==3)return X.error("Expected two arguments.");var se=X.parse(P[1],1,rn);if(!se)return null;var ye=P[2];if(typeof ye!="object"||Array.isArray(ye))return X.error("NumberFormat options argument must be an object.");var Ae=null;if(ye.locale&&(Ae=X.parse(ye.locale,1,Sn),!Ae))return null;var Le=null;if(ye.currency&&(Le=X.parse(ye.currency,1,Sn),!Le))return null;var Qe=null;if(ye["min-fraction-digits"]&&(Qe=X.parse(ye["min-fraction-digits"],1,rn),!Qe))return null;var dt=null;return ye["max-fraction-digits"]&&(dt=X.parse(ye["max-fraction-digits"],1,rn),!dt)?null:new Is(se,Ae,Le,Qe,dt)},Is.prototype.evaluate=function(P){return new Intl.NumberFormat(this.locale?this.locale.evaluate(P):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(P):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(P):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(P):void 0}).format(this.number.evaluate(P))},Is.prototype.eachChild=function(P){P(this.number),this.locale&&P(this.locale),this.currency&&P(this.currency),this.minFractionDigits&&P(this.minFractionDigits),this.maxFractionDigits&&P(this.maxFractionDigits)},Is.prototype.outputDefined=function(){return!1},Is.prototype.serialize=function(){var P={};return this.locale&&(P.locale=this.locale.serialize()),this.currency&&(P.currency=this.currency.serialize()),this.minFractionDigits&&(P["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(P["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),P]};var El=function(P){this.type=rn,this.input=P};El.parse=function(P,X){if(P.length!==2)return X.error("Expected 1 argument, but found "+(P.length-1)+" instead.");var se=X.parse(P[1],1);return se?se.type.kind!=="array"&&se.type.kind!=="string"&&se.type.kind!=="value"?X.error("Expected argument of type string or array, but found "+xi(se.type)+" instead."):new El(se):null},El.prototype.evaluate=function(P){var X=this.input.evaluate(P);if(typeof X=="string")return X.length;if(Array.isArray(X))return X.length;throw new mo("Expected value to be of type string or array, but found "+xi(oo(X))+" instead.")},El.prototype.eachChild=function(P){P(this.input)},El.prototype.outputDefined=function(){return!1},El.prototype.serialize=function(){var P=["length"];return this.eachChild(function(X){P.push(X.serialize())}),P};var Mu={"==":Tv,"!=":gh,">":Ec,"<":yh,">=":Qo,"<=":mh,array:Ro,at:Zl,boolean:Ro,case:Rs,coalesce:Ds,collator:Tl,format:Io,image:vs,in:Ml,"index-of":Ps,interpolate:so,"interpolate-hcl":so,"interpolate-lab":so,length:El,let:il,literal:fo,match:ol,number:Ro,"number-format":Is,object:Ro,slice:ms,step:Cs,string:Ro,"to-boolean":as,"to-color":as,"to-number":as,"to-string":as,var:Al,within:_s};function Hf(D,P){var X=P[0],se=P[1],ye=P[2],Ae=P[3];X=X.evaluate(D),se=se.evaluate(D),ye=ye.evaluate(D);var Le=Ae?Ae.evaluate(D):1,Qe=vu(X,se,ye,Le);if(Qe)throw new mo(Qe);return new gi(X/255*Le,se/255*Le,ye/255*Le,Le)}function jl(D,P){return D in P}function Kl(D,P){var X=P[D];return typeof X>"u"?null:X}function xh(D,P,X,se){for(;X<=se;){var ye=X+se>>1;if(P[ye]===D)return!0;P[ye]>D?se=ye-1:X=ye+1}return!1}function ll(D){return{type:D}}Eo.register(Mu,{error:[ya,[Sn],function(D,P){var X=P[0];throw new mo(X.evaluate(D))}],typeof:[Sn,[Hn],function(D,P){var X=P[0];return xi(oo(X.evaluate(D)))}],"to-rgba":[Ii(rn,4),[Ln],function(D,P){var X=P[0];return X.evaluate(D).toArray()}],rgb:[Ln,[rn,rn,rn],Hf],rgba:[Ln,[rn,rn,rn,rn],Hf],has:{type:Bn,overloads:[[[Sn],function(D,P){var X=P[0];return jl(X.evaluate(D),D.properties())}],[[Sn,Wn],function(D,P){var X=P[0],se=P[1];return jl(X.evaluate(D),se.evaluate(D))}]]},get:{type:Hn,overloads:[[[Sn],function(D,P){var X=P[0];return Kl(X.evaluate(D),D.properties())}],[[Sn,Wn],function(D,P){var X=P[0],se=P[1];return Kl(X.evaluate(D),se.evaluate(D))}]]},"feature-state":[Hn,[Sn],function(D,P){var X=P[0];return Kl(X.evaluate(D),D.featureState||{})}],properties:[Wn,[],function(D){return D.properties()}],"geometry-type":[Sn,[],function(D){return D.geometryType()}],id:[Hn,[],function(D){return D.id()}],zoom:[rn,[],function(D){return D.globals.zoom}],"heatmap-density":[rn,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[rn,[],function(D){return D.globals.lineProgress||0}],accumulated:[Hn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[rn,ll(rn),function(D,P){for(var X=0,se=0,ye=P;se<ye.length;se+=1){var Ae=ye[se];X+=Ae.evaluate(D)}return X}],"*":[rn,ll(rn),function(D,P){for(var X=1,se=0,ye=P;se<ye.length;se+=1){var Ae=ye[se];X*=Ae.evaluate(D)}return X}],"-":{type:rn,overloads:[[[rn,rn],function(D,P){var X=P[0],se=P[1];return X.evaluate(D)-se.evaluate(D)}],[[rn],function(D,P){var X=P[0];return-X.evaluate(D)}]]},"/":[rn,[rn,rn],function(D,P){var X=P[0],se=P[1];return X.evaluate(D)/se.evaluate(D)}],"%":[rn,[rn,rn],function(D,P){var X=P[0],se=P[1];return X.evaluate(D)%se.evaluate(D)}],ln2:[rn,[],function(){return Math.LN2}],pi:[rn,[],function(){return Math.PI}],e:[rn,[],function(){return Math.E}],"^":[rn,[rn,rn],function(D,P){var X=P[0],se=P[1];return Math.pow(X.evaluate(D),se.evaluate(D))}],sqrt:[rn,[rn],function(D,P){var X=P[0];return Math.sqrt(X.evaluate(D))}],log10:[rn,[rn],function(D,P){var X=P[0];return Math.log(X.evaluate(D))/Math.LN10}],ln:[rn,[rn],function(D,P){var X=P[0];return Math.log(X.evaluate(D))}],log2:[rn,[rn],function(D,P){var X=P[0];return Math.log(X.evaluate(D))/Math.LN2}],sin:[rn,[rn],function(D,P){var X=P[0];return Math.sin(X.evaluate(D))}],cos:[rn,[rn],function(D,P){var X=P[0];return Math.cos(X.evaluate(D))}],tan:[rn,[rn],function(D,P){var X=P[0];return Math.tan(X.evaluate(D))}],asin:[rn,[rn],function(D,P){var X=P[0];return Math.asin(X.evaluate(D))}],acos:[rn,[rn],function(D,P){var X=P[0];return Math.acos(X.evaluate(D))}],atan:[rn,[rn],function(D,P){var X=P[0];return Math.atan(X.evaluate(D))}],min:[rn,ll(rn),function(D,P){return Math.min.apply(Math,P.map(function(X){return X.evaluate(D)}))}],max:[rn,ll(rn),function(D,P){return Math.max.apply(Math,P.map(function(X){return X.evaluate(D)}))}],abs:[rn,[rn],function(D,P){var X=P[0];return Math.abs(X.evaluate(D))}],round:[rn,[rn],function(D,P){var X=P[0],se=X.evaluate(D);return se<0?-Math.round(-se):Math.round(se)}],floor:[rn,[rn],function(D,P){var X=P[0];return Math.floor(X.evaluate(D))}],ceil:[rn,[rn],function(D,P){var X=P[0];return Math.ceil(X.evaluate(D))}],"filter-==":[Bn,[Sn,Hn],function(D,P){var X=P[0],se=P[1];return D.properties()[X.value]===se.value}],"filter-id-==":[Bn,[Hn],function(D,P){var X=P[0];return D.id()===X.value}],"filter-type-==":[Bn,[Sn],function(D,P){var X=P[0];return D.geometryType()===X.value}],"filter-<":[Bn,[Sn,Hn],function(D,P){var X=P[0],se=P[1],ye=D.properties()[X.value],Ae=se.value;return typeof ye==typeof Ae&&ye<Ae}],"filter-id-<":[Bn,[Hn],function(D,P){var X=P[0],se=D.id(),ye=X.value;return typeof se==typeof ye&&se<ye}],"filter->":[Bn,[Sn,Hn],function(D,P){var X=P[0],se=P[1],ye=D.properties()[X.value],Ae=se.value;return typeof ye==typeof Ae&&ye>Ae}],"filter-id->":[Bn,[Hn],function(D,P){var X=P[0],se=D.id(),ye=X.value;return typeof se==typeof ye&&se>ye}],"filter-<=":[Bn,[Sn,Hn],function(D,P){var X=P[0],se=P[1],ye=D.properties()[X.value],Ae=se.value;return typeof ye==typeof Ae&&ye<=Ae}],"filter-id-<=":[Bn,[Hn],function(D,P){var X=P[0],se=D.id(),ye=X.value;return typeof se==typeof ye&&se<=ye}],"filter->=":[Bn,[Sn,Hn],function(D,P){var X=P[0],se=P[1],ye=D.properties()[X.value],Ae=se.value;return typeof ye==typeof Ae&&ye>=Ae}],"filter-id->=":[Bn,[Hn],function(D,P){var X=P[0],se=D.id(),ye=X.value;return typeof se==typeof ye&&se>=ye}],"filter-has":[Bn,[Hn],function(D,P){var X=P[0];return X.value in D.properties()}],"filter-has-id":[Bn,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[Bn,[Ii(Sn)],function(D,P){var X=P[0];return X.value.indexOf(D.geometryType())>=0}],"filter-id-in":[Bn,[Ii(Hn)],function(D,P){var X=P[0];return X.value.indexOf(D.id())>=0}],"filter-in-small":[Bn,[Sn,Ii(Hn)],function(D,P){var X=P[0],se=P[1];return se.value.indexOf(D.properties()[X.value])>=0}],"filter-in-large":[Bn,[Sn,Ii(Hn)],function(D,P){var X=P[0],se=P[1];return xh(D.properties()[X.value],se.value,0,se.value.length-1)}],all:{type:Bn,overloads:[[[Bn,Bn],function(D,P){var X=P[0],se=P[1];return X.evaluate(D)&&se.evaluate(D)}],[ll(Bn),function(D,P){for(var X=0,se=P;X<se.length;X+=1){var ye=se[X];if(!ye.evaluate(D))return!1}return!0}]]},any:{type:Bn,overloads:[[[Bn,Bn],function(D,P){var X=P[0],se=P[1];return X.evaluate(D)||se.evaluate(D)}],[ll(Bn),function(D,P){for(var X=0,se=P;X<se.length;X+=1){var ye=se[X];if(ye.evaluate(D))return!0}return!1}]]},"!":[Bn,[Bn],function(D,P){var X=P[0];return!X.evaluate(D)}],"is-supported-script":[Bn,[Sn],function(D,P){var X=P[0],se=D.globals&&D.globals.isSupportedScript;return se?se(X.evaluate(D)):!0}],upcase:[Sn,[Sn],function(D,P){var X=P[0];return X.evaluate(D).toUpperCase()}],downcase:[Sn,[Sn],function(D,P){var X=P[0];return X.evaluate(D).toLowerCase()}],concat:[Sn,ll(Hn),function(D,P){return P.map(function(X){return du(X.evaluate(D))}).join("")}],"resolved-locale":[Sn,[ca],function(D,P){var X=P[0];return X.evaluate(D).resolvedLocale()}]});function Eu(D){return{result:"success",value:D}}function _l(D){return{result:"error",value:D}}function ul(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function Qu(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function _u(D){return!!D.expression&&D.expression.interpolated}function Di(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function Cu(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function Yf(D){return D}function bh(D,P){var X=P.type==="color",se=D.stops&&typeof D.stops[0][0]=="object",ye=se||D.property!==void 0,Ae=se||!ye,Le=D.type||(_u(P)?"exponential":"interval");if(X&&(D=kn({},D),D.stops&&(D.stops=D.stops.map(function(aa){return[aa[0],gi.parse(aa[1])]})),D.default?D.default=gi.parse(D.default):D.default=gi.parse(P.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!Vf[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var Qe,dt,St;if(Le==="exponential")Qe=_c;else if(Le==="interval")Qe=Wf;else if(Le==="categorical"){Qe=$u,dt=Object.create(null);for(var Lt=0,Xt=D.stops;Lt<Xt.length;Lt+=1){var ar=Xt[Lt];dt[ar[0]]=ar[1]}St=typeof D.stops[0][0]}else if(Le==="identity")Qe=qu;else throw new Error('Unknown function type "'+Le+'"');if(se){for(var er={},Tr=[],Vr=0;Vr<D.stops.length;Vr++){var dn=D.stops[Vr],sn=dn[0].zoom;er[sn]===void 0&&(er[sn]={zoom:sn,type:D.type,property:D.property,default:D.default,stops:[]},Tr.push(sn)),er[sn].stops.push([dn[0].value,dn[1]])}for(var Pn=[],bn=0,Dn=Tr;bn<Dn.length;bn+=1){var zn=Dn[bn];Pn.push([er[zn].zoom,bh(er[zn],P)])}var Kn={name:"linear"};return{kind:"composite",interpolationType:Kn,interpolationFactor:so.interpolationFactor.bind(void 0,Kn),zoomStops:Pn.map(function(aa){return aa[0]}),evaluate:function(Ea,xa){var Sa=Ea.zoom;return _c({stops:Pn,base:D.base},P,Sa).evaluate(Sa,xa)}}}else if(Ae){var la=Le==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:la,interpolationFactor:so.interpolationFactor.bind(void 0,la),zoomStops:D.stops.map(function(aa){return aa[0]}),evaluate:function(aa){var Ea=aa.zoom;return Qe(D,P,Ea,dt,St)}}}else return{kind:"source",evaluate:function(Ea,xa){var Sa=xa&&xa.properties?xa.properties[D.property]:void 0;return Sa===void 0?Lu(D.default,P.default):Qe(D,P,Sa,dt,St)}}}function Lu(D,P,X){if(D!==void 0)return D;if(P!==void 0)return P;if(X!==void 0)return X}function $u(D,P,X,se,ye){var Ae=typeof X===ye?se[X]:void 0;return Lu(Ae,D.default,P.default)}function Wf(D,P,X){if(Di(X)!=="number")return Lu(D.default,P.default);var se=D.stops.length;if(se===1||X<=D.stops[0][0])return D.stops[0][1];if(X>=D.stops[se-1][0])return D.stops[se-1][1];var ye=mu(D.stops.map(function(Ae){return Ae[0]}),X);return D.stops[ye][1]}function _c(D,P,X){var se=D.base!==void 0?D.base:1;if(Di(X)!=="number")return Lu(D.default,P.default);var ye=D.stops.length;if(ye===1||X<=D.stops[0][0])return D.stops[0][1];if(X>=D.stops[ye-1][0])return D.stops[ye-1][1];var Ae=mu(D.stops.map(function(Xt){return Xt[0]}),X),Le=ef(X,se,D.stops[Ae][0],D.stops[Ae+1][0]),Qe=D.stops[Ae][1],dt=D.stops[Ae+1][1],St=Nf[P.type]||Yf;if(D.colorSpace&&D.colorSpace!=="rgb"){var Lt=Vf[D.colorSpace];St=function(Xt,ar){return Lt.reverse(Lt.interpolate(Lt.forward(Xt),Lt.forward(ar),Le))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var ar=[],er=arguments.length;er--;)ar[er]=arguments[er];var Tr=Qe.evaluate.apply(void 0,ar),Vr=dt.evaluate.apply(void 0,ar);if(!(Tr===void 0||Vr===void 0))return St(Tr,Vr,Le)}}:St(Qe,dt,Le)}function qu(D,P,X){return P.type==="color"?X=gi.parse(X):P.type==="formatted"?X=Mo.fromString(X.toString()):P.type==="resolvedImage"?X=Jo.fromString(X.toString()):Di(X)!==P.type&&(P.type!=="enum"||!P.values[X])&&(X=void 0),Lu(X,D.default,P.default)}function ef(D,P,X,se){var ye=se-X,Ae=D-X;return ye===0?0:P===1?Ae/ye:(Math.pow(P,Ae)-1)/(Math.pow(P,ye)-1)}var Cl=function(P,X){this.expression=P,this._warningHistory={},this._evaluator=new Ws,this._defaultValue=X?wh(X):null,this._enumValues=X&&X.type==="enum"?X.values:null};Cl.prototype.evaluateWithoutErrorHandling=function(P,X,se,ye,Ae,Le){return this._evaluator.globals=P,this._evaluator.feature=X,this._evaluator.featureState=se,this._evaluator.canonical=ye,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Le,this.expression.evaluate(this._evaluator)},Cl.prototype.evaluate=function(P,X,se,ye,Ae,Le){this._evaluator.globals=P,this._evaluator.feature=X||null,this._evaluator.featureState=se||null,this._evaluator.canonical=ye,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Le||null;try{var Qe=this.expression.evaluate(this._evaluator);if(Qe==null||typeof Qe=="number"&&Qe!==Qe)return this._defaultValue;if(this._enumValues&&!(Qe in this._enumValues))throw new mo("Expected value to be one of "+Object.keys(this._enumValues).map(function(dt){return JSON.stringify(dt)}).join(", ")+", but found "+JSON.stringify(Qe)+" instead.");return Qe}catch(dt){return this._warningHistory[dt.message]||(this._warningHistory[dt.message]=!0,typeof console<"u"&&console.warn(dt.message)),this._defaultValue}};function tf(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in Mu}function Ll(D,P){var X=new Xs(Mu,[],P?Av(P):void 0),se=X.parse(D,void 0,void 0,void 0,P&&P.type==="string"?{typeAnnotation:"coerce"}:void 0);return se?Eu(new Cl(se,P)):_l(X.errors)}var xo=function(P,X){this.kind=P,this._styleExpression=X,this.isStateDependent=P!=="constant"&&!Gl(X.expression)};xo.prototype.evaluateWithoutErrorHandling=function(P,X,se,ye,Ae,Le){return this._styleExpression.evaluateWithoutErrorHandling(P,X,se,ye,Ae,Le)},xo.prototype.evaluate=function(P,X,se,ye,Ae,Le){return this._styleExpression.evaluate(P,X,se,ye,Ae,Le)};var Zs=function(P,X,se,ye){this.kind=P,this.zoomStops=se,this._styleExpression=X,this.isStateDependent=P!=="camera"&&!Gl(X.expression),this.interpolationType=ye};Zs.prototype.evaluateWithoutErrorHandling=function(P,X,se,ye,Ae,Le){return this._styleExpression.evaluateWithoutErrorHandling(P,X,se,ye,Ae,Le)},Zs.prototype.evaluate=function(P,X,se,ye,Ae,Le){return this._styleExpression.evaluate(P,X,se,ye,Ae,Le)},Zs.prototype.interpolationFactor=function(P,X,se){return this.interpolationType?so.interpolationFactor(this.interpolationType,P,X,se):0};function Cc(D,P){if(D=Ll(D,P),D.result==="error")return D;var X=D.value.expression,se=yu(X);if(!se&&!ul(P))return _l([new Cr("","data expressions not supported")]);var ye=Xu(X,["zoom"]);if(!ye&&!Qu(P))return _l([new Cr("","zoom expressions not supported")]);var Ae=rf(X);if(!Ae&&!ye)return _l([new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Ae instanceof Cr)return _l([Ae]);if(Ae instanceof so&&!_u(P))return _l([new Cr("",'"interpolate" expressions cannot be used with this property')]);if(!Ae)return Eu(se?new xo("constant",D.value):new xo("source",D.value));var Le=Ae instanceof so?Ae.interpolation:void 0;return Eu(se?new Zs("camera",D.value,Ae.labels,Le):new Zs("composite",D.value,Ae.labels,Le))}var Jl=function(P,X){this._parameters=P,this._specification=X,kn(this,bh(this._parameters,this._specification))};Jl.deserialize=function(P){return new Jl(P._parameters,P._specification)},Jl.serialize=function(P){return{_parameters:P._parameters,_specification:P._specification}};function Gf(D,P){if(Cu(D))return new Jl(D,P);if(tf(D)){var X=Cc(D,P);if(X.result==="error")throw new Error(X.value.map(function(ye){return ye.key+": "+ye.message}).join(", "));return X.value}else{var se=D;return typeof D=="string"&&P.type==="color"&&(se=gi.parse(D)),{kind:"constant",evaluate:function(){return se}}}}function rf(D){var P=null;if(D instanceof il)P=rf(D.result);else if(D instanceof Ds)for(var X=0,se=D.args;X<se.length;X+=1){var ye=se[X];if(P=rf(ye),P)break}else(D instanceof Cs||D instanceof so)&&D.input instanceof Eo&&D.input.name==="zoom"&&(P=D);return P instanceof Cr||D.eachChild(function(Ae){var Le=rf(Ae);Le instanceof Cr?P=Le:!P&&Le?P=new Cr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):P&&Le&&P!==Le&&(P=new Cr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),P}function Av(D){var P={color:Ln,string:Sn,number:rn,enum:Sn,boolean:Bn,formatted:ba,resolvedImage:Ia};return D.type==="array"?Ii(P[D.value]||Hn,D.length):P[D.type]}function wh(D){return D.type==="color"&&Cu(D.default)?new gi(0,0,0,0):D.type==="color"?gi.parse(D.default)||null:D.default===void 0?null:D.default}function Go(D){var P=D.key,X=D.value,se=D.valueSpec||{},ye=D.objectElementValidators||{},Ae=D.style,Le=D.styleSpec,Qe=[],dt=Di(X);if(dt!=="object")return[new Ur(P,X,"object expected, "+dt+" found")];for(var St in X){var Lt=St.split(".")[0],Xt=se[Lt]||se["*"],ar=void 0;if(ye[Lt])ar=ye[Lt];else if(se[Lt])ar=Or;else if(ye["*"])ar=ye["*"];else if(se["*"])ar=Or;else{Qe.push(new Ur(P,X[St],'unknown property "'+St+'"'));continue}Qe=Qe.concat(ar({key:(P&&P+".")+St,value:X[St],valueSpec:Xt,style:Ae,styleSpec:Le,object:X,objectKey:St},X))}for(var er in se)ye[er]||se[er].required&&se[er].default===void 0&&X[er]===void 0&&Qe.push(new Ur(P,X,'missing required property "'+er+'"'));return Qe}function nf(D){var P=D.value,X=D.valueSpec,se=D.style,ye=D.styleSpec,Ae=D.key,Le=D.arrayElementValidator||Or;if(Di(P)!=="array")return[new Ur(Ae,P,"array expected, "+Di(P)+" found")];if(X.length&&P.length!==X.length)return[new Ur(Ae,P,"array length "+X.length+" expected, length "+P.length+" found")];if(X["min-length"]&&P.length<X["min-length"])return[new Ur(Ae,P,"array length at least "+X["min-length"]+" expected, length "+P.length+" found")];var Qe={type:X.value,values:X.values};ye.$version<7&&(Qe.function=X.function),Di(X.value)==="object"&&(Qe=X.value);for(var dt=[],St=0;St<P.length;St++)dt=dt.concat(Le({array:P,arrayIndex:St,value:P[St],valueSpec:Qe,style:se,styleSpec:ye,key:Ae+"["+St+"]"}));return dt}function Du(D){var P=D.key,X=D.value,se=D.valueSpec,ye=Di(X);return ye==="number"&&X!==X&&(ye="NaN"),ye!=="number"?[new Ur(P,X,"number expected, "+ye+" found")]:"minimum"in se&&X<se.minimum?[new Ur(P,X,X+" is less than the minimum value "+se.minimum)]:"maximum"in se&&X>se.maximum?[new Ur(P,X,X+" is greater than the maximum value "+se.maximum)]:[]}function Th(D){var P=D.valueSpec,X=xn(D.value.type),se,ye={},Ae,Le,Qe=X!=="categorical"&&D.value.property===void 0,dt=!Qe,St=Di(D.value.stops)==="array"&&Di(D.value.stops[0])==="array"&&Di(D.value.stops[0][0])==="object",Lt=Go({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Xt,default:Tr}});return X==="identity"&&Qe&&Lt.push(new Ur(D.key,D.value,'missing required property "property"')),X!=="identity"&&!D.value.stops&&Lt.push(new Ur(D.key,D.value,'missing required property "stops"')),X==="exponential"&&D.valueSpec.expression&&!_u(D.valueSpec)&&Lt.push(new Ur(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(dt&&!ul(D.valueSpec)?Lt.push(new Ur(D.key,D.value,"property functions not supported")):Qe&&!Qu(D.valueSpec)&&Lt.push(new Ur(D.key,D.value,"zoom functions not supported"))),(X==="categorical"||St)&&D.value.property===void 0&&Lt.push(new Ur(D.key,D.value,'"property" property is required')),Lt;function Xt(Vr){if(X==="identity")return[new Ur(Vr.key,Vr.value,'identity function may not have a "stops" property')];var dn=[],sn=Vr.value;return dn=dn.concat(nf({key:Vr.key,value:sn,valueSpec:Vr.valueSpec,style:Vr.style,styleSpec:Vr.styleSpec,arrayElementValidator:ar})),Di(sn)==="array"&&sn.length===0&&dn.push(new Ur(Vr.key,sn,"array must have at least one stop")),dn}function ar(Vr){var dn=[],sn=Vr.value,Pn=Vr.key;if(Di(sn)!=="array")return[new Ur(Pn,sn,"array expected, "+Di(sn)+" found")];if(sn.length!==2)return[new Ur(Pn,sn,"array length 2 expected, length "+sn.length+" found")];if(St){if(Di(sn[0])!=="object")return[new Ur(Pn,sn,"object expected, "+Di(sn[0])+" found")];if(sn[0].zoom===void 0)return[new Ur(Pn,sn,"object stop key must have zoom")];if(sn[0].value===void 0)return[new Ur(Pn,sn,"object stop key must have value")];if(Le&&Le>xn(sn[0].zoom))return[new Ur(Pn,sn[0].zoom,"stop zoom values must appear in ascending order")];xn(sn[0].zoom)!==Le&&(Le=xn(sn[0].zoom),Ae=void 0,ye={}),dn=dn.concat(Go({key:Pn+"[0]",value:sn[0],valueSpec:{zoom:{}},style:Vr.style,styleSpec:Vr.styleSpec,objectElementValidators:{zoom:Du,value:er}}))}else dn=dn.concat(er({key:Pn+"[0]",value:sn[0],valueSpec:{},style:Vr.style,styleSpec:Vr.styleSpec},sn));return tf(hn(sn[1]))?dn.concat([new Ur(Pn+"[1]",sn[1],"expressions are not allowed in function stops.")]):dn.concat(Or({key:Pn+"[1]",value:sn[1],valueSpec:P,style:Vr.style,styleSpec:Vr.styleSpec}))}function er(Vr,dn){var sn=Di(Vr.value),Pn=xn(Vr.value),bn=Vr.value!==null?Vr.value:dn;if(!se)se=sn;else if(sn!==se)return[new Ur(Vr.key,bn,sn+" stop domain type must match previous stop domain type "+se)];if(sn!=="number"&&sn!=="string"&&sn!=="boolean")return[new Ur(Vr.key,bn,"stop domain value must be a number, string, or boolean")];if(sn!=="number"&&X!=="categorical"){var Dn="number expected, "+sn+" found";return ul(P)&&X===void 0&&(Dn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ur(Vr.key,bn,Dn)]}return X==="categorical"&&sn==="number"&&(!isFinite(Pn)||Math.floor(Pn)!==Pn)?[new Ur(Vr.key,bn,"integer expected, found "+Pn)]:X!=="categorical"&&sn==="number"&&Ae!==void 0&&Pn<Ae?[new Ur(Vr.key,bn,"stop domain values must appear in ascending order")]:(Ae=Pn,X==="categorical"&&Pn in ye?[new Ur(Vr.key,bn,"stop domain values must be unique")]:(ye[Pn]=!0,[]))}function Tr(Vr){return Or({key:Vr.key,value:Vr.value,valueSpec:P,style:Vr.style,styleSpec:Vr.styleSpec})}}function Dl(D){var P=(D.expressionContext==="property"?Cc:Ll)(hn(D.value),D.valueSpec);if(P.result==="error")return P.value.map(function(se){return new Ur(""+D.key+se.key,D.value,se.message)});var X=P.value.expression||P.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!X.outputDefined())return[new Ur(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!Gl(X))return[new Ur(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!Gl(X))return[new Ur(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!Xu(X,["zoom","feature-state"]))return[new Ur(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!yu(X))return[new Ur(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Sv(D){var P=D.value,X=D.key,se=Di(P);return se!=="boolean"?[new Ur(X,P,"boolean expected, "+se+" found")]:[]}function os(D){var P=D.key,X=D.value,se=Di(X);return se!=="string"?[new Ur(P,X,"color expected, "+se+" found")]:nh(X)===null?[new Ur(P,X,'color expected, "'+X+'" found')]:[]}function af(D){var P=D.key,X=D.value,se=D.valueSpec,ye=[];return Array.isArray(se.values)?se.values.indexOf(xn(X))===-1&&ye.push(new Ur(P,X,"expected one of ["+se.values.join(", ")+"], "+JSON.stringify(X)+" found")):Object.keys(se.values).indexOf(xn(X))===-1&&ye.push(new Ur(P,X,"expected one of ["+Object.keys(se.values).join(", ")+"], "+JSON.stringify(X)+" found")),ye}function Xf(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var P=0,X=D.slice(1);P<X.length;P+=1){var se=X[P];if(!Xf(se)&&typeof se!="boolean")return!1}return!0;default:return!0}}var fl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Pl(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};Xf(D)||(D=sf(D));var P=Ll(D,fl);if(P.result==="error")throw new Error(P.value.map(function(se){return se.key+": "+se.message}).join(", "));var X=of(D);return{filter:function(se,ye,Ae){return P.value.evaluate(se,ye,{},Ae)},needGeometry:X}}function Lc(D,P){return D<P?-1:D>P?1:0}function of(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var P=1;P<D.length;P++)if(of(D[P]))return!0;return!1}function sf(D){if(!D)return!0;var P=D[0];if(D.length<=1)return P!=="any";var X=P==="=="?Zf(D[1],D[2],"=="):P==="!="?Ql(Zf(D[1],D[2],"==")):P==="<"||P===">"||P==="<="||P===">="?Zf(D[1],D[2],P):P==="any"?Ah(D.slice(1)):P==="all"?["all"].concat(D.slice(1).map(sf)):P==="none"?["all"].concat(D.slice(1).map(sf).map(Ql)):P==="in"?lf(D[1],D.slice(2)):P==="!in"?Ql(lf(D[1],D.slice(2))):P==="has"?Dc(D[1]):P==="!has"?Ql(Dc(D[1])):P==="within"?D:!0;return X}function Zf(D,P,X){switch(D){case"$type":return["filter-type-"+X,P];case"$id":return["filter-id-"+X,P];default:return["filter-"+X,D,P]}}function Ah(D){return["any"].concat(D.map(sf))}function lf(D,P){if(P.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",P]];case"$id":return["filter-id-in",["literal",P]];default:return P.length>200&&!P.some(function(X){return typeof X!=typeof P[0]})?["filter-in-large",D,["literal",P.sort(Lc)]]:["filter-in-small",D,["literal",P]]}}function Dc(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function Ql(D){return["!",D]}function Pc(D){return Xf(hn(D.value))?Dl(kn({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):uf(D)}function uf(D){var P=D.value,X=D.key;if(Di(P)!=="array")return[new Ur(X,P,"array expected, "+Di(P)+" found")];var se=D.styleSpec,ye,Ae=[];if(P.length<1)return[new Ur(X,P,"filter array must have at least 1 element")];switch(Ae=Ae.concat(af({key:X+"[0]",value:P[0],valueSpec:se.filter_operator,style:D.style,styleSpec:D.styleSpec})),xn(P[0])){case"<":case"<=":case">":case">=":P.length>=2&&xn(P[1])==="$type"&&Ae.push(new Ur(X,P,'"$type" cannot be use with operator "'+P[0]+'"'));case"==":case"!=":P.length!==3&&Ae.push(new Ur(X,P,'filter array for operator "'+P[0]+'" must have 3 elements'));case"in":case"!in":P.length>=2&&(ye=Di(P[1]),ye!=="string"&&Ae.push(new Ur(X+"[1]",P[1],"string expected, "+ye+" found")));for(var Le=2;Le<P.length;Le++)ye=Di(P[Le]),xn(P[1])==="$type"?Ae=Ae.concat(af({key:X+"["+Le+"]",value:P[Le],valueSpec:se.geometry_type,style:D.style,styleSpec:D.styleSpec})):ye!=="string"&&ye!=="number"&&ye!=="boolean"&&Ae.push(new Ur(X+"["+Le+"]",P[Le],"string, number, or boolean expected, "+ye+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<P.length;Qe++)Ae=Ae.concat(uf({key:X+"["+Qe+"]",value:P[Qe],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":ye=Di(P[1]),P.length!==2?Ae.push(new Ur(X,P,'filter array for "'+P[0]+'" operator must have 2 elements')):ye!=="string"&&Ae.push(new Ur(X+"[1]",P[1],"string expected, "+ye+" found"));break;case"within":ye=Di(P[1]),P.length!==2?Ae.push(new Ur(X,P,'filter array for "'+P[0]+'" operator must have 2 elements')):ye!=="object"&&Ae.push(new Ur(X+"[1]",P[1],"object expected, "+ye+" found"));break}return Ae}function Sh(D,P){var X=D.key,se=D.style,ye=D.styleSpec,Ae=D.value,Le=D.objectKey,Qe=ye[P+"_"+D.layerType];if(!Qe)return[];var dt=Le.match(/^(.*)-transition$/);if(P==="paint"&&dt&&Qe[dt[1]]&&Qe[dt[1]].transition)return Or({key:X,value:Ae,valueSpec:ye.transition,style:se,styleSpec:ye});var St=D.valueSpec||Qe[Le];if(!St)return[new Ur(X,Ae,'unknown property "'+Le+'"')];var Lt;if(Di(Ae)==="string"&&ul(St)&&!St.tokens&&(Lt=/^{([^}]+)}$/.exec(Ae)))return[new Ur(X,Ae,'"'+Le+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Lt[1])+" }`.")];var Xt=[];return D.layerType==="symbol"&&(Le==="text-field"&&se&&!se.glyphs&&Xt.push(new Ur(X,Ae,'use of "text-field" requires a style "glyphs" property')),Le==="text-font"&&Cu(hn(Ae))&&xn(Ae.type)==="identity"&&Xt.push(new Ur(X,Ae,'"text-font" does not support identity functions'))),Xt.concat(Or({key:D.key,value:Ae,valueSpec:St,style:se,styleSpec:ye,expressionContext:"property",propertyType:P,propertyKey:Le}))}function Je(D){return Sh(D,"paint")}function it(D){return Sh(D,"layout")}function yt(D){var P=[],X=D.value,se=D.key,ye=D.style,Ae=D.styleSpec;!X.type&&!X.ref&&P.push(new Ur(se,X,'either "type" or "ref" is required'));var Le=xn(X.type),Qe=xn(X.ref);if(X.id)for(var dt=xn(X.id),St=0;St<D.arrayIndex;St++){var Lt=ye.layers[St];xn(Lt.id)===dt&&P.push(new Ur(se,X.id,'duplicate layer id "'+X.id+'", previously used at line '+Lt.id.__line__))}if("ref"in X){["type","source","source-layer","filter","layout"].forEach(function(Tr){Tr in X&&P.push(new Ur(se,X[Tr],'"'+Tr+'" is prohibited for ref layers'))});var Xt;ye.layers.forEach(function(Tr){xn(Tr.id)===Qe&&(Xt=Tr)}),Xt?Xt.ref?P.push(new Ur(se,X.ref,"ref cannot reference another ref layer")):Le=xn(Xt.type):P.push(new Ur(se,X.ref,'ref layer "'+Qe+'" not found'))}else if(Le!=="background")if(!X.source)P.push(new Ur(se,X,'missing required property "source"'));else{var ar=ye.sources&&ye.sources[X.source],er=ar&&xn(ar.type);ar?er==="vector"&&Le==="raster"?P.push(new Ur(se,X.source,'layer "'+X.id+'" requires a raster source')):er==="raster"&&Le!=="raster"?P.push(new Ur(se,X.source,'layer "'+X.id+'" requires a vector source')):er==="vector"&&!X["source-layer"]?P.push(new Ur(se,X,'layer "'+X.id+'" must specify a "source-layer"')):er==="raster-dem"&&Le!=="hillshade"?P.push(new Ur(se,X.source,"raster-dem source can only be used with layer type 'hillshade'.")):Le==="line"&&X.paint&&X.paint["line-gradient"]&&(er!=="geojson"||!ar.lineMetrics)&&P.push(new Ur(se,X,'layer "'+X.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):P.push(new Ur(se,X.source,'source "'+X.source+'" not found'))}return P=P.concat(Go({key:se,value:X,valueSpec:Ae.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Or({key:se+".type",value:X.type,valueSpec:Ae.layer.type,style:D.style,styleSpec:D.styleSpec,object:X,objectKey:"type"})},filter:Pc,layout:function(Vr){return Go({layer:X,key:Vr.key,value:Vr.value,style:Vr.style,styleSpec:Vr.styleSpec,objectElementValidators:{"*":function(sn){return it(kn({layerType:Le},sn))}}})},paint:function(Vr){return Go({layer:X,key:Vr.key,value:Vr.value,style:Vr.style,styleSpec:Vr.styleSpec,objectElementValidators:{"*":function(sn){return Je(kn({layerType:Le},sn))}}})}}})),P}function xt(D){var P=D.value,X=D.key,se=Di(P);return se!=="string"?[new Ur(X,P,"string expected, "+se+" found")]:[]}var Ot={promoteId:Ft};function It(D){var P=D.value,X=D.key,se=D.styleSpec,ye=D.style;if(!P.type)return[new Ur(X,P,'"type" is required')];var Ae=xn(P.type),Le;switch(Ae){case"vector":case"raster":case"raster-dem":return Le=Go({key:X,value:P,valueSpec:se["source_"+Ae.replace("-","_")],style:D.style,styleSpec:se,objectElementValidators:Ot}),Le;case"geojson":if(Le=Go({key:X,value:P,valueSpec:se.source_geojson,style:ye,styleSpec:se,objectElementValidators:Ot}),P.cluster)for(var Qe in P.clusterProperties){var dt=P.clusterProperties[Qe],St=dt[0],Lt=dt[1],Xt=typeof St=="string"?[St,["accumulated"],["get",Qe]]:St;Le.push.apply(Le,Dl({key:X+"."+Qe+".map",value:Lt,expressionContext:"cluster-map"})),Le.push.apply(Le,Dl({key:X+"."+Qe+".reduce",value:Xt,expressionContext:"cluster-reduce"}))}return Le;case"video":return Go({key:X,value:P,valueSpec:se.source_video,style:ye,styleSpec:se});case"image":return Go({key:X,value:P,valueSpec:se.source_image,style:ye,styleSpec:se});case"canvas":return[new Ur(X,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return af({key:X+".type",value:P.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:ye,styleSpec:se})}}function Ft(D){var P=D.key,X=D.value;if(Di(X)==="string")return xt({key:P,value:X});var se=[];for(var ye in X)se.push.apply(se,xt({key:P+"."+ye,value:X[ye]}));return se}function yr(D){var P=D.value,X=D.styleSpec,se=X.light,ye=D.style,Ae=[],Le=Di(P);if(P===void 0)return Ae;if(Le!=="object")return Ae=Ae.concat([new Ur("light",P,"object expected, "+Le+" found")]),Ae;for(var Qe in P){var dt=Qe.match(/^(.*)-transition$/);dt&&se[dt[1]]&&se[dt[1]].transition?Ae=Ae.concat(Or({key:Qe,value:P[Qe],valueSpec:X.transition,style:ye,styleSpec:X})):se[Qe]?Ae=Ae.concat(Or({key:Qe,value:P[Qe],valueSpec:se[Qe],style:ye,styleSpec:X})):Ae=Ae.concat([new Ur(Qe,P[Qe],'unknown property "'+Qe+'"')])}return Ae}function Ar(D){return xt(D).length===0?[]:Dl(D)}function ir(D){return xt(D).length===0?[]:Dl(D)}var Er={"*":function(){return[]},array:nf,boolean:Sv,number:Du,color:os,constants:wn,enum:af,filter:Pc,function:Th,layer:yt,object:Go,source:It,light:yr,string:xt,formatted:Ar,resolvedImage:ir};function Or(D){var P=D.value,X=D.valueSpec,se=D.styleSpec;if(X.expression&&Cu(xn(P)))return Th(D);if(X.expression&&tf(hn(P)))return Dl(D);if(X.type&&Er[X.type])return Er[X.type](D);var ye=Go(kn({},D,{valueSpec:X.type?se[X.type]:X}));return ye}function Hr(D){var P=D.value,X=D.key,se=xt(D);return se.length||(P.indexOf("{fontstack}")===-1&&se.push(new Ur(X,P,'"glyphs" url must include a "{fontstack}" token')),P.indexOf("{range}")===-1&&se.push(new Ur(X,P,'"glyphs" url must include a "{range}" token'))),se}function un(D,P){P===void 0&&(P=Mr);var X=[];return X=X.concat(Or({key:"",value:D,valueSpec:P.$root,styleSpec:P,style:D,objectElementValidators:{glyphs:Hr,"*":function(){return[]}}})),D.constants&&(X=X.concat(wn({key:"constants",value:D.constants,style:D,styleSpec:P}))),Tn(X)}un.source=On(It),un.light=On(yr),un.layer=On(yt),un.filter=On(Pc),un.paintProperty=On(Je),un.layoutProperty=On(it);function Tn(D){return[].concat(D).sort(function(P,X){return P.line-X.line})}function On(D){return function(){for(var P=[],X=arguments.length;X--;)P[X]=arguments[X];return Tn(D.apply(this,P))}}var Nn=un,$n=Nn.light,Oa=Nn.paintProperty,ka=Nn.layoutProperty;function za(D,P){var X=!1;if(P&&P.length)for(var se=0,ye=P;se<ye.length;se+=1){var Ae=ye[se];D.fire(new zt(new Error(Ae.message))),X=!0}return X}var Ha=Pi,si=3;function Pi(D,P,X){var se=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var ye=new Int32Array(this.arrayBuffer);D=ye[0],P=ye[1],X=ye[2],this.d=P+2*X;for(var Ae=0;Ae<this.d*this.d;Ae++){var Le=ye[si+Ae],Qe=ye[si+Ae+1];se.push(Le===Qe?null:ye.subarray(Le,Qe))}var dt=ye[si+se.length],St=ye[si+se.length+1];this.keys=ye.subarray(dt,St),this.bboxes=ye.subarray(St),this.insert=this._insertReadonly}else{this.d=P+2*X;for(var Lt=0;Lt<this.d*this.d;Lt++)se.push([]);this.keys=[],this.bboxes=[]}this.n=P,this.extent=D,this.padding=X,this.scale=P/D,this.uid=0;var Xt=X/P*D;this.min=-Xt,this.max=D+Xt}Pi.prototype.insert=function(D,P,X,se,ye){this._forEachCell(P,X,se,ye,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(P),this.bboxes.push(X),this.bboxes.push(se),this.bboxes.push(ye)},Pi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Pi.prototype._insertCell=function(D,P,X,se,ye,Ae){this.cells[ye].push(Ae)},Pi.prototype.query=function(D,P,X,se,ye){var Ae=this.min,Le=this.max;if(D<=Ae&&P<=Ae&&Le<=X&&Le<=se&&!ye)return Array.prototype.slice.call(this.keys);var Qe=[],dt={};return this._forEachCell(D,P,X,se,this._queryCell,Qe,dt,ye),Qe},Pi.prototype._queryCell=function(D,P,X,se,ye,Ae,Le,Qe){var dt=this.cells[ye];if(dt!==null)for(var St=this.keys,Lt=this.bboxes,Xt=0;Xt<dt.length;Xt++){var ar=dt[Xt];if(Le[ar]===void 0){var er=ar*4;(Qe?Qe(Lt[er+0],Lt[er+1],Lt[er+2],Lt[er+3]):D<=Lt[er+2]&&P<=Lt[er+3]&&X>=Lt[er+0]&&se>=Lt[er+1])?(Le[ar]=!0,Ae.push(St[ar])):Le[ar]=!1}}},Pi.prototype._forEachCell=function(D,P,X,se,ye,Ae,Le,Qe){for(var dt=this._convertToCellCoord(D),St=this._convertToCellCoord(P),Lt=this._convertToCellCoord(X),Xt=this._convertToCellCoord(se),ar=dt;ar<=Lt;ar++)for(var er=St;er<=Xt;er++){var Tr=this.d*er+ar;if(!(Qe&&!Qe(this._convertFromCellCoord(ar),this._convertFromCellCoord(er),this._convertFromCellCoord(ar+1),this._convertFromCellCoord(er+1)))&&ye.call(this,D,P,X,se,Tr,Ae,Le,Qe))return}},Pi.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},Pi.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},Pi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,P=si+this.cells.length+1+1,X=0,se=0;se<this.cells.length;se++)X+=this.cells[se].length;var ye=new Int32Array(P+X+this.keys.length+this.bboxes.length);ye[0]=this.extent,ye[1]=this.n,ye[2]=this.padding;for(var Ae=P,Le=0;Le<D.length;Le++){var Qe=D[Le];ye[si+Le]=Ae,ye.set(Qe,Ae),Ae+=Qe.length}return ye[si+D.length]=Ae,ye.set(this.keys,Ae),Ae+=this.keys.length,ye[si+D.length+1]=Ae,ye.set(this.bboxes,Ae),Ae+=this.bboxes.length,ye.buffer};var lo=a.ImageData,ve=a.ImageBitmap,Ee={};function Ve(D,P,X){X===void 0&&(X={}),Object.defineProperty(P,"_classRegistryKey",{value:D,writeable:!1}),Ee[D]={klass:P,omit:X.omit||[],shallow:X.shallow||[]}}Ve("Object",Object),Ha.serialize=function(P,X){var se=P.toArrayBuffer();return X&&X.push(se),{buffer:se}},Ha.deserialize=function(P){return new Ha(P.buffer)},Ve("Grid",Ha),Ve("Color",gi),Ve("Error",Error),Ve("ResolvedImage",Jo),Ve("StylePropertyFunction",Jl),Ve("StyleExpression",Cl,{omit:["_evaluator"]}),Ve("ZoomDependentExpression",Zs),Ve("ZoomConstantExpression",xo),Ve("CompoundExpression",Eo,{omit:["_evaluate"]});for(var tt in Mu)Mu[tt]._classRegistryKey||Ve("Expression_"+tt,Mu[tt]);function at(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function ct(D){return ve&&D instanceof ve}function Ct(D,P){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(at(D)||ct(D))return P&&P.push(D),D;if(ArrayBuffer.isView(D)){var X=D;return P&&P.push(X.buffer),X}if(D instanceof lo)return P&&P.push(D.data.buffer),D;if(Array.isArray(D)){for(var se=[],ye=0,Ae=D;ye<Ae.length;ye+=1){var Le=Ae[ye];se.push(Ct(Le,P))}return se}if(typeof D=="object"){var Qe=D.constructor,dt=Qe._classRegistryKey;if(!dt)throw new Error("can't serialize object of unregistered class");var St=Qe.serialize?Qe.serialize(D,P):{};if(!Qe.serialize){for(var Lt in D)if(D.hasOwnProperty(Lt)&&!(Ee[dt].omit.indexOf(Lt)>=0)){var Xt=D[Lt];St[Lt]=Ee[dt].shallow.indexOf(Lt)>=0?Xt:Ct(Xt,P)}D instanceof Error&&(St.message=D.message)}if(St.$name)throw new Error("$name property is reserved for worker serialization logic.");return dt!=="Object"&&(St.$name=dt),St}throw new Error("can't serialize object of type "+typeof D)}function At(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||at(D)||ct(D)||ArrayBuffer.isView(D)||D instanceof lo)return D;if(Array.isArray(D))return D.map(At);if(typeof D=="object"){var P=D.$name||"Object",X=Ee[P],se=X.klass;if(!se)throw new Error("can't deserialize unregistered class "+P);if(se.deserialize)return se.deserialize(D);for(var ye=Object.create(se.prototype),Ae=0,Le=Object.keys(D);Ae<Le.length;Ae+=1){var Qe=Le[Ae];if(Qe!=="$name"){var dt=D[Qe];ye[Qe]=Ee[P].shallow.indexOf(Qe)>=0?dt:At(dt)}}return ye}throw new Error("can't deserialize object of type "+typeof D)}var Ht=function(){this.first=!0};Ht.prototype.update=function(P,X){var se=Math.floor(P);return this.first?(this.first=!1,this.lastIntegerZoom=se,this.lastIntegerZoomTime=0,this.lastZoom=P,this.lastFloorZoom=se,!0):(this.lastFloorZoom>se?(this.lastIntegerZoom=se+1,this.lastIntegerZoomTime=X):this.lastFloorZoom<se&&(this.lastIntegerZoom=se,this.lastIntegerZoomTime=X),P!==this.lastZoom?(this.lastZoom=P,this.lastFloorZoom=se,!0):!1)};var Gt={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function nr(D){for(var P=0,X=D;P<X.length;P+=1){var se=X[P];if(fn(se.charCodeAt(0)))return!0}return!1}function Lr(D){for(var P=0,X=D;P<X.length;P+=1){var se=X[P];if(!Dr(se.charCodeAt(0)))return!1}return!0}function Dr(D){return!(Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D))}function tn(D){return D<11904?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)||Gt["Vertical Forms"](D)||Gt["Yi Radicals"](D)||Gt["Yi Syllables"](D))}function fn(D){return D===746||D===747?!0:D<4352?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Hangul Compatibility Jamo"](D)||Gt["Hangul Jamo Extended-A"](D)||Gt["Hangul Jamo Extended-B"](D)||Gt["Hangul Jamo"](D)||Gt["Hangul Syllables"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt.Kanbun(D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)&&D!==12540||Gt["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||Gt["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](D)||Gt["Unified Canadian Aboriginal Syllabics Extended"](D)||Gt["Vertical Forms"](D)||Gt["Yijing Hexagram Symbols"](D)||Gt["Yi Syllables"](D)||Gt["Yi Radicals"](D))}function Rr(D){return!!(Gt["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Gt["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Gt["Letterlike Symbols"](D)||Gt["Number Forms"](D)||Gt["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Gt["Control Pictures"](D)&&D!==9251||Gt["Optical Character Recognition"](D)||Gt["Enclosed Alphanumerics"](D)||Gt["Geometric Shapes"](D)||Gt["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Gt["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Gt["CJK Symbols and Punctuation"](D)||Gt.Katakana(D)||Gt["Private Use Area"](D)||Gt["CJK Compatibility Forms"](D)||Gt["Small Form Variants"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function Yr(D){return!(fn(D)||Rr(D))}function $r(D){return Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function pn(D){return D>=1424&&D<=2303||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function mn(D,P){return!(!P&&pn(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Gt.Khmer(D))}function on(D){for(var P=0,X=D;P<X.length;P+=1){var se=X[P];if(pn(se.charCodeAt(0)))return!0}return!1}function Xn(D,P){for(var X=0,se=D;X<se.length;X+=1){var ye=se[X];if(!mn(ye.charCodeAt(0),P))return!1}return!0}var oa={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},da=null,na=oa.unavailable,fa=null,pa=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(na=oa.error),da&&da(D)};function Wa(){Da.fire(new tr("pluginStateChange",{pluginStatus:na,pluginURL:fa}))}var Da=new or,Ua=function(){return na},bi=function(D){return D({pluginStatus:na,pluginURL:fa}),Da.on("pluginStateChange",D),D},co=function(D,P,X){if(X===void 0&&(X=!1),na===oa.deferred||na===oa.loading||na===oa.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");fa=ce.resolveURL(D),na=oa.deferred,da=P,Wa(),X||_i()},_i=function(){if(na!==oa.deferred||!fa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");na=oa.loading,Wa(),fa&&Bt({url:fa},function(D){D?pa(D):(na=oa.loaded,Wa())})},ra={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return na===oa.loaded||ra.applyArabicShaping!=null},isLoading:function(){return na===oa.loading},setState:function(P){na=P.pluginStatus,fa=P.pluginURL},isParsed:function(){return ra.applyArabicShaping!=null&&ra.processBidirectionalText!=null&&ra.processStyledBidirectionalText!=null},getPluginURL:function(){return fa}},Za=function(){!ra.isLoading()&&!ra.isLoaded()&&Ua()==="deferred"&&_i()},Ca=function(P,X){this.zoom=P,X?(this.now=X.now,this.fadeDuration=X.fadeDuration,this.zoomHistory=X.zoomHistory,this.transition=X.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ht,this.transition={})};Ca.prototype.isSupportedScript=function(P){return Xn(P,ra.isLoaded())},Ca.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ca.prototype.getCrossfadeParameters=function(){var P=this.zoom,X=P-Math.floor(P),se=this.crossFadingFactor();return P>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:X+(1-X)*se}:{fromScale:.5,toScale:1,t:1-(1-se)*X}};var li=function(P,X){this.property=P,this.value=X,this.expression=Gf(X===void 0?P.specification.default:X,P.specification)};li.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},li.prototype.possiblyEvaluate=function(P,X,se){return this.property.possiblyEvaluate(this,P,X,se)};var Vi=function(P){this.property=P,this.value=new li(P,void 0)};Vi.prototype.transitioned=function(P,X){return new Co(this.property,this.value,X,x({},P.transition,this.transition),P.now)},Vi.prototype.untransitioned=function(){return new Co(this.property,this.value,null,{},0)};var wi=function(P){this._properties=P,this._values=Object.create(P.defaultTransitionablePropertyValues)};wi.prototype.getValue=function(P){return H(this._values[P].value.value)},wi.prototype.setValue=function(P,X){this._values.hasOwnProperty(P)||(this._values[P]=new Vi(this._values[P].property)),this._values[P].value=new li(this._values[P].property,X===null?void 0:H(X))},wi.prototype.getTransition=function(P){return H(this._values[P].transition)},wi.prototype.setTransition=function(P,X){this._values.hasOwnProperty(P)||(this._values[P]=new Vi(this._values[P].property)),this._values[P].transition=H(X)||void 0},wi.prototype.serialize=function(){for(var P={},X=0,se=Object.keys(this._values);X<se.length;X+=1){var ye=se[X],Ae=this.getValue(ye);Ae!==void 0&&(P[ye]=Ae);var Le=this.getTransition(ye);Le!==void 0&&(P[ye+"-transition"]=Le)}return P},wi.prototype.transitioned=function(P,X){for(var se=new Lo(this._properties),ye=0,Ae=Object.keys(this._values);ye<Ae.length;ye+=1){var Le=Ae[ye];se._values[Le]=this._values[Le].transitioned(P,X._values[Le])}return se},wi.prototype.untransitioned=function(){for(var P=new Lo(this._properties),X=0,se=Object.keys(this._values);X<se.length;X+=1){var ye=se[X];P._values[ye]=this._values[ye].untransitioned()}return P};var Co=function(P,X,se,ye,Ae){this.property=P,this.value=X,this.begin=Ae+ye.delay||0,this.end=this.begin+ye.duration||0,P.specification.transition&&(ye.delay||ye.duration)&&(this.prior=se)};Co.prototype.possiblyEvaluate=function(P,X,se){var ye=P.now||0,Ae=this.value.possiblyEvaluate(P,X,se),Le=this.prior;if(Le){if(ye>this.end)return this.prior=null,Ae;if(this.value.isDataDriven())return this.prior=null,Ae;if(ye<this.begin)return Le.possiblyEvaluate(P,X,se);var Qe=(ye-this.begin)/(this.end-this.begin);return this.property.interpolate(Le.possiblyEvaluate(P,X,se),Ae,u(Qe))}else return Ae};var Lo=function(P){this._properties=P,this._values=Object.create(P.defaultTransitioningPropertyValues)};Lo.prototype.possiblyEvaluate=function(P,X,se){for(var ye=new Xo(this._properties),Ae=0,Le=Object.keys(this._values);Ae<Le.length;Ae+=1){var Qe=Le[Ae];ye._values[Qe]=this._values[Qe].possiblyEvaluate(P,X,se)}return ye},Lo.prototype.hasTransition=function(){for(var P=0,X=Object.keys(this._values);P<X.length;P+=1){var se=X[P];if(this._values[se].prior)return!0}return!1};var Oo=function(P){this._properties=P,this._values=Object.create(P.defaultPropertyValues)};Oo.prototype.getValue=function(P){return H(this._values[P].value)},Oo.prototype.setValue=function(P,X){this._values[P]=new li(this._values[P].property,X===null?void 0:H(X))},Oo.prototype.serialize=function(){for(var P={},X=0,se=Object.keys(this._values);X<se.length;X+=1){var ye=se[X],Ae=this.getValue(ye);Ae!==void 0&&(P[ye]=Ae)}return P},Oo.prototype.possiblyEvaluate=function(P,X,se){for(var ye=new Xo(this._properties),Ae=0,Le=Object.keys(this._values);Ae<Le.length;Ae+=1){var Qe=Le[Ae];ye._values[Qe]=this._values[Qe].possiblyEvaluate(P,X,se)}return ye};var Hi=function(P,X,se){this.property=P,this.value=X,this.parameters=se};Hi.prototype.isConstant=function(){return this.value.kind==="constant"},Hi.prototype.constantOr=function(P){return this.value.kind==="constant"?this.value.value:P},Hi.prototype.evaluate=function(P,X,se,ye){return this.property.evaluate(this.value,this.parameters,P,X,se,ye)};var Xo=function(P){this._properties=P,this._values=Object.create(P.defaultPossiblyEvaluatedValues)};Xo.prototype.get=function(P){return this._values[P]};var ha=function(P){this.specification=P};ha.prototype.possiblyEvaluate=function(P,X){return P.expression.evaluate(X)},ha.prototype.interpolate=function(P,X,se){var ye=Nf[this.specification.type];return ye?ye(P,X,se):P};var Ra=function(P,X){this.specification=P,this.overrides=X};Ra.prototype.possiblyEvaluate=function(P,X,se,ye){return P.expression.kind==="constant"||P.expression.kind==="camera"?new Hi(this,{kind:"constant",value:P.expression.evaluate(X,null,{},se,ye)},X):new Hi(this,P.expression,X)},Ra.prototype.interpolate=function(P,X,se){if(P.value.kind!=="constant"||X.value.kind!=="constant")return P;if(P.value.value===void 0||X.value.value===void 0)return new Hi(this,{kind:"constant",value:void 0},P.parameters);var ye=Nf[this.specification.type];return ye?new Hi(this,{kind:"constant",value:ye(P.value.value,X.value.value,se)},P.parameters):P},Ra.prototype.evaluate=function(P,X,se,ye,Ae,Le){return P.kind==="constant"?P.value:P.evaluate(X,se,ye,Ae,Le)};var ss=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.possiblyEvaluate=function(se,ye,Ae,Le){if(se.value===void 0)return new Hi(this,{kind:"constant",value:void 0},ye);if(se.expression.kind==="constant"){var Qe=se.expression.evaluate(ye,null,{},Ae,Le),dt=se.property.specification.type==="resolvedImage",St=dt&&typeof Qe!="string"?Qe.name:Qe,Lt=this._calculate(St,St,St,ye);return new Hi(this,{kind:"constant",value:Lt},ye)}else if(se.expression.kind==="camera"){var Xt=this._calculate(se.expression.evaluate({zoom:ye.zoom-1}),se.expression.evaluate({zoom:ye.zoom}),se.expression.evaluate({zoom:ye.zoom+1}),ye);return new Hi(this,{kind:"constant",value:Xt},ye)}else return new Hi(this,se.expression,ye)},P.prototype.evaluate=function(se,ye,Ae,Le,Qe,dt){if(se.kind==="source"){var St=se.evaluate(ye,Ae,Le,Qe,dt);return this._calculate(St,St,St,ye)}else return se.kind==="composite"?this._calculate(se.evaluate({zoom:Math.floor(ye.zoom)-1},Ae,Le),se.evaluate({zoom:Math.floor(ye.zoom)},Ae,Le),se.evaluate({zoom:Math.floor(ye.zoom)+1},Ae,Le),ye):se.value},P.prototype._calculate=function(se,ye,Ae,Le){var Qe=Le.zoom;return Qe>Le.zoomHistory.lastIntegerZoom?{from:se,to:ye}:{from:Ae,to:ye}},P.prototype.interpolate=function(se){return se},P}(Ra),ps=function(P){this.specification=P};ps.prototype.possiblyEvaluate=function(P,X,se,ye){if(P.value!==void 0)if(P.expression.kind==="constant"){var Ae=P.expression.evaluate(X,null,{},se,ye);return this._calculate(Ae,Ae,Ae,X)}else return this._calculate(P.expression.evaluate(new Ca(Math.floor(X.zoom-1),X)),P.expression.evaluate(new Ca(Math.floor(X.zoom),X)),P.expression.evaluate(new Ca(Math.floor(X.zoom+1),X)),X)},ps.prototype._calculate=function(P,X,se,ye){var Ae=ye.zoom;return Ae>ye.zoomHistory.lastIntegerZoom?{from:P,to:X}:{from:se,to:X}},ps.prototype.interpolate=function(P){return P};var ko=function(P){this.specification=P};ko.prototype.possiblyEvaluate=function(P,X,se,ye){return!!P.expression.evaluate(X,null,{},se,ye)},ko.prototype.interpolate=function(){return!1};var Li=function(P){this.properties=P,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var X in P){var se=P[X];se.specification.overridable&&this.overridableProperties.push(X);var ye=this.defaultPropertyValues[X]=new li(se,void 0),Ae=this.defaultTransitionablePropertyValues[X]=new Vi(se);this.defaultTransitioningPropertyValues[X]=Ae.untransitioned(),this.defaultPossiblyEvaluatedValues[X]=ye.possiblyEvaluate({})}};Ve("DataDrivenProperty",Ra),Ve("DataConstantProperty",ha),Ve("CrossFadedDataDrivenProperty",ss),Ve("CrossFadedProperty",ps),Ve("ColorRampProperty",ko);var bo="-transition",ho=function(D){function P(X,se){if(D.call(this),this.id=X.id,this.type=X.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},X.type!=="custom"&&(X=X,this.metadata=X.metadata,this.minzoom=X.minzoom,this.maxzoom=X.maxzoom,X.type!=="background"&&(this.source=X.source,this.sourceLayer=X["source-layer"],this.filter=X.filter),se.layout&&(this._unevaluatedLayout=new Oo(se.layout)),se.paint)){this._transitionablePaint=new wi(se.paint);for(var ye in X.paint)this.setPaintProperty(ye,X.paint[ye],{validate:!1});for(var Ae in X.layout)this.setLayoutProperty(Ae,X.layout[Ae],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xo(se.paint)}}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},P.prototype.getLayoutProperty=function(se){return se==="visibility"?this.visibility:this._unevaluatedLayout.getValue(se)},P.prototype.setLayoutProperty=function(se,ye,Ae){if(Ae===void 0&&(Ae={}),ye!=null){var Le="layers."+this.id+".layout."+se;if(this._validate(ka,Le,se,ye,Ae))return}if(se==="visibility"){this.visibility=ye;return}this._unevaluatedLayout.setValue(se,ye)},P.prototype.getPaintProperty=function(se){return b(se,bo)?this._transitionablePaint.getTransition(se.slice(0,-bo.length)):this._transitionablePaint.getValue(se)},P.prototype.setPaintProperty=function(se,ye,Ae){if(Ae===void 0&&(Ae={}),ye!=null){var Le="layers."+this.id+".paint."+se;if(this._validate(Oa,Le,se,ye,Ae))return!1}if(b(se,bo))return this._transitionablePaint.setTransition(se.slice(0,-bo.length),ye||void 0),!1;var Qe=this._transitionablePaint._values[se],dt=Qe.property.specification["property-type"]==="cross-faded-data-driven",St=Qe.value.isDataDriven(),Lt=Qe.value;this._transitionablePaint.setValue(se,ye),this._handleSpecialPaintPropertyUpdate(se);var Xt=this._transitionablePaint._values[se].value,ar=Xt.isDataDriven();return ar||St||dt||this._handleOverridablePaintPropertyUpdate(se,Lt,Xt)},P.prototype._handleSpecialPaintPropertyUpdate=function(se){},P.prototype._handleOverridablePaintPropertyUpdate=function(se,ye,Ae){return!1},P.prototype.isHidden=function(se){return this.minzoom&&se<this.minzoom||this.maxzoom&&se>=this.maxzoom?!0:this.visibility==="none"},P.prototype.updateTransitions=function(se){this._transitioningPaint=this._transitionablePaint.transitioned(se,this._transitioningPaint)},P.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},P.prototype.recalculate=function(se,ye){se.getCrossfadeParameters&&(this._crossfadeParameters=se.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(se,void 0,ye)),this.paint=this._transitioningPaint.possiblyEvaluate(se,void 0,ye)},P.prototype.serialize=function(){var se={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(se.layout=se.layout||{},se.layout.visibility=this.visibility),k(se,function(ye,Ae){return ye!==void 0&&!(Ae==="layout"&&!Object.keys(ye).length)&&!(Ae==="paint"&&!Object.keys(ye).length)})},P.prototype._validate=function(se,ye,Ae,Le,Qe){return Qe===void 0&&(Qe={}),Qe&&Qe.validate===!1?!1:za(this,se.call(Nn,{key:ye,layerType:this.type,objectKey:Ae,value:Le,styleSpec:Mr,style:{glyphs:!0,sprite:!0}}))},P.prototype.is3D=function(){return!1},P.prototype.isTileClipped=function(){return!1},P.prototype.hasOffscreenPass=function(){return!1},P.prototype.resize=function(){},P.prototype.isStateDependent=function(){for(var se in this.paint._values){var ye=this.paint.get(se);if(!(!(ye instanceof Hi)||!ul(ye.property.specification))&&(ye.value.kind==="source"||ye.value.kind==="composite")&&ye.value.isStateDependent)return!0}return!1},P}(or),js={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},cl=function(P,X){this._structArray=P,this._pos1=X*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},qi=128,Pu=5,ui=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ui.serialize=function(P,X){return P._trim(),X&&(P.isTransferred=!0,X.push(P.arrayBuffer)),{length:P.length,arrayBuffer:P.arrayBuffer}},ui.deserialize=function(P){var X=Object.create(this.prototype);return X.arrayBuffer=P.arrayBuffer,X.length=P.length,X.capacity=P.arrayBuffer.byteLength/X.bytesPerElement,X._refreshViews(),X},ui.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ui.prototype.clear=function(){this.length=0},ui.prototype.resize=function(P){this.reserve(P),this.length=P},ui.prototype.reserve=function(P){if(P>this.capacity){this.capacity=Math.max(P,Math.floor(this.capacity*Pu),qi),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var X=this.uint8;this._refreshViews(),X&&this.uint8.set(X)}},ui.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function eo(D,P){P===void 0&&(P=1);var X=0,se=0,ye=D.map(function(Le){var Qe=Mv(Le.type),dt=X=V0(X,Math.max(P,Qe)),St=Le.components||1;return se=Math.max(se,Qe),X+=Qe*St,{name:Le.name,type:Le.type,components:St,offset:dt}}),Ae=V0(X,Math.max(se,P));return{members:ye,size:Ae,alignment:P}}function Mv(D){return js[D].BYTES_PER_ELEMENT}function V0(D,P){return Math.ceil(D/P)*P}var Rc=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,se,ye)},P.prototype.emplace=function(se,ye,Ae){var Le=se*2;return this.int16[Le+0]=ye,this.int16[Le+1]=Ae,se},P}(ui);Rc.prototype.bytesPerElement=4,Ve("StructArrayLayout2i4",Rc);var pp=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,se,ye,Ae,Le)},P.prototype.emplace=function(se,ye,Ae,Le,Qe){var dt=se*4;return this.int16[dt+0]=ye,this.int16[dt+1]=Ae,this.int16[dt+2]=Le,this.int16[dt+3]=Qe,se},P}(ui);pp.prototype.bytesPerElement=8,Ve("StructArrayLayout4i8",pp);var jf=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt){var St=this.length;return this.resize(St+1),this.emplace(St,se,ye,Ae,Le,Qe,dt)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St){var Lt=se*6;return this.int16[Lt+0]=ye,this.int16[Lt+1]=Ae,this.int16[Lt+2]=Le,this.int16[Lt+3]=Qe,this.int16[Lt+4]=dt,this.int16[Lt+5]=St,se},P}(ui);jf.prototype.bytesPerElement=12,Ve("StructArrayLayout2i4i12",jf);var Mh=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt){var St=this.length;return this.resize(St+1),this.emplace(St,se,ye,Ae,Le,Qe,dt)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St){var Lt=se*4,Xt=se*8;return this.int16[Lt+0]=ye,this.int16[Lt+1]=Ae,this.uint8[Xt+4]=Le,this.uint8[Xt+5]=Qe,this.uint8[Xt+6]=dt,this.uint8[Xt+7]=St,se},P}(ui);Mh.prototype.bytesPerElement=8,Ve("StructArrayLayout2i4ub8",Mh);var Eh=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,se,ye)},P.prototype.emplace=function(se,ye,Ae){var Le=se*2;return this.float32[Le+0]=ye,this.float32[Le+1]=Ae,se},P}(ui);Eh.prototype.bytesPerElement=8,Ve("StructArrayLayout2f8",Eh);var Os=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar){var er=this.length;return this.resize(er+1),this.emplace(er,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er){var Tr=se*10;return this.uint16[Tr+0]=ye,this.uint16[Tr+1]=Ae,this.uint16[Tr+2]=Le,this.uint16[Tr+3]=Qe,this.uint16[Tr+4]=dt,this.uint16[Tr+5]=St,this.uint16[Tr+6]=Lt,this.uint16[Tr+7]=Xt,this.uint16[Tr+8]=ar,this.uint16[Tr+9]=er,se},P}(ui);Os.prototype.bytesPerElement=20,Ve("StructArrayLayout10ui20",Os);var Kf=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr){var Vr=this.length;return this.resize(Vr+1),this.emplace(Vr,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr){var dn=se*12;return this.int16[dn+0]=ye,this.int16[dn+1]=Ae,this.int16[dn+2]=Le,this.int16[dn+3]=Qe,this.uint16[dn+4]=dt,this.uint16[dn+5]=St,this.uint16[dn+6]=Lt,this.uint16[dn+7]=Xt,this.int16[dn+8]=ar,this.int16[dn+9]=er,this.int16[dn+10]=Tr,this.int16[dn+11]=Vr,se},P}(ui);Kf.prototype.bytesPerElement=24,Ve("StructArrayLayout4i4ui4i24",Kf);var gp=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae){var Le=this.length;return this.resize(Le+1),this.emplace(Le,se,ye,Ae)},P.prototype.emplace=function(se,ye,Ae,Le){var Qe=se*3;return this.float32[Qe+0]=ye,this.float32[Qe+1]=Ae,this.float32[Qe+2]=Le,se},P}(ui);gp.prototype.bytesPerElement=12,Ve("StructArrayLayout3f12",gp);var yp=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se){var ye=this.length;return this.resize(ye+1),this.emplace(ye,se)},P.prototype.emplace=function(se,ye){var Ae=se*1;return this.uint32[Ae+0]=ye,se},P}(ui);yp.prototype.bytesPerElement=4,Ve("StructArrayLayout1ul4",yp);var Ev=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt){var ar=this.length;return this.resize(ar+1),this.emplace(ar,se,ye,Ae,Le,Qe,dt,St,Lt,Xt)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar){var er=se*10,Tr=se*5;return this.int16[er+0]=ye,this.int16[er+1]=Ae,this.int16[er+2]=Le,this.int16[er+3]=Qe,this.int16[er+4]=dt,this.int16[er+5]=St,this.uint32[Tr+3]=Lt,this.uint16[er+8]=Xt,this.uint16[er+9]=ar,se},P}(ui);Ev.prototype.bytesPerElement=20,Ve("StructArrayLayout6i1ul2ui20",Ev);var ed=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt){var St=this.length;return this.resize(St+1),this.emplace(St,se,ye,Ae,Le,Qe,dt)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St){var Lt=se*6;return this.int16[Lt+0]=ye,this.int16[Lt+1]=Ae,this.int16[Lt+2]=Le,this.int16[Lt+3]=Qe,this.int16[Lt+4]=dt,this.int16[Lt+5]=St,se},P}(ui);ed.prototype.bytesPerElement=12,Ve("StructArrayLayout2i2i2i12",ed);var ff=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe){var dt=this.length;return this.resize(dt+1),this.emplace(dt,se,ye,Ae,Le,Qe)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt){var St=se*4,Lt=se*8;return this.float32[St+0]=ye,this.float32[St+1]=Ae,this.float32[St+2]=Le,this.int16[Lt+6]=Qe,this.int16[Lt+7]=dt,se},P}(ui);ff.prototype.bytesPerElement=16,Ve("StructArrayLayout2f1f2i16",ff);var Ks=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,se,ye,Ae,Le)},P.prototype.emplace=function(se,ye,Ae,Le,Qe){var dt=se*12,St=se*3;return this.uint8[dt+0]=ye,this.uint8[dt+1]=Ae,this.float32[St+1]=Le,this.float32[St+2]=Qe,se},P}(ui);Ks.prototype.bytesPerElement=12,Ve("StructArrayLayout2ub2f12",Ks);var cf=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae){var Le=this.length;return this.resize(Le+1),this.emplace(Le,se,ye,Ae)},P.prototype.emplace=function(se,ye,Ae,Le){var Qe=se*3;return this.uint16[Qe+0]=ye,this.uint16[Qe+1]=Ae,this.uint16[Qe+2]=Le,se},P}(ui);cf.prototype.bytesPerElement=6,Ve("StructArrayLayout3ui6",cf);var _v=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn,Pn,bn){var Dn=this.length;return this.resize(Dn+1),this.emplace(Dn,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn,Pn,bn)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn,Pn,bn,Dn){var zn=se*24,Kn=se*12,la=se*48;return this.int16[zn+0]=ye,this.int16[zn+1]=Ae,this.uint16[zn+2]=Le,this.uint16[zn+3]=Qe,this.uint32[Kn+2]=dt,this.uint32[Kn+3]=St,this.uint32[Kn+4]=Lt,this.uint16[zn+10]=Xt,this.uint16[zn+11]=ar,this.uint16[zn+12]=er,this.float32[Kn+7]=Tr,this.float32[Kn+8]=Vr,this.uint8[la+36]=dn,this.uint8[la+37]=sn,this.uint8[la+38]=Pn,this.uint32[Kn+10]=bn,this.int16[zn+22]=Dn,se},P}(ui);_v.prototype.bytesPerElement=48,Ve("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",_v);var td=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn,Pn,bn,Dn,zn,Kn,la,aa,Ea,xa,Sa,Ga,_a,Pa){var $a=this.length;return this.resize($a+1),this.emplace($a,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn,Pn,bn,Dn,zn,Kn,la,aa,Ea,xa,Sa,Ga,_a,Pa)},P.prototype.emplace=function(se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn,Pn,bn,Dn,zn,Kn,la,aa,Ea,xa,Sa,Ga,_a,Pa,$a){var Ya=se*34,Ai=se*17;return this.int16[Ya+0]=ye,this.int16[Ya+1]=Ae,this.int16[Ya+2]=Le,this.int16[Ya+3]=Qe,this.int16[Ya+4]=dt,this.int16[Ya+5]=St,this.int16[Ya+6]=Lt,this.int16[Ya+7]=Xt,this.uint16[Ya+8]=ar,this.uint16[Ya+9]=er,this.uint16[Ya+10]=Tr,this.uint16[Ya+11]=Vr,this.uint16[Ya+12]=dn,this.uint16[Ya+13]=sn,this.uint16[Ya+14]=Pn,this.uint16[Ya+15]=bn,this.uint16[Ya+16]=Dn,this.uint16[Ya+17]=zn,this.uint16[Ya+18]=Kn,this.uint16[Ya+19]=la,this.uint16[Ya+20]=aa,this.uint16[Ya+21]=Ea,this.uint16[Ya+22]=xa,this.uint32[Ai+12]=Sa,this.float32[Ai+13]=Ga,this.float32[Ai+14]=_a,this.float32[Ai+15]=Pa,this.float32[Ai+16]=$a,se},P}(ui);td.prototype.bytesPerElement=68,Ve("StructArrayLayout8i15ui1ul4f68",td);var _h=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se){var ye=this.length;return this.resize(ye+1),this.emplace(ye,se)},P.prototype.emplace=function(se,ye){var Ae=se*1;return this.float32[Ae+0]=ye,se},P}(ui);_h.prototype.bytesPerElement=4,Ve("StructArrayLayout1f4",_h);var mp=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae){var Le=this.length;return this.resize(Le+1),this.emplace(Le,se,ye,Ae)},P.prototype.emplace=function(se,ye,Ae,Le){var Qe=se*3;return this.int16[Qe+0]=ye,this.int16[Qe+1]=Ae,this.int16[Qe+2]=Le,se},P}(ui);mp.prototype.bytesPerElement=6,Ve("StructArrayLayout3i6",mp);var Jf=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae){var Le=this.length;return this.resize(Le+1),this.emplace(Le,se,ye,Ae)},P.prototype.emplace=function(se,ye,Ae,Le){var Qe=se*2,dt=se*4;return this.uint32[Qe+0]=ye,this.uint16[dt+2]=Ae,this.uint16[dt+3]=Le,se},P}(ui);Jf.prototype.bytesPerElement=8,Ve("StructArrayLayout1ul2ui8",Jf);var Cv=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,se,ye)},P.prototype.emplace=function(se,ye,Ae){var Le=se*2;return this.uint16[Le+0]=ye,this.uint16[Le+1]=Ae,se},P}(ui);Cv.prototype.bytesPerElement=4,Ve("StructArrayLayout2ui4",Cv);var Ch=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se){var ye=this.length;return this.resize(ye+1),this.emplace(ye,se)},P.prototype.emplace=function(se,ye){var Ae=se*1;return this.uint16[Ae+0]=ye,se},P}(ui);Ch.prototype.bytesPerElement=2,Ve("StructArrayLayout1ui2",Ch);var Ic=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},P.prototype.emplaceBack=function(se,ye,Ae,Le){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,se,ye,Ae,Le)},P.prototype.emplace=function(se,ye,Ae,Le,Qe){var dt=se*4;return this.float32[dt+0]=ye,this.float32[dt+1]=Ae,this.float32[dt+2]=Le,this.float32[dt+3]=Qe,se},P}(ui);Ic.prototype.bytesPerElement=16,Ve("StructArrayLayout4f16",Ic);var H0=function(D){function P(){D.apply(this,arguments)}D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P;var X={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return X.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},X.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},X.x1.get=function(){return this._structArray.int16[this._pos2+2]},X.y1.get=function(){return this._structArray.int16[this._pos2+3]},X.x2.get=function(){return this._structArray.int16[this._pos2+4]},X.y2.get=function(){return this._structArray.int16[this._pos2+5]},X.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},X.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},X.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},X.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(P.prototype,X),P}(cl);H0.prototype.size=20;var xp=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.get=function(se){return new H0(this,se)},P}(Ev);Ve("CollisionBoxArray",xp);var Oc=function(D){function P(){D.apply(this,arguments)}D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P;var X={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return X.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},X.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},X.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},X.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},X.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},X.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},X.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},X.segment.get=function(){return this._structArray.uint16[this._pos2+10]},X.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},X.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},X.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},X.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},X.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},X.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},X.placedOrientation.set=function(se){this._structArray.uint8[this._pos1+37]=se},X.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},X.hidden.set=function(se){this._structArray.uint8[this._pos1+38]=se},X.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},X.crossTileID.set=function(se){this._structArray.uint32[this._pos4+10]=se},X.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(P.prototype,X),P}(cl);Oc.prototype.size=48;var bp=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.get=function(se){return new Oc(this,se)},P}(_v);Ve("PlacedSymbolArray",bp);var Lh=function(D){function P(){D.apply(this,arguments)}D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P;var X={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return X.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},X.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},X.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},X.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},X.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},X.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},X.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},X.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},X.key.get=function(){return this._structArray.uint16[this._pos2+8]},X.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},X.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},X.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},X.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},X.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},X.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},X.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},X.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},X.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},X.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},X.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},X.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},X.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},X.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},X.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},X.crossTileID.set=function(se){this._structArray.uint32[this._pos4+12]=se},X.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},X.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},X.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},X.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(P.prototype,X),P}(cl);Lh.prototype.size=68;var Y0=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.get=function(se){return new Lh(this,se)},P}(td);Ve("SymbolInstanceArray",Y0);var W0=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.getoffsetX=function(se){return this.float32[se*1+0]},P}(_h);Ve("GlyphOffsetArray",W0);var $l=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.getx=function(se){return this.int16[se*3+0]},P.prototype.gety=function(se){return this.int16[se*3+1]},P.prototype.gettileUnitDistanceFromAnchor=function(se){return this.int16[se*3+2]},P}(mp);Ve("SymbolLineVertexArray",$l);var G0=function(D){function P(){D.apply(this,arguments)}D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P;var X={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return X.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},X.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},X.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(P.prototype,X),P}(cl);G0.prototype.size=8;var X0=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.get=function(se){return new G0(this,se)},P}(Jf);Ve("FeatureIndexArray",X0);var Gy=eo([{name:"a_pos",components:2,type:"Int16"}],4),Z0=Gy.members,No=function(P){P===void 0&&(P=[]),this.segments=P};No.prototype.prepareSegment=function(P,X,se,ye){var Ae=this.segments[this.segments.length-1];return P>No.MAX_VERTEX_ARRAY_LENGTH&&U("Max vertices per segment is "+No.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+P),(!Ae||Ae.vertexLength+P>No.MAX_VERTEX_ARRAY_LENGTH||Ae.sortKey!==ye)&&(Ae={vertexOffset:X.length,primitiveOffset:se.length,vertexLength:0,primitiveLength:0},ye!==void 0&&(Ae.sortKey=ye),this.segments.push(Ae)),Ae},No.prototype.get=function(){return this.segments},No.prototype.destroy=function(){for(var P=0,X=this.segments;P<X.length;P+=1){var se=X[P];for(var ye in se.vaos)se.vaos[ye].destroy()}},No.simpleSegment=function(P,X,se,ye){return new No([{vertexOffset:P,primitiveOffset:X,vertexLength:se,primitiveLength:ye,vaos:{},sortKey:0}])},No.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ve("SegmentVector",No);function pe(D,P){return D=h(Math.floor(D),0,255),P=h(Math.floor(P),0,255),256*D+P}var $=eo([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),me=C(function(D){function P(X,se){var ye,Ae,Le,Qe,dt,St,Lt,Xt;for(ye=X.length&3,Ae=X.length-ye,Le=se,dt=3432918353,St=461845907,Xt=0;Xt<Ae;)Lt=X.charCodeAt(Xt)&255|(X.charCodeAt(++Xt)&255)<<8|(X.charCodeAt(++Xt)&255)<<16|(X.charCodeAt(++Xt)&255)<<24,++Xt,Lt=(Lt&65535)*dt+(((Lt>>>16)*dt&65535)<<16)&4294967295,Lt=Lt<<15|Lt>>>17,Lt=(Lt&65535)*St+(((Lt>>>16)*St&65535)<<16)&4294967295,Le^=Lt,Le=Le<<13|Le>>>19,Qe=(Le&65535)*5+(((Le>>>16)*5&65535)<<16)&4294967295,Le=(Qe&65535)+27492+(((Qe>>>16)+58964&65535)<<16);switch(Lt=0,ye){case 3:Lt^=(X.charCodeAt(Xt+2)&255)<<16;case 2:Lt^=(X.charCodeAt(Xt+1)&255)<<8;case 1:Lt^=X.charCodeAt(Xt)&255,Lt=(Lt&65535)*dt+(((Lt>>>16)*dt&65535)<<16)&4294967295,Lt=Lt<<15|Lt>>>17,Lt=(Lt&65535)*St+(((Lt>>>16)*St&65535)<<16)&4294967295,Le^=Lt}return Le^=X.length,Le^=Le>>>16,Le=(Le&65535)*2246822507+(((Le>>>16)*2246822507&65535)<<16)&4294967295,Le^=Le>>>13,Le=(Le&65535)*3266489909+(((Le>>>16)*3266489909&65535)<<16)&4294967295,Le^=Le>>>16,Le>>>0}D.exports=P}),re=C(function(D){function P(X,se){for(var ye=X.length,Ae=se^ye,Le=0,Qe;ye>=4;)Qe=X.charCodeAt(Le)&255|(X.charCodeAt(++Le)&255)<<8|(X.charCodeAt(++Le)&255)<<16|(X.charCodeAt(++Le)&255)<<24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Qe^=Qe>>>24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16)^Qe,ye-=4,++Le;switch(ye){case 3:Ae^=(X.charCodeAt(Le+2)&255)<<16;case 2:Ae^=(X.charCodeAt(Le+1)&255)<<8;case 1:Ae^=X.charCodeAt(Le)&255,Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16)}return Ae^=Ae>>>13,Ae=(Ae&65535)*1540483477+(((Ae>>>16)*1540483477&65535)<<16),Ae^=Ae>>>15,Ae>>>0}D.exports=P}),xe=me,ze=me,Ke=re;xe.murmur3=ze,xe.murmur2=Ke;var ft=function(){this.ids=[],this.positions=[],this.indexed=!1};ft.prototype.add=function(P,X,se,ye){this.ids.push(Vt(P)),this.positions.push(X,se,ye)},ft.prototype.getPositions=function(P){for(var X=Vt(P),se=0,ye=this.ids.length-1;se<ye;){var Ae=se+ye>>1;this.ids[Ae]>=X?ye=Ae:se=Ae+1}for(var Le=[];this.ids[se]===X;){var Qe=this.positions[3*se],dt=this.positions[3*se+1],St=this.positions[3*se+2];Le.push({index:Qe,start:dt,end:St}),se++}return Le},ft.serialize=function(P,X){var se=new Float64Array(P.ids),ye=new Uint32Array(P.positions);return qt(se,ye,0,se.length-1),X&&X.push(se.buffer,ye.buffer),{ids:se,positions:ye}},ft.deserialize=function(P){var X=new ft;return X.ids=P.ids,X.positions=P.positions,X.indexed=!0,X};var _t=Math.pow(2,53)-1;function Vt(D){var P=+D;return!isNaN(P)&&P<=_t?P:xe(String(D))}function qt(D,P,X,se){for(;X<se;){for(var ye=D[X+se>>1],Ae=X-1,Le=se+1;;){do Ae++;while(D[Ae]<ye);do Le--;while(D[Le]>ye);if(Ae>=Le)break;fr(D,Ae,Le),fr(P,3*Ae,3*Le),fr(P,3*Ae+1,3*Le+1),fr(P,3*Ae+2,3*Le+2)}Le-X<se-Le?(qt(D,P,X,Le),X=Le+1):(qt(D,P,Le+1,se),se=Le)}}function fr(D,P,X){var se=D[P];D[P]=D[X],D[X]=se}Ve("FeaturePositionMap",ft);var sr=function(P,X){this.gl=P.gl,this.location=X},kr=function(D){function P(X,se){D.call(this,X,se),this.current=0}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.set=function(se){this.current!==se&&(this.current=se,this.gl.uniform1i(this.location,se))},P}(sr),Kr=function(D){function P(X,se){D.call(this,X,se),this.current=0}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.set=function(se){this.current!==se&&(this.current=se,this.gl.uniform1f(this.location,se))},P}(sr),jr=function(D){function P(X,se){D.call(this,X,se),this.current=[0,0]}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.set=function(se){(se[0]!==this.current[0]||se[1]!==this.current[1])&&(this.current=se,this.gl.uniform2f(this.location,se[0],se[1]))},P}(sr),Xr=function(D){function P(X,se){D.call(this,X,se),this.current=[0,0,0]}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.set=function(se){(se[0]!==this.current[0]||se[1]!==this.current[1]||se[2]!==this.current[2])&&(this.current=se,this.gl.uniform3f(this.location,se[0],se[1],se[2]))},P}(sr),en=function(D){function P(X,se){D.call(this,X,se),this.current=[0,0,0,0]}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.set=function(se){(se[0]!==this.current[0]||se[1]!==this.current[1]||se[2]!==this.current[2]||se[3]!==this.current[3])&&(this.current=se,this.gl.uniform4f(this.location,se[0],se[1],se[2],se[3]))},P}(sr),yn=function(D){function P(X,se){D.call(this,X,se),this.current=gi.transparent}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.set=function(se){(se.r!==this.current.r||se.g!==this.current.g||se.b!==this.current.b||se.a!==this.current.a)&&(this.current=se,this.gl.uniform4f(this.location,se.r,se.g,se.b,se.a))},P}(sr),Fn=new Float32Array(16),Yn=function(D){function P(X,se){D.call(this,X,se),this.current=Fn}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.set=function(se){if(se[12]!==this.current[12]||se[0]!==this.current[0]){this.current=se,this.gl.uniformMatrix4fv(this.location,!1,se);return}for(var ye=1;ye<16;ye++)if(se[ye]!==this.current[ye]){this.current=se,this.gl.uniformMatrix4fv(this.location,!1,se);break}},P}(sr);function Jn(D){return[pe(255*D.r,255*D.g),pe(255*D.b,255*D.a)]}var Qn=function(P,X,se){this.value=P,this.uniformNames=X.map(function(ye){return"u_"+ye}),this.type=se};Qn.prototype.setUniform=function(P,X,se){P.set(se.constantOr(this.value))},Qn.prototype.getBinding=function(P,X,se){return this.type==="color"?new yn(P,X):new Kr(P,X)};var jn=function(P,X){this.uniformNames=X.map(function(se){return"u_"+se}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};jn.prototype.setConstantPatternPositions=function(P,X){this.pixelRatioFrom=X.pixelRatio,this.pixelRatioTo=P.pixelRatio,this.patternFrom=X.tlbr,this.patternTo=P.tlbr},jn.prototype.setUniform=function(P,X,se,ye){var Ae=ye==="u_pattern_to"?this.patternTo:ye==="u_pattern_from"?this.patternFrom:ye==="u_pixel_ratio_to"?this.pixelRatioTo:ye==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ae&&P.set(Ae)},jn.prototype.getBinding=function(P,X,se){return se.substr(0,9)==="u_pattern"?new en(P,X):new Kr(P,X)};var qn=function(P,X,se,ye){this.expression=P,this.type=se,this.maxValue=0,this.paintVertexAttributes=X.map(function(Ae){return{name:"a_"+Ae,type:"Float32",components:se==="color"?2:1,offset:0}}),this.paintVertexArray=new ye};qn.prototype.populatePaintArray=function(P,X,se,ye,Ae){var Le=this.paintVertexArray.length,Qe=this.expression.evaluate(new Ca(0),X,{},ye,[],Ae);this.paintVertexArray.resize(P),this._setPaintValue(Le,P,Qe)},qn.prototype.updatePaintArray=function(P,X,se,ye){var Ae=this.expression.evaluate({zoom:0},se,ye);this._setPaintValue(P,X,Ae)},qn.prototype._setPaintValue=function(P,X,se){if(this.type==="color")for(var ye=Jn(se),Ae=P;Ae<X;Ae++)this.paintVertexArray.emplace(Ae,ye[0],ye[1]);else{for(var Le=P;Le<X;Le++)this.paintVertexArray.emplace(Le,se);this.maxValue=Math.max(this.maxValue,Math.abs(se))}},qn.prototype.upload=function(P){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=P.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qn.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var sa=function(P,X,se,ye,Ae,Le){this.expression=P,this.uniformNames=X.map(function(Qe){return"u_"+Qe+"_t"}),this.type=se,this.useIntegerZoom=ye,this.zoom=Ae,this.maxValue=0,this.paintVertexAttributes=X.map(function(Qe){return{name:"a_"+Qe,type:"Float32",components:se==="color"?4:2,offset:0}}),this.paintVertexArray=new Le};sa.prototype.populatePaintArray=function(P,X,se,ye,Ae){var Le=this.expression.evaluate(new Ca(this.zoom),X,{},ye,[],Ae),Qe=this.expression.evaluate(new Ca(this.zoom+1),X,{},ye,[],Ae),dt=this.paintVertexArray.length;this.paintVertexArray.resize(P),this._setPaintValue(dt,P,Le,Qe)},sa.prototype.updatePaintArray=function(P,X,se,ye){var Ae=this.expression.evaluate({zoom:this.zoom},se,ye),Le=this.expression.evaluate({zoom:this.zoom+1},se,ye);this._setPaintValue(P,X,Ae,Le)},sa.prototype._setPaintValue=function(P,X,se,ye){if(this.type==="color")for(var Ae=Jn(se),Le=Jn(ye),Qe=P;Qe<X;Qe++)this.paintVertexArray.emplace(Qe,Ae[0],Ae[1],Le[0],Le[1]);else{for(var dt=P;dt<X;dt++)this.paintVertexArray.emplace(dt,se,ye);this.maxValue=Math.max(this.maxValue,Math.abs(se),Math.abs(ye))}},sa.prototype.upload=function(P){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=P.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},sa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},sa.prototype.setUniform=function(P,X){var se=this.useIntegerZoom?Math.floor(X.zoom):X.zoom,ye=h(this.expression.interpolationFactor(se,this.zoom,this.zoom+1),0,1);P.set(ye)},sa.prototype.getBinding=function(P,X,se){return new Kr(P,X)};var va=function(P,X,se,ye,Ae,Le){this.expression=P,this.type=X,this.useIntegerZoom=se,this.zoom=ye,this.layerId=Le,this.zoomInPaintVertexArray=new Ae,this.zoomOutPaintVertexArray=new Ae};va.prototype.populatePaintArray=function(P,X,se){var ye=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(P),this.zoomOutPaintVertexArray.resize(P),this._setPaintValues(ye,P,X.patterns&&X.patterns[this.layerId],se)},va.prototype.updatePaintArray=function(P,X,se,ye,Ae){this._setPaintValues(P,X,se.patterns&&se.patterns[this.layerId],Ae)},va.prototype._setPaintValues=function(P,X,se,ye){if(!(!ye||!se)){var Ae=se.min,Le=se.mid,Qe=se.max,dt=ye[Ae],St=ye[Le],Lt=ye[Qe];if(!(!dt||!St||!Lt))for(var Xt=P;Xt<X;Xt++)this.zoomInPaintVertexArray.emplace(Xt,St.tl[0],St.tl[1],St.br[0],St.br[1],dt.tl[0],dt.tl[1],dt.br[0],dt.br[1],St.pixelRatio,dt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Xt,St.tl[0],St.tl[1],St.br[0],St.br[1],Lt.tl[0],Lt.tl[1],Lt.br[0],Lt.br[1],St.pixelRatio,Lt.pixelRatio)}},va.prototype.upload=function(P){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=P.createVertexBuffer(this.zoomInPaintVertexArray,$.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=P.createVertexBuffer(this.zoomOutPaintVertexArray,$.members,this.expression.isStateDependent))},va.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Aa=function(P,X,se){this.binders={},this._buffers=[];var ye=[];for(var Ae in P.paint._values)if(se(Ae)){var Le=P.paint.get(Ae);if(!(!(Le instanceof Hi)||!ul(Le.property.specification))){var Qe=Va(Ae,P.type),dt=Le.value,St=Le.property.specification.type,Lt=Le.property.useIntegerZoom,Xt=Le.property.specification["property-type"],ar=Xt==="cross-faded"||Xt==="cross-faded-data-driven";if(dt.kind==="constant")this.binders[Ae]=ar?new jn(dt.value,Qe):new Qn(dt.value,Qe,St),ye.push("/u_"+Ae);else if(dt.kind==="source"||ar){var er=ri(Ae,St,"source");this.binders[Ae]=ar?new va(dt,St,Lt,X,er,P.id):new qn(dt,Qe,St,er),ye.push("/a_"+Ae)}else{var Tr=ri(Ae,St,"composite");this.binders[Ae]=new sa(dt,Qe,St,Lt,X,Tr),ye.push("/z_"+Ae)}}}this.cacheKey=ye.sort().join("")};Aa.prototype.getMaxValue=function(P){var X=this.binders[P];return X instanceof qn||X instanceof sa?X.maxValue:0},Aa.prototype.populatePaintArrays=function(P,X,se,ye,Ae){for(var Le in this.binders){var Qe=this.binders[Le];(Qe instanceof qn||Qe instanceof sa||Qe instanceof va)&&Qe.populatePaintArray(P,X,se,ye,Ae)}},Aa.prototype.setConstantPatternPositions=function(P,X){for(var se in this.binders){var ye=this.binders[se];ye instanceof jn&&ye.setConstantPatternPositions(P,X)}},Aa.prototype.updatePaintArrays=function(P,X,se,ye,Ae){var Le=!1;for(var Qe in P)for(var dt=X.getPositions(Qe),St=0,Lt=dt;St<Lt.length;St+=1){var Xt=Lt[St],ar=se.feature(Xt.index);for(var er in this.binders){var Tr=this.binders[er];if((Tr instanceof qn||Tr instanceof sa||Tr instanceof va)&&Tr.expression.isStateDependent===!0){var Vr=ye.paint.get(er);Tr.expression=Vr.value,Tr.updatePaintArray(Xt.start,Xt.end,ar,P[Qe],Ae),Le=!0}}}return Le},Aa.prototype.defines=function(){var P=[];for(var X in this.binders){var se=this.binders[X];(se instanceof Qn||se instanceof jn)&&P.push.apply(P,se.uniformNames.map(function(ye){return"#define HAS_UNIFORM_"+ye}))}return P},Aa.prototype.getBinderAttributes=function(){var P=[];for(var X in this.binders){var se=this.binders[X];if(se instanceof qn||se instanceof sa)for(var ye=0;ye<se.paintVertexAttributes.length;ye++)P.push(se.paintVertexAttributes[ye].name);else if(se instanceof va)for(var Ae=0;Ae<$.members.length;Ae++)P.push($.members[Ae].name)}return P},Aa.prototype.getBinderUniforms=function(){var P=[];for(var X in this.binders){var se=this.binders[X];if(se instanceof Qn||se instanceof jn||se instanceof sa)for(var ye=0,Ae=se.uniformNames;ye<Ae.length;ye+=1){var Le=Ae[ye];P.push(Le)}}return P},Aa.prototype.getPaintVertexBuffers=function(){return this._buffers},Aa.prototype.getUniforms=function(P,X){var se=[];for(var ye in this.binders){var Ae=this.binders[ye];if(Ae instanceof Qn||Ae instanceof jn||Ae instanceof sa)for(var Le=0,Qe=Ae.uniformNames;Le<Qe.length;Le+=1){var dt=Qe[Le];if(X[dt]){var St=Ae.getBinding(P,X[dt],dt);se.push({name:dt,property:ye,binding:St})}}}return se},Aa.prototype.setUniforms=function(P,X,se,ye){for(var Ae=0,Le=X;Ae<Le.length;Ae+=1){var Qe=Le[Ae],dt=Qe.name,St=Qe.property,Lt=Qe.binding;this.binders[St].setUniform(Lt,ye,se.get(St),dt)}},Aa.prototype.updatePaintBuffers=function(P){this._buffers=[];for(var X in this.binders){var se=this.binders[X];if(P&&se instanceof va){var ye=P.fromScale===2?se.zoomInPaintVertexBuffer:se.zoomOutPaintVertexBuffer;ye&&this._buffers.push(ye)}else(se instanceof qn||se instanceof sa)&&se.paintVertexBuffer&&this._buffers.push(se.paintVertexBuffer)}},Aa.prototype.upload=function(P){for(var X in this.binders){var se=this.binders[X];(se instanceof qn||se instanceof sa||se instanceof va)&&se.upload(P)}this.updatePaintBuffers()},Aa.prototype.destroy=function(){for(var P in this.binders){var X=this.binders[P];(X instanceof qn||X instanceof sa||X instanceof va)&&X.destroy()}};var ma=function(P,X,se){se===void 0&&(se=function(){return!0}),this.programConfigurations={};for(var ye=0,Ae=P;ye<Ae.length;ye+=1){var Le=Ae[ye];this.programConfigurations[Le.id]=new Aa(Le,X,se)}this.needsUpload=!1,this._featureMap=new ft,this._bufferOffset=0};ma.prototype.populatePaintArrays=function(P,X,se,ye,Ae,Le){for(var Qe in this.programConfigurations)this.programConfigurations[Qe].populatePaintArrays(P,X,ye,Ae,Le);X.id!==void 0&&this._featureMap.add(X.id,se,this._bufferOffset,P),this._bufferOffset=P,this.needsUpload=!0},ma.prototype.updatePaintArrays=function(P,X,se,ye){for(var Ae=0,Le=se;Ae<Le.length;Ae+=1){var Qe=Le[Ae];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(P,this._featureMap,X,Qe,ye)||this.needsUpload}},ma.prototype.get=function(P){return this.programConfigurations[P]},ma.prototype.upload=function(P){if(this.needsUpload){for(var X in this.programConfigurations)this.programConfigurations[X].upload(P);this.needsUpload=!1}},ma.prototype.destroy=function(){for(var P in this.programConfigurations)this.programConfigurations[P].destroy()};function Va(D,P){var X={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return X[D]||[D.replace(P+"-","").replace(/-/g,"_")]}function hi(D){var P={"line-pattern":{source:Os,composite:Os},"fill-pattern":{source:Os,composite:Os},"fill-extrusion-pattern":{source:Os,composite:Os}};return P[D]}function ri(D,P,X){var se={color:{source:Eh,composite:Ic},number:{source:_h,composite:Eh}},ye=hi(D);return ye&&ye[X]||se[P][X]}Ve("ConstantBinder",Qn),Ve("CrossFadedConstantBinder",jn),Ve("SourceExpressionBinder",qn),Ve("CrossFadedCompositeBinder",va),Ve("CompositeExpressionBinder",sa),Ve("ProgramConfiguration",Aa,{omit:["_buffers"]}),Ve("ProgramConfigurationSet",ma);var La=8192,ai=15,ja=Math.pow(2,ai-1)-1,Ti=-ja-1;function yi(D){for(var P=La/D.extent,X=D.loadGeometry(),se=0;se<X.length;se++)for(var ye=X[se],Ae=0;Ae<ye.length;Ae++){var Le=ye[Ae],Qe=Math.round(Le.x*P),dt=Math.round(Le.y*P);Le.x=h(Qe,Ti,ja),Le.y=h(dt,Ti,ja),(Qe<Le.x||Qe>Le.x+1||dt<Le.y||dt>Le.y+1)&&U("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return X}function Wi(D,P){return{type:D.type,id:D.id,properties:D.properties,geometry:P?yi(D):[]}}function fi(D,P,X,se,ye){D.emplaceBack(P*2+(se+1)/2,X*2+(ye+1)/2)}var Ni=function(P){this.zoom=P.zoom,this.overscaling=P.overscaling,this.layers=P.layers,this.layerIds=this.layers.map(function(X){return X.id}),this.index=P.index,this.hasPattern=!1,this.layoutVertexArray=new Rc,this.indexArray=new cf,this.segments=new No,this.programConfigurations=new ma(P.layers,P.zoom),this.stateDependentLayerIds=this.layers.filter(function(X){return X.isStateDependent()}).map(function(X){return X.id})};Ni.prototype.populate=function(P,X,se){var ye=this.layers[0],Ae=[],Le=null;ye.type==="circle"&&(Le=ye.layout.get("circle-sort-key"));for(var Qe=0,dt=P;Qe<dt.length;Qe+=1){var St=dt[Qe],Lt=St.feature,Xt=St.id,ar=St.index,er=St.sourceLayerIndex,Tr=this.layers[0]._featureFilter.needGeometry,Vr=Wi(Lt,Tr);if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),Vr,se)){var dn=Le?Le.evaluate(Vr,{},se):void 0,sn={id:Xt,properties:Lt.properties,type:Lt.type,sourceLayerIndex:er,index:ar,geometry:Tr?Vr.geometry:yi(Lt),patterns:{},sortKey:dn};Ae.push(sn)}}Le&&Ae.sort(function(xa,Sa){return xa.sortKey-Sa.sortKey});for(var Pn=0,bn=Ae;Pn<bn.length;Pn+=1){var Dn=bn[Pn],zn=Dn,Kn=zn.geometry,la=zn.index,aa=zn.sourceLayerIndex,Ea=P[la].feature;this.addFeature(Dn,Kn,la,se),X.featureIndex.insert(Ea,Kn,la,aa,this.index)}},Ni.prototype.update=function(P,X,se){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(P,X,this.stateDependentLayers,se)},Ni.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ni.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ni.prototype.upload=function(P){this.uploaded||(this.layoutVertexBuffer=P.createVertexBuffer(this.layoutVertexArray,Z0),this.indexBuffer=P.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(P),this.uploaded=!0},Ni.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ni.prototype.addFeature=function(P,X,se,ye){for(var Ae=0,Le=X;Ae<Le.length;Ae+=1)for(var Qe=Le[Ae],dt=0,St=Qe;dt<St.length;dt+=1){var Lt=St[dt],Xt=Lt.x,ar=Lt.y;if(!(Xt<0||Xt>=La||ar<0||ar>=La)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,P.sortKey),Tr=er.vertexLength;fi(this.layoutVertexArray,Xt,ar,-1,-1),fi(this.layoutVertexArray,Xt,ar,1,-1),fi(this.layoutVertexArray,Xt,ar,1,1),fi(this.layoutVertexArray,Xt,ar,-1,1),this.indexArray.emplaceBack(Tr,Tr+1,Tr+2),this.indexArray.emplaceBack(Tr,Tr+3,Tr+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,P,se,{},ye)},Ve("CircleBucket",Ni,{omit:["layers"]});function Qa(D,P){for(var X=0;X<D.length;X++)if(ks(P,D[X]))return!0;for(var se=0;se<P.length;se++)if(ks(D,P[se]))return!0;return!!Il(D,P)}function pi(D,P,X){return!!(ks(D,P)||Ru(P,D,X))}function vo(D,P){if(D.length===1)return Iu(P,D[0]);for(var X=0;X<P.length;X++)for(var se=P[X],ye=0;ye<se.length;ye++)if(ks(D,se[ye]))return!0;for(var Ae=0;Ae<D.length;Ae++)if(Iu(P,D[Ae]))return!0;for(var Le=0;Le<P.length;Le++)if(Il(D,P[Le]))return!0;return!1}function Zo(D,P,X){for(var se=0;se<P.length;se++){var ye=P[se];if(D.length>=3){for(var Ae=0;Ae<ye.length;Ae++)if(ks(D,ye[Ae]))return!0}if(Rl(D,ye,X))return!0}return!1}function Rl(D,P,X){if(D.length>1){if(Il(D,P))return!0;for(var se=0;se<P.length;se++)if(Ru(P[se],D,X))return!0}for(var ye=0;ye<D.length;ye++)if(Ru(D[ye],P,X))return!0;return!1}function Il(D,P){if(D.length===0||P.length===0)return!1;for(var X=0;X<D.length-1;X++)for(var se=D[X],ye=D[X+1],Ae=0;Ae<P.length-1;Ae++){var Le=P[Ae],Qe=P[Ae+1];if(ql(se,ye,Le,Qe))return!0}return!1}function ql(D,P,X,se){return z(D,X,se)!==z(P,X,se)&&z(D,P,X)!==z(D,P,se)}function Ru(D,P,X){var se=X*X;if(P.length===1)return D.distSqr(P[0])<se;for(var ye=1;ye<P.length;ye++){var Ae=P[ye-1],Le=P[ye];if(kc(D,Ae,Le)<se)return!0}return!1}function kc(D,P,X){var se=P.distSqr(X);if(se===0)return D.distSqr(P);var ye=((D.x-P.x)*(X.x-P.x)+(D.y-P.y)*(X.y-P.y))/se;return ye<0?D.distSqr(P):ye>1?D.distSqr(X):D.distSqr(X.sub(P)._mult(ye)._add(P))}function Iu(D,P){for(var X=!1,se,ye,Ae,Le=0;Le<D.length;Le++){se=D[Le];for(var Qe=0,dt=se.length-1;Qe<se.length;dt=Qe++)ye=se[Qe],Ae=se[dt],ye.y>P.y!=Ae.y>P.y&&P.x<(Ae.x-ye.x)*(P.y-ye.y)/(Ae.y-ye.y)+ye.x&&(X=!X)}return X}function ks(D,P){for(var X=!1,se=0,ye=D.length-1;se<D.length;ye=se++){var Ae=D[se],Le=D[ye];Ae.y>P.y!=Le.y>P.y&&P.x<(Le.x-Ae.x)*(P.y-Ae.y)/(Le.y-Ae.y)+Ae.x&&(X=!X)}return X}function Ou(D,P,X,se,ye){for(var Ae=0,Le=D;Ae<Le.length;Ae+=1){var Qe=Le[Ae];if(P<=Qe.x&&X<=Qe.y&&se>=Qe.x&&ye>=Qe.y)return!0}var dt=[new r(P,X),new r(P,ye),new r(se,ye),new r(se,X)];if(D.length>2)for(var St=0,Lt=dt;St<Lt.length;St+=1){var Xt=Lt[St];if(ks(D,Xt))return!0}for(var ar=0;ar<D.length-1;ar++){var er=D[ar],Tr=D[ar+1];if(Js(er,Tr,dt))return!0}return!1}function Js(D,P,X){var se=X[0],ye=X[2];if(D.x<se.x&&P.x<se.x||D.x>ye.x&&P.x>ye.x||D.y<se.y&&P.y<se.y||D.y>ye.y&&P.y>ye.y)return!1;var Ae=z(D,P,X[0]);return Ae!==z(D,P,X[1])||Ae!==z(D,P,X[2])||Ae!==z(D,P,X[3])}function Ns(D,P,X){var se=P.paint.get(D).value;return se.kind==="constant"?se.value:X.programConfigurations.get(P.id).getMaxValue(D)}function eu(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function hf(D,P,X,se,ye){if(!P[0]&&!P[1])return D;var Ae=r.convert(P)._mult(ye);X==="viewport"&&Ae._rotate(-se);for(var Le=[],Qe=0;Qe<D.length;Qe++){var dt=D[Qe];Le.push(dt.sub(Ae))}return Le}var tu=new Li({"circle-sort-key":new Ra(Mr.layout_circle["circle-sort-key"])}),rd=new Li({"circle-radius":new Ra(Mr.paint_circle["circle-radius"]),"circle-color":new Ra(Mr.paint_circle["circle-color"]),"circle-blur":new Ra(Mr.paint_circle["circle-blur"]),"circle-opacity":new Ra(Mr.paint_circle["circle-opacity"]),"circle-translate":new ha(Mr.paint_circle["circle-translate"]),"circle-translate-anchor":new ha(Mr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ha(Mr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ha(Mr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ra(Mr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ra(Mr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ra(Mr.paint_circle["circle-stroke-opacity"])}),Dh={paint:rd,layout:tu},$o=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,P=0,X=arguments.length;X--;)P+=D[X]*D[X];return Math.sqrt(P)});function nd(){var D=new $o(4);return $o!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function Lv(D,P,X){var se=P[0],ye=P[1],Ae=P[2],Le=P[3],Qe=Math.sin(X),dt=Math.cos(X);return D[0]=se*dt+Ae*Qe,D[1]=ye*dt+Le*Qe,D[2]=se*-Qe+Ae*dt,D[3]=ye*-Qe+Le*dt,D}function xs(){var D=new $o(9);return $o!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function Ph(D,P){var X=Math.sin(P),se=Math.cos(P);return D[0]=se,D[1]=X,D[2]=0,D[3]=-X,D[4]=se,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function ad(){var D=new $o(16);return $o!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function id(D){var P=new $o(16);return P[0]=D[0],P[1]=D[1],P[2]=D[2],P[3]=D[3],P[4]=D[4],P[5]=D[5],P[6]=D[6],P[7]=D[7],P[8]=D[8],P[9]=D[9],P[10]=D[10],P[11]=D[11],P[12]=D[12],P[13]=D[13],P[14]=D[14],P[15]=D[15],P}function od(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function Rh(D,P){var X=P[0],se=P[1],ye=P[2],Ae=P[3],Le=P[4],Qe=P[5],dt=P[6],St=P[7],Lt=P[8],Xt=P[9],ar=P[10],er=P[11],Tr=P[12],Vr=P[13],dn=P[14],sn=P[15],Pn=X*Qe-se*Le,bn=X*dt-ye*Le,Dn=X*St-Ae*Le,zn=se*dt-ye*Qe,Kn=se*St-Ae*Qe,la=ye*St-Ae*dt,aa=Lt*Vr-Xt*Tr,Ea=Lt*dn-ar*Tr,xa=Lt*sn-er*Tr,Sa=Xt*dn-ar*Vr,Ga=Xt*sn-er*Vr,_a=ar*sn-er*dn,Pa=Pn*_a-bn*Ga+Dn*Sa+zn*xa-Kn*Ea+la*aa;return Pa?(Pa=1/Pa,D[0]=(Qe*_a-dt*Ga+St*Sa)*Pa,D[1]=(ye*Ga-se*_a-Ae*Sa)*Pa,D[2]=(Vr*la-dn*Kn+sn*zn)*Pa,D[3]=(ar*Kn-Xt*la-er*zn)*Pa,D[4]=(dt*xa-Le*_a-St*Ea)*Pa,D[5]=(X*_a-ye*xa+Ae*Ea)*Pa,D[6]=(dn*Dn-Tr*la-sn*bn)*Pa,D[7]=(Lt*la-ar*Dn+er*bn)*Pa,D[8]=(Le*Ga-Qe*xa+St*aa)*Pa,D[9]=(se*xa-X*Ga-Ae*aa)*Pa,D[10]=(Tr*Kn-Vr*Dn+sn*Pn)*Pa,D[11]=(Xt*Dn-Lt*Kn-er*Pn)*Pa,D[12]=(Qe*Ea-Le*Sa-dt*aa)*Pa,D[13]=(X*Sa-se*Ea+ye*aa)*Pa,D[14]=(Vr*bn-Tr*zn-dn*Pn)*Pa,D[15]=(Lt*zn-Xt*bn+ar*Pn)*Pa,D):null}function Ih(D,P,X){var se=P[0],ye=P[1],Ae=P[2],Le=P[3],Qe=P[4],dt=P[5],St=P[6],Lt=P[7],Xt=P[8],ar=P[9],er=P[10],Tr=P[11],Vr=P[12],dn=P[13],sn=P[14],Pn=P[15],bn=X[0],Dn=X[1],zn=X[2],Kn=X[3];return D[0]=bn*se+Dn*Qe+zn*Xt+Kn*Vr,D[1]=bn*ye+Dn*dt+zn*ar+Kn*dn,D[2]=bn*Ae+Dn*St+zn*er+Kn*sn,D[3]=bn*Le+Dn*Lt+zn*Tr+Kn*Pn,bn=X[4],Dn=X[5],zn=X[6],Kn=X[7],D[4]=bn*se+Dn*Qe+zn*Xt+Kn*Vr,D[5]=bn*ye+Dn*dt+zn*ar+Kn*dn,D[6]=bn*Ae+Dn*St+zn*er+Kn*sn,D[7]=bn*Le+Dn*Lt+zn*Tr+Kn*Pn,bn=X[8],Dn=X[9],zn=X[10],Kn=X[11],D[8]=bn*se+Dn*Qe+zn*Xt+Kn*Vr,D[9]=bn*ye+Dn*dt+zn*ar+Kn*dn,D[10]=bn*Ae+Dn*St+zn*er+Kn*sn,D[11]=bn*Le+Dn*Lt+zn*Tr+Kn*Pn,bn=X[12],Dn=X[13],zn=X[14],Kn=X[15],D[12]=bn*se+Dn*Qe+zn*Xt+Kn*Vr,D[13]=bn*ye+Dn*dt+zn*ar+Kn*dn,D[14]=bn*Ae+Dn*St+zn*er+Kn*sn,D[15]=bn*Le+Dn*Lt+zn*Tr+Kn*Pn,D}function wo(D,P,X){var se=X[0],ye=X[1],Ae=X[2],Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn;return P===D?(D[12]=P[0]*se+P[4]*ye+P[8]*Ae+P[12],D[13]=P[1]*se+P[5]*ye+P[9]*Ae+P[13],D[14]=P[2]*se+P[6]*ye+P[10]*Ae+P[14],D[15]=P[3]*se+P[7]*ye+P[11]*Ae+P[15]):(Le=P[0],Qe=P[1],dt=P[2],St=P[3],Lt=P[4],Xt=P[5],ar=P[6],er=P[7],Tr=P[8],Vr=P[9],dn=P[10],sn=P[11],D[0]=Le,D[1]=Qe,D[2]=dt,D[3]=St,D[4]=Lt,D[5]=Xt,D[6]=ar,D[7]=er,D[8]=Tr,D[9]=Vr,D[10]=dn,D[11]=sn,D[12]=Le*se+Lt*ye+Tr*Ae+P[12],D[13]=Qe*se+Xt*ye+Vr*Ae+P[13],D[14]=dt*se+ar*ye+dn*Ae+P[14],D[15]=St*se+er*ye+sn*Ae+P[15]),D}function Qs(D,P,X){var se=X[0],ye=X[1],Ae=X[2];return D[0]=P[0]*se,D[1]=P[1]*se,D[2]=P[2]*se,D[3]=P[3]*se,D[4]=P[4]*ye,D[5]=P[5]*ye,D[6]=P[6]*ye,D[7]=P[7]*ye,D[8]=P[8]*Ae,D[9]=P[9]*Ae,D[10]=P[10]*Ae,D[11]=P[11]*Ae,D[12]=P[12],D[13]=P[13],D[14]=P[14],D[15]=P[15],D}function $s(D,P,X){var se=Math.sin(X),ye=Math.cos(X),Ae=P[4],Le=P[5],Qe=P[6],dt=P[7],St=P[8],Lt=P[9],Xt=P[10],ar=P[11];return P!==D&&(D[0]=P[0],D[1]=P[1],D[2]=P[2],D[3]=P[3],D[12]=P[12],D[13]=P[13],D[14]=P[14],D[15]=P[15]),D[4]=Ae*ye+St*se,D[5]=Le*ye+Lt*se,D[6]=Qe*ye+Xt*se,D[7]=dt*ye+ar*se,D[8]=St*ye-Ae*se,D[9]=Lt*ye-Le*se,D[10]=Xt*ye-Qe*se,D[11]=ar*ye-dt*se,D}function sd(D,P,X){var se=Math.sin(X),ye=Math.cos(X),Ae=P[0],Le=P[1],Qe=P[2],dt=P[3],St=P[4],Lt=P[5],Xt=P[6],ar=P[7];return P!==D&&(D[8]=P[8],D[9]=P[9],D[10]=P[10],D[11]=P[11],D[12]=P[12],D[13]=P[13],D[14]=P[14],D[15]=P[15]),D[0]=Ae*ye+St*se,D[1]=Le*ye+Lt*se,D[2]=Qe*ye+Xt*se,D[3]=dt*ye+ar*se,D[4]=St*ye-Ae*se,D[5]=Lt*ye-Le*se,D[6]=Xt*ye-Qe*se,D[7]=ar*ye-dt*se,D}function wp(D,P,X,se,ye){var Ae=1/Math.tan(P/2),Le;return D[0]=Ae/X,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Ae,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,ye!=null&&ye!==1/0?(Le=1/(se-ye),D[10]=(ye+se)*Le,D[14]=2*ye*se*Le):(D[10]=-1,D[14]=-2*se),D}function Xy(D,P,X,se,ye,Ae,Le){var Qe=1/(P-X),dt=1/(se-ye),St=1/(Ae-Le);return D[0]=-2*Qe,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*dt,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*St,D[11]=0,D[12]=(P+X)*Qe,D[13]=(ye+se)*dt,D[14]=(Le+Ae)*St,D[15]=1,D}var Zy=Ih;function Dv(){var D=new $o(3);return $o!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function jy(D){var P=new $o(3);return P[0]=D[0],P[1]=D[1],P[2]=D[2],P}function ld(D,P,X){return D[0]=P[0]+X[0],D[1]=P[1]+X[1],D[2]=P[2]+X[2],D}function Ky(D,P,X){return D[0]=P[0]-X[0],D[1]=P[1]-X[1],D[2]=P[2]-X[2],D}function Jy(D,P,X){return D[0]=P[0]*X,D[1]=P[1]*X,D[2]=P[2]*X,D}function Tp(D,P){var X=P[0],se=P[1],ye=P[2],Ae=X*X+se*se+ye*ye;return Ae>0&&(Ae=1/Math.sqrt(Ae)),D[0]=P[0]*Ae,D[1]=P[1]*Ae,D[2]=P[2]*Ae,D}function T4(D,P){return D[0]*P[0]+D[1]*P[1]+D[2]*P[2]}function A4(D,P,X){var se=P[0],ye=P[1],Ae=P[2],Le=X[0],Qe=X[1],dt=X[2];return D[0]=ye*dt-Ae*Qe,D[1]=Ae*Le-se*dt,D[2]=se*Qe-ye*Le,D}function S4(D,P,X){var se=P[0],ye=P[1],Ae=P[2];return D[0]=se*X[0]+ye*X[3]+Ae*X[6],D[1]=se*X[1]+ye*X[4]+Ae*X[7],D[2]=se*X[2]+ye*X[5]+Ae*X[8],D}var M4=Ky;(function(){var D=Dv();return function(P,X,se,ye,Ae,Le){var Qe,dt;for(X||(X=3),se||(se=0),ye?dt=Math.min(ye*X+se,P.length):dt=P.length,Qe=se;Qe<dt;Qe+=X)D[0]=P[Qe],D[1]=P[Qe+1],D[2]=P[Qe+2],Ae(D,D,Le),P[Qe]=D[0],P[Qe+1]=D[1],P[Qe+2]=D[2];return P}})();function E4(){var D=new $o(4);return $o!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function _4(D,P,X){return D[0]=P[0]*X,D[1]=P[1]*X,D[2]=P[2]*X,D[3]=P[3]*X,D}function C4(D,P){return D[0]*P[0]+D[1]*P[1]+D[2]*P[2]+D[3]*P[3]}function j0(D,P,X){var se=P[0],ye=P[1],Ae=P[2],Le=P[3];return D[0]=X[0]*se+X[4]*ye+X[8]*Ae+X[12]*Le,D[1]=X[1]*se+X[5]*ye+X[9]*Ae+X[13]*Le,D[2]=X[2]*se+X[6]*ye+X[10]*Ae+X[14]*Le,D[3]=X[3]*se+X[7]*ye+X[11]*Ae+X[15]*Le,D}(function(){var D=E4();return function(P,X,se,ye,Ae,Le){var Qe,dt;for(X||(X=4),se||(se=0),ye?dt=Math.min(ye*X+se,P.length):dt=P.length,Qe=se;Qe<dt;Qe+=X)D[0]=P[Qe],D[1]=P[Qe+1],D[2]=P[Qe+2],D[3]=P[Qe+3],Ae(D,D,Le),P[Qe]=D[0],P[Qe+1]=D[1],P[Qe+2]=D[2],P[Qe+3]=D[3];return P}})();function L4(){var D=new $o(2);return $o!=Float32Array&&(D[0]=0,D[1]=0),D}function D4(D){var P=D[0],X=D[1];return P*P+X*X}var P4=D4;(function(){var D=L4();return function(P,X,se,ye,Ae,Le){var Qe,dt;for(X||(X=2),se||(se=0),ye?dt=Math.min(ye*X+se,P.length):dt=P.length,Qe=se;Qe<dt;Qe+=X)D[0]=P[Qe],D[1]=P[Qe+1],Ae(D,D,Le),P[Qe]=D[0],P[Qe+1]=D[1];return P}})();var R4=function(D){function P(X){D.call(this,X,Dh)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.createBucket=function(se){return new Ni(se)},P.prototype.queryRadius=function(se){var ye=se;return Ns("circle-radius",this,ye)+Ns("circle-stroke-width",this,ye)+eu(this.paint.get("circle-translate"))},P.prototype.queryIntersectsFeature=function(se,ye,Ae,Le,Qe,dt,St,Lt){for(var Xt=hf(se,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),dt.angle,St),ar=this.paint.get("circle-radius").evaluate(ye,Ae),er=this.paint.get("circle-stroke-width").evaluate(ye,Ae),Tr=ar+er,Vr=this.paint.get("circle-pitch-alignment")==="map",dn=Vr?Xt:I4(Xt,Lt),sn=Vr?Tr*St:Tr,Pn=0,bn=Le;Pn<bn.length;Pn+=1)for(var Dn=bn[Pn],zn=0,Kn=Dn;zn<Kn.length;zn+=1){var la=Kn[zn],aa=Vr?la:n3(la,Lt),Ea=sn,xa=j0([],[la.x,la.y,0,1],Lt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ea*=xa[3]/dt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ea*=dt.cameraToCenterDistance/xa[3]),pi(dn,aa,Ea))return!0}return!1},P}(ho);function n3(D,P){var X=j0([],[D.x,D.y,0,1],P);return new r(X[0]/X[3],X[1]/X[3])}function I4(D,P){return D.map(function(X){return n3(X,P)})}var a3=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P}(Ni);Ve("HeatmapBucket",a3,{omit:["layers"]});function Qy(D,P,X,se){var ye=P.width,Ae=P.height;if(!se)se=new Uint8Array(ye*Ae*X);else if(se instanceof Uint8ClampedArray)se=new Uint8Array(se.buffer);else if(se.length!==ye*Ae*X)throw new RangeError("mismatched image size");return D.width=ye,D.height=Ae,D.data=se,D}function i3(D,P,X){var se=P.width,ye=P.height;if(!(se===D.width&&ye===D.height)){var Ae=Qy({},{width:se,height:ye},X);$y(D,Ae,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,se),height:Math.min(D.height,ye)},X),D.width=se,D.height=ye,D.data=Ae.data}}function $y(D,P,X,se,ye,Ae){if(ye.width===0||ye.height===0)return P;if(ye.width>D.width||ye.height>D.height||X.x>D.width-ye.width||X.y>D.height-ye.height)throw new RangeError("out of range source coordinates for image copy");if(ye.width>P.width||ye.height>P.height||se.x>P.width-ye.width||se.y>P.height-ye.height)throw new RangeError("out of range destination coordinates for image copy");for(var Le=D.data,Qe=P.data,dt=0;dt<ye.height;dt++)for(var St=((X.y+dt)*D.width+X.x)*Ae,Lt=((se.y+dt)*P.width+se.x)*Ae,Xt=0;Xt<ye.width*Ae;Xt++)Qe[Lt+Xt]=Le[St+Xt];return P}var Pv=function(P,X){Qy(this,P,1,X)};Pv.prototype.resize=function(P){i3(this,P,1)},Pv.prototype.clone=function(){return new Pv({width:this.width,height:this.height},new Uint8Array(this.data))},Pv.copy=function(P,X,se,ye,Ae){$y(P,X,se,ye,Ae,1)};var qs=function(P,X){Qy(this,P,4,X)};qs.prototype.resize=function(P){i3(this,P,4)},qs.prototype.replace=function(P,X){X?this.data.set(P):P instanceof Uint8ClampedArray?this.data=new Uint8Array(P.buffer):this.data=P},qs.prototype.clone=function(){return new qs({width:this.width,height:this.height},new Uint8Array(this.data))},qs.copy=function(P,X,se,ye,Ae){$y(P,X,se,ye,Ae,4)},Ve("AlphaImage",Pv),Ve("RGBAImage",qs);var O4=new Li({"heatmap-radius":new Ra(Mr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ra(Mr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ha(Mr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ko(Mr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ha(Mr.paint_heatmap["heatmap-opacity"])}),k4={paint:O4};function o3(D){var P={},X=D.resolution||256,se=D.clips?D.clips.length:1,ye=D.image||new qs({width:X,height:se}),Ae=function(Pn,bn,Dn){P[D.evaluationKey]=Dn;var zn=D.expression.evaluate(P);ye.data[Pn+bn+0]=Math.floor(zn.r*255/zn.a),ye.data[Pn+bn+1]=Math.floor(zn.g*255/zn.a),ye.data[Pn+bn+2]=Math.floor(zn.b*255/zn.a),ye.data[Pn+bn+3]=Math.floor(zn.a*255)};if(D.clips)for(var St=0,Lt=0;St<se;++St,Lt+=X*4)for(var Xt=0,ar=0;Xt<X;Xt++,ar+=4){var er=Xt/(X-1),Tr=D.clips[St],Vr=Tr.start,dn=Tr.end,sn=Vr*(1-er)+dn*er;Ae(Lt,ar,sn)}else for(var Le=0,Qe=0;Le<X;Le++,Qe+=4){var dt=Le/(X-1);Ae(0,Qe,dt)}return ye}var N4=function(D){function P(X){D.call(this,X,k4),this._updateColorRamp()}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.createBucket=function(se){return new a3(se)},P.prototype._handleSpecialPaintPropertyUpdate=function(se){se==="heatmap-color"&&this._updateColorRamp()},P.prototype._updateColorRamp=function(){var se=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=o3({expression:se,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},P.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},P.prototype.queryRadius=function(){return 0},P.prototype.queryIntersectsFeature=function(){return!1},P.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},P}(ho),F4=new Li({"hillshade-illumination-direction":new ha(Mr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ha(Mr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ha(Mr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ha(Mr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ha(Mr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ha(Mr.paint_hillshade["hillshade-accent-color"])}),z4={paint:F4},B4=function(D){function P(X){D.call(this,X,z4)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},P}(ho),U4=eo([{name:"a_pos",components:2,type:"Int16"}],4),V4=U4.members,qy=K0,H4=K0;function K0(D,P,X){X=X||2;var se=P&&P.length,ye=se?P[0]*X:D.length,Ae=s3(D,0,ye,X,!0),Le=[];if(!Ae||Ae.next===Ae.prev)return Le;var Qe,dt,St,Lt,Xt,ar,er;if(se&&(Ae=Z4(D,P,Ae,X)),D.length>80*X){Qe=St=D[0],dt=Lt=D[1];for(var Tr=X;Tr<ye;Tr+=X)Xt=D[Tr],ar=D[Tr+1],Xt<Qe&&(Qe=Xt),ar<dt&&(dt=ar),Xt>St&&(St=Xt),ar>Lt&&(Lt=ar);er=Math.max(St-Qe,Lt-dt),er=er!==0?1/er:0}return Ap(Ae,Le,X,Qe,dt,er),Le}function s3(D,P,X,se,ye){var Ae,Le;if(ye===rm(D,P,X,se)>0)for(Ae=P;Ae<X;Ae+=se)Le=f3(Ae,D[Ae],D[Ae+1],Le);else for(Ae=X-se;Ae>=P;Ae-=se)Le=f3(Ae,D[Ae],D[Ae+1],Le);return Le&&J0(Le,Le.next)&&(Mp(Le),Le=Le.next),Le}function Oh(D,P){if(!D)return D;P||(P=D);var X=D,se;do if(se=!1,!X.steiner&&(J0(X,X.next)||Fo(X.prev,X,X.next)===0)){if(Mp(X),X=P=X.prev,X===X.next)break;se=!0}else X=X.next;while(se||X!==P);return P}function Ap(D,P,X,se,ye,Ae,Le){if(D){!Le&&Ae&&$4(D,se,ye,Ae);for(var Qe=D,dt,St;D.prev!==D.next;){if(dt=D.prev,St=D.next,Ae?W4(D,se,ye,Ae):Y4(D)){P.push(dt.i/X),P.push(D.i/X),P.push(St.i/X),Mp(D),D=St.next,Qe=St.next;continue}if(D=St,D===Qe){Le?Le===1?(D=G4(Oh(D),P,X),Ap(D,P,X,se,ye,Ae,2)):Le===2&&X4(D,P,X,se,ye,Ae):Ap(Oh(D),P,X,se,ye,Ae,1);break}}}}function Y4(D){var P=D.prev,X=D,se=D.next;if(Fo(P,X,se)>=0)return!1;for(var ye=D.next.next;ye!==D.prev;){if(ud(P.x,P.y,X.x,X.y,se.x,se.y,ye.x,ye.y)&&Fo(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function W4(D,P,X,se){var ye=D.prev,Ae=D,Le=D.next;if(Fo(ye,Ae,Le)>=0)return!1;for(var Qe=ye.x<Ae.x?ye.x<Le.x?ye.x:Le.x:Ae.x<Le.x?Ae.x:Le.x,dt=ye.y<Ae.y?ye.y<Le.y?ye.y:Le.y:Ae.y<Le.y?Ae.y:Le.y,St=ye.x>Ae.x?ye.x>Le.x?ye.x:Le.x:Ae.x>Le.x?Ae.x:Le.x,Lt=ye.y>Ae.y?ye.y>Le.y?ye.y:Le.y:Ae.y>Le.y?Ae.y:Le.y,Xt=em(Qe,dt,P,X,se),ar=em(St,Lt,P,X,se),er=D.prevZ,Tr=D.nextZ;er&&er.z>=Xt&&Tr&&Tr.z<=ar;){if(er!==D.prev&&er!==D.next&&ud(ye.x,ye.y,Ae.x,Ae.y,Le.x,Le.y,er.x,er.y)&&Fo(er.prev,er,er.next)>=0||(er=er.prevZ,Tr!==D.prev&&Tr!==D.next&&ud(ye.x,ye.y,Ae.x,Ae.y,Le.x,Le.y,Tr.x,Tr.y)&&Fo(Tr.prev,Tr,Tr.next)>=0))return!1;Tr=Tr.nextZ}for(;er&&er.z>=Xt;){if(er!==D.prev&&er!==D.next&&ud(ye.x,ye.y,Ae.x,Ae.y,Le.x,Le.y,er.x,er.y)&&Fo(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;Tr&&Tr.z<=ar;){if(Tr!==D.prev&&Tr!==D.next&&ud(ye.x,ye.y,Ae.x,Ae.y,Le.x,Le.y,Tr.x,Tr.y)&&Fo(Tr.prev,Tr,Tr.next)>=0)return!1;Tr=Tr.nextZ}return!0}function G4(D,P,X){var se=D;do{var ye=se.prev,Ae=se.next.next;!J0(ye,Ae)&&l3(ye,se,se.next,Ae)&&Sp(ye,Ae)&&Sp(Ae,ye)&&(P.push(ye.i/X),P.push(se.i/X),P.push(Ae.i/X),Mp(se),Mp(se.next),se=D=Ae),se=se.next}while(se!==D);return Oh(se)}function X4(D,P,X,se,ye,Ae){var Le=D;do{for(var Qe=Le.next.next;Qe!==Le.prev;){if(Le.i!==Qe.i&&tA(Le,Qe)){var dt=u3(Le,Qe);Le=Oh(Le,Le.next),dt=Oh(dt,dt.next),Ap(Le,P,X,se,ye,Ae),Ap(dt,P,X,se,ye,Ae);return}Qe=Qe.next}Le=Le.next}while(Le!==D)}function Z4(D,P,X,se){var ye=[],Ae,Le,Qe,dt,St;for(Ae=0,Le=P.length;Ae<Le;Ae++)Qe=P[Ae]*se,dt=Ae<Le-1?P[Ae+1]*se:D.length,St=s3(D,Qe,dt,se,!1),St===St.next&&(St.steiner=!0),ye.push(eA(St));for(ye.sort(j4),Ae=0;Ae<ye.length;Ae++)K4(ye[Ae],X),X=Oh(X,X.next);return X}function j4(D,P){return D.x-P.x}function K4(D,P){if(P=J4(D,P),P){var X=u3(P,D);Oh(P,P.next),Oh(X,X.next)}}function J4(D,P){var X=P,se=D.x,ye=D.y,Ae=-1/0,Le;do{if(ye<=X.y&&ye>=X.next.y&&X.next.y!==X.y){var Qe=X.x+(ye-X.y)*(X.next.x-X.x)/(X.next.y-X.y);if(Qe<=se&&Qe>Ae){if(Ae=Qe,Qe===se){if(ye===X.y)return X;if(ye===X.next.y)return X.next}Le=X.x<X.next.x?X:X.next}}X=X.next}while(X!==P);if(!Le)return null;if(se===Ae)return Le;var dt=Le,St=Le.x,Lt=Le.y,Xt=1/0,ar;X=Le;do se>=X.x&&X.x>=St&&se!==X.x&&ud(ye<Lt?se:Ae,ye,St,Lt,ye<Lt?Ae:se,ye,X.x,X.y)&&(ar=Math.abs(ye-X.y)/(se-X.x),Sp(X,D)&&(ar<Xt||ar===Xt&&(X.x>Le.x||X.x===Le.x&&Q4(Le,X)))&&(Le=X,Xt=ar)),X=X.next;while(X!==dt);return Le}function Q4(D,P){return Fo(D.prev,D,P.prev)<0&&Fo(P.next,D,D.next)<0}function $4(D,P,X,se){var ye=D;do ye.z===null&&(ye.z=em(ye.x,ye.y,P,X,se)),ye.prevZ=ye.prev,ye.nextZ=ye.next,ye=ye.next;while(ye!==D);ye.prevZ.nextZ=null,ye.prevZ=null,q4(ye)}function q4(D){var P,X,se,ye,Ae,Le,Qe,dt,St=1;do{for(X=D,D=null,Ae=null,Le=0;X;){for(Le++,se=X,Qe=0,P=0;P<St&&(Qe++,se=se.nextZ,!!se);P++);for(dt=St;Qe>0||dt>0&&se;)Qe!==0&&(dt===0||!se||X.z<=se.z)?(ye=X,X=X.nextZ,Qe--):(ye=se,se=se.nextZ,dt--),Ae?Ae.nextZ=ye:D=ye,ye.prevZ=Ae,Ae=ye;X=se}Ae.nextZ=null,St*=2}while(Le>1);return D}function em(D,P,X,se,ye){return D=32767*(D-X)*ye,P=32767*(P-se)*ye,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,P=(P|P<<8)&16711935,P=(P|P<<4)&252645135,P=(P|P<<2)&858993459,P=(P|P<<1)&1431655765,D|P<<1}function eA(D){var P=D,X=D;do(P.x<X.x||P.x===X.x&&P.y<X.y)&&(X=P),P=P.next;while(P!==D);return X}function ud(D,P,X,se,ye,Ae,Le,Qe){return(ye-Le)*(P-Qe)-(D-Le)*(Ae-Qe)>=0&&(D-Le)*(se-Qe)-(X-Le)*(P-Qe)>=0&&(X-Le)*(Ae-Qe)-(ye-Le)*(se-Qe)>=0}function tA(D,P){return D.next.i!==P.i&&D.prev.i!==P.i&&!rA(D,P)&&(Sp(D,P)&&Sp(P,D)&&nA(D,P)&&(Fo(D.prev,D,P.prev)||Fo(D,P.prev,P))||J0(D,P)&&Fo(D.prev,D,D.next)>0&&Fo(P.prev,P,P.next)>0)}function Fo(D,P,X){return(P.y-D.y)*(X.x-P.x)-(P.x-D.x)*(X.y-P.y)}function J0(D,P){return D.x===P.x&&D.y===P.y}function l3(D,P,X,se){var ye=$0(Fo(D,P,X)),Ae=$0(Fo(D,P,se)),Le=$0(Fo(X,se,D)),Qe=$0(Fo(X,se,P));return!!(ye!==Ae&&Le!==Qe||ye===0&&Q0(D,X,P)||Ae===0&&Q0(D,se,P)||Le===0&&Q0(X,D,se)||Qe===0&&Q0(X,P,se))}function Q0(D,P,X){return P.x<=Math.max(D.x,X.x)&&P.x>=Math.min(D.x,X.x)&&P.y<=Math.max(D.y,X.y)&&P.y>=Math.min(D.y,X.y)}function $0(D){return D>0?1:D<0?-1:0}function rA(D,P){var X=D;do{if(X.i!==D.i&&X.next.i!==D.i&&X.i!==P.i&&X.next.i!==P.i&&l3(X,X.next,D,P))return!0;X=X.next}while(X!==D);return!1}function Sp(D,P){return Fo(D.prev,D,D.next)<0?Fo(D,P,D.next)>=0&&Fo(D,D.prev,P)>=0:Fo(D,P,D.prev)<0||Fo(D,D.next,P)<0}function nA(D,P){var X=D,se=!1,ye=(D.x+P.x)/2,Ae=(D.y+P.y)/2;do X.y>Ae!=X.next.y>Ae&&X.next.y!==X.y&&ye<(X.next.x-X.x)*(Ae-X.y)/(X.next.y-X.y)+X.x&&(se=!se),X=X.next;while(X!==D);return se}function u3(D,P){var X=new tm(D.i,D.x,D.y),se=new tm(P.i,P.x,P.y),ye=D.next,Ae=P.prev;return D.next=P,P.prev=D,X.next=ye,ye.prev=X,se.next=X,X.prev=se,Ae.next=se,se.prev=Ae,se}function f3(D,P,X,se){var ye=new tm(D,P,X);return se?(ye.next=se.next,ye.prev=se,se.next.prev=ye,se.next=ye):(ye.prev=ye,ye.next=ye),ye}function Mp(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function tm(D,P,X){this.i=D,this.x=P,this.y=X,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}K0.deviation=function(D,P,X,se){var ye=P&&P.length,Ae=ye?P[0]*X:D.length,Le=Math.abs(rm(D,0,Ae,X));if(ye)for(var Qe=0,dt=P.length;Qe<dt;Qe++){var St=P[Qe]*X,Lt=Qe<dt-1?P[Qe+1]*X:D.length;Le-=Math.abs(rm(D,St,Lt,X))}var Xt=0;for(Qe=0;Qe<se.length;Qe+=3){var ar=se[Qe]*X,er=se[Qe+1]*X,Tr=se[Qe+2]*X;Xt+=Math.abs((D[ar]-D[Tr])*(D[er+1]-D[ar+1])-(D[ar]-D[er])*(D[Tr+1]-D[ar+1]))}return Le===0&&Xt===0?0:Math.abs((Xt-Le)/Le)};function rm(D,P,X,se){for(var ye=0,Ae=P,Le=X-se;Ae<X;Ae+=se)ye+=(D[Le]-D[Ae])*(D[Ae+1]+D[Le+1]),Le=Ae;return ye}K0.flatten=function(D){for(var P=D[0][0].length,X={vertices:[],holes:[],dimensions:P},se=0,ye=0;ye<D.length;ye++){for(var Ae=0;Ae<D[ye].length;Ae++)for(var Le=0;Le<P;Le++)X.vertices.push(D[ye][Ae][Le]);ye>0&&(se+=D[ye-1].length,X.holes.push(se))}return X},qy.default=H4;function aA(D,P,X,se,ye){c3(D,P,X,se||D.length-1,ye||iA)}function c3(D,P,X,se,ye){for(;se>X;){if(se-X>600){var Ae=se-X+1,Le=P-X+1,Qe=Math.log(Ae),dt=.5*Math.exp(2*Qe/3),St=.5*Math.sqrt(Qe*dt*(Ae-dt)/Ae)*(Le-Ae/2<0?-1:1),Lt=Math.max(X,Math.floor(P-Le*dt/Ae+St)),Xt=Math.min(se,Math.floor(P+(Ae-Le)*dt/Ae+St));c3(D,P,Lt,Xt,ye)}var ar=D[P],er=X,Tr=se;for(Ep(D,X,P),ye(D[se],ar)>0&&Ep(D,X,se);er<Tr;){for(Ep(D,er,Tr),er++,Tr--;ye(D[er],ar)<0;)er++;for(;ye(D[Tr],ar)>0;)Tr--}ye(D[X],ar)===0?Ep(D,X,Tr):(Tr++,Ep(D,Tr,se)),Tr<=P&&(X=Tr+1),P<=Tr&&(se=Tr-1)}}function Ep(D,P,X){var se=D[P];D[P]=D[X],D[X]=se}function iA(D,P){return D<P?-1:D>P?1:0}function nm(D,P){var X=D.length;if(X<=1)return[D];for(var se=[],ye,Ae,Le=0;Le<X;Le++){var Qe=W(D[Le]);Qe!==0&&(D[Le].area=Math.abs(Qe),Ae===void 0&&(Ae=Qe<0),Ae===Qe<0?(ye&&se.push(ye),ye=[D[Le]]):ye.push(D[Le]))}if(ye&&se.push(ye),P>1)for(var dt=0;dt<se.length;dt++)se[dt].length<=P||(aA(se[dt],P,1,se[dt].length-1,oA),se[dt]=se[dt].slice(0,P));return se}function oA(D,P){return P.area-D.area}function am(D,P,X){for(var se=X.patternDependencies,ye=!1,Ae=0,Le=P;Ae<Le.length;Ae+=1){var Qe=Le[Ae],dt=Qe.paint.get(D+"-pattern");dt.isConstant()||(ye=!0);var St=dt.constantOr(null);St&&(ye=!0,se[St.to]=!0,se[St.from]=!0)}return ye}function im(D,P,X,se,ye){for(var Ae=ye.patternDependencies,Le=0,Qe=P;Le<Qe.length;Le+=1){var dt=Qe[Le],St=dt.paint.get(D+"-pattern"),Lt=St.value;if(Lt.kind!=="constant"){var Xt=Lt.evaluate({zoom:se-1},X,{},ye.availableImages),ar=Lt.evaluate({zoom:se},X,{},ye.availableImages),er=Lt.evaluate({zoom:se+1},X,{},ye.availableImages);Xt=Xt&&Xt.name?Xt.name:Xt,ar=ar&&ar.name?ar.name:ar,er=er&&er.name?er.name:er,Ae[Xt]=!0,Ae[ar]=!0,Ae[er]=!0,X.patterns[dt.id]={min:Xt,mid:ar,max:er}}}return X}var sA=500,vf=function(P){this.zoom=P.zoom,this.overscaling=P.overscaling,this.layers=P.layers,this.layerIds=this.layers.map(function(X){return X.id}),this.index=P.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Rc,this.indexArray=new cf,this.indexArray2=new Cv,this.programConfigurations=new ma(P.layers,P.zoom),this.segments=new No,this.segments2=new No,this.stateDependentLayerIds=this.layers.filter(function(X){return X.isStateDependent()}).map(function(X){return X.id})};vf.prototype.populate=function(P,X,se){this.hasPattern=am("fill",this.layers,X);for(var ye=this.layers[0].layout.get("fill-sort-key"),Ae=[],Le=0,Qe=P;Le<Qe.length;Le+=1){var dt=Qe[Le],St=dt.feature,Lt=dt.id,Xt=dt.index,ar=dt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,Tr=Wi(St,er);if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),Tr,se)){var Vr=ye?ye.evaluate(Tr,{},se,X.availableImages):void 0,dn={id:Lt,properties:St.properties,type:St.type,sourceLayerIndex:ar,index:Xt,geometry:er?Tr.geometry:yi(St),patterns:{},sortKey:Vr};Ae.push(dn)}}ye&&Ae.sort(function(xa,Sa){return xa.sortKey-Sa.sortKey});for(var sn=0,Pn=Ae;sn<Pn.length;sn+=1){var bn=Pn[sn],Dn=bn,zn=Dn.geometry,Kn=Dn.index,la=Dn.sourceLayerIndex;if(this.hasPattern){var aa=im("fill",this.layers,bn,this.zoom,X);this.patternFeatures.push(aa)}else this.addFeature(bn,zn,Kn,se,{});var Ea=P[Kn].feature;X.featureIndex.insert(Ea,zn,Kn,la,this.index)}},vf.prototype.update=function(P,X,se){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(P,X,this.stateDependentLayers,se)},vf.prototype.addFeatures=function(P,X,se){for(var ye=0,Ae=this.patternFeatures;ye<Ae.length;ye+=1){var Le=Ae[ye];this.addFeature(Le,Le.geometry,Le.index,X,se)}},vf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vf.prototype.upload=function(P){this.uploaded||(this.layoutVertexBuffer=P.createVertexBuffer(this.layoutVertexArray,V4),this.indexBuffer=P.createIndexBuffer(this.indexArray),this.indexBuffer2=P.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(P),this.uploaded=!0},vf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},vf.prototype.addFeature=function(P,X,se,ye,Ae){for(var Le=0,Qe=nm(X,sA);Le<Qe.length;Le+=1){for(var dt=Qe[Le],St=0,Lt=0,Xt=dt;Lt<Xt.length;Lt+=1){var ar=Xt[Lt];St+=ar.length}for(var er=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray),Tr=er.vertexLength,Vr=[],dn=[],sn=0,Pn=dt;sn<Pn.length;sn+=1){var bn=Pn[sn];if(bn.length!==0){bn!==dt[0]&&dn.push(Vr.length/2);var Dn=this.segments2.prepareSegment(bn.length,this.layoutVertexArray,this.indexArray2),zn=Dn.vertexLength;this.layoutVertexArray.emplaceBack(bn[0].x,bn[0].y),this.indexArray2.emplaceBack(zn+bn.length-1,zn),Vr.push(bn[0].x),Vr.push(bn[0].y);for(var Kn=1;Kn<bn.length;Kn++)this.layoutVertexArray.emplaceBack(bn[Kn].x,bn[Kn].y),this.indexArray2.emplaceBack(zn+Kn-1,zn+Kn),Vr.push(bn[Kn].x),Vr.push(bn[Kn].y);Dn.vertexLength+=bn.length,Dn.primitiveLength+=bn.length}}for(var la=qy(Vr,dn),aa=0;aa<la.length;aa+=3)this.indexArray.emplaceBack(Tr+la[aa],Tr+la[aa+1],Tr+la[aa+2]);er.vertexLength+=St,er.primitiveLength+=la.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,P,se,Ae,ye)},Ve("FillBucket",vf,{omit:["layers","patternFeatures"]});var lA=new Li({"fill-sort-key":new Ra(Mr.layout_fill["fill-sort-key"])}),uA=new Li({"fill-antialias":new ha(Mr.paint_fill["fill-antialias"]),"fill-opacity":new Ra(Mr.paint_fill["fill-opacity"]),"fill-color":new Ra(Mr.paint_fill["fill-color"]),"fill-outline-color":new Ra(Mr.paint_fill["fill-outline-color"]),"fill-translate":new ha(Mr.paint_fill["fill-translate"]),"fill-translate-anchor":new ha(Mr.paint_fill["fill-translate-anchor"]),"fill-pattern":new ss(Mr.paint_fill["fill-pattern"])}),fA={paint:uA,layout:lA},cA=function(D){function P(X){D.call(this,X,fA)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.recalculate=function(se,ye){D.prototype.recalculate.call(this,se,ye);var Ae=this.paint._values["fill-outline-color"];Ae.value.kind==="constant"&&Ae.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},P.prototype.createBucket=function(se){return new vf(se)},P.prototype.queryRadius=function(){return eu(this.paint.get("fill-translate"))},P.prototype.queryIntersectsFeature=function(se,ye,Ae,Le,Qe,dt,St){var Lt=hf(se,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),dt.angle,St);return vo(Lt,Le)},P.prototype.isTileClipped=function(){return!0},P}(ho),hA=eo([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),vA=hA.members,h3=fd;function fd(D,P,X,se,ye){this.properties={},this.extent=X,this.type=0,this._pbf=D,this._geometry=-1,this._keys=se,this._values=ye,D.readFields(dA,this,P)}function dA(D,P,X){D==1?P.id=X.readVarint():D==2?pA(X,P):D==3?P.type=X.readVarint():D==4&&(P._geometry=X.pos)}function pA(D,P){for(var X=D.readVarint()+D.pos;D.pos<X;){var se=P._keys[D.readVarint()],ye=P._values[D.readVarint()];P.properties[se]=ye}}fd.types=["Unknown","Point","LineString","Polygon"],fd.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var P=D.readVarint()+D.pos,X=1,se=0,ye=0,Ae=0,Le=[],Qe;D.pos<P;){if(se<=0){var dt=D.readVarint();X=dt&7,se=dt>>3}if(se--,X===1||X===2)ye+=D.readSVarint(),Ae+=D.readSVarint(),X===1&&(Qe&&Le.push(Qe),Qe=[]),Qe.push(new r(ye,Ae));else if(X===7)Qe&&Qe.push(Qe[0].clone());else throw new Error("unknown command "+X)}return Qe&&Le.push(Qe),Le},fd.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var P=D.readVarint()+D.pos,X=1,se=0,ye=0,Ae=0,Le=1/0,Qe=-1/0,dt=1/0,St=-1/0;D.pos<P;){if(se<=0){var Lt=D.readVarint();X=Lt&7,se=Lt>>3}if(se--,X===1||X===2)ye+=D.readSVarint(),Ae+=D.readSVarint(),ye<Le&&(Le=ye),ye>Qe&&(Qe=ye),Ae<dt&&(dt=Ae),Ae>St&&(St=Ae);else if(X!==7)throw new Error("unknown command "+X)}return[Le,dt,Qe,St]},fd.prototype.toGeoJSON=function(D,P,X){var se=this.extent*Math.pow(2,X),ye=this.extent*D,Ae=this.extent*P,Le=this.loadGeometry(),Qe=fd.types[this.type],dt,St;function Lt(er){for(var Tr=0;Tr<er.length;Tr++){var Vr=er[Tr],dn=180-(Vr.y+Ae)*360/se;er[Tr]=[(Vr.x+ye)*360/se-180,360/Math.PI*Math.atan(Math.exp(dn*Math.PI/180))-90]}}switch(this.type){case 1:var Xt=[];for(dt=0;dt<Le.length;dt++)Xt[dt]=Le[dt][0];Le=Xt,Lt(Le);break;case 2:for(dt=0;dt<Le.length;dt++)Lt(Le[dt]);break;case 3:for(Le=gA(Le),dt=0;dt<Le.length;dt++)for(St=0;St<Le[dt].length;St++)Lt(Le[dt][St]);break}Le.length===1?Le=Le[0]:Qe="Multi"+Qe;var ar={type:"Feature",geometry:{type:Qe,coordinates:Le},properties:this.properties};return"id"in this&&(ar.id=this.id),ar};function gA(D){var P=D.length;if(P<=1)return[D];for(var X=[],se,ye,Ae=0;Ae<P;Ae++){var Le=yA(D[Ae]);Le!==0&&(ye===void 0&&(ye=Le<0),ye===Le<0?(se&&X.push(se),se=[D[Ae]]):se.push(D[Ae]))}return se&&X.push(se),X}function yA(D){for(var P=0,X=0,se=D.length,ye=se-1,Ae,Le;X<se;ye=X++)Ae=D[X],Le=D[ye],P+=(Le.x-Ae.x)*(Ae.y+Le.y);return P}var v3=d3;function d3(D,P){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields(mA,this,P),this.length=this._features.length}function mA(D,P,X){D===15?P.version=X.readVarint():D===1?P.name=X.readString():D===5?P.extent=X.readVarint():D===2?P._features.push(X.pos):D===3?P._keys.push(X.readString()):D===4&&P._values.push(xA(X))}function xA(D){for(var P=null,X=D.readVarint()+D.pos;D.pos<X;){var se=D.readVarint()>>3;P=se===1?D.readString():se===2?D.readFloat():se===3?D.readDouble():se===4?D.readVarint64():se===5?D.readVarint():se===6?D.readSVarint():se===7?D.readBoolean():null}return P}d3.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var P=this._pbf.readVarint()+this._pbf.pos;return new h3(this._pbf,P,this.extent,this._keys,this._values)};var bA=wA;function wA(D,P){this.layers=D.readFields(TA,{},P)}function TA(D,P,X){if(D===3){var se=new v3(X,X.readVarint()+X.pos);se.length&&(P[se.name]=se)}}var AA=bA,SA=h3,MA=v3,cd={VectorTile:AA,VectorTileFeature:SA,VectorTileLayer:MA},EA=cd.VectorTileFeature.types,_A=500,om=Math.pow(2,13);function _p(D,P,X,se,ye,Ae,Le,Qe){D.emplaceBack(P,X,Math.floor(se*om)*2+Le,ye*om*2,Ae*om*2,Math.round(Qe))}var df=function(P){this.zoom=P.zoom,this.overscaling=P.overscaling,this.layers=P.layers,this.layerIds=this.layers.map(function(X){return X.id}),this.index=P.index,this.hasPattern=!1,this.layoutVertexArray=new jf,this.indexArray=new cf,this.programConfigurations=new ma(P.layers,P.zoom),this.segments=new No,this.stateDependentLayerIds=this.layers.filter(function(X){return X.isStateDependent()}).map(function(X){return X.id})};df.prototype.populate=function(P,X,se){this.features=[],this.hasPattern=am("fill-extrusion",this.layers,X);for(var ye=0,Ae=P;ye<Ae.length;ye+=1){var Le=Ae[ye],Qe=Le.feature,dt=Le.id,St=Le.index,Lt=Le.sourceLayerIndex,Xt=this.layers[0]._featureFilter.needGeometry,ar=Wi(Qe,Xt);if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),ar,se)){var er={id:dt,sourceLayerIndex:Lt,index:St,geometry:Xt?ar.geometry:yi(Qe),properties:Qe.properties,type:Qe.type,patterns:{}};this.hasPattern?this.features.push(im("fill-extrusion",this.layers,er,this.zoom,X)):this.addFeature(er,er.geometry,St,se,{}),X.featureIndex.insert(Qe,er.geometry,St,Lt,this.index,!0)}}},df.prototype.addFeatures=function(P,X,se){for(var ye=0,Ae=this.features;ye<Ae.length;ye+=1){var Le=Ae[ye],Qe=Le.geometry;this.addFeature(Le,Qe,Le.index,X,se)}},df.prototype.update=function(P,X,se){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(P,X,this.stateDependentLayers,se)},df.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},df.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},df.prototype.upload=function(P){this.uploaded||(this.layoutVertexBuffer=P.createVertexBuffer(this.layoutVertexArray,vA),this.indexBuffer=P.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(P),this.uploaded=!0},df.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},df.prototype.addFeature=function(P,X,se,ye,Ae){for(var Le=0,Qe=nm(X,_A);Le<Qe.length;Le+=1){for(var dt=Qe[Le],St=0,Lt=0,Xt=dt;Lt<Xt.length;Lt+=1){var ar=Xt[Lt];St+=ar.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Tr=0,Vr=dt;Tr<Vr.length;Tr+=1){var dn=Vr[Tr];if(dn.length!==0&&!LA(dn))for(var sn=0,Pn=0;Pn<dn.length;Pn++){var bn=dn[Pn];if(Pn>=1){var Dn=dn[Pn-1];if(!CA(bn,Dn)){er.vertexLength+4>No.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var zn=bn.sub(Dn)._perp()._unit(),Kn=Dn.dist(bn);sn+Kn>32768&&(sn=0),_p(this.layoutVertexArray,bn.x,bn.y,zn.x,zn.y,0,0,sn),_p(this.layoutVertexArray,bn.x,bn.y,zn.x,zn.y,0,1,sn),sn+=Kn,_p(this.layoutVertexArray,Dn.x,Dn.y,zn.x,zn.y,0,0,sn),_p(this.layoutVertexArray,Dn.x,Dn.y,zn.x,zn.y,0,1,sn);var la=er.vertexLength;this.indexArray.emplaceBack(la,la+2,la+1),this.indexArray.emplaceBack(la+1,la+2,la+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+St>No.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(St,this.layoutVertexArray,this.indexArray)),EA[P.type]==="Polygon"){for(var aa=[],Ea=[],xa=er.vertexLength,Sa=0,Ga=dt;Sa<Ga.length;Sa+=1){var _a=Ga[Sa];if(_a.length!==0){_a!==dt[0]&&Ea.push(aa.length/2);for(var Pa=0;Pa<_a.length;Pa++){var $a=_a[Pa];_p(this.layoutVertexArray,$a.x,$a.y,0,0,1,1,0),aa.push($a.x),aa.push($a.y)}}}for(var Ya=qy(aa,Ea),Ai=0;Ai<Ya.length;Ai+=3)this.indexArray.emplaceBack(xa+Ya[Ai],xa+Ya[Ai+2],xa+Ya[Ai+1]);er.primitiveLength+=Ya.length/3,er.vertexLength+=St}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,P,se,Ae,ye)},Ve("FillExtrusionBucket",df,{omit:["layers","features"]});function CA(D,P){return D.x===P.x&&(D.x<0||D.x>La)||D.y===P.y&&(D.y<0||D.y>La)}function LA(D){return D.every(function(P){return P.x<0})||D.every(function(P){return P.x>La})||D.every(function(P){return P.y<0})||D.every(function(P){return P.y>La})}var DA=new Li({"fill-extrusion-opacity":new ha(Mr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ra(Mr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ha(Mr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ha(Mr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ss(Mr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ra(Mr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ra(Mr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ha(Mr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),PA={paint:DA},RA=function(D){function P(X){D.call(this,X,PA)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.createBucket=function(se){return new df(se)},P.prototype.queryRadius=function(){return eu(this.paint.get("fill-extrusion-translate"))},P.prototype.is3D=function(){return!0},P.prototype.queryIntersectsFeature=function(se,ye,Ae,Le,Qe,dt,St,Lt){var Xt=hf(se,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),dt.angle,St),ar=this.paint.get("fill-extrusion-height").evaluate(ye,Ae),er=this.paint.get("fill-extrusion-base").evaluate(ye,Ae),Tr=kA(Xt,Lt,dt,0),Vr=OA(Le,er,ar,Lt),dn=Vr[0],sn=Vr[1];return IA(dn,sn,Tr)},P}(ho);function Cp(D,P){return D.x*P.x+D.y*P.y}function p3(D,P){if(D.length===1){for(var X=0,se=P[X++],ye;!ye||se.equals(ye);)if(ye=P[X++],!ye)return 1/0;for(;X<P.length;X++){var Ae=P[X],Le=D[0],Qe=ye.sub(se),dt=Ae.sub(se),St=Le.sub(se),Lt=Cp(Qe,Qe),Xt=Cp(Qe,dt),ar=Cp(dt,dt),er=Cp(St,Qe),Tr=Cp(St,dt),Vr=Lt*ar-Xt*Xt,dn=(ar*er-Xt*Tr)/Vr,sn=(Lt*Tr-Xt*er)/Vr,Pn=1-dn-sn,bn=se.z*Pn+ye.z*dn+Ae.z*sn;if(isFinite(bn))return bn}return 1/0}else{for(var Dn=1/0,zn=0,Kn=P;zn<Kn.length;zn+=1){var la=Kn[zn];Dn=Math.min(Dn,la.z)}return Dn}}function IA(D,P,X){var se=1/0;vo(X,P)&&(se=p3(X,P[0]));for(var ye=0;ye<P.length;ye++)for(var Ae=P[ye],Le=D[ye],Qe=0;Qe<Ae.length-1;Qe++){var dt=Ae[Qe],St=Ae[Qe+1],Lt=Le[Qe],Xt=Le[Qe+1],ar=[dt,St,Xt,Lt,dt];Qa(X,ar)&&(se=Math.min(se,p3(X,ar)))}return se===1/0?!1:se}function OA(D,P,X,se){for(var ye=[],Ae=[],Le=se[8]*P,Qe=se[9]*P,dt=se[10]*P,St=se[11]*P,Lt=se[8]*X,Xt=se[9]*X,ar=se[10]*X,er=se[11]*X,Tr=0,Vr=D;Tr<Vr.length;Tr+=1){for(var dn=Vr[Tr],sn=[],Pn=[],bn=0,Dn=dn;bn<Dn.length;bn+=1){var zn=Dn[bn],Kn=zn.x,la=zn.y,aa=se[0]*Kn+se[4]*la+se[12],Ea=se[1]*Kn+se[5]*la+se[13],xa=se[2]*Kn+se[6]*la+se[14],Sa=se[3]*Kn+se[7]*la+se[15],Ga=aa+Le,_a=Ea+Qe,Pa=xa+dt,$a=Sa+St,Ya=aa+Lt,Ai=Ea+Xt,zi=xa+ar,Si=Sa+er,Mi=new r(Ga/$a,_a/$a);Mi.z=Pa/$a,sn.push(Mi);var mi=new r(Ya/Si,Ai/Si);mi.z=zi/Si,Pn.push(mi)}ye.push(sn),Ae.push(Pn)}return[ye,Ae]}function kA(D,P,X,se){for(var ye=[],Ae=0,Le=D;Ae<Le.length;Ae+=1){var Qe=Le[Ae],dt=[Qe.x,Qe.y,se,1];j0(dt,dt,P),ye.push(new r(dt[0]/dt[3],dt[1]/dt[3]))}return ye}var NA=eo([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),FA=NA.members,zA=eo([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),BA=zA.members,UA=cd.VectorTileFeature.types,g3=63,VA=Math.cos(75/2*(Math.PI/180)),HA=15,YA=20,WA=15,y3=1/2,m3=Math.pow(2,WA-1)/y3,Fs=function(P){var X=this;this.zoom=P.zoom,this.overscaling=P.overscaling,this.layers=P.layers,this.layerIds=this.layers.map(function(se){return se.id}),this.index=P.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(se){X.gradients[se.id]={}}),this.layoutVertexArray=new Mh,this.layoutVertexArray2=new Eh,this.indexArray=new cf,this.programConfigurations=new ma(P.layers,P.zoom),this.segments=new No,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(se){return se.isStateDependent()}).map(function(se){return se.id})};Fs.prototype.populate=function(P,X,se){this.hasPattern=am("line",this.layers,X);for(var ye=this.layers[0].layout.get("line-sort-key"),Ae=[],Le=0,Qe=P;Le<Qe.length;Le+=1){var dt=Qe[Le],St=dt.feature,Lt=dt.id,Xt=dt.index,ar=dt.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,Tr=Wi(St,er);if(this.layers[0]._featureFilter.filter(new Ca(this.zoom),Tr,se)){var Vr=ye?ye.evaluate(Tr,{},se):void 0,dn={id:Lt,properties:St.properties,type:St.type,sourceLayerIndex:ar,index:Xt,geometry:er?Tr.geometry:yi(St),patterns:{},sortKey:Vr};Ae.push(dn)}}ye&&Ae.sort(function(xa,Sa){return xa.sortKey-Sa.sortKey});for(var sn=0,Pn=Ae;sn<Pn.length;sn+=1){var bn=Pn[sn],Dn=bn,zn=Dn.geometry,Kn=Dn.index,la=Dn.sourceLayerIndex;if(this.hasPattern){var aa=im("line",this.layers,bn,this.zoom,X);this.patternFeatures.push(aa)}else this.addFeature(bn,zn,Kn,se,{});var Ea=P[Kn].feature;X.featureIndex.insert(Ea,zn,Kn,la,this.index)}},Fs.prototype.update=function(P,X,se){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(P,X,this.stateDependentLayers,se)},Fs.prototype.addFeatures=function(P,X,se){for(var ye=0,Ae=this.patternFeatures;ye<Ae.length;ye+=1){var Le=Ae[ye];this.addFeature(Le,Le.geometry,Le.index,X,se)}},Fs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Fs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fs.prototype.upload=function(P){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=P.createVertexBuffer(this.layoutVertexArray2,BA)),this.layoutVertexBuffer=P.createVertexBuffer(this.layoutVertexArray,FA),this.indexBuffer=P.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(P),this.uploaded=!0},Fs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Fs.prototype.lineFeatureClips=function(P){if(P.properties&&P.properties.hasOwnProperty("mapbox_clip_start")&&P.properties.hasOwnProperty("mapbox_clip_end")){var X=+P.properties.mapbox_clip_start,se=+P.properties.mapbox_clip_end;return{start:X,end:se}}},Fs.prototype.addFeature=function(P,X,se,ye,Ae){var Le=this.layers[0].layout,Qe=Le.get("line-join").evaluate(P,{}),dt=Le.get("line-cap"),St=Le.get("line-miter-limit"),Lt=Le.get("line-round-limit");this.lineClips=this.lineFeatureClips(P);for(var Xt=0,ar=X;Xt<ar.length;Xt+=1){var er=ar[Xt];this.addLine(er,P,Qe,dt,St,Lt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,P,se,Ae,ye)},Fs.prototype.addLine=function(P,X,se,ye,Ae,Le){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Qe=0;Qe<P.length-1;Qe++)this.totalDistance+=P[Qe].dist(P[Qe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var dt=UA[X.type]==="Polygon",St=P.length;St>=2&&P[St-1].equals(P[St-2]);)St--;for(var Lt=0;Lt<St-1&&P[Lt].equals(P[Lt+1]);)Lt++;if(!(St<(dt?3:2))){se==="bevel"&&(Ae=1.05);var Xt=this.overscaling<=16?HA*La/(512*this.overscaling):0,ar=this.segments.prepareSegment(St*10,this.layoutVertexArray,this.indexArray),er,Tr=void 0,Vr=void 0,dn=void 0,sn=void 0;this.e1=this.e2=-1,dt&&(er=P[St-2],sn=P[Lt].sub(er)._unit()._perp());for(var Pn=Lt;Pn<St;Pn++)if(Vr=Pn===St-1?dt?P[Lt+1]:void 0:P[Pn+1],!(Vr&&P[Pn].equals(Vr))){sn&&(dn=sn),er&&(Tr=er),er=P[Pn],sn=Vr?Vr.sub(er)._unit()._perp():dn,dn=dn||sn;var bn=dn.add(sn);(bn.x!==0||bn.y!==0)&&bn._unit();var Dn=dn.x*sn.x+dn.y*sn.y,zn=bn.x*sn.x+bn.y*sn.y,Kn=zn!==0?1/zn:1/0,la=2*Math.sqrt(2-2*zn),aa=zn<VA&&Tr&&Vr,Ea=dn.x*sn.y-dn.y*sn.x>0;if(aa&&Pn>Lt){var xa=er.dist(Tr);if(xa>2*Xt){var Sa=er.sub(er.sub(Tr)._mult(Xt/xa)._round());this.updateDistance(Tr,Sa),this.addCurrentVertex(Sa,dn,0,0,ar),Tr=Sa}}var Ga=Tr&&Vr,_a=Ga?se:dt?"butt":ye;if(Ga&&_a==="round"&&(Kn<Le?_a="miter":Kn<=2&&(_a="fakeround")),_a==="miter"&&Kn>Ae&&(_a="bevel"),_a==="bevel"&&(Kn>2&&(_a="flipbevel"),Kn<Ae&&(_a="miter")),Tr&&this.updateDistance(Tr,er),_a==="miter")bn._mult(Kn),this.addCurrentVertex(er,bn,0,0,ar);else if(_a==="flipbevel"){if(Kn>100)bn=sn.mult(-1);else{var Pa=Kn*dn.add(sn).mag()/dn.sub(sn).mag();bn._perp()._mult(Pa*(Ea?-1:1))}this.addCurrentVertex(er,bn,0,0,ar),this.addCurrentVertex(er,bn.mult(-1),0,0,ar)}else if(_a==="bevel"||_a==="fakeround"){var $a=-Math.sqrt(Kn*Kn-1),Ya=Ea?$a:0,Ai=Ea?0:$a;if(Tr&&this.addCurrentVertex(er,dn,Ya,Ai,ar),_a==="fakeround")for(var zi=Math.round(la*180/Math.PI/YA),Si=1;Si<zi;Si++){var Mi=Si/zi;if(Mi!==.5){var mi=Mi-.5,Gi=1.0904+Dn*(-3.2452+Dn*(3.55645-Dn*1.43519)),Ki=.848013+Dn*(-1.06021+Dn*.215638);Mi=Mi+Mi*mi*(Mi-1)*(Gi*mi*mi+Ki)}var po=sn.sub(dn)._mult(Mi)._add(dn)._unit()._mult(Ea?-1:1);this.addHalfVertex(er,po.x,po.y,!1,Ea,0,ar)}Vr&&this.addCurrentVertex(er,sn,-Ya,-Ai,ar)}else if(_a==="butt")this.addCurrentVertex(er,bn,0,0,ar);else if(_a==="square"){var To=Tr?1:-1;this.addCurrentVertex(er,bn,To,To,ar)}else _a==="round"&&(Tr&&(this.addCurrentVertex(er,dn,0,0,ar),this.addCurrentVertex(er,dn,1,1,ar,!0)),Vr&&(this.addCurrentVertex(er,sn,-1,-1,ar,!0),this.addCurrentVertex(er,sn,0,0,ar)));if(aa&&Pn<St-1){var es=er.dist(Vr);if(es>2*Xt){var Uo=er.add(Vr.sub(er)._mult(Xt/es)._round());this.updateDistance(er,Uo),this.addCurrentVertex(Uo,sn,0,0,ar),er=Uo}}}}},Fs.prototype.addCurrentVertex=function(P,X,se,ye,Ae,Le){Le===void 0&&(Le=!1);var Qe=X.x+X.y*se,dt=X.y-X.x*se,St=-X.x+X.y*ye,Lt=-X.y-X.x*ye;this.addHalfVertex(P,Qe,dt,Le,!1,se,Ae),this.addHalfVertex(P,St,Lt,Le,!0,-ye,Ae),this.distance>m3/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(P,X,se,ye,Ae,Le))},Fs.prototype.addHalfVertex=function(P,X,se,ye,Ae,Le,Qe){var dt=P.x,St=P.y,Lt=this.lineClips?this.scaledDistance*(m3-1):this.scaledDistance,Xt=Lt*y3;if(this.layoutVertexArray.emplaceBack((dt<<1)+(ye?1:0),(St<<1)+(Ae?1:0),Math.round(g3*X)+128,Math.round(g3*se)+128,(Le===0?0:Le<0?-1:1)+1|(Xt&63)<<2,Xt>>6),this.lineClips){var ar=this.scaledDistance-this.lineClips.start,er=this.lineClips.end-this.lineClips.start,Tr=ar/er;this.layoutVertexArray2.emplaceBack(Tr,this.lineClipsArray.length)}var Vr=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Vr),Qe.primitiveLength++),Ae?this.e2=Vr:this.e1=Vr},Fs.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Fs.prototype.updateDistance=function(P,X){this.distance+=P.dist(X),this.updateScaledDistance()},Ve("LineBucket",Fs,{omit:["layers","patternFeatures"]});var GA=new Li({"line-cap":new ha(Mr.layout_line["line-cap"]),"line-join":new Ra(Mr.layout_line["line-join"]),"line-miter-limit":new ha(Mr.layout_line["line-miter-limit"]),"line-round-limit":new ha(Mr.layout_line["line-round-limit"]),"line-sort-key":new Ra(Mr.layout_line["line-sort-key"])}),XA=new Li({"line-opacity":new Ra(Mr.paint_line["line-opacity"]),"line-color":new Ra(Mr.paint_line["line-color"]),"line-translate":new ha(Mr.paint_line["line-translate"]),"line-translate-anchor":new ha(Mr.paint_line["line-translate-anchor"]),"line-width":new Ra(Mr.paint_line["line-width"]),"line-gap-width":new Ra(Mr.paint_line["line-gap-width"]),"line-offset":new Ra(Mr.paint_line["line-offset"]),"line-blur":new Ra(Mr.paint_line["line-blur"]),"line-dasharray":new ps(Mr.paint_line["line-dasharray"]),"line-pattern":new ss(Mr.paint_line["line-pattern"]),"line-gradient":new ko(Mr.paint_line["line-gradient"])}),x3={paint:XA,layout:GA},ZA=function(D){function P(){D.apply(this,arguments)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.possiblyEvaluate=function(se,ye){return ye=new Ca(Math.floor(ye.zoom),{now:ye.now,fadeDuration:ye.fadeDuration,zoomHistory:ye.zoomHistory,transition:ye.transition}),D.prototype.possiblyEvaluate.call(this,se,ye)},P.prototype.evaluate=function(se,ye,Ae,Le){return ye=x({},ye,{zoom:Math.floor(ye.zoom)}),D.prototype.evaluate.call(this,se,ye,Ae,Le)},P}(Ra),b3=new ZA(x3.paint.properties["line-width"].specification);b3.useIntegerZoom=!0;var jA=function(D){function P(X){D.call(this,X,x3),this.gradientVersion=0}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype._handleSpecialPaintPropertyUpdate=function(se){if(se==="line-gradient"){var ye=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ye._styleExpression.expression instanceof Cs,this.gradientVersion=(this.gradientVersion+1)%f}},P.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},P.prototype.recalculate=function(se,ye){D.prototype.recalculate.call(this,se,ye),this.paint._values["line-floorwidth"]=b3.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,se)},P.prototype.createBucket=function(se){return new Fs(se)},P.prototype.queryRadius=function(se){var ye=se,Ae=w3(Ns("line-width",this,ye),Ns("line-gap-width",this,ye)),Le=Ns("line-offset",this,ye);return Ae/2+Math.abs(Le)+eu(this.paint.get("line-translate"))},P.prototype.queryIntersectsFeature=function(se,ye,Ae,Le,Qe,dt,St){var Lt=hf(se,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),dt.angle,St),Xt=St/2*w3(this.paint.get("line-width").evaluate(ye,Ae),this.paint.get("line-gap-width").evaluate(ye,Ae)),ar=this.paint.get("line-offset").evaluate(ye,Ae);return ar&&(Le=KA(Le,ar*St)),Zo(Lt,Le,Xt)},P.prototype.isTileClipped=function(){return!0},P}(ho);function w3(D,P){return P>0?P+2*D:D}function KA(D,P){for(var X=[],se=new r(0,0),ye=0;ye<D.length;ye++){for(var Ae=D[ye],Le=[],Qe=0;Qe<Ae.length;Qe++){var dt=Ae[Qe-1],St=Ae[Qe],Lt=Ae[Qe+1],Xt=Qe===0?se:St.sub(dt)._unit()._perp(),ar=Qe===Ae.length-1?se:Lt.sub(St)._unit()._perp(),er=Xt._add(ar)._unit(),Tr=er.x*ar.x+er.y*ar.y;er._mult(1/Tr),Le.push(er._mult(P)._add(St))}X.push(Le)}return X}var JA=eo([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),QA=eo([{name:"a_projected_pos",components:3,type:"Float32"}],4);eo([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var $A=eo([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);eo([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var T3=eo([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),qA=eo([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);eo([{name:"triangle",components:3,type:"Uint16"}]),eo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),eo([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),eo([{type:"Float32",name:"offsetX"}]),eo([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function eS(D,P,X){var se=P.layout.get("text-transform").evaluate(X,{});return se==="uppercase"?D=D.toLocaleUpperCase():se==="lowercase"&&(D=D.toLocaleLowerCase()),ra.applyArabicShaping&&(D=ra.applyArabicShaping(D)),D}function tS(D,P,X){return D.sections.forEach(function(se){se.text=eS(se.text,P,X)}),D}function rS(D){var P={},X={},se=[],ye=0;function Ae(sn){se.push(D[sn]),ye++}function Le(sn,Pn,bn){var Dn=X[sn];return delete X[sn],X[Pn]=Dn,se[Dn].geometry[0].pop(),se[Dn].geometry[0]=se[Dn].geometry[0].concat(bn[0]),Dn}function Qe(sn,Pn,bn){var Dn=P[Pn];return delete P[Pn],P[sn]=Dn,se[Dn].geometry[0].shift(),se[Dn].geometry[0]=bn[0].concat(se[Dn].geometry[0]),Dn}function dt(sn,Pn,bn){var Dn=bn?Pn[0][Pn[0].length-1]:Pn[0][0];return sn+":"+Dn.x+":"+Dn.y}for(var St=0;St<D.length;St++){var Lt=D[St],Xt=Lt.geometry,ar=Lt.text?Lt.text.toString():null;if(!ar){Ae(St);continue}var er=dt(ar,Xt),Tr=dt(ar,Xt,!0);if(er in X&&Tr in P&&X[er]!==P[Tr]){var Vr=Qe(er,Tr,Xt),dn=Le(er,Tr,se[Vr].geometry);delete P[er],delete X[Tr],X[dt(ar,se[dn].geometry,!0)]=dn,se[Vr].geometry=null}else er in X?Le(er,Tr,Xt):Tr in P?Qe(er,Tr,Xt):(Ae(St),P[er]=ye-1,X[Tr]=ye-1)}return se.filter(function(sn){return sn.geometry})}var Lp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};function nS(D){for(var P="",X=0;X<D.length;X++){var se=D.charCodeAt(X+1)||null,ye=D.charCodeAt(X-1)||null,Ae=(!se||!Yr(se)||Lp[D[X+1]])&&(!ye||!Yr(ye)||Lp[D[X-1]]);Ae&&Lp[D[X]]?P+=Lp[D[X]]:P+=D[X]}return P}var ls=24,aS=function(D,P,X,se,ye){var Ae,Le,Qe=ye*8-se-1,dt=(1<<Qe)-1,St=dt>>1,Lt=-7,Xt=X?ye-1:0,ar=X?-1:1,er=D[P+Xt];for(Xt+=ar,Ae=er&(1<<-Lt)-1,er>>=-Lt,Lt+=Qe;Lt>0;Ae=Ae*256+D[P+Xt],Xt+=ar,Lt-=8);for(Le=Ae&(1<<-Lt)-1,Ae>>=-Lt,Lt+=se;Lt>0;Le=Le*256+D[P+Xt],Xt+=ar,Lt-=8);if(Ae===0)Ae=1-St;else{if(Ae===dt)return Le?NaN:(er?-1:1)*(1/0);Le=Le+Math.pow(2,se),Ae=Ae-St}return(er?-1:1)*Le*Math.pow(2,Ae-se)},iS=function(D,P,X,se,ye,Ae){var Le,Qe,dt,St=Ae*8-ye-1,Lt=(1<<St)-1,Xt=Lt>>1,ar=ye===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=se?0:Ae-1,Tr=se?1:-1,Vr=P<0||P===0&&1/P<0?1:0;for(P=Math.abs(P),isNaN(P)||P===1/0?(Qe=isNaN(P)?1:0,Le=Lt):(Le=Math.floor(Math.log(P)/Math.LN2),P*(dt=Math.pow(2,-Le))<1&&(Le--,dt*=2),Le+Xt>=1?P+=ar/dt:P+=ar*Math.pow(2,1-Xt),P*dt>=2&&(Le++,dt/=2),Le+Xt>=Lt?(Qe=0,Le=Lt):Le+Xt>=1?(Qe=(P*dt-1)*Math.pow(2,ye),Le=Le+Xt):(Qe=P*Math.pow(2,Xt-1)*Math.pow(2,ye),Le=0));ye>=8;D[X+er]=Qe&255,er+=Tr,Qe/=256,ye-=8);for(Le=Le<<ye|Qe,St+=ye;St>0;D[X+er]=Le&255,er+=Tr,Le/=256,St-=8);D[X+er-Tr]|=Vr*128},q0={read:aS,write:iS},eg=ji;function ji(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}ji.Varint=0,ji.Fixed64=1,ji.Bytes=2,ji.Fixed32=5;var sm=65536*65536,A3=1/sm,oS=12,S3=typeof TextDecoder>"u"?null:new TextDecoder("utf8");ji.prototype={destroy:function(){this.buf=null},readFields:function(D,P,X){for(X=X||this.length;this.pos<X;){var se=this.readVarint(),ye=se>>3,Ae=this.pos;this.type=se&7,D(ye,P,this),this.pos===Ae&&this.skip(se)}return P},readMessage:function(D,P){return this.readFields(D,P,this.readVarint()+this.pos)},readFixed32:function(){var D=tg(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=E3(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=tg(this.buf,this.pos)+tg(this.buf,this.pos+4)*sm;return this.pos+=8,D},readSFixed64:function(){var D=tg(this.buf,this.pos)+E3(this.buf,this.pos+4)*sm;return this.pos+=8,D},readFloat:function(){var D=q0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=q0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var P=this.buf,X,se;return se=P[this.pos++],X=se&127,se<128||(se=P[this.pos++],X|=(se&127)<<7,se<128)||(se=P[this.pos++],X|=(se&127)<<14,se<128)||(se=P[this.pos++],X|=(se&127)<<21,se<128)?X:(se=P[this.pos],X|=(se&15)<<28,sS(X,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,P=this.pos;return this.pos=D,D-P>=oS&&S3?wS(this.buf,P,D):bS(this.buf,P,D)},readBytes:function(){var D=this.readVarint()+this.pos,P=this.buf.subarray(this.pos,D);return this.pos=D,P},readPackedVarint:function(D,P){if(this.type!==ji.Bytes)return D.push(this.readVarint(P));var X=Nc(this);for(D=D||[];this.pos<X;)D.push(this.readVarint(P));return D},readPackedSVarint:function(D){if(this.type!==ji.Bytes)return D.push(this.readSVarint());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==ji.Bytes)return D.push(this.readBoolean());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==ji.Bytes)return D.push(this.readFloat());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==ji.Bytes)return D.push(this.readDouble());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==ji.Bytes)return D.push(this.readFixed32());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==ji.Bytes)return D.push(this.readSFixed32());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==ji.Bytes)return D.push(this.readFixed64());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==ji.Bytes)return D.push(this.readSFixed64());var P=Nc(this);for(D=D||[];this.pos<P;)D.push(this.readSFixed64());return D},skip:function(D){var P=D&7;if(P===ji.Varint)for(;this.buf[this.pos++]>127;);else if(P===ji.Bytes)this.pos=this.readVarint()+this.pos;else if(P===ji.Fixed32)this.pos+=4;else if(P===ji.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+P)},writeTag:function(D,P){this.writeVarint(D<<3|P)},realloc:function(D){for(var P=this.length||16;P<this.pos+D;)P*=2;if(P!==this.length){var X=new Uint8Array(P);X.set(this.buf),this.buf=X,this.length=P}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),vd(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),vd(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),vd(this.buf,D&-1,this.pos),vd(this.buf,Math.floor(D*A3),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),vd(this.buf,D&-1,this.pos),vd(this.buf,Math.floor(D*A3),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){lS(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var P=this.pos;this.pos=TS(this.buf,D,this.pos);var X=this.pos-P;X>=128&&M3(P,X,this),this.pos=P-1,this.writeVarint(X),this.pos+=X},writeFloat:function(D){this.realloc(4),q0.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),q0.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var P=D.length;this.writeVarint(P),this.realloc(P);for(var X=0;X<P;X++)this.buf[this.pos++]=D[X]},writeRawMessage:function(D,P){this.pos++;var X=this.pos;D(P,this);var se=this.pos-X;se>=128&&M3(X,se,this),this.pos=X-1,this.writeVarint(se),this.pos+=se},writeMessage:function(D,P,X){this.writeTag(D,ji.Bytes),this.writeRawMessage(P,X)},writePackedVarint:function(D,P){P.length&&this.writeMessage(D,cS,P)},writePackedSVarint:function(D,P){P.length&&this.writeMessage(D,hS,P)},writePackedBoolean:function(D,P){P.length&&this.writeMessage(D,pS,P)},writePackedFloat:function(D,P){P.length&&this.writeMessage(D,vS,P)},writePackedDouble:function(D,P){P.length&&this.writeMessage(D,dS,P)},writePackedFixed32:function(D,P){P.length&&this.writeMessage(D,gS,P)},writePackedSFixed32:function(D,P){P.length&&this.writeMessage(D,yS,P)},writePackedFixed64:function(D,P){P.length&&this.writeMessage(D,mS,P)},writePackedSFixed64:function(D,P){P.length&&this.writeMessage(D,xS,P)},writeBytesField:function(D,P){this.writeTag(D,ji.Bytes),this.writeBytes(P)},writeFixed32Field:function(D,P){this.writeTag(D,ji.Fixed32),this.writeFixed32(P)},writeSFixed32Field:function(D,P){this.writeTag(D,ji.Fixed32),this.writeSFixed32(P)},writeFixed64Field:function(D,P){this.writeTag(D,ji.Fixed64),this.writeFixed64(P)},writeSFixed64Field:function(D,P){this.writeTag(D,ji.Fixed64),this.writeSFixed64(P)},writeVarintField:function(D,P){this.writeTag(D,ji.Varint),this.writeVarint(P)},writeSVarintField:function(D,P){this.writeTag(D,ji.Varint),this.writeSVarint(P)},writeStringField:function(D,P){this.writeTag(D,ji.Bytes),this.writeString(P)},writeFloatField:function(D,P){this.writeTag(D,ji.Fixed32),this.writeFloat(P)},writeDoubleField:function(D,P){this.writeTag(D,ji.Fixed64),this.writeDouble(P)},writeBooleanField:function(D,P){this.writeVarintField(D,!!P)}};function sS(D,P,X){var se=X.buf,ye,Ae;if(Ae=se[X.pos++],ye=(Ae&112)>>4,Ae<128||(Ae=se[X.pos++],ye|=(Ae&127)<<3,Ae<128)||(Ae=se[X.pos++],ye|=(Ae&127)<<10,Ae<128)||(Ae=se[X.pos++],ye|=(Ae&127)<<17,Ae<128)||(Ae=se[X.pos++],ye|=(Ae&127)<<24,Ae<128)||(Ae=se[X.pos++],ye|=(Ae&1)<<31,Ae<128))return hd(D,ye,P);throw new Error("Expected varint not more than 10 bytes")}function Nc(D){return D.type===ji.Bytes?D.readVarint()+D.pos:D.pos+1}function hd(D,P,X){return X?P*4294967296+(D>>>0):(P>>>0)*4294967296+(D>>>0)}function lS(D,P){var X,se;if(D>=0?(X=D%4294967296|0,se=D/4294967296|0):(X=~(-D%4294967296),se=~(-D/4294967296),X^4294967295?X=X+1|0:(X=0,se=se+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");P.realloc(10),uS(X,se,P),fS(se,P)}function uS(D,P,X){X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos++]=D&127|128,D>>>=7,X.buf[X.pos]=D&127}function fS(D,P){var X=(D&7)<<4;P.buf[P.pos++]|=X|((D>>>=3)?128:0),D&&(P.buf[P.pos++]=D&127|((D>>>=7)?128:0),D&&(P.buf[P.pos++]=D&127|((D>>>=7)?128:0),D&&(P.buf[P.pos++]=D&127|((D>>>=7)?128:0),D&&(P.buf[P.pos++]=D&127|((D>>>=7)?128:0),D&&(P.buf[P.pos++]=D&127)))))}function M3(D,P,X){var se=P<=16383?1:P<=2097151?2:P<=268435455?3:Math.floor(Math.log(P)/(Math.LN2*7));X.realloc(se);for(var ye=X.pos-1;ye>=D;ye--)X.buf[ye+se]=X.buf[ye]}function cS(D,P){for(var X=0;X<D.length;X++)P.writeVarint(D[X])}function hS(D,P){for(var X=0;X<D.length;X++)P.writeSVarint(D[X])}function vS(D,P){for(var X=0;X<D.length;X++)P.writeFloat(D[X])}function dS(D,P){for(var X=0;X<D.length;X++)P.writeDouble(D[X])}function pS(D,P){for(var X=0;X<D.length;X++)P.writeBoolean(D[X])}function gS(D,P){for(var X=0;X<D.length;X++)P.writeFixed32(D[X])}function yS(D,P){for(var X=0;X<D.length;X++)P.writeSFixed32(D[X])}function mS(D,P){for(var X=0;X<D.length;X++)P.writeFixed64(D[X])}function xS(D,P){for(var X=0;X<D.length;X++)P.writeSFixed64(D[X])}function tg(D,P){return(D[P]|D[P+1]<<8|D[P+2]<<16)+D[P+3]*16777216}function vd(D,P,X){D[X]=P,D[X+1]=P>>>8,D[X+2]=P>>>16,D[X+3]=P>>>24}function E3(D,P){return(D[P]|D[P+1]<<8|D[P+2]<<16)+(D[P+3]<<24)}function bS(D,P,X){for(var se="",ye=P;ye<X;){var Ae=D[ye],Le=null,Qe=Ae>239?4:Ae>223?3:Ae>191?2:1;if(ye+Qe>X)break;var dt,St,Lt;Qe===1?Ae<128&&(Le=Ae):Qe===2?(dt=D[ye+1],(dt&192)===128&&(Le=(Ae&31)<<6|dt&63,Le<=127&&(Le=null))):Qe===3?(dt=D[ye+1],St=D[ye+2],(dt&192)===128&&(St&192)===128&&(Le=(Ae&15)<<12|(dt&63)<<6|St&63,(Le<=2047||Le>=55296&&Le<=57343)&&(Le=null))):Qe===4&&(dt=D[ye+1],St=D[ye+2],Lt=D[ye+3],(dt&192)===128&&(St&192)===128&&(Lt&192)===128&&(Le=(Ae&15)<<18|(dt&63)<<12|(St&63)<<6|Lt&63,(Le<=65535||Le>=1114112)&&(Le=null))),Le===null?(Le=65533,Qe=1):Le>65535&&(Le-=65536,se+=String.fromCharCode(Le>>>10&1023|55296),Le=56320|Le&1023),se+=String.fromCharCode(Le),ye+=Qe}return se}function wS(D,P,X){return S3.decode(D.subarray(P,X))}function TS(D,P,X){for(var se=0,ye,Ae;se<P.length;se++){if(ye=P.charCodeAt(se),ye>55295&&ye<57344)if(Ae)if(ye<56320){D[X++]=239,D[X++]=191,D[X++]=189,Ae=ye;continue}else ye=Ae-55296<<10|ye-56320|65536,Ae=null;else{ye>56319||se+1===P.length?(D[X++]=239,D[X++]=191,D[X++]=189):Ae=ye;continue}else Ae&&(D[X++]=239,D[X++]=191,D[X++]=189,Ae=null);ye<128?D[X++]=ye:(ye<2048?D[X++]=ye>>6|192:(ye<65536?D[X++]=ye>>12|224:(D[X++]=ye>>18|240,D[X++]=ye>>12&63|128),D[X++]=ye>>6&63|128),D[X++]=ye&63|128)}return X}var lm=3;function AS(D,P,X){D===1&&X.readMessage(SS,P)}function SS(D,P,X){if(D===3){var se=X.readMessage(MS,{}),ye=se.id,Ae=se.bitmap,Le=se.width,Qe=se.height,dt=se.left,St=se.top,Lt=se.advance;P.push({id:ye,bitmap:new Pv({width:Le+2*lm,height:Qe+2*lm},Ae),metrics:{width:Le,height:Qe,left:dt,top:St,advance:Lt}})}}function MS(D,P,X){D===1?P.id=X.readVarint():D===2?P.bitmap=X.readBytes():D===3?P.width=X.readVarint():D===4?P.height=X.readVarint():D===5?P.left=X.readSVarint():D===6?P.top=X.readSVarint():D===7&&(P.advance=X.readVarint())}function ES(D){return new eg(D).readFields(AS,[])}var _3=lm;function C3(D){for(var P=0,X=0,se=0,ye=D;se<ye.length;se+=1){var Ae=ye[se];P+=Ae.w*Ae.h,X=Math.max(X,Ae.w)}D.sort(function(dn,sn){return sn.h-dn.h});for(var Le=Math.max(Math.ceil(Math.sqrt(P/.95)),X),Qe=[{x:0,y:0,w:Le,h:1/0}],dt=0,St=0,Lt=0,Xt=D;Lt<Xt.length;Lt+=1)for(var ar=Xt[Lt],er=Qe.length-1;er>=0;er--){var Tr=Qe[er];if(!(ar.w>Tr.w||ar.h>Tr.h)){if(ar.x=Tr.x,ar.y=Tr.y,St=Math.max(St,ar.y+ar.h),dt=Math.max(dt,ar.x+ar.w),ar.w===Tr.w&&ar.h===Tr.h){var Vr=Qe.pop();er<Qe.length&&(Qe[er]=Vr)}else ar.h===Tr.h?(Tr.x+=ar.w,Tr.w-=ar.w):ar.w===Tr.w?(Tr.y+=ar.h,Tr.h-=ar.h):(Qe.push({x:Tr.x+ar.w,y:Tr.y,w:Tr.w-ar.w,h:ar.h}),Tr.y+=ar.h,Tr.h-=ar.h);break}}return{w:dt,h:St,fill:P/(dt*St)||0}}var hl=1,rg=function(P,X){var se=X.pixelRatio,ye=X.version,Ae=X.stretchX,Le=X.stretchY,Qe=X.content;this.paddedRect=P,this.pixelRatio=se,this.stretchX=Ae,this.stretchY=Le,this.content=Qe,this.version=ye},Dp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Dp.tl.get=function(){return[this.paddedRect.x+hl,this.paddedRect.y+hl]},Dp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-hl,this.paddedRect.y+this.paddedRect.h-hl]},Dp.tlbr.get=function(){return this.tl.concat(this.br)},Dp.displaySize.get=function(){return[(this.paddedRect.w-hl*2)/this.pixelRatio,(this.paddedRect.h-hl*2)/this.pixelRatio]},Object.defineProperties(rg.prototype,Dp);var Pp=function(P,X){var se={},ye={};this.haveRenderCallbacks=[];var Ae=[];this.addImages(P,se,Ae),this.addImages(X,ye,Ae);var Le=C3(Ae),Qe=Le.w,dt=Le.h,St=new qs({width:Qe||1,height:dt||1});for(var Lt in P){var Xt=P[Lt],ar=se[Lt].paddedRect;qs.copy(Xt.data,St,{x:0,y:0},{x:ar.x+hl,y:ar.y+hl},Xt.data)}for(var er in X){var Tr=X[er],Vr=ye[er].paddedRect,dn=Vr.x+hl,sn=Vr.y+hl,Pn=Tr.data.width,bn=Tr.data.height;qs.copy(Tr.data,St,{x:0,y:0},{x:dn,y:sn},Tr.data),qs.copy(Tr.data,St,{x:0,y:bn-1},{x:dn,y:sn-1},{width:Pn,height:1}),qs.copy(Tr.data,St,{x:0,y:0},{x:dn,y:sn+bn},{width:Pn,height:1}),qs.copy(Tr.data,St,{x:Pn-1,y:0},{x:dn-1,y:sn},{width:1,height:bn}),qs.copy(Tr.data,St,{x:0,y:0},{x:dn+Pn,y:sn},{width:1,height:bn})}this.image=St,this.iconPositions=se,this.patternPositions=ye};Pp.prototype.addImages=function(P,X,se){for(var ye in P){var Ae=P[ye],Le={x:0,y:0,w:Ae.data.width+2*hl,h:Ae.data.height+2*hl};se.push(Le),X[ye]=new rg(Le,Ae),Ae.hasRenderCallback&&this.haveRenderCallbacks.push(ye)}},Pp.prototype.patchUpdatedImages=function(P,X){P.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var se in P.updatedImages)this.patchUpdatedImage(this.iconPositions[se],P.getImage(se),X),this.patchUpdatedImage(this.patternPositions[se],P.getImage(se),X)},Pp.prototype.patchUpdatedImage=function(P,X,se){if(!(!P||!X)&&P.version!==X.version){P.version=X.version;var ye=P.tl,Ae=ye[0],Le=ye[1];se.update(X.data,void 0,{x:Ae,y:Le})}},Ve("ImagePosition",rg),Ve("ImageAtlas",Pp);var Ol={horizontal:1,vertical:2,horizontalOnly:3},Rp=-17;function _S(D){for(var P=0,X=D;P<X.length;P+=1){var se=X[P];if(se.positionedGlyphs.length!==0)return!1}return!0}var L3=57344,D3=63743,dd=function(){this.scale=1,this.fontStack="",this.imageName=null};dd.forText=function(P,X){var se=new dd;return se.scale=P||1,se.fontStack=X,se},dd.forImage=function(P){var X=new dd;return X.imageName=P,X};var bs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};bs.fromFeature=function(P,X){for(var se=new bs,ye=0;ye<P.sections.length;ye++){var Ae=P.sections[ye];Ae.image?se.addImageSection(Ae):se.addTextSection(Ae,X)}return se},bs.prototype.length=function(){return this.text.length},bs.prototype.getSection=function(P){return this.sections[this.sectionIndex[P]]},bs.prototype.getSectionIndex=function(P){return this.sectionIndex[P]},bs.prototype.getCharCode=function(P){return this.text.charCodeAt(P)},bs.prototype.verticalizePunctuation=function(){this.text=nS(this.text)},bs.prototype.trim=function(){for(var P=0,X=0;X<this.text.length&&Qf[this.text.charCodeAt(X)];X++)P++;for(var se=this.text.length,ye=this.text.length-1;ye>=0&&ye>=P&&Qf[this.text.charCodeAt(ye)];ye--)se--;this.text=this.text.substring(P,se),this.sectionIndex=this.sectionIndex.slice(P,se)},bs.prototype.substring=function(P,X){var se=new bs;return se.text=this.text.substring(P,X),se.sectionIndex=this.sectionIndex.slice(P,X),se.sections=this.sections,se},bs.prototype.toString=function(){return this.text},bs.prototype.getMaxScale=function(){var P=this;return this.sectionIndex.reduce(function(X,se){return Math.max(X,P.sections[se].scale)},0)},bs.prototype.addTextSection=function(P,X){this.text+=P.text,this.sections.push(dd.forText(P.scale,P.fontStack||X));for(var se=this.sections.length-1,ye=0;ye<P.text.length;++ye)this.sectionIndex.push(se)},bs.prototype.addImageSection=function(P){var X=P.image?P.image.name:"";if(X.length===0){U("Can't add FormattedSection with an empty image.");return}var se=this.getNextImageSectionCharCode();if(!se){U("Reached maximum number of images "+(D3-L3+2));return}this.text+=String.fromCharCode(se),this.sections.push(dd.forImage(X)),this.sectionIndex.push(this.sections.length-1)},bs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=D3?null:++this.imageSectionID:(this.imageSectionID=L3,this.imageSectionID)};function CS(D,P){for(var X=[],se=D.text,ye=0,Ae=0,Le=P;Ae<Le.length;Ae+=1){var Qe=Le[Ae];X.push(D.substring(ye,Qe)),ye=Qe}return ye<se.length&&X.push(D.substring(ye,se.length)),X}function ng(D,P,X,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr){var dn=bs.fromFeature(D,ye);Xt===Ol.vertical&&dn.verticalizePunctuation();var sn,Pn=ra.processBidirectionalText,bn=ra.processStyledBidirectionalText;if(Pn&&dn.sections.length===1){sn=[];for(var Dn=Pn(dn.toString(),um(dn,St,Ae,P,se,er,Tr)),zn=0,Kn=Dn;zn<Kn.length;zn+=1){var la=Kn[zn],aa=new bs;aa.text=la,aa.sections=dn.sections;for(var Ea=0;Ea<la.length;Ea++)aa.sectionIndex.push(0);sn.push(aa)}}else if(bn){sn=[];for(var xa=bn(dn.text,dn.sectionIndex,um(dn,St,Ae,P,se,er,Tr)),Sa=0,Ga=xa;Sa<Ga.length;Sa+=1){var _a=Ga[Sa],Pa=new bs;Pa.text=_a[0],Pa.sectionIndex=_a[1],Pa.sections=dn.sections,sn.push(Pa)}}else sn=CS(dn,um(dn,St,Ae,P,se,er,Tr));var $a=[],Ya={positionedLines:$a,text:dn.toString(),top:Lt[1],bottom:Lt[1],left:Lt[0],right:Lt[0],writingMode:Xt,iconsInText:!1,verticalizable:!1};return PS(Ya,P,X,se,sn,Le,Qe,dt,Xt,St,ar,Vr),_S($a)?!1:Ya}var Qf={};Qf[9]=!0,Qf[10]=!0,Qf[11]=!0,Qf[12]=!0,Qf[13]=!0,Qf[32]=!0;var vl={};vl[10]=!0,vl[32]=!0,vl[38]=!0,vl[40]=!0,vl[41]=!0,vl[43]=!0,vl[45]=!0,vl[47]=!0,vl[173]=!0,vl[183]=!0,vl[8203]=!0,vl[8208]=!0,vl[8211]=!0,vl[8231]=!0;function P3(D,P,X,se,ye,Ae){if(P.imageName){var dt=se[P.imageName];return dt?dt.displaySize[0]*P.scale*ls/Ae+ye:0}else{var Le=X[P.fontStack],Qe=Le&&Le[D];return Qe?Qe.metrics.advance*P.scale+ye:0}}function LS(D,P,X,se,ye,Ae){for(var Le=0,Qe=0;Qe<D.length();Qe++){var dt=D.getSection(Qe);Le+=P3(D.getCharCode(Qe),dt,se,ye,P,Ae)}var St=Math.max(1,Math.ceil(Le/X));return Le/St}function R3(D,P,X,se){var ye=Math.pow(D-P,2);return se?D<P?ye/2:ye*2:ye+Math.abs(X)*X}function DS(D,P,X){var se=0;return D===10&&(se-=1e4),X&&(se+=150),(D===40||D===65288)&&(se+=50),(P===41||P===65289)&&(se+=50),se}function I3(D,P,X,se,ye,Ae){for(var Le=null,Qe=R3(P,X,ye,Ae),dt=0,St=se;dt<St.length;dt+=1){var Lt=St[dt],Xt=P-Lt.x,ar=R3(Xt,X,ye,Ae)+Lt.badness;ar<=Qe&&(Le=Lt,Qe=ar)}return{index:D,x:P,priorBreak:Le,badness:Qe}}function O3(D){return D?O3(D.priorBreak).concat(D.index):[]}function um(D,P,X,se,ye,Ae,Le){if(Ae!=="point")return[];if(!D)return[];for(var Qe=[],dt=LS(D,P,X,se,ye,Le),St=D.text.indexOf("​")>=0,Lt=0,Xt=0;Xt<D.length();Xt++){var ar=D.getSection(Xt),er=D.getCharCode(Xt);if(Qf[er]||(Lt+=P3(er,ar,se,ye,P,Le)),Xt<D.length()-1){var Tr=tn(er);(vl[er]||Tr||ar.imageName)&&Qe.push(I3(Xt+1,Lt,dt,Qe,DS(er,D.getCharCode(Xt+1),Tr&&St),!1))}}return O3(I3(D.length(),Lt,dt,Qe,0,!0))}function fm(D){var P=.5,X=.5;switch(D){case"right":case"top-right":case"bottom-right":P=1;break;case"left":case"top-left":case"bottom-left":P=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":X=1;break;case"top":case"top-right":case"top-left":X=0;break}return{horizontalAlign:P,verticalAlign:X}}function PS(D,P,X,se,ye,Ae,Le,Qe,dt,St,Lt,Xt){for(var ar=0,er=Rp,Tr=0,Vr=0,dn=Qe==="right"?1:Qe==="left"?0:.5,sn=0,Pn=0,bn=ye;Pn<bn.length;Pn+=1){var Dn=bn[Pn];Dn.trim();var zn=Dn.getMaxScale(),Kn=(zn-1)*ls,la={positionedGlyphs:[],lineOffset:0};D.positionedLines[sn]=la;var aa=la.positionedGlyphs,Ea=0;if(!Dn.length()){er+=Ae,++sn;continue}for(var xa=0;xa<Dn.length();xa++){var Sa=Dn.getSection(xa),Ga=Dn.getSectionIndex(xa),_a=Dn.getCharCode(xa),Pa=0,$a=null,Ya=null,Ai=null,zi=ls,Si=!(dt===Ol.horizontal||!Lt&&!fn(_a)||Lt&&(Qf[_a]||$r(_a)));if(Sa.imageName){var po=se[Sa.imageName];if(!po)continue;Ai=Sa.imageName,D.iconsInText=D.iconsInText||!0,Ya=po.paddedRect;var To=po.displaySize;Sa.scale=Sa.scale*ls/Xt,$a={width:To[0],height:To[1],left:hl,top:-_3,advance:Si?To[1]:To[0]};var es=ls-To[1]*Sa.scale;Pa=Kn+es,zi=$a.advance;var Uo=Si?To[0]*Sa.scale-ls*zn:To[1]*Sa.scale-ls*zn;Uo>0&&Uo>Ea&&(Ea=Uo)}else{var Mi=X[Sa.fontStack],mi=Mi&&Mi[_a];if(mi&&mi.rect)Ya=mi.rect,$a=mi.metrics;else{var Gi=P[Sa.fontStack],Ki=Gi&&Gi[_a];if(!Ki)continue;$a=Ki.metrics}Pa=(zn-Sa.scale)*ls}Si?(D.verticalizable=!0,aa.push({glyph:_a,imageName:Ai,x:ar,y:er+Pa,vertical:Si,scale:Sa.scale,fontStack:Sa.fontStack,sectionIndex:Ga,metrics:$a,rect:Ya}),ar+=zi*Sa.scale+St):(aa.push({glyph:_a,imageName:Ai,x:ar,y:er+Pa,vertical:Si,scale:Sa.scale,fontStack:Sa.fontStack,sectionIndex:Ga,metrics:$a,rect:Ya}),ar+=$a.advance*Sa.scale+St)}if(aa.length!==0){var ws=ar-St;Tr=Math.max(ws,Tr),RS(aa,0,aa.length-1,dn,Ea)}ar=0;var Ts=Ae*zn+Ea;la.lineOffset=Math.max(Ea,Kn),er+=Ts,Vr=Math.max(Ts,Vr),++sn}var ts=er-Rp,zs=fm(Le),Bs=zs.horizontalAlign,jo=zs.verticalAlign;IS(D.positionedLines,dn,Bs,jo,Tr,Vr,Ae,ts,ye.length),D.top+=-jo*ts,D.bottom=D.top+ts,D.left+=-Bs*Tr,D.right=D.left+Tr}function RS(D,P,X,se,ye){if(!(!se&&!ye))for(var Ae=D[X],Le=Ae.metrics.advance*Ae.scale,Qe=(D[X].x+Le)*se,dt=P;dt<=X;dt++)D[dt].x-=Qe,D[dt].y+=ye}function IS(D,P,X,se,ye,Ae,Le,Qe,dt){var St=(P-X)*ye,Lt=0;Ae!==Le?Lt=-Qe*se-Rp:Lt=(-se*dt+.5)*Le;for(var Xt=0,ar=D;Xt<ar.length;Xt+=1)for(var er=ar[Xt],Tr=0,Vr=er.positionedGlyphs;Tr<Vr.length;Tr+=1){var dn=Vr[Tr];dn.x+=St,dn.y+=Lt}}function OS(D,P,X){var se=fm(X),ye=se.horizontalAlign,Ae=se.verticalAlign,Le=P[0],Qe=P[1],dt=Le-D.displaySize[0]*ye,St=dt+D.displaySize[0],Lt=Qe-D.displaySize[1]*Ae,Xt=Lt+D.displaySize[1];return{image:D,top:Lt,bottom:Xt,left:dt,right:St}}function k3(D,P,X,se,ye,Ae){var Le=D.image,Qe;if(Le.content){var dt=Le.content,St=Le.pixelRatio||1;Qe=[dt[0]/St,dt[1]/St,Le.displaySize[0]-dt[2]/St,Le.displaySize[1]-dt[3]/St]}var Lt=P.left*Ae,Xt=P.right*Ae,ar,er,Tr,Vr;X==="width"||X==="both"?(Vr=ye[0]+Lt-se[3],er=ye[0]+Xt+se[1]):(Vr=ye[0]+(Lt+Xt-Le.displaySize[0])/2,er=Vr+Le.displaySize[0]);var dn=P.top*Ae,sn=P.bottom*Ae;return X==="height"||X==="both"?(ar=ye[1]+dn-se[0],Tr=ye[1]+sn+se[2]):(ar=ye[1]+(dn+sn-Le.displaySize[1])/2,Tr=ar+Le.displaySize[1]),{image:Le,top:ar,right:er,bottom:Tr,left:Vr,collisionPadding:Qe}}var pd=function(D){function P(X,se,ye,Ae){D.call(this,X,se),this.angle=ye,Ae!==void 0&&(this.segment=Ae)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.clone=function(){return new P(this.x,this.y,this.angle,this.segment)},P}(r);Ve("Anchor",pd);var pf=128;function cm(D,P){var X=P.expression;if(X.kind==="constant"){var se=X.evaluate(new Ca(D+1));return{kind:"constant",layoutSize:se}}else{if(X.kind==="source")return{kind:"source"};for(var ye=X.zoomStops,Ae=X.interpolationType,Le=0;Le<ye.length&&ye[Le]<=D;)Le++;Le=Math.max(0,Le-1);for(var Qe=Le;Qe<ye.length&&ye[Qe]<D+1;)Qe++;Qe=Math.min(ye.length-1,Qe);var dt=ye[Le],St=ye[Qe];if(X.kind==="composite")return{kind:"composite",minZoom:dt,maxZoom:St,interpolationType:Ae};var Lt=X.evaluate(new Ca(dt)),Xt=X.evaluate(new Ca(St));return{kind:"camera",minZoom:dt,maxZoom:St,minSize:Lt,maxSize:Xt,interpolationType:Ae}}}function N3(D,P,X){var se=P.uSize,ye=P.uSizeT,Ae=X.lowerSize,Le=X.upperSize;return D.kind==="source"?Ae/pf:D.kind==="composite"?to(Ae/pf,Le/pf,ye):se}function F3(D,P){var X=0,se=0;if(D.kind==="constant")se=D.layoutSize;else if(D.kind!=="source"){var ye=D.interpolationType,Ae=D.minZoom,Le=D.maxZoom,Qe=ye?h(so.interpolationFactor(ye,P,Ae,Le),0,1):0;D.kind==="camera"?se=to(D.minSize,D.maxSize,Qe):X=Qe}return{uSizeT:X,uSize:se}}var kS=Object.freeze({__proto__:null,getSizeData:cm,evaluateSizeForFeature:N3,evaluateSizeForZoom:F3,SIZE_PACK_FACTOR:pf});function z3(D,P,X,se,ye){if(P.segment===void 0)return!0;for(var Ae=P,Le=P.segment+1,Qe=0;Qe>-X/2;){if(Le--,Le<0)return!1;Qe-=D[Le].dist(Ae),Ae=D[Le]}Qe+=D[Le].dist(D[Le+1]),Le++;for(var dt=[],St=0;Qe<X/2;){var Lt=D[Le-1],Xt=D[Le],ar=D[Le+1];if(!ar)return!1;var er=Lt.angleTo(Xt)-Xt.angleTo(ar);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),dt.push({distance:Qe,angleDelta:er}),St+=er;Qe-dt[0].distance>se;)St-=dt.shift().angleDelta;if(St>ye)return!1;Le++,Qe+=Xt.dist(ar)}return!0}function B3(D){for(var P=0,X=0;X<D.length-1;X++)P+=D[X].dist(D[X+1]);return P}function U3(D,P,X){return D?.6*P*X:0}function V3(D,P){return Math.max(D?D.right-D.left:0,P?P.right-P.left:0)}function NS(D,P,X,se,ye,Ae){for(var Le=U3(X,ye,Ae),Qe=V3(X,se)*Ae,dt=0,St=B3(D)/2,Lt=0;Lt<D.length-1;Lt++){var Xt=D[Lt],ar=D[Lt+1],er=Xt.dist(ar);if(dt+er>St){var Tr=(St-dt)/er,Vr=to(Xt.x,ar.x,Tr),dn=to(Xt.y,ar.y,Tr),sn=new pd(Vr,dn,ar.angleTo(Xt),Lt);return sn._round(),!Le||z3(D,sn,Qe,Le,P)?sn:void 0}dt+=er}}function FS(D,P,X,se,ye,Ae,Le,Qe,dt){var St=U3(se,Ae,Le),Lt=V3(se,ye),Xt=Lt*Le,ar=D[0].x===0||D[0].x===dt||D[0].y===0||D[0].y===dt;P-Xt<P/4&&(P=Xt+P/4);var er=Ae*2,Tr=ar?P/2*Qe%P:(Lt/2+er)*Le*Qe%P;return H3(D,Tr,P,St,X,Xt,ar,!1,dt)}function H3(D,P,X,se,ye,Ae,Le,Qe,dt){for(var St=Ae/2,Lt=B3(D),Xt=0,ar=P-X,er=[],Tr=0;Tr<D.length-1;Tr++){for(var Vr=D[Tr],dn=D[Tr+1],sn=Vr.dist(dn),Pn=dn.angleTo(Vr);ar+X<Xt+sn;){ar+=X;var bn=(ar-Xt)/sn,Dn=to(Vr.x,dn.x,bn),zn=to(Vr.y,dn.y,bn);if(Dn>=0&&Dn<dt&&zn>=0&&zn<dt&&ar-St>=0&&ar+St<=Lt){var Kn=new pd(Dn,zn,Pn,Tr);Kn._round(),(!se||z3(D,Kn,Ae,se,ye))&&er.push(Kn)}}Xt+=sn}return!Qe&&!er.length&&!Le&&(er=H3(D,Xt/2,X,se,ye,Ae,Le,!0,dt)),er}function Y3(D,P,X,se,ye){for(var Ae=[],Le=0;Le<D.length;Le++)for(var Qe=D[Le],dt=void 0,St=0;St<Qe.length-1;St++){var Lt=Qe[St],Xt=Qe[St+1];Lt.x<P&&Xt.x<P||(Lt.x<P?Lt=new r(P,Lt.y+(Xt.y-Lt.y)*((P-Lt.x)/(Xt.x-Lt.x)))._round():Xt.x<P&&(Xt=new r(P,Lt.y+(Xt.y-Lt.y)*((P-Lt.x)/(Xt.x-Lt.x)))._round()),!(Lt.y<X&&Xt.y<X)&&(Lt.y<X?Lt=new r(Lt.x+(Xt.x-Lt.x)*((X-Lt.y)/(Xt.y-Lt.y)),X)._round():Xt.y<X&&(Xt=new r(Lt.x+(Xt.x-Lt.x)*((X-Lt.y)/(Xt.y-Lt.y)),X)._round()),!(Lt.x>=se&&Xt.x>=se)&&(Lt.x>=se?Lt=new r(se,Lt.y+(Xt.y-Lt.y)*((se-Lt.x)/(Xt.x-Lt.x)))._round():Xt.x>=se&&(Xt=new r(se,Lt.y+(Xt.y-Lt.y)*((se-Lt.x)/(Xt.x-Lt.x)))._round()),!(Lt.y>=ye&&Xt.y>=ye)&&(Lt.y>=ye?Lt=new r(Lt.x+(Xt.x-Lt.x)*((ye-Lt.y)/(Xt.y-Lt.y)),ye)._round():Xt.y>=ye&&(Xt=new r(Lt.x+(Xt.x-Lt.x)*((ye-Lt.y)/(Xt.y-Lt.y)),ye)._round()),(!dt||!Lt.equals(dt[dt.length-1]))&&(dt=[Lt],Ae.push(dt)),dt.push(Xt)))))}return Ae}var gd=hl;function W3(D,P,X,se){var ye=[],Ae=D.image,Le=Ae.pixelRatio,Qe=Ae.paddedRect.w-2*gd,dt=Ae.paddedRect.h-2*gd,St=D.right-D.left,Lt=D.bottom-D.top,Xt=Ae.stretchX||[[0,Qe]],ar=Ae.stretchY||[[0,dt]],er=function(Mi,mi){return Mi+mi[1]-mi[0]},Tr=Xt.reduce(er,0),Vr=ar.reduce(er,0),dn=Qe-Tr,sn=dt-Vr,Pn=0,bn=Tr,Dn=0,zn=Vr,Kn=0,la=dn,aa=0,Ea=sn;if(Ae.content&&se){var xa=Ae.content;Pn=ag(Xt,0,xa[0]),Dn=ag(ar,0,xa[1]),bn=ag(Xt,xa[0],xa[2]),zn=ag(ar,xa[1],xa[3]),Kn=xa[0]-Pn,aa=xa[1]-Dn,la=xa[2]-xa[0]-bn,Ea=xa[3]-xa[1]-zn}var Sa=function(Mi,mi,Gi,Ki){var po=ig(Mi.stretch-Pn,bn,St,D.left),To=og(Mi.fixed-Kn,la,Mi.stretch,Tr),es=ig(mi.stretch-Dn,zn,Lt,D.top),Uo=og(mi.fixed-aa,Ea,mi.stretch,Vr),ws=ig(Gi.stretch-Pn,bn,St,D.left),Ts=og(Gi.fixed-Kn,la,Gi.stretch,Tr),ts=ig(Ki.stretch-Dn,zn,Lt,D.top),zs=og(Ki.fixed-aa,Ea,Ki.stretch,Vr),Bs=new r(po,es),jo=new r(ws,es),Us=new r(ws,ts),kl=new r(po,ts),Bc=new r(To/Le,Uo/Le),Fh=new r(Ts/Le,zs/Le),zh=P*Math.PI/180;if(zh){var Bh=Math.sin(zh),Sd=Math.cos(zh),ku=[Sd,-Bh,Bh,Sd];Bs._matMult(ku),jo._matMult(ku),kl._matMult(ku),Us._matMult(ku)}var hg=Mi.stretch+Mi.fixed,xm=Gi.stretch+Gi.fixed,vg=mi.stretch+mi.fixed,bm=Ki.stretch+Ki.fixed,ru={x:Ae.paddedRect.x+gd+hg,y:Ae.paddedRect.y+gd+vg,w:xm-hg,h:bm-vg},Md=la/Le/St,dg=Ea/Le/Lt;return{tl:Bs,tr:jo,bl:kl,br:Us,tex:ru,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Bc,pixelOffsetBR:Fh,minFontScaleX:Md,minFontScaleY:dg,isSDF:X}};if(!se||!Ae.stretchX&&!Ae.stretchY)ye.push(Sa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:dt+1}));else for(var Ga=G3(Xt,dn,Tr),_a=G3(ar,sn,Vr),Pa=0;Pa<Ga.length-1;Pa++)for(var $a=Ga[Pa],Ya=Ga[Pa+1],Ai=0;Ai<_a.length-1;Ai++){var zi=_a[Ai],Si=_a[Ai+1];ye.push(Sa($a,zi,Ya,Si))}return ye}function ag(D,P,X){for(var se=0,ye=0,Ae=D;ye<Ae.length;ye+=1){var Le=Ae[ye];se+=Math.max(P,Math.min(X,Le[1]))-Math.max(P,Math.min(X,Le[0]))}return se}function G3(D,P,X){for(var se=[{fixed:-gd,stretch:0}],ye=0,Ae=D;ye<Ae.length;ye+=1){var Le=Ae[ye],Qe=Le[0],dt=Le[1],St=se[se.length-1];se.push({fixed:Qe-St.stretch,stretch:St.stretch}),se.push({fixed:Qe-St.stretch,stretch:St.stretch+(dt-Qe)})}return se.push({fixed:P+gd,stretch:X}),se}function ig(D,P,X,se){return D/P*X+se}function og(D,P,X,se){return D-P*X/se}function zS(D,P,X,se,ye,Ae,Le,Qe){for(var dt=se.layout.get("text-rotate").evaluate(Ae,{})*Math.PI/180,St=[],Lt=0,Xt=P.positionedLines;Lt<Xt.length;Lt+=1)for(var ar=Xt[Lt],er=0,Tr=ar.positionedGlyphs;er<Tr.length;er+=1){var Vr=Tr[er];if(Vr.rect){var dn=Vr.rect||{},sn=1,Pn=_3+sn,bn=!0,Dn=1,zn=0,Kn=(ye||Qe)&&Vr.vertical,la=Vr.metrics.advance*Vr.scale/2;if(Qe&&P.verticalizable){var aa=(Vr.scale-1)*ls,Ea=(ls-Vr.metrics.width*Vr.scale)/2;zn=ar.lineOffset/2-(Vr.imageName?-Ea:aa)}if(Vr.imageName){var xa=Le[Vr.imageName];bn=xa.sdf,Dn=xa.pixelRatio,Pn=hl/Dn}var Sa=ye?[Vr.x+la,Vr.y]:[0,0],Ga=ye?[0,0]:[Vr.x+la+X[0],Vr.y+X[1]-zn],_a=[0,0];Kn&&(_a=Ga,Ga=[0,0]);var Pa=(Vr.metrics.left-Pn)*Vr.scale-la+Ga[0],$a=(-Vr.metrics.top-Pn)*Vr.scale+Ga[1],Ya=Pa+dn.w*Vr.scale/Dn,Ai=$a+dn.h*Vr.scale/Dn,zi=new r(Pa,$a),Si=new r(Ya,$a),Mi=new r(Pa,Ai),mi=new r(Ya,Ai);if(Kn){var Gi=new r(-la,la-Rp),Ki=-Math.PI/2,po=ls/2-la,To=Vr.imageName?po:0,es=new r(5-Rp-po,-To),Uo=new(Function.prototype.bind.apply(r,[null].concat(_a)));zi._rotateAround(Ki,Gi)._add(es)._add(Uo),Si._rotateAround(Ki,Gi)._add(es)._add(Uo),Mi._rotateAround(Ki,Gi)._add(es)._add(Uo),mi._rotateAround(Ki,Gi)._add(es)._add(Uo)}if(dt){var ws=Math.sin(dt),Ts=Math.cos(dt),ts=[Ts,-ws,ws,Ts];zi._matMult(ts),Si._matMult(ts),Mi._matMult(ts),mi._matMult(ts)}var zs=new r(0,0),Bs=new r(0,0),jo=0,Us=0;St.push({tl:zi,tr:Si,bl:Mi,br:mi,tex:dn,writingMode:P.writingMode,glyphOffset:Sa,sectionIndex:Vr.sectionIndex,isSDF:bn,pixelOffsetTL:zs,pixelOffsetBR:Bs,minFontScaleX:jo,minFontScaleY:Us})}}return St}var sg=function(P,X,se,ye,Ae,Le,Qe,dt,St,Lt){if(this.boxStartIndex=P.length,St){var Xt=Le.top,ar=Le.bottom,er=Le.collisionPadding;er&&(Xt-=er[1],ar+=er[3]);var Tr=ar-Xt;Tr>0&&(Tr=Math.max(10,Tr),this.circleDiameter=Tr)}else{var Vr=Le.top*Qe-dt,dn=Le.bottom*Qe+dt,sn=Le.left*Qe-dt,Pn=Le.right*Qe+dt,bn=Le.collisionPadding;if(bn&&(sn-=bn[0]*Qe,Vr-=bn[1]*Qe,Pn+=bn[2]*Qe,dn+=bn[3]*Qe),Lt){var Dn=new r(sn,Vr),zn=new r(Pn,Vr),Kn=new r(sn,dn),la=new r(Pn,dn),aa=Lt*Math.PI/180;Dn._rotate(aa),zn._rotate(aa),Kn._rotate(aa),la._rotate(aa),sn=Math.min(Dn.x,zn.x,Kn.x,la.x),Pn=Math.max(Dn.x,zn.x,Kn.x,la.x),Vr=Math.min(Dn.y,zn.y,Kn.y,la.y),dn=Math.max(Dn.y,zn.y,Kn.y,la.y)}P.emplaceBack(X.x,X.y,sn,Vr,Pn,dn,se,ye,Ae)}this.boxEndIndex=P.length},yd=function(P,X){if(P===void 0&&(P=[]),X===void 0&&(X=BS),this.data=P,this.length=this.data.length,this.compare=X,this.length>0)for(var se=(this.length>>1)-1;se>=0;se--)this._down(se)};yd.prototype.push=function(P){this.data.push(P),this.length++,this._up(this.length-1)},yd.prototype.pop=function(){if(this.length!==0){var P=this.data[0],X=this.data.pop();return this.length--,this.length>0&&(this.data[0]=X,this._down(0)),P}},yd.prototype.peek=function(){return this.data[0]},yd.prototype._up=function(P){for(var X=this,se=X.data,ye=X.compare,Ae=se[P];P>0;){var Le=P-1>>1,Qe=se[Le];if(ye(Ae,Qe)>=0)break;se[P]=Qe,P=Le}se[P]=Ae},yd.prototype._down=function(P){for(var X=this,se=X.data,ye=X.compare,Ae=this.length>>1,Le=se[P];P<Ae;){var Qe=(P<<1)+1,dt=se[Qe],St=Qe+1;if(St<this.length&&ye(se[St],dt)<0&&(Qe=St,dt=se[St]),ye(dt,Le)>=0)break;se[P]=dt,P=Qe}se[P]=Le};function BS(D,P){return D<P?-1:D>P?1:0}function US(D,P,X){X===void 0&&(X=!1);for(var se=1/0,ye=1/0,Ae=-1/0,Le=-1/0,Qe=D[0],dt=0;dt<Qe.length;dt++){var St=Qe[dt];(!dt||St.x<se)&&(se=St.x),(!dt||St.y<ye)&&(ye=St.y),(!dt||St.x>Ae)&&(Ae=St.x),(!dt||St.y>Le)&&(Le=St.y)}var Lt=Ae-se,Xt=Le-ye,ar=Math.min(Lt,Xt),er=ar/2,Tr=new yd([],VS);if(ar===0)return new r(se,ye);for(var Vr=se;Vr<Ae;Vr+=ar)for(var dn=ye;dn<Le;dn+=ar)Tr.push(new md(Vr+er,dn+er,er,D));for(var sn=YS(D),Pn=Tr.length;Tr.length;){var bn=Tr.pop();(bn.d>sn.d||!sn.d)&&(sn=bn,X&&console.log("found best %d after %d probes",Math.round(1e4*bn.d)/1e4,Pn)),!(bn.max-sn.d<=P)&&(er=bn.h/2,Tr.push(new md(bn.p.x-er,bn.p.y-er,er,D)),Tr.push(new md(bn.p.x+er,bn.p.y-er,er,D)),Tr.push(new md(bn.p.x-er,bn.p.y+er,er,D)),Tr.push(new md(bn.p.x+er,bn.p.y+er,er,D)),Pn+=4)}return X&&(console.log("num probes: "+Pn),console.log("best distance: "+sn.d)),sn.p}function VS(D,P){return P.max-D.max}function md(D,P,X,se){this.p=new r(D,P),this.h=X,this.d=HS(this.p,se),this.max=this.d+this.h*Math.SQRT2}function HS(D,P){for(var X=!1,se=1/0,ye=0;ye<P.length;ye++)for(var Ae=P[ye],Le=0,Qe=Ae.length,dt=Qe-1;Le<Qe;dt=Le++){var St=Ae[Le],Lt=Ae[dt];St.y>D.y!=Lt.y>D.y&&D.x<(Lt.x-St.x)*(D.y-St.y)/(Lt.y-St.y)+St.x&&(X=!X),se=Math.min(se,kc(D,St,Lt))}return(X?1:-1)*Math.sqrt(se)}function YS(D){for(var P=0,X=0,se=0,ye=D[0],Ae=0,Le=ye.length,Qe=Le-1;Ae<Le;Qe=Ae++){var dt=ye[Ae],St=ye[Qe],Lt=dt.x*St.y-St.x*dt.y;X+=(dt.x+St.x)*Lt,se+=(dt.y+St.y)*Lt,P+=Lt*3}return new md(X/P,se/P,0,D)}var xd=7,hm=Number.POSITIVE_INFINITY;function X3(D,P){function X(ye,Ae){var Le=0,Qe=0;Ae<0&&(Ae=0);var dt=Ae/Math.sqrt(2);switch(ye){case"top-right":case"top-left":Qe=dt-xd;break;case"bottom-right":case"bottom-left":Qe=-dt+xd;break;case"bottom":Qe=-Ae+xd;break;case"top":Qe=Ae-xd;break}switch(ye){case"top-right":case"bottom-right":Le=-dt;break;case"top-left":case"bottom-left":Le=dt;break;case"left":Le=Ae;break;case"right":Le=-Ae;break}return[Le,Qe]}function se(ye,Ae,Le){var Qe=0,dt=0;switch(Ae=Math.abs(Ae),Le=Math.abs(Le),ye){case"top-right":case"top-left":case"top":dt=Le-xd;break;case"bottom-right":case"bottom-left":case"bottom":dt=-Le+xd;break}switch(ye){case"top-right":case"bottom-right":case"right":Qe=-Ae;break;case"top-left":case"bottom-left":case"left":Qe=Ae;break}return[Qe,dt]}return P[1]!==hm?se(D,P[0],P[1]):X(D,P[0])}function WS(D,P,X,se,ye,Ae,Le){D.createArrays();var Qe=512*D.overscaling;D.tilePixelRatio=La/Qe,D.compareText={},D.iconsNeedLinear=!1;var dt=D.layers[0].layout,St=D.layers[0]._unevaluatedLayout._values,Lt={};if(D.textSizeData.kind==="composite"){var Xt=D.textSizeData,ar=Xt.minZoom,er=Xt.maxZoom;Lt.compositeTextSizes=[St["text-size"].possiblyEvaluate(new Ca(ar),Le),St["text-size"].possiblyEvaluate(new Ca(er),Le)]}if(D.iconSizeData.kind==="composite"){var Tr=D.iconSizeData,Vr=Tr.minZoom,dn=Tr.maxZoom;Lt.compositeIconSizes=[St["icon-size"].possiblyEvaluate(new Ca(Vr),Le),St["icon-size"].possiblyEvaluate(new Ca(dn),Le)]}Lt.layoutTextSize=St["text-size"].possiblyEvaluate(new Ca(D.zoom+1),Le),Lt.layoutIconSize=St["icon-size"].possiblyEvaluate(new Ca(D.zoom+1),Le),Lt.textMaxSize=St["text-size"].possiblyEvaluate(new Ca(18));for(var sn=dt.get("text-line-height")*ls,Pn=dt.get("text-rotation-alignment")==="map"&&dt.get("symbol-placement")!=="point",bn=dt.get("text-keep-upright"),Dn=dt.get("text-size"),zn=function(){var aa=la[Kn],Ea=dt.get("text-font").evaluate(aa,{},Le).join(","),xa=Dn.evaluate(aa,{},Le),Sa=Lt.layoutTextSize.evaluate(aa,{},Le),Ga=Lt.layoutIconSize.evaluate(aa,{},Le),_a={horizontal:{},vertical:void 0},Pa=aa.text,$a=[0,0];if(Pa){var Ya=Pa.toString(),Ai=dt.get("text-letter-spacing").evaluate(aa,{},Le)*ls,zi=Lr(Ya)?Ai:0,Si=dt.get("text-anchor").evaluate(aa,{},Le),Mi=dt.get("text-variable-anchor");if(!Mi){var mi=dt.get("text-radial-offset").evaluate(aa,{},Le);mi?$a=X3(Si,[mi*ls,hm]):$a=dt.get("text-offset").evaluate(aa,{},Le).map(function(Bc){return Bc*ls})}var Gi=Pn?"center":dt.get("text-justify").evaluate(aa,{},Le),Ki=dt.get("symbol-placement"),po=Ki==="point"?dt.get("text-max-width").evaluate(aa,{},Le)*ls:0,To=function(){D.allowVerticalPlacement&&nr(Ya)&&(_a.vertical=ng(Pa,P,X,ye,Ea,po,sn,Si,"left",zi,$a,Ol.vertical,!0,Ki,Sa,xa))};if(!Pn&&Mi){for(var es=Gi==="auto"?Mi.map(function(Bc){return vm(Bc)}):[Gi],Uo=!1,ws=0;ws<es.length;ws++){var Ts=es[ws];if(!_a.horizontal[Ts])if(Uo)_a.horizontal[Ts]=_a.horizontal[0];else{var ts=ng(Pa,P,X,ye,Ea,po,sn,"center",Ts,zi,$a,Ol.horizontal,!1,Ki,Sa,xa);ts&&(_a.horizontal[Ts]=ts,Uo=ts.positionedLines.length===1)}}To()}else{Gi==="auto"&&(Gi=vm(Si));var zs=ng(Pa,P,X,ye,Ea,po,sn,Si,Gi,zi,$a,Ol.horizontal,!1,Ki,Sa,xa);zs&&(_a.horizontal[Gi]=zs),To(),nr(Ya)&&Pn&&bn&&(_a.vertical=ng(Pa,P,X,ye,Ea,po,sn,Si,Gi,zi,$a,Ol.vertical,!1,Ki,Sa,xa))}}var Bs=void 0,jo=!1;if(aa.icon&&aa.icon.name){var Us=se[aa.icon.name];Us&&(Bs=OS(ye[aa.icon.name],dt.get("icon-offset").evaluate(aa,{},Le),dt.get("icon-anchor").evaluate(aa,{},Le)),jo=Us.sdf,D.sdfIcons===void 0?D.sdfIcons=Us.sdf:D.sdfIcons!==Us.sdf&&U("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Us.pixelRatio!==D.pixelRatio||dt.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var kl=j3(_a.horizontal)||_a.vertical;D.iconsInText=kl?kl.iconsInText:!1,(kl||Bs)&&GS(D,aa,_a,Bs,se,Lt,Sa,Ga,$a,jo,Le)},Kn=0,la=D.features;Kn<la.length;Kn+=1)zn();Ae&&D.generateCollisionDebugBuffers()}function vm(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function GS(D,P,X,se,ye,Ae,Le,Qe,dt,St,Lt){var Xt=Ae.textMaxSize.evaluate(P,{});Xt===void 0&&(Xt=Le);var ar=D.layers[0].layout,er=ar.get("icon-offset").evaluate(P,{},Lt),Tr=j3(X.horizontal),Vr=24,dn=Le/Vr,sn=D.tilePixelRatio*dn,Pn=D.tilePixelRatio*Xt/Vr,bn=D.tilePixelRatio*Qe,Dn=D.tilePixelRatio*ar.get("symbol-spacing"),zn=ar.get("text-padding")*D.tilePixelRatio,Kn=ar.get("icon-padding")*D.tilePixelRatio,la=ar.get("text-max-angle")/180*Math.PI,aa=ar.get("text-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",Ea=ar.get("icon-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",xa=ar.get("symbol-placement"),Sa=Dn/2,Ga=ar.get("icon-text-fit"),_a;se&&Ga!=="none"&&(D.allowVerticalPlacement&&X.vertical&&(_a=k3(se,X.vertical,Ga,ar.get("icon-text-fit-padding"),er,dn)),Tr&&(se=k3(se,Tr,Ga,ar.get("icon-text-fit-padding"),er,dn)));var Pa=function(Sd,ku){ku.x<0||ku.x>=La||ku.y<0||ku.y>=La||XS(D,ku,Sd,X,se,ye,_a,D.layers[0],D.collisionBoxArray,P.index,P.sourceLayerIndex,D.index,sn,zn,aa,dt,bn,Kn,Ea,er,P,Ae,St,Lt,Le)};if(xa==="line")for(var $a=0,Ya=Y3(P.geometry,0,0,La,La);$a<Ya.length;$a+=1)for(var Ai=Ya[$a],zi=FS(Ai,Dn,la,X.vertical||Tr,se,Vr,Pn,D.overscaling,La),Si=0,Mi=zi;Si<Mi.length;Si+=1){var mi=Mi[Si],Gi=Tr;(!Gi||!ZS(D,Gi.text,Sa,mi))&&Pa(Ai,mi)}else if(xa==="line-center")for(var Ki=0,po=P.geometry;Ki<po.length;Ki+=1){var To=po[Ki];if(To.length>1){var es=NS(To,la,X.vertical||Tr,se,Vr,Pn);es&&Pa(To,es)}}else if(P.type==="Polygon")for(var Uo=0,ws=nm(P.geometry,0);Uo<ws.length;Uo+=1){var Ts=ws[Uo],ts=US(Ts,16);Pa(Ts[0],new pd(ts.x,ts.y,0))}else if(P.type==="LineString")for(var zs=0,Bs=P.geometry;zs<Bs.length;zs+=1){var jo=Bs[zs];Pa(jo,new pd(jo[0].x,jo[0].y,0))}else if(P.type==="Point")for(var Us=0,kl=P.geometry;Us<kl.length;Us+=1)for(var Bc=kl[Us],Fh=0,zh=Bc;Fh<zh.length;Fh+=1){var Bh=zh[Fh];Pa([Bh],new pd(Bh.x,Bh.y,0))}}var Ip=255,kh=Ip*pf;function Z3(D,P,X,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr){var Vr=zS(P,X,Qe,ye,Ae,Le,se,D.allowVerticalPlacement),dn=D.textSizeData,sn=null;dn.kind==="source"?(sn=[pf*ye.layout.get("text-size").evaluate(Le,{})],sn[0]>kh&&U(D.layerIds[0]+': Value for "text-size" is >= '+Ip+'. Reduce your "text-size".')):dn.kind==="composite"&&(sn=[pf*er.compositeTextSizes[0].evaluate(Le,{},Tr),pf*er.compositeTextSizes[1].evaluate(Le,{},Tr)],(sn[0]>kh||sn[1]>kh)&&U(D.layerIds[0]+': Value for "text-size" is >= '+Ip+'. Reduce your "text-size".')),D.addSymbols(D.text,Vr,sn,Qe,Ae,Le,St,P,dt.lineStartIndex,dt.lineLength,ar,Tr);for(var Pn=0,bn=Lt;Pn<bn.length;Pn+=1){var Dn=bn[Pn];Xt[Dn]=D.text.placedSymbolArray.length-1}return Vr.length*4}function j3(D){for(var P in D)return D[P];return null}function XS(D,P,X,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar,er,Tr,Vr,dn,sn,Pn,bn,Dn,zn,Kn,la,aa){var Ea,xa=D.addToLineVertexArray(P,X),Sa,Ga,_a,Pa,$a=0,Ya=0,Ai=0,zi=0,Si=-1,Mi=-1,mi={},Gi=xe(""),Ki=0,po=0;if(Qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ea=Qe.layout.get("text-offset").evaluate(Dn,{},la).map(function(Np){return Np*ls}),Ki=Ea[0],po=Ea[1]):(Ki=Qe.layout.get("text-radial-offset").evaluate(Dn,{},la)*ls,po=hm),D.allowVerticalPlacement&&se.vertical){var To=Qe.layout.get("text-rotate").evaluate(Dn,{},la),es=To+90,Uo=se.vertical;_a=new sg(dt,P,St,Lt,Xt,Uo,ar,er,Tr,es),Le&&(Pa=new sg(dt,P,St,Lt,Xt,Le,dn,sn,Tr,es))}if(ye){var ws=Qe.layout.get("icon-rotate").evaluate(Dn,{}),Ts=Qe.layout.get("icon-text-fit")!=="none",ts=W3(ye,ws,Kn,Ts),zs=Le?W3(Le,ws,Kn,Ts):void 0;Ga=new sg(dt,P,St,Lt,Xt,ye,dn,sn,!1,ws),$a=ts.length*4;var Bs=D.iconSizeData,jo=null;Bs.kind==="source"?(jo=[pf*Qe.layout.get("icon-size").evaluate(Dn,{})],jo[0]>kh&&U(D.layerIds[0]+': Value for "icon-size" is >= '+Ip+'. Reduce your "icon-size".')):Bs.kind==="composite"&&(jo=[pf*zn.compositeIconSizes[0].evaluate(Dn,{},la),pf*zn.compositeIconSizes[1].evaluate(Dn,{},la)],(jo[0]>kh||jo[1]>kh)&&U(D.layerIds[0]+': Value for "icon-size" is >= '+Ip+'. Reduce your "icon-size".')),D.addSymbols(D.icon,ts,jo,bn,Pn,Dn,!1,P,xa.lineStartIndex,xa.lineLength,-1,la),Si=D.icon.placedSymbolArray.length-1,zs&&(Ya=zs.length*4,D.addSymbols(D.icon,zs,jo,bn,Pn,Dn,Ol.vertical,P,xa.lineStartIndex,xa.lineLength,-1,la),Mi=D.icon.placedSymbolArray.length-1)}for(var Us in se.horizontal){var kl=se.horizontal[Us];if(!Sa){Gi=xe(kl.text);var Bc=Qe.layout.get("text-rotate").evaluate(Dn,{},la);Sa=new sg(dt,P,St,Lt,Xt,kl,ar,er,Tr,Bc)}var Fh=kl.positionedLines.length===1;if(Ai+=Z3(D,P,kl,Ae,Qe,Tr,Dn,Vr,xa,se.vertical?Ol.horizontal:Ol.horizontalOnly,Fh?Object.keys(se.horizontal):[Us],mi,Si,zn,la),Fh)break}se.vertical&&(zi+=Z3(D,P,se.vertical,Ae,Qe,Tr,Dn,Vr,xa,Ol.vertical,["vertical"],mi,Mi,zn,la));var zh=Sa?Sa.boxStartIndex:D.collisionBoxArray.length,Bh=Sa?Sa.boxEndIndex:D.collisionBoxArray.length,Sd=_a?_a.boxStartIndex:D.collisionBoxArray.length,ku=_a?_a.boxEndIndex:D.collisionBoxArray.length,hg=Ga?Ga.boxStartIndex:D.collisionBoxArray.length,xm=Ga?Ga.boxEndIndex:D.collisionBoxArray.length,vg=Pa?Pa.boxStartIndex:D.collisionBoxArray.length,bm=Pa?Pa.boxEndIndex:D.collisionBoxArray.length,ru=-1,Md=function(Np,fb){return Np&&Np.circleDiameter?Math.max(Np.circleDiameter,fb):fb};ru=Md(Sa,ru),ru=Md(_a,ru),ru=Md(Ga,ru),ru=Md(Pa,ru);var dg=ru>-1?1:0;dg&&(ru*=aa/ls),D.glyphOffsetArray.length>=Fi.MAX_GLYPHS&&U("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Dn.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,Dn.sortKey),D.symbolInstances.emplaceBack(P.x,P.y,mi.right>=0?mi.right:-1,mi.center>=0?mi.center:-1,mi.left>=0?mi.left:-1,mi.vertical||-1,Si,Mi,Gi,zh,Bh,Sd,ku,hg,xm,vg,bm,St,Ai,zi,$a,Ya,dg,0,ar,Ki,po,ru)}function ZS(D,P,X,se){var ye=D.compareText;if(!(P in ye))ye[P]=[];else for(var Ae=ye[P],Le=Ae.length-1;Le>=0;Le--)if(se.dist(Ae[Le])<X)return!0;return ye[P].push(se),!1}var jS=cd.VectorTileFeature.types,KS=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function lg(D,P,X,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar){var er=Qe?Math.min(kh,Math.round(Qe[0])):0,Tr=Qe?Math.min(kh,Math.round(Qe[1])):0;D.emplaceBack(P,X,Math.round(se*32),Math.round(ye*32),Ae,Le,(er<<1)+(dt?1:0),Tr,St*16,Lt*16,Xt*256,ar*256)}function dm(D,P,X){D.emplaceBack(P.x,P.y,X),D.emplaceBack(P.x,P.y,X),D.emplaceBack(P.x,P.y,X),D.emplaceBack(P.x,P.y,X)}function JS(D){for(var P=0,X=D.sections;P<X.length;P+=1){var se=X[P];if(on(se.text))return!0}return!1}var bd=function(P){this.layoutVertexArray=new Kf,this.indexArray=new cf,this.programConfigurations=P,this.segments=new No,this.dynamicLayoutVertexArray=new gp,this.opacityVertexArray=new yp,this.placedSymbolArray=new bp};bd.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},bd.prototype.upload=function(P,X,se,ye){this.isEmpty()||(se&&(this.layoutVertexBuffer=P.createVertexBuffer(this.layoutVertexArray,JA.members),this.indexBuffer=P.createIndexBuffer(this.indexArray,X),this.dynamicLayoutVertexBuffer=P.createVertexBuffer(this.dynamicLayoutVertexArray,QA.members,!0),this.opacityVertexBuffer=P.createVertexBuffer(this.opacityVertexArray,KS,!0),this.opacityVertexBuffer.itemSize=1),(se||ye)&&this.programConfigurations.upload(P))},bd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ve("SymbolBuffers",bd);var Op=function(P,X,se){this.layoutVertexArray=new P,this.layoutAttributes=X,this.indexArray=new se,this.segments=new No,this.collisionVertexArray=new Ks};Op.prototype.upload=function(P){this.layoutVertexBuffer=P.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=P.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=P.createVertexBuffer(this.collisionVertexArray,$A.members,!0)},Op.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ve("CollisionBuffers",Op);var Fi=function(P){this.collisionBoxArray=P.collisionBoxArray,this.zoom=P.zoom,this.overscaling=P.overscaling,this.layers=P.layers,this.layerIds=this.layers.map(function(dt){return dt.id}),this.index=P.index,this.pixelRatio=P.pixelRatio,this.sourceLayerIndex=P.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=od([]),this.placementViewportMatrix=od([]);var X=this.layers[0],se=X._unevaluatedLayout._values;this.textSizeData=cm(this.zoom,se["text-size"]),this.iconSizeData=cm(this.zoom,se["icon-size"]);var ye=this.layers[0].layout,Ae=ye.get("symbol-sort-key"),Le=ye.get("symbol-z-order");this.canOverlap=ye.get("text-allow-overlap")||ye.get("icon-allow-overlap")||ye.get("text-ignore-placement")||ye.get("icon-ignore-placement"),this.sortFeaturesByKey=Le!=="viewport-y"&&Ae.constantOr(1)!==void 0;var Qe=Le==="viewport-y"||Le==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Qe&&this.canOverlap,ye.get("symbol-placement")==="point"&&(this.writingModes=ye.get("text-writing-mode").map(function(dt){return Ol[dt]})),this.stateDependentLayerIds=this.layers.filter(function(dt){return dt.isStateDependent()}).map(function(dt){return dt.id}),this.sourceID=P.sourceID};Fi.prototype.createArrays=function(){this.text=new bd(new ma(this.layers,this.zoom,function(P){return/^text/.test(P)})),this.icon=new bd(new ma(this.layers,this.zoom,function(P){return/^icon/.test(P)})),this.glyphOffsetArray=new W0,this.lineVertexArray=new $l,this.symbolInstances=new Y0},Fi.prototype.calculateGlyphDependencies=function(P,X,se,ye,Ae){for(var Le=0;Le<P.length;Le++)if(X[P.charCodeAt(Le)]=!0,(se||ye)&&Ae){var Qe=Lp[P.charAt(Le)];Qe&&(X[Qe.charCodeAt(0)]=!0)}},Fi.prototype.populate=function(P,X,se){var ye=this.layers[0],Ae=ye.layout,Le=Ae.get("text-font"),Qe=Ae.get("text-field"),dt=Ae.get("icon-image"),St=(Qe.value.kind!=="constant"||Qe.value.value instanceof Mo&&!Qe.value.value.isEmpty()||Qe.value.value.toString().length>0)&&(Le.value.kind!=="constant"||Le.value.value.length>0),Lt=dt.value.kind!=="constant"||!!dt.value.value||Object.keys(dt.parameters).length>0,Xt=Ae.get("symbol-sort-key");if(this.features=[],!(!St&&!Lt)){for(var ar=X.iconDependencies,er=X.glyphDependencies,Tr=X.availableImages,Vr=new Ca(this.zoom),dn=0,sn=P;dn<sn.length;dn+=1){var Pn=sn[dn],bn=Pn.feature,Dn=Pn.id,zn=Pn.index,Kn=Pn.sourceLayerIndex,la=ye._featureFilter.needGeometry,aa=Wi(bn,la);if(ye._featureFilter.filter(Vr,aa,se)){la||(aa.geometry=yi(bn));var Ea=void 0;if(St){var xa=ye.getValueAndResolveTokens("text-field",aa,se,Tr),Sa=Mo.factory(xa);JS(Sa)&&(this.hasRTLText=!0),(!this.hasRTLText||Ua()==="unavailable"||this.hasRTLText&&ra.isParsed())&&(Ea=tS(Sa,ye,aa))}var Ga=void 0;if(Lt){var _a=ye.getValueAndResolveTokens("icon-image",aa,se,Tr);_a instanceof Jo?Ga=_a:Ga=Jo.fromString(_a)}if(!(!Ea&&!Ga)){var Pa=this.sortFeaturesByKey?Xt.evaluate(aa,{},se):void 0,$a={id:Dn,text:Ea,icon:Ga,index:zn,sourceLayerIndex:Kn,geometry:aa.geometry,properties:bn.properties,type:jS[bn.type],sortKey:Pa};if(this.features.push($a),Ga&&(ar[Ga.name]=!0),Ea){var Ya=Le.evaluate(aa,{},se).join(","),Ai=Ae.get("text-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ol.vertical)>=0;for(var zi=0,Si=Ea.sections;zi<Si.length;zi+=1){var Mi=Si[zi];if(Mi.image)ar[Mi.image.name]=!0;else{var mi=nr(Ea.toString()),Gi=Mi.fontStack||Ya,Ki=er[Gi]=er[Gi]||{};this.calculateGlyphDependencies(Mi.text,Ki,Ai,this.allowVerticalPlacement,mi)}}}}}}Ae.get("symbol-placement")==="line"&&(this.features=rS(this.features)),this.sortFeaturesByKey&&this.features.sort(function(po,To){return po.sortKey-To.sortKey})}},Fi.prototype.update=function(P,X,se){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(P,X,this.layers,se),this.icon.programConfigurations.updatePaintArrays(P,X,this.layers,se))},Fi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Fi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Fi.prototype.upload=function(P){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(P),this.iconCollisionBox.upload(P)),this.text.upload(P,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(P,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Fi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Fi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Fi.prototype.addToLineVertexArray=function(P,X){var se=this.lineVertexArray.length;if(P.segment!==void 0){for(var ye=P.dist(X[P.segment+1]),Ae=P.dist(X[P.segment]),Le={},Qe=P.segment+1;Qe<X.length;Qe++)Le[Qe]={x:X[Qe].x,y:X[Qe].y,tileUnitDistanceFromAnchor:ye},Qe<X.length-1&&(ye+=X[Qe+1].dist(X[Qe]));for(var dt=P.segment||0;dt>=0;dt--)Le[dt]={x:X[dt].x,y:X[dt].y,tileUnitDistanceFromAnchor:Ae},dt>0&&(Ae+=X[dt-1].dist(X[dt]));for(var St=0;St<X.length;St++){var Lt=Le[St];this.lineVertexArray.emplaceBack(Lt.x,Lt.y,Lt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:se,lineLength:this.lineVertexArray.length-se}},Fi.prototype.addSymbols=function(P,X,se,ye,Ae,Le,Qe,dt,St,Lt,Xt,ar){for(var er=P.indexArray,Tr=P.layoutVertexArray,Vr=P.segments.prepareSegment(4*X.length,Tr,er,this.canOverlap?Le.sortKey:void 0),dn=this.glyphOffsetArray.length,sn=Vr.vertexLength,Pn=this.allowVerticalPlacement&&Qe===Ol.vertical?Math.PI/2:0,bn=Le.text&&Le.text.sections,Dn=0;Dn<X.length;Dn++){var zn=X[Dn],Kn=zn.tl,la=zn.tr,aa=zn.bl,Ea=zn.br,xa=zn.tex,Sa=zn.pixelOffsetTL,Ga=zn.pixelOffsetBR,_a=zn.minFontScaleX,Pa=zn.minFontScaleY,$a=zn.glyphOffset,Ya=zn.isSDF,Ai=zn.sectionIndex,zi=Vr.vertexLength,Si=$a[1];lg(Tr,dt.x,dt.y,Kn.x,Si+Kn.y,xa.x,xa.y,se,Ya,Sa.x,Sa.y,_a,Pa),lg(Tr,dt.x,dt.y,la.x,Si+la.y,xa.x+xa.w,xa.y,se,Ya,Ga.x,Sa.y,_a,Pa),lg(Tr,dt.x,dt.y,aa.x,Si+aa.y,xa.x,xa.y+xa.h,se,Ya,Sa.x,Ga.y,_a,Pa),lg(Tr,dt.x,dt.y,Ea.x,Si+Ea.y,xa.x+xa.w,xa.y+xa.h,se,Ya,Ga.x,Ga.y,_a,Pa),dm(P.dynamicLayoutVertexArray,dt,Pn),er.emplaceBack(zi,zi+1,zi+2),er.emplaceBack(zi+1,zi+2,zi+3),Vr.vertexLength+=4,Vr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack($a[0]),(Dn===X.length-1||Ai!==X[Dn+1].sectionIndex)&&P.programConfigurations.populatePaintArrays(Tr.length,Le,Le.index,{},ar,bn&&bn[Ai])}P.placedSymbolArray.emplaceBack(dt.x,dt.y,dn,this.glyphOffsetArray.length-dn,sn,St,Lt,dt.segment,se?se[0]:0,se?se[1]:0,ye[0],ye[1],Qe,0,!1,0,Xt)},Fi.prototype._addCollisionDebugVertex=function(P,X,se,ye,Ae,Le){return X.emplaceBack(0,0),P.emplaceBack(se.x,se.y,ye,Ae,Math.round(Le.x),Math.round(Le.y))},Fi.prototype.addCollisionDebugVertices=function(P,X,se,ye,Ae,Le,Qe){var dt=Ae.segments.prepareSegment(4,Ae.layoutVertexArray,Ae.indexArray),St=dt.vertexLength,Lt=Ae.layoutVertexArray,Xt=Ae.collisionVertexArray,ar=Qe.anchorX,er=Qe.anchorY;this._addCollisionDebugVertex(Lt,Xt,Le,ar,er,new r(P,X)),this._addCollisionDebugVertex(Lt,Xt,Le,ar,er,new r(se,X)),this._addCollisionDebugVertex(Lt,Xt,Le,ar,er,new r(se,ye)),this._addCollisionDebugVertex(Lt,Xt,Le,ar,er,new r(P,ye)),dt.vertexLength+=4;var Tr=Ae.indexArray;Tr.emplaceBack(St,St+1),Tr.emplaceBack(St+1,St+2),Tr.emplaceBack(St+2,St+3),Tr.emplaceBack(St+3,St),dt.primitiveLength+=4},Fi.prototype.addDebugCollisionBoxes=function(P,X,se,ye){for(var Ae=P;Ae<X;Ae++){var Le=this.collisionBoxArray.get(Ae),Qe=Le.x1,dt=Le.y1,St=Le.x2,Lt=Le.y2;this.addCollisionDebugVertices(Qe,dt,St,Lt,ye?this.textCollisionBox:this.iconCollisionBox,Le.anchorPoint,se)}},Fi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Op(ed,T3.members,Cv),this.iconCollisionBox=new Op(ed,T3.members,Cv);for(var P=0;P<this.symbolInstances.length;P++){var X=this.symbolInstances.get(P);this.addDebugCollisionBoxes(X.textBoxStartIndex,X.textBoxEndIndex,X,!0),this.addDebugCollisionBoxes(X.verticalTextBoxStartIndex,X.verticalTextBoxEndIndex,X,!0),this.addDebugCollisionBoxes(X.iconBoxStartIndex,X.iconBoxEndIndex,X,!1),this.addDebugCollisionBoxes(X.verticalIconBoxStartIndex,X.verticalIconBoxEndIndex,X,!1)}},Fi.prototype._deserializeCollisionBoxesForSymbol=function(P,X,se,ye,Ae,Le,Qe,dt,St){for(var Lt={},Xt=X;Xt<se;Xt++){var ar=P.get(Xt);Lt.textBox={x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,anchorPointX:ar.anchorPointX,anchorPointY:ar.anchorPointY},Lt.textFeatureIndex=ar.featureIndex;break}for(var er=ye;er<Ae;er++){var Tr=P.get(er);Lt.verticalTextBox={x1:Tr.x1,y1:Tr.y1,x2:Tr.x2,y2:Tr.y2,anchorPointX:Tr.anchorPointX,anchorPointY:Tr.anchorPointY},Lt.verticalTextFeatureIndex=Tr.featureIndex;break}for(var Vr=Le;Vr<Qe;Vr++){var dn=P.get(Vr);Lt.iconBox={x1:dn.x1,y1:dn.y1,x2:dn.x2,y2:dn.y2,anchorPointX:dn.anchorPointX,anchorPointY:dn.anchorPointY},Lt.iconFeatureIndex=dn.featureIndex;break}for(var sn=dt;sn<St;sn++){var Pn=P.get(sn);Lt.verticalIconBox={x1:Pn.x1,y1:Pn.y1,x2:Pn.x2,y2:Pn.y2,anchorPointX:Pn.anchorPointX,anchorPointY:Pn.anchorPointY},Lt.verticalIconFeatureIndex=Pn.featureIndex;break}return Lt},Fi.prototype.deserializeCollisionBoxes=function(P){this.collisionArrays=[];for(var X=0;X<this.symbolInstances.length;X++){var se=this.symbolInstances.get(X);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(P,se.textBoxStartIndex,se.textBoxEndIndex,se.verticalTextBoxStartIndex,se.verticalTextBoxEndIndex,se.iconBoxStartIndex,se.iconBoxEndIndex,se.verticalIconBoxStartIndex,se.verticalIconBoxEndIndex))}},Fi.prototype.hasTextData=function(){return this.text.segments.get().length>0},Fi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Fi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Fi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Fi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Fi.prototype.addIndicesForPlacedSymbol=function(P,X){for(var se=P.placedSymbolArray.get(X),ye=se.vertexStartIndex+se.numGlyphs*4,Ae=se.vertexStartIndex;Ae<ye;Ae+=4)P.indexArray.emplaceBack(Ae,Ae+1,Ae+2),P.indexArray.emplaceBack(Ae+1,Ae+2,Ae+3)},Fi.prototype.getSortedSymbolIndexes=function(P){if(this.sortedAngle===P&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var X=Math.sin(P),se=Math.cos(P),ye=[],Ae=[],Le=[],Qe=0;Qe<this.symbolInstances.length;++Qe){Le.push(Qe);var dt=this.symbolInstances.get(Qe);ye.push(Math.round(X*dt.anchorX+se*dt.anchorY)|0),Ae.push(dt.featureIndex)}return Le.sort(function(St,Lt){return ye[St]-ye[Lt]||Ae[Lt]-Ae[St]}),Le},Fi.prototype.addToSortKeyRanges=function(P,X){var se=this.sortKeyRanges[this.sortKeyRanges.length-1];se&&se.sortKey===X?se.symbolInstanceEnd=P+1:this.sortKeyRanges.push({sortKey:X,symbolInstanceStart:P,symbolInstanceEnd:P+1})},Fi.prototype.sortFeatures=function(P){var X=this;if(this.sortFeaturesByY&&this.sortedAngle!==P&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(P),this.sortedAngle=P,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var se=0,ye=this.symbolInstanceIndexes;se<ye.length;se+=1){var Ae=ye[se],Le=this.symbolInstances.get(Ae);this.featureSortOrder.push(Le.featureIndex),[Le.rightJustifiedTextSymbolIndex,Le.centerJustifiedTextSymbolIndex,Le.leftJustifiedTextSymbolIndex].forEach(function(Qe,dt,St){Qe>=0&&St.indexOf(Qe)===dt&&X.addIndicesForPlacedSymbol(X.text,Qe)}),Le.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Le.verticalPlacedTextSymbolIndex),Le.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Le.placedIconSymbolIndex),Le.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Le.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ve("SymbolBucket",Fi,{omit:["layers","collisionBoxArray","features","compareText"]}),Fi.MAX_GLYPHS=65535,Fi.addDynamicAttributes=dm;function QS(D,P){return P.replace(/{([^{}]+)}/g,function(X,se){return se in D?String(D[se]):""})}var $S=new Li({"symbol-placement":new ha(Mr.layout_symbol["symbol-placement"]),"symbol-spacing":new ha(Mr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ha(Mr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ra(Mr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ha(Mr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ha(Mr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ha(Mr.layout_symbol["icon-ignore-placement"]),"icon-optional":new ha(Mr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ha(Mr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ra(Mr.layout_symbol["icon-size"]),"icon-text-fit":new ha(Mr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ha(Mr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ra(Mr.layout_symbol["icon-image"]),"icon-rotate":new Ra(Mr.layout_symbol["icon-rotate"]),"icon-padding":new ha(Mr.layout_symbol["icon-padding"]),"icon-keep-upright":new ha(Mr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ra(Mr.layout_symbol["icon-offset"]),"icon-anchor":new Ra(Mr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ha(Mr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ha(Mr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ha(Mr.layout_symbol["text-rotation-alignment"]),"text-field":new Ra(Mr.layout_symbol["text-field"]),"text-font":new Ra(Mr.layout_symbol["text-font"]),"text-size":new Ra(Mr.layout_symbol["text-size"]),"text-max-width":new Ra(Mr.layout_symbol["text-max-width"]),"text-line-height":new ha(Mr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ra(Mr.layout_symbol["text-letter-spacing"]),"text-justify":new Ra(Mr.layout_symbol["text-justify"]),"text-radial-offset":new Ra(Mr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ha(Mr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ra(Mr.layout_symbol["text-anchor"]),"text-max-angle":new ha(Mr.layout_symbol["text-max-angle"]),"text-writing-mode":new ha(Mr.layout_symbol["text-writing-mode"]),"text-rotate":new Ra(Mr.layout_symbol["text-rotate"]),"text-padding":new ha(Mr.layout_symbol["text-padding"]),"text-keep-upright":new ha(Mr.layout_symbol["text-keep-upright"]),"text-transform":new Ra(Mr.layout_symbol["text-transform"]),"text-offset":new Ra(Mr.layout_symbol["text-offset"]),"text-allow-overlap":new ha(Mr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ha(Mr.layout_symbol["text-ignore-placement"]),"text-optional":new ha(Mr.layout_symbol["text-optional"])}),qS=new Li({"icon-opacity":new Ra(Mr.paint_symbol["icon-opacity"]),"icon-color":new Ra(Mr.paint_symbol["icon-color"]),"icon-halo-color":new Ra(Mr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ra(Mr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ra(Mr.paint_symbol["icon-halo-blur"]),"icon-translate":new ha(Mr.paint_symbol["icon-translate"]),"icon-translate-anchor":new ha(Mr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ra(Mr.paint_symbol["text-opacity"]),"text-color":new Ra(Mr.paint_symbol["text-color"],{runtimeType:Ln,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Ra(Mr.paint_symbol["text-halo-color"]),"text-halo-width":new Ra(Mr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ra(Mr.paint_symbol["text-halo-blur"]),"text-translate":new ha(Mr.paint_symbol["text-translate"]),"text-translate-anchor":new ha(Mr.paint_symbol["text-translate-anchor"])}),pm={paint:qS,layout:$S},wd=function(P){this.type=P.property.overrides?P.property.overrides.runtimeType:Gr,this.defaultValue=P};wd.prototype.evaluate=function(P){if(P.formattedSection){var X=this.defaultValue.property.overrides;if(X&&X.hasOverride(P.formattedSection))return X.getOverride(P.formattedSection)}return P.feature&&P.featureState?this.defaultValue.evaluate(P.feature,P.featureState):this.defaultValue.property.specification.default},wd.prototype.eachChild=function(P){if(!this.defaultValue.isConstant()){var X=this.defaultValue.value;P(X._styleExpression.expression)}},wd.prototype.outputDefined=function(){return!1},wd.prototype.serialize=function(){return null},Ve("FormatSectionOverride",wd,{omit:["defaultValue"]});var e5=function(D){function P(X){D.call(this,X,pm)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.recalculate=function(se,ye){if(D.prototype.recalculate.call(this,se,ye),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ae=this.layout.get("text-writing-mode");if(Ae){for(var Le=[],Qe=0,dt=Ae;Qe<dt.length;Qe+=1){var St=dt[Qe];Le.indexOf(St)<0&&Le.push(St)}this.layout._values["text-writing-mode"]=Le}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},P.prototype.getValueAndResolveTokens=function(se,ye,Ae,Le){var Qe=this.layout.get(se).evaluate(ye,{},Ae,Le),dt=this._unevaluatedLayout._values[se];return!dt.isDataDriven()&&!tf(dt.value)&&Qe?QS(ye.properties,Qe):Qe},P.prototype.createBucket=function(se){return new Fi(se)},P.prototype.queryRadius=function(){return 0},P.prototype.queryIntersectsFeature=function(){return!1},P.prototype._setPaintOverrides=function(){for(var se=0,ye=pm.paint.overridableProperties;se<ye.length;se+=1){var Ae=ye[se];if(P.hasPaintOverride(this.layout,Ae)){var Le=this.paint.get(Ae),Qe=new wd(Le),dt=new Cl(Qe,Le.property.specification),St=null;Le.value.kind==="constant"||Le.value.kind==="source"?St=new xo("source",dt):St=new Zs("composite",dt,Le.value.zoomStops,Le.value._interpolationType),this.paint._values[Ae]=new Hi(Le.property,St,Le.parameters)}}},P.prototype._handleOverridablePaintPropertyUpdate=function(se,ye,Ae){return!this.layout||ye.isDataDriven()||Ae.isDataDriven()?!1:P.hasPaintOverride(this.layout,se)},P.hasPaintOverride=function(se,ye){var Ae=se.get("text-field"),Le=pm.paint.properties[ye],Qe=!1,dt=function(Xt){for(var ar=0,er=Xt;ar<er.length;ar+=1){var Tr=er[ar];if(Le.overrides&&Le.overrides.hasOverride(Tr)){Qe=!0;return}}};if(Ae.value.kind==="constant"&&Ae.value.value instanceof Mo)dt(Ae.value.value.sections);else if(Ae.value.kind==="source"){var St=function(Xt){if(!Qe)if(Xt instanceof fo&&oo(Xt.value)===ba){var ar=Xt.value;dt(ar.sections)}else Xt instanceof Io?dt(Xt.sections):Xt.eachChild(St)},Lt=Ae.value;Lt._styleExpression&&St(Lt._styleExpression.expression)}return Qe},P}(ho),t5=new Li({"background-color":new ha(Mr.paint_background["background-color"]),"background-pattern":new ps(Mr.paint_background["background-pattern"]),"background-opacity":new ha(Mr.paint_background["background-opacity"])}),r5={paint:t5},n5=function(D){function P(X){D.call(this,X,r5)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P}(ho),a5=new Li({"raster-opacity":new ha(Mr.paint_raster["raster-opacity"]),"raster-hue-rotate":new ha(Mr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ha(Mr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ha(Mr.paint_raster["raster-brightness-max"]),"raster-saturation":new ha(Mr.paint_raster["raster-saturation"]),"raster-contrast":new ha(Mr.paint_raster["raster-contrast"]),"raster-resampling":new ha(Mr.paint_raster["raster-resampling"]),"raster-fade-duration":new ha(Mr.paint_raster["raster-fade-duration"])}),i5={paint:a5},o5=function(D){function P(X){D.call(this,X,i5)}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P}(ho);function s5(D){var P=[],X=D.id;return X===void 0&&P.push({message:"layers."+X+': missing required property "id"'}),D.render===void 0&&P.push({message:"layers."+X+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&P.push({message:"layers."+X+': property "renderingMode" must be either "2d" or "3d"'}),P}var l5=function(D){function P(X){D.call(this,X,{}),this.implementation=X}return D&&(P.__proto__=D),P.prototype=Object.create(D&&D.prototype),P.prototype.constructor=P,P.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},P.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},P.prototype.recalculate=function(){},P.prototype.updateTransitions=function(){},P.prototype.hasTransition=function(){},P.prototype.serialize=function(){},P.prototype.onAdd=function(se){this.implementation.onAdd&&this.implementation.onAdd(se,se.painter.context.gl)},P.prototype.onRemove=function(se){this.implementation.onRemove&&this.implementation.onRemove(se,se.painter.context.gl)},P}(ho),u5={circle:R4,heatmap:N4,hillshade:B4,fill:cA,"fill-extrusion":RA,line:jA,symbol:e5,background:n5,raster:o5};function f5(D){return D.type==="custom"?new l5(D):new u5[D.type](D)}var K3=a.HTMLImageElement,J3=a.HTMLCanvasElement,Q3=a.HTMLVideoElement,$3=a.ImageData,ug=a.ImageBitmap,Rv=function(P,X,se,ye){this.context=P,this.format=se,this.texture=P.gl.createTexture(),this.update(X,ye)};Rv.prototype.update=function(P,X,se){var ye=P.width,Ae=P.height,Le=(!this.size||this.size[0]!==ye||this.size[1]!==Ae)&&!se,Qe=this,dt=Qe.context,St=dt.gl;if(this.useMipmap=!!(X&&X.useMipmap),St.bindTexture(St.TEXTURE_2D,this.texture),dt.pixelStoreUnpackFlipY.set(!1),dt.pixelStoreUnpack.set(1),dt.pixelStoreUnpackPremultiplyAlpha.set(this.format===St.RGBA&&(!X||X.premultiply!==!1)),Le)this.size=[ye,Ae],P instanceof K3||P instanceof J3||P instanceof Q3||P instanceof $3||ug&&P instanceof ug?St.texImage2D(St.TEXTURE_2D,0,this.format,this.format,St.UNSIGNED_BYTE,P):St.texImage2D(St.TEXTURE_2D,0,this.format,ye,Ae,0,this.format,St.UNSIGNED_BYTE,P.data);else{var Lt=se||{x:0,y:0},Xt=Lt.x,ar=Lt.y;P instanceof K3||P instanceof J3||P instanceof Q3||P instanceof $3||ug&&P instanceof ug?St.texSubImage2D(St.TEXTURE_2D,0,Xt,ar,St.RGBA,St.UNSIGNED_BYTE,P):St.texSubImage2D(St.TEXTURE_2D,0,Xt,ar,ye,Ae,St.RGBA,St.UNSIGNED_BYTE,P.data)}this.useMipmap&&this.isSizePowerOfTwo()&&St.generateMipmap(St.TEXTURE_2D)},Rv.prototype.bind=function(P,X,se){var ye=this,Ae=ye.context,Le=Ae.gl;Le.bindTexture(Le.TEXTURE_2D,this.texture),se===Le.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(se=Le.LINEAR),P!==this.filter&&(Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MAG_FILTER,P),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MIN_FILTER,se||P),this.filter=P),X!==this.wrap&&(Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_S,X),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_T,X),this.wrap=X)},Rv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Rv.prototype.destroy=function(){var P=this.context,X=P.gl;X.deleteTexture(this.texture),this.texture=null};var gm=function(P){var X=this;this._callback=P,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){X._triggered=!1,X._callback()})};gm.prototype.trigger=function(){var P=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){P._triggered=!1,P._callback()},0))},gm.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Td=function(P,X,se){this.target=P,this.parent=X,this.mapId=se,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},M(["receive","process"],this),this.invoker=new gm(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=ee()?P:a};Td.prototype.send=function(P,X,se,ye,Ae){var Le=this;Ae===void 0&&(Ae=!1);var Qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);se&&(this.callbacks[Qe]=se);var dt=he(this.globalScope)?void 0:[];return this.target.postMessage({id:Qe,type:P,hasCallback:!!se,targetMapId:ye,mustQueue:Ae,sourceMapId:this.mapId,data:Ct(X,dt)},dt),{cancel:function(){se&&delete Le.callbacks[Qe],Le.target.postMessage({id:Qe,type:"<cancel>",targetMapId:ye,sourceMapId:Le.mapId})}}},Td.prototype.receive=function(P){var X=P.data,se=X.id;if(se&&!(X.targetMapId&&this.mapId!==X.targetMapId))if(X.type==="<cancel>"){delete this.tasks[se];var ye=this.cancelCallbacks[se];delete this.cancelCallbacks[se],ye&&ye()}else ee()||X.mustQueue?(this.tasks[se]=X,this.taskQueue.push(se),this.invoker.trigger()):this.processTask(se,X)},Td.prototype.process=function(){if(this.taskQueue.length){var P=this.taskQueue.shift(),X=this.tasks[P];delete this.tasks[P],this.taskQueue.length&&this.invoker.trigger(),X&&this.processTask(P,X)}},Td.prototype.processTask=function(P,X){var se=this;if(X.type==="<response>"){var ye=this.callbacks[P];delete this.callbacks[P],ye&&(X.error?ye(At(X.error)):ye(null,At(X.data)))}else{var Ae=!1,Le=he(this.globalScope)?void 0:[],Qe=X.hasCallback?function(ar,er){Ae=!0,delete se.cancelCallbacks[P],se.target.postMessage({id:P,type:"<response>",sourceMapId:se.mapId,error:ar?Ct(ar):null,data:Ct(er,Le)},Le)}:function(ar){Ae=!0},dt=null,St=At(X.data);if(this.parent[X.type])dt=this.parent[X.type](X.sourceMapId,St,Qe);else if(this.parent.getWorkerSource){var Lt=X.type.split("."),Xt=this.parent.getWorkerSource(X.sourceMapId,Lt[0],St.source);dt=Xt[Lt[1]](St,Qe)}else Qe(new Error("Could not find function "+X.type));!Ae&&dt&&dt.cancel&&(this.cancelCallbacks[P]=dt.cancel)}},Td.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function c5(D,P,X){P=Math.pow(2,X)-P-1;var se=q3(D*256,P*256,X),ye=q3((D+1)*256,(P+1)*256,X);return se[0]+","+se[1]+","+ye[0]+","+ye[1]}function q3(D,P,X){var se=2*Math.PI*6378137/256/Math.pow(2,X),ye=D*se-2*Math.PI*6378137/2,Ae=P*se-2*Math.PI*6378137/2;return[ye,Ae]}var zo=function(P,X){P&&(X?this.setSouthWest(P).setNorthEast(X):P.length===4?this.setSouthWest([P[0],P[1]]).setNorthEast([P[2],P[3]]):this.setSouthWest(P[0]).setNorthEast(P[1]))};zo.prototype.setNorthEast=function(P){return this._ne=P instanceof ro?new ro(P.lng,P.lat):ro.convert(P),this},zo.prototype.setSouthWest=function(P){return this._sw=P instanceof ro?new ro(P.lng,P.lat):ro.convert(P),this},zo.prototype.extend=function(P){var X=this._sw,se=this._ne,ye,Ae;if(P instanceof ro)ye=P,Ae=P;else if(P instanceof zo){if(ye=P._sw,Ae=P._ne,!ye||!Ae)return this}else{if(Array.isArray(P))if(P.length===4||P.every(Array.isArray)){var Le=P;return this.extend(zo.convert(Le))}else{var Qe=P;return this.extend(ro.convert(Qe))}return this}return!X&&!se?(this._sw=new ro(ye.lng,ye.lat),this._ne=new ro(Ae.lng,Ae.lat)):(X.lng=Math.min(ye.lng,X.lng),X.lat=Math.min(ye.lat,X.lat),se.lng=Math.max(Ae.lng,se.lng),se.lat=Math.max(Ae.lat,se.lat)),this},zo.prototype.getCenter=function(){return new ro((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},zo.prototype.getSouthWest=function(){return this._sw},zo.prototype.getNorthEast=function(){return this._ne},zo.prototype.getNorthWest=function(){return new ro(this.getWest(),this.getNorth())},zo.prototype.getSouthEast=function(){return new ro(this.getEast(),this.getSouth())},zo.prototype.getWest=function(){return this._sw.lng},zo.prototype.getSouth=function(){return this._sw.lat},zo.prototype.getEast=function(){return this._ne.lng},zo.prototype.getNorth=function(){return this._ne.lat},zo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},zo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},zo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},zo.prototype.contains=function(P){var X=ro.convert(P),se=X.lng,ye=X.lat,Ae=this._sw.lat<=ye&&ye<=this._ne.lat,Le=this._sw.lng<=se&&se<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Le=this._sw.lng>=se&&se>=this._ne.lng),Ae&&Le},zo.convert=function(P){return!P||P instanceof zo?P:new zo(P)};var eb=63710088e-1,ro=function(P,X){if(isNaN(P)||isNaN(X))throw new Error("Invalid LngLat object: ("+P+", "+X+")");if(this.lng=+P,this.lat=+X,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ro.prototype.wrap=function(){return new ro(T(this.lng,-180,180),this.lat)},ro.prototype.toArray=function(){return[this.lng,this.lat]},ro.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ro.prototype.distanceTo=function(P){var X=Math.PI/180,se=this.lat*X,ye=P.lat*X,Ae=Math.sin(se)*Math.sin(ye)+Math.cos(se)*Math.cos(ye)*Math.cos((P.lng-this.lng)*X),Le=eb*Math.acos(Math.min(Ae,1));return Le},ro.prototype.toBounds=function(P){P===void 0&&(P=0);var X=40075017,se=360*P/X,ye=se/Math.cos(Math.PI/180*this.lat);return new zo(new ro(this.lng-ye,this.lat-se),new ro(this.lng+ye,this.lat+se))},ro.convert=function(P){if(P instanceof ro)return P;if(Array.isArray(P)&&(P.length===2||P.length===3))return new ro(Number(P[0]),Number(P[1]));if(!Array.isArray(P)&&typeof P=="object"&&P!==null)return new ro(Number("lng"in P?P.lng:P.lon),Number(P.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var tb=2*Math.PI*eb;function rb(D){return tb*Math.cos(D*Math.PI/180)}function nb(D){return(180+D)/360}function ab(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function ib(D,P){return D/rb(P)}function h5(D){return D*360-180}function ym(D){var P=180-D*360;return 360/Math.PI*Math.atan(Math.exp(P*Math.PI/180))-90}function v5(D,P){return D*rb(ym(P))}function d5(D){return 1/Math.cos(D*Math.PI/180)}var Iv=function(P,X,se){se===void 0&&(se=0),this.x=+P,this.y=+X,this.z=+se};Iv.fromLngLat=function(P,X){X===void 0&&(X=0);var se=ro.convert(P);return new Iv(nb(se.lng),ab(se.lat),ib(X,se.lat))},Iv.prototype.toLngLat=function(){return new ro(h5(this.x),ym(this.y))},Iv.prototype.toAltitude=function(){return v5(this.z,this.y)},Iv.prototype.meterInMercatorCoordinateUnits=function(){return 1/tb*d5(ym(this.y))};var Ov=function(P,X,se){this.z=P,this.x=X,this.y=se,this.key=kp(0,P,P,X,se)};Ov.prototype.equals=function(P){return this.z===P.z&&this.x===P.x&&this.y===P.y},Ov.prototype.url=function(P,X){var se=c5(this.x,this.y,this.z),ye=p5(this.z,this.x,this.y);return P[(this.x+this.y)%P.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(X==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ye).replace("{bbox-epsg-3857}",se)},Ov.prototype.getTilePoint=function(P){var X=Math.pow(2,this.z);return new r((P.x*X-this.x)*La,(P.y*X-this.y)*La)},Ov.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var ob=function(P,X){this.wrap=P,this.canonical=X,this.key=kp(P,X.z,X.z,X.x,X.y)},Bo=function(P,X,se,ye,Ae){this.overscaledZ=P,this.wrap=X,this.canonical=new Ov(se,+ye,+Ae),this.key=kp(X,P,se,ye,Ae)};Bo.prototype.equals=function(P){return this.overscaledZ===P.overscaledZ&&this.wrap===P.wrap&&this.canonical.equals(P.canonical)},Bo.prototype.scaledTo=function(P){var X=this.canonical.z-P;return P>this.canonical.z?new Bo(P,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Bo(P,this.wrap,P,this.canonical.x>>X,this.canonical.y>>X)},Bo.prototype.calculateScaledKey=function(P,X){var se=this.canonical.z-P;return P>this.canonical.z?kp(this.wrap*+X,P,this.canonical.z,this.canonical.x,this.canonical.y):kp(this.wrap*+X,P,P,this.canonical.x>>se,this.canonical.y>>se)},Bo.prototype.isChildOf=function(P){if(P.wrap!==this.wrap)return!1;var X=this.canonical.z-P.canonical.z;return P.overscaledZ===0||P.overscaledZ<this.overscaledZ&&P.canonical.x===this.canonical.x>>X&&P.canonical.y===this.canonical.y>>X},Bo.prototype.children=function(P){if(this.overscaledZ>=P)return[new Bo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var X=this.canonical.z+1,se=this.canonical.x*2,ye=this.canonical.y*2;return[new Bo(X,this.wrap,X,se,ye),new Bo(X,this.wrap,X,se+1,ye),new Bo(X,this.wrap,X,se,ye+1),new Bo(X,this.wrap,X,se+1,ye+1)]},Bo.prototype.isLessThan=function(P){return this.wrap<P.wrap?!0:this.wrap>P.wrap?!1:this.overscaledZ<P.overscaledZ?!0:this.overscaledZ>P.overscaledZ?!1:this.canonical.x<P.canonical.x?!0:this.canonical.x>P.canonical.x?!1:this.canonical.y<P.canonical.y},Bo.prototype.wrapped=function(){return new Bo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Bo.prototype.unwrapTo=function(P){return new Bo(this.overscaledZ,P,this.canonical.z,this.canonical.x,this.canonical.y)},Bo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Bo.prototype.toUnwrapped=function(){return new ob(this.wrap,this.canonical)},Bo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Bo.prototype.getTilePoint=function(P){return this.canonical.getTilePoint(new Iv(P.x-this.wrap,P.y))};function kp(D,P,X,se,ye){D*=2,D<0&&(D=D*-1-1);var Ae=1<<X;return(Ae*Ae*D+Ae*ye+se).toString(36)+X.toString(36)+P.toString(36)}function p5(D,P,X){for(var se="",ye,Ae=D;Ae>0;Ae--)ye=1<<Ae-1,se+=(P&ye?1:0)+(X&ye?2:0);return se}Ve("CanonicalTileID",Ov),Ve("OverscaledTileID",Bo,{omit:["posMatrix"]});var Fc=function(P,X,se){if(this.uid=P,X.height!==X.width)throw new RangeError("DEM tiles must be square");if(se&&se!=="mapbox"&&se!=="terrarium")return U('"'+se+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=X.height;var ye=this.dim=X.height-2;this.data=new Uint32Array(X.data.buffer),this.encoding=se||"mapbox";for(var Ae=0;Ae<ye;Ae++)this.data[this._idx(-1,Ae)]=this.data[this._idx(0,Ae)],this.data[this._idx(ye,Ae)]=this.data[this._idx(ye-1,Ae)],this.data[this._idx(Ae,-1)]=this.data[this._idx(Ae,0)],this.data[this._idx(Ae,ye)]=this.data[this._idx(Ae,ye-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ye,-1)]=this.data[this._idx(ye-1,0)],this.data[this._idx(-1,ye)]=this.data[this._idx(0,ye-1)],this.data[this._idx(ye,ye)]=this.data[this._idx(ye-1,ye-1)]};Fc.prototype.get=function(P,X){var se=new Uint8Array(this.data.buffer),ye=this._idx(P,X)*4,Ae=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Ae(se[ye],se[ye+1],se[ye+2])},Fc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Fc.prototype._idx=function(P,X){if(P<-1||P>=this.dim+1||X<-1||X>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(X+1)*this.stride+(P+1)},Fc.prototype._unpackMapbox=function(P,X,se){return(P*256*256+X*256+se)/10-1e4},Fc.prototype._unpackTerrarium=function(P,X,se){return P*256+X+se/256-32768},Fc.prototype.getPixels=function(){return new qs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Fc.prototype.backfillBorder=function(P,X,se){if(this.dim!==P.dim)throw new Error("dem dimension mismatch");var ye=X*this.dim,Ae=X*this.dim+this.dim,Le=se*this.dim,Qe=se*this.dim+this.dim;switch(X){case-1:ye=Ae-1;break;case 1:Ae=ye+1;break}switch(se){case-1:Le=Qe-1;break;case 1:Qe=Le+1;break}for(var dt=-X*this.dim,St=-se*this.dim,Lt=Le;Lt<Qe;Lt++)for(var Xt=ye;Xt<Ae;Xt++)this.data[this._idx(Xt,Lt)]=P.data[this._idx(Xt+dt,Lt+St)]},Ve("DEMData",Fc);function g5(D,P){var X={};if(!P)return X;for(var se=function(){var Le=Ae[ye],Qe=Le.layerIds.map(function(Xt){return P.getLayer(Xt)}).filter(Boolean);if(Qe.length!==0){Le.layers=Qe,Le.stateDependentLayerIds&&(Le.stateDependentLayers=Le.stateDependentLayerIds.map(function(Xt){return Qe.filter(function(ar){return ar.id===Xt})[0]}));for(var dt=0,St=Qe;dt<St.length;dt+=1){var Lt=St[dt];X[Lt.id]=Le}}},ye=0,Ae=D;ye<Ae.length;ye+=1)se();return X}var fg=function(P){this._stringToNumber={},this._numberToString=[];for(var X=0;X<P.length;X++){var se=P[X];this._stringToNumber[se]=X,this._numberToString[X]=se}};fg.prototype.encode=function(P){return this._stringToNumber[P]},fg.prototype.decode=function(P){return this._numberToString[P]};var cg=function(P,X,se,ye,Ae){this.type="Feature",this._vectorTileFeature=P,P._z=X,P._x=se,P._y=ye,this.properties=P.properties,this.id=Ae},mm={geometry:{configurable:!0}};mm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},mm.geometry.set=function(D){this._geometry=D},cg.prototype.toJSON=function(){var P={geometry:this.geometry};for(var X in this)X==="_geometry"||X==="_vectorTileFeature"||(P[X]=this[X]);return P},Object.defineProperties(cg.prototype,mm);var Ad=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ad.prototype.updateState=function(P,X,se){var ye=String(X);if(this.stateChanges[P]=this.stateChanges[P]||{},this.stateChanges[P][ye]=this.stateChanges[P][ye]||{},x(this.stateChanges[P][ye],se),this.deletedStates[P]===null){this.deletedStates[P]={};for(var Ae in this.state[P])Ae!==ye&&(this.deletedStates[P][Ae]=null)}else{var Le=this.deletedStates[P]&&this.deletedStates[P][ye]===null;if(Le){this.deletedStates[P][ye]={};for(var Qe in this.state[P][ye])se[Qe]||(this.deletedStates[P][ye][Qe]=null)}else for(var dt in se){var St=this.deletedStates[P]&&this.deletedStates[P][ye]&&this.deletedStates[P][ye][dt]===null;St&&delete this.deletedStates[P][ye][dt]}}},Ad.prototype.removeFeatureState=function(P,X,se){var ye=this.deletedStates[P]===null;if(!ye){var Ae=String(X);if(this.deletedStates[P]=this.deletedStates[P]||{},se&&X!==void 0)this.deletedStates[P][Ae]!==null&&(this.deletedStates[P][Ae]=this.deletedStates[P][Ae]||{},this.deletedStates[P][Ae][se]=null);else if(X!==void 0){var Le=this.stateChanges[P]&&this.stateChanges[P][Ae];if(Le){this.deletedStates[P][Ae]={};for(se in this.stateChanges[P][Ae])this.deletedStates[P][Ae][se]=null}else this.deletedStates[P][Ae]=null}else this.deletedStates[P]=null}},Ad.prototype.getState=function(P,X){var se=String(X),ye=this.state[P]||{},Ae=this.stateChanges[P]||{},Le=x({},ye[se],Ae[se]);if(this.deletedStates[P]===null)return{};if(this.deletedStates[P]){var Qe=this.deletedStates[P][X];if(Qe===null)return{};for(var dt in Qe)delete Le[dt]}return Le},Ad.prototype.initializeTileState=function(P,X){P.setFeatureState(this.state,X)},Ad.prototype.coalesceChanges=function(P,X){var se={};for(var ye in this.stateChanges){this.state[ye]=this.state[ye]||{};var Ae={};for(var Le in this.stateChanges[ye])this.state[ye][Le]||(this.state[ye][Le]={}),x(this.state[ye][Le],this.stateChanges[ye][Le]),Ae[Le]=this.state[ye][Le];se[ye]=Ae}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var dt={};if(this.deletedStates[Qe]===null)for(var St in this.state[Qe])dt[St]={},this.state[Qe][St]={};else for(var Lt in this.deletedStates[Qe]){var Xt=this.deletedStates[Qe][Lt]===null;if(Xt)this.state[Qe][Lt]={};else for(var ar=0,er=Object.keys(this.deletedStates[Qe][Lt]);ar<er.length;ar+=1){var Tr=er[ar];delete this.state[Qe][Lt][Tr]}dt[Lt]=this.state[Qe][Lt]}se[Qe]=se[Qe]||{},x(se[Qe],dt)}if(this.stateChanges={},this.deletedStates={},Object.keys(se).length!==0)for(var Vr in P){var dn=P[Vr];dn.setFeatureState(se,X)}};var zc=function(P,X){this.tileID=P,this.x=P.canonical.x,this.y=P.canonical.y,this.z=P.canonical.z,this.grid=new Ha(La,16,0),this.grid3D=new Ha(La,16,0),this.featureIndexArray=new X0,this.promoteId=X};zc.prototype.insert=function(P,X,se,ye,Ae,Le){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(se,ye,Ae);for(var dt=Le?this.grid3D:this.grid,St=0;St<X.length;St++){for(var Lt=X[St],Xt=[1/0,1/0,-1/0,-1/0],ar=0;ar<Lt.length;ar++){var er=Lt[ar];Xt[0]=Math.min(Xt[0],er.x),Xt[1]=Math.min(Xt[1],er.y),Xt[2]=Math.max(Xt[2],er.x),Xt[3]=Math.max(Xt[3],er.y)}Xt[0]<La&&Xt[1]<La&&Xt[2]>=0&&Xt[3]>=0&&dt.insert(Qe,Xt[0],Xt[1],Xt[2],Xt[3])}},zc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new cd.VectorTile(new eg(this.rawTileData)).layers,this.sourceLayerCoder=new fg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},zc.prototype.query=function(P,X,se,ye){var Ae=this;this.loadVTLayers();for(var Le=P.params||{},Qe=La/P.tileSize/P.scale,dt=Pl(Le.filter),St=P.queryGeometry,Lt=P.queryPadding*Qe,Xt=lb(St),ar=this.grid.query(Xt.minX-Lt,Xt.minY-Lt,Xt.maxX+Lt,Xt.maxY+Lt),er=lb(P.cameraQueryGeometry),Tr=this.grid3D.query(er.minX-Lt,er.minY-Lt,er.maxX+Lt,er.maxY+Lt,function(Kn,la,aa,Ea){return Ou(P.cameraQueryGeometry,Kn-Lt,la-Lt,aa+Lt,Ea+Lt)}),Vr=0,dn=Tr;Vr<dn.length;Vr+=1){var sn=dn[Vr];ar.push(sn)}ar.sort(y5);for(var Pn={},bn,Dn=function(Kn){var la=ar[Kn];if(la!==bn){bn=la;var aa=Ae.featureIndexArray.get(la),Ea=null;Ae.loadMatchingFeature(Pn,aa.bucketIndex,aa.sourceLayerIndex,aa.featureIndex,dt,Le.layers,Le.availableImages,X,se,ye,function(xa,Sa,Ga){return Ea||(Ea=yi(xa)),Sa.queryIntersectsFeature(St,xa,Ga,Ea,Ae.z,P.transform,Qe,P.pixelPosMatrix)})}},zn=0;zn<ar.length;zn++)Dn(zn);return Pn},zc.prototype.loadMatchingFeature=function(P,X,se,ye,Ae,Le,Qe,dt,St,Lt,Xt){var ar=this.bucketLayerIDs[X];if(!(Le&&!F(Le,ar))){var er=this.sourceLayerCoder.decode(se),Tr=this.vtLayers[er],Vr=Tr.feature(ye);if(Ae.needGeometry){var dn=Wi(Vr,!0);if(!Ae.filter(new Ca(this.tileID.overscaledZ),dn,this.tileID.canonical))return}else if(!Ae.filter(new Ca(this.tileID.overscaledZ),Vr))return;for(var sn=this.getId(Vr,er),Pn=0;Pn<ar.length;Pn++){var bn=ar[Pn];if(!(Le&&Le.indexOf(bn)<0)){var Dn=dt[bn];if(Dn){var zn={};sn!==void 0&&Lt&&(zn=Lt.getState(Dn.sourceLayer||"_geojsonTileLayer",sn));var Kn=x({},St[bn]);Kn.paint=sb(Kn.paint,Dn.paint,Vr,zn,Qe),Kn.layout=sb(Kn.layout,Dn.layout,Vr,zn,Qe);var la=!Xt||Xt(Vr,Dn,zn);if(la){var aa=new cg(Vr,this.z,this.x,this.y,sn);aa.layer=Kn;var Ea=P[bn];Ea===void 0&&(Ea=P[bn]=[]),Ea.push({featureIndex:ye,feature:aa,intersectionZ:la})}}}}}},zc.prototype.lookupSymbolFeatures=function(P,X,se,ye,Ae,Le,Qe,dt){var St={};this.loadVTLayers();for(var Lt=Pl(Ae),Xt=0,ar=P;Xt<ar.length;Xt+=1){var er=ar[Xt];this.loadMatchingFeature(St,se,ye,er,Lt,Le,Qe,dt,X)}return St},zc.prototype.hasLayer=function(P){for(var X=0,se=this.bucketLayerIDs;X<se.length;X+=1)for(var ye=se[X],Ae=0,Le=ye;Ae<Le.length;Ae+=1){var Qe=Le[Ae];if(P===Qe)return!0}return!1},zc.prototype.getId=function(P,X){var se=P.id;if(this.promoteId){var ye=typeof this.promoteId=="string"?this.promoteId:this.promoteId[X];se=P.properties[ye],typeof se=="boolean"&&(se=Number(se))}return se},Ve("FeatureIndex",zc,{omit:["rawTileData","sourceLayerCoder"]});function sb(D,P,X,se,ye){return N(D,function(Ae,Le){var Qe=P instanceof Xo?P.get(Le):null;return Qe&&Qe.evaluate?Qe.evaluate(X,se,ye):Qe})}function lb(D){for(var P=1/0,X=1/0,se=-1/0,ye=-1/0,Ae=0,Le=D;Ae<Le.length;Ae+=1){var Qe=Le[Ae];P=Math.min(P,Qe.x),X=Math.min(X,Qe.y),se=Math.max(se,Qe.x),ye=Math.max(ye,Qe.y)}return{minX:P,minY:X,maxX:se,maxY:ye}}function y5(D,P){return P-D}var m5=3e4,qo=function(P,X){this.tileID=P,this.uid=m(),this.uses=0,this.tileSize=X,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};qo.prototype.registerFadeDuration=function(P){var X=P+this.timeAdded;X<ce.now()||this.fadeEndTime&&X<this.fadeEndTime||(this.fadeEndTime=X)},qo.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},qo.prototype.loadVectorData=function(P,X,se){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!P){this.collisionBoxArray=new xp;return}P.featureIndex&&(this.latestFeatureIndex=P.featureIndex,P.rawTileData?(this.latestRawTileData=P.rawTileData,this.latestFeatureIndex.rawTileData=P.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=P.collisionBoxArray,this.buckets=g5(P.buckets,X.style),this.hasSymbolBuckets=!1;for(var ye in this.buckets){var Ae=this.buckets[ye];if(Ae instanceof Fi)if(this.hasSymbolBuckets=!0,se)Ae.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Le in this.buckets){var Qe=this.buckets[Le];if(Qe instanceof Fi&&Qe.hasRTLText){this.hasRTLText=!0,Za();break}}this.queryPadding=0;for(var dt in this.buckets){var St=this.buckets[dt];this.queryPadding=Math.max(this.queryPadding,X.style.getLayer(dt).queryRadius(St))}P.imageAtlas&&(this.imageAtlas=P.imageAtlas),P.glyphAtlasImage&&(this.glyphAtlasImage=P.glyphAtlasImage)},qo.prototype.unloadVectorData=function(){for(var P in this.buckets)this.buckets[P].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},qo.prototype.getBucket=function(P){return this.buckets[P.id]},qo.prototype.upload=function(P){for(var X in this.buckets){var se=this.buckets[X];se.uploadPending()&&se.upload(P)}var ye=P.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Rv(P,this.imageAtlas.image,ye.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Rv(P,this.glyphAtlasImage,ye.ALPHA),this.glyphAtlasImage=null)},qo.prototype.prepare=function(P){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(P,this.imageAtlasTexture)},qo.prototype.queryRenderedFeatures=function(P,X,se,ye,Ae,Le,Qe,dt,St,Lt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:ye,cameraQueryGeometry:Ae,scale:Le,tileSize:this.tileSize,pixelPosMatrix:Lt,transform:dt,params:Qe,queryPadding:this.queryPadding*St},P,X,se)},qo.prototype.querySourceFeatures=function(P,X){var se=this.latestFeatureIndex;if(!(!se||!se.rawTileData)){var ye=se.loadVTLayers(),Ae=X?X.sourceLayer:"",Le=ye._geojsonTileLayer||ye[Ae];if(Le)for(var Qe=Pl(X&&X.filter),dt=this.tileID.canonical,St=dt.z,Lt=dt.x,Xt=dt.y,ar={z:St,x:Lt,y:Xt},er=0;er<Le.length;er++){var Tr=Le.feature(er);if(Qe.needGeometry){var Vr=Wi(Tr,!0);if(!Qe.filter(new Ca(this.tileID.overscaledZ),Vr,this.tileID.canonical))continue}else if(!Qe.filter(new Ca(this.tileID.overscaledZ),Tr))continue;var dn=se.getId(Tr,Ae),sn=new cg(Tr,St,Lt,Xt,dn);sn.tile=ar,P.push(sn)}}},qo.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},qo.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},qo.prototype.setExpiryData=function(P){var X=this.expirationTime;if(P.cacheControl){var se=ie(P.cacheControl);se["max-age"]&&(this.expirationTime=Date.now()+se["max-age"]*1e3)}else P.expires&&(this.expirationTime=new Date(P.expires).getTime());if(this.expirationTime){var ye=Date.now(),Ae=!1;if(this.expirationTime>ye)Ae=!1;else if(!X)Ae=!0;else if(this.expirationTime<X)Ae=!0;else{var Le=this.expirationTime-X;Le?this.expirationTime=ye+Math.max(Le,m5):Ae=!0}Ae?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},qo.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},qo.prototype.setFeatureState=function(P,X){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(P).length===0)){var se=this.latestFeatureIndex.loadVTLayers();for(var ye in this.buckets)if(X.style.hasLayer(ye)){var Ae=this.buckets[ye],Le=Ae.layers[0].sourceLayer||"_geojsonTileLayer",Qe=se[Le],dt=P[Le];if(!(!Qe||!dt||Object.keys(dt).length===0)){Ae.update(dt,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var St=X&&X.style&&X.style.getLayer(ye);St&&(this.queryPadding=Math.max(this.queryPadding,St.queryRadius(Ae)))}}}},qo.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},qo.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ce.now()},qo.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},qo.prototype.setHoldDuration=function(P){this.symbolFadeHoldUntil=ce.now()+P},qo.prototype.setDependencies=function(P,X){for(var se={},ye=0,Ae=X;ye<Ae.length;ye+=1){var Le=Ae[ye];se[Le]=!0}this.dependencies[P]=se},qo.prototype.hasDependency=function(P,X){for(var se=0,ye=P;se<ye.length;se+=1){var Ae=ye[se],Le=this.dependencies[Ae];if(Le)for(var Qe=0,dt=X;Qe<dt.length;Qe+=1){var St=dt[Qe];if(Le[St])return!0}}return!1};var x5=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Nh=a.performance,ub=function(P){this._marks={start:[P.url,"start"].join("#"),end:[P.url,"end"].join("#"),measure:P.url.toString()},Nh.mark(this._marks.start)};ub.prototype.finish=function(){Nh.mark(this._marks.end);var P=Nh.getEntriesByName(this._marks.measure);return P.length===0&&(Nh.measure(this._marks.measure,this._marks.start,this._marks.end),P=Nh.getEntriesByName(this._marks.measure),Nh.clearMarks(this._marks.start),Nh.clearMarks(this._marks.end),Nh.clearMeasures(this._marks.measure)),P},o.Actor=Td,o.AlphaImage=Pv,o.CanonicalTileID=Ov,o.CollisionBoxArray=xp,o.Color=gi,o.DEMData=Fc,o.DataConstantProperty=ha,o.DictionaryCoder=fg,o.EXTENT=La,o.ErrorEvent=zt,o.EvaluationParameters=Ca,o.Event=tr,o.Evented=or,o.FeatureIndex=zc,o.FillBucket=vf,o.FillExtrusionBucket=df,o.ImageAtlas=Pp,o.ImagePosition=rg,o.LineBucket=Fs,o.LngLat=ro,o.LngLatBounds=zo,o.MercatorCoordinate=Iv,o.ONE_EM=ls,o.OverscaledTileID=Bo,o.Point=r,o.Point$1=r,o.Properties=Li,o.Protobuf=eg,o.RGBAImage=qs,o.RequestManager=_e,o.RequestPerformance=ub,o.ResourceType=br,o.SegmentVector=No,o.SourceFeatureState=Ad,o.StructArrayLayout1ui2=Ch,o.StructArrayLayout2f1f2i16=ff,o.StructArrayLayout2i4=Rc,o.StructArrayLayout3ui6=cf,o.StructArrayLayout4i8=pp,o.SymbolBucket=Fi,o.Texture=Rv,o.Tile=qo,o.Transitionable=wi,o.Uniform1f=Kr,o.Uniform1i=kr,o.Uniform2f=jr,o.Uniform3f=Xr,o.Uniform4f=en,o.UniformColor=yn,o.UniformMatrix4f=Yn,o.UnwrappedTileID=ob,o.ValidationError=Ur,o.WritingMode=Ol,o.ZoomHistory=Ht,o.add=ld,o.addDynamicAttributes=dm,o.asyncAll=c,o.bezier=l,o.bindAll=M,o.browser=ce,o.cacheEntryPossiblyAdded=Rt,o.clamp=h,o.clearTileCache=mr,o.clipLine=Y3,o.clone=id,o.clone$1=H,o.clone$2=jy,o.collisionCircleLayout=qA,o.config=ae,o.create=ad,o.create$1=xs,o.create$2=nd,o.createCommonjsModule=C,o.createExpression=Ll,o.createLayout=eo,o.createStyleLayer=f5,o.cross=A4,o.deepEqual=n,o.dot=T4,o.dot$1=C4,o.ease=y,o.emitValidationErrors=za,o.endsWith=b,o.enforceCacheSizeLimit=Zt,o.evaluateSizeForFeature=N3,o.evaluateSizeForZoom=F3,o.evaluateVariableOffset=X3,o.evented=Da,o.extend=x,o.featureFilter=Pl,o.filterObject=k,o.fromRotation=Ph,o.getAnchorAlignment=fm,o.getAnchorJustification=vm,o.getArrayBuffer=Bt,o.getImage=Pt,o.getJSON=Yt,o.getRTLTextPluginStatus=Ua,o.getReferrer=mt,o.getVideo=Qt,o.identity=od,o.invert=Rh,o.isChar=Gt,o.isMapboxURL=Ne,o.keysDifference=d,o.makeRequest=Dt,o.mapObject=N,o.mercatorXfromLng=nb,o.mercatorYfromLat=ab,o.mercatorZfromAltitude=ib,o.mul=Zy,o.multiply=Ih,o.mvt=cd,o.nextPowerOfTwo=A,o.normalize=Tp,o.number=to,o.offscreenCanvasSupported=$t,o.ortho=Xy,o.parseGlyphPBF=ES,o.pbf=eg,o.performSymbolLayout=WS,o.perspective=wp,o.pick=w,o.plugin=ra,o.polygonIntersectsPolygon=Qa,o.postMapLoadEvent=Ge,o.postTurnstileEvent=We,o.potpack=C3,o.refProperties=x5,o.register=Ve,o.registerForPluginStateChange=bi,o.renderColorRamp=o3,o.rotate=Lv,o.rotateX=$s,o.rotateZ=sd,o.scale=Qs,o.scale$1=_4,o.scale$2=Jy,o.setCacheLimits=gt,o.setRTLTextPlugin=co,o.sphericalToCartesian=j,o.sqrLen=P4,o.styleSpec=Mr,o.sub=M4,o.symbolSize=kS,o.transformMat3=S4,o.transformMat4=j0,o.translate=wo,o.triggerPluginCompletionEvent=pa,o.uniqueId=m,o.validateCustomStyleLayer=s5,o.validateLight=$n,o.validateStyle=Nn,o.values=i,o.vectorTile=cd,o.version=S,o.warnOnce=U,o.webpSupported=de,o.window=a,o.wrap=T}),L(["./shared"],function(o){function C(mt){var ut=typeof mt;if(ut==="number"||ut==="boolean"||ut==="string"||mt===void 0||mt===null)return JSON.stringify(mt);if(Array.isArray(mt)){for(var bt="[",Et=0,Dt=mt;Et<Dt.length;Et+=1){var Yt=Dt[Et];bt+=C(Yt)+","}return bt+"]"}for(var Bt=Object.keys(mt).sort(),Ut="{",Jt=0;Jt<Bt.length;Jt++)Ut+=JSON.stringify(Bt[Jt])+":"+C(mt[Bt[Jt]])+",";return Ut+"}"}function S(mt){for(var ut="",bt=0,Et=o.refProperties;bt<Et.length;bt+=1){var Dt=Et[bt];ut+="/"+C(mt[Dt])}return ut}function v(mt,ut){for(var bt={},Et=0;Et<mt.length;Et++){var Dt=ut&&ut[mt[Et].id]||S(mt[Et]);ut&&(ut[mt[Et].id]=Dt);var Yt=bt[Dt];Yt||(Yt=bt[Dt]=[]),Yt.push(mt[Et])}var Bt=[];for(var Ut in bt)Bt.push(bt[Ut]);return Bt}var g=function(ut){this.keyCache={},ut&&this.replace(ut)};g.prototype.replace=function(ut){this._layerConfigs={},this._layers={},this.update(ut,[])},g.prototype.update=function(ut,bt){for(var Et=this,Dt=0,Yt=ut;Dt<Yt.length;Dt+=1){var Bt=Yt[Dt];this._layerConfigs[Bt.id]=Bt;var Ut=this._layers[Bt.id]=o.createStyleLayer(Bt);Ut._featureFilter=o.featureFilter(Ut.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Jt=0,hr=bt;Jt<hr.length;Jt+=1){var vr=hr[Jt];delete this.keyCache[vr],delete this._layerConfigs[vr],delete this._layers[vr]}this.familiesBySource={};for(var gr=v(o.values(this._layerConfigs),this.keyCache),Xe=0,He=gr;Xe<He.length;Xe+=1){var Nt=He[Xe],Pt=Nt.map(function(or){return Et._layers[or.id]}),Qt=Pt[0];if(Qt.visibility!=="none"){var ur=Qt.source||"",cr=this.familiesBySource[ur];cr||(cr=this.familiesBySource[ur]={});var tr=Qt.sourceLayer||"_geojsonTileLayer",zt=cr[tr];zt||(zt=cr[tr]=[]),zt.push(Pt)}}};var r=1,t=function(ut){var bt={},Et=[];for(var Dt in ut){var Yt=ut[Dt],Bt=bt[Dt]={};for(var Ut in Yt){var Jt=Yt[+Ut];if(!(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)){var hr={x:0,y:0,w:Jt.bitmap.width+2*r,h:Jt.bitmap.height+2*r};Et.push(hr),Bt[Ut]={rect:hr,metrics:Jt.metrics}}}}var vr=o.potpack(Et),gr=vr.w,Xe=vr.h,He=new o.AlphaImage({width:gr||1,height:Xe||1});for(var Nt in ut){var Pt=ut[Nt];for(var Qt in Pt){var ur=Pt[+Qt];if(!(!ur||ur.bitmap.width===0||ur.bitmap.height===0)){var cr=bt[Nt][Qt].rect;o.AlphaImage.copy(ur.bitmap,He,{x:0,y:0},{x:cr.x+r,y:cr.y+r},ur.bitmap)}}}this.image=He,this.positions=bt};o.register("GlyphAtlas",t);var a=function(ut){this.tileID=new o.OverscaledTileID(ut.tileID.overscaledZ,ut.tileID.wrap,ut.tileID.canonical.z,ut.tileID.canonical.x,ut.tileID.canonical.y),this.uid=ut.uid,this.zoom=ut.zoom,this.pixelRatio=ut.pixelRatio,this.tileSize=ut.tileSize,this.source=ut.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ut.showCollisionBoxes,this.collectResourceTiming=!!ut.collectResourceTiming,this.returnDependencies=!!ut.returnDependencies,this.promoteId=ut.promoteId};a.prototype.parse=function(ut,bt,Et,Dt,Yt){var Bt=this;this.status="parsing",this.data=ut,this.collisionBoxArray=new o.CollisionBoxArray;var Ut=new o.DictionaryCoder(Object.keys(ut.layers).sort()),Jt=new o.FeatureIndex(this.tileID,this.promoteId);Jt.bucketLayerIDs=[];var hr={},vr={featureIndex:Jt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Et},gr=bt.familiesBySource[this.source];for(var Xe in gr){var He=ut.layers[Xe];if(He){He.version===1&&o.warnOnce('Vector tile source "'+this.source+'" layer "'+Xe+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Nt=Ut.encode(Xe),Pt=[],Qt=0;Qt<He.length;Qt++){var ur=He.feature(Qt),cr=Jt.getId(ur,Xe);Pt.push({feature:ur,id:cr,index:Qt,sourceLayerIndex:Nt})}for(var tr=0,zt=gr[Xe];tr<zt.length;tr+=1){var or=zt[tr],dr=or[0];if(!(dr.minzoom&&this.zoom<Math.floor(dr.minzoom))&&!(dr.maxzoom&&this.zoom>=dr.maxzoom)&&dr.visibility!=="none"){n(or,this.zoom,Et);var wr=hr[dr.id]=dr.createBucket({index:Jt.bucketLayerIDs.length,layers:or,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Nt,sourceID:this.source});wr.populate(Pt,vr,this.tileID.canonical),Jt.bucketLayerIDs.push(or.map(function(Sr){return Sr.id}))}}}}var pr,Wr,Pr,Ir,ln=o.mapObject(vr.glyphDependencies,function(Sr){return Object.keys(Sr).map(Number)});Object.keys(ln).length?Dt.send("getGlyphs",{uid:this.uid,stacks:ln},function(Sr,Nr){pr||(pr=Sr,Wr=Nr,Mn.call(Bt))}):Wr={};var an=Object.keys(vr.iconDependencies);an.length?Dt.send("getImages",{icons:an,source:this.source,tileID:this.tileID,type:"icons"},function(Sr,Nr){pr||(pr=Sr,Pr=Nr,Mn.call(Bt))}):Pr={};var _n=Object.keys(vr.patternDependencies);_n.length?Dt.send("getImages",{icons:_n,source:this.source,tileID:this.tileID,type:"patterns"},function(Sr,Nr){pr||(pr=Sr,Ir=Nr,Mn.call(Bt))}):Ir={},Mn.call(this);function Mn(){if(pr)return Yt(pr);if(Wr&&Pr&&Ir){var Sr=new t(Wr),Nr=new o.ImageAtlas(Pr,Ir);for(var Zr in hr){var Fr=hr[Zr];Fr instanceof o.SymbolBucket?(n(Fr.layers,this.zoom,Et),o.performSymbolLayout(Fr,Wr,Sr.positions,Pr,Nr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Fr.hasPattern&&(Fr instanceof o.LineBucket||Fr instanceof o.FillBucket||Fr instanceof o.FillExtrusionBucket)&&(n(Fr.layers,this.zoom,Et),Fr.addFeatures(vr,this.tileID.canonical,Nr.patternPositions))}this.status="done",Yt(null,{buckets:o.values(hr).filter(function(cn){return!cn.isEmpty()}),featureIndex:Jt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Sr.image,imageAtlas:Nr,glyphMap:this.returnDependencies?Wr:null,iconMap:this.returnDependencies?Pr:null,glyphPositions:this.returnDependencies?Sr.positions:null})}}};function n(mt,ut,bt){for(var Et=new o.EvaluationParameters(ut),Dt=0,Yt=mt;Dt<Yt.length;Dt+=1){var Bt=Yt[Dt];Bt.recalculate(Et,bt)}}function f(mt,ut){var bt=o.getArrayBuffer(mt.request,function(Et,Dt,Yt,Bt){Et?ut(Et):Dt&&ut(null,{vectorTile:new o.vectorTile.VectorTile(new o.pbf(Dt)),rawData:Dt,cacheControl:Yt,expires:Bt})});return function(){bt.cancel(),ut()}}var u=function(ut,bt,Et,Dt){this.actor=ut,this.layerIndex=bt,this.availableImages=Et,this.loadVectorData=Dt||f,this.loading={},this.loaded={}};u.prototype.loadTile=function(ut,bt){var Et=this,Dt=ut.uid;this.loading||(this.loading={});var Yt=ut&&ut.request&&ut.request.collectResourceTiming?new o.RequestPerformance(ut.request):!1,Bt=this.loading[Dt]=new a(ut);Bt.abort=this.loadVectorData(ut,function(Ut,Jt){if(delete Et.loading[Dt],Ut||!Jt)return Bt.status="done",Et.loaded[Dt]=Bt,bt(Ut);var hr=Jt.rawData,vr={};Jt.expires&&(vr.expires=Jt.expires),Jt.cacheControl&&(vr.cacheControl=Jt.cacheControl);var gr={};if(Yt){var Xe=Yt.finish();Xe&&(gr.resourceTiming=JSON.parse(JSON.stringify(Xe)))}Bt.vectorTile=Jt.vectorTile,Bt.parse(Jt.vectorTile,Et.layerIndex,Et.availableImages,Et.actor,function(He,Nt){if(He||!Nt)return bt(He);bt(null,o.extend({rawTileData:hr.slice(0)},Nt,vr,gr))}),Et.loaded=Et.loaded||{},Et.loaded[Dt]=Bt})},u.prototype.reloadTile=function(ut,bt){var Et=this,Dt=this.loaded,Yt=ut.uid,Bt=this;if(Dt&&Dt[Yt]){var Ut=Dt[Yt];Ut.showCollisionBoxes=ut.showCollisionBoxes;var Jt=function(hr,vr){var gr=Ut.reloadCallback;gr&&(delete Ut.reloadCallback,Ut.parse(Ut.vectorTile,Bt.layerIndex,Et.availableImages,Bt.actor,gr)),bt(hr,vr)};Ut.status==="parsing"?Ut.reloadCallback=Jt:Ut.status==="done"&&(Ut.vectorTile?Ut.parse(Ut.vectorTile,this.layerIndex,this.availableImages,this.actor,Jt):Jt())}},u.prototype.abortTile=function(ut,bt){var Et=this.loading,Dt=ut.uid;Et&&Et[Dt]&&Et[Dt].abort&&(Et[Dt].abort(),delete Et[Dt]),bt()},u.prototype.removeTile=function(ut,bt){var Et=this.loaded,Dt=ut.uid;Et&&Et[Dt]&&delete Et[Dt],bt()};var l=o.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(ut,bt){var Et=ut.uid,Dt=ut.encoding,Yt=ut.rawImageData,Bt=l&&Yt instanceof l?this.getImageData(Yt):Yt,Ut=new o.DEMData(Et,Bt,Dt);this.loaded=this.loaded||{},this.loaded[Et]=Ut,bt(null,Ut)},y.prototype.getImageData=function(ut){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ut.width,ut.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ut.width,this.offscreenCanvas.height=ut.height,this.offscreenCanvasContext.drawImage(ut,0,0,ut.width,ut.height);var bt=this.offscreenCanvasContext.getImageData(-1,-1,ut.width+2,ut.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new o.RGBAImage({width:bt.width,height:bt.height},bt.data)},y.prototype.removeTile=function(ut){var bt=this.loaded,Et=ut.uid;bt&&bt[Et]&&delete bt[Et]};var h=T;function T(mt,ut){var bt=mt&&mt.type,Et;if(bt==="FeatureCollection")for(Et=0;Et<mt.features.length;Et++)T(mt.features[Et],ut);else if(bt==="GeometryCollection")for(Et=0;Et<mt.geometries.length;Et++)T(mt.geometries[Et],ut);else if(bt==="Feature")T(mt.geometry,ut);else if(bt==="Polygon")c(mt.coordinates,ut);else if(bt==="MultiPolygon")for(Et=0;Et<mt.coordinates.length;Et++)c(mt.coordinates[Et],ut);return mt}function c(mt,ut){if(mt.length!==0){i(mt[0],ut);for(var bt=1;bt<mt.length;bt++)i(mt[bt],!ut)}}function i(mt,ut){for(var bt=0,Et=0,Dt=mt.length,Yt=Dt-1;Et<Dt;Yt=Et++)bt+=(mt[Et][0]-mt[Yt][0])*(mt[Yt][1]+mt[Et][1]);bt>=0!=!!ut&&mt.reverse()}var d=o.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(ut){this._feature=ut,this.extent=o.EXTENT,this.type=ut.type,this.properties=ut.tags,"id"in ut&&!isNaN(ut.id)&&(this.id=parseInt(ut.id,10))};x.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ut=[],bt=0,Et=this._feature.geometry;bt<Et.length;bt+=1){var Dt=Et[bt];ut.push([new o.Point$1(Dt[0],Dt[1])])}return ut}else{for(var Yt=[],Bt=0,Ut=this._feature.geometry;Bt<Ut.length;Bt+=1){for(var Jt=Ut[Bt],hr=[],vr=0,gr=Jt;vr<gr.length;vr+=1){var Xe=gr[vr];hr.push(new o.Point$1(Xe[0],Xe[1]))}Yt.push(hr)}return Yt}},x.prototype.toGeoJSON=function(ut,bt,Et){return d.call(this,ut,bt,Et)};var w=function(ut){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=ut.length,this._features=ut};w.prototype.feature=function(ut){return new x(this._features[ut])};var _=o.vectorTile.VectorTileFeature,m=E;function E(mt,ut){this.options=ut||{},this.features=mt,this.length=mt.length}E.prototype.feature=function(mt){return new A(this.features[mt],this.options.extent)};function A(mt,ut){this.id=typeof mt.id=="number"?mt.id:void 0,this.type=mt.type,this.rawGeometry=mt.type===1?[mt.geometry]:mt.geometry,this.properties=mt.tags,this.extent=ut||4096}A.prototype.loadGeometry=function(){var mt=this.rawGeometry;this.geometry=[];for(var ut=0;ut<mt.length;ut++){for(var bt=mt[ut],Et=[],Dt=0;Dt<bt.length;Dt++)Et.push(new o.Point$1(bt[Dt][0],bt[Dt][1]));this.geometry.push(Et)}return this.geometry},A.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var mt=this.geometry,ut=1/0,bt=-1/0,Et=1/0,Dt=-1/0,Yt=0;Yt<mt.length;Yt++)for(var Bt=mt[Yt],Ut=0;Ut<Bt.length;Ut++){var Jt=Bt[Ut];ut=Math.min(ut,Jt.x),bt=Math.max(bt,Jt.x),Et=Math.min(Et,Jt.y),Dt=Math.max(Dt,Jt.y)}return[ut,Et,bt,Dt]},A.prototype.toGeoJSON=_.prototype.toGeoJSON;var s=k,M=k,b=H,N=m;function k(mt){var ut=new o.pbf;return F(mt,ut),ut.finish()}function H(mt,ut){ut=ut||{};var bt={};for(var Et in mt)bt[Et]=new m(mt[Et].features,ut),bt[Et].name=Et,bt[Et].version=ut.version,bt[Et].extent=ut.extent;return k({layers:bt})}function F(mt,ut){for(var bt in mt.layers)ut.writeMessage(3,B,mt.layers[bt])}function B(mt,ut){ut.writeVarintField(15,mt.version||1),ut.writeStringField(1,mt.name||""),ut.writeVarintField(5,mt.extent||4096);var bt,Et={keys:[],values:[],keycache:{},valuecache:{}};for(bt=0;bt<mt.length;bt++)Et.feature=mt.feature(bt),ut.writeMessage(2,U,Et);var Dt=Et.keys;for(bt=0;bt<Dt.length;bt++)ut.writeStringField(3,Dt[bt]);var Yt=Et.values;for(bt=0;bt<Yt.length;bt++)ut.writeMessage(4,ie,Yt[bt])}function U(mt,ut){var bt=mt.feature;bt.id!==void 0&&ut.writeVarintField(1,bt.id),ut.writeMessage(2,z,mt),ut.writeVarintField(3,bt.type),ut.writeMessage(4,ee,bt)}function z(mt,ut){var bt=mt.feature,Et=mt.keys,Dt=mt.values,Yt=mt.keycache,Bt=mt.valuecache;for(var Ut in bt.properties){var Jt=Yt[Ut];typeof Jt>"u"&&(Et.push(Ut),Jt=Et.length-1,Yt[Ut]=Jt),ut.writeVarint(Jt);var hr=bt.properties[Ut],vr=typeof hr;vr!=="string"&&vr!=="boolean"&&vr!=="number"&&(hr=JSON.stringify(hr));var gr=vr+":"+hr,Xe=Bt[gr];typeof Xe>"u"&&(Dt.push(hr),Xe=Dt.length-1,Bt[gr]=Xe),ut.writeVarint(Xe)}}function W(mt,ut){return(ut<<3)+(mt&7)}function j(mt){return mt<<1^mt>>31}function ee(mt,ut){for(var bt=mt.loadGeometry(),Et=mt.type,Dt=0,Yt=0,Bt=bt.length,Ut=0;Ut<Bt;Ut++){var Jt=bt[Ut],hr=1;Et===1&&(hr=Jt.length),ut.writeVarint(W(1,hr));for(var vr=Et===3?Jt.length-1:Jt.length,gr=0;gr<vr;gr++){gr===1&&Et!==1&&ut.writeVarint(W(2,vr-1));var Xe=Jt[gr].x-Dt,He=Jt[gr].y-Yt;ut.writeVarint(j(Xe)),ut.writeVarint(j(He)),Dt+=Xe,Yt+=He}Et===3&&ut.writeVarint(W(7,1))}}function ie(mt,ut){var bt=typeof mt;bt==="string"?ut.writeStringField(1,mt):bt==="boolean"?ut.writeBooleanField(7,mt):bt==="number"&&(mt%1!==0?ut.writeDoubleField(3,mt):mt<0?ut.writeSVarintField(6,mt):ut.writeVarintField(5,mt))}s.fromVectorTileJs=M,s.fromGeojsonVt=b,s.GeoJSONWrapper=N;function oe(mt,ut,bt,Et,Dt,Yt){if(!(Dt-Et<=bt)){var Bt=Et+Dt>>1;he(mt,ut,Bt,Et,Dt,Yt%2),oe(mt,ut,bt,Et,Bt-1,Yt+1),oe(mt,ut,bt,Bt+1,Dt,Yt+1)}}function he(mt,ut,bt,Et,Dt,Yt){for(;Dt>Et;){if(Dt-Et>600){var Bt=Dt-Et+1,Ut=bt-Et+1,Jt=Math.log(Bt),hr=.5*Math.exp(2*Jt/3),vr=.5*Math.sqrt(Jt*hr*(Bt-hr)/Bt)*(Ut-Bt/2<0?-1:1),gr=Math.max(Et,Math.floor(bt-Ut*hr/Bt+vr)),Xe=Math.min(Dt,Math.floor(bt+(Bt-Ut)*hr/Bt+vr));he(mt,ut,bt,gr,Xe,Yt)}var He=ut[2*bt+Yt],Nt=Et,Pt=Dt;for(ne(mt,ut,Et,bt),ut[2*Dt+Yt]>He&&ne(mt,ut,Et,Dt);Nt<Pt;){for(ne(mt,ut,Nt,Pt),Nt++,Pt--;ut[2*Nt+Yt]<He;)Nt++;for(;ut[2*Pt+Yt]>He;)Pt--}ut[2*Et+Yt]===He?ne(mt,ut,Et,Pt):(Pt++,ne(mt,ut,Pt,Dt)),Pt<=bt&&(Et=Pt+1),bt<=Pt&&(Dt=Pt-1)}}function ne(mt,ut,bt,Et){q(mt,bt,Et),q(ut,2*bt,2*Et),q(ut,2*bt+1,2*Et+1)}function q(mt,ut,bt){var Et=mt[ut];mt[ut]=mt[bt],mt[bt]=Et}function le(mt,ut,bt,Et,Dt,Yt,Bt){for(var Ut=[0,mt.length-1,0],Jt=[],hr,vr;Ut.length;){var gr=Ut.pop(),Xe=Ut.pop(),He=Ut.pop();if(Xe-He<=Bt){for(var Nt=He;Nt<=Xe;Nt++)hr=ut[2*Nt],vr=ut[2*Nt+1],hr>=bt&&hr<=Dt&&vr>=Et&&vr<=Yt&&Jt.push(mt[Nt]);continue}var Pt=Math.floor((He+Xe)/2);hr=ut[2*Pt],vr=ut[2*Pt+1],hr>=bt&&hr<=Dt&&vr>=Et&&vr<=Yt&&Jt.push(mt[Pt]);var Qt=(gr+1)%2;(gr===0?bt<=hr:Et<=vr)&&(Ut.push(He),Ut.push(Pt-1),Ut.push(Qt)),(gr===0?Dt>=hr:Yt>=vr)&&(Ut.push(Pt+1),Ut.push(Xe),Ut.push(Qt))}return Jt}function Q(mt,ut,bt,Et,Dt,Yt){for(var Bt=[0,mt.length-1,0],Ut=[],Jt=Dt*Dt;Bt.length;){var hr=Bt.pop(),vr=Bt.pop(),gr=Bt.pop();if(vr-gr<=Yt){for(var Xe=gr;Xe<=vr;Xe++)te(ut[2*Xe],ut[2*Xe+1],bt,Et)<=Jt&&Ut.push(mt[Xe]);continue}var He=Math.floor((gr+vr)/2),Nt=ut[2*He],Pt=ut[2*He+1];te(Nt,Pt,bt,Et)<=Jt&&Ut.push(mt[He]);var Qt=(hr+1)%2;(hr===0?bt-Dt<=Nt:Et-Dt<=Pt)&&(Bt.push(gr),Bt.push(He-1),Bt.push(Qt)),(hr===0?bt+Dt>=Nt:Et+Dt>=Pt)&&(Bt.push(He+1),Bt.push(vr),Bt.push(Qt))}return Ut}function te(mt,ut,bt,Et){var Dt=mt-bt,Yt=ut-Et;return Dt*Dt+Yt*Yt}var ue=function(mt){return mt[0]},J=function(mt){return mt[1]},K=function(ut,bt,Et,Dt,Yt){bt===void 0&&(bt=ue),Et===void 0&&(Et=J),Dt===void 0&&(Dt=64),Yt===void 0&&(Yt=Float64Array),this.nodeSize=Dt,this.points=ut;for(var Bt=ut.length<65536?Uint16Array:Uint32Array,Ut=this.ids=new Bt(ut.length),Jt=this.coords=new Yt(ut.length*2),hr=0;hr<ut.length;hr++)Ut[hr]=hr,Jt[2*hr]=bt(ut[hr]),Jt[2*hr+1]=Et(ut[hr]);oe(Ut,Jt,Dt,0,Ut.length-1,0)};K.prototype.range=function(ut,bt,Et,Dt){return le(this.ids,this.coords,ut,bt,Et,Dt,this.nodeSize)},K.prototype.within=function(ut,bt,Et){return Q(this.ids,this.coords,ut,bt,Et,this.nodeSize)};var ce={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(mt){return mt}},ae=function(ut){this.options=Oe(Object.create(ce),ut),this.trees=new Array(this.options.maxZoom+1)};ae.prototype.load=function(ut){var bt=this.options,Et=bt.log,Dt=bt.minZoom,Yt=bt.maxZoom,Bt=bt.nodeSize;Et&&console.time("total time");var Ut="prepare "+ut.length+" points";Et&&console.time(Ut),this.points=ut;for(var Jt=[],hr=0;hr<ut.length;hr++)ut[hr].geometry&&Jt.push(be(ut[hr],hr));this.trees[Yt+1]=new K(Jt,_e,Ne,Bt,Float32Array),Et&&console.timeEnd(Ut);for(var vr=Yt;vr>=Dt;vr--){var gr=+Date.now();Jt=this._cluster(Jt,vr),this.trees[vr]=new K(Jt,_e,Ne,Bt,Float32Array),Et&&console.log("z%d: %d clusters in %dms",vr,Jt.length,+Date.now()-gr)}return Et&&console.timeEnd("total time"),this},ae.prototype.getClusters=function(ut,bt){var Et=((ut[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,ut[1])),Yt=ut[2]===180?180:((ut[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,ut[3]));if(ut[2]-ut[0]>=360)Et=-180,Yt=180;else if(Et>Yt){var Ut=this.getClusters([Et,Dt,180,Bt],bt),Jt=this.getClusters([-180,Dt,Yt,Bt],bt);return Ut.concat(Jt)}for(var hr=this.trees[this._limitZoom(bt)],vr=hr.range(Ie(Et),ke(Bt),Ie(Yt),ke(Dt)),gr=[],Xe=0,He=vr;Xe<He.length;Xe+=1){var Nt=He[Xe],Pt=hr.points[Nt];gr.push(Pt.numPoints?Se(Pt):this.points[Pt.index])}return gr},ae.prototype.getChildren=function(ut){var bt=this._getOriginId(ut),Et=this._getOriginZoom(ut),Dt="No cluster with the specified id.",Yt=this.trees[Et];if(!Yt)throw new Error(Dt);var Bt=Yt.points[bt];if(!Bt)throw new Error(Dt);for(var Ut=this.options.radius/(this.options.extent*Math.pow(2,Et-1)),Jt=Yt.within(Bt.x,Bt.y,Ut),hr=[],vr=0,gr=Jt;vr<gr.length;vr+=1){var Xe=gr[vr],He=Yt.points[Xe];He.parentId===ut&&hr.push(He.numPoints?Se(He):this.points[He.index])}if(hr.length===0)throw new Error(Dt);return hr},ae.prototype.getLeaves=function(ut,bt,Et){bt=bt||10,Et=Et||0;var Dt=[];return this._appendLeaves(Dt,ut,bt,Et,0),Dt},ae.prototype.getTile=function(ut,bt,Et){var Dt=this.trees[this._limitZoom(ut)],Yt=Math.pow(2,ut),Bt=this.options,Ut=Bt.extent,Jt=Bt.radius,hr=Jt/Ut,vr=(Et-hr)/Yt,gr=(Et+1+hr)/Yt,Xe={features:[]};return this._addTileFeatures(Dt.range((bt-hr)/Yt,vr,(bt+1+hr)/Yt,gr),Dt.points,bt,Et,Yt,Xe),bt===0&&this._addTileFeatures(Dt.range(1-hr/Yt,vr,1,gr),Dt.points,Yt,Et,Yt,Xe),bt===Yt-1&&this._addTileFeatures(Dt.range(0,vr,hr/Yt,gr),Dt.points,-1,Et,Yt,Xe),Xe.features.length?Xe:null},ae.prototype.getClusterExpansionZoom=function(ut){for(var bt=this._getOriginZoom(ut)-1;bt<=this.options.maxZoom;){var Et=this.getChildren(ut);if(bt++,Et.length!==1)break;ut=Et[0].properties.cluster_id}return bt},ae.prototype._appendLeaves=function(ut,bt,Et,Dt,Yt){for(var Bt=this.getChildren(bt),Ut=0,Jt=Bt;Ut<Jt.length;Ut+=1){var hr=Jt[Ut],vr=hr.properties;if(vr&&vr.cluster?Yt+vr.point_count<=Dt?Yt+=vr.point_count:Yt=this._appendLeaves(ut,vr.cluster_id,Et,Dt,Yt):Yt<Dt?Yt++:ut.push(hr),ut.length===Et)break}return Yt},ae.prototype._addTileFeatures=function(ut,bt,Et,Dt,Yt,Bt){for(var Ut=0,Jt=ut;Ut<Jt.length;Ut+=1){var hr=Jt[Ut],vr=bt[hr],gr=vr.numPoints,Xe={type:1,geometry:[[Math.round(this.options.extent*(vr.x*Yt-Et)),Math.round(this.options.extent*(vr.y*Yt-Dt))]],tags:gr?Te(vr):this.points[vr.index].properties},He=void 0;gr?He=vr.id:this.options.generateId?He=vr.index:this.points[vr.index].id&&(He=this.points[vr.index].id),He!==void 0&&(Xe.id=He),Bt.features.push(Xe)}},ae.prototype._limitZoom=function(ut){return Math.max(this.options.minZoom,Math.min(+ut,this.options.maxZoom+1))},ae.prototype._cluster=function(ut,bt){for(var Et=[],Dt=this.options,Yt=Dt.radius,Bt=Dt.extent,Ut=Dt.reduce,Jt=Dt.minPoints,hr=Yt/(Bt*Math.pow(2,bt)),vr=0;vr<ut.length;vr++){var gr=ut[vr];if(!(gr.zoom<=bt)){gr.zoom=bt;for(var Xe=this.trees[bt+1],He=Xe.within(gr.x,gr.y,hr),Nt=gr.numPoints||1,Pt=Nt,Qt=0,ur=He;Qt<ur.length;Qt+=1){var cr=ur[Qt],tr=Xe.points[cr];tr.zoom>bt&&(Pt+=tr.numPoints||1)}if(Pt>=Jt){for(var zt=gr.x*Nt,or=gr.y*Nt,dr=Ut&&Nt>1?this._map(gr,!0):null,wr=(vr<<5)+(bt+1)+this.points.length,pr=0,Wr=He;pr<Wr.length;pr+=1){var Pr=Wr[pr],Ir=Xe.points[Pr];if(!(Ir.zoom<=bt)){Ir.zoom=bt;var ln=Ir.numPoints||1;zt+=Ir.x*ln,or+=Ir.y*ln,Ir.parentId=wr,Ut&&(dr||(dr=this._map(gr,!0)),Ut(dr,this._map(Ir)))}}gr.parentId=wr,Et.push(de(zt/Pt,or/Pt,wr,Pt,dr))}else if(Et.push(gr),Pt>1)for(var an=0,_n=He;an<_n.length;an+=1){var Mn=_n[an],Sr=Xe.points[Mn];Sr.zoom<=bt||(Sr.zoom=bt,Et.push(Sr))}}}return Et},ae.prototype._getOriginId=function(ut){return ut-this.points.length>>5},ae.prototype._getOriginZoom=function(ut){return(ut-this.points.length)%32},ae.prototype._map=function(ut,bt){if(ut.numPoints)return bt?Oe({},ut.properties):ut.properties;var Et=this.points[ut.index].properties,Dt=this.options.map(Et);return bt&&Dt===Et?Oe({},Dt):Dt};function de(mt,ut,bt,Et,Dt){return{x:mt,y:ut,zoom:1/0,id:bt,parentId:-1,numPoints:Et,properties:Dt}}function be(mt,ut){var bt=mt.geometry.coordinates,Et=bt[0],Dt=bt[1];return{x:Ie(Et),y:ke(Dt),zoom:1/0,index:ut,parentId:-1}}function Se(mt){return{type:"Feature",id:mt.id,properties:Te(mt),geometry:{type:"Point",coordinates:[Be(mt.x),Me(mt.y)]}}}function Te(mt){var ut=mt.numPoints,bt=ut>=1e4?Math.round(ut/1e3)+"k":ut>=1e3?Math.round(ut/100)/10+"k":ut;return Oe(Oe({},mt.properties),{cluster:!0,cluster_id:mt.id,point_count:ut,point_count_abbreviated:bt})}function Ie(mt){return mt/360+.5}function ke(mt){var ut=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function Be(mt){return(mt-.5)*360}function Me(mt){var ut=(180-mt*360)*Math.PI/180;return 360*Math.atan(Math.exp(ut))/Math.PI-90}function Oe(mt,ut){for(var bt in ut)mt[bt]=ut[bt];return mt}function _e(mt){return mt.x}function Ne(mt){return mt.y}function Ce(mt,ut,bt,Et){for(var Dt=Et,Yt=bt-ut>>1,Bt=bt-ut,Ut,Jt=mt[ut],hr=mt[ut+1],vr=mt[bt],gr=mt[bt+1],Xe=ut+3;Xe<bt;Xe+=3){var He=Ye(mt[Xe],mt[Xe+1],Jt,hr,vr,gr);if(He>Dt)Ut=Xe,Dt=He;else if(He===Dt){var Nt=Math.abs(Xe-Yt);Nt<Bt&&(Ut=Xe,Bt=Nt)}}Dt>Et&&(Ut-ut>3&&Ce(mt,ut,Ut,Et),mt[Ut+2]=Dt,bt-Ut>3&&Ce(mt,Ut,bt,Et))}function Ye(mt,ut,bt,Et,Dt,Yt){var Bt=Dt-bt,Ut=Yt-Et;if(Bt!==0||Ut!==0){var Jt=((mt-bt)*Bt+(ut-Et)*Ut)/(Bt*Bt+Ut*Ut);Jt>1?(bt=Dt,Et=Yt):Jt>0&&(bt+=Bt*Jt,Et+=Ut*Jt)}return Bt=mt-bt,Ut=ut-Et,Bt*Bt+Ut*Ut}function rt(mt,ut,bt,Et){var Dt={id:typeof mt>"u"?null:mt,type:ut,geometry:bt,tags:Et,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return ot(Dt),Dt}function ot(mt){var ut=mt.geometry,bt=mt.type;if(bt==="Point"||bt==="MultiPoint"||bt==="LineString")$e(mt,ut);else if(bt==="Polygon"||bt==="MultiLineString")for(var Et=0;Et<ut.length;Et++)$e(mt,ut[Et]);else if(bt==="MultiPolygon")for(Et=0;Et<ut.length;Et++)for(var Dt=0;Dt<ut[Et].length;Dt++)$e(mt,ut[Et][Dt])}function $e(mt,ut){for(var bt=0;bt<ut.length;bt+=3)mt.minX=Math.min(mt.minX,ut[bt]),mt.minY=Math.min(mt.minY,ut[bt+1]),mt.maxX=Math.max(mt.maxX,ut[bt]),mt.maxY=Math.max(mt.maxY,ut[bt+1])}function qe(mt,ut){var bt=[];if(mt.type==="FeatureCollection")for(var Et=0;Et<mt.features.length;Et++)ht(bt,mt.features[Et],ut,Et);else mt.type==="Feature"?ht(bt,mt,ut):ht(bt,{geometry:mt},ut);return bt}function ht(mt,ut,bt,Et){if(ut.geometry){var Dt=ut.geometry.coordinates,Yt=ut.geometry.type,Bt=Math.pow(bt.tolerance/((1<<bt.maxZoom)*bt.extent),2),Ut=[],Jt=ut.id;if(bt.promoteId?Jt=ut.properties[bt.promoteId]:bt.generateId&&(Jt=Et||0),Yt==="Point")vt(Dt,Ut);else if(Yt==="MultiPoint")for(var hr=0;hr<Dt.length;hr++)vt(Dt[hr],Ut);else if(Yt==="LineString")pt(Dt,Ut,Bt,!1);else if(Yt==="MultiLineString")if(bt.lineMetrics){for(hr=0;hr<Dt.length;hr++)Ut=[],pt(Dt[hr],Ut,Bt,!1),mt.push(rt(Jt,"LineString",Ut,ut.properties));return}else wt(Dt,Ut,Bt,!1);else if(Yt==="Polygon")wt(Dt,Ut,Bt,!0);else if(Yt==="MultiPolygon")for(hr=0;hr<Dt.length;hr++){var vr=[];wt(Dt[hr],vr,Bt,!0),Ut.push(vr)}else if(Yt==="GeometryCollection"){for(hr=0;hr<ut.geometry.geometries.length;hr++)ht(mt,{id:Jt,geometry:ut.geometry.geometries[hr],properties:ut.properties},bt,Et);return}else throw new Error("Input data is not a valid GeoJSON object.");mt.push(rt(Jt,Yt,Ut,ut.properties))}}function vt(mt,ut){ut.push(Mt(mt[0])),ut.push(nt(mt[1])),ut.push(0)}function pt(mt,ut,bt,Et){for(var Dt,Yt,Bt=0,Ut=0;Ut<mt.length;Ut++){var Jt=Mt(mt[Ut][0]),hr=nt(mt[Ut][1]);ut.push(Jt),ut.push(hr),ut.push(0),Ut>0&&(Et?Bt+=(Dt*hr-Jt*Yt)/2:Bt+=Math.sqrt(Math.pow(Jt-Dt,2)+Math.pow(hr-Yt,2))),Dt=Jt,Yt=hr}var vr=ut.length-3;ut[2]=1,Ce(ut,0,vr,bt),ut[vr+2]=1,ut.size=Math.abs(Bt),ut.start=0,ut.end=ut.size}function wt(mt,ut,bt,Et){for(var Dt=0;Dt<mt.length;Dt++){var Yt=[];pt(mt[Dt],Yt,bt,Et),ut.push(Yt)}}function Mt(mt){return mt/360+.5}function nt(mt){var ut=Math.sin(mt*Math.PI/180),bt=.5-.25*Math.log((1+ut)/(1-ut))/Math.PI;return bt<0?0:bt>1?1:bt}function Fe(mt,ut,bt,Et,Dt,Yt,Bt,Ut){if(bt/=ut,Et/=ut,Yt>=bt&&Bt<Et)return mt;if(Bt<bt||Yt>=Et)return null;for(var Jt=[],hr=0;hr<mt.length;hr++){var vr=mt[hr],gr=vr.geometry,Xe=vr.type,He=Dt===0?vr.minX:vr.minY,Nt=Dt===0?vr.maxX:vr.maxY;if(He>=bt&&Nt<Et){Jt.push(vr);continue}else if(Nt<bt||He>=Et)continue;var Pt=[];if(Xe==="Point"||Xe==="MultiPoint")We(gr,Pt,bt,Et,Dt);else if(Xe==="LineString")Ze(gr,Pt,bt,Et,Dt,!1,Ut.lineMetrics);else if(Xe==="MultiLineString")Pe(gr,Pt,bt,Et,Dt,!1);else if(Xe==="Polygon")Pe(gr,Pt,bt,Et,Dt,!0);else if(Xe==="MultiPolygon")for(var Qt=0;Qt<gr.length;Qt++){var ur=[];Pe(gr[Qt],ur,bt,Et,Dt,!0),ur.length&&Pt.push(ur)}if(Pt.length){if(Ut.lineMetrics&&Xe==="LineString"){for(Qt=0;Qt<Pt.length;Qt++)Jt.push(rt(vr.id,Xe,Pt[Qt],vr.tags));continue}(Xe==="LineString"||Xe==="MultiLineString")&&(Pt.length===1?(Xe="LineString",Pt=Pt[0]):Xe="MultiLineString"),(Xe==="Point"||Xe==="MultiPoint")&&(Xe=Pt.length===3?"Point":"MultiPoint"),Jt.push(rt(vr.id,Xe,Pt,vr.tags))}}return Jt.length?Jt:null}function We(mt,ut,bt,Et,Dt){for(var Yt=0;Yt<mt.length;Yt+=3){var Bt=mt[Yt+Dt];Bt>=bt&&Bt<=Et&&(ut.push(mt[Yt]),ut.push(mt[Yt+1]),ut.push(mt[Yt+2]))}}function Ze(mt,ut,bt,Et,Dt,Yt,Bt){for(var Ut=Ge(mt),Jt=Dt===0?je:De,hr=mt.start,vr,gr,Xe=0;Xe<mt.length-3;Xe+=3){var He=mt[Xe],Nt=mt[Xe+1],Pt=mt[Xe+2],Qt=mt[Xe+3],ur=mt[Xe+4],cr=Dt===0?He:Nt,tr=Dt===0?Qt:ur,zt=!1;Bt&&(vr=Math.sqrt(Math.pow(He-Qt,2)+Math.pow(Nt-ur,2))),cr<bt?tr>bt&&(gr=Jt(Ut,He,Nt,Qt,ur,bt),Bt&&(Ut.start=hr+vr*gr)):cr>Et?tr<Et&&(gr=Jt(Ut,He,Nt,Qt,ur,Et),Bt&&(Ut.start=hr+vr*gr)):Re(Ut,He,Nt,Pt),tr<bt&&cr>=bt&&(gr=Jt(Ut,He,Nt,Qt,ur,bt),zt=!0),tr>Et&&cr<=Et&&(gr=Jt(Ut,He,Nt,Qt,ur,Et),zt=!0),!Yt&&zt&&(Bt&&(Ut.end=hr+vr*gr),ut.push(Ut),Ut=Ge(mt)),Bt&&(hr+=vr)}var or=mt.length-3;He=mt[or],Nt=mt[or+1],Pt=mt[or+2],cr=Dt===0?He:Nt,cr>=bt&&cr<=Et&&Re(Ut,He,Nt,Pt),or=Ut.length-3,Yt&&or>=3&&(Ut[or]!==Ut[0]||Ut[or+1]!==Ut[1])&&Re(Ut,Ut[0],Ut[1],Ut[2]),Ut.length&&ut.push(Ut)}function Ge(mt){var ut=[];return ut.size=mt.size,ut.start=mt.start,ut.end=mt.end,ut}function Pe(mt,ut,bt,Et,Dt,Yt){for(var Bt=0;Bt<mt.length;Bt++)Ze(mt[Bt],ut,bt,Et,Dt,Yt,!1)}function Re(mt,ut,bt,Et){mt.push(ut),mt.push(bt),mt.push(Et)}function je(mt,ut,bt,Et,Dt,Yt){var Bt=(Yt-ut)/(Et-ut);return mt.push(Yt),mt.push(bt+(Dt-bt)*Bt),mt.push(1),Bt}function De(mt,ut,bt,Et,Dt,Yt){var Bt=(Yt-bt)/(Dt-bt);return mt.push(ut+(Et-ut)*Bt),mt.push(Yt),mt.push(1),Bt}function ge(mt,ut){var bt=ut.buffer/ut.extent,Et=mt,Dt=Fe(mt,1,-1-bt,bt,0,-1,2,ut),Yt=Fe(mt,1,1-bt,2+bt,0,-1,2,ut);return(Dt||Yt)&&(Et=Fe(mt,1,-bt,1+bt,0,-1,2,ut)||[],Dt&&(Et=we(Dt,1).concat(Et)),Yt&&(Et=Et.concat(we(Yt,-1)))),Et}function we(mt,ut){for(var bt=[],Et=0;Et<mt.length;Et++){var Dt=mt[Et],Yt=Dt.type,Bt;if(Yt==="Point"||Yt==="MultiPoint"||Yt==="LineString")Bt=Ue(Dt.geometry,ut);else if(Yt==="MultiLineString"||Yt==="Polygon"){Bt=[];for(var Ut=0;Ut<Dt.geometry.length;Ut++)Bt.push(Ue(Dt.geometry[Ut],ut))}else if(Yt==="MultiPolygon")for(Bt=[],Ut=0;Ut<Dt.geometry.length;Ut++){for(var Jt=[],hr=0;hr<Dt.geometry[Ut].length;hr++)Jt.push(Ue(Dt.geometry[Ut][hr],ut));Bt.push(Jt)}bt.push(rt(Dt.id,Yt,Bt,Dt.tags))}return bt}function Ue(mt,ut){var bt=[];bt.size=mt.size,mt.start!==void 0&&(bt.start=mt.start,bt.end=mt.end);for(var Et=0;Et<mt.length;Et+=3)bt.push(mt[Et]+ut,mt[Et+1],mt[Et+2]);return bt}function et(mt,ut){if(mt.transformed)return mt;var bt=1<<mt.z,Et=mt.x,Dt=mt.y,Yt,Bt,Ut;for(Yt=0;Yt<mt.features.length;Yt++){var Jt=mt.features[Yt],hr=Jt.geometry,vr=Jt.type;if(Jt.geometry=[],vr===1)for(Bt=0;Bt<hr.length;Bt+=2)Jt.geometry.push(st(hr[Bt],hr[Bt+1],ut,bt,Et,Dt));else for(Bt=0;Bt<hr.length;Bt++){var gr=[];for(Ut=0;Ut<hr[Bt].length;Ut+=2)gr.push(st(hr[Bt][Ut],hr[Bt][Ut+1],ut,bt,Et,Dt));Jt.geometry.push(gr)}}return mt.transformed=!0,mt}function st(mt,ut,bt,Et,Dt,Yt){return[Math.round(bt*(mt*Et-Dt)),Math.round(bt*(ut*Et-Yt))]}function lt(mt,ut,bt,Et,Dt){for(var Yt=ut===Dt.maxZoom?0:Dt.tolerance/((1<<ut)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:bt,y:Et,z:ut,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ut=0;Ut<mt.length;Ut++){Bt.numFeatures++,Wt(Bt,mt[Ut],Yt,Dt);var Jt=mt[Ut].minX,hr=mt[Ut].minY,vr=mt[Ut].maxX,gr=mt[Ut].maxY;Jt<Bt.minX&&(Bt.minX=Jt),hr<Bt.minY&&(Bt.minY=hr),vr>Bt.maxX&&(Bt.maxX=vr),gr>Bt.maxY&&(Bt.maxY=gr)}return Bt}function Wt(mt,ut,bt,Et){var Dt=ut.geometry,Yt=ut.type,Bt=[];if(Yt==="Point"||Yt==="MultiPoint")for(var Ut=0;Ut<Dt.length;Ut+=3)Bt.push(Dt[Ut]),Bt.push(Dt[Ut+1]),mt.numPoints++,mt.numSimplified++;else if(Yt==="LineString")jt(Bt,Dt,mt,bt,!1,!1);else if(Yt==="MultiLineString"||Yt==="Polygon")for(Ut=0;Ut<Dt.length;Ut++)jt(Bt,Dt[Ut],mt,bt,Yt==="Polygon",Ut===0);else if(Yt==="MultiPolygon")for(var Jt=0;Jt<Dt.length;Jt++){var hr=Dt[Jt];for(Ut=0;Ut<hr.length;Ut++)jt(Bt,hr[Ut],mt,bt,!0,Ut===0)}if(Bt.length){var vr=ut.tags||null;if(Yt==="LineString"&&Et.lineMetrics){vr={};for(var gr in ut.tags)vr[gr]=ut.tags[gr];vr.mapbox_clip_start=Dt.start/Dt.size,vr.mapbox_clip_end=Dt.end/Dt.size}var Xe={geometry:Bt,type:Yt==="Polygon"||Yt==="MultiPolygon"?3:Yt==="LineString"||Yt==="MultiLineString"?2:1,tags:vr};ut.id!==null&&(Xe.id=ut.id),mt.features.push(Xe)}}function jt(mt,ut,bt,Et,Dt,Yt){var Bt=Et*Et;if(Et>0&&ut.size<(Dt?Bt:Et)){bt.numPoints+=ut.length/3;return}for(var Ut=[],Jt=0;Jt<ut.length;Jt+=3)(Et===0||ut[Jt+2]>Bt)&&(bt.numSimplified++,Ut.push(ut[Jt]),Ut.push(ut[Jt+1])),bt.numPoints++;Dt&&Tt(Ut,Yt),mt.push(Ut)}function Tt(mt,ut){for(var bt=0,Et=0,Dt=mt.length,Yt=Dt-2;Et<Dt;Yt=Et,Et+=2)bt+=(mt[Et]-mt[Yt])*(mt[Et+1]+mt[Yt+1]);if(bt>0===ut)for(Et=0,Dt=mt.length;Et<Dt/2;Et+=2){var Bt=mt[Et],Ut=mt[Et+1];mt[Et]=mt[Dt-2-Et],mt[Et+1]=mt[Dt-1-Et],mt[Dt-2-Et]=Bt,mt[Dt-1-Et]=Ut}}function Rt(mt,ut){return new Zt(mt,ut)}function Zt(mt,ut){ut=this.options=gt(Object.create(this.options),ut);var bt=ut.debug;if(bt&&console.time("preprocess data"),ut.maxZoom<0||ut.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ut.promoteId&&ut.generateId)throw new Error("promoteId and generateId cannot be used together.");var Et=qe(mt,ut);this.tiles={},this.tileCoords=[],bt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ut.indexMaxZoom,ut.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Et=ge(Et,ut),Et.length&&this.splitTile(Et,0,0,0),bt&&(Et.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Zt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Zt.prototype.splitTile=function(mt,ut,bt,Et,Dt,Yt,Bt){for(var Ut=[mt,ut,bt,Et],Jt=this.options,hr=Jt.debug;Ut.length;){Et=Ut.pop(),bt=Ut.pop(),ut=Ut.pop(),mt=Ut.pop();var vr=1<<ut,gr=mr(ut,bt,Et),Xe=this.tiles[gr];if(!Xe&&(hr>1&&console.time("creation"),Xe=this.tiles[gr]=lt(mt,ut,bt,Et,Jt),this.tileCoords.push({z:ut,x:bt,y:Et}),hr)){hr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ut,bt,Et,Xe.numFeatures,Xe.numPoints,Xe.numSimplified),console.timeEnd("creation"));var He="z"+ut;this.stats[He]=(this.stats[He]||0)+1,this.total++}if(Xe.source=mt,Dt){if(ut===Jt.maxZoom||ut===Dt)continue;var Nt=1<<Dt-ut;if(bt!==Math.floor(Yt/Nt)||Et!==Math.floor(Bt/Nt))continue}else if(ut===Jt.indexMaxZoom||Xe.numPoints<=Jt.indexMaxPoints)continue;if(Xe.source=null,mt.length!==0){hr>1&&console.time("clipping");var Pt=.5*Jt.buffer/Jt.extent,Qt=.5-Pt,ur=.5+Pt,cr=1+Pt,tr,zt,or,dr,wr,pr;tr=zt=or=dr=null,wr=Fe(mt,vr,bt-Pt,bt+ur,0,Xe.minX,Xe.maxX,Jt),pr=Fe(mt,vr,bt+Qt,bt+cr,0,Xe.minX,Xe.maxX,Jt),mt=null,wr&&(tr=Fe(wr,vr,Et-Pt,Et+ur,1,Xe.minY,Xe.maxY,Jt),zt=Fe(wr,vr,Et+Qt,Et+cr,1,Xe.minY,Xe.maxY,Jt),wr=null),pr&&(or=Fe(pr,vr,Et-Pt,Et+ur,1,Xe.minY,Xe.maxY,Jt),dr=Fe(pr,vr,Et+Qt,Et+cr,1,Xe.minY,Xe.maxY,Jt),pr=null),hr>1&&console.timeEnd("clipping"),Ut.push(tr||[],ut+1,bt*2,Et*2),Ut.push(zt||[],ut+1,bt*2,Et*2+1),Ut.push(or||[],ut+1,bt*2+1,Et*2),Ut.push(dr||[],ut+1,bt*2+1,Et*2+1)}}},Zt.prototype.getTile=function(mt,ut,bt){var Et=this.options,Dt=Et.extent,Yt=Et.debug;if(mt<0||mt>24)return null;var Bt=1<<mt;ut=(ut%Bt+Bt)%Bt;var Ut=mr(mt,ut,bt);if(this.tiles[Ut])return et(this.tiles[Ut],Dt);Yt>1&&console.log("drilling down to z%d-%d-%d",mt,ut,bt);for(var Jt=mt,hr=ut,vr=bt,gr;!gr&&Jt>0;)Jt--,hr=Math.floor(hr/2),vr=Math.floor(vr/2),gr=this.tiles[mr(Jt,hr,vr)];return!gr||!gr.source?null:(Yt>1&&console.log("found parent tile z%d-%d-%d",Jt,hr,vr),Yt>1&&console.time("drilling down"),this.splitTile(gr.source,Jt,hr,vr,mt,ut,bt),Yt>1&&console.timeEnd("drilling down"),this.tiles[Ut]?et(this.tiles[Ut],Dt):null)};function mr(mt,ut,bt){return((1<<mt)*bt+ut)*32+mt}function gt(mt,ut){for(var bt in ut)mt[bt]=ut[bt];return mt}function Kt(mt,ut){var bt=mt.tileID.canonical;if(!this._geoJSONIndex)return ut(null,null);var Et=this._geoJSONIndex.getTile(bt.z,bt.x,bt.y);if(!Et)return ut(null,null);var Dt=new w(Et.features),Yt=s(Dt);(Yt.byteOffset!==0||Yt.byteLength!==Yt.buffer.byteLength)&&(Yt=new Uint8Array(Yt)),ut(null,{vectorTile:Dt,rawData:Yt.buffer})}var $t=function(mt){function ut(bt,Et,Dt,Yt){mt.call(this,bt,Et,Dt,Kt),Yt&&(this.loadGeoJSON=Yt)}return mt&&(ut.__proto__=mt),ut.prototype=Object.create(mt&&mt.prototype),ut.prototype.constructor=ut,ut.prototype.loadData=function(Et,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=Et,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ut.prototype._loadData=function(){var Et=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Yt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Yt&&Yt.request&&Yt.request.collectResourceTiming?new o.RequestPerformance(Yt.request):!1;this.loadGeoJSON(Yt,function(Ut,Jt){if(Ut||!Jt)return Dt(Ut);if(typeof Jt!="object")return Dt(new Error("Input data given to '"+Yt.source+"' is not a valid GeoJSON object."));h(Jt,!0);try{if(Yt.filter){var hr=o.createExpression(Yt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(hr.result==="error")throw new Error(hr.value.map(function(He){return He.key+": "+He.message}).join(", "));var vr=Jt.features.filter(function(He){return hr.value.evaluate({zoom:0},He)});Jt={type:"FeatureCollection",features:vr}}Et._geoJSONIndex=Yt.cluster?new ae(br(Yt)).load(Jt.features):Rt(Jt,Yt.geojsonVtOptions)}catch(He){return Dt(He)}Et.loaded={};var gr={};if(Bt){var Xe=Bt.finish();Xe&&(gr.resourceTiming={},gr.resourceTiming[Yt.source]=JSON.parse(JSON.stringify(Xe)))}Dt(null,gr)})}},ut.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ut.prototype.reloadTile=function(Et,Dt){var Yt=this.loaded,Bt=Et.uid;return Yt&&Yt[Bt]?mt.prototype.reloadTile.call(this,Et,Dt):this.loadTile(Et,Dt)},ut.prototype.loadGeoJSON=function(Et,Dt){if(Et.request)o.getJSON(Et.request,Dt);else if(typeof Et.data=="string")try{return Dt(null,JSON.parse(Et.data))}catch{return Dt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+Et.source+"' is not a valid GeoJSON object."))},ut.prototype.removeSource=function(Et,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},ut.prototype.getClusterExpansionZoom=function(Et,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(Et.clusterId))}catch(Yt){Dt(Yt)}},ut.prototype.getClusterChildren=function(Et,Dt){try{Dt(null,this._geoJSONIndex.getChildren(Et.clusterId))}catch(Yt){Dt(Yt)}},ut.prototype.getClusterLeaves=function(Et,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(Et.clusterId,Et.limit,Et.offset))}catch(Yt){Dt(Yt)}},ut}(u);function br(mt){var ut=mt.superclusterOptions,bt=mt.clusterProperties;if(!bt||!ut)return ut;for(var Et={},Dt={},Yt={accumulated:null,zoom:0},Bt={properties:null},Ut=Object.keys(bt),Jt=0,hr=Ut;Jt<hr.length;Jt+=1){var vr=hr[Jt],gr=bt[vr],Xe=gr[0],He=gr[1],Nt=o.createExpression(He),Pt=o.createExpression(typeof Xe=="string"?[Xe,["accumulated"],["get",vr]]:Xe);Et[vr]=Nt.value,Dt[vr]=Pt.value}return ut.map=function(Qt){Bt.properties=Qt;for(var ur={},cr=0,tr=Ut;cr<tr.length;cr+=1){var zt=tr[cr];ur[zt]=Et[zt].evaluate(Yt,Bt)}return ur},ut.reduce=function(Qt,ur){Bt.properties=ur;for(var cr=0,tr=Ut;cr<tr.length;cr+=1){var zt=tr[cr];Yt.accumulated=Qt[zt],Qt[zt]=Dt[zt].evaluate(Yt,Bt)}},ut}var lr=function(ut){var bt=this;this.self=ut,this.actor=new o.Actor(ut,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:$t},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Et,Dt){if(bt.workerSourceTypes[Et])throw new Error('Worker source with name "'+Et+'" already registered.');bt.workerSourceTypes[Et]=Dt},this.self.registerRTLTextPlugin=function(Et){if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=Et.applyArabicShaping,o.plugin.processBidirectionalText=Et.processBidirectionalText,o.plugin.processStyledBidirectionalText=Et.processStyledBidirectionalText}};return lr.prototype.setReferrer=function(ut,bt){this.referrer=bt},lr.prototype.setImages=function(ut,bt,Et){this.availableImages[ut]=bt;for(var Dt in this.workerSources[ut]){var Yt=this.workerSources[ut][Dt];for(var Bt in Yt)Yt[Bt].availableImages=bt}Et()},lr.prototype.setLayers=function(ut,bt,Et){this.getLayerIndex(ut).replace(bt),Et()},lr.prototype.updateLayers=function(ut,bt,Et){this.getLayerIndex(ut).update(bt.layers,bt.removedIds),Et()},lr.prototype.loadTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).loadTile(bt,Et)},lr.prototype.loadDEMTile=function(ut,bt,Et){this.getDEMWorkerSource(ut,bt.source).loadTile(bt,Et)},lr.prototype.reloadTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).reloadTile(bt,Et)},lr.prototype.abortTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).abortTile(bt,Et)},lr.prototype.removeTile=function(ut,bt,Et){this.getWorkerSource(ut,bt.type,bt.source).removeTile(bt,Et)},lr.prototype.removeDEMTile=function(ut,bt){this.getDEMWorkerSource(ut,bt.source).removeTile(bt)},lr.prototype.removeSource=function(ut,bt,Et){if(!(!this.workerSources[ut]||!this.workerSources[ut][bt.type]||!this.workerSources[ut][bt.type][bt.source])){var Dt=this.workerSources[ut][bt.type][bt.source];delete this.workerSources[ut][bt.type][bt.source],Dt.removeSource!==void 0?Dt.removeSource(bt,Et):Et()}},lr.prototype.loadWorkerSource=function(ut,bt,Et){try{this.self.importScripts(bt.url),Et()}catch(Dt){Et(Dt.toString())}},lr.prototype.syncRTLPluginState=function(ut,bt,Et){try{o.plugin.setState(bt);var Dt=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Yt=o.plugin.isParsed(),Bt=Yt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);Et(Bt,Yt)}}catch(Ut){Et(Ut.toString())}},lr.prototype.getAvailableImages=function(ut){var bt=this.availableImages[ut];return bt||(bt=[]),bt},lr.prototype.getLayerIndex=function(ut){var bt=this.layerIndexes[ut];return bt||(bt=this.layerIndexes[ut]=new g),bt},lr.prototype.getWorkerSource=function(ut,bt,Et){var Dt=this;if(this.workerSources[ut]||(this.workerSources[ut]={}),this.workerSources[ut][bt]||(this.workerSources[ut][bt]={}),!this.workerSources[ut][bt][Et]){var Yt={send:function(Bt,Ut,Jt){Dt.actor.send(Bt,Ut,Jt,ut)}};this.workerSources[ut][bt][Et]=new this.workerSourceTypes[bt](Yt,this.getLayerIndex(ut),this.getAvailableImages(ut))}return this.workerSources[ut][bt][Et]},lr.prototype.getDEMWorkerSource=function(ut,bt){return this.demWorkerSources[ut]||(this.demWorkerSources[ut]={}),this.demWorkerSources[ut][bt]||(this.demWorkerSources[ut][bt]=new y),this.demWorkerSources[ut][bt]},lr.prototype.enforceCacheSizeLimit=function(ut,bt){o.enforceCacheSizeLimit(bt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new lr(self)),lr}),L(["./shared"],function(o){var C=o.createCommonjsModule(function(pe){pe.exports?pe.exports=$:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=$,window.mapboxgl.notSupportedReason=me);function $(Xr){return!me(Xr)}function me(Xr){if(!re())return"not a browser";if(!xe())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Ke())return"insufficient Object support";if(!ft())return"insufficient JSON support";if(!_t())return"insufficient worker support";if(!Vt())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!fr())return"insufficient Canvas/getImageData support";if(!kr(Xr&&Xr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function re(){return typeof window<"u"&&typeof document<"u"}function xe(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Ke(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ft(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function _t(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Xr=new Blob([""],{type:"text/javascript"}),en=URL.createObjectURL(Xr),yn,Fn;try{Fn=new Worker(en),yn=!0}catch{yn=!1}return Fn&&Fn.terminate(),URL.revokeObjectURL(en),yn}function Vt(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function fr(){var Xr=document.createElement("canvas");Xr.width=Xr.height=1;var en=Xr.getContext("2d");if(!en)return!1;var yn=en.getImageData(0,0,1,1);return yn&&yn.width===Xr.width}var sr={};function kr(Xr){return sr[Xr]===void 0&&(sr[Xr]=jr(Xr)),sr[Xr]}$.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Kr(Xr){var en=document.createElement("canvas"),yn=Object.create($.webGLContextAttributes);return yn.failIfMajorPerformanceCaveat=Xr,en.probablySupportsContext?en.probablySupportsContext("webgl",yn)||en.probablySupportsContext("experimental-webgl",yn):en.supportsContext?en.supportsContext("webgl",yn)||en.supportsContext("experimental-webgl",yn):en.getContext("webgl",yn)||en.getContext("experimental-webgl",yn)}function jr(Xr){var en=Kr(Xr);if(!en)return!1;var yn=en.createShader(en.VERTEX_SHADER);return!yn||en.isContextLost()?!1:(en.shaderSource(yn,"void main() {}"),en.compileShader(yn),en.getShaderParameter(yn,en.COMPILE_STATUS)===!0)}}),S={};S.create=function(pe,$,me){var re=o.window.document.createElement(pe);return $!==void 0&&(re.className=$),me&&me.appendChild(re),re},S.createNS=function(pe,$){var me=o.window.document.createElementNS(pe,$);return me};var v=o.window.document&&o.window.document.documentElement.style;function g(pe){if(!v)return pe[0];for(var $=0;$<pe.length;$++)if(pe[$]in v)return pe[$];return pe[0]}var r=g(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;S.disableDrag=function(){v&&r&&(t=v[r],v[r]="none")},S.enableDrag=function(){v&&r&&(v[r]=t)};var a=g(["transform","WebkitTransform"]);S.setTransform=function(pe,$){pe.style[a]=$};var n=!1;try{var f=Object.defineProperty({},"passive",{get:function(){n=!0}});o.window.addEventListener("test",f,f),o.window.removeEventListener("test",f,f)}catch{n=!1}S.addEventListener=function(pe,$,me,re){re===void 0&&(re={}),"passive"in re&&n?pe.addEventListener($,me,re):pe.addEventListener($,me,re.capture)},S.removeEventListener=function(pe,$,me,re){re===void 0&&(re={}),"passive"in re&&n?pe.removeEventListener($,me,re):pe.removeEventListener($,me,re.capture)};var u=function(pe){pe.preventDefault(),pe.stopPropagation(),o.window.removeEventListener("click",u,!0)};S.suppressClick=function(){o.window.addEventListener("click",u,!0),o.window.setTimeout(function(){o.window.removeEventListener("click",u,!0)},0)},S.mousePos=function(pe,$){var me=pe.getBoundingClientRect();return new o.Point($.clientX-me.left-pe.clientLeft,$.clientY-me.top-pe.clientTop)},S.touchPos=function(pe,$){for(var me=pe.getBoundingClientRect(),re=[],xe=0;xe<$.length;xe++)re.push(new o.Point($[xe].clientX-me.left-pe.clientLeft,$[xe].clientY-me.top-pe.clientTop));return re},S.mouseButton=function(pe){return typeof o.window.InstallTrigger<"u"&&pe.button===2&&pe.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:pe.button},S.remove=function(pe){pe.parentNode&&pe.parentNode.removeChild(pe)};function l(pe,$,me){var re,xe,ze,Ke=o.browser.devicePixelRatio>1?"@2x":"",ft=o.getJSON($.transformRequest($.normalizeSpriteURL(pe,Ke,".json"),o.ResourceType.SpriteJSON),function(qt,fr){ft=null,ze||(ze=qt,re=fr,Vt())}),_t=o.getImage($.transformRequest($.normalizeSpriteURL(pe,Ke,".png"),o.ResourceType.SpriteImage),function(qt,fr){_t=null,ze||(ze=qt,xe=fr,Vt())});function Vt(){if(ze)me(ze);else if(re&&xe){var qt=o.browser.getImageData(xe),fr={};for(var sr in re){var kr=re[sr],Kr=kr.width,jr=kr.height,Xr=kr.x,en=kr.y,yn=kr.sdf,Fn=kr.pixelRatio,Yn=kr.stretchX,Jn=kr.stretchY,Qn=kr.content,jn=new o.RGBAImage({width:Kr,height:jr});o.RGBAImage.copy(qt,jn,{x:Xr,y:en},{x:0,y:0},{width:Kr,height:jr}),fr[sr]={data:jn,pixelRatio:Fn,sdf:yn,stretchX:Yn,stretchY:Jn,content:Qn}}me(null,fr)}}return{cancel:function(){ft&&(ft.cancel(),ft=null),_t&&(_t.cancel(),_t=null)}}}function y(pe){var $=pe.userImage;if($&&$.render){var me=$.render();if(me)return pe.data.replace(new Uint8Array($.data.buffer)),!0}return!1}var h=1,T=function(pe){function $(){pe.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.isLoaded=function(){return this.loaded},$.prototype.setLoaded=function(re){if(this.loaded!==re&&(this.loaded=re,re)){for(var xe=0,ze=this.requestors;xe<ze.length;xe+=1){var Ke=ze[xe],ft=Ke.ids,_t=Ke.callback;this._notify(ft,_t)}this.requestors=[]}},$.prototype.getImage=function(re){return this.images[re]},$.prototype.addImage=function(re,xe){this._validate(re,xe)&&(this.images[re]=xe)},$.prototype._validate=function(re,xe){var ze=!0;return this._validateStretch(xe.stretchX,xe.data&&xe.data.width)||(this.fire(new o.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(xe.stretchY,xe.data&&xe.data.height)||(this.fire(new o.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(xe.content,xe)||(this.fire(new o.ErrorEvent(new Error('Image "'+re+'" has invalid "content" value'))),ze=!1),ze},$.prototype._validateStretch=function(re,xe){if(!re)return!0;for(var ze=0,Ke=0,ft=re;Ke<ft.length;Ke+=1){var _t=ft[Ke];if(_t[0]<ze||_t[1]<_t[0]||xe<_t[1])return!1;ze=_t[1]}return!0},$.prototype._validateContent=function(re,xe){return re?!(re.length!==4||re[0]<0||xe.data.width<re[0]||re[1]<0||xe.data.height<re[1]||re[2]<0||xe.data.width<re[2]||re[3]<0||xe.data.height<re[3]||re[2]<re[0]||re[3]<re[1]):!0},$.prototype.updateImage=function(re,xe){var ze=this.images[re];xe.version=ze.version+1,this.images[re]=xe,this.updatedImages[re]=!0},$.prototype.removeImage=function(re){var xe=this.images[re];delete this.images[re],delete this.patterns[re],xe.userImage&&xe.userImage.onRemove&&xe.userImage.onRemove()},$.prototype.listImages=function(){return Object.keys(this.images)},$.prototype.getImages=function(re,xe){var ze=!0;if(!this.isLoaded())for(var Ke=0,ft=re;Ke<ft.length;Ke+=1){var _t=ft[Ke];this.images[_t]||(ze=!1)}this.isLoaded()||ze?this._notify(re,xe):this.requestors.push({ids:re,callback:xe})},$.prototype._notify=function(re,xe){for(var ze={},Ke=0,ft=re;Ke<ft.length;Ke+=1){var _t=ft[Ke];this.images[_t]||this.fire(new o.Event("styleimagemissing",{id:_t}));var Vt=this.images[_t];Vt?ze[_t]={data:Vt.data.clone(),pixelRatio:Vt.pixelRatio,sdf:Vt.sdf,version:Vt.version,stretchX:Vt.stretchX,stretchY:Vt.stretchY,content:Vt.content,hasRenderCallback:!!(Vt.userImage&&Vt.userImage.render)}:o.warnOnce('Image "'+_t+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}xe(null,ze)},$.prototype.getPixelSize=function(){var re=this.atlasImage,xe=re.width,ze=re.height;return{width:xe,height:ze}},$.prototype.getPattern=function(re){var xe=this.patterns[re],ze=this.getImage(re);if(!ze)return null;if(xe&&xe.position.version===ze.version)return xe.position;if(xe)xe.position.version=ze.version;else{var Ke=ze.data.width+h*2,ft=ze.data.height+h*2,_t={w:Ke,h:ft,x:0,y:0},Vt=new o.ImagePosition(_t,ze);this.patterns[re]={bin:_t,position:Vt}}return this._updatePatternAtlas(),this.patterns[re].position},$.prototype.bind=function(re){var xe=re.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(re,this.atlasImage,xe.RGBA),this.atlasTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE)},$.prototype._updatePatternAtlas=function(){var re=[];for(var xe in this.patterns)re.push(this.patterns[xe].bin);var ze=o.potpack(re),Ke=ze.w,ft=ze.h,_t=this.atlasImage;_t.resize({width:Ke||1,height:ft||1});for(var Vt in this.patterns){var qt=this.patterns[Vt],fr=qt.bin,sr=fr.x+h,kr=fr.y+h,Kr=this.images[Vt].data,jr=Kr.width,Xr=Kr.height;o.RGBAImage.copy(Kr,_t,{x:0,y:0},{x:sr,y:kr},{width:jr,height:Xr}),o.RGBAImage.copy(Kr,_t,{x:0,y:Xr-1},{x:sr,y:kr-1},{width:jr,height:1}),o.RGBAImage.copy(Kr,_t,{x:0,y:0},{x:sr,y:kr+Xr},{width:jr,height:1}),o.RGBAImage.copy(Kr,_t,{x:jr-1,y:0},{x:sr-1,y:kr},{width:1,height:Xr}),o.RGBAImage.copy(Kr,_t,{x:0,y:0},{x:sr+jr,y:kr},{width:1,height:Xr})}this.dirty=!0},$.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},$.prototype.dispatchRenderCallbacks=function(re){for(var xe=0,ze=re;xe<ze.length;xe+=1){var Ke=ze[xe];if(!this.callbackDispatchedThisFrame[Ke]){this.callbackDispatchedThisFrame[Ke]=!0;var ft=this.images[Ke],_t=y(ft);_t&&this.updateImage(Ke,ft)}}},$}(o.Evented);function c(pe,$,me,re,xe){var ze=$*256,Ke=ze+255,ft=re.transformRequest(re.normalizeGlyphsURL(me).replace("{fontstack}",pe).replace("{range}",ze+"-"+Ke),o.ResourceType.Glyphs);o.getArrayBuffer(ft,function(_t,Vt){if(_t)xe(_t);else if(Vt){for(var qt={},fr=0,sr=o.parseGlyphPBF(Vt);fr<sr.length;fr+=1){var kr=sr[fr];qt[kr.id]=kr}xe(null,qt)}})}var i=w,d=w,x=1e20;function w(pe,$,me,re,xe,ze){this.fontSize=pe||24,this.buffer=$===void 0?3:$,this.cutoff=re||.25,this.fontFamily=xe||"sans-serif",this.fontWeight=ze||"normal",this.radius=me||8;var Ke=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ke,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ke*Ke),this.gridInner=new Float64Array(Ke*Ke),this.f=new Float64Array(Ke),this.d=new Float64Array(Ke),this.z=new Float64Array(Ke+1),this.v=new Int16Array(Ke),this.middle=Math.round(Ke/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}w.prototype.draw=function(pe){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(pe,this.buffer,this.middle);for(var $=this.ctx.getImageData(0,0,this.size,this.size),me=new Uint8ClampedArray(this.size*this.size),re=0;re<this.size*this.size;re++){var xe=$.data[re*4+3]/255;this.gridOuter[re]=xe===1?0:xe===0?x:Math.pow(Math.max(0,.5-xe),2),this.gridInner[re]=xe===1?x:xe===0?0:Math.pow(Math.max(0,xe-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),re=0;re<this.size*this.size;re++){var ze=this.gridOuter[re]-this.gridInner[re];me[re]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return me};function _(pe,$,me,re,xe,ze,Ke){for(var ft=0;ft<$;ft++){for(var _t=0;_t<me;_t++)re[_t]=pe[_t*$+ft];for(m(re,xe,ze,Ke,me),_t=0;_t<me;_t++)pe[_t*$+ft]=xe[_t]}for(_t=0;_t<me;_t++){for(ft=0;ft<$;ft++)re[ft]=pe[_t*$+ft];for(m(re,xe,ze,Ke,$),ft=0;ft<$;ft++)pe[_t*$+ft]=Math.sqrt(xe[ft])}}function m(pe,$,me,re,xe){me[0]=0,re[0]=-x,re[1]=+x;for(var ze=1,Ke=0;ze<xe;ze++){for(var ft=(pe[ze]+ze*ze-(pe[me[Ke]]+me[Ke]*me[Ke]))/(2*ze-2*me[Ke]);ft<=re[Ke];)Ke--,ft=(pe[ze]+ze*ze-(pe[me[Ke]]+me[Ke]*me[Ke]))/(2*ze-2*me[Ke]);Ke++,me[Ke]=ze,re[Ke]=ft,re[Ke+1]=+x}for(ze=0,Ke=0;ze<xe;ze++){for(;re[Ke+1]<ze;)Ke++;$[ze]=(ze-me[Ke])*(ze-me[Ke])+pe[me[Ke]]}}i.default=d;var E=function($,me){this.requestManager=$,this.localIdeographFontFamily=me,this.entries={}};E.prototype.setURL=function($){this.url=$},E.prototype.getGlyphs=function($,me){var re=this,xe=[];for(var ze in $)for(var Ke=0,ft=$[ze];Ke<ft.length;Ke+=1){var _t=ft[Ke];xe.push({stack:ze,id:_t})}o.asyncAll(xe,function(Vt,qt){var fr=Vt.stack,sr=Vt.id,kr=re.entries[fr];kr||(kr=re.entries[fr]={glyphs:{},requests:{},ranges:{}});var Kr=kr.glyphs[sr];if(Kr!==void 0){qt(null,{stack:fr,id:sr,glyph:Kr});return}if(Kr=re._tinySDF(kr,fr,sr),Kr){kr.glyphs[sr]=Kr,qt(null,{stack:fr,id:sr,glyph:Kr});return}var jr=Math.floor(sr/256);if(jr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(kr.ranges[jr]){qt(null,{stack:fr,id:sr,glyph:Kr});return}var Xr=kr.requests[jr];Xr||(Xr=kr.requests[jr]=[],E.loadGlyphRange(fr,jr,re.url,re.requestManager,function(en,yn){if(yn){for(var Fn in yn)re._doesCharSupportLocalGlyph(+Fn)||(kr.glyphs[+Fn]=yn[+Fn]);kr.ranges[jr]=!0}for(var Yn=0,Jn=Xr;Yn<Jn.length;Yn+=1){var Qn=Jn[Yn];Qn(en,yn)}delete kr.requests[jr]})),Xr.push(function(en,yn){en?qt(en):yn&&qt(null,{stack:fr,id:sr,glyph:yn[sr]||null})})},function(Vt,qt){if(Vt)me(Vt);else if(qt){for(var fr={},sr=0,kr=qt;sr<kr.length;sr+=1){var Kr=kr[sr],jr=Kr.stack,Xr=Kr.id,en=Kr.glyph;(fr[jr]||(fr[jr]={}))[Xr]=en&&{id:en.id,bitmap:en.bitmap.clone(),metrics:en.metrics}}me(null,fr)}})},E.prototype._doesCharSupportLocalGlyph=function($){return!!this.localIdeographFontFamily&&(o.isChar["CJK Unified Ideographs"]($)||o.isChar["Hangul Syllables"]($)||o.isChar.Hiragana($)||o.isChar.Katakana($))},E.prototype._tinySDF=function($,me,re){var xe=this.localIdeographFontFamily;if(xe&&this._doesCharSupportLocalGlyph(re)){var ze=$.tinySDF;if(!ze){var Ke="400";/bold/i.test(me)?Ke="900":/medium/i.test(me)?Ke="500":/light/i.test(me)&&(Ke="200"),ze=$.tinySDF=new E.TinySDF(24,3,8,.25,xe,Ke)}return{id:re,bitmap:new o.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(re))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=c,E.TinySDF=i;var A=function(){this.specification=o.styleSpec.light.position};A.prototype.possiblyEvaluate=function($,me){return o.sphericalToCartesian($.expression.evaluate(me))},A.prototype.interpolate=function($,me,re){return{x:o.number($.x,me.x,re),y:o.number($.y,me.y,re),z:o.number($.z,me.z,re)}};var s=new o.Properties({anchor:new o.DataConstantProperty(o.styleSpec.light.anchor),position:new A,color:new o.DataConstantProperty(o.styleSpec.light.color),intensity:new o.DataConstantProperty(o.styleSpec.light.intensity)}),M="-transition",b=function(pe){function $(me){pe.call(this),this._transitionable=new o.Transitionable(s),this.setLight(me),this._transitioning=this._transitionable.untransitioned()}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getLight=function(){return this._transitionable.serialize()},$.prototype.setLight=function(re,xe){if(xe===void 0&&(xe={}),!this._validate(o.validateLight,re,xe))for(var ze in re){var Ke=re[ze];o.endsWith(ze,M)?this._transitionable.setTransition(ze.slice(0,-M.length),Ke):this._transitionable.setValue(ze,Ke)}},$.prototype.updateTransitions=function(re){this._transitioning=this._transitionable.transitioned(re,this._transitioning)},$.prototype.hasTransition=function(){return this._transitioning.hasTransition()},$.prototype.recalculate=function(re){this.properties=this._transitioning.possiblyEvaluate(re)},$.prototype._validate=function(re,xe,ze){return ze&&ze.validate===!1?!1:o.emitValidationErrors(this,re.call(o.validateStyle,o.extend({value:xe,style:{glyphs:!0,sprite:!0},styleSpec:o.styleSpec})))},$}(o.Evented),N=function($,me){this.width=$,this.height=me,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};N.prototype.getDash=function($,me){var re=$.join(",")+String(me);return this.dashEntry[re]||(this.dashEntry[re]=this.addDash($,me)),this.dashEntry[re]},N.prototype.getDashRanges=function($,me,re){var xe=$.length%2===1,ze=[],Ke=xe?-$[$.length-1]*re:0,ft=$[0]*re,_t=!0;ze.push({left:Ke,right:ft,isDash:_t,zeroLength:$[0]===0});for(var Vt=$[0],qt=1;qt<$.length;qt++){_t=!_t;var fr=$[qt];Ke=Vt*re,Vt+=fr,ft=Vt*re,ze.push({left:Ke,right:ft,isDash:_t,zeroLength:fr===0})}return ze},N.prototype.addRoundDash=function($,me,re){for(var xe=me/2,ze=-re;ze<=re;ze++)for(var Ke=this.nextRow+re+ze,ft=this.width*Ke,_t=0,Vt=$[_t],qt=0;qt<this.width;qt++){qt/Vt.right>1&&(Vt=$[++_t]);var fr=Math.abs(qt-Vt.left),sr=Math.abs(qt-Vt.right),kr=Math.min(fr,sr),Kr=void 0,jr=ze/re*(xe+1);if(Vt.isDash){var Xr=xe-Math.abs(jr);Kr=Math.sqrt(kr*kr+Xr*Xr)}else Kr=xe-Math.sqrt(kr*kr+jr*jr);this.data[ft+qt]=Math.max(0,Math.min(255,Kr+128))}},N.prototype.addRegularDash=function($){for(var me=$.length-1;me>=0;--me){var re=$[me],xe=$[me+1];re.zeroLength?$.splice(me,1):xe&&xe.isDash===re.isDash&&(xe.left=re.left,$.splice(me,1))}var ze=$[0],Ke=$[$.length-1];ze.isDash===Ke.isDash&&(ze.left=Ke.left-this.width,Ke.right=ze.right+this.width);for(var ft=this.width*this.nextRow,_t=0,Vt=$[_t],qt=0;qt<this.width;qt++){qt/Vt.right>1&&(Vt=$[++_t]);var fr=Math.abs(qt-Vt.left),sr=Math.abs(qt-Vt.right),kr=Math.min(fr,sr),Kr=Vt.isDash?kr:-kr;this.data[ft+qt]=Math.max(0,Math.min(255,Kr+128))}},N.prototype.addDash=function($,me){var re=me?7:0,xe=2*re+1;if(this.nextRow+xe>this.height)return o.warnOnce("LineAtlas out of space"),null;for(var ze=0,Ke=0;Ke<$.length;Ke++)ze+=$[Ke];if(ze!==0){var ft=this.width/ze,_t=this.getDashRanges($,this.width,ft);me?this.addRoundDash(_t,ft,re):this.addRegularDash(_t)}var Vt={y:(this.nextRow+re+.5)/this.height,height:2*re/this.height,width:ze};return this.nextRow+=xe,this.dirty=!0,Vt},N.prototype.bind=function($){var me=$.gl;this.texture?(me.bindTexture(me.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,me.texSubImage2D(me.TEXTURE_2D,0,0,0,this.width,this.height,me.ALPHA,me.UNSIGNED_BYTE,this.data))):(this.texture=me.createTexture(),me.bindTexture(me.TEXTURE_2D,this.texture),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_S,me.REPEAT),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_WRAP_T,me.REPEAT),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MIN_FILTER,me.LINEAR),me.texParameteri(me.TEXTURE_2D,me.TEXTURE_MAG_FILTER,me.LINEAR),me.texImage2D(me.TEXTURE_2D,0,me.ALPHA,this.width,this.height,0,me.ALPHA,me.UNSIGNED_BYTE,this.data))};var k=function pe($,me){this.workerPool=$,this.actors=[],this.currentActor=0,this.id=o.uniqueId();for(var re=this.workerPool.acquire(this.id),xe=0;xe<re.length;xe++){var ze=re[xe],Ke=new pe.Actor(ze,me,this.id);Ke.name="Worker "+xe,this.actors.push(Ke)}};k.prototype.broadcast=function($,me,re){re=re||function(){},o.asyncAll(this.actors,function(xe,ze){xe.send($,me,ze)},re)},k.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},k.prototype.remove=function(){this.actors.forEach(function($){$.remove()}),this.actors=[],this.workerPool.release(this.id)},k.Actor=o.Actor;function H(pe,$,me){var re=function(xe,ze){if(xe)return me(xe);if(ze){var Ke=o.pick(o.extend(ze,pe),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Ke.vectorLayers=ze.vector_layers,Ke.vectorLayerIds=Ke.vectorLayers.map(function(ft){return ft.id})),Ke.tiles=$.canonicalizeTileset(Ke,pe.url),me(null,Ke)}};return pe.url?o.getJSON($.transformRequest($.normalizeSourceURL(pe.url),o.ResourceType.Source),re):o.browser.frame(function(){return re(null,pe)})}var F=function($,me,re){this.bounds=o.LngLatBounds.convert(this.validateBounds($)),this.minzoom=me||0,this.maxzoom=re||24};F.prototype.validateBounds=function($){return!Array.isArray($)||$.length!==4?[-180,-90,180,90]:[Math.max(-180,$[0]),Math.max(-90,$[1]),Math.min(180,$[2]),Math.min(90,$[3])]},F.prototype.contains=function($){var me=Math.pow(2,$.z),re={minX:Math.floor(o.mercatorXfromLng(this.bounds.getWest())*me),minY:Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*me),maxX:Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*me),maxY:Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*me)},xe=$.x>=re.minX&&$.x<re.maxX&&$.y>=re.minY&&$.y<re.maxY;return xe};var B=function(pe){function $(me,re,xe,ze){if(pe.call(this),this.id=me,this.dispatcher=xe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(re,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},re),this._collectResourceTiming=re.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(xe,ze){re._tileJSONRequest=null,re._loaded=!0,xe?re.fire(new o.ErrorEvent(xe)):ze&&(o.extend(re,ze),ze.bounds&&(re.tileBounds=new F(ze.bounds,re.minzoom,re.maxzoom)),o.postTurnstileEvent(ze.tiles,re.map._requestManager._customAccessToken),o.postMapLoadEvent(ze.tiles,re.map._getMapId(),re.map._requestManager._skuToken,re.map._requestManager._customAccessToken),re.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.setSourceProperty=function(re){this._tileJSONRequest&&this._tileJSONRequest.cancel(),re();var xe=this.map.style.sourceCaches[this.id];xe.clearTiles(),this.load()},$.prototype.setTiles=function(re){var xe=this;return this.setSourceProperty(function(){xe._options.tiles=re}),this},$.prototype.setUrl=function(re){var xe=this;return this.setSourceProperty(function(){xe.url=re,xe._options.url=re}),this},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return o.extend({},this._options)},$.prototype.loadTile=function(re,xe){var ze=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme)),Ke={request:this.map._requestManager.transformRequest(ze,o.ResourceType.Tile),uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,tileSize:this.tileSize*re.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ke.request.collectResourceTiming=this._collectResourceTiming,!re.actor||re.state==="expired"?(re.actor=this.dispatcher.getActor(),re.request=re.actor.send("loadTile",Ke,ft.bind(this))):re.state==="loading"?re.reloadCallback=xe:re.request=re.actor.send("reloadTile",Ke,ft.bind(this));function ft(_t,Vt){if(delete re.request,re.aborted)return xe(null);if(_t&&_t.status!==404)return xe(_t);Vt&&Vt.resourceTiming&&(re.resourceTiming=Vt.resourceTiming),this.map._refreshExpiredTiles&&Vt&&re.setExpiryData(Vt),re.loadVectorData(Vt,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),xe(null),re.reloadCallback&&(this.loadTile(re,re.reloadCallback),re.reloadCallback=null)}},$.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.actor&&re.actor.send("abortTile",{uid:re.uid,type:this.type,source:this.id},void 0)},$.prototype.unloadTile=function(re){re.unloadVectorData(),re.actor&&re.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id},void 0)},$.prototype.hasTransition=function(){return!1},$}(o.Evented),U=function(pe){function $(me,re,xe,ze){pe.call(this),this.id=me,this.dispatcher=xe,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},re),o.extend(this,o.pick(re,["url","scheme","tileSize"]))}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(xe,ze){re._tileJSONRequest=null,re._loaded=!0,xe?re.fire(new o.ErrorEvent(xe)):ze&&(o.extend(re,ze),ze.bounds&&(re.tileBounds=new F(ze.bounds,re.minzoom,re.maxzoom)),o.postTurnstileEvent(ze.tiles),o.postMapLoadEvent(ze.tiles,re.map._getMapId(),re.map._requestManager._skuToken),re.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})))})},$.prototype.loaded=function(){return this._loaded},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},$.prototype.serialize=function(){return o.extend({},this._options)},$.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},$.prototype.loadTile=function(re,xe){var ze=this,Ke=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=o.getImage(this.map._requestManager.transformRequest(Ke,o.ResourceType.Tile),function(ft,_t){if(delete re.request,re.aborted)re.state="unloaded",xe(null);else if(ft)re.state="errored",xe(ft);else if(_t){ze.map._refreshExpiredTiles&&re.setExpiryData(_t),delete _t.cacheControl,delete _t.expires;var Vt=ze.map.painter.context,qt=Vt.gl;re.texture=ze.map.painter.getTileTexture(_t.width),re.texture?re.texture.update(_t,{useMipmap:!0}):(re.texture=new o.Texture(Vt,_t,qt.RGBA,{useMipmap:!0}),re.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Vt.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Vt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Vt.extTextureFilterAnisotropicMax)),re.state="loaded",o.cacheEntryPossiblyAdded(ze.dispatcher),xe(null)}})},$.prototype.abortTile=function(re,xe){re.request&&(re.request.cancel(),delete re.request),xe()},$.prototype.unloadTile=function(re,xe){re.texture&&this.map.painter.saveTileTexture(re.texture),xe()},$.prototype.hasTransition=function(){return!1},$}(o.Evented),z=function(pe){function $(me,re,xe,ze){pe.call(this,me,re,xe,ze),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},re),this.encoding=re.encoding||"mapbox"}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},$.prototype.loadTile=function(re,xe){var ze=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=o.getImage(this.map._requestManager.transformRequest(ze,o.ResourceType.Tile),Ke.bind(this)),re.neighboringTiles=this._getNeighboringTiles(re.tileID);function Ke(_t,Vt){if(delete re.request,re.aborted)re.state="unloaded",xe(null);else if(_t)re.state="errored",xe(_t);else if(Vt){this.map._refreshExpiredTiles&&re.setExpiryData(Vt),delete Vt.cacheControl,delete Vt.expires;var qt=o.window.ImageBitmap&&Vt instanceof o.window.ImageBitmap&&o.offscreenCanvasSupported(),fr=qt?Vt:o.browser.getImageData(Vt,1),sr={uid:re.uid,coord:re.tileID,source:this.id,rawImageData:fr,encoding:this.encoding};(!re.actor||re.state==="expired")&&(re.actor=this.dispatcher.getActor(),re.actor.send("loadDEMTile",sr,ft.bind(this)))}}function ft(_t,Vt){_t&&(re.state="errored",xe(_t)),Vt&&(re.dem=Vt,re.needsHillshadePrepare=!0,re.state="loaded",xe(null))}},$.prototype._getNeighboringTiles=function(re){var xe=re.canonical,ze=Math.pow(2,xe.z),Ke=(xe.x-1+ze)%ze,ft=xe.x===0?re.wrap-1:re.wrap,_t=(xe.x+1+ze)%ze,Vt=xe.x+1===ze?re.wrap+1:re.wrap,qt={};return qt[new o.OverscaledTileID(re.overscaledZ,ft,xe.z,Ke,xe.y).key]={backfilled:!1},qt[new o.OverscaledTileID(re.overscaledZ,Vt,xe.z,_t,xe.y).key]={backfilled:!1},xe.y>0&&(qt[new o.OverscaledTileID(re.overscaledZ,ft,xe.z,Ke,xe.y-1).key]={backfilled:!1},qt[new o.OverscaledTileID(re.overscaledZ,re.wrap,xe.z,xe.x,xe.y-1).key]={backfilled:!1},qt[new o.OverscaledTileID(re.overscaledZ,Vt,xe.z,_t,xe.y-1).key]={backfilled:!1}),xe.y+1<ze&&(qt[new o.OverscaledTileID(re.overscaledZ,ft,xe.z,Ke,xe.y+1).key]={backfilled:!1},qt[new o.OverscaledTileID(re.overscaledZ,re.wrap,xe.z,xe.x,xe.y+1).key]={backfilled:!1},qt[new o.OverscaledTileID(re.overscaledZ,Vt,xe.z,_t,xe.y+1).key]={backfilled:!1}),qt},$.prototype.unloadTile=function(re){re.demTexture&&this.map.painter.saveTileTexture(re.demTexture),re.fbo&&(re.fbo.destroy(),delete re.fbo),re.dem&&delete re.dem,delete re.neighboringTiles,re.state="unloaded",re.actor&&re.actor.send("removeDEMTile",{uid:re.uid,source:this.id})},$}(U),W=function(pe){function $(me,re,xe,ze){pe.call(this),this.id=me,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=xe.getActor(),this.setEventedParent(ze),this._data=re.data,this._options=o.extend({},re),this._collectResourceTiming=re.collectResourceTiming,this._resourceTiming=[],re.maxzoom!==void 0&&(this.maxzoom=re.maxzoom),re.type&&(this.type=re.type),re.attribution&&(this.attribution=re.attribution),this.promoteId=re.promoteId;var Ke=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:re.cluster||!1,geojsonVtOptions:{buffer:(re.buffer!==void 0?re.buffer:128)*Ke,tolerance:(re.tolerance!==void 0?re.tolerance:.375)*Ke,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:re.lineMetrics||!1,generateId:re.generateId||!1},superclusterOptions:{maxZoom:re.clusterMaxZoom!==void 0?Math.min(re.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,re.clusterMinPoints||2),extent:o.EXTENT,radius:(re.clusterRadius||50)*Ke,log:!1,generateId:re.generateId||!1},clusterProperties:re.clusterProperties,filter:re.filter},re.workerOptions)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(xe){if(xe){re.fire(new o.ErrorEvent(xe));return}var ze={dataType:"source",sourceDataType:"metadata"};re._collectResourceTiming&&re._resourceTiming&&re._resourceTiming.length>0&&(ze.resourceTiming=re._resourceTiming,re._resourceTiming=[]),re.fire(new o.Event("data",ze))})},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.setData=function(re){var xe=this;return this._data=re,this.fire(new o.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){xe.fire(new o.ErrorEvent(ze));return}var Ke={dataType:"source",sourceDataType:"content"};xe._collectResourceTiming&&xe._resourceTiming&&xe._resourceTiming.length>0&&(Ke.resourceTiming=xe._resourceTiming,xe._resourceTiming=[]),xe.fire(new o.Event("data",Ke))}),this},$.prototype.getClusterExpansionZoom=function(re,xe){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:re,source:this.id},xe),this},$.prototype.getClusterChildren=function(re,xe){return this.actor.send("geojson.getClusterChildren",{clusterId:re,source:this.id},xe),this},$.prototype.getClusterLeaves=function(re,xe,ze,Ke){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:re,limit:xe,offset:ze},Ke),this},$.prototype._updateWorkerData=function(re){var xe=this;this._loaded=!1;var ze=o.extend({},this.workerOptions),Ke=this._data;typeof Ke=="string"?(ze.request=this.map._requestManager.transformRequest(o.browser.resolveURL(Ke),o.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Ke),this.actor.send(this.type+".loadData",ze,function(ft,_t){xe._removed||_t&&_t.abandoned||(xe._loaded=!0,_t&&_t.resourceTiming&&_t.resourceTiming[xe.id]&&(xe._resourceTiming=_t.resourceTiming[xe.id].slice(0)),xe.actor.send(xe.type+".coalesce",{source:ze.source},null),re(ft))})},$.prototype.loaded=function(){return this._loaded},$.prototype.loadTile=function(re,xe){var ze=this,Ke=re.actor?"reloadTile":"loadTile";re.actor=this.actor;var ft={type:this.type,uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};re.request=this.actor.send(Ke,ft,function(_t,Vt){return delete re.request,re.unloadVectorData(),re.aborted?xe(null):_t?xe(_t):(re.loadVectorData(Vt,ze.map.painter,Ke==="reloadTile"),xe(null))})},$.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.aborted=!0},$.prototype.unloadTile=function(re){re.unloadVectorData(),this.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id})},$.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},$.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},$.prototype.hasTransition=function(){return!1},$}(o.Evented),j=o.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ee=function(pe){function $(me,re,xe,ze){pe.call(this),this.id=me,this.dispatcher=xe,this.coordinates=re.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=re}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.load=function(re,xe){var ze=this;this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),function(Ke,ft){ze._loaded=!0,Ke?ze.fire(new o.ErrorEvent(Ke)):ft&&(ze.image=ft,re&&(ze.coordinates=re),xe&&xe(),ze._finishLoading())})},$.prototype.loaded=function(){return this._loaded},$.prototype.updateImage=function(re){var xe=this;return!this.image||!re.url?this:(this.options.url=re.url,this.load(re.coordinates,function(){xe.texture=null}),this)},$.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))},$.prototype.onAdd=function(re){this.map=re,this.load()},$.prototype.setCoordinates=function(re){var xe=this;this.coordinates=re;var ze=re.map(o.MercatorCoordinate.fromLngLat);this.tileID=ie(ze),this.minzoom=this.maxzoom=this.tileID.z;var Ke=ze.map(function(ft){return xe.tileID.getTilePoint(ft)._round()});return this._boundsArray=new o.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ke[0].x,Ke[0].y,0,0),this._boundsArray.emplaceBack(Ke[1].x,Ke[1].y,o.EXTENT,0),this._boundsArray.emplaceBack(Ke[3].x,Ke[3].y,0,o.EXTENT),this._boundsArray.emplaceBack(Ke[2].x,Ke[2].y,o.EXTENT,o.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this},$.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var re=this.map.painter.context,xe=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new o.Texture(re,this.image,xe.RGBA),this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},$.prototype.loadTile=function(re,xe){this.tileID&&this.tileID.equals(re.tileID.canonical)?(this.tiles[String(re.tileID.wrap)]=re,re.buckets={},xe(null)):(re.state="errored",xe(null))},$.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return!1},$}(o.Evented);function ie(pe){for(var $=1/0,me=1/0,re=-1/0,xe=-1/0,ze=0,Ke=pe;ze<Ke.length;ze+=1){var ft=Ke[ze];$=Math.min($,ft.x),me=Math.min(me,ft.y),re=Math.max(re,ft.x),xe=Math.max(xe,ft.y)}var _t=re-$,Vt=xe-me,qt=Math.max(_t,Vt),fr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),sr=Math.pow(2,fr);return new o.CanonicalTileID(fr,Math.floor(($+re)/2*sr),Math.floor((me+xe)/2*sr))}var oe=function(pe){function $(me,re,xe,ze){pe.call(this,me,re,xe,ze),this.roundZoom=!0,this.type="video",this.options=re}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.load=function(){var re=this;this._loaded=!1;var xe=this.options;this.urls=[];for(var ze=0,Ke=xe.urls;ze<Ke.length;ze+=1){var ft=Ke[ze];this.urls.push(this.map._requestManager.transformRequest(ft,o.ResourceType.Source).url)}o.getVideo(this.urls,function(_t,Vt){re._loaded=!0,_t?re.fire(new o.ErrorEvent(_t)):Vt&&(re.video=Vt,re.video.loop=!0,re.video.addEventListener("playing",function(){re.map.triggerRepaint()}),re.map&&re.video.play(),re._finishLoading())})},$.prototype.pause=function(){this.video&&this.video.pause()},$.prototype.play=function(){this.video&&this.video.play()},$.prototype.seek=function(re){if(this.video){var xe=this.video.seekable;re<xe.start(0)||re>xe.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+xe.start(0)+" and "+xe.end(0)+"-second mark."))):this.video.currentTime=re}},$.prototype.getVideo=function(){return this.video},$.prototype.onAdd=function(re){this.map||(this.map=re,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},$.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var re=this.map.painter.context,xe=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),xe.texSubImage2D(xe.TEXTURE_2D,0,0,0,xe.RGBA,xe.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(re,this.video,xe.RGBA),this.texture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE));for(var ze in this.tiles){var Ke=this.tiles[ze];Ke.state!=="loaded"&&(Ke.state="loaded",Ke.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this.video&&!this.video.paused},$}(ee),he=function(pe){function $(me,re,xe,ze){pe.call(this,me,re,xe,ze),re.coordinates?(!Array.isArray(re.coordinates)||re.coordinates.length!==4||re.coordinates.some(function(Ke){return!Array.isArray(Ke)||Ke.length!==2||Ke.some(function(ft){return typeof ft!="number"})}))&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+me,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+me,null,'missing required property "coordinates"'))),re.animate&&typeof re.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+me,null,'optional "animate" property must be a boolean value'))),re.canvas?typeof re.canvas!="string"&&!(re.canvas instanceof o.window.HTMLCanvasElement)&&this.fire(new o.ErrorEvent(new o.ValidationError("sources."+me,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError("sources."+me,null,'missing required property "canvas"'))),this.options=re,this.animate=re.animate!==void 0?re.animate:!0}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},$.prototype.getCanvas=function(){return this.canvas},$.prototype.onAdd=function(re){this.map=re,this.load(),this.canvas&&this.animate&&this.play()},$.prototype.onRemove=function(){this.pause()},$.prototype.prepare=function(){var re=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,re=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,re=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var xe=this.map.painter.context,ze=xe.gl;this.boundsBuffer||(this.boundsBuffer=xe.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(re||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(xe,this.canvas,ze.RGBA,{premultiply:!0});for(var Ke in this.tiles){var ft=this.tiles[Ke];ft.state!=="loaded"&&(ft.state="loaded",ft.texture=this.texture)}}},$.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},$.prototype.hasTransition=function(){return this._playing},$.prototype._hasInvalidDimensions=function(){for(var re=0,xe=[this.canvas.width,this.canvas.height];re<xe.length;re+=1){var ze=xe[re];if(isNaN(ze)||ze<=0)return!0}return!1},$}(ee),ne={vector:B,raster:U,"raster-dem":z,geojson:W,video:oe,image:ee,canvas:he},q=function(pe,$,me,re){var xe=new ne[$.type](pe,$,me,re);if(xe.id!==pe)throw new Error("Expected Source id to be "+pe+" instead of "+xe.id);return o.bindAll(["load","abort","unload","serialize","prepare"],xe),xe},le=function(pe){return ne[pe]},Q=function(pe,$){ne[pe]=$};function te(pe,$){var me=o.identity([]);return o.translate(me,me,[1,1,0]),o.scale(me,me,[pe.width*.5,pe.height*.5,1]),o.multiply(me,me,pe.calculatePosMatrix($.toUnwrapped()))}function ue(pe,$,me){if(pe)for(var re=0,xe=pe;re<xe.length;re+=1){var ze=xe[re],Ke=$[ze];if(Ke&&Ke.source===me&&Ke.type==="fill-extrusion")return!0}else for(var ft in $){var _t=$[ft];if(_t.source===me&&_t.type==="fill-extrusion")return!0}return!1}function J(pe,$,me,re,xe,ze){var Ke=ue(xe&&xe.layers,$,pe.id),ft=ze.maxPitchScaleFactor(),_t=pe.tilesIn(re,ft,Ke);_t.sort(ae);for(var Vt=[],qt=0,fr=_t;qt<fr.length;qt+=1){var sr=fr[qt];Vt.push({wrappedTileID:sr.tileID.wrapped().key,queryResults:sr.tile.queryRenderedFeatures($,me,pe._state,sr.queryGeometry,sr.cameraQueryGeometry,sr.scale,xe,ze,ft,te(pe.transform,sr.tileID))})}var kr=de(Vt);for(var Kr in kr)kr[Kr].forEach(function(jr){var Xr=jr.feature,en=pe.getFeatureState(Xr.layer["source-layer"],Xr.id);Xr.source=Xr.layer.source,Xr.layer["source-layer"]&&(Xr.sourceLayer=Xr.layer["source-layer"]),Xr.state=en});return kr}function K(pe,$,me,re,xe,ze,Ke){for(var ft={},_t=ze.queryRenderedSymbols(re),Vt=[],qt=0,fr=Object.keys(_t).map(Number);qt<fr.length;qt+=1){var sr=fr[qt];Vt.push(Ke[sr])}Vt.sort(ae);for(var kr=function(){var yn=jr[Kr],Fn=yn.featureIndex.lookupSymbolFeatures(_t[yn.bucketInstanceId],$,yn.bucketIndex,yn.sourceLayerIndex,xe.filter,xe.layers,xe.availableImages,pe);for(var Yn in Fn){var Jn=ft[Yn]=ft[Yn]||[],Qn=Fn[Yn];Qn.sort(function(va,Aa){var ma=yn.featureSortOrder;if(ma){var Va=ma.indexOf(va.featureIndex),hi=ma.indexOf(Aa.featureIndex);return hi-Va}else return Aa.featureIndex-va.featureIndex});for(var jn=0,qn=Qn;jn<qn.length;jn+=1){var sa=qn[jn];Jn.push(sa)}}},Kr=0,jr=Vt;Kr<jr.length;Kr+=1)kr();var Xr=function(yn){ft[yn].forEach(function(Fn){var Yn=Fn.feature,Jn=pe[yn],Qn=me[Jn.source],jn=Qn.getFeatureState(Yn.layer["source-layer"],Yn.id);Yn.source=Yn.layer.source,Yn.layer["source-layer"]&&(Yn.sourceLayer=Yn.layer["source-layer"]),Yn.state=jn})};for(var en in ft)Xr(en);return ft}function ce(pe,$){for(var me=pe.getRenderableIds().map(function(_t){return pe.getTileByID(_t)}),re=[],xe={},ze=0;ze<me.length;ze++){var Ke=me[ze],ft=Ke.tileID.canonical.key;xe[ft]||(xe[ft]=!0,Ke.querySourceFeatures(re,$))}return re}function ae(pe,$){var me=pe.tileID,re=$.tileID;return me.overscaledZ-re.overscaledZ||me.canonical.y-re.canonical.y||me.wrap-re.wrap||me.canonical.x-re.canonical.x}function de(pe){for(var $={},me={},re=0,xe=pe;re<xe.length;re+=1){var ze=xe[re],Ke=ze.queryResults,ft=ze.wrappedTileID,_t=me[ft]=me[ft]||{};for(var Vt in Ke)for(var qt=Ke[Vt],fr=_t[Vt]=_t[Vt]||{},sr=$[Vt]=$[Vt]||[],kr=0,Kr=qt;kr<Kr.length;kr+=1){var jr=Kr[kr];fr[jr.featureIndex]||(fr[jr.featureIndex]=!0,sr.push(jr))}}return $}var be=function($,me){this.max=$,this.onRemove=me,this.reset()};be.prototype.reset=function(){for(var $ in this.data)for(var me=0,re=this.data[$];me<re.length;me+=1){var xe=re[me];xe.timeout&&clearTimeout(xe.timeout),this.onRemove(xe.value)}return this.data={},this.order=[],this},be.prototype.add=function($,me,re){var xe=this,ze=$.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Ke={value:me,timeout:void 0};if(re!==void 0&&(Ke.timeout=setTimeout(function(){xe.remove($,Ke)},re)),this.data[ze].push(Ke),this.order.push(ze),this.order.length>this.max){var ft=this._getAndRemoveByKey(this.order[0]);ft&&this.onRemove(ft)}return this},be.prototype.has=function($){return $.wrapped().key in this.data},be.prototype.getAndRemove=function($){return this.has($)?this._getAndRemoveByKey($.wrapped().key):null},be.prototype._getAndRemoveByKey=function($){var me=this.data[$].shift();return me.timeout&&clearTimeout(me.timeout),this.data[$].length===0&&delete this.data[$],this.order.splice(this.order.indexOf($),1),me.value},be.prototype.getByKey=function($){var me=this.data[$];return me?me[0].value:null},be.prototype.get=function($){if(!this.has($))return null;var me=this.data[$.wrapped().key][0];return me.value},be.prototype.remove=function($,me){if(!this.has($))return this;var re=$.wrapped().key,xe=me===void 0?0:this.data[re].indexOf(me),ze=this.data[re][xe];return this.data[re].splice(xe,1),ze.timeout&&clearTimeout(ze.timeout),this.data[re].length===0&&delete this.data[re],this.onRemove(ze.value),this.order.splice(this.order.indexOf(re),1),this},be.prototype.setMaxSize=function($){for(this.max=$;this.order.length>this.max;){var me=this._getAndRemoveByKey(this.order[0]);me&&this.onRemove(me)}return this},be.prototype.filter=function($){var me=[];for(var re in this.data)for(var xe=0,ze=this.data[re];xe<ze.length;xe+=1){var Ke=ze[xe];$(Ke.value)||me.push(Ke)}for(var ft=0,_t=me;ft<_t.length;ft+=1){var Vt=_t[ft];this.remove(Vt.value.tileID,Vt)}};var Se=function($,me,re){this.context=$;var xe=$.gl;this.buffer=xe.createBuffer(),this.dynamicDraw=!!re,this.context.unbindVAO(),$.bindElementBuffer.set(this.buffer),xe.bufferData(xe.ELEMENT_ARRAY_BUFFER,me.arrayBuffer,this.dynamicDraw?xe.DYNAMIC_DRAW:xe.STATIC_DRAW),this.dynamicDraw||delete me.arrayBuffer};Se.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Se.prototype.updateData=function($){var me=this.context.gl;this.context.unbindVAO(),this.bind(),me.bufferSubData(me.ELEMENT_ARRAY_BUFFER,0,$.arrayBuffer)},Se.prototype.destroy=function(){var $=this.context.gl;this.buffer&&($.deleteBuffer(this.buffer),delete this.buffer)};var Te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ie=function($,me,re,xe){this.length=me.length,this.attributes=re,this.itemSize=me.bytesPerElement,this.dynamicDraw=xe,this.context=$;var ze=$.gl;this.buffer=ze.createBuffer(),$.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,me.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete me.arrayBuffer};Ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ie.prototype.updateData=function($){var me=this.context.gl;this.bind(),me.bufferSubData(me.ARRAY_BUFFER,0,$.arrayBuffer)},Ie.prototype.enableAttributes=function($,me){for(var re=0;re<this.attributes.length;re++){var xe=this.attributes[re],ze=me.attributes[xe.name];ze!==void 0&&$.enableVertexAttribArray(ze)}},Ie.prototype.setVertexAttribPointers=function($,me,re){for(var xe=0;xe<this.attributes.length;xe++){var ze=this.attributes[xe],Ke=me.attributes[ze.name];Ke!==void 0&&$.vertexAttribPointer(Ke,ze.components,$[Te[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(re||0))}},Ie.prototype.destroy=function(){var $=this.context.gl;this.buffer&&($.deleteBuffer(this.buffer),delete this.buffer)};var ke=function($){this.gl=$.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ke.prototype.get=function(){return this.current},ke.prototype.set=function($){},ke.prototype.getDefault=function(){return this.default},ke.prototype.setDefault=function(){this.set(this.default)};var Be=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return o.Color.transparent},$.prototype.set=function(re){var xe=this.current;re.r===xe.r&&re.g===xe.g&&re.b===xe.b&&re.a===xe.a&&!this.dirty||(this.gl.clearColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},$}(ke),Me=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 1},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearDepth(re),this.current=re,this.dirty=!1)},$}(ke),Oe=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 0},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearStencil(re),this.current=re,this.dirty=!1)},$}(ke),_e=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[!0,!0,!0,!0]},$.prototype.set=function(re){var xe=this.current;re[0]===xe[0]&&re[1]===xe[1]&&re[2]===xe[2]&&re[3]===xe[3]&&!this.dirty||(this.gl.colorMask(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},$}(ke),Ne=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!0},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthMask(re),this.current=re,this.dirty=!1)},$}(ke),Ce=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 255},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.stencilMask(re),this.current=re,this.dirty=!1)},$}(ke),Ye=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},$.prototype.set=function(re){var xe=this.current;re.func===xe.func&&re.ref===xe.ref&&re.mask===xe.mask&&!this.dirty||(this.gl.stencilFunc(re.func,re.ref,re.mask),this.current=re,this.dirty=!1)},$}(ke),rt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var re=this.gl;return[re.KEEP,re.KEEP,re.KEEP]},$.prototype.set=function(re){var xe=this.current;re[0]===xe[0]&&re[1]===xe[1]&&re[2]===xe[2]&&!this.dirty||(this.gl.stencilOp(re[0],re[1],re[2]),this.current=re,this.dirty=!1)},$}(ke),ot=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;re?xe.enable(xe.STENCIL_TEST):xe.disable(xe.STENCIL_TEST),this.current=re,this.dirty=!1}},$}(ke),$e=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return[0,1]},$.prototype.set=function(re){var xe=this.current;re[0]===xe[0]&&re[1]===xe[1]&&!this.dirty||(this.gl.depthRange(re[0],re[1]),this.current=re,this.dirty=!1)},$}(ke),qe=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;re?xe.enable(xe.DEPTH_TEST):xe.disable(xe.DEPTH_TEST),this.current=re,this.dirty=!1}},$}(ke),ht=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.LESS},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthFunc(re),this.current=re,this.dirty=!1)},$}(ke),vt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;re?xe.enable(xe.BLEND):xe.disable(xe.BLEND),this.current=re,this.dirty=!1}},$}(ke),pt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var re=this.gl;return[re.ONE,re.ZERO]},$.prototype.set=function(re){var xe=this.current;re[0]===xe[0]&&re[1]===xe[1]&&!this.dirty||(this.gl.blendFunc(re[0],re[1]),this.current=re,this.dirty=!1)},$}(ke),wt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return o.Color.transparent},$.prototype.set=function(re){var xe=this.current;re.r===xe.r&&re.g===xe.g&&re.b===xe.b&&re.a===xe.a&&!this.dirty||(this.gl.blendColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},$}(ke),Mt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.FUNC_ADD},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.blendEquation(re),this.current=re,this.dirty=!1)},$}(ke),nt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;re?xe.enable(xe.CULL_FACE):xe.disable(xe.CULL_FACE),this.current=re,this.dirty=!1}},$}(ke),Fe=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.BACK},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.cullFace(re),this.current=re,this.dirty=!1)},$}(ke),We=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.CCW},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.frontFace(re),this.current=re,this.dirty=!1)},$}(ke),Ze=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.useProgram(re),this.current=re,this.dirty=!1)},$}(ke),Ge=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return this.gl.TEXTURE0},$.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.activeTexture(re),this.current=re,this.dirty=!1)},$}(ke),Pe=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){var re=this.gl;return[0,0,re.drawingBufferWidth,re.drawingBufferHeight]},$.prototype.set=function(re){var xe=this.current;re[0]===xe[0]&&re[1]===xe[1]&&re[2]===xe[2]&&re[3]===xe[3]&&!this.dirty||(this.gl.viewport(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},$}(ke),Re=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;xe.bindFramebuffer(xe.FRAMEBUFFER,re),this.current=re,this.dirty=!1}},$}(ke),je=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;xe.bindRenderbuffer(xe.RENDERBUFFER,re),this.current=re,this.dirty=!1}},$}(ke),De=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;xe.bindTexture(xe.TEXTURE_2D,re),this.current=re,this.dirty=!1}},$}(ke),ge=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;xe.bindBuffer(xe.ARRAY_BUFFER,re),this.current=re,this.dirty=!1}},$}(ke),we=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){var xe=this.gl;xe.bindBuffer(xe.ELEMENT_ARRAY_BUFFER,re),this.current=re,this.dirty=!1},$}(ke),Ue=function(pe){function $(me){pe.call(this,me),this.vao=me.extVertexArrayObject}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$.prototype.set=function(re){!this.vao||re===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(re),this.current=re,this.dirty=!1)},$}(ke),et=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return 4},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_ALIGNMENT,re),this.current=re,this.dirty=!1}},$}(ke),st=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re),this.current=re,this.dirty=!1}},$}(ke),lt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return!1},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var xe=this.gl;xe.pixelStorei(xe.UNPACK_FLIP_Y_WEBGL,re),this.current=re,this.dirty=!1}},$}(ke),Wt=function(pe){function $(me,re){pe.call(this,me),this.context=me,this.parent=re}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getDefault=function(){return null},$}(ke),jt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.setDirty=function(){this.dirty=!0},$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var xe=this.gl;xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,re,0),this.current=re,this.dirty=!1}},$}(Wt),Tt=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var xe=this.gl;xe.framebufferRenderbuffer(xe.FRAMEBUFFER,xe.DEPTH_ATTACHMENT,xe.RENDERBUFFER,re),this.current=re,this.dirty=!1}},$}(Wt),Rt=function($,me,re,xe){this.context=$,this.width=me,this.height=re;var ze=$.gl,Ke=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new jt($,Ke),xe&&(this.depthAttachment=new Tt($,Ke))};Rt.prototype.destroy=function(){var $=this.context.gl,me=this.colorAttachment.get();if(me&&$.deleteTexture(me),this.depthAttachment){var re=this.depthAttachment.get();re&&$.deleteRenderbuffer(re)}$.deleteFramebuffer(this.framebuffer)};var Zt=519,mr=function($,me,re){this.func=$,this.mask=me,this.range=re};mr.ReadOnly=!1,mr.ReadWrite=!0,mr.disabled=new mr(Zt,mr.ReadOnly,[0,1]);var gt=519,Kt=7680,$t=function($,me,re,xe,ze,Ke){this.test=$,this.ref=me,this.mask=re,this.fail=xe,this.depthFail=ze,this.pass=Ke};$t.disabled=new $t({func:gt,mask:0},0,0,Kt,Kt,Kt);var br=0,lr=1,mt=771,ut=function($,me,re){this.blendFunction=$,this.blendColor=me,this.mask=re};ut.Replace=[lr,br],ut.disabled=new ut(ut.Replace,o.Color.transparent,[!1,!1,!1,!1]),ut.unblended=new ut(ut.Replace,o.Color.transparent,[!0,!0,!0,!0]),ut.alphaBlended=new ut([lr,mt],o.Color.transparent,[!0,!0,!0,!0]);var bt=1029,Et=2305,Dt=function($,me,re){this.enable=$,this.mode=me,this.frontFace=re};Dt.disabled=new Dt(!1,bt,Et),Dt.backCCW=new Dt(!0,bt,Et);var Yt=function($){this.gl=$,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Be(this),this.clearDepth=new Me(this),this.clearStencil=new Oe(this),this.colorMask=new _e(this),this.depthMask=new Ne(this),this.stencilMask=new Ce(this),this.stencilFunc=new Ye(this),this.stencilOp=new rt(this),this.stencilTest=new ot(this),this.depthRange=new $e(this),this.depthTest=new qe(this),this.depthFunc=new ht(this),this.blend=new vt(this),this.blendFunc=new pt(this),this.blendColor=new wt(this),this.blendEquation=new Mt(this),this.cullFace=new nt(this),this.cullFaceSide=new Fe(this),this.frontFace=new We(this),this.program=new Ze(this),this.activeTexture=new Ge(this),this.viewport=new Pe(this),this.bindFramebuffer=new Re(this),this.bindRenderbuffer=new je(this),this.bindTexture=new De(this),this.bindVertexBuffer=new ge(this),this.bindElementBuffer=new we(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ue(this),this.pixelStoreUnpack=new et(this),this.pixelStoreUnpackPremultiplyAlpha=new st(this),this.pixelStoreUnpackFlipY=new lt(this),this.extTextureFilterAnisotropic=$.getExtension("EXT_texture_filter_anisotropic")||$.getExtension("MOZ_EXT_texture_filter_anisotropic")||$.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=$.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=$.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&($.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=$.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=$.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=$.getParameter($.MAX_TEXTURE_SIZE)};Yt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Yt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Yt.prototype.createIndexBuffer=function($,me){return new Se(this,$,me)},Yt.prototype.createVertexBuffer=function($,me,re){return new Ie(this,$,me,re)},Yt.prototype.createRenderbuffer=function($,me,re){var xe=this.gl,ze=xe.createRenderbuffer();return this.bindRenderbuffer.set(ze),xe.renderbufferStorage(xe.RENDERBUFFER,$,me,re),this.bindRenderbuffer.set(null),ze},Yt.prototype.createFramebuffer=function($,me,re){return new Rt(this,$,me,re)},Yt.prototype.clear=function($){var me=$.color,re=$.depth,xe=this.gl,ze=0;me&&(ze|=xe.COLOR_BUFFER_BIT,this.clearColor.set(me),this.colorMask.set([!0,!0,!0,!0])),typeof re<"u"&&(ze|=xe.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(re),this.depthMask.set(!0)),xe.clear(ze)},Yt.prototype.setCullFace=function($){$.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set($.mode),this.frontFace.set($.frontFace))},Yt.prototype.setDepthMode=function($){$.func===this.gl.ALWAYS&&!$.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set($.func),this.depthMask.set($.mask),this.depthRange.set($.range))},Yt.prototype.setStencilMode=function($){$.test.func===this.gl.ALWAYS&&!$.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set($.mask),this.stencilOp.set([$.fail,$.depthFail,$.pass]),this.stencilFunc.set({func:$.test.func,ref:$.ref,mask:$.test.mask}))},Yt.prototype.setColorMode=function($){o.deepEqual($.blendFunction,ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set($.blendFunction),this.blendColor.set($.blendColor)),this.colorMask.set($.mask)},Yt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(pe){function $(me,re,xe){var ze=this;pe.call(this),this.id=me,this.dispatcher=xe,this.on("data",function(Ke){Ke.dataType==="source"&&Ke.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Ke.dataType==="source"&&Ke.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=q(me,re,xe,this),this._tiles={},this._cache=new be(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new o.SourceFeatureState}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(re){this.map=re,this._maxTileCacheSize=re?re._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(re)},$.prototype.onRemove=function(re){this._source&&this._source.onRemove&&this._source.onRemove(re)},$.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var re in this._tiles){var xe=this._tiles[re];if(xe.state!=="loaded"&&xe.state!=="errored")return!1}return!0},$.prototype.getSource=function(){return this._source},$.prototype.pause=function(){this._paused=!0},$.prototype.resume=function(){if(this._paused){var re=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,re&&this.reload(),this.transform&&this.update(this.transform)}},$.prototype._loadTile=function(re,xe){return this._source.loadTile(re,xe)},$.prototype._unloadTile=function(re){if(this._source.unloadTile)return this._source.unloadTile(re,function(){})},$.prototype._abortTile=function(re){if(this._source.abortTile)return this._source.abortTile(re,function(){})},$.prototype.serialize=function(){return this._source.serialize()},$.prototype.prepare=function(re){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var xe in this._tiles){var ze=this._tiles[xe];ze.upload(re),ze.prepare(this.map.style.imageManager)}},$.prototype.getIds=function(){return o.values(this._tiles).map(function(re){return re.tileID}).sort(Ut).map(function(re){return re.key})},$.prototype.getRenderableIds=function(re){var xe=this,ze=[];for(var Ke in this._tiles)this._isIdRenderable(Ke,re)&&ze.push(this._tiles[Ke]);return re?ze.sort(function(ft,_t){var Vt=ft.tileID,qt=_t.tileID,fr=new o.Point(Vt.canonical.x,Vt.canonical.y)._rotate(xe.transform.angle),sr=new o.Point(qt.canonical.x,qt.canonical.y)._rotate(xe.transform.angle);return Vt.overscaledZ-qt.overscaledZ||sr.y-fr.y||sr.x-fr.x}).map(function(ft){return ft.tileID.key}):ze.map(function(ft){return ft.tileID}).sort(Ut).map(function(ft){return ft.key})},$.prototype.hasRenderableParent=function(re){var xe=this.findLoadedParent(re,0);return xe?this._isIdRenderable(xe.tileID.key):!1},$.prototype._isIdRenderable=function(re,xe){return this._tiles[re]&&this._tiles[re].hasData()&&!this._coveredTiles[re]&&(xe||!this._tiles[re].holdingForFade())},$.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var re in this._tiles)this._tiles[re].state!=="errored"&&this._reloadTile(re,"reloading")},$.prototype._reloadTile=function(re,xe){var ze=this._tiles[re];ze&&(ze.state!=="loading"&&(ze.state=xe),this._loadTile(ze,this._tileLoaded.bind(this,ze,re,xe)))},$.prototype._tileLoaded=function(re,xe,ze,Ke){if(Ke){re.state="errored",Ke.status!==404?this._source.fire(new o.ErrorEvent(Ke,{tile:re})):this.update(this.transform);return}re.timeAdded=o.browser.now(),ze==="expired"&&(re.refreshedUponExpiration=!0),this._setTileReloadTimer(xe,re),this.getSource().type==="raster-dem"&&re.dem&&this._backfillDEM(re),this._state.initializeTileState(re,this.map?this.map.painter:null),this._source.fire(new o.Event("data",{dataType:"source",tile:re,coord:re.tileID}))},$.prototype._backfillDEM=function(re){for(var xe=this.getRenderableIds(),ze=0;ze<xe.length;ze++){var Ke=xe[ze];if(re.neighboringTiles&&re.neighboringTiles[Ke]){var ft=this.getTileByID(Ke);_t(re,ft),_t(ft,re)}}function _t(Vt,qt){Vt.needsHillshadePrepare=!0;var fr=qt.tileID.canonical.x-Vt.tileID.canonical.x,sr=qt.tileID.canonical.y-Vt.tileID.canonical.y,kr=Math.pow(2,Vt.tileID.canonical.z),Kr=qt.tileID.key;fr===0&&sr===0||Math.abs(sr)>1||(Math.abs(fr)>1&&(Math.abs(fr+kr)===1?fr+=kr:Math.abs(fr-kr)===1&&(fr-=kr)),!(!qt.dem||!Vt.dem)&&(Vt.dem.backfillBorder(qt.dem,fr,sr),Vt.neighboringTiles&&Vt.neighboringTiles[Kr]&&(Vt.neighboringTiles[Kr].backfilled=!0)))}},$.prototype.getTile=function(re){return this.getTileByID(re.key)},$.prototype.getTileByID=function(re){return this._tiles[re]},$.prototype._retainLoadedChildren=function(re,xe,ze,Ke){for(var ft in this._tiles){var _t=this._tiles[ft];if(!(Ke[ft]||!_t.hasData()||_t.tileID.overscaledZ<=xe||_t.tileID.overscaledZ>ze)){for(var Vt=_t.tileID;_t&&_t.tileID.overscaledZ>xe+1;){var qt=_t.tileID.scaledTo(_t.tileID.overscaledZ-1);_t=this._tiles[qt.key],_t&&_t.hasData()&&(Vt=qt)}for(var fr=Vt;fr.overscaledZ>xe;)if(fr=fr.scaledTo(fr.overscaledZ-1),re[fr.key]){Ke[Vt.key]=Vt;break}}}},$.prototype.findLoadedParent=function(re,xe){if(re.key in this._loadedParentTiles){var ze=this._loadedParentTiles[re.key];return ze&&ze.tileID.overscaledZ>=xe?ze:null}for(var Ke=re.overscaledZ-1;Ke>=xe;Ke--){var ft=re.scaledTo(Ke),_t=this._getLoadedTile(ft);if(_t)return _t}},$.prototype._getLoadedTile=function(re){var xe=this._tiles[re.key];if(xe&&xe.hasData())return xe;var ze=this._cache.getByKey(re.wrapped().key);return ze},$.prototype.updateCacheSize=function(re){var xe=Math.ceil(re.width/this._source.tileSize)+1,ze=Math.ceil(re.height/this._source.tileSize)+1,Ke=xe*ze,ft=5,_t=Math.floor(Ke*ft),Vt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_t):_t;this._cache.setMaxSize(Vt)},$.prototype.handleWrapJump=function(re){var xe=this._prevLng===void 0?re:this._prevLng,ze=re-xe,Ke=ze/360,ft=Math.round(Ke);if(this._prevLng=re,ft){var _t={};for(var Vt in this._tiles){var qt=this._tiles[Vt];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ft),_t[qt.tileID.key]=qt}this._tiles=_t;for(var fr in this._timers)clearTimeout(this._timers[fr]),delete this._timers[fr];for(var sr in this._tiles){var kr=this._tiles[sr];this._setTileReloadTimer(sr,kr)}}},$.prototype.update=function(re){var xe=this;if(this.transform=re,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(re),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=re.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(va){return new o.OverscaledTileID(va.canonical.z,va.wrap,va.canonical.z,va.canonical.x,va.canonical.y)}):(ze=re.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(va){return xe._source.hasTile(va)}))):ze=[];var Ke=re.coveringZoomLevel(this._source),ft=Math.max(Ke-$.maxOverzooming,this._source.minzoom),_t=Math.max(Ke+$.maxUnderzooming,this._source.minzoom),Vt=this._updateRetainedTiles(ze,Ke);if(Jt(this._source.type)){for(var qt={},fr={},sr=Object.keys(Vt),kr=0,Kr=sr;kr<Kr.length;kr+=1){var jr=Kr[kr],Xr=Vt[jr],en=this._tiles[jr];if(!(!en||en.fadeEndTime&&en.fadeEndTime<=o.browser.now())){var yn=this.findLoadedParent(Xr,ft);yn&&(this._addTile(yn.tileID),qt[yn.tileID.key]=yn.tileID),fr[jr]=Xr}}this._retainLoadedChildren(fr,Ke,_t,Vt);for(var Fn in qt)Vt[Fn]||(this._coveredTiles[Fn]=!0,Vt[Fn]=qt[Fn])}for(var Yn in Vt)this._tiles[Yn].clearFadeHold();for(var Jn=o.keysDifference(this._tiles,Vt),Qn=0,jn=Jn;Qn<jn.length;Qn+=1){var qn=jn[Qn],sa=this._tiles[qn];sa.hasSymbolBuckets&&!sa.holdingForFade()?sa.setHoldDuration(this.map._fadeDuration):(!sa.hasSymbolBuckets||sa.symbolFadeFinished())&&this._removeTile(qn)}this._updateLoadedParentTileCache()}},$.prototype.releaseSymbolFadeTiles=function(){for(var re in this._tiles)this._tiles[re].holdingForFade()&&this._removeTile(re)},$.prototype._updateRetainedTiles=function(re,xe){for(var ze={},Ke={},ft=Math.max(xe-$.maxOverzooming,this._source.minzoom),_t=Math.max(xe+$.maxUnderzooming,this._source.minzoom),Vt={},qt=0,fr=re;qt<fr.length;qt+=1){var sr=fr[qt],kr=this._addTile(sr);ze[sr.key]=sr,!kr.hasData()&&xe<this._source.maxzoom&&(Vt[sr.key]=sr)}this._retainLoadedChildren(Vt,xe,_t,ze);for(var Kr=0,jr=re;Kr<jr.length;Kr+=1){var Xr=jr[Kr],en=this._tiles[Xr.key];if(!en.hasData()){if(xe+1>this._source.maxzoom){var yn=Xr.children(this._source.maxzoom)[0],Fn=this.getTile(yn);if(Fn&&Fn.hasData()){ze[yn.key]=yn;continue}}else{var Yn=Xr.children(this._source.maxzoom);if(ze[Yn[0].key]&&ze[Yn[1].key]&&ze[Yn[2].key]&&ze[Yn[3].key])continue}for(var Jn=en.wasRequested(),Qn=Xr.overscaledZ-1;Qn>=ft;--Qn){var jn=Xr.scaledTo(Qn);if(Ke[jn.key]||(Ke[jn.key]=!0,en=this.getTile(jn),!en&&Jn&&(en=this._addTile(jn)),en&&(ze[jn.key]=jn,Jn=en.wasRequested(),en.hasData())))break}}}return ze},$.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var re in this._tiles){for(var xe=[],ze=void 0,Ke=this._tiles[re].tileID;Ke.overscaledZ>0;){if(Ke.key in this._loadedParentTiles){ze=this._loadedParentTiles[Ke.key];break}xe.push(Ke.key);var ft=Ke.scaledTo(Ke.overscaledZ-1);if(ze=this._getLoadedTile(ft),ze)break;Ke=ft}for(var _t=0,Vt=xe;_t<Vt.length;_t+=1){var qt=Vt[_t];this._loadedParentTiles[qt]=ze}}},$.prototype._addTile=function(re){var xe=this._tiles[re.key];if(xe)return xe;xe=this._cache.getAndRemove(re),xe&&(this._setTileReloadTimer(re.key,xe),xe.tileID=re,this._state.initializeTileState(xe,this.map?this.map.painter:null),this._cacheTimers[re.key]&&(clearTimeout(this._cacheTimers[re.key]),delete this._cacheTimers[re.key],this._setTileReloadTimer(re.key,xe)));var ze=!!xe;return ze||(xe=new o.Tile(re,this._source.tileSize*re.overscaleFactor()),this._loadTile(xe,this._tileLoaded.bind(this,xe,re.key,xe.state))),xe?(xe.uses++,this._tiles[re.key]=xe,ze||this._source.fire(new o.Event("dataloading",{tile:xe,coord:xe.tileID,dataType:"source"})),xe):null},$.prototype._setTileReloadTimer=function(re,xe){var ze=this;re in this._timers&&(clearTimeout(this._timers[re]),delete this._timers[re]);var Ke=xe.getExpiryTimeout();Ke&&(this._timers[re]=setTimeout(function(){ze._reloadTile(re,"expired"),delete ze._timers[re]},Ke))},$.prototype._removeTile=function(re){var xe=this._tiles[re];xe&&(xe.uses--,delete this._tiles[re],this._timers[re]&&(clearTimeout(this._timers[re]),delete this._timers[re]),!(xe.uses>0)&&(xe.hasData()&&xe.state!=="reloading"?this._cache.add(xe.tileID,xe,xe.getExpiryTimeout()):(xe.aborted=!0,this._abortTile(xe),this._unloadTile(xe))))},$.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var re in this._tiles)this._removeTile(re);this._cache.reset()},$.prototype.tilesIn=function(re,xe,ze){var Ke=this,ft=[],_t=this.transform;if(!_t)return ft;for(var Vt=ze?_t.getCameraQueryGeometry(re):re,qt=re.map(function(Qn){return _t.pointCoordinate(Qn)}),fr=Vt.map(function(Qn){return _t.pointCoordinate(Qn)}),sr=this.getIds(),kr=1/0,Kr=1/0,jr=-1/0,Xr=-1/0,en=0,yn=fr;en<yn.length;en+=1){var Fn=yn[en];kr=Math.min(kr,Fn.x),Kr=Math.min(Kr,Fn.y),jr=Math.max(jr,Fn.x),Xr=Math.max(Xr,Fn.y)}for(var Yn=function(Qn){var jn=Ke._tiles[sr[Qn]];if(!jn.holdingForFade()){var qn=jn.tileID,sa=Math.pow(2,_t.zoom-jn.tileID.overscaledZ),va=xe*jn.queryPadding*o.EXTENT/jn.tileSize/sa,Aa=[qn.getTilePoint(new o.MercatorCoordinate(kr,Kr)),qn.getTilePoint(new o.MercatorCoordinate(jr,Xr))];if(Aa[0].x-va<o.EXTENT&&Aa[0].y-va<o.EXTENT&&Aa[1].x+va>=0&&Aa[1].y+va>=0){var ma=qt.map(function(hi){return qn.getTilePoint(hi)}),Va=fr.map(function(hi){return qn.getTilePoint(hi)});ft.push({tile:jn,tileID:qn,queryGeometry:ma,cameraQueryGeometry:Va,scale:sa})}}},Jn=0;Jn<sr.length;Jn++)Yn(Jn);return ft},$.prototype.getVisibleCoordinates=function(re){for(var xe=this,ze=this.getRenderableIds(re).map(function(Vt){return xe._tiles[Vt].tileID}),Ke=0,ft=ze;Ke<ft.length;Ke+=1){var _t=ft[Ke];_t.posMatrix=this.transform.calculatePosMatrix(_t.toUnwrapped())}return ze},$.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Jt(this._source.type))for(var re in this._tiles){var xe=this._tiles[re];if(xe.fadeEndTime!==void 0&&xe.fadeEndTime>=o.browser.now())return!0}return!1},$.prototype.setFeatureState=function(re,xe,ze){re=re||"_geojsonTileLayer",this._state.updateState(re,xe,ze)},$.prototype.removeFeatureState=function(re,xe,ze){re=re||"_geojsonTileLayer",this._state.removeFeatureState(re,xe,ze)},$.prototype.getFeatureState=function(re,xe){return re=re||"_geojsonTileLayer",this._state.getState(re,xe)},$.prototype.setDependencies=function(re,xe,ze){var Ke=this._tiles[re];Ke&&Ke.setDependencies(xe,ze)},$.prototype.reloadTilesForDependencies=function(re,xe){for(var ze in this._tiles){var Ke=this._tiles[ze];Ke.hasDependency(re,xe)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(ft){return!ft.hasDependency(re,xe)})},$}(o.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Ut(pe,$){var me=Math.abs(pe.wrap*2)-+(pe.wrap<0),re=Math.abs($.wrap*2)-+($.wrap<0);return pe.overscaledZ-$.overscaledZ||re-me||$.canonical.y-pe.canonical.y||$.canonical.x-pe.canonical.x}function Jt(pe){return pe==="raster"||pe==="image"||pe==="video"}function hr(){return new o.window.Worker(No.workerUrl)}var vr="mapboxgl_preloaded_worker_pool",gr=function(){this.active={}};gr.prototype.acquire=function($){if(!this.workers)for(this.workers=[];this.workers.length<gr.workerCount;)this.workers.push(new hr);return this.active[$]=!0,this.workers.slice()},gr.prototype.release=function($){delete this.active[$],this.numActive()===0&&(this.workers.forEach(function(me){me.terminate()}),this.workers=null)},gr.prototype.isPreloaded=function(){return!!this.active[vr]},gr.prototype.numActive=function(){return Object.keys(this.active).length};var Xe=Math.floor(o.browser.hardwareConcurrency/2);gr.workerCount=Math.max(Math.min(Xe,6),1);var He;function Nt(){return He||(He=new gr),He}function Pt(){var pe=Nt();pe.acquire(vr)}function Qt(){var pe=He;pe&&(pe.isPreloaded()&&pe.numActive()===1?(pe.release(vr),He=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function ur(pe,$){var me={};for(var re in pe)re!=="ref"&&(me[re]=pe[re]);return o.refProperties.forEach(function(xe){xe in $&&(me[xe]=$[xe])}),me}function cr(pe){pe=pe.slice();for(var $=Object.create(null),me=0;me<pe.length;me++)$[pe[me].id]=pe[me];for(var re=0;re<pe.length;re++)"ref"in pe[re]&&(pe[re]=ur(pe[re],$[pe[re].ref]));return pe}function tr(){var pe={},$=o.styleSpec.$version;for(var me in o.styleSpec.$root){var re=o.styleSpec.$root[me];if(re.required){var xe=null;me==="version"?xe=$:re.type==="array"?xe=[]:xe={},xe!=null&&(pe[me]=xe)}}return pe}var zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function or(pe,$,me){me.push({command:zt.addSource,args:[pe,$[pe]]})}function dr(pe,$,me){$.push({command:zt.removeSource,args:[pe]}),me[pe]=!0}function wr(pe,$,me,re){dr(pe,me,re),or(pe,$,me)}function pr(pe,$,me){var re;for(re in pe[me])if(pe[me].hasOwnProperty(re)&&re!=="data"&&!o.deepEqual(pe[me][re],$[me][re]))return!1;for(re in $[me])if($[me].hasOwnProperty(re)&&re!=="data"&&!o.deepEqual(pe[me][re],$[me][re]))return!1;return!0}function Wr(pe,$,me,re){pe=pe||{},$=$||{};var xe;for(xe in pe)pe.hasOwnProperty(xe)&&($.hasOwnProperty(xe)||dr(xe,me,re));for(xe in $)$.hasOwnProperty(xe)&&(pe.hasOwnProperty(xe)?o.deepEqual(pe[xe],$[xe])||(pe[xe].type==="geojson"&&$[xe].type==="geojson"&&pr(pe,$,xe)?me.push({command:zt.setGeoJSONSourceData,args:[xe,$[xe].data]}):wr(xe,$,me,re)):or(xe,$,me))}function Pr(pe,$,me,re,xe,ze){pe=pe||{},$=$||{};var Ke;for(Ke in pe)pe.hasOwnProperty(Ke)&&(o.deepEqual(pe[Ke],$[Ke])||me.push({command:ze,args:[re,Ke,$[Ke],xe]}));for(Ke in $)!$.hasOwnProperty(Ke)||pe.hasOwnProperty(Ke)||o.deepEqual(pe[Ke],$[Ke])||me.push({command:ze,args:[re,Ke,$[Ke],xe]})}function Ir(pe){return pe.id}function ln(pe,$){return pe[$.id]=$,pe}function an(pe,$,me){pe=pe||[],$=$||[];var re=pe.map(Ir),xe=$.map(Ir),ze=pe.reduce(ln,{}),Ke=$.reduce(ln,{}),ft=re.slice(),_t=Object.create(null),Vt,qt,fr,sr,kr,Kr,jr;for(Vt=0,qt=0;Vt<re.length;Vt++)fr=re[Vt],Ke.hasOwnProperty(fr)?qt++:(me.push({command:zt.removeLayer,args:[fr]}),ft.splice(ft.indexOf(fr,qt),1));for(Vt=0,qt=0;Vt<xe.length;Vt++)fr=xe[xe.length-1-Vt],ft[ft.length-1-Vt]!==fr&&(ze.hasOwnProperty(fr)?(me.push({command:zt.removeLayer,args:[fr]}),ft.splice(ft.lastIndexOf(fr,ft.length-qt),1)):qt++,Kr=ft[ft.length-Vt],me.push({command:zt.addLayer,args:[Ke[fr],Kr]}),ft.splice(ft.length-Vt,0,fr),_t[fr]=!0);for(Vt=0;Vt<xe.length;Vt++)if(fr=xe[Vt],sr=ze[fr],kr=Ke[fr],!(_t[fr]||o.deepEqual(sr,kr))){if(!o.deepEqual(sr.source,kr.source)||!o.deepEqual(sr["source-layer"],kr["source-layer"])||!o.deepEqual(sr.type,kr.type)){me.push({command:zt.removeLayer,args:[fr]}),Kr=ft[ft.lastIndexOf(fr)+1],me.push({command:zt.addLayer,args:[kr,Kr]});continue}Pr(sr.layout,kr.layout,me,fr,null,zt.setLayoutProperty),Pr(sr.paint,kr.paint,me,fr,null,zt.setPaintProperty),o.deepEqual(sr.filter,kr.filter)||me.push({command:zt.setFilter,args:[fr,kr.filter]}),(!o.deepEqual(sr.minzoom,kr.minzoom)||!o.deepEqual(sr.maxzoom,kr.maxzoom))&&me.push({command:zt.setLayerZoomRange,args:[fr,kr.minzoom,kr.maxzoom]});for(jr in sr)sr.hasOwnProperty(jr)&&(jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Pr(sr[jr],kr[jr],me,fr,jr.slice(6),zt.setPaintProperty):o.deepEqual(sr[jr],kr[jr])||me.push({command:zt.setLayerProperty,args:[fr,jr,kr[jr]]})));for(jr in kr)!kr.hasOwnProperty(jr)||sr.hasOwnProperty(jr)||jr==="layout"||jr==="paint"||jr==="filter"||jr==="metadata"||jr==="minzoom"||jr==="maxzoom"||(jr.indexOf("paint.")===0?Pr(sr[jr],kr[jr],me,fr,jr.slice(6),zt.setPaintProperty):o.deepEqual(sr[jr],kr[jr])||me.push({command:zt.setLayerProperty,args:[fr,jr,kr[jr]]}))}}function _n(pe,$){if(!pe)return[{command:zt.setStyle,args:[$]}];var me=[];try{if(!o.deepEqual(pe.version,$.version))return[{command:zt.setStyle,args:[$]}];o.deepEqual(pe.center,$.center)||me.push({command:zt.setCenter,args:[$.center]}),o.deepEqual(pe.zoom,$.zoom)||me.push({command:zt.setZoom,args:[$.zoom]}),o.deepEqual(pe.bearing,$.bearing)||me.push({command:zt.setBearing,args:[$.bearing]}),o.deepEqual(pe.pitch,$.pitch)||me.push({command:zt.setPitch,args:[$.pitch]}),o.deepEqual(pe.sprite,$.sprite)||me.push({command:zt.setSprite,args:[$.sprite]}),o.deepEqual(pe.glyphs,$.glyphs)||me.push({command:zt.setGlyphs,args:[$.glyphs]}),o.deepEqual(pe.transition,$.transition)||me.push({command:zt.setTransition,args:[$.transition]}),o.deepEqual(pe.light,$.light)||me.push({command:zt.setLight,args:[$.light]});var re={},xe=[];Wr(pe.sources,$.sources,xe,re);var ze=[];pe.layers&&pe.layers.forEach(function(Ke){re[Ke.source]?me.push({command:zt.removeLayer,args:[Ke.id]}):ze.push(Ke)}),me=me.concat(xe),an(ze,$.layers,me)}catch(Ke){console.warn("Unable to compute style diff:",Ke),me=[{command:zt.setStyle,args:[$]}]}return me}var Mn=function($,me){this.reset($,me)};Mn.prototype.reset=function($,me){this.points=$||[],this._distances=[0];for(var re=1;re<this.points.length;re++)this._distances[re]=this._distances[re-1]+this.points[re].dist(this.points[re-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(me||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Mn.prototype.lerp=function($){if(this.points.length===1)return this.points[0];$=o.clamp($,0,1);for(var me=1,re=this._distances[me],xe=$*this.paddedLength+this.padding;re<xe&&me<this._distances.length;)re=this._distances[++me];var ze=me-1,Ke=this._distances[ze],ft=re-Ke,_t=ft>0?(xe-Ke)/ft:0;return this.points[ze].mult(1-_t).add(this.points[me].mult(_t))};var Sr=function($,me,re){var xe=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil($/re),this.yCellCount=Math.ceil(me/re);for(var Ke=0;Ke<this.xCellCount*this.yCellCount;Ke++)xe.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=$,this.height=me,this.xScale=this.xCellCount/$,this.yScale=this.yCellCount/me,this.boxUid=0,this.circleUid=0};Sr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Sr.prototype.insert=function($,me,re,xe,ze){this._forEachCell(me,re,xe,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push($),this.bboxes.push(me),this.bboxes.push(re),this.bboxes.push(xe),this.bboxes.push(ze)},Sr.prototype.insertCircle=function($,me,re,xe){this._forEachCell(me-xe,re-xe,me+xe,re+xe,this._insertCircleCell,this.circleUid++),this.circleKeys.push($),this.circles.push(me),this.circles.push(re),this.circles.push(xe)},Sr.prototype._insertBoxCell=function($,me,re,xe,ze,Ke){this.boxCells[ze].push(Ke)},Sr.prototype._insertCircleCell=function($,me,re,xe,ze,Ke){this.circleCells[ze].push(Ke)},Sr.prototype._query=function($,me,re,xe,ze,Ke){if(re<0||$>this.width||xe<0||me>this.height)return ze?!1:[];var ft=[];if($<=0&&me<=0&&this.width<=re&&this.height<=xe){if(ze)return!0;for(var _t=0;_t<this.boxKeys.length;_t++)ft.push({key:this.boxKeys[_t],x1:this.bboxes[_t*4],y1:this.bboxes[_t*4+1],x2:this.bboxes[_t*4+2],y2:this.bboxes[_t*4+3]});for(var Vt=0;Vt<this.circleKeys.length;Vt++){var qt=this.circles[Vt*3],fr=this.circles[Vt*3+1],sr=this.circles[Vt*3+2];ft.push({key:this.circleKeys[Vt],x1:qt-sr,y1:fr-sr,x2:qt+sr,y2:fr+sr})}return Ke?ft.filter(Ke):ft}else{var kr={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell($,me,re,xe,this._queryCell,ft,kr,Ke),ze?ft.length>0:ft}},Sr.prototype._queryCircle=function($,me,re,xe,ze){var Ke=$-re,ft=$+re,_t=me-re,Vt=me+re;if(ft<0||Ke>this.width||Vt<0||_t>this.height)return xe?!1:[];var qt=[],fr={hitTest:xe,circle:{x:$,y:me,radius:re},seenUids:{box:{},circle:{}}};return this._forEachCell(Ke,_t,ft,Vt,this._queryCellCircle,qt,fr,ze),xe?qt.length>0:qt},Sr.prototype.query=function($,me,re,xe,ze){return this._query($,me,re,xe,!1,ze)},Sr.prototype.hitTest=function($,me,re,xe,ze){return this._query($,me,re,xe,!0,ze)},Sr.prototype.hitTestCircle=function($,me,re,xe){return this._queryCircle($,me,re,!0,xe)},Sr.prototype._queryCell=function($,me,re,xe,ze,Ke,ft,_t){var Vt=ft.seenUids,qt=this.boxCells[ze];if(qt!==null)for(var fr=this.bboxes,sr=0,kr=qt;sr<kr.length;sr+=1){var Kr=kr[sr];if(!Vt.box[Kr]){Vt.box[Kr]=!0;var jr=Kr*4;if($<=fr[jr+2]&&me<=fr[jr+3]&&re>=fr[jr+0]&&xe>=fr[jr+1]&&(!_t||_t(this.boxKeys[Kr]))){if(ft.hitTest)return Ke.push(!0),!0;Ke.push({key:this.boxKeys[Kr],x1:fr[jr],y1:fr[jr+1],x2:fr[jr+2],y2:fr[jr+3]})}}}var Xr=this.circleCells[ze];if(Xr!==null)for(var en=this.circles,yn=0,Fn=Xr;yn<Fn.length;yn+=1){var Yn=Fn[yn];if(!Vt.circle[Yn]){Vt.circle[Yn]=!0;var Jn=Yn*3;if(this._circleAndRectCollide(en[Jn],en[Jn+1],en[Jn+2],$,me,re,xe)&&(!_t||_t(this.circleKeys[Yn]))){if(ft.hitTest)return Ke.push(!0),!0;var Qn=en[Jn],jn=en[Jn+1],qn=en[Jn+2];Ke.push({key:this.circleKeys[Yn],x1:Qn-qn,y1:jn-qn,x2:Qn+qn,y2:jn+qn})}}}},Sr.prototype._queryCellCircle=function($,me,re,xe,ze,Ke,ft,_t){var Vt=ft.circle,qt=ft.seenUids,fr=this.boxCells[ze];if(fr!==null)for(var sr=this.bboxes,kr=0,Kr=fr;kr<Kr.length;kr+=1){var jr=Kr[kr];if(!qt.box[jr]){qt.box[jr]=!0;var Xr=jr*4;if(this._circleAndRectCollide(Vt.x,Vt.y,Vt.radius,sr[Xr+0],sr[Xr+1],sr[Xr+2],sr[Xr+3])&&(!_t||_t(this.boxKeys[jr])))return Ke.push(!0),!0}}var en=this.circleCells[ze];if(en!==null)for(var yn=this.circles,Fn=0,Yn=en;Fn<Yn.length;Fn+=1){var Jn=Yn[Fn];if(!qt.circle[Jn]){qt.circle[Jn]=!0;var Qn=Jn*3;if(this._circlesCollide(yn[Qn],yn[Qn+1],yn[Qn+2],Vt.x,Vt.y,Vt.radius)&&(!_t||_t(this.circleKeys[Jn])))return Ke.push(!0),!0}}},Sr.prototype._forEachCell=function($,me,re,xe,ze,Ke,ft,_t){for(var Vt=this._convertToXCellCoord($),qt=this._convertToYCellCoord(me),fr=this._convertToXCellCoord(re),sr=this._convertToYCellCoord(xe),kr=Vt;kr<=fr;kr++)for(var Kr=qt;Kr<=sr;Kr++){var jr=this.xCellCount*Kr+kr;if(ze.call(this,$,me,re,xe,jr,Ke,ft,_t))return}},Sr.prototype._convertToXCellCoord=function($){return Math.max(0,Math.min(this.xCellCount-1,Math.floor($*this.xScale)))},Sr.prototype._convertToYCellCoord=function($){return Math.max(0,Math.min(this.yCellCount-1,Math.floor($*this.yScale)))},Sr.prototype._circlesCollide=function($,me,re,xe,ze,Ke){var ft=xe-$,_t=ze-me,Vt=re+Ke;return Vt*Vt>ft*ft+_t*_t},Sr.prototype._circleAndRectCollide=function($,me,re,xe,ze,Ke,ft){var _t=(Ke-xe)/2,Vt=Math.abs($-(xe+_t));if(Vt>_t+re)return!1;var qt=(ft-ze)/2,fr=Math.abs(me-(ze+qt));if(fr>qt+re)return!1;if(Vt<=_t||fr<=qt)return!0;var sr=Vt-_t,kr=fr-qt;return sr*sr+kr*kr<=re*re};function Nr(pe,$,me,re,xe){var ze=o.create();return $?(o.scale(ze,ze,[1/xe,1/xe,1]),me||o.rotateZ(ze,ze,re.angle)):o.multiply(ze,re.labelPlaneMatrix,pe),ze}function Zr(pe,$,me,re,xe){if($){var ze=o.clone(pe);return o.scale(ze,ze,[xe,xe,1]),me||o.rotateZ(ze,ze,-re.angle),ze}else return re.glCoordMatrix}function Fr(pe,$){var me=[pe.x,pe.y,0,1];xr(me,me,$);var re=me[3];return{point:new o.Point(me[0]/re,me[1]/re),signedDistanceFromCamera:re}}function cn(pe,$){return .5+.5*(pe/$)}function vn(pe,$){var me=pe[0]/pe[3],re=pe[1]/pe[3],xe=me>=-$[0]&&me<=$[0]&&re>=-$[1]&&re<=$[1];return xe}function Cn(pe,$,me,re,xe,ze,Ke,ft){var _t=re?pe.textSizeData:pe.iconSizeData,Vt=o.evaluateSizeForZoom(_t,me.transform.zoom),qt=[256/me.width*2+1,256/me.height*2+1],fr=re?pe.text.dynamicLayoutVertexArray:pe.icon.dynamicLayoutVertexArray;fr.clear();for(var sr=pe.lineVertexArray,kr=re?pe.text.placedSymbolArray:pe.icon.placedSymbolArray,Kr=me.transform.width/me.transform.height,jr=!1,Xr=0;Xr<kr.length;Xr++){var en=kr.get(Xr);if(en.hidden||en.writingMode===o.WritingMode.vertical&&!jr){ea(en.numGlyphs,fr);continue}jr=!1;var yn=[en.anchorX,en.anchorY,0,1];if(o.transformMat4(yn,yn,$),!vn(yn,qt)){ea(en.numGlyphs,fr);continue}var Fn=yn[3],Yn=cn(me.transform.cameraToCenterDistance,Fn),Jn=o.evaluateSizeForFeature(_t,Vt,en),Qn=Ke?Jn/Yn:Jn*Yn,jn=new o.Point(en.anchorX,en.anchorY),qn=Fr(jn,xe).point,sa={},va=ua(en,Qn,!1,ft,$,xe,ze,pe.glyphOffsetArray,sr,fr,qn,jn,sa,Kr);jr=va.useVertical,(va.notEnoughRoom||jr||va.needsFlipping&&ua(en,Qn,!0,ft,$,xe,ze,pe.glyphOffsetArray,sr,fr,qn,jn,sa,Kr).notEnoughRoom)&&ea(en.numGlyphs,fr)}re?pe.text.dynamicLayoutVertexBuffer.updateData(fr):pe.icon.dynamicLayoutVertexBuffer.updateData(fr)}function Rn(pe,$,me,re,xe,ze,Ke,ft,_t,Vt,qt){var fr=ft.glyphStartIndex+ft.numGlyphs,sr=ft.lineStartIndex,kr=ft.lineStartIndex+ft.lineLength,Kr=$.getoffsetX(ft.glyphStartIndex),jr=$.getoffsetX(fr-1),Xr=Ma(pe*Kr,me,re,xe,ze,Ke,ft.segment,sr,kr,_t,Vt,qt);if(!Xr)return null;var en=Ma(pe*jr,me,re,xe,ze,Ke,ft.segment,sr,kr,_t,Vt,qt);return en?{first:Xr,last:en}:null}function Gn(pe,$,me,re){if(pe===o.WritingMode.horizontal){var xe=Math.abs(me.y-$.y),ze=Math.abs(me.x-$.x)*re;if(xe>ze)return{useVertical:!0}}return(pe===o.WritingMode.vertical?$.y<me.y:$.x>me.x)?{needsFlipping:!0}:null}function ua(pe,$,me,re,xe,ze,Ke,ft,_t,Vt,qt,fr,sr,kr){var Kr=$/24,jr=pe.lineOffsetX*Kr,Xr=pe.lineOffsetY*Kr,en;if(pe.numGlyphs>1){var yn=pe.glyphStartIndex+pe.numGlyphs,Fn=pe.lineStartIndex,Yn=pe.lineStartIndex+pe.lineLength,Jn=Rn(Kr,ft,jr,Xr,me,qt,fr,pe,_t,ze,sr);if(!Jn)return{notEnoughRoom:!0};var Qn=Fr(Jn.first.point,Ke).point,jn=Fr(Jn.last.point,Ke).point;if(re&&!me){var qn=Gn(pe.writingMode,Qn,jn,kr);if(qn)return qn}en=[Jn.first];for(var sa=pe.glyphStartIndex+1;sa<yn-1;sa++)en.push(Ma(Kr*ft.getoffsetX(sa),jr,Xr,me,qt,fr,pe.segment,Fn,Yn,_t,ze,sr));en.push(Jn.last)}else{if(re&&!me){var va=Fr(fr,xe).point,Aa=pe.lineStartIndex+pe.segment+1,ma=new o.Point(_t.getx(Aa),_t.gety(Aa)),Va=Fr(ma,xe),hi=Va.signedDistanceFromCamera>0?Va.point:wa(fr,ma,va,1,xe),ri=Gn(pe.writingMode,va,hi,kr);if(ri)return ri}var La=Ma(Kr*ft.getoffsetX(pe.glyphStartIndex),jr,Xr,me,qt,fr,pe.segment,pe.lineStartIndex,pe.lineStartIndex+pe.lineLength,_t,ze,sr);if(!La)return{notEnoughRoom:!0};en=[La]}for(var ai=0,ja=en;ai<ja.length;ai+=1){var Ti=ja[ai];o.addDynamicAttributes(Vt,Ti.point,Ti.angle)}return{}}function wa(pe,$,me,re,xe){var ze=Fr(pe.add(pe.sub($)._unit()),xe).point,Ke=me.sub(ze);return me.add(Ke._mult(re/Ke.mag()))}function Ma(pe,$,me,re,xe,ze,Ke,ft,_t,Vt,qt,fr){var sr=re?pe-$:pe+$,kr=sr>0?1:-1,Kr=0;re&&(kr*=-1,Kr=Math.PI),kr<0&&(Kr+=Math.PI);for(var jr=kr>0?ft+Ke:ft+Ke+1,Xr=xe,en=xe,yn=0,Fn=0,Yn=Math.abs(sr),Jn=[];yn+Fn<=Yn;){if(jr+=kr,jr<ft||jr>=_t)return null;if(en=Xr,Jn.push(Xr),Xr=fr[jr],Xr===void 0){var Qn=new o.Point(Vt.getx(jr),Vt.gety(jr)),jn=Fr(Qn,qt);if(jn.signedDistanceFromCamera>0)Xr=fr[jr]=jn.point;else{var qn=jr-kr,sa=yn===0?ze:new o.Point(Vt.getx(qn),Vt.gety(qn));Xr=wa(sa,Qn,en,Yn-yn+1,qt)}}yn+=Fn,Fn=en.dist(Xr)}var va=(Yn-yn)/Fn,Aa=Xr.sub(en),ma=Aa.mult(va)._add(en);ma._add(Aa._unit()._perp()._mult(me*kr));var Va=Kr+Math.atan2(Xr.y-en.y,Xr.x-en.x);return Jn.push(ma),{point:ma,angle:Va,path:Jn}}var Zn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ea(pe,$){for(var me=0;me<pe;me++){var re=$.length;$.resize(re+4),$.float32.set(Zn,re*3)}}function xr(pe,$,me){var re=$[0],xe=$[1];return pe[0]=me[0]*re+me[4]*xe+me[12],pe[1]=me[1]*re+me[5]*xe+me[13],pe[3]=me[3]*re+me[7]*xe+me[15],pe}var nn=100,qr=function($,me,re){me===void 0&&(me=new Sr($.width+2*nn,$.height+2*nn,25)),re===void 0&&(re=new Sr($.width+2*nn,$.height+2*nn,25)),this.transform=$,this.grid=me,this.ignoredGrid=re,this.pitchfactor=Math.cos($._pitch)*$.cameraToCenterDistance,this.screenRightBoundary=$.width+nn,this.screenBottomBoundary=$.height+nn,this.gridRightBoundary=$.width+2*nn,this.gridBottomBoundary=$.height+2*nn};qr.prototype.placeCollisionBox=function($,me,re,xe,ze){var Ke=this.projectAndGetPerspectiveRatio(xe,$.anchorPointX,$.anchorPointY),ft=re*Ke.perspectiveRatio,_t=$.x1*ft+Ke.point.x,Vt=$.y1*ft+Ke.point.y,qt=$.x2*ft+Ke.point.x,fr=$.y2*ft+Ke.point.y;return!this.isInsideGrid(_t,Vt,qt,fr)||!me&&this.grid.hitTest(_t,Vt,qt,fr,ze)?{box:[],offscreen:!1}:{box:[_t,Vt,qt,fr],offscreen:this.isOffscreen(_t,Vt,qt,fr)}},qr.prototype.placeCollisionCircles=function($,me,re,xe,ze,Ke,ft,_t,Vt,qt,fr,sr,kr){var Kr=[],jr=new o.Point(me.anchorX,me.anchorY),Xr=Fr(jr,Ke),en=cn(this.transform.cameraToCenterDistance,Xr.signedDistanceFromCamera),yn=qt?ze/en:ze*en,Fn=yn/o.ONE_EM,Yn=Fr(jr,ft).point,Jn={},Qn=me.lineOffsetX*Fn,jn=me.lineOffsetY*Fn,qn=Rn(Fn,xe,Qn,jn,!1,Yn,jr,me,re,ft,Jn),sa=!1,va=!1,Aa=!0;if(qn){for(var ma=sr*.5*en+kr,Va=new o.Point(-nn,-nn),hi=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),ri=new Mn,La=qn.first,ai=qn.last,ja=[],Ti=La.path.length-1;Ti>=1;Ti--)ja.push(La.path[Ti]);for(var yi=1;yi<ai.path.length;yi++)ja.push(ai.path[yi]);var Wi=ma*2.5;if(_t){var fi=ja.map(function(tu){return Fr(tu,_t)});fi.some(function(tu){return tu.signedDistanceFromCamera<=0})?ja=[]:ja=fi.map(function(tu){return tu.point})}var Ni=[];if(ja.length>0){for(var Qa=ja[0].clone(),pi=ja[0].clone(),vo=1;vo<ja.length;vo++)Qa.x=Math.min(Qa.x,ja[vo].x),Qa.y=Math.min(Qa.y,ja[vo].y),pi.x=Math.max(pi.x,ja[vo].x),pi.y=Math.max(pi.y,ja[vo].y);Qa.x>=Va.x&&pi.x<=hi.x&&Qa.y>=Va.y&&pi.y<=hi.y?Ni=[ja]:pi.x<Va.x||Qa.x>hi.x||pi.y<Va.y||Qa.y>hi.y?Ni=[]:Ni=o.clipLine([ja],Va.x,Va.y,hi.x,hi.y)}for(var Zo=0,Rl=Ni;Zo<Rl.length;Zo+=1){var Il=Rl[Zo];ri.reset(Il,ma*.25);var ql=0;ri.length<=.5*ma?ql=1:ql=Math.ceil(ri.paddedLength/Wi)+1;for(var Ru=0;Ru<ql;Ru++){var kc=Ru/Math.max(ql-1,1),Iu=ri.lerp(kc),ks=Iu.x+nn,Ou=Iu.y+nn;Kr.push(ks,Ou,ma,0);var Js=ks-ma,Ns=Ou-ma,eu=ks+ma,hf=Ou+ma;if(Aa=Aa&&this.isOffscreen(Js,Ns,eu,hf),va=va||this.isInsideGrid(Js,Ns,eu,hf),!$&&this.grid.hitTestCircle(ks,Ou,ma,fr)&&(sa=!0,!Vt))return{circles:[],offscreen:!1,collisionDetected:sa}}}}return{circles:!Vt&&sa||!va?[]:Kr,offscreen:Aa,collisionDetected:sa}},qr.prototype.queryRenderedSymbols=function($){if($.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var me=[],re=1/0,xe=1/0,ze=-1/0,Ke=-1/0,ft=0,_t=$;ft<_t.length;ft+=1){var Vt=_t[ft],qt=new o.Point(Vt.x+nn,Vt.y+nn);re=Math.min(re,qt.x),xe=Math.min(xe,qt.y),ze=Math.max(ze,qt.x),Ke=Math.max(Ke,qt.y),me.push(qt)}for(var fr=this.grid.query(re,xe,ze,Ke).concat(this.ignoredGrid.query(re,xe,ze,Ke)),sr={},kr={},Kr=0,jr=fr;Kr<jr.length;Kr+=1){var Xr=jr[Kr],en=Xr.key;if(sr[en.bucketInstanceId]===void 0&&(sr[en.bucketInstanceId]={}),!sr[en.bucketInstanceId][en.featureIndex]){var yn=[new o.Point(Xr.x1,Xr.y1),new o.Point(Xr.x2,Xr.y1),new o.Point(Xr.x2,Xr.y2),new o.Point(Xr.x1,Xr.y2)];o.polygonIntersectsPolygon(me,yn)&&(sr[en.bucketInstanceId][en.featureIndex]=!0,kr[en.bucketInstanceId]===void 0&&(kr[en.bucketInstanceId]=[]),kr[en.bucketInstanceId].push(en.featureIndex))}}return kr},qr.prototype.insertCollisionBox=function($,me,re,xe,ze){var Ke=me?this.ignoredGrid:this.grid,ft={bucketInstanceId:re,featureIndex:xe,collisionGroupID:ze};Ke.insert(ft,$[0],$[1],$[2],$[3])},qr.prototype.insertCollisionCircles=function($,me,re,xe,ze){for(var Ke=me?this.ignoredGrid:this.grid,ft={bucketInstanceId:re,featureIndex:xe,collisionGroupID:ze},_t=0;_t<$.length;_t+=4)Ke.insertCircle(ft,$[_t],$[_t+1],$[_t+2])},qr.prototype.projectAndGetPerspectiveRatio=function($,me,re){var xe=[me,re,0,1];xr(xe,xe,$);var ze=new o.Point((xe[0]/xe[3]+1)/2*this.transform.width+nn,(-xe[1]/xe[3]+1)/2*this.transform.height+nn);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/xe[3])}},qr.prototype.isOffscreen=function($,me,re,xe){return re<nn||$>=this.screenRightBoundary||xe<nn||me>this.screenBottomBoundary},qr.prototype.isInsideGrid=function($,me,re,xe){return re>=0&&$<this.gridRightBoundary&&xe>=0&&me<this.gridBottomBoundary},qr.prototype.getViewportMatrix=function(){var $=o.identity([]);return o.translate($,$,[-nn,-nn,0]),$};function gn(pe,$,me){return $*(o.EXTENT/(pe.tileSize*Math.pow(2,me-pe.tileID.overscaledZ)))}var Un=function($,me,re,xe){$?this.opacity=Math.max(0,Math.min(1,$.opacity+($.placed?me:-me))):this.opacity=xe&&re?1:0,this.placed=re};Un.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var An=function($,me,re,xe,ze){this.text=new Un($?$.text:null,me,re,ze),this.icon=new Un($?$.icon:null,me,xe,ze)};An.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var En=function($,me,re){this.text=$,this.icon=me,this.skipFade=re},Vn=function(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]},ta=function($,me,re,xe,ze){this.bucketInstanceId=$,this.featureIndex=me,this.sourceLayerIndex=re,this.bucketIndex=xe,this.tileID=ze},ga=function($){this.crossSourceCollisions=$,this.maxGroupID=0,this.collisionGroups={}};ga.prototype.get=function($){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[$]){var me=++this.maxGroupID;this.collisionGroups[$]={ID:me,predicate:function(re){return re.collisionGroupID===me}}}return this.collisionGroups[$]};function Na(pe,$,me,re,xe){var ze=o.getAnchorAlignment(pe),Ke=ze.horizontalAlign,ft=ze.verticalAlign,_t=-(Ke-.5)*$,Vt=-(ft-.5)*me,qt=o.evaluateVariableOffset(pe,re);return new o.Point(_t+qt[0]*xe,Vt+qt[1]*xe)}function _r(pe,$,me,re,xe,ze){var Ke=pe.x1,ft=pe.x2,_t=pe.y1,Vt=pe.y2,qt=pe.anchorPointX,fr=pe.anchorPointY,sr=new o.Point($,me);return re&&sr._rotate(xe?ze:-ze),{x1:Ke+sr.x,y1:_t+sr.y,x2:ft+sr.x,y2:Vt+sr.y,anchorPointX:qt,anchorPointY:fr}}var Br=function($,me,re,xe){this.transform=$.clone(),this.collisionIndex=new qr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=me,this.retainedQueryData={},this.collisionGroups=new ga(re),this.collisionCircleArrays={},this.prevPlacement=xe,xe&&(xe.prevPlacement=void 0),this.placedOrientations={}};Br.prototype.getBucketParts=function($,me,re,xe){var ze=re.getBucket(me),Ke=re.latestFeatureIndex;if(!(!ze||!Ke||me.id!==ze.layerIds[0])){var ft=re.collisionBoxArray,_t=ze.layers[0].layout,Vt=Math.pow(2,this.transform.zoom-re.tileID.overscaledZ),qt=re.tileSize/o.EXTENT,fr=this.transform.calculatePosMatrix(re.tileID.toUnwrapped()),sr=_t.get("text-pitch-alignment")==="map",kr=_t.get("text-rotation-alignment")==="map",Kr=gn(re,1,this.transform.zoom),jr=Nr(fr,sr,kr,this.transform,Kr),Xr=null;if(sr){var en=Zr(fr,sr,kr,this.transform,Kr);Xr=o.multiply([],this.transform.labelPlaneMatrix,en)}this.retainedQueryData[ze.bucketInstanceId]=new ta(ze.bucketInstanceId,Ke,ze.sourceLayerIndex,ze.index,re.tileID);var yn={bucket:ze,layout:_t,posMatrix:fr,textLabelPlaneMatrix:jr,labelToScreenMatrix:Xr,scale:Vt,textPixelRatio:qt,holdingForFade:re.holdingForFade(),collisionBoxArray:ft,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(xe)for(var Fn=0,Yn=ze.sortKeyRanges;Fn<Yn.length;Fn+=1){var Jn=Yn[Fn],Qn=Jn.sortKey,jn=Jn.symbolInstanceStart,qn=Jn.symbolInstanceEnd;$.push({sortKey:Qn,symbolInstanceStart:jn,symbolInstanceEnd:qn,parameters:yn})}else $.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:yn})}},Br.prototype.attemptAnchorPlacement=function($,me,re,xe,ze,Ke,ft,_t,Vt,qt,fr,sr,kr,Kr,jr){var Xr=[sr.textOffset0,sr.textOffset1],en=Na($,re,xe,Xr,ze),yn=this.collisionIndex.placeCollisionBox(_r(me,en.x,en.y,Ke,ft,this.transform.angle),fr,_t,Vt,qt.predicate);if(jr){var Fn=this.collisionIndex.placeCollisionBox(_r(jr,en.x,en.y,Ke,ft,this.transform.angle),fr,_t,Vt,qt.predicate);if(Fn.box.length===0)return}if(yn.box.length>0){var Yn;return this.prevPlacement&&this.prevPlacement.variableOffsets[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID]&&this.prevPlacement.placements[sr.crossTileID].text&&(Yn=this.prevPlacement.variableOffsets[sr.crossTileID].anchor),this.variableOffsets[sr.crossTileID]={textOffset:Xr,width:re,height:xe,anchor:$,textBoxScale:ze,prevAnchor:Yn},this.markUsedJustification(kr,$,sr,Kr),kr.allowVerticalPlacement&&(this.markUsedOrientation(kr,Kr,sr),this.placedOrientations[sr.crossTileID]=Kr),{shift:en,placedGlyphBoxes:yn}}},Br.prototype.placeLayerBucketPart=function($,me,re){var xe=this,ze=$.parameters,Ke=ze.bucket,ft=ze.layout,_t=ze.posMatrix,Vt=ze.textLabelPlaneMatrix,qt=ze.labelToScreenMatrix,fr=ze.textPixelRatio,sr=ze.holdingForFade,kr=ze.collisionBoxArray,Kr=ze.partiallyEvaluatedTextSize,jr=ze.collisionGroup,Xr=ft.get("text-optional"),en=ft.get("icon-optional"),yn=ft.get("text-allow-overlap"),Fn=ft.get("icon-allow-overlap"),Yn=ft.get("text-rotation-alignment")==="map",Jn=ft.get("text-pitch-alignment")==="map",Qn=ft.get("icon-text-fit")!=="none",jn=ft.get("symbol-z-order")==="viewport-y",qn=yn&&(Fn||!Ke.hasIconData()||en),sa=Fn&&(yn||!Ke.hasTextData()||Xr);!Ke.collisionArrays&&kr&&Ke.deserializeCollisionBoxes(kr);var va=function(La,ai){if(!me[La.crossTileID]){if(sr){xe.placements[La.crossTileID]=new En(!1,!1,!1);return}var ja=!1,Ti=!1,yi=!0,Wi=null,fi={box:null,offscreen:null},Ni={box:null,offscreen:null},Qa=null,pi=null,vo=null,Zo=0,Rl=0,Il=0;ai.textFeatureIndex?Zo=ai.textFeatureIndex:La.useRuntimeCollisionCircles&&(Zo=La.featureIndex),ai.verticalTextFeatureIndex&&(Rl=ai.verticalTextFeatureIndex);var ql=ai.textBox;if(ql){var Ru=function(wo){var Qs=o.WritingMode.horizontal;if(Ke.allowVerticalPlacement&&!wo&&xe.prevPlacement){var $s=xe.prevPlacement.placedOrientations[La.crossTileID];$s&&(xe.placedOrientations[La.crossTileID]=$s,Qs=$s,xe.markUsedOrientation(Ke,Qs,La))}return Qs},kc=function(wo,Qs){if(Ke.allowVerticalPlacement&&La.numVerticalGlyphVertices>0&&ai.verticalTextBox)for(var $s=0,sd=Ke.writingModes;$s<sd.length;$s+=1){var wp=sd[$s];if(wp===o.WritingMode.vertical?(fi=Qs(),Ni=fi):fi=wo(),fi&&fi.box&&fi.box.length)break}else fi=wo()};if(ft.get("text-variable-anchor")){var Js=ft.get("text-variable-anchor");if(xe.prevPlacement&&xe.prevPlacement.variableOffsets[La.crossTileID]){var Ns=xe.prevPlacement.variableOffsets[La.crossTileID];Js.indexOf(Ns.anchor)>0&&(Js=Js.filter(function(wo){return wo!==Ns.anchor}),Js.unshift(Ns.anchor))}var eu=function(wo,Qs,$s){for(var sd=wo.x2-wo.x1,wp=wo.y2-wo.y1,Xy=La.textBoxScale,Zy=Qn&&!Fn?Qs:null,Dv={box:[],offscreen:!1},jy=yn?Js.length*2:Js.length,ld=0;ld<jy;++ld){var Ky=Js[ld%Js.length],Jy=ld>=Js.length,Tp=xe.attemptAnchorPlacement(Ky,wo,sd,wp,Xy,Yn,Jn,fr,_t,jr,Jy,La,Ke,$s,Zy);if(Tp&&(Dv=Tp.placedGlyphBoxes,Dv&&Dv.box&&Dv.box.length)){ja=!0,Wi=Tp.shift;break}}return Dv},hf=function(){return eu(ql,ai.iconBox,o.WritingMode.horizontal)},tu=function(){var wo=ai.verticalTextBox,Qs=fi&&fi.box&&fi.box.length;return Ke.allowVerticalPlacement&&!Qs&&La.numVerticalGlyphVertices>0&&wo?eu(wo,ai.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null}};kc(hf,tu),fi&&(ja=fi.box,yi=fi.offscreen);var rd=Ru(fi&&fi.box);if(!ja&&xe.prevPlacement){var Dh=xe.prevPlacement.variableOffsets[La.crossTileID];Dh&&(xe.variableOffsets[La.crossTileID]=Dh,xe.markUsedJustification(Ke,Dh.anchor,La,rd))}}else{var Iu=function(wo,Qs){var $s=xe.collisionIndex.placeCollisionBox(wo,yn,fr,_t,jr.predicate);return $s&&$s.box&&$s.box.length&&(xe.markUsedOrientation(Ke,Qs,La),xe.placedOrientations[La.crossTileID]=Qs),$s},ks=function(){return Iu(ql,o.WritingMode.horizontal)},Ou=function(){var wo=ai.verticalTextBox;return Ke.allowVerticalPlacement&&La.numVerticalGlyphVertices>0&&wo?Iu(wo,o.WritingMode.vertical):{box:null,offscreen:null}};kc(ks,Ou),Ru(fi&&fi.box&&fi.box.length)}}if(Qa=fi,ja=Qa&&Qa.box&&Qa.box.length>0,yi=Qa&&Qa.offscreen,La.useRuntimeCollisionCircles){var $o=Ke.text.placedSymbolArray.get(La.centerJustifiedTextSymbolIndex),nd=o.evaluateSizeForFeature(Ke.textSizeData,Kr,$o),Lv=ft.get("text-padding"),xs=La.collisionCircleDiameter;pi=xe.collisionIndex.placeCollisionCircles(yn,$o,Ke.lineVertexArray,Ke.glyphOffsetArray,nd,_t,Vt,qt,re,Jn,jr.predicate,xs,Lv),ja=yn||pi.circles.length>0&&!pi.collisionDetected,yi=yi&&pi.offscreen}if(ai.iconFeatureIndex&&(Il=ai.iconFeatureIndex),ai.iconBox){var Ph=function(wo){var Qs=Qn&&Wi?_r(wo,Wi.x,Wi.y,Yn,Jn,xe.transform.angle):wo;return xe.collisionIndex.placeCollisionBox(Qs,Fn,fr,_t,jr.predicate)};Ni&&Ni.box&&Ni.box.length&&ai.verticalIconBox?(vo=Ph(ai.verticalIconBox),Ti=vo.box.length>0):(vo=Ph(ai.iconBox),Ti=vo.box.length>0),yi=yi&&vo.offscreen}var ad=Xr||La.numHorizontalGlyphVertices===0&&La.numVerticalGlyphVertices===0,id=en||La.numIconVertices===0;if(!ad&&!id?Ti=ja=Ti&&ja:id?ad||(Ti=Ti&&ja):ja=Ti&&ja,ja&&Qa&&Qa.box&&(Ni&&Ni.box&&Rl?xe.collisionIndex.insertCollisionBox(Qa.box,ft.get("text-ignore-placement"),Ke.bucketInstanceId,Rl,jr.ID):xe.collisionIndex.insertCollisionBox(Qa.box,ft.get("text-ignore-placement"),Ke.bucketInstanceId,Zo,jr.ID)),Ti&&vo&&xe.collisionIndex.insertCollisionBox(vo.box,ft.get("icon-ignore-placement"),Ke.bucketInstanceId,Il,jr.ID),pi&&(ja&&xe.collisionIndex.insertCollisionCircles(pi.circles,ft.get("text-ignore-placement"),Ke.bucketInstanceId,Zo,jr.ID),re)){var od=Ke.bucketInstanceId,Rh=xe.collisionCircleArrays[od];Rh===void 0&&(Rh=xe.collisionCircleArrays[od]=new Vn);for(var Ih=0;Ih<pi.circles.length;Ih+=4)Rh.circles.push(pi.circles[Ih+0]),Rh.circles.push(pi.circles[Ih+1]),Rh.circles.push(pi.circles[Ih+2]),Rh.circles.push(pi.collisionDetected?1:0)}xe.placements[La.crossTileID]=new En(ja||qn,Ti||sa,yi||Ke.justReloaded),me[La.crossTileID]=!0}};if(jn)for(var Aa=Ke.getSortedSymbolIndexes(this.transform.angle),ma=Aa.length-1;ma>=0;--ma){var Va=Aa[ma];va(Ke.symbolInstances.get(Va),Ke.collisionArrays[Va])}else for(var hi=$.symbolInstanceStart;hi<$.symbolInstanceEnd;hi++)va(Ke.symbolInstances.get(hi),Ke.collisionArrays[hi]);if(re&&Ke.bucketInstanceId in this.collisionCircleArrays){var ri=this.collisionCircleArrays[Ke.bucketInstanceId];o.invert(ri.invProjMatrix,_t),ri.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ke.justReloaded=!1},Br.prototype.markUsedJustification=function($,me,re,xe){var ze={left:re.leftJustifiedTextSymbolIndex,center:re.centerJustifiedTextSymbolIndex,right:re.rightJustifiedTextSymbolIndex},Ke;xe===o.WritingMode.vertical?Ke=re.verticalPlacedTextSymbolIndex:Ke=ze[o.getAnchorJustification(me)];for(var ft=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex,re.verticalPlacedTextSymbolIndex],_t=0,Vt=ft;_t<Vt.length;_t+=1){var qt=Vt[_t];qt>=0&&(Ke>=0&&qt!==Ke?$.text.placedSymbolArray.get(qt).crossTileID=0:$.text.placedSymbolArray.get(qt).crossTileID=re.crossTileID)}},Br.prototype.markUsedOrientation=function($,me,re){for(var xe=me===o.WritingMode.horizontal||me===o.WritingMode.horizontalOnly?me:0,ze=me===o.WritingMode.vertical?me:0,Ke=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex],ft=0,_t=Ke;ft<_t.length;ft+=1){var Vt=_t[ft];$.text.placedSymbolArray.get(Vt).placedOrientation=xe}re.verticalPlacedTextSymbolIndex&&($.text.placedSymbolArray.get(re.verticalPlacedTextSymbolIndex).placedOrientation=ze)},Br.prototype.commit=function($){this.commitTime=$,this.zoomAtLastRecencyCheck=this.transform.zoom;var me=this.prevPlacement,re=!1;this.prevZoomAdjustment=me?me.zoomAdjustment(this.transform.zoom):0;var xe=me?me.symbolFadeChange($):1,ze=me?me.opacities:{},Ke=me?me.variableOffsets:{},ft=me?me.placedOrientations:{};for(var _t in this.placements){var Vt=this.placements[_t],qt=ze[_t];qt?(this.opacities[_t]=new An(qt,xe,Vt.text,Vt.icon),re=re||Vt.text!==qt.text.placed||Vt.icon!==qt.icon.placed):(this.opacities[_t]=new An(null,xe,Vt.text,Vt.icon,Vt.skipFade),re=re||Vt.text||Vt.icon)}for(var fr in ze){var sr=ze[fr];if(!this.opacities[fr]){var kr=new An(sr,xe,!1,!1);kr.isHidden()||(this.opacities[fr]=kr,re=re||sr.text.placed||sr.icon.placed)}}for(var Kr in Ke)!this.variableOffsets[Kr]&&this.opacities[Kr]&&!this.opacities[Kr].isHidden()&&(this.variableOffsets[Kr]=Ke[Kr]);for(var jr in ft)!this.placedOrientations[jr]&&this.opacities[jr]&&!this.opacities[jr].isHidden()&&(this.placedOrientations[jr]=ft[jr]);re?this.lastPlacementChangeTime=$:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=me?me.lastPlacementChangeTime:$)},Br.prototype.updateLayerOpacities=function($,me){for(var re={},xe=0,ze=me;xe<ze.length;xe+=1){var Ke=ze[xe],ft=Ke.getBucket($);ft&&Ke.latestFeatureIndex&&$.id===ft.layerIds[0]&&this.updateBucketOpacities(ft,re,Ke.collisionBoxArray)}},Br.prototype.updateBucketOpacities=function($,me,re){var xe=this;$.hasTextData()&&$.text.opacityVertexArray.clear(),$.hasIconData()&&$.icon.opacityVertexArray.clear(),$.hasIconCollisionBoxData()&&$.iconCollisionBox.collisionVertexArray.clear(),$.hasTextCollisionBoxData()&&$.textCollisionBox.collisionVertexArray.clear();var ze=$.layers[0].layout,Ke=new An(null,0,!1,!1,!0),ft=ze.get("text-allow-overlap"),_t=ze.get("icon-allow-overlap"),Vt=ze.get("text-variable-anchor"),qt=ze.get("text-rotation-alignment")==="map",fr=ze.get("text-pitch-alignment")==="map",sr=ze.get("icon-text-fit")!=="none",kr=new An(null,0,ft&&(_t||!$.hasIconData()||ze.get("icon-optional")),_t&&(ft||!$.hasTextData()||ze.get("text-optional")),!0);!$.collisionArrays&&re&&($.hasIconCollisionBoxData()||$.hasTextCollisionBoxData())&&$.deserializeCollisionBoxes(re);for(var Kr=function(yn,Fn,Yn){for(var Jn=0;Jn<Fn/4;Jn++)yn.opacityVertexArray.emplaceBack(Yn)},jr=function(yn){var Fn=$.symbolInstances.get(yn),Yn=Fn.numHorizontalGlyphVertices,Jn=Fn.numVerticalGlyphVertices,Qn=Fn.crossTileID,jn=me[Qn],qn=xe.opacities[Qn];jn?qn=Ke:qn||(qn=kr,xe.opacities[Qn]=qn),me[Qn]=!0;var sa=Yn>0||Jn>0,va=Fn.numIconVertices>0,Aa=xe.placedOrientations[Fn.crossTileID],ma=Aa===o.WritingMode.vertical,Va=Aa===o.WritingMode.horizontal||Aa===o.WritingMode.horizontalOnly;if(sa){var hi=Gr(qn.text),ri=ma?rn:hi;Kr($.text,Yn,ri);var La=Va?rn:hi;Kr($.text,Jn,La);var ai=qn.text.isHidden();[Fn.rightJustifiedTextSymbolIndex,Fn.centerJustifiedTextSymbolIndex,Fn.leftJustifiedTextSymbolIndex].forEach(function(Il){Il>=0&&($.text.placedSymbolArray.get(Il).hidden=ai||ma?1:0)}),Fn.verticalPlacedTextSymbolIndex>=0&&($.text.placedSymbolArray.get(Fn.verticalPlacedTextSymbolIndex).hidden=ai||Va?1:0);var ja=xe.variableOffsets[Fn.crossTileID];ja&&xe.markUsedJustification($,ja.anchor,Fn,Aa);var Ti=xe.placedOrientations[Fn.crossTileID];Ti&&(xe.markUsedJustification($,"left",Fn,Ti),xe.markUsedOrientation($,Ti,Fn))}if(va){var yi=Gr(qn.icon),Wi=!(sr&&Fn.verticalPlacedIconSymbolIndex&&ma);if(Fn.placedIconSymbolIndex>=0){var fi=Wi?yi:rn;Kr($.icon,Fn.numIconVertices,fi),$.icon.placedSymbolArray.get(Fn.placedIconSymbolIndex).hidden=qn.icon.isHidden()}if(Fn.verticalPlacedIconSymbolIndex>=0){var Ni=Wi?rn:yi;Kr($.icon,Fn.numVerticalIconVertices,Ni),$.icon.placedSymbolArray.get(Fn.verticalPlacedIconSymbolIndex).hidden=qn.icon.isHidden()}}if($.hasIconCollisionBoxData()||$.hasTextCollisionBoxData()){var Qa=$.collisionArrays[yn];if(Qa){var pi=new o.Point(0,0);if(Qa.textBox||Qa.verticalTextBox){var vo=!0;if(Vt){var Zo=xe.variableOffsets[Qn];Zo?(pi=Na(Zo.anchor,Zo.width,Zo.height,Zo.textOffset,Zo.textBoxScale),qt&&pi._rotate(fr?xe.transform.angle:-xe.transform.angle)):vo=!1}Qa.textBox&&Mr($.textCollisionBox.collisionVertexArray,qn.text.placed,!vo||ma,pi.x,pi.y),Qa.verticalTextBox&&Mr($.textCollisionBox.collisionVertexArray,qn.text.placed,!vo||Va,pi.x,pi.y)}var Rl=!!(!Va&&Qa.verticalIconBox);Qa.iconBox&&Mr($.iconCollisionBox.collisionVertexArray,qn.icon.placed,Rl,sr?pi.x:0,sr?pi.y:0),Qa.verticalIconBox&&Mr($.iconCollisionBox.collisionVertexArray,qn.icon.placed,!Rl,sr?pi.x:0,sr?pi.y:0)}}},Xr=0;Xr<$.symbolInstances.length;Xr++)jr(Xr);if($.sortFeatures(this.transform.angle),this.retainedQueryData[$.bucketInstanceId]&&(this.retainedQueryData[$.bucketInstanceId].featureSortOrder=$.featureSortOrder),$.hasTextData()&&$.text.opacityVertexBuffer&&$.text.opacityVertexBuffer.updateData($.text.opacityVertexArray),$.hasIconData()&&$.icon.opacityVertexBuffer&&$.icon.opacityVertexBuffer.updateData($.icon.opacityVertexArray),$.hasIconCollisionBoxData()&&$.iconCollisionBox.collisionVertexBuffer&&$.iconCollisionBox.collisionVertexBuffer.updateData($.iconCollisionBox.collisionVertexArray),$.hasTextCollisionBoxData()&&$.textCollisionBox.collisionVertexBuffer&&$.textCollisionBox.collisionVertexBuffer.updateData($.textCollisionBox.collisionVertexArray),$.bucketInstanceId in this.collisionCircleArrays){var en=this.collisionCircleArrays[$.bucketInstanceId];$.placementInvProjMatrix=en.invProjMatrix,$.placementViewportMatrix=en.viewportMatrix,$.collisionCircleArray=en.circles,delete this.collisionCircleArrays[$.bucketInstanceId]}},Br.prototype.symbolFadeChange=function($){return this.fadeDuration===0?1:($-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Br.prototype.zoomAdjustment=function($){return Math.max(0,(this.transform.zoom-$)/1.5)},Br.prototype.hasTransitions=function($){return this.stale||$-this.lastPlacementChangeTime<this.fadeDuration},Br.prototype.stillRecent=function($,me){var re=this.zoomAtLastRecencyCheck===me?1-this.zoomAdjustment(me):1;return this.zoomAtLastRecencyCheck=me,this.commitTime+this.fadeDuration*re>$},Br.prototype.setStale=function(){this.stale=!0};function Mr(pe,$,me,re,xe){pe.emplaceBack($?1:0,me?1:0,re||0,xe||0),pe.emplaceBack($?1:0,me?1:0,re||0,xe||0),pe.emplaceBack($?1:0,me?1:0,re||0,xe||0),pe.emplaceBack($?1:0,me?1:0,re||0,xe||0)}var Ur=Math.pow(2,25),wn=Math.pow(2,24),kn=Math.pow(2,17),xn=Math.pow(2,16),hn=Math.pow(2,9),Cr=Math.pow(2,8),Qr=Math.pow(2,1);function Gr(pe){if(pe.opacity===0&&!pe.placed)return 0;if(pe.opacity===1&&pe.placed)return 4294967295;var $=pe.placed?1:0,me=Math.floor(pe.opacity*127);return me*Ur+$*wn+me*kn+$*xn+me*hn+$*Cr+me*Qr+$}var rn=0,Sn=function($){this._sortAcrossTiles=$.layout.get("symbol-z-order")!=="viewport-y"&&$.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Sn.prototype.continuePlacement=function($,me,re,xe,ze){for(var Ke=this._bucketParts;this._currentTileIndex<$.length;){var ft=$[this._currentTileIndex];if(me.getBucketParts(Ke,xe,ft,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ke.sort(function(Vt,qt){return Vt.sortKey-qt.sortKey}));this._currentPartIndex<Ke.length;){var _t=Ke[this._currentPartIndex];if(me.placeLayerBucketPart(_t,this._seenCrossTileIDs,re),this._currentPartIndex++,ze())return!0}return!1};var Bn=function($,me,re,xe,ze,Ke,ft){this.placement=new Br($,ze,Ke,ft),this._currentPlacementIndex=me.length-1,this._forceFullPlacement=re,this._showCollisionBoxes=xe,this._done=!1};Bn.prototype.isDone=function(){return this._done},Bn.prototype.continuePlacement=function($,me,re){for(var xe=this,ze=o.browser.now(),Ke=function(){var fr=o.browser.now()-ze;return xe._forceFullPlacement?!1:fr>2};this._currentPlacementIndex>=0;){var ft=$[this._currentPlacementIndex],_t=me[ft],Vt=this.placement.collisionIndex.transform.zoom;if(_t.type==="symbol"&&(!_t.minzoom||_t.minzoom<=Vt)&&(!_t.maxzoom||_t.maxzoom>Vt)){this._inProgressLayer||(this._inProgressLayer=new Sn(_t));var qt=this._inProgressLayer.continuePlacement(re[_t.source],this.placement,this._showCollisionBoxes,_t,Ke);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Bn.prototype.commit=function($){return this.placement.commit($),this.placement};var Ln=512/o.EXTENT/2,Wn=function($,me,re){this.tileID=$,this.indexedSymbolInstances={},this.bucketInstanceId=re;for(var xe=0;xe<me.length;xe++){var ze=me.get(xe),Ke=ze.key;this.indexedSymbolInstances[Ke]||(this.indexedSymbolInstances[Ke]=[]),this.indexedSymbolInstances[Ke].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,$)})}};Wn.prototype.getScaledCoordinates=function($,me){var re=me.canonical.z-this.tileID.canonical.z,xe=Ln/Math.pow(2,re);return{x:Math.floor((me.canonical.x*o.EXTENT+$.anchorX)*xe),y:Math.floor((me.canonical.y*o.EXTENT+$.anchorY)*xe)}},Wn.prototype.findMatches=function($,me,re){for(var xe=this.tileID.canonical.z<me.canonical.z?1:Math.pow(2,this.tileID.canonical.z-me.canonical.z),ze=0;ze<$.length;ze++){var Ke=$.get(ze);if(!Ke.crossTileID){var ft=this.indexedSymbolInstances[Ke.key];if(ft)for(var _t=this.getScaledCoordinates(Ke,me),Vt=0,qt=ft;Vt<qt.length;Vt+=1){var fr=qt[Vt];if(Math.abs(fr.coord.x-_t.x)<=xe&&Math.abs(fr.coord.y-_t.y)<=xe&&!re[fr.crossTileID]){re[fr.crossTileID]=!0,Ke.crossTileID=fr.crossTileID;break}}}}};var Hn=function(){this.maxCrossTileID=0};Hn.prototype.generate=function(){return++this.maxCrossTileID};var ya=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ya.prototype.handleWrapJump=function($){var me=Math.round(($-this.lng)/360);if(me!==0)for(var re in this.indexes){var xe=this.indexes[re],ze={};for(var Ke in xe){var ft=xe[Ke];ft.tileID=ft.tileID.unwrapTo(ft.tileID.wrap+me),ze[ft.tileID.key]=ft}this.indexes[re]=ze}this.lng=$},ya.prototype.addBucket=function($,me,re){if(this.indexes[$.overscaledZ]&&this.indexes[$.overscaledZ][$.key]){if(this.indexes[$.overscaledZ][$.key].bucketInstanceId===me.bucketInstanceId)return!1;this.removeBucketCrossTileIDs($.overscaledZ,this.indexes[$.overscaledZ][$.key])}for(var xe=0;xe<me.symbolInstances.length;xe++){var ze=me.symbolInstances.get(xe);ze.crossTileID=0}this.usedCrossTileIDs[$.overscaledZ]||(this.usedCrossTileIDs[$.overscaledZ]={});var Ke=this.usedCrossTileIDs[$.overscaledZ];for(var ft in this.indexes){var _t=this.indexes[ft];if(Number(ft)>$.overscaledZ)for(var Vt in _t){var qt=_t[Vt];qt.tileID.isChildOf($)&&qt.findMatches(me.symbolInstances,$,Ke)}else{var fr=$.scaledTo(Number(ft)),sr=_t[fr.key];sr&&sr.findMatches(me.symbolInstances,$,Ke)}}for(var kr=0;kr<me.symbolInstances.length;kr++){var Kr=me.symbolInstances.get(kr);Kr.crossTileID||(Kr.crossTileID=re.generate(),Ke[Kr.crossTileID]=!0)}return this.indexes[$.overscaledZ]===void 0&&(this.indexes[$.overscaledZ]={}),this.indexes[$.overscaledZ][$.key]=new Wn($,me.symbolInstances,me.bucketInstanceId),!0},ya.prototype.removeBucketCrossTileIDs=function($,me){for(var re in me.indexedSymbolInstances)for(var xe=0,ze=me.indexedSymbolInstances[re];xe<ze.length;xe+=1){var Ke=ze[xe];delete this.usedCrossTileIDs[$][Ke.crossTileID]}},ya.prototype.removeStaleBuckets=function($){var me=!1;for(var re in this.indexes){var xe=this.indexes[re];for(var ze in xe)$[xe[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(re,xe[ze]),delete xe[ze],me=!0)}return me};var ca=function(){this.layerIndexes={},this.crossTileIDs=new Hn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ca.prototype.addLayer=function($,me,re){var xe=this.layerIndexes[$.id];xe===void 0&&(xe=this.layerIndexes[$.id]=new ya);var ze=!1,Ke={};xe.handleWrapJump(re);for(var ft=0,_t=me;ft<_t.length;ft+=1){var Vt=_t[ft],qt=Vt.getBucket($);!qt||$.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),xe.addBucket(Vt.tileID,qt,this.crossTileIDs)&&(ze=!0),Ke[qt.bucketInstanceId]=!0)}return xe.removeStaleBuckets(Ke)&&(ze=!0),ze},ca.prototype.pruneUnusedLayers=function($){var me={};$.forEach(function(xe){me[xe]=!0});for(var re in this.layerIndexes)me[re]||delete this.layerIndexes[re]};var ba=function(pe,$){return o.emitValidationErrors(pe,$&&$.filter(function(me){return me.identifier!=="source.canvas"}))},Ia=o.pick(zt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ii=o.pick(zt,["setCenter","setZoom","setBearing","setPitch"]),xi=tr(),hs=function(pe){function $(me,re){var xe=this;re===void 0&&(re={}),pe.call(this),this.map=me,this.dispatcher=new k(Nt(),this),this.imageManager=new T,this.imageManager.setEventedParent(this),this.glyphManager=new E(me._requestManager,re.localIdeographFontFamily),this.lineAtlas=new N(256,512),this.crossTileSymbolIndex=new ca,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());var ze=this;this._rtlTextPluginCallback=$.registerForPluginStateChange(function(Ke){var ft={pluginStatus:Ke.pluginStatus,pluginURL:Ke.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",ft,function(_t,Vt){if(o.triggerPluginCompletionEvent(_t),Vt){var qt=Vt.every(function(sr){return sr});if(qt)for(var fr in ze.sourceCaches)ze.sourceCaches[fr].reload()}})}),this.on("data",function(Ke){if(!(Ke.dataType!=="source"||Ke.sourceDataType!=="metadata")){var ft=xe.sourceCaches[Ke.sourceId];if(ft){var _t=ft.getSource();if(!(!_t||!_t.vectorLayerIds))for(var Vt in xe._layers){var qt=xe._layers[Vt];qt.source===_t.id&&xe._validateLayer(qt)}}}})}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.loadURL=function(re,xe){var ze=this;xe===void 0&&(xe={}),this.fire(new o.Event("dataloading",{dataType:"style"}));var Ke=typeof xe.validate=="boolean"?xe.validate:!o.isMapboxURL(re);re=this.map._requestManager.normalizeStyleURL(re,xe.accessToken);var ft=this.map._requestManager.transformRequest(re,o.ResourceType.Style);this._request=o.getJSON(ft,function(_t,Vt){ze._request=null,_t?ze.fire(new o.ErrorEvent(_t)):Vt&&ze._load(Vt,Ke)})},$.prototype.loadJSON=function(re,xe){var ze=this;xe===void 0&&(xe={}),this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.browser.frame(function(){ze._request=null,ze._load(re,xe.validate!==!1)})},$.prototype.loadEmpty=function(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(xi,!1)},$.prototype._load=function(re,xe){if(!(xe&&ba(this,o.validateStyle(re)))){this._loaded=!0,this.stylesheet=re;for(var ze in re.sources)this.addSource(ze,re.sources[ze],{validate:!1});re.sprite?this._loadSprite(re.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(re.glyphs);var Ke=cr(this.stylesheet.layers);this._order=Ke.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ft=0,_t=Ke;ft<_t.length;ft+=1){var Vt=_t[ft];Vt=o.createStyleLayer(Vt),Vt.setEventedParent(this,{layer:{id:Vt.id}}),this._layers[Vt.id]=Vt,this._serializedLayers[Vt.id]=Vt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}},$.prototype._loadSprite=function(re){var xe=this;this._spriteRequest=l(re,this.map._requestManager,function(ze,Ke){if(xe._spriteRequest=null,ze)xe.fire(new o.ErrorEvent(ze));else if(Ke)for(var ft in Ke)xe.imageManager.addImage(ft,Ke[ft]);xe.imageManager.setLoaded(!0),xe._availableImages=xe.imageManager.listImages(),xe.dispatcher.broadcast("setImages",xe._availableImages),xe.fire(new o.Event("data",{dataType:"style"}))})},$.prototype._validateLayer=function(re){var xe=this.sourceCaches[re.source];if(xe){var ze=re.sourceLayer;if(ze){var Ke=xe.getSource();(Ke.type==="geojson"||Ke.vectorLayerIds&&Ke.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new o.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Ke.id+'" as specified by style layer "'+re.id+'"')))}}},$.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var re in this.sourceCaches)if(!this.sourceCaches[re].loaded())return!1;return!!this.imageManager.isLoaded()},$.prototype._serializeLayers=function(re){for(var xe=[],ze=0,Ke=re;ze<Ke.length;ze+=1){var ft=Ke[ze],_t=this._layers[ft];_t.type!=="custom"&&xe.push(_t.serialize())}return xe},$.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var re in this.sourceCaches)if(this.sourceCaches[re].hasTransition())return!0;for(var xe in this._layers)if(this._layers[xe].hasTransition())return!0;return!1},$.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},$.prototype.update=function(re){if(this._loaded){var xe=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Ke=Object.keys(this._removedLayers);(ze.length||Ke.length)&&this._updateWorkerLayers(ze,Ke);for(var ft in this._updatedSources){var _t=this._updatedSources[ft];_t==="reload"?this._reloadSource(ft):_t==="clear"&&this._clearSource(ft)}this._updateTilesForChangedImages();for(var Vt in this._updatedPaintProps)this._layers[Vt].updateTransitions(re);this.light.updateTransitions(re),this._resetUpdates()}var qt={};for(var fr in this.sourceCaches){var sr=this.sourceCaches[fr];qt[fr]=sr.used,sr.used=!1}for(var kr=0,Kr=this._order;kr<Kr.length;kr+=1){var jr=Kr[kr],Xr=this._layers[jr];Xr.recalculate(re,this._availableImages),!Xr.isHidden(re.zoom)&&Xr.source&&(this.sourceCaches[Xr.source].used=!0)}for(var en in qt){var yn=this.sourceCaches[en];qt[en]!==yn.used&&yn.fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:en}))}this.light.recalculate(re),this.z=re.zoom,xe&&this.fire(new o.Event("data",{dataType:"style"}))}},$.prototype._updateTilesForChangedImages=function(){var re=Object.keys(this._changedImages);if(re.length){for(var xe in this.sourceCaches)this.sourceCaches[xe].reloadTilesForDependencies(["icons","patterns"],re);this._changedImages={}}},$.prototype._updateWorkerLayers=function(re,xe){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(re),removedIds:xe})},$.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},$.prototype.setState=function(re){var xe=this;if(this._checkLoaded(),ba(this,o.validateStyle(re)))return!1;re=o.clone$1(re),re.layers=cr(re.layers);var ze=_n(this.serialize(),re).filter(function(ft){return!(ft.command in Ii)});if(ze.length===0)return!1;var Ke=ze.filter(function(ft){return!(ft.command in Ia)});if(Ke.length>0)throw new Error("Unimplemented: "+Ke.map(function(ft){return ft.command}).join(", ")+".");return ze.forEach(function(ft){ft.command!=="setTransition"&&xe[ft.command].apply(xe,ft.args)}),this.stylesheet=re,!0},$.prototype.addImage=function(re,xe){if(this.getImage(re))return this.fire(new o.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(re,xe),this._afterImageUpdated(re)},$.prototype.updateImage=function(re,xe){this.imageManager.updateImage(re,xe)},$.prototype.getImage=function(re){return this.imageManager.getImage(re)},$.prototype.removeImage=function(re){if(!this.getImage(re))return this.fire(new o.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(re),this._afterImageUpdated(re)},$.prototype._afterImageUpdated=function(re){this._availableImages=this.imageManager.listImages(),this._changedImages[re]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))},$.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},$.prototype.addSource=function(re,xe,ze){var Ke=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[re]!==void 0)throw new Error("There is already a source with this ID");if(!xe.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(xe).join(", ")+".");var ft=["vector","raster","geojson","video","image"],_t=ft.indexOf(xe.type)>=0;if(!(_t&&this._validate(o.validateStyle.source,"sources."+re,xe,null,ze))){this.map&&this.map._collectResourceTiming&&(xe.collectResourceTiming=!0);var Vt=this.sourceCaches[re]=new Bt(re,xe,this.dispatcher);Vt.style=this,Vt.setEventedParent(this,function(){return{isSourceLoaded:Ke.loaded(),source:Vt.serialize(),sourceId:re}}),Vt.onAdd(this.map),this._changed=!0}},$.prototype.removeSource=function(re){if(this._checkLoaded(),this.sourceCaches[re]===void 0)throw new Error("There is no source with this ID");for(var xe in this._layers)if(this._layers[xe].source===re)return this.fire(new o.ErrorEvent(new Error('Source "'+re+'" cannot be removed while layer "'+xe+'" is using it.')));var ze=this.sourceCaches[re];delete this.sourceCaches[re],delete this._updatedSources[re],ze.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:re})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},$.prototype.setGeoJSONSourceData=function(re,xe){this._checkLoaded();var ze=this.sourceCaches[re].getSource();ze.setData(xe),this._changed=!0},$.prototype.getSource=function(re){return this.sourceCaches[re]&&this.sourceCaches[re].getSource()},$.prototype.addLayer=function(re,xe,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=re.id;if(this.getLayer(Ke)){this.fire(new o.ErrorEvent(new Error('Layer with id "'+Ke+'" already exists on this map')));return}var ft;if(re.type==="custom"){if(ba(this,o.validateCustomStyleLayer(re)))return;ft=o.createStyleLayer(re)}else{if(typeof re.source=="object"&&(this.addSource(Ke,re.source),re=o.clone$1(re),re=o.extend(re,{source:Ke})),this._validate(o.validateStyle.layer,"layers."+Ke,re,{arrayIndex:-1},ze))return;ft=o.createStyleLayer(re),this._validateLayer(ft),ft.setEventedParent(this,{layer:{id:Ke}}),this._serializedLayers[ft.id]=ft.serialize()}var _t=xe?this._order.indexOf(xe):this._order.length;if(xe&&_t===-1){this.fire(new o.ErrorEvent(new Error('Layer with id "'+xe+'" does not exist on this map.')));return}if(this._order.splice(_t,0,Ke),this._layerOrderChanged=!0,this._layers[Ke]=ft,this._removedLayers[Ke]&&ft.source&&ft.type!=="custom"){var Vt=this._removedLayers[Ke];delete this._removedLayers[Ke],Vt.type!==ft.type?this._updatedSources[ft.source]="clear":(this._updatedSources[ft.source]="reload",this.sourceCaches[ft.source].pause())}this._updateLayer(ft),ft.onAdd&&ft.onAdd(this.map)},$.prototype.moveLayer=function(re,xe){this._checkLoaded(),this._changed=!0;var ze=this._layers[re];if(!ze){this.fire(new o.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be moved.")));return}if(re!==xe){var Ke=this._order.indexOf(re);this._order.splice(Ke,1);var ft=xe?this._order.indexOf(xe):this._order.length;if(xe&&ft===-1){this.fire(new o.ErrorEvent(new Error('Layer with id "'+xe+'" does not exist on this map.')));return}this._order.splice(ft,0,re),this._layerOrderChanged=!0}},$.prototype.removeLayer=function(re){this._checkLoaded();var xe=this._layers[re];if(!xe){this.fire(new o.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be removed.")));return}xe.setEventedParent(null);var ze=this._order.indexOf(re);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[re]=xe,delete this._layers[re],delete this._serializedLayers[re],delete this._updatedLayers[re],delete this._updatedPaintProps[re],xe.onRemove&&xe.onRemove(this.map)},$.prototype.getLayer=function(re){return this._layers[re]},$.prototype.hasLayer=function(re){return re in this._layers},$.prototype.setLayerZoomRange=function(re,xe,ze){this._checkLoaded();var Ke=this.getLayer(re);if(!Ke){this.fire(new o.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot have zoom extent.")));return}Ke.minzoom===xe&&Ke.maxzoom===ze||(xe!=null&&(Ke.minzoom=xe),ze!=null&&(Ke.maxzoom=ze),this._updateLayer(Ke))},$.prototype.setFilter=function(re,xe,ze){ze===void 0&&(ze={}),this._checkLoaded();var Ke=this.getLayer(re);if(!Ke){this.fire(new o.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be filtered.")));return}if(!o.deepEqual(Ke.filter,xe)){if(xe==null){Ke.filter=void 0,this._updateLayer(Ke);return}this._validate(o.validateStyle.filter,"layers."+Ke.id+".filter",xe,null,ze)||(Ke.filter=o.clone$1(xe),this._updateLayer(Ke))}},$.prototype.getFilter=function(re){return o.clone$1(this.getLayer(re).filter)},$.prototype.setLayoutProperty=function(re,xe,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ft=this.getLayer(re);if(!ft){this.fire(new o.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}o.deepEqual(ft.getLayoutProperty(xe),ze)||(ft.setLayoutProperty(xe,ze,Ke),this._updateLayer(ft))},$.prototype.getLayoutProperty=function(re,xe){var ze=this.getLayer(re);if(!ze){this.fire(new o.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(xe)},$.prototype.setPaintProperty=function(re,xe,ze,Ke){Ke===void 0&&(Ke={}),this._checkLoaded();var ft=this.getLayer(re);if(!ft){this.fire(new o.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}if(!o.deepEqual(ft.getPaintProperty(xe),ze)){var _t=ft.setPaintProperty(xe,ze,Ke);_t&&this._updateLayer(ft),this._changed=!0,this._updatedPaintProps[re]=!0}},$.prototype.getPaintProperty=function(re,xe){return this.getLayer(re).getPaintProperty(xe)},$.prototype.setFeatureState=function(re,xe){this._checkLoaded();var ze=re.source,Ke=re.sourceLayer,ft=this.sourceCaches[ze];if(ft===void 0){this.fire(new o.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var _t=ft.getSource().type;if(_t==="geojson"&&Ke){this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(_t==="vector"&&!Ke){this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}re.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),ft.setFeatureState(Ke,re.id,xe)},$.prototype.removeFeatureState=function(re,xe){this._checkLoaded();var ze=re.source,Ke=this.sourceCaches[ze];if(Ke===void 0){this.fire(new o.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var ft=Ke.getSource().type,_t=ft==="vector"?re.sourceLayer:void 0;if(ft==="vector"&&!_t){this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(xe&&typeof re.id!="string"&&typeof re.id!="number"){this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Ke.removeFeatureState(_t,re.id,xe)},$.prototype.getFeatureState=function(re){this._checkLoaded();var xe=re.source,ze=re.sourceLayer,Ke=this.sourceCaches[xe];if(Ke===void 0){this.fire(new o.ErrorEvent(new Error("The source '"+xe+"' does not exist in the map's style.")));return}var ft=Ke.getSource().type;if(ft==="vector"&&!ze){this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return re.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),Ke.getFeatureState(ze,re.id)},$.prototype.getTransition=function(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},$.prototype.serialize=function(){return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:o.mapObject(this.sourceCaches,function(re){return re.serialize()}),layers:this._serializeLayers(this._order)},function(re){return re!==void 0})},$.prototype._updateLayer=function(re){this._updatedLayers[re.id]=!0,re.source&&!this._updatedSources[re.source]&&this.sourceCaches[re.source].getSource().type!=="raster"&&(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause()),this._changed=!0},$.prototype._flattenAndSortRenderedFeatures=function(re){for(var xe=this,ze=function(Va){return xe._layers[Va].type==="fill-extrusion"},Ke={},ft=[],_t=this._order.length-1;_t>=0;_t--){var Vt=this._order[_t];if(ze(Vt)){Ke[Vt]=_t;for(var qt=0,fr=re;qt<fr.length;qt+=1){var sr=fr[qt],kr=sr[Vt];if(kr)for(var Kr=0,jr=kr;Kr<jr.length;Kr+=1){var Xr=jr[Kr];ft.push(Xr)}}}}ft.sort(function(Va,hi){return hi.intersectionZ-Va.intersectionZ});for(var en=[],yn=this._order.length-1;yn>=0;yn--){var Fn=this._order[yn];if(ze(Fn))for(var Yn=ft.length-1;Yn>=0;Yn--){var Jn=ft[Yn].feature;if(Ke[Jn.layer.id]<yn)break;en.push(Jn),ft.pop()}else for(var Qn=0,jn=re;Qn<jn.length;Qn+=1){var qn=jn[Qn],sa=qn[Fn];if(sa)for(var va=0,Aa=sa;va<Aa.length;va+=1){var ma=Aa[va];en.push(ma.feature)}}}return en},$.prototype.queryRenderedFeatures=function(re,xe,ze){xe&&xe.filter&&this._validate(o.validateStyle.filter,"queryRenderedFeatures.filter",xe.filter,null,xe);var Ke={};if(xe&&xe.layers){if(!Array.isArray(xe.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ft=0,_t=xe.layers;ft<_t.length;ft+=1){var Vt=_t[ft],qt=this._layers[Vt];if(!qt)return this.fire(new o.ErrorEvent(new Error("The layer '"+Vt+"' does not exist in the map's style and cannot be queried for features."))),[];Ke[qt.source]=!0}}var fr=[];xe.availableImages=this._availableImages;for(var sr in this.sourceCaches)xe.layers&&!Ke[sr]||fr.push(J(this.sourceCaches[sr],this._layers,this._serializedLayers,re,xe,ze));return this.placement&&fr.push(K(this._layers,this._serializedLayers,this.sourceCaches,re,xe,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(fr)},$.prototype.querySourceFeatures=function(re,xe){xe&&xe.filter&&this._validate(o.validateStyle.filter,"querySourceFeatures.filter",xe.filter,null,xe);var ze=this.sourceCaches[re];return ze?ce(ze,xe):[]},$.prototype.addSourceType=function(re,xe,ze){if($.getSourceType(re))return ze(new Error('A source type called "'+re+'" already exists.'));if($.setSourceType(re,xe),!xe.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:re,url:xe.workerSourceURL},ze)},$.prototype.getLight=function(){return this.light.getLight()},$.prototype.setLight=function(re,xe){xe===void 0&&(xe={}),this._checkLoaded();var ze=this.light.getLight(),Ke=!1;for(var ft in re)if(!o.deepEqual(re[ft],ze[ft])){Ke=!0;break}if(Ke){var _t={now:o.browser.now(),transition:o.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(re,xe),this.light.updateTransitions(_t)}},$.prototype._validate=function(re,xe,ze,Ke,ft){return ft===void 0&&(ft={}),ft&&ft.validate===!1?!1:ba(this,re.call(o.validateStyle,o.extend({key:xe,style:this.serialize(),value:ze,styleSpec:o.styleSpec},Ke)))},$.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var re in this._layers){var xe=this._layers[re];xe.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},$.prototype._clearSource=function(re){this.sourceCaches[re].clearTiles()},$.prototype._reloadSource=function(re){this.sourceCaches[re].resume(),this.sourceCaches[re].reload()},$.prototype._updateSources=function(re){for(var xe in this.sourceCaches)this.sourceCaches[xe].update(re)},$.prototype._generateCollisionBoxes=function(){for(var re in this.sourceCaches)this._reloadSource(re)},$.prototype._updatePlacement=function(re,xe,ze,Ke,ft){ft===void 0&&(ft=!1);for(var _t=!1,Vt=!1,qt={},fr=0,sr=this._order;fr<sr.length;fr+=1){var kr=sr[fr],Kr=this._layers[kr];if(Kr.type==="symbol"){if(!qt[Kr.source]){var jr=this.sourceCaches[Kr.source];qt[Kr.source]=jr.getRenderableIds(!0).map(function(Qn){return jr.getTileByID(Qn)}).sort(function(Qn,jn){return jn.tileID.overscaledZ-Qn.tileID.overscaledZ||(Qn.tileID.isLessThan(jn.tileID)?-1:1)})}var Xr=this.crossTileSymbolIndex.addLayer(Kr,qt[Kr.source],re.center.lng);_t=_t||Xr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ft=ft||this._layerOrderChanged||ze===0,(ft||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.browser.now(),re.zoom))&&(this.pauseablePlacement=new Bn(re,this._order,ft,xe,ze,Ke,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.browser.now()),Vt=!0),_t&&this.pauseablePlacement.placement.setStale()),Vt||_t)for(var en=0,yn=this._order;en<yn.length;en+=1){var Fn=yn[en],Yn=this._layers[Fn];Yn.type==="symbol"&&this.placement.updateLayerOpacities(Yn,qt[Yn.source])}var Jn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.browser.now());return Jn},$.prototype._releaseSymbolFadeTiles=function(){for(var re in this.sourceCaches)this.sourceCaches[re].releaseSymbolFadeTiles()},$.prototype.getImages=function(re,xe,ze){this.imageManager.getImages(xe.icons,ze),this._updateTilesForChangedImages();var Ke=this.sourceCaches[xe.source];Ke&&Ke.setDependencies(xe.tileID.key,xe.type,xe.icons)},$.prototype.getGlyphs=function(re,xe,ze){this.glyphManager.getGlyphs(xe.stacks,ze)},$.prototype.getResource=function(re,xe,ze){return o.makeRequest(xe,ze)},$}(o.Evented);hs.getSourceType=le,hs.setSourceType=Q,hs.registerForPluginStateChange=o.registerForPluginStateChange;var ns=o.createLayout([{name:"a_pos",type:"Int16",components:2}]),Po=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,hu=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,dc=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nh="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",gi=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",pc=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Mo=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Jo="void main() {gl_FragColor=vec4(1.0);}",vu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Rf=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,oo=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,du=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,fo="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",mo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",pu="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Ro="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Io="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",vs="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",ah="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",as=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lv=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Ws=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Eo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,gc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tl=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Gs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,ih=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uv=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,If=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fv=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,cv=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hv="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",mc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,vv="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",dv=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,oh=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,sh=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,gu=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Gu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lh=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,al=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pv="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Of=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uh=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,fh=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,_s=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Gl=Oi(Po,hu),Xu=Oi(dc,nh),Al=Oi(gi,Yu),Xs=Oi(pc,Mo),xc=Oi(Jo,vu),mu=Oi(Rf,oo),Cs=Oi(du,fo),to=Oi(mo,pu),bc=Oi(Ro,Io),gv=Oi(vs,ah),Nf=Oi(as,lv),xu=Oi(Ws,Eo),bu=Oi(gc,Tl),is=Oi(Gs,yc),Ff=Oi(ih,uv),wu=Oi(If,fv),zf=Oi(cv,hv),yv=Oi(mc,vv),ch=Oi(dv,oh),wc=Oi(sh,Wl),Tc=Oi(gu,Wu),Ac=Oi(Gu,lh),Tu=Oi(al,pv),Bf=Oi(Of,uh),Zu=Oi(fh,kf),Uf=Oi(_s,yu);function Oi(pe,$){var me=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,re=$.match(/attribute ([\w]+) ([\w]+)/g),xe=pe.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ze=$.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Ke=ze?ze.concat(xe):xe,ft={};return pe=pe.replace(me,function(_t,Vt,qt,fr,sr){return ft[sr]=!0,Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
varying `+qt+" "+fr+" "+sr+`;
#else
uniform `+qt+" "+fr+" u_"+sr+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+fr+" "+sr+" = u_"+sr+`;
#endif
`}),$=$.replace(me,function(_t,Vt,qt,fr,sr){var kr=fr==="float"?"vec2":"vec4",Kr=sr.match(/color/)?"color":kr;return ft[sr]?Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+qt+" "+kr+" a_"+sr+`;
varying `+qt+" "+fr+" "+sr+`;
#else
uniform `+qt+" "+fr+" u_"+sr+`;
#endif
`:Kr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = a_"+sr+`;
#else
    `+qt+" "+fr+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+sr+" = unpack_mix_"+Kr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+qt+" "+fr+" "+sr+" = u_"+sr+`;
#endif
`:Vt==="define"?`
#ifndef HAS_UNIFORM_u_`+sr+`
uniform lowp float u_`+sr+`_t;
attribute `+qt+" "+kr+" a_"+sr+`;
#else
uniform `+qt+" "+fr+" u_"+sr+`;
#endif
`:Kr==="vec4"?`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+fr+" "+sr+" = a_"+sr+`;
#else
    `+qt+" "+fr+" "+sr+" = u_"+sr+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+sr+`
    `+qt+" "+fr+" "+sr+" = unpack_mix_"+Kr+"(a_"+sr+", u_"+sr+`_t);
#else
    `+qt+" "+fr+" "+sr+" = u_"+sr+`;
#endif
`}),{fragmentSource:pe,vertexSource:$,staticAttributes:re,staticUniforms:Ke}}var hh=Object.freeze({__proto__:null,prelude:Gl,background:Xu,backgroundPattern:Al,circle:Xs,clippingMask:xc,heatmap:mu,heatmapTexture:Cs,collisionBox:to,collisionCircle:bc,debug:gv,fill:Nf,fillOutline:xu,fillOutlinePattern:bu,fillPattern:is,fillExtrusion:Ff,fillExtrusionPattern:wu,hillshadePrepare:zf,hillshade:yv,line:ch,lineGradient:wc,linePattern:Tc,lineSDF:Ac,raster:Tu,symbolIcon:Bf,symbolSDF:Zu,symbolTextAndIcon:Uf}),Ls=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Ls.prototype.bind=function($,me,re,xe,ze,Ke,ft,_t){this.context=$;for(var Vt=this.boundPaintVertexBuffers.length!==xe.length,qt=0;!Vt&&qt<xe.length;qt++)this.boundPaintVertexBuffers[qt]!==xe[qt]&&(Vt=!0);var fr=!this.vao||this.boundProgram!==me||this.boundLayoutVertexBuffer!==re||Vt||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Ke||this.boundDynamicVertexBuffer!==ft||this.boundDynamicVertexBuffer2!==_t;!$.extVertexArrayObject||fr?this.freshBind(me,re,xe,ze,Ke,ft,_t):($.bindVertexArrayOES.set(this.vao),ft&&ft.bind(),ze&&ze.dynamicDraw&&ze.bind(),_t&&_t.bind())},Ls.prototype.freshBind=function($,me,re,xe,ze,Ke,ft){var _t,Vt=$.numAttributes,qt=this.context,fr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),_t=0,this.boundProgram=$,this.boundLayoutVertexBuffer=me,this.boundPaintVertexBuffers=re,this.boundIndexBuffer=xe,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Ke,this.boundDynamicVertexBuffer2=ft;else{_t=qt.currentNumAttributes||0;for(var sr=Vt;sr<_t;sr++)fr.disableVertexAttribArray(sr)}me.enableAttributes(fr,$);for(var kr=0,Kr=re;kr<Kr.length;kr+=1){var jr=Kr[kr];jr.enableAttributes(fr,$)}Ke&&Ke.enableAttributes(fr,$),ft&&ft.enableAttributes(fr,$),me.bind(),me.setVertexAttribPointers(fr,$,ze);for(var Xr=0,en=re;Xr<en.length;Xr+=1){var yn=en[Xr];yn.bind(),yn.setVertexAttribPointers(fr,$,ze)}Ke&&(Ke.bind(),Ke.setVertexAttribPointers(fr,$,ze)),xe&&xe.bind(),ft&&(ft.bind(),ft.setVertexAttribPointers(fr,$,ze)),qt.currentNumAttributes=Vt},Ls.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function vh(pe){for(var $=[],me=0;me<pe.length;me++)if(pe[me]!==null){var re=pe[me].split(" ");$.push(re.pop())}return $}var Sc=function($,me,re,xe,ze,Ke){var ft=$.gl;this.program=ft.createProgram();for(var _t=vh(re.staticAttributes),Vt=xe?xe.getBinderAttributes():[],qt=_t.concat(Vt),fr=re.staticUniforms?vh(re.staticUniforms):[],sr=xe?xe.getBinderUniforms():[],kr=fr.concat(sr),Kr=[],jr=0,Xr=kr;jr<Xr.length;jr+=1){var en=Xr[jr];Kr.indexOf(en)<0&&Kr.push(en)}var yn=xe?xe.defines():[];Ke&&yn.push("#define OVERDRAW_INSPECTOR;");var Fn=yn.concat(Gl.fragmentSource,re.fragmentSource).join(`
`),Yn=yn.concat(Gl.vertexSource,re.vertexSource).join(`
`),Jn=ft.createShader(ft.FRAGMENT_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Jn,Fn),ft.compileShader(Jn),ft.attachShader(this.program,Jn);var Qn=ft.createShader(ft.VERTEX_SHADER);if(ft.isContextLost()){this.failedToCreate=!0;return}ft.shaderSource(Qn,Yn),ft.compileShader(Qn),ft.attachShader(this.program,Qn),this.attributes={};var jn={};this.numAttributes=qt.length;for(var qn=0;qn<this.numAttributes;qn++)qt[qn]&&(ft.bindAttribLocation(this.program,qn,qt[qn]),this.attributes[qt[qn]]=qn);ft.linkProgram(this.program),ft.deleteShader(Qn),ft.deleteShader(Jn);for(var sa=0;sa<Kr.length;sa++){var va=Kr[sa];if(va&&!jn[va]){var Aa=ft.getUniformLocation(this.program,va);Aa&&(jn[va]=Aa)}}this.fixedUniforms=ze($,jn),this.binderUniforms=xe?xe.getUniforms($,jn):[]};Sc.prototype.draw=function($,me,re,xe,ze,Ke,ft,_t,Vt,qt,fr,sr,kr,Kr,jr,Xr){var en,yn=$.gl;if(!this.failedToCreate){$.program.set(this.program),$.setDepthMode(re),$.setStencilMode(xe),$.setColorMode(ze),$.setCullFace(Ke);for(var Fn in this.fixedUniforms)this.fixedUniforms[Fn].set(ft[Fn]);Kr&&Kr.setUniforms($,this.binderUniforms,sr,{zoom:kr});for(var Yn=(en={},en[yn.LINES]=2,en[yn.TRIANGLES]=3,en[yn.LINE_STRIP]=1,en)[me],Jn=0,Qn=fr.get();Jn<Qn.length;Jn+=1){var jn=Qn[Jn],qn=jn.vaos||(jn.vaos={}),sa=qn[_t]||(qn[_t]=new Ls);sa.bind($,this,Vt,Kr?Kr.getPaintVertexBuffers():[],qt,jn.vertexOffset,jr,Xr),yn.drawElements(me,jn.primitiveLength*Yn,yn.UNSIGNED_SHORT,jn.primitiveOffset*Yn*2)}}};function Xl(pe,$,me){var re=1/gn(me,1,$.transform.tileZoom),xe=Math.pow(2,me.tileID.overscaledZ),ze=me.tileSize*Math.pow(2,$.transform.tileZoom)/xe,Ke=ze*(me.tileID.canonical.x+me.tileID.wrap*xe),ft=ze*me.tileID.canonical.y;return{u_image:0,u_texsize:me.imageAtlasTexture.size,u_scale:[re,pe.fromScale,pe.toScale],u_fade:pe.t,u_pixel_coord_upper:[Ke>>16,ft>>16],u_pixel_coord_lower:[Ke&65535,ft&65535]}}function Sl(pe,$,me,re){var xe=me.imageManager.getPattern(pe.from.toString()),ze=me.imageManager.getPattern(pe.to.toString()),Ke=me.imageManager.getPixelSize(),ft=Ke.width,_t=Ke.height,Vt=Math.pow(2,re.tileID.overscaledZ),qt=re.tileSize*Math.pow(2,me.transform.tileZoom)/Vt,fr=qt*(re.tileID.canonical.x+re.tileID.wrap*Vt),sr=qt*re.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:xe.tl,u_pattern_br_a:xe.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[ft,_t],u_mix:$.t,u_pattern_size_a:xe.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:$.fromScale,u_scale_b:$.toScale,u_tile_units_to_pixels:1/gn(re,1,me.transform.tileZoom),u_pixel_coord_upper:[fr>>16,sr>>16],u_pixel_coord_lower:[fr&65535,sr&65535]}}var Vf=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_lightpos:new o.Uniform3f(pe,$.u_lightpos),u_lightintensity:new o.Uniform1f(pe,$.u_lightintensity),u_lightcolor:new o.Uniform3f(pe,$.u_lightcolor),u_vertical_gradient:new o.Uniform1f(pe,$.u_vertical_gradient),u_opacity:new o.Uniform1f(pe,$.u_opacity)}},so=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_lightpos:new o.Uniform3f(pe,$.u_lightpos),u_lightintensity:new o.Uniform1f(pe,$.u_lightintensity),u_lightcolor:new o.Uniform3f(pe,$.u_lightcolor),u_vertical_gradient:new o.Uniform1f(pe,$.u_vertical_gradient),u_height_factor:new o.Uniform1f(pe,$.u_height_factor),u_image:new o.Uniform1i(pe,$.u_image),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_pixel_coord_upper:new o.Uniform2f(pe,$.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(pe,$.u_pixel_coord_lower),u_scale:new o.Uniform3f(pe,$.u_scale),u_fade:new o.Uniform1f(pe,$.u_fade),u_opacity:new o.Uniform1f(pe,$.u_opacity)}},ju=function(pe,$,me,re){var xe=$.style.light,ze=xe.properties.get("position"),Ke=[ze.x,ze.y,ze.z],ft=o.create$1();xe.properties.get("anchor")==="viewport"&&o.fromRotation(ft,-$.transform.angle),o.transformMat3(Ke,Ke,ft);var _t=xe.properties.get("color");return{u_matrix:pe,u_lightpos:Ke,u_lightintensity:xe.properties.get("intensity"),u_lightcolor:[_t.r,_t.g,_t.b],u_vertical_gradient:+me,u_opacity:re}},Ds=function(pe,$,me,re,xe,ze,Ke){return o.extend(ju(pe,$,me,re),Xl(ze,$,Ke),{u_height_factor:-Math.pow(2,xe.overscaledZ)/Ke.tileSize/8})},il=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix)}},Zl=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_image:new o.Uniform1i(pe,$.u_image),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_pixel_coord_upper:new o.Uniform2f(pe,$.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(pe,$.u_pixel_coord_lower),u_scale:new o.Uniform3f(pe,$.u_scale),u_fade:new o.Uniform1f(pe,$.u_fade)}},Ml=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_world:new o.Uniform2f(pe,$.u_world)}},Ps=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_world:new o.Uniform2f(pe,$.u_world),u_image:new o.Uniform1i(pe,$.u_image),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_pixel_coord_upper:new o.Uniform2f(pe,$.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(pe,$.u_pixel_coord_lower),u_scale:new o.Uniform3f(pe,$.u_scale),u_fade:new o.Uniform1f(pe,$.u_fade)}},ol=function(pe){return{u_matrix:pe}},Rs=function(pe,$,me,re){return o.extend(ol(pe),Xl(me,$,re))},ms=function(pe,$){return{u_matrix:pe,u_world:$}},Ku=function(pe,$,me,re,xe){return o.extend(Rs(pe,$,me,re),{u_world:xe})},mv=function(pe,$){return{u_camera_to_center_distance:new o.Uniform1f(pe,$.u_camera_to_center_distance),u_scale_with_map:new o.Uniform1i(pe,$.u_scale_with_map),u_pitch_with_map:new o.Uniform1i(pe,$.u_pitch_with_map),u_extrude_scale:new o.Uniform2f(pe,$.u_extrude_scale),u_device_pixel_ratio:new o.Uniform1f(pe,$.u_device_pixel_ratio),u_matrix:new o.UniformMatrix4f(pe,$.u_matrix)}},xv=function(pe,$,me,re){var xe=pe.transform,ze,Ke;if(re.paint.get("circle-pitch-alignment")==="map"){var ft=gn(me,1,xe.zoom);ze=!0,Ke=[ft,ft]}else ze=!1,Ke=xe.pixelsToGLUnits;return{u_camera_to_center_distance:xe.cameraToCenterDistance,u_scale_with_map:+(re.paint.get("circle-pitch-scale")==="map"),u_matrix:pe.translatePosMatrix($.posMatrix,me,re.paint.get("circle-translate"),re.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:o.browser.devicePixelRatio,u_extrude_scale:Ke}},bv=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_camera_to_center_distance:new o.Uniform1f(pe,$.u_camera_to_center_distance),u_pixels_to_tile_units:new o.Uniform1f(pe,$.u_pixels_to_tile_units),u_extrude_scale:new o.Uniform2f(pe,$.u_extrude_scale),u_overscale_factor:new o.Uniform1f(pe,$.u_overscale_factor)}},wv=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_inv_matrix:new o.UniformMatrix4f(pe,$.u_inv_matrix),u_camera_to_center_distance:new o.Uniform1f(pe,$.u_camera_to_center_distance),u_viewport_size:new o.Uniform2f(pe,$.u_viewport_size)}},Mc=function(pe,$,me){var re=gn(me,1,$.zoom),xe=Math.pow(2,$.zoom-me.tileID.overscaledZ),ze=me.tileID.overscaleFactor();return{u_matrix:pe,u_camera_to_center_distance:$.cameraToCenterDistance,u_pixels_to_tile_units:re,u_extrude_scale:[$.pixelsToGLUnits[0]/(re*xe),$.pixelsToGLUnits[1]/(re*xe)],u_overscale_factor:ze}},dh=function(pe,$,me){return{u_matrix:pe,u_inv_matrix:$,u_camera_to_center_distance:me.cameraToCenterDistance,u_viewport_size:[me.width,me.height]}},Au=function(pe,$){return{u_color:new o.UniformColor(pe,$.u_color),u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_overlay:new o.Uniform1i(pe,$.u_overlay),u_overlay_scale:new o.Uniform1f(pe,$.u_overlay_scale)}},_o=function(pe,$,me){return me===void 0&&(me=1),{u_matrix:pe,u_color:$,u_overlay:0,u_overlay_scale:me}},ds=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix)}},Su=function(pe){return{u_matrix:pe}},ph=function(pe,$){return{u_extrude_scale:new o.Uniform1f(pe,$.u_extrude_scale),u_intensity:new o.Uniform1f(pe,$.u_intensity),u_matrix:new o.UniformMatrix4f(pe,$.u_matrix)}},Ju=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_world:new o.Uniform2f(pe,$.u_world),u_image:new o.Uniform1i(pe,$.u_image),u_color_ramp:new o.Uniform1i(pe,$.u_color_ramp),u_opacity:new o.Uniform1f(pe,$.u_opacity)}},sl=function(pe,$,me,re){return{u_matrix:pe,u_extrude_scale:gn($,1,me),u_intensity:re}},Tv=function(pe,$,me,re){var xe=o.create();o.ortho(xe,0,pe.width,pe.height,0,0,1);var ze=pe.context.gl;return{u_matrix:xe,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:me,u_color_ramp:re,u_opacity:$.paint.get("heatmap-opacity")}},gh=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_image:new o.Uniform1i(pe,$.u_image),u_latrange:new o.Uniform2f(pe,$.u_latrange),u_light:new o.Uniform2f(pe,$.u_light),u_shadow:new o.UniformColor(pe,$.u_shadow),u_highlight:new o.UniformColor(pe,$.u_highlight),u_accent:new o.UniformColor(pe,$.u_accent)}},yh=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_image:new o.Uniform1i(pe,$.u_image),u_dimension:new o.Uniform2f(pe,$.u_dimension),u_zoom:new o.Uniform1f(pe,$.u_zoom),u_unpack:new o.Uniform4f(pe,$.u_unpack)}},Ec=function(pe,$,me){var re=me.paint.get("hillshade-shadow-color"),xe=me.paint.get("hillshade-highlight-color"),ze=me.paint.get("hillshade-accent-color"),Ke=me.paint.get("hillshade-illumination-direction")*(Math.PI/180);me.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ke-=pe.transform.angle);var ft=!pe.options.moving;return{u_matrix:pe.transform.calculatePosMatrix($.tileID.toUnwrapped(),ft),u_image:0,u_latrange:Qo(pe,$.tileID),u_light:[me.paint.get("hillshade-exaggeration"),Ke],u_shadow:re,u_highlight:xe,u_accent:ze}},mh=function(pe,$){var me=$.stride,re=o.create();return o.ortho(re,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(re,re,[0,-o.EXTENT,0]),{u_matrix:re,u_image:1,u_dimension:[me,me],u_zoom:pe.overscaledZ,u_unpack:$.getUnpackVector()}};function Qo(pe,$){var me=Math.pow(2,$.canonical.z),re=$.canonical.y;return[new o.MercatorCoordinate(0,re/me).toLngLat().lat,new o.MercatorCoordinate(0,(re+1)/me).toLngLat().lat]}var Is=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_ratio:new o.Uniform1f(pe,$.u_ratio),u_device_pixel_ratio:new o.Uniform1f(pe,$.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(pe,$.u_units_to_pixels)}},El=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_ratio:new o.Uniform1f(pe,$.u_ratio),u_device_pixel_ratio:new o.Uniform1f(pe,$.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(pe,$.u_units_to_pixels),u_image:new o.Uniform1i(pe,$.u_image),u_image_height:new o.Uniform1f(pe,$.u_image_height)}},Mu=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_ratio:new o.Uniform1f(pe,$.u_ratio),u_device_pixel_ratio:new o.Uniform1f(pe,$.u_device_pixel_ratio),u_image:new o.Uniform1i(pe,$.u_image),u_units_to_pixels:new o.Uniform2f(pe,$.u_units_to_pixels),u_scale:new o.Uniform3f(pe,$.u_scale),u_fade:new o.Uniform1f(pe,$.u_fade)}},Hf=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_ratio:new o.Uniform1f(pe,$.u_ratio),u_device_pixel_ratio:new o.Uniform1f(pe,$.u_device_pixel_ratio),u_units_to_pixels:new o.Uniform2f(pe,$.u_units_to_pixels),u_patternscale_a:new o.Uniform2f(pe,$.u_patternscale_a),u_patternscale_b:new o.Uniform2f(pe,$.u_patternscale_b),u_sdfgamma:new o.Uniform1f(pe,$.u_sdfgamma),u_image:new o.Uniform1i(pe,$.u_image),u_tex_y_a:new o.Uniform1f(pe,$.u_tex_y_a),u_tex_y_b:new o.Uniform1f(pe,$.u_tex_y_b),u_mix:new o.Uniform1f(pe,$.u_mix)}},jl=function(pe,$,me){var re=pe.transform;return{u_matrix:_l(pe,$,me),u_ratio:1/gn($,1,re.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_units_to_pixels:[1/re.pixelsToGLUnits[0],1/re.pixelsToGLUnits[1]]}},Kl=function(pe,$,me,re){return o.extend(jl(pe,$,me),{u_image:0,u_image_height:re})},xh=function(pe,$,me,re){var xe=pe.transform,ze=Eu($,xe);return{u_matrix:_l(pe,$,me),u_texsize:$.imageAtlasTexture.size,u_ratio:1/gn($,1,xe.zoom),u_device_pixel_ratio:o.browser.devicePixelRatio,u_image:0,u_scale:[ze,re.fromScale,re.toScale],u_fade:re.t,u_units_to_pixels:[1/xe.pixelsToGLUnits[0],1/xe.pixelsToGLUnits[1]]}},ll=function(pe,$,me,re,xe){var ze=pe.transform,Ke=pe.lineAtlas,ft=Eu($,ze),_t=me.layout.get("line-cap")==="round",Vt=Ke.getDash(re.from,_t),qt=Ke.getDash(re.to,_t),fr=Vt.width*xe.fromScale,sr=qt.width*xe.toScale;return o.extend(jl(pe,$,me),{u_patternscale_a:[ft/fr,-Vt.height/2],u_patternscale_b:[ft/sr,-qt.height/2],u_sdfgamma:Ke.width/(Math.min(fr,sr)*256*o.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Vt.y,u_tex_y_b:qt.y,u_mix:xe.t})};function Eu(pe,$){return 1/gn(pe,1,$.tileZoom)}function _l(pe,$,me){return pe.translatePosMatrix($.tileID.posMatrix,$,me.paint.get("line-translate"),me.paint.get("line-translate-anchor"))}var ul=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_tl_parent:new o.Uniform2f(pe,$.u_tl_parent),u_scale_parent:new o.Uniform1f(pe,$.u_scale_parent),u_buffer_scale:new o.Uniform1f(pe,$.u_buffer_scale),u_fade_t:new o.Uniform1f(pe,$.u_fade_t),u_opacity:new o.Uniform1f(pe,$.u_opacity),u_image0:new o.Uniform1i(pe,$.u_image0),u_image1:new o.Uniform1i(pe,$.u_image1),u_brightness_low:new o.Uniform1f(pe,$.u_brightness_low),u_brightness_high:new o.Uniform1f(pe,$.u_brightness_high),u_saturation_factor:new o.Uniform1f(pe,$.u_saturation_factor),u_contrast_factor:new o.Uniform1f(pe,$.u_contrast_factor),u_spin_weights:new o.Uniform3f(pe,$.u_spin_weights)}},Qu=function(pe,$,me,re,xe){return{u_matrix:pe,u_tl_parent:$,u_scale_parent:me,u_buffer_scale:1,u_fade_t:re.mix,u_opacity:re.opacity*xe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:xe.paint.get("raster-brightness-min"),u_brightness_high:xe.paint.get("raster-brightness-max"),u_saturation_factor:Cu(xe.paint.get("raster-saturation")),u_contrast_factor:Di(xe.paint.get("raster-contrast")),u_spin_weights:_u(xe.paint.get("raster-hue-rotate"))}};function _u(pe){pe*=Math.PI/180;var $=Math.sin(pe),me=Math.cos(pe);return[(2*me+1)/3,(-Math.sqrt(3)*$-me+1)/3,(Math.sqrt(3)*$-me+1)/3]}function Di(pe){return pe>0?1/(1-pe):1+pe}function Cu(pe){return pe>0?1-1/(1.001-pe):-pe}var Yf=function(pe,$){return{u_is_size_zoom_constant:new o.Uniform1i(pe,$.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(pe,$.u_is_size_feature_constant),u_size_t:new o.Uniform1f(pe,$.u_size_t),u_size:new o.Uniform1f(pe,$.u_size),u_camera_to_center_distance:new o.Uniform1f(pe,$.u_camera_to_center_distance),u_pitch:new o.Uniform1f(pe,$.u_pitch),u_rotate_symbol:new o.Uniform1i(pe,$.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(pe,$.u_aspect_ratio),u_fade_change:new o.Uniform1f(pe,$.u_fade_change),u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(pe,$.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(pe,$.u_coord_matrix),u_is_text:new o.Uniform1i(pe,$.u_is_text),u_pitch_with_map:new o.Uniform1i(pe,$.u_pitch_with_map),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_texture:new o.Uniform1i(pe,$.u_texture)}},bh=function(pe,$){return{u_is_size_zoom_constant:new o.Uniform1i(pe,$.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(pe,$.u_is_size_feature_constant),u_size_t:new o.Uniform1f(pe,$.u_size_t),u_size:new o.Uniform1f(pe,$.u_size),u_camera_to_center_distance:new o.Uniform1f(pe,$.u_camera_to_center_distance),u_pitch:new o.Uniform1f(pe,$.u_pitch),u_rotate_symbol:new o.Uniform1i(pe,$.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(pe,$.u_aspect_ratio),u_fade_change:new o.Uniform1f(pe,$.u_fade_change),u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(pe,$.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(pe,$.u_coord_matrix),u_is_text:new o.Uniform1i(pe,$.u_is_text),u_pitch_with_map:new o.Uniform1i(pe,$.u_pitch_with_map),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_texture:new o.Uniform1i(pe,$.u_texture),u_gamma_scale:new o.Uniform1f(pe,$.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(pe,$.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(pe,$.u_is_halo)}},Lu=function(pe,$){return{u_is_size_zoom_constant:new o.Uniform1i(pe,$.u_is_size_zoom_constant),u_is_size_feature_constant:new o.Uniform1i(pe,$.u_is_size_feature_constant),u_size_t:new o.Uniform1f(pe,$.u_size_t),u_size:new o.Uniform1f(pe,$.u_size),u_camera_to_center_distance:new o.Uniform1f(pe,$.u_camera_to_center_distance),u_pitch:new o.Uniform1f(pe,$.u_pitch),u_rotate_symbol:new o.Uniform1i(pe,$.u_rotate_symbol),u_aspect_ratio:new o.Uniform1f(pe,$.u_aspect_ratio),u_fade_change:new o.Uniform1f(pe,$.u_fade_change),u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_label_plane_matrix:new o.UniformMatrix4f(pe,$.u_label_plane_matrix),u_coord_matrix:new o.UniformMatrix4f(pe,$.u_coord_matrix),u_is_text:new o.Uniform1i(pe,$.u_is_text),u_pitch_with_map:new o.Uniform1i(pe,$.u_pitch_with_map),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_texsize_icon:new o.Uniform2f(pe,$.u_texsize_icon),u_texture:new o.Uniform1i(pe,$.u_texture),u_texture_icon:new o.Uniform1i(pe,$.u_texture_icon),u_gamma_scale:new o.Uniform1f(pe,$.u_gamma_scale),u_device_pixel_ratio:new o.Uniform1f(pe,$.u_device_pixel_ratio),u_is_halo:new o.Uniform1i(pe,$.u_is_halo)}},$u=function(pe,$,me,re,xe,ze,Ke,ft,_t,Vt){var qt=xe.transform;return{u_is_size_zoom_constant:+(pe==="constant"||pe==="source"),u_is_size_feature_constant:+(pe==="constant"||pe==="camera"),u_size_t:$?$.uSizeT:0,u_size:$?$.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+me,u_aspect_ratio:qt.width/qt.height,u_fade_change:xe.options.fadeDuration?xe.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Ke,u_coord_matrix:ft,u_is_text:+_t,u_pitch_with_map:+re,u_texsize:Vt,u_texture:0}},Wf=function(pe,$,me,re,xe,ze,Ke,ft,_t,Vt,qt){var fr=xe.transform;return o.extend($u(pe,$,me,re,xe,ze,Ke,ft,_t,Vt),{u_gamma_scale:re?Math.cos(fr._pitch)*fr.cameraToCenterDistance:1,u_device_pixel_ratio:o.browser.devicePixelRatio,u_is_halo:+qt})},_c=function(pe,$,me,re,xe,ze,Ke,ft,_t,Vt){return o.extend(Wf(pe,$,me,re,xe,ze,Ke,ft,!0,_t,!0),{u_texsize_icon:Vt,u_texture_icon:1})},qu=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_opacity:new o.Uniform1f(pe,$.u_opacity),u_color:new o.UniformColor(pe,$.u_color)}},ef=function(pe,$){return{u_matrix:new o.UniformMatrix4f(pe,$.u_matrix),u_opacity:new o.Uniform1f(pe,$.u_opacity),u_image:new o.Uniform1i(pe,$.u_image),u_pattern_tl_a:new o.Uniform2f(pe,$.u_pattern_tl_a),u_pattern_br_a:new o.Uniform2f(pe,$.u_pattern_br_a),u_pattern_tl_b:new o.Uniform2f(pe,$.u_pattern_tl_b),u_pattern_br_b:new o.Uniform2f(pe,$.u_pattern_br_b),u_texsize:new o.Uniform2f(pe,$.u_texsize),u_mix:new o.Uniform1f(pe,$.u_mix),u_pattern_size_a:new o.Uniform2f(pe,$.u_pattern_size_a),u_pattern_size_b:new o.Uniform2f(pe,$.u_pattern_size_b),u_scale_a:new o.Uniform1f(pe,$.u_scale_a),u_scale_b:new o.Uniform1f(pe,$.u_scale_b),u_pixel_coord_upper:new o.Uniform2f(pe,$.u_pixel_coord_upper),u_pixel_coord_lower:new o.Uniform2f(pe,$.u_pixel_coord_lower),u_tile_units_to_pixels:new o.Uniform1f(pe,$.u_tile_units_to_pixels)}},Cl=function(pe,$,me){return{u_matrix:pe,u_opacity:$,u_color:me}},tf=function(pe,$,me,re,xe,ze){return o.extend(Sl(re,ze,me,xe),{u_matrix:pe,u_opacity:$})},Ll={fillExtrusion:Vf,fillExtrusionPattern:so,fill:il,fillPattern:Zl,fillOutline:Ml,fillOutlinePattern:Ps,circle:mv,collisionBox:bv,collisionCircle:wv,debug:Au,clippingMask:ds,heatmap:ph,heatmapTexture:Ju,hillshade:gh,hillshadePrepare:yh,line:Is,lineGradient:El,linePattern:Mu,lineSDF:Hf,raster:ul,symbolIcon:Yf,symbolSDF:bh,symbolTextAndIcon:Lu,background:qu,backgroundPattern:ef},xo;function Zs(pe,$,me,re,xe,ze,Ke){for(var ft=pe.context,_t=ft.gl,Vt=pe.useProgram("collisionBox"),qt=[],fr=0,sr=0,kr=0;kr<re.length;kr++){var Kr=re[kr],jr=$.getTile(Kr),Xr=jr.getBucket(me);if(Xr){var en=Kr.posMatrix;(xe[0]!==0||xe[1]!==0)&&(en=pe.translatePosMatrix(Kr.posMatrix,jr,xe,ze));var yn=Ke?Xr.textCollisionBox:Xr.iconCollisionBox,Fn=Xr.collisionCircleArray;if(Fn.length>0){var Yn=o.create(),Jn=en;o.mul(Yn,Xr.placementInvProjMatrix,pe.transform.glCoordMatrix),o.mul(Yn,Yn,Xr.placementViewportMatrix),qt.push({circleArray:Fn,circleOffset:sr,transform:Jn,invTransform:Yn}),fr+=Fn.length/4,sr=fr}yn&&Vt.draw(ft,_t.LINES,mr.disabled,$t.disabled,pe.colorModeForRenderPass(),Dt.disabled,Mc(en,pe.transform,jr),me.id,yn.layoutVertexBuffer,yn.indexBuffer,yn.segments,null,pe.transform.zoom,null,null,yn.collisionVertexBuffer)}}if(!(!Ke||!qt.length)){var Qn=pe.useProgram("collisionCircle"),jn=new o.StructArrayLayout2f1f2i16;jn.resize(fr*4),jn._trim();for(var qn=0,sa=0,va=qt;sa<va.length;sa+=1)for(var Aa=va[sa],ma=0;ma<Aa.circleArray.length/4;ma++){var Va=ma*4,hi=Aa.circleArray[Va+0],ri=Aa.circleArray[Va+1],La=Aa.circleArray[Va+2],ai=Aa.circleArray[Va+3];jn.emplace(qn++,hi,ri,La,ai,0),jn.emplace(qn++,hi,ri,La,ai,1),jn.emplace(qn++,hi,ri,La,ai,2),jn.emplace(qn++,hi,ri,La,ai,3)}(!xo||xo.length<fr*2)&&(xo=Cc(fr));for(var ja=ft.createIndexBuffer(xo,!0),Ti=ft.createVertexBuffer(jn,o.collisionCircleLayout.members,!0),yi=0,Wi=qt;yi<Wi.length;yi+=1){var fi=Wi[yi],Ni=dh(fi.transform,fi.invTransform,pe.transform);Qn.draw(ft,_t.TRIANGLES,mr.disabled,$t.disabled,pe.colorModeForRenderPass(),Dt.disabled,Ni,me.id,Ti,ja,o.SegmentVector.simpleSegment(0,fi.circleOffset*2,fi.circleArray.length,fi.circleArray.length/2),null,pe.transform.zoom,null,null,null)}Ti.destroy(),ja.destroy()}}function Cc(pe){var $=pe*2,me=new o.StructArrayLayout3ui6;me.resize($),me._trim();for(var re=0;re<$;re++){var xe=re*6;me.uint16[xe+0]=re*4+0,me.uint16[xe+1]=re*4+1,me.uint16[xe+2]=re*4+2,me.uint16[xe+3]=re*4+2,me.uint16[xe+4]=re*4+3,me.uint16[xe+5]=re*4+0}return me}var Jl=o.identity(new Float32Array(16));function Gf(pe,$,me,re,xe){if(pe.renderPass==="translucent"){var ze=$t.disabled,Ke=pe.colorModeForRenderPass(),ft=me.layout.get("text-variable-anchor");ft&&Av(re,pe,me,$,me.layout.get("text-rotation-alignment"),me.layout.get("text-pitch-alignment"),xe),me.paint.get("icon-opacity").constantOr(1)!==0&&nf(pe,$,me,re,!1,me.paint.get("icon-translate"),me.paint.get("icon-translate-anchor"),me.layout.get("icon-rotation-alignment"),me.layout.get("icon-pitch-alignment"),me.layout.get("icon-keep-upright"),ze,Ke),me.paint.get("text-opacity").constantOr(1)!==0&&nf(pe,$,me,re,!0,me.paint.get("text-translate"),me.paint.get("text-translate-anchor"),me.layout.get("text-rotation-alignment"),me.layout.get("text-pitch-alignment"),me.layout.get("text-keep-upright"),ze,Ke),$.map.showCollisionBoxes&&(Zs(pe,$,me,re,me.paint.get("text-translate"),me.paint.get("text-translate-anchor"),!0),Zs(pe,$,me,re,me.paint.get("icon-translate"),me.paint.get("icon-translate-anchor"),!1))}}function rf(pe,$,me,re,xe,ze){var Ke=o.getAnchorAlignment(pe),ft=Ke.horizontalAlign,_t=Ke.verticalAlign,Vt=-(ft-.5)*$,qt=-(_t-.5)*me,fr=o.evaluateVariableOffset(pe,re);return new o.Point((Vt/xe+fr[0])*ze,(qt/xe+fr[1])*ze)}function Av(pe,$,me,re,xe,ze,Ke){for(var ft=$.transform,_t=xe==="map",Vt=ze==="map",qt=0,fr=pe;qt<fr.length;qt+=1){var sr=fr[qt],kr=re.getTile(sr),Kr=kr.getBucket(me);if(!(!Kr||!Kr.text||!Kr.text.segments.get().length)){var jr=Kr.textSizeData,Xr=o.evaluateSizeForZoom(jr,ft.zoom),en=gn(kr,1,$.transform.zoom),yn=Nr(sr.posMatrix,Vt,_t,$.transform,en),Fn=me.layout.get("icon-text-fit")!=="none"&&Kr.hasIconData();if(Xr){var Yn=Math.pow(2,ft.zoom-kr.tileID.overscaledZ);wh(Kr,_t,Vt,Ke,o.symbolSize,ft,yn,sr.posMatrix,Yn,Xr,Fn)}}}}function wh(pe,$,me,re,xe,ze,Ke,ft,_t,Vt,qt){var fr=pe.text.placedSymbolArray,sr=pe.text.dynamicLayoutVertexArray,kr=pe.icon.dynamicLayoutVertexArray,Kr={};sr.clear();for(var jr=0;jr<fr.length;jr++){var Xr=fr.get(jr),en=pe.allowVerticalPlacement&&!Xr.placedOrientation,yn=!Xr.hidden&&Xr.crossTileID&&!en?re[Xr.crossTileID]:null;if(!yn)ea(Xr.numGlyphs,sr);else{var Fn=new o.Point(Xr.anchorX,Xr.anchorY),Yn=Fr(Fn,me?ft:Ke),Jn=cn(ze.cameraToCenterDistance,Yn.signedDistanceFromCamera),Qn=xe.evaluateSizeForFeature(pe.textSizeData,Vt,Xr)*Jn/o.ONE_EM;me&&(Qn*=pe.tilePixelRatio/_t);for(var jn=yn.width,qn=yn.height,sa=yn.anchor,va=yn.textOffset,Aa=yn.textBoxScale,ma=rf(sa,jn,qn,va,Aa,Qn),Va=me?Fr(Fn.add(ma),Ke).point:Yn.point.add($?ma.rotate(-ze.angle):ma),hi=pe.allowVerticalPlacement&&Xr.placedOrientation===o.WritingMode.vertical?Math.PI/2:0,ri=0;ri<Xr.numGlyphs;ri++)o.addDynamicAttributes(sr,Va,hi);qt&&Xr.associatedIconIndex>=0&&(Kr[Xr.associatedIconIndex]={shiftedAnchor:Va,angle:hi})}}if(qt){kr.clear();for(var La=pe.icon.placedSymbolArray,ai=0;ai<La.length;ai++){var ja=La.get(ai);if(ja.hidden)ea(ja.numGlyphs,kr);else{var Ti=Kr[ai];if(!Ti)ea(ja.numGlyphs,kr);else for(var yi=0;yi<ja.numGlyphs;yi++)o.addDynamicAttributes(kr,Ti.shiftedAnchor,Ti.angle)}}pe.icon.dynamicLayoutVertexBuffer.updateData(kr)}pe.text.dynamicLayoutVertexBuffer.updateData(sr)}function Go(pe,$,me){return me.iconsInText&&$?"symbolTextAndIcon":pe?"symbolSDF":"symbolIcon"}function nf(pe,$,me,re,xe,ze,Ke,ft,_t,Vt,qt,fr){for(var sr=pe.context,kr=sr.gl,Kr=pe.transform,jr=ft==="map",Xr=_t==="map",en=jr&&me.layout.get("symbol-placement")!=="point",yn=jr&&!Xr&&!en,Fn=me.layout.get("symbol-sort-key").constantOr(1)!==void 0,Yn=!1,Jn=pe.depthModeForSublayer(0,mr.ReadOnly),Qn=me.layout.get("text-variable-anchor"),jn=[],qn=0,sa=re;qn<sa.length;qn+=1){var va=sa[qn],Aa=$.getTile(va),ma=Aa.getBucket(me);if(ma){var Va=xe?ma.text:ma.icon;if(!(!Va||!Va.segments.get().length)){var hi=Va.programConfigurations.get(me.id),ri=xe||ma.sdfIcons,La=xe?ma.textSizeData:ma.iconSizeData,ai=Xr||Kr.pitch!==0,ja=pe.useProgram(Go(ri,xe,ma),hi),Ti=o.evaluateSizeForZoom(La,Kr.zoom),yi=void 0,Wi=[0,0],fi=void 0,Ni=void 0,Qa=null,pi=void 0;if(xe){if(fi=Aa.glyphAtlasTexture,Ni=kr.LINEAR,yi=Aa.glyphAtlasTexture.size,ma.iconsInText){Wi=Aa.imageAtlasTexture.size,Qa=Aa.imageAtlasTexture;var vo=La.kind==="composite"||La.kind==="camera";pi=ai||pe.options.rotating||pe.options.zooming||vo?kr.LINEAR:kr.NEAREST}}else{var Zo=me.layout.get("icon-size").constantOr(0)!==1||ma.iconsNeedLinear;fi=Aa.imageAtlasTexture,Ni=ri||pe.options.rotating||pe.options.zooming||Zo||ai?kr.LINEAR:kr.NEAREST,yi=Aa.imageAtlasTexture.size}var Rl=gn(Aa,1,pe.transform.zoom),Il=Nr(va.posMatrix,Xr,jr,pe.transform,Rl),ql=Zr(va.posMatrix,Xr,jr,pe.transform,Rl),Ru=Qn&&ma.hasTextData(),kc=me.layout.get("icon-text-fit")!=="none"&&Ru&&ma.hasIconData();en&&Cn(ma,va.posMatrix,pe,xe,Il,ql,Xr,Vt);var Iu=pe.translatePosMatrix(va.posMatrix,Aa,ze,Ke),ks=en||xe&&Qn||kc?Jl:Il,Ou=pe.translatePosMatrix(ql,Aa,ze,Ke,!0),Js=ri&&me.paint.get(xe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ns=void 0;ri?ma.iconsInText?Ns=_c(La.kind,Ti,yn,Xr,pe,Iu,ks,Ou,yi,Wi):Ns=Wf(La.kind,Ti,yn,Xr,pe,Iu,ks,Ou,xe,yi,!0):Ns=$u(La.kind,Ti,yn,Xr,pe,Iu,ks,Ou,xe,yi);var eu={program:ja,buffers:Va,uniformValues:Ns,atlasTexture:fi,atlasTextureIcon:Qa,atlasInterpolation:Ni,atlasInterpolationIcon:pi,isSDF:ri,hasHalo:Js};if(Fn&&ma.canOverlap){Yn=!0;for(var hf=Va.segments.get(),tu=0,rd=hf;tu<rd.length;tu+=1){var Dh=rd[tu];jn.push({segments:new o.SegmentVector([Dh]),sortKey:Dh.sortKey,state:eu})}}else jn.push({segments:Va.segments,sortKey:0,state:eu})}}}Yn&&jn.sort(function(ad,id){return ad.sortKey-id.sortKey});for(var $o=0,nd=jn;$o<nd.length;$o+=1){var Lv=nd[$o],xs=Lv.state;if(sr.activeTexture.set(kr.TEXTURE0),xs.atlasTexture.bind(xs.atlasInterpolation,kr.CLAMP_TO_EDGE),xs.atlasTextureIcon&&(sr.activeTexture.set(kr.TEXTURE1),xs.atlasTextureIcon&&xs.atlasTextureIcon.bind(xs.atlasInterpolationIcon,kr.CLAMP_TO_EDGE)),xs.isSDF){var Ph=xs.uniformValues;xs.hasHalo&&(Ph.u_is_halo=1,Du(xs.buffers,Lv.segments,me,pe,xs.program,Jn,qt,fr,Ph)),Ph.u_is_halo=0}Du(xs.buffers,Lv.segments,me,pe,xs.program,Jn,qt,fr,xs.uniformValues)}}function Du(pe,$,me,re,xe,ze,Ke,ft,_t){var Vt=re.context,qt=Vt.gl;xe.draw(Vt,qt.TRIANGLES,ze,Ke,ft,Dt.disabled,_t,me.id,pe.layoutVertexBuffer,pe.indexBuffer,$,me.paint,re.transform.zoom,pe.programConfigurations.get(me.id),pe.dynamicLayoutVertexBuffer,pe.opacityVertexBuffer)}function Th(pe,$,me,re){if(pe.renderPass==="translucent"){var xe=me.paint.get("circle-opacity"),ze=me.paint.get("circle-stroke-width"),Ke=me.paint.get("circle-stroke-opacity"),ft=me.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(xe.constantOr(1)===0&&(ze.constantOr(1)===0||Ke.constantOr(1)===0))){for(var _t=pe.context,Vt=_t.gl,qt=pe.depthModeForSublayer(0,mr.ReadOnly),fr=$t.disabled,sr=pe.colorModeForRenderPass(),kr=[],Kr=0;Kr<re.length;Kr++){var jr=re[Kr],Xr=$.getTile(jr),en=Xr.getBucket(me);if(en){var yn=en.programConfigurations.get(me.id),Fn=pe.useProgram("circle",yn),Yn=en.layoutVertexBuffer,Jn=en.indexBuffer,Qn=xv(pe,jr,Xr,me),jn={programConfiguration:yn,program:Fn,layoutVertexBuffer:Yn,indexBuffer:Jn,uniformValues:Qn};if(ft)for(var qn=en.segments.get(),sa=0,va=qn;sa<va.length;sa+=1){var Aa=va[sa];kr.push({segments:new o.SegmentVector([Aa]),sortKey:Aa.sortKey,state:jn})}else kr.push({segments:en.segments,sortKey:0,state:jn})}}ft&&kr.sort(function(fi,Ni){return fi.sortKey-Ni.sortKey});for(var ma=0,Va=kr;ma<Va.length;ma+=1){var hi=Va[ma],ri=hi.state,La=ri.programConfiguration,ai=ri.program,ja=ri.layoutVertexBuffer,Ti=ri.indexBuffer,yi=ri.uniformValues,Wi=hi.segments;ai.draw(_t,Vt.TRIANGLES,qt,fr,sr,Dt.disabled,yi,me.id,ja,Ti,Wi,me.paint,pe.transform.zoom,La)}}}}function Dl(pe,$,me,re){if(me.paint.get("heatmap-opacity")!==0)if(pe.renderPass==="offscreen"){var xe=pe.context,ze=xe.gl,Ke=$t.disabled,ft=new ut([ze.ONE,ze.ONE],o.Color.transparent,[!0,!0,!0,!0]);Sv(xe,pe,me),xe.clear({color:o.Color.transparent});for(var _t=0;_t<re.length;_t++){var Vt=re[_t];if(!$.hasRenderableParent(Vt)){var qt=$.getTile(Vt),fr=qt.getBucket(me);if(fr){var sr=fr.programConfigurations.get(me.id),kr=pe.useProgram("heatmap",sr),Kr=pe.transform,jr=Kr.zoom;kr.draw(xe,ze.TRIANGLES,mr.disabled,Ke,ft,Dt.disabled,sl(Vt.posMatrix,qt,jr,me.paint.get("heatmap-intensity")),me.id,fr.layoutVertexBuffer,fr.indexBuffer,fr.segments,me.paint,pe.transform.zoom,sr)}}}xe.viewport.set([0,0,pe.width,pe.height])}else pe.renderPass==="translucent"&&(pe.context.setColorMode(pe.colorModeForRenderPass()),af(pe,me))}function Sv(pe,$,me){var re=pe.gl;pe.activeTexture.set(re.TEXTURE1),pe.viewport.set([0,0,$.width/4,$.height/4]);var xe=me.heatmapFbo;if(xe)re.bindTexture(re.TEXTURE_2D,xe.colorAttachment.get()),pe.bindFramebuffer.set(xe.framebuffer);else{var ze=re.createTexture();re.bindTexture(re.TEXTURE_2D,ze),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),xe=me.heatmapFbo=pe.createFramebuffer($.width/4,$.height/4,!1),os(pe,$,ze,xe)}}function os(pe,$,me,re){var xe=pe.gl,ze=pe.extRenderToTextureHalfFloat?pe.extTextureHalfFloat.HALF_FLOAT_OES:xe.UNSIGNED_BYTE;xe.texImage2D(xe.TEXTURE_2D,0,xe.RGBA,$.width/4,$.height/4,0,xe.RGBA,ze,null),re.colorAttachment.set(me)}function af(pe,$){var me=pe.context,re=me.gl,xe=$.heatmapFbo;if(xe){me.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,xe.colorAttachment.get()),me.activeTexture.set(re.TEXTURE1);var ze=$.colorRampTexture;ze||(ze=$.colorRampTexture=new o.Texture(me,$.colorRamp,re.RGBA)),ze.bind(re.LINEAR,re.CLAMP_TO_EDGE),pe.useProgram("heatmapTexture").draw(me,re.TRIANGLES,mr.disabled,$t.disabled,pe.colorModeForRenderPass(),Dt.disabled,Tv(pe,$,0,1),$.id,pe.viewportBuffer,pe.quadTriangleIndexBuffer,pe.viewportSegments,$.paint,pe.transform.zoom)}}function Xf(pe,$,me,re){if(pe.renderPass==="translucent"){var xe=me.paint.get("line-opacity"),ze=me.paint.get("line-width");if(!(xe.constantOr(1)===0||ze.constantOr(1)===0))for(var Ke=pe.depthModeForSublayer(0,mr.ReadOnly),ft=pe.colorModeForRenderPass(),_t=me.paint.get("line-dasharray"),Vt=me.paint.get("line-pattern"),qt=Vt.constantOr(1),fr=me.paint.get("line-gradient"),sr=me.getCrossfadeParameters(),kr=qt?"linePattern":_t?"lineSDF":fr?"lineGradient":"line",Kr=pe.context,jr=Kr.gl,Xr=!0,en=0,yn=re;en<yn.length;en+=1){var Fn=yn[en],Yn=$.getTile(Fn);if(!(qt&&!Yn.patternsLoaded())){var Jn=Yn.getBucket(me);if(Jn){var Qn=Jn.programConfigurations.get(me.id),jn=pe.context.program.get(),qn=pe.useProgram(kr,Qn),sa=Xr||qn.program!==jn,va=Vt.constantOr(null);if(va&&Yn.imageAtlas){var Aa=Yn.imageAtlas,ma=Aa.patternPositions[va.to.toString()],Va=Aa.patternPositions[va.from.toString()];ma&&Va&&Qn.setConstantPatternPositions(ma,Va)}var hi=qt?xh(pe,Yn,me,sr):_t?ll(pe,Yn,me,_t,sr):fr?Kl(pe,Yn,me,Jn.lineClipsArray.length):jl(pe,Yn,me);if(qt)Kr.activeTexture.set(jr.TEXTURE0),Yn.imageAtlasTexture.bind(jr.LINEAR,jr.CLAMP_TO_EDGE),Qn.updatePaintBuffers(sr);else if(_t&&(sa||pe.lineAtlas.dirty))Kr.activeTexture.set(jr.TEXTURE0),pe.lineAtlas.bind(Kr);else if(fr){var ri=Jn.gradients[me.id],La=ri.texture;if(me.gradientVersion!==ri.version){var ai=256;if(me.stepInterpolant){var ja=$.getSource().maxzoom,Ti=Fn.canonical.z===ja?Math.ceil(1<<pe.transform.maxZoom-Fn.canonical.z):1,yi=Jn.maxLineLength/o.EXTENT,Wi=1024,fi=yi*Wi*Ti;ai=o.clamp(o.nextPowerOfTwo(fi),256,Kr.maxTextureSize)}ri.gradient=o.renderColorRamp({expression:me.gradientExpression(),evaluationKey:"lineProgress",resolution:ai,image:ri.gradient||void 0,clips:Jn.lineClipsArray}),ri.texture?ri.texture.update(ri.gradient):ri.texture=new o.Texture(Kr,ri.gradient,jr.RGBA),ri.version=me.gradientVersion,La=ri.texture}Kr.activeTexture.set(jr.TEXTURE0),La.bind(me.stepInterpolant?jr.NEAREST:jr.LINEAR,jr.CLAMP_TO_EDGE)}qn.draw(Kr,jr.TRIANGLES,Ke,pe.stencilModeForClipping(Fn),ft,Dt.disabled,hi,me.id,Jn.layoutVertexBuffer,Jn.indexBuffer,Jn.segments,me.paint,pe.transform.zoom,Qn,Jn.layoutVertexBuffer2),Xr=!1}}}}}function fl(pe,$,me,re){var xe=me.paint.get("fill-color"),ze=me.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Ke=pe.colorModeForRenderPass(),ft=me.paint.get("fill-pattern"),_t=pe.opaquePassEnabledForLayer()&&!ft.constantOr(1)&&xe.constantOr(o.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(pe.renderPass===_t){var Vt=pe.depthModeForSublayer(1,pe.renderPass==="opaque"?mr.ReadWrite:mr.ReadOnly);Pl(pe,$,me,re,Vt,Ke,!1)}if(pe.renderPass==="translucent"&&me.paint.get("fill-antialias")){var qt=pe.depthModeForSublayer(me.getPaintProperty("fill-outline-color")?2:0,mr.ReadOnly);Pl(pe,$,me,re,qt,Ke,!0)}}}function Pl(pe,$,me,re,xe,ze,Ke){var ft=pe.context.gl,_t=me.paint.get("fill-pattern"),Vt=_t&&_t.constantOr(1),qt=me.getCrossfadeParameters(),fr,sr,kr,Kr,jr;Ke?(sr=Vt&&!me.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=ft.LINES):(sr=Vt?"fillPattern":"fill",fr=ft.TRIANGLES);for(var Xr=0,en=re;Xr<en.length;Xr+=1){var yn=en[Xr],Fn=$.getTile(yn);if(!(Vt&&!Fn.patternsLoaded())){var Yn=Fn.getBucket(me);if(Yn){var Jn=Yn.programConfigurations.get(me.id),Qn=pe.useProgram(sr,Jn);Vt&&(pe.context.activeTexture.set(ft.TEXTURE0),Fn.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),Jn.updatePaintBuffers(qt));var jn=_t.constantOr(null);if(jn&&Fn.imageAtlas){var qn=Fn.imageAtlas,sa=qn.patternPositions[jn.to.toString()],va=qn.patternPositions[jn.from.toString()];sa&&va&&Jn.setConstantPatternPositions(sa,va)}var Aa=pe.translatePosMatrix(yn.posMatrix,Fn,me.paint.get("fill-translate"),me.paint.get("fill-translate-anchor"));if(!Ke)Kr=Yn.indexBuffer,jr=Yn.segments,kr=Vt?Rs(Aa,pe,qt,Fn):ol(Aa);else{Kr=Yn.indexBuffer2,jr=Yn.segments2;var ma=[ft.drawingBufferWidth,ft.drawingBufferHeight];kr=sr==="fillOutlinePattern"&&Vt?Ku(Aa,pe,qt,Fn,ma):ms(Aa,ma)}Qn.draw(pe.context,fr,xe,pe.stencilModeForClipping(yn),ze,Dt.disabled,kr,me.id,Yn.layoutVertexBuffer,Kr,jr,me.paint,pe.transform.zoom,Jn)}}}}function Lc(pe,$,me,re){var xe=me.paint.get("fill-extrusion-opacity");if(xe!==0&&pe.renderPass==="translucent"){var ze=new mr(pe.context.gl.LEQUAL,mr.ReadWrite,pe.depthRangeFor3D);if(xe===1&&!me.paint.get("fill-extrusion-pattern").constantOr(1)){var Ke=pe.colorModeForRenderPass();of(pe,$,me,re,ze,$t.disabled,Ke)}else of(pe,$,me,re,ze,$t.disabled,ut.disabled),of(pe,$,me,re,ze,pe.stencilModeFor3D(),pe.colorModeForRenderPass())}}function of(pe,$,me,re,xe,ze,Ke){for(var ft=pe.context,_t=ft.gl,Vt=me.paint.get("fill-extrusion-pattern"),qt=Vt.constantOr(1),fr=me.getCrossfadeParameters(),sr=me.paint.get("fill-extrusion-opacity"),kr=0,Kr=re;kr<Kr.length;kr+=1){var jr=Kr[kr],Xr=$.getTile(jr),en=Xr.getBucket(me);if(en){var yn=en.programConfigurations.get(me.id),Fn=pe.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",yn);qt&&(pe.context.activeTexture.set(_t.TEXTURE0),Xr.imageAtlasTexture.bind(_t.LINEAR,_t.CLAMP_TO_EDGE),yn.updatePaintBuffers(fr));var Yn=Vt.constantOr(null);if(Yn&&Xr.imageAtlas){var Jn=Xr.imageAtlas,Qn=Jn.patternPositions[Yn.to.toString()],jn=Jn.patternPositions[Yn.from.toString()];Qn&&jn&&yn.setConstantPatternPositions(Qn,jn)}var qn=pe.translatePosMatrix(jr.posMatrix,Xr,me.paint.get("fill-extrusion-translate"),me.paint.get("fill-extrusion-translate-anchor")),sa=me.paint.get("fill-extrusion-vertical-gradient"),va=qt?Ds(qn,pe,sa,sr,jr,fr,Xr):ju(qn,pe,sa,sr);Fn.draw(ft,ft.gl.TRIANGLES,xe,ze,Ke,Dt.backCCW,va,me.id,en.layoutVertexBuffer,en.indexBuffer,en.segments,me.paint,pe.transform.zoom,yn)}}}function sf(pe,$,me,re){if(!(pe.renderPass!=="offscreen"&&pe.renderPass!=="translucent")){for(var xe=pe.context,ze=pe.depthModeForSublayer(0,mr.ReadOnly),Ke=pe.colorModeForRenderPass(),ft=pe.renderPass==="translucent"?pe.stencilConfigForOverlap(re):[{},re],_t=ft[0],Vt=ft[1],qt=0,fr=Vt;qt<fr.length;qt+=1){var sr=fr[qt],kr=$.getTile(sr);kr.needsHillshadePrepare&&pe.renderPass==="offscreen"?Ah(pe,kr,me,ze,$t.disabled,Ke):pe.renderPass==="translucent"&&Zf(pe,kr,me,ze,_t[sr.overscaledZ],Ke)}xe.viewport.set([0,0,pe.width,pe.height])}}function Zf(pe,$,me,re,xe,ze){var Ke=pe.context,ft=Ke.gl,_t=$.fbo;if(_t){var Vt=pe.useProgram("hillshade");Ke.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,_t.colorAttachment.get());var qt=Ec(pe,$,me);Vt.draw(Ke,ft.TRIANGLES,re,xe,ze,Dt.disabled,qt,me.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments)}}function Ah(pe,$,me,re,xe,ze){var Ke=pe.context,ft=Ke.gl,_t=$.dem;if(_t&&_t.data){var Vt=_t.dim,qt=_t.stride,fr=_t.getPixels();if(Ke.activeTexture.set(ft.TEXTURE1),Ke.pixelStoreUnpackPremultiplyAlpha.set(!1),$.demTexture=$.demTexture||pe.getTileTexture(qt),$.demTexture){var sr=$.demTexture;sr.update(fr,{premultiply:!1}),sr.bind(ft.NEAREST,ft.CLAMP_TO_EDGE)}else $.demTexture=new o.Texture(Ke,fr,ft.RGBA,{premultiply:!1}),$.demTexture.bind(ft.NEAREST,ft.CLAMP_TO_EDGE);Ke.activeTexture.set(ft.TEXTURE0);var kr=$.fbo;if(!kr){var Kr=new o.Texture(Ke,{width:Vt,height:Vt,data:null},ft.RGBA);Kr.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),kr=$.fbo=Ke.createFramebuffer(Vt,Vt,!0),kr.colorAttachment.set(Kr.texture)}Ke.bindFramebuffer.set(kr.framebuffer),Ke.viewport.set([0,0,Vt,Vt]),pe.useProgram("hillshadePrepare").draw(Ke,ft.TRIANGLES,re,xe,ze,Dt.disabled,mh($.tileID,_t),me.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments),$.needsHillshadePrepare=!1}}function lf(pe,$,me,re){if(pe.renderPass==="translucent"&&me.paint.get("raster-opacity")!==0&&re.length)for(var xe=pe.context,ze=xe.gl,Ke=$.getSource(),ft=pe.useProgram("raster"),_t=pe.colorModeForRenderPass(),Vt=Ke instanceof ee?[{},re]:pe.stencilConfigForOverlap(re),qt=Vt[0],fr=Vt[1],sr=fr[fr.length-1].overscaledZ,kr=!pe.options.moving,Kr=0,jr=fr;Kr<jr.length;Kr+=1){var Xr=jr[Kr],en=pe.depthModeForSublayer(Xr.overscaledZ-sr,me.paint.get("raster-opacity")===1?mr.ReadWrite:mr.ReadOnly,ze.LESS),yn=$.getTile(Xr),Fn=pe.transform.calculatePosMatrix(Xr.toUnwrapped(),kr);yn.registerFadeDuration(me.paint.get("raster-fade-duration"));var Yn=$.findLoadedParent(Xr,0),Jn=Dc(yn,Yn,$,me,pe.transform),Qn=void 0,jn=void 0,qn=me.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;xe.activeTexture.set(ze.TEXTURE0),yn.texture.bind(qn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),xe.activeTexture.set(ze.TEXTURE1),Yn?(Yn.texture.bind(qn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),Qn=Math.pow(2,Yn.tileID.overscaledZ-yn.tileID.overscaledZ),jn=[yn.tileID.canonical.x*Qn%1,yn.tileID.canonical.y*Qn%1]):yn.texture.bind(qn,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var sa=Qu(Fn,jn||[0,0],Qn||1,Jn,me);Ke instanceof ee?ft.draw(xe,ze.TRIANGLES,en,$t.disabled,_t,Dt.disabled,sa,me.id,Ke.boundsBuffer,pe.quadTriangleIndexBuffer,Ke.boundsSegments):ft.draw(xe,ze.TRIANGLES,en,qt[Xr.overscaledZ],_t,Dt.disabled,sa,me.id,pe.rasterBoundsBuffer,pe.quadTriangleIndexBuffer,pe.rasterBoundsSegments)}}function Dc(pe,$,me,re,xe){var ze=re.paint.get("raster-fade-duration");if(ze>0){var Ke=o.browser.now(),ft=(Ke-pe.timeAdded)/ze,_t=$?(Ke-$.timeAdded)/ze:-1,Vt=me.getSource(),qt=xe.coveringZoomLevel({tileSize:Vt.tileSize,roundZoom:Vt.roundZoom}),fr=!$||Math.abs($.tileID.overscaledZ-qt)>Math.abs(pe.tileID.overscaledZ-qt),sr=fr&&pe.refreshedUponExpiration?1:o.clamp(fr?ft:1-_t,0,1);return pe.refreshedUponExpiration&&ft>=1&&(pe.refreshedUponExpiration=!1),$?{opacity:1,mix:1-sr}:{opacity:sr,mix:0}}else return{opacity:1,mix:0}}function Ql(pe,$,me){var re=me.paint.get("background-color"),xe=me.paint.get("background-opacity");if(xe!==0){var ze=pe.context,Ke=ze.gl,ft=pe.transform,_t=ft.tileSize,Vt=me.paint.get("background-pattern");if(!pe.isPatternMissing(Vt)){var qt=!Vt&&re.a===1&&xe===1&&pe.opaquePassEnabledForLayer()?"opaque":"translucent";if(pe.renderPass===qt){var fr=$t.disabled,sr=pe.depthModeForSublayer(0,qt==="opaque"?mr.ReadWrite:mr.ReadOnly),kr=pe.colorModeForRenderPass(),Kr=pe.useProgram(Vt?"backgroundPattern":"background"),jr=ft.coveringTiles({tileSize:_t});Vt&&(ze.activeTexture.set(Ke.TEXTURE0),pe.imageManager.bind(pe.context));for(var Xr=me.getCrossfadeParameters(),en=0,yn=jr;en<yn.length;en+=1){var Fn=yn[en],Yn=pe.transform.calculatePosMatrix(Fn.toUnwrapped()),Jn=Vt?tf(Yn,xe,pe,Vt,{tileID:Fn,tileSize:_t},Xr):Cl(Yn,xe,re);Kr.draw(ze,Ke.TRIANGLES,sr,fr,kr,Dt.disabled,Jn,me.id,pe.tileExtentBuffer,pe.quadTriangleIndexBuffer,pe.tileExtentSegments)}}}}}var Pc=new o.Color(1,0,0,1),uf=new o.Color(0,1,0,1),Sh=new o.Color(0,0,1,1),Je=new o.Color(1,0,1,1),it=new o.Color(0,1,1,1);function yt(pe){var $=pe.transform.padding,me=3;Ot(pe,pe.transform.height-($.top||0),me,Pc),Ot(pe,$.bottom||0,me,uf),It(pe,$.left||0,me,Sh),It(pe,pe.transform.width-($.right||0),me,Je);var re=pe.transform.centerPoint;xt(pe,re.x,pe.transform.height-re.y,it)}function xt(pe,$,me,re){var xe=20,ze=2;Ft(pe,$-ze/2,me-xe/2,ze,xe,re),Ft(pe,$-xe/2,me-ze/2,xe,ze,re)}function Ot(pe,$,me,re){Ft(pe,0,$+me/2,pe.transform.width,me,re)}function It(pe,$,me,re){Ft(pe,$-me/2,0,me,pe.transform.height,re)}function Ft(pe,$,me,re,xe,ze){var Ke=pe.context,ft=Ke.gl;ft.enable(ft.SCISSOR_TEST),ft.scissor($*o.browser.devicePixelRatio,me*o.browser.devicePixelRatio,re*o.browser.devicePixelRatio,xe*o.browser.devicePixelRatio),Ke.clear({color:ze}),ft.disable(ft.SCISSOR_TEST)}function yr(pe,$,me){for(var re=0;re<me.length;re++)Ar(pe,$,me[re])}function Ar(pe,$,me){var re=pe.context,xe=re.gl,ze=me.posMatrix,Ke=pe.useProgram("debug"),ft=mr.disabled,_t=$t.disabled,Vt=pe.colorModeForRenderPass(),qt="$debug";re.activeTexture.set(xe.TEXTURE0),pe.emptyTexture.bind(xe.LINEAR,xe.CLAMP_TO_EDGE),Ke.draw(re,xe.LINE_STRIP,ft,_t,Vt,Dt.disabled,_o(ze,o.Color.red),qt,pe.debugBuffer,pe.tileBorderIndexBuffer,pe.debugSegments);var fr=$.getTileByID(me.key).latestRawTileData,sr=fr&&fr.byteLength||0,kr=Math.floor(sr/1024),Kr=$.getTile(me).tileSize,jr=512/Math.min(Kr,512)*(me.overscaledZ/pe.transform.zoom)*.5,Xr=me.canonical.toString();me.overscaledZ!==me.canonical.z&&(Xr+=" => "+me.overscaledZ);var en=Xr+" "+kr+"kb";ir(pe,en),Ke.draw(re,xe.TRIANGLES,ft,_t,ut.alphaBlended,Dt.disabled,_o(ze,o.Color.transparent,jr),qt,pe.debugBuffer,pe.quadTriangleIndexBuffer,pe.debugSegments)}function ir(pe,$){pe.initDebugOverlayCanvas();var me=pe.debugOverlayCanvas,re=pe.context.gl,xe=pe.debugOverlayCanvas.getContext("2d");xe.clearRect(0,0,me.width,me.height),xe.shadowColor="white",xe.shadowBlur=2,xe.lineWidth=1.5,xe.strokeStyle="white",xe.textBaseline="top",xe.font="bold 36px Open Sans, sans-serif",xe.fillText($,5,5),xe.strokeText($,5,5),pe.debugOverlayTexture.update(me),pe.debugOverlayTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE)}function Er(pe,$,me){var re=pe.context,xe=me.implementation;if(pe.renderPass==="offscreen"){var ze=xe.prerender;ze&&(pe.setCustomLayerDefaults(),re.setColorMode(pe.colorModeForRenderPass()),ze.call(xe,re.gl,pe.transform.customLayerMatrix()),re.setDirty(),pe.setBaseState())}else if(pe.renderPass==="translucent"){pe.setCustomLayerDefaults(),re.setColorMode(pe.colorModeForRenderPass()),re.setStencilMode($t.disabled);var Ke=xe.renderingMode==="3d"?new mr(pe.context.gl.LEQUAL,mr.ReadWrite,pe.depthRangeFor3D):pe.depthModeForSublayer(0,mr.ReadOnly);re.setDepthMode(Ke),xe.render(re.gl,pe.transform.customLayerMatrix()),re.setDirty(),pe.setBaseState(),re.bindFramebuffer.set(null)}}var Or={symbol:Gf,circle:Th,heatmap:Dl,line:Xf,fill:fl,"fill-extrusion":Lc,hillshade:sf,raster:lf,background:Ql,debug:yr,custom:Er},Hr=function($,me){this.context=new Yt($),this.transform=me,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ca,this.gpuTimers={}};Hr.prototype.resize=function($,me){if(this.width=$*o.browser.devicePixelRatio,this.height=me*o.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var re=0,xe=this.style._order;re<xe.length;re+=1){var ze=xe[re];this.style._layers[ze].resize()}},Hr.prototype.setup=function(){var $=this.context,me=new o.StructArrayLayout2i4;me.emplaceBack(0,0),me.emplaceBack(o.EXTENT,0),me.emplaceBack(0,o.EXTENT),me.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=$.createVertexBuffer(me,ns.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);var re=new o.StructArrayLayout2i4;re.emplaceBack(0,0),re.emplaceBack(o.EXTENT,0),re.emplaceBack(0,o.EXTENT),re.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=$.createVertexBuffer(re,ns.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);var xe=new o.StructArrayLayout4i8;xe.emplaceBack(0,0,0,0),xe.emplaceBack(o.EXTENT,0,o.EXTENT,0),xe.emplaceBack(0,o.EXTENT,0,o.EXTENT),xe.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.rasterBoundsBuffer=$.createVertexBuffer(xe,j.members),this.rasterBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);var ze=new o.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=$.createVertexBuffer(ze,ns.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);var Ke=new o.StructArrayLayout1ui2;Ke.emplaceBack(0),Ke.emplaceBack(1),Ke.emplaceBack(3),Ke.emplaceBack(2),Ke.emplaceBack(0),this.tileBorderIndexBuffer=$.createIndexBuffer(Ke);var ft=new o.StructArrayLayout3ui6;ft.emplaceBack(0,1,2),ft.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=$.createIndexBuffer(ft),this.emptyTexture=new o.Texture($,{width:1,height:1,data:new Uint8Array([0,0,0,0])},$.gl.RGBA);var _t=this.context.gl;this.stencilClearMode=new $t({func:_t.ALWAYS,mask:0},0,255,_t.ZERO,_t.ZERO,_t.ZERO)},Hr.prototype.clearStencil=function(){var $=this.context,me=$.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var re=o.create();o.ortho(re,0,this.width,this.height,0,0,1),o.scale(re,re,[me.drawingBufferWidth,me.drawingBufferHeight,0]),this.useProgram("clippingMask").draw($,me.TRIANGLES,mr.disabled,this.stencilClearMode,ut.disabled,Dt.disabled,Su(re),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Hr.prototype._renderTileClippingMasks=function($,me){if(!(this.currentStencilSource===$.source||!$.isTileClipped()||!me||!me.length)){this.currentStencilSource=$.source;var re=this.context,xe=re.gl;this.nextStencilID+me.length>256&&this.clearStencil(),re.setColorMode(ut.disabled),re.setDepthMode(mr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ke=0,ft=me;Ke<ft.length;Ke+=1){var _t=ft[Ke],Vt=this._tileClippingMaskIDs[_t.key]=this.nextStencilID++;ze.draw(re,xe.TRIANGLES,mr.disabled,new $t({func:xe.ALWAYS,mask:0},Vt,255,xe.KEEP,xe.KEEP,xe.REPLACE),ut.disabled,Dt.disabled,Su(_t.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Hr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var $=this.nextStencilID++,me=this.context.gl;return new $t({func:me.NOTEQUAL,mask:255},$,255,me.KEEP,me.KEEP,me.REPLACE)},Hr.prototype.stencilModeForClipping=function($){var me=this.context.gl;return new $t({func:me.EQUAL,mask:255},this._tileClippingMaskIDs[$.key],0,me.KEEP,me.KEEP,me.REPLACE)},Hr.prototype.stencilConfigForOverlap=function($){var me,re=this.context.gl,xe=$.sort(function(Vt,qt){return qt.overscaledZ-Vt.overscaledZ}),ze=xe[xe.length-1].overscaledZ,Ke=xe[0].overscaledZ-ze+1;if(Ke>1){this.currentStencilSource=void 0,this.nextStencilID+Ke>256&&this.clearStencil();for(var ft={},_t=0;_t<Ke;_t++)ft[_t+ze]=new $t({func:re.GEQUAL,mask:255},_t+this.nextStencilID,255,re.KEEP,re.KEEP,re.REPLACE);return this.nextStencilID+=Ke,[ft,xe]}return[(me={},me[ze]=$t.disabled,me),xe]},Hr.prototype.colorModeForRenderPass=function(){var $=this.context.gl;if(this._showOverdrawInspector){var me=8,re=1/me;return new ut([$.CONSTANT_COLOR,$.ONE],new o.Color(re,re,re,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ut.unblended:ut.alphaBlended},Hr.prototype.depthModeForSublayer=function($,me,re){if(!this.opaquePassEnabledForLayer())return mr.disabled;var xe=1-((1+this.currentLayer)*this.numSublayers+$)*this.depthEpsilon;return new mr(re||this.context.gl.LEQUAL,me,[xe,xe])},Hr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Hr.prototype.render=function($,me){var re=this;this.style=$,this.options=me,this.lineAtlas=$.lineAtlas,this.imageManager=$.imageManager,this.glyphManager=$.glyphManager,this.symbolFadeChange=$.placement.symbolFadeChange(o.browser.now()),this.imageManager.beginFrame();var xe=this.style._order,ze=this.style.sourceCaches;for(var Ke in ze){var ft=ze[Ke];ft.used&&ft.prepare(this.context)}var _t={},Vt={},qt={};for(var fr in ze){var sr=ze[fr];_t[fr]=sr.getVisibleCoordinates(),Vt[fr]=_t[fr].slice().reverse(),qt[fr]=sr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var kr=0;kr<xe.length;kr++){var Kr=xe[kr];if(this.style._layers[Kr].is3D()){this.opaquePassCutoff=kr;break}}this.renderPass="offscreen";for(var jr=0,Xr=xe;jr<Xr.length;jr+=1){var en=Xr[jr],yn=this.style._layers[en];if(!(!yn.hasOffscreenPass()||yn.isHidden(this.transform.zoom))){var Fn=Vt[yn.source];yn.type!=="custom"&&!Fn.length||this.renderLayer(this,ze[yn.source],yn,Fn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:me.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=me.showOverdrawInspector,this.depthRangeFor3D=[0,1-($._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=xe.length-1;this.currentLayer>=0;this.currentLayer--){var Yn=this.style._layers[xe[this.currentLayer]],Jn=ze[Yn.source],Qn=_t[Yn.source];this._renderTileClippingMasks(Yn,Qn),this.renderLayer(this,Jn,Yn,Qn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<xe.length;this.currentLayer++){var jn=this.style._layers[xe[this.currentLayer]],qn=ze[jn.source],sa=(jn.type==="symbol"?qt:Vt)[jn.source];this._renderTileClippingMasks(jn,_t[jn.source]),this.renderLayer(this,qn,jn,sa)}if(this.options.showTileBoundaries){var va,Aa,ma=o.values(this.style._layers);ma.forEach(function(Va){Va.source&&!Va.isHidden(re.transform.zoom)&&(Va.source!==(Aa&&Aa.id)&&(Aa=re.style.sourceCaches[Va.source]),(!va||va.getSource().maxzoom<Aa.getSource().maxzoom)&&(va=Aa))}),va&&Or.debug(this,va,va.getVisibleCoordinates())}this.options.showPadding&&yt(this),this.context.setDefault()},Hr.prototype.renderLayer=function($,me,re,xe){re.isHidden(this.transform.zoom)||re.type!=="background"&&re.type!=="custom"&&!xe.length||(this.id=re.id,this.gpuTimingStart(re),Or[re.type]($,me,re,xe,this.style.placement.variableOffsets),this.gpuTimingEnd())},Hr.prototype.gpuTimingStart=function($){if(this.options.gpuTiming){var me=this.context.extTimerQuery,re=this.gpuTimers[$.id];re||(re=this.gpuTimers[$.id]={calls:0,cpuTime:0,query:me.createQueryEXT()}),re.calls++,me.beginQueryEXT(me.TIME_ELAPSED_EXT,re.query)}},Hr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var $=this.context.extTimerQuery;$.endQueryEXT($.TIME_ELAPSED_EXT)}},Hr.prototype.collectGpuTimers=function(){var $=this.gpuTimers;return this.gpuTimers={},$},Hr.prototype.queryGpuTimers=function($){var me={};for(var re in $){var xe=$[re],ze=this.context.extTimerQuery,Ke=ze.getQueryObjectEXT(xe.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(xe.query),me[re]=Ke}return me},Hr.prototype.translatePosMatrix=function($,me,re,xe,ze){if(!re[0]&&!re[1])return $;var Ke=ze?xe==="map"?this.transform.angle:0:xe==="viewport"?-this.transform.angle:0;if(Ke){var ft=Math.sin(Ke),_t=Math.cos(Ke);re=[re[0]*_t-re[1]*ft,re[0]*ft+re[1]*_t]}var Vt=[ze?re[0]:gn(me,re[0],this.transform.zoom),ze?re[1]:gn(me,re[1],this.transform.zoom),0],qt=new Float32Array(16);return o.translate(qt,$,Vt),qt},Hr.prototype.saveTileTexture=function($){var me=this._tileTextures[$.size[0]];me?me.push($):this._tileTextures[$.size[0]]=[$]},Hr.prototype.getTileTexture=function($){var me=this._tileTextures[$];return me&&me.length>0?me.pop():null},Hr.prototype.isPatternMissing=function($){if(!$)return!1;if(!$.from||!$.to)return!0;var me=this.imageManager.getPattern($.from.toString()),re=this.imageManager.getPattern($.to.toString());return!me||!re},Hr.prototype.useProgram=function($,me){this.cache=this.cache||{};var re=""+$+(me?me.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[re]||(this.cache[re]=new Sc(this.context,$,hh[$],me,Ll[$],this._showOverdrawInspector)),this.cache[re]},Hr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Hr.prototype.setBaseState=function(){var $=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set($.FUNC_ADD)},Hr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var $=this.context.gl;this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,$.RGBA)}},Hr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var un=function($,me){this.points=$,this.planes=me};un.fromInvProjectionMatrix=function($,me,re){var xe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,re),Ke=xe.map(function(Vt){return o.transformMat4([],Vt,$)}).map(function(Vt){return o.scale$1([],Vt,1/Vt[3]/me*ze)}),ft=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],_t=ft.map(function(Vt){var qt=o.sub([],Ke[Vt[0]],Ke[Vt[1]]),fr=o.sub([],Ke[Vt[2]],Ke[Vt[1]]),sr=o.normalize([],o.cross([],qt,fr)),kr=-o.dot(sr,Ke[Vt[1]]);return sr.concat(kr)});return new un(Ke,_t)};var Tn=function($,me){this.min=$,this.max=me,this.center=o.scale$2([],o.add([],this.min,this.max),.5)};Tn.prototype.quadrant=function($){for(var me=[$%2===0,$<2],re=o.clone$2(this.min),xe=o.clone$2(this.max),ze=0;ze<me.length;ze++)re[ze]=me[ze]?this.min[ze]:this.center[ze],xe[ze]=me[ze]?this.center[ze]:this.max[ze];return xe[2]=this.max[2],new Tn(re,xe)},Tn.prototype.distanceX=function($){var me=Math.max(Math.min(this.max[0],$[0]),this.min[0]);return me-$[0]},Tn.prototype.distanceY=function($){var me=Math.max(Math.min(this.max[1],$[1]),this.min[1]);return me-$[1]},Tn.prototype.intersects=function($){for(var me=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],re=!0,xe=0;xe<$.planes.length;xe++){for(var ze=$.planes[xe],Ke=0,ft=0;ft<me.length;ft++)Ke+=o.dot$1(ze,me[ft])>=0;if(Ke===0)return 0;Ke!==me.length&&(re=!1)}if(re)return 2;for(var _t=0;_t<3;_t++){for(var Vt=Number.MAX_VALUE,qt=-Number.MAX_VALUE,fr=0;fr<$.points.length;fr++){var sr=$.points[fr][_t]-this.min[_t];Vt=Math.min(Vt,sr),qt=Math.max(qt,sr)}if(qt<0||Vt>this.max[_t]-this.min[_t])return 0}return 1};var On=function($,me,re,xe){if($===void 0&&($=0),me===void 0&&(me=0),re===void 0&&(re=0),xe===void 0&&(xe=0),isNaN($)||$<0||isNaN(me)||me<0||isNaN(re)||re<0||isNaN(xe)||xe<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=$,this.bottom=me,this.left=re,this.right=xe};On.prototype.interpolate=function($,me,re){return me.top!=null&&$.top!=null&&(this.top=o.number($.top,me.top,re)),me.bottom!=null&&$.bottom!=null&&(this.bottom=o.number($.bottom,me.bottom,re)),me.left!=null&&$.left!=null&&(this.left=o.number($.left,me.left,re)),me.right!=null&&$.right!=null&&(this.right=o.number($.right,me.right,re)),this},On.prototype.getCenter=function($,me){var re=o.clamp((this.left+$-this.right)/2,0,$),xe=o.clamp((this.top+me-this.bottom)/2,0,me);return new o.Point(re,xe)},On.prototype.equals=function($){return this.top===$.top&&this.bottom===$.bottom&&this.left===$.left&&this.right===$.right},On.prototype.clone=function(){return new On(this.top,this.bottom,this.left,this.right)},On.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Nn=function($,me,re,xe,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=$||0,this._maxZoom=me||22,this._minPitch=re??0,this._maxPitch=xe??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new On,this._posMatrixCache={},this._alignedPosMatrixCache={}},$n={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Nn.prototype.clone=function(){var $=new Nn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return $.tileSize=this.tileSize,$.latRange=this.latRange,$.width=this.width,$.height=this.height,$._center=this._center,$.zoom=this.zoom,$.angle=this.angle,$._fov=this._fov,$._pitch=this._pitch,$._unmodified=this._unmodified,$._edgeInsets=this._edgeInsets.clone(),$._calcMatrices(),$},$n.minZoom.get=function(){return this._minZoom},$n.minZoom.set=function(pe){this._minZoom!==pe&&(this._minZoom=pe,this.zoom=Math.max(this.zoom,pe))},$n.maxZoom.get=function(){return this._maxZoom},$n.maxZoom.set=function(pe){this._maxZoom!==pe&&(this._maxZoom=pe,this.zoom=Math.min(this.zoom,pe))},$n.minPitch.get=function(){return this._minPitch},$n.minPitch.set=function(pe){this._minPitch!==pe&&(this._minPitch=pe,this.pitch=Math.max(this.pitch,pe))},$n.maxPitch.get=function(){return this._maxPitch},$n.maxPitch.set=function(pe){this._maxPitch!==pe&&(this._maxPitch=pe,this.pitch=Math.min(this.pitch,pe))},$n.renderWorldCopies.get=function(){return this._renderWorldCopies},$n.renderWorldCopies.set=function(pe){pe===void 0?pe=!0:pe===null&&(pe=!1),this._renderWorldCopies=pe},$n.worldSize.get=function(){return this.tileSize*this.scale},$n.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},$n.size.get=function(){return new o.Point(this.width,this.height)},$n.bearing.get=function(){return-this.angle/Math.PI*180},$n.bearing.set=function(pe){var $=-o.wrap(pe,-180,180)*Math.PI/180;this.angle!==$&&(this._unmodified=!1,this.angle=$,this._calcMatrices(),this.rotationMatrix=o.create$2(),o.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},$n.pitch.get=function(){return this._pitch/Math.PI*180},$n.pitch.set=function(pe){var $=o.clamp(pe,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==$&&(this._unmodified=!1,this._pitch=$,this._calcMatrices())},$n.fov.get=function(){return this._fov/Math.PI*180},$n.fov.set=function(pe){pe=Math.max(.01,Math.min(60,pe)),this._fov!==pe&&(this._unmodified=!1,this._fov=pe/180*Math.PI,this._calcMatrices())},$n.zoom.get=function(){return this._zoom},$n.zoom.set=function(pe){var $=Math.min(Math.max(pe,this.minZoom),this.maxZoom);this._zoom!==$&&(this._unmodified=!1,this._zoom=$,this.scale=this.zoomScale($),this.tileZoom=Math.floor($),this.zoomFraction=$-this.tileZoom,this._constrain(),this._calcMatrices())},$n.center.get=function(){return this._center},$n.center.set=function(pe){pe.lat===this._center.lat&&pe.lng===this._center.lng||(this._unmodified=!1,this._center=pe,this._constrain(),this._calcMatrices())},$n.padding.get=function(){return this._edgeInsets.toJSON()},$n.padding.set=function(pe){this._edgeInsets.equals(pe)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,pe,1),this._calcMatrices())},$n.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Nn.prototype.isPaddingEqual=function($){return this._edgeInsets.equals($)},Nn.prototype.interpolatePadding=function($,me,re){this._unmodified=!1,this._edgeInsets.interpolate($,me,re),this._constrain(),this._calcMatrices()},Nn.prototype.coveringZoomLevel=function($){var me=($.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/$.tileSize));return Math.max(0,me)},Nn.prototype.getVisibleUnwrappedCoordinates=function($){var me=[new o.UnwrappedTileID(0,$)];if(this._renderWorldCopies)for(var re=this.pointCoordinate(new o.Point(0,0)),xe=this.pointCoordinate(new o.Point(this.width,0)),ze=this.pointCoordinate(new o.Point(this.width,this.height)),Ke=this.pointCoordinate(new o.Point(0,this.height)),ft=Math.floor(Math.min(re.x,xe.x,ze.x,Ke.x)),_t=Math.floor(Math.max(re.x,xe.x,ze.x,Ke.x)),Vt=1,qt=ft-Vt;qt<=_t+Vt;qt++)qt!==0&&me.push(new o.UnwrappedTileID(qt,$));return me},Nn.prototype.coveringTiles=function($){var me=this.coveringZoomLevel($),re=me;if($.minzoom!==void 0&&me<$.minzoom)return[];$.maxzoom!==void 0&&me>$.maxzoom&&(me=$.maxzoom);var xe=o.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,me),Ke=[ze*xe.x,ze*xe.y,0],ft=un.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,me),_t=$.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(_t=me);var Vt=3,qt=function(ma){return{aabb:new Tn([ma*ze,0,0],[(ma+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:ma,fullyVisible:!1}},fr=[],sr=[],kr=me,Kr=$.reparseOverscaled?re:me;if(this._renderWorldCopies)for(var jr=1;jr<=3;jr++)fr.push(qt(-jr)),fr.push(qt(jr));for(fr.push(qt(0));fr.length>0;){var Xr=fr.pop(),en=Xr.x,yn=Xr.y,Fn=Xr.fullyVisible;if(!Fn){var Yn=Xr.aabb.intersects(ft);if(Yn===0)continue;Fn=Yn===2}var Jn=Xr.aabb.distanceX(Ke),Qn=Xr.aabb.distanceY(Ke),jn=Math.max(Math.abs(Jn),Math.abs(Qn)),qn=Vt+(1<<kr-Xr.zoom)-2;if(Xr.zoom===kr||jn>qn&&Xr.zoom>=_t){sr.push({tileID:new o.OverscaledTileID(Xr.zoom===kr?Kr:Xr.zoom,Xr.wrap,Xr.zoom,en,yn),distanceSq:o.sqrLen([Ke[0]-.5-en,Ke[1]-.5-yn])});continue}for(var sa=0;sa<4;sa++){var va=(en<<1)+sa%2,Aa=(yn<<1)+(sa>>1);fr.push({aabb:Xr.aabb.quadrant(sa),zoom:Xr.zoom+1,x:va,y:Aa,wrap:Xr.wrap,fullyVisible:Fn})}}return sr.sort(function(ma,Va){return ma.distanceSq-Va.distanceSq}).map(function(ma){return ma.tileID})},Nn.prototype.resize=function($,me){this.width=$,this.height=me,this.pixelsToGLUnits=[2/$,-2/me],this._constrain(),this._calcMatrices()},$n.unmodified.get=function(){return this._unmodified},Nn.prototype.zoomScale=function($){return Math.pow(2,$)},Nn.prototype.scaleZoom=function($){return Math.log($)/Math.LN2},Nn.prototype.project=function($){var me=o.clamp($.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.Point(o.mercatorXfromLng($.lng)*this.worldSize,o.mercatorYfromLat(me)*this.worldSize)},Nn.prototype.unproject=function($){return new o.MercatorCoordinate($.x/this.worldSize,$.y/this.worldSize).toLngLat()},$n.point.get=function(){return this.project(this.center)},Nn.prototype.setLocationAtPoint=function($,me){var re=this.pointCoordinate(me),xe=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate($),Ke=new o.MercatorCoordinate(ze.x-(re.x-xe.x),ze.y-(re.y-xe.y));this.center=this.coordinateLocation(Ke),this._renderWorldCopies&&(this.center=this.center.wrap())},Nn.prototype.locationPoint=function($){return this.coordinatePoint(this.locationCoordinate($))},Nn.prototype.pointLocation=function($){return this.coordinateLocation(this.pointCoordinate($))},Nn.prototype.locationCoordinate=function($){return o.MercatorCoordinate.fromLngLat($)},Nn.prototype.coordinateLocation=function($){return $.toLngLat()},Nn.prototype.pointCoordinate=function($){var me=0,re=[$.x,$.y,0,1],xe=[$.x,$.y,1,1];o.transformMat4(re,re,this.pixelMatrixInverse),o.transformMat4(xe,xe,this.pixelMatrixInverse);var ze=re[3],Ke=xe[3],ft=re[0]/ze,_t=xe[0]/Ke,Vt=re[1]/ze,qt=xe[1]/Ke,fr=re[2]/ze,sr=xe[2]/Ke,kr=fr===sr?0:(me-fr)/(sr-fr);return new o.MercatorCoordinate(o.number(ft,_t,kr)/this.worldSize,o.number(Vt,qt,kr)/this.worldSize)},Nn.prototype.coordinatePoint=function($){var me=[$.x*this.worldSize,$.y*this.worldSize,0,1];return o.transformMat4(me,me,this.pixelMatrix),new o.Point(me[0]/me[3],me[1]/me[3])},Nn.prototype.getBounds=function(){return new o.LngLatBounds().extend(this.pointLocation(new o.Point(0,0))).extend(this.pointLocation(new o.Point(this.width,0))).extend(this.pointLocation(new o.Point(this.width,this.height))).extend(this.pointLocation(new o.Point(0,this.height)))},Nn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new o.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Nn.prototype.setMaxBounds=function($){$?(this.lngRange=[$.getWest(),$.getEast()],this.latRange=[$.getSouth(),$.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Nn.prototype.calculatePosMatrix=function($,me){me===void 0&&(me=!1);var re=$.key,xe=me?this._alignedPosMatrixCache:this._posMatrixCache;if(xe[re])return xe[re];var ze=$.canonical,Ke=this.worldSize/this.zoomScale(ze.z),ft=ze.x+Math.pow(2,ze.z)*$.wrap,_t=o.identity(new Float64Array(16));return o.translate(_t,_t,[ft*Ke,ze.y*Ke,0]),o.scale(_t,_t,[Ke/o.EXTENT,Ke/o.EXTENT,1]),o.multiply(_t,me?this.alignedProjMatrix:this.projMatrix,_t),xe[re]=new Float32Array(_t),xe[re]},Nn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Nn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var $=-90,me=90,re=-180,xe=180,ze,Ke,ft,_t,Vt=this.size,qt=this._unmodified;if(this.latRange){var fr=this.latRange;$=o.mercatorYfromLat(fr[1])*this.worldSize,me=o.mercatorYfromLat(fr[0])*this.worldSize,ze=me-$<Vt.y?Vt.y/(me-$):0}if(this.lngRange){var sr=this.lngRange;re=o.mercatorXfromLng(sr[0])*this.worldSize,xe=o.mercatorXfromLng(sr[1])*this.worldSize,Ke=xe-re<Vt.x?Vt.x/(xe-re):0}var kr=this.point,Kr=Math.max(Ke||0,ze||0);if(Kr){this.center=this.unproject(new o.Point(Ke?(xe+re)/2:kr.x,ze?(me+$)/2:kr.y)),this.zoom+=this.scaleZoom(Kr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var jr=kr.y,Xr=Vt.y/2;jr-Xr<$&&(_t=$+Xr),jr+Xr>me&&(_t=me-Xr)}if(this.lngRange){var en=kr.x,yn=Vt.x/2;en-yn<re&&(ft=re+yn),en+yn>xe&&(ft=xe-yn)}(ft!==void 0||_t!==void 0)&&(this.center=this.unproject(new o.Point(ft!==void 0?ft:kr.x,_t!==void 0?_t:kr.y))),this._unmodified=qt,this._constraining=!1}},Nn.prototype._calcMatrices=function(){if(this.height){var $=this._fov/2,me=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan($)*this.height;var re=Math.PI/2+this._pitch,xe=this._fov*(.5+me.y/this.height),ze=Math.sin(xe)*this.cameraToCenterDistance/Math.sin(o.clamp(Math.PI-re-xe,.01,Math.PI-.01)),Ke=this.point,ft=Ke.x,_t=Ke.y,Vt=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,qt=Vt*1.01,fr=this.height/50,sr=new Float64Array(16);o.perspective(sr,this._fov,this.width/this.height,fr,qt),sr[8]=-me.x*2/this.width,sr[9]=me.y*2/this.height,o.scale(sr,sr,[1,-1,1]),o.translate(sr,sr,[0,0,-this.cameraToCenterDistance]),o.rotateX(sr,sr,this._pitch),o.rotateZ(sr,sr,this.angle),o.translate(sr,sr,[-ft,-_t,0]),this.mercatorMatrix=o.scale([],sr,[this.worldSize,this.worldSize,this.worldSize]),o.scale(sr,sr,[1,1,o.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=sr,this.invProjMatrix=o.invert([],this.projMatrix);var kr=this.width%2/2,Kr=this.height%2/2,jr=Math.cos(this.angle),Xr=Math.sin(this.angle),en=ft-Math.round(ft)+jr*kr+Xr*Kr,yn=_t-Math.round(_t)+jr*Kr+Xr*kr,Fn=new Float64Array(sr);if(o.translate(Fn,Fn,[en>.5?en-1:en,yn>.5?yn-1:yn,0]),this.alignedProjMatrix=Fn,sr=o.create(),o.scale(sr,sr,[this.width/2,-this.height/2,1]),o.translate(sr,sr,[1,-1,0]),this.labelPlaneMatrix=sr,sr=o.create(),o.scale(sr,sr,[1,-1,1]),o.translate(sr,sr,[-1,-1,0]),o.scale(sr,sr,[2/this.width,2/this.height,1]),this.glCoordMatrix=sr,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),sr=o.invert(new Float64Array(16),this.pixelMatrix),!sr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=sr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Nn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var $=this.pointCoordinate(new o.Point(0,0)),me=[$.x*this.worldSize,$.y*this.worldSize,0,1],re=o.transformMat4(me,me,this.pixelMatrix);return re[3]/this.cameraToCenterDistance},Nn.prototype.getCameraPoint=function(){var $=this._pitch,me=Math.tan($)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,me))},Nn.prototype.getCameraQueryGeometry=function($){var me=this.getCameraPoint();if($.length===1)return[$[0],me];for(var re=me.x,xe=me.y,ze=me.x,Ke=me.y,ft=0,_t=$;ft<_t.length;ft+=1){var Vt=_t[ft];re=Math.min(re,Vt.x),xe=Math.min(xe,Vt.y),ze=Math.max(ze,Vt.x),Ke=Math.max(Ke,Vt.y)}return[new o.Point(re,xe),new o.Point(ze,xe),new o.Point(ze,Ke),new o.Point(re,Ke),new o.Point(re,xe)]},Object.defineProperties(Nn.prototype,$n);function Oa(pe,$){var me=!1,re=null,xe=function(){re=null,me&&(pe(),re=setTimeout(xe,$),me=!1)};return function(){return me=!0,re||xe(),re}}var ka=function($){this._hashName=$&&encodeURIComponent($),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Oa(this._updateHashUnthrottled.bind(this),30*1e3/100)};ka.prototype.addTo=function($){return this._map=$,o.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ka.prototype.remove=function(){return o.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ka.prototype.getHashString=function($){var me=this._map.getCenter(),re=Math.round(this._map.getZoom()*100)/100,xe=Math.ceil((re*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,xe),Ke=Math.round(me.lng*ze)/ze,ft=Math.round(me.lat*ze)/ze,_t=this._map.getBearing(),Vt=this._map.getPitch(),qt="";if($?qt+="/"+Ke+"/"+ft+"/"+re:qt+=re+"/"+ft+"/"+Ke,(_t||Vt)&&(qt+="/"+Math.round(_t*10)/10),Vt&&(qt+="/"+Math.round(Vt)),this._hashName){var fr=this._hashName,sr=!1,kr=o.window.location.hash.slice(1).split("&").map(function(Kr){var jr=Kr.split("=")[0];return jr===fr?(sr=!0,jr+"="+qt):Kr}).filter(function(Kr){return Kr});return sr||kr.push(fr+"="+qt),"#"+kr.join("&")}return"#"+qt},ka.prototype._getCurrentHash=function(){var $=this,me=o.window.location.hash.replace("#","");if(this._hashName){var re;return me.split("&").map(function(xe){return xe.split("=")}).forEach(function(xe){xe[0]===$._hashName&&(re=xe)}),(re&&re[1]||"").split("/")}return me.split("/")},ka.prototype._onHashChange=function(){var $=this._getCurrentHash();if($.length>=3&&!$.some(function(re){return isNaN(re)})){var me=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+($[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+$[2],+$[1]],zoom:+$[0],bearing:me,pitch:+($[4]||0)}),!0}return!1},ka.prototype._updateHashUnthrottled=function(){var $=o.window.location.href.replace(/(#.+)?$/,this.getHashString());try{o.window.history.replaceState(o.window.history.state,null,$)}catch{}};var za={linearity:.3,easing:o.bezier(0,0,.3,1)},Ha=o.extend({deceleration:2500,maxSpeed:1400},za),si=o.extend({deceleration:20,maxSpeed:1400},za),Pi=o.extend({deceleration:1e3,maxSpeed:360},za),lo=o.extend({deceleration:1e3,maxSpeed:90},za),ve=function($){this._map=$,this.clear()};ve.prototype.clear=function(){this._inertiaBuffer=[]},ve.prototype.record=function($){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.browser.now(),settings:$})},ve.prototype._drainInertiaBuffer=function(){for(var $=this._inertiaBuffer,me=o.browser.now(),re=160;$.length>0&&me-$[0].time>re;)$.shift()},ve.prototype._onMoveEnd=function($){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var me={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0},re=0,xe=this._inertiaBuffer;re<xe.length;re+=1){var ze=xe[re],Ke=ze.settings;me.zoom+=Ke.zoomDelta||0,me.bearing+=Ke.bearingDelta||0,me.pitch+=Ke.pitchDelta||0,Ke.panDelta&&me.pan._add(Ke.panDelta),Ke.around&&(me.around=Ke.around),Ke.pinchAround&&(me.pinchAround=Ke.pinchAround)}var ft=this._inertiaBuffer[this._inertiaBuffer.length-1],_t=ft.time-this._inertiaBuffer[0].time,Vt={};if(me.pan.mag()){var qt=Ve(me.pan.mag(),_t,o.extend({},Ha,$||{}));Vt.offset=me.pan.mult(qt.amount/me.pan.mag()),Vt.center=this._map.transform.center,Ee(Vt,qt)}if(me.zoom){var fr=Ve(me.zoom,_t,si);Vt.zoom=this._map.transform.zoom+fr.amount,Ee(Vt,fr)}if(me.bearing){var sr=Ve(me.bearing,_t,Pi);Vt.bearing=this._map.transform.bearing+o.clamp(sr.amount,-179,179),Ee(Vt,sr)}if(me.pitch){var kr=Ve(me.pitch,_t,lo);Vt.pitch=this._map.transform.pitch+kr.amount,Ee(Vt,kr)}if(Vt.zoom||Vt.bearing){var Kr=me.pinchAround===void 0?me.around:me.pinchAround;Vt.around=Kr?this._map.unproject(Kr):this._map.getCenter()}return this.clear(),o.extend(Vt,{noMoveStart:!0})}};function Ee(pe,$){(!pe.duration||pe.duration<$.duration)&&(pe.duration=$.duration,pe.easing=$.easing)}function Ve(pe,$,me){var re=me.maxSpeed,xe=me.linearity,ze=me.deceleration,Ke=o.clamp(pe*xe/($/1e3),-re,re),ft=Math.abs(Ke)/(ze*xe);return{easing:me.easing,duration:ft*1e3,amount:Ke*(ft/2)}}var tt=function(pe){function $(re,xe,ze,Ke){Ke===void 0&&(Ke={});var ft=S.mousePos(xe.getCanvasContainer(),ze),_t=xe.unproject(ft);pe.call(this,re,o.extend({point:ft,lngLat:_t,originalEvent:ze},Ke)),this._defaultPrevented=!1,this.target=xe}pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$;var me={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,me),$}(o.Event),at=function(pe){function $(re,xe,ze){var Ke=re==="touchend"?ze.changedTouches:ze.touches,ft=S.touchPos(xe.getCanvasContainer(),Ke),_t=ft.map(function(fr){return xe.unproject(fr)}),Vt=ft.reduce(function(fr,sr,kr,Kr){return fr.add(sr.div(Kr.length))},new o.Point(0,0)),qt=xe.unproject(Vt);pe.call(this,re,{points:ft,point:Vt,lngLats:_t,lngLat:qt,originalEvent:ze}),this._defaultPrevented=!1}pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$;var me={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,me),$}(o.Event),ct=function(pe){function $(re,xe,ze){pe.call(this,re,{originalEvent:ze}),this._defaultPrevented=!1}pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$;var me={defaultPrevented:{configurable:!0}};return $.prototype.preventDefault=function(){this._defaultPrevented=!0},me.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties($.prototype,me),$}(o.Event),Ct=function($,me){this._map=$,this._clickTolerance=me.clickTolerance};Ct.prototype.reset=function(){delete this._mousedownPos},Ct.prototype.wheel=function($){return this._firePreventable(new ct($.type,this._map,$))},Ct.prototype.mousedown=function($,me){return this._mousedownPos=me,this._firePreventable(new tt($.type,this._map,$))},Ct.prototype.mouseup=function($){this._map.fire(new tt($.type,this._map,$))},Ct.prototype.click=function($,me){this._mousedownPos&&this._mousedownPos.dist(me)>=this._clickTolerance||this._map.fire(new tt($.type,this._map,$))},Ct.prototype.dblclick=function($){return this._firePreventable(new tt($.type,this._map,$))},Ct.prototype.mouseover=function($){this._map.fire(new tt($.type,this._map,$))},Ct.prototype.mouseout=function($){this._map.fire(new tt($.type,this._map,$))},Ct.prototype.touchstart=function($){return this._firePreventable(new at($.type,this._map,$))},Ct.prototype.touchmove=function($){this._map.fire(new at($.type,this._map,$))},Ct.prototype.touchend=function($){this._map.fire(new at($.type,this._map,$))},Ct.prototype.touchcancel=function($){this._map.fire(new at($.type,this._map,$))},Ct.prototype._firePreventable=function($){if(this._map.fire($),$.defaultPrevented)return{}},Ct.prototype.isEnabled=function(){return!0},Ct.prototype.isActive=function(){return!1},Ct.prototype.enable=function(){},Ct.prototype.disable=function(){};var At=function($){this._map=$};At.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},At.prototype.mousemove=function($){this._map.fire(new tt($.type,this._map,$))},At.prototype.mousedown=function(){this._delayContextMenu=!0},At.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new tt("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},At.prototype.contextmenu=function($){this._delayContextMenu?this._contextMenuEvent=$:this._map.fire(new tt($.type,this._map,$)),this._map.listens("contextmenu")&&$.preventDefault()},At.prototype.isEnabled=function(){return!0},At.prototype.isActive=function(){return!1},At.prototype.enable=function(){},At.prototype.disable=function(){};var Ht=function($,me){this._map=$,this._el=$.getCanvasContainer(),this._container=$.getContainer(),this._clickTolerance=me.clickTolerance||1};Ht.prototype.isEnabled=function(){return!!this._enabled},Ht.prototype.isActive=function(){return!!this._active},Ht.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Ht.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ht.prototype.mousedown=function($,me){this.isEnabled()&&$.shiftKey&&$.button===0&&(S.disableDrag(),this._startPos=this._lastPos=me,this._active=!0)},Ht.prototype.mousemoveWindow=function($,me){if(this._active){var re=me;if(!(this._lastPos.equals(re)||!this._box&&re.dist(this._startPos)<this._clickTolerance)){var xe=this._startPos;this._lastPos=re,this._box||(this._box=S.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",$));var ze=Math.min(xe.x,re.x),Ke=Math.max(xe.x,re.x),ft=Math.min(xe.y,re.y),_t=Math.max(xe.y,re.y);S.setTransform(this._box,"translate("+ze+"px,"+ft+"px)"),this._box.style.width=Ke-ze+"px",this._box.style.height=_t-ft+"px"}}},Ht.prototype.mouseupWindow=function($,me){var re=this;if(this._active&&$.button===0){var xe=this._startPos,ze=me;if(this.reset(),S.suppressClick(),xe.x===ze.x&&xe.y===ze.y)this._fireEvent("boxzoomcancel",$);else return this._map.fire(new o.Event("boxzoomend",{originalEvent:$})),{cameraAnimation:function(Ke){return Ke.fitScreenCoordinates(xe,ze,re._map.getBearing(),{linear:!0})}}}},Ht.prototype.keydown=function($){this._active&&$.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",$))},Ht.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(S.remove(this._box),this._box=null),S.enableDrag(),delete this._startPos,delete this._lastPos},Ht.prototype._fireEvent=function($,me){return this._map.fire(new o.Event($,{originalEvent:me}))};function Gt(pe,$){for(var me={},re=0;re<pe.length;re++)me[pe[re].identifier]=$[re];return me}function nr(pe){for(var $=new o.Point(0,0),me=0,re=pe;me<re.length;me+=1){var xe=re[me];$._add(xe)}return $.div(pe.length)}var Lr=500,Dr=500,tn=30,fn=function($){this.reset(),this.numTouches=$.numTouches};fn.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},fn.prototype.touchstart=function($,me,re){(this.centroid||re.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=$.timeStamp),re.length===this.numTouches&&(this.centroid=nr(me),this.touches=Gt(re,me)))},fn.prototype.touchmove=function($,me,re){if(!(this.aborted||!this.centroid)){var xe=Gt(re,me);for(var ze in this.touches){var Ke=this.touches[ze],ft=xe[ze];(!ft||ft.dist(Ke)>tn)&&(this.aborted=!0)}}},fn.prototype.touchend=function($,me,re){if((!this.centroid||$.timeStamp-this.startTime>Dr)&&(this.aborted=!0),re.length===0){var xe=!this.aborted&&this.centroid;if(this.reset(),xe)return xe}};var Rr=function($){this.singleTap=new fn($),this.numTaps=$.numTaps,this.reset()};Rr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Rr.prototype.touchstart=function($,me,re){this.singleTap.touchstart($,me,re)},Rr.prototype.touchmove=function($,me,re){this.singleTap.touchmove($,me,re)},Rr.prototype.touchend=function($,me,re){var xe=this.singleTap.touchend($,me,re);if(xe){var ze=$.timeStamp-this.lastTime<Lr,Ke=!this.lastTap||this.lastTap.dist(xe)<tn;if((!ze||!Ke)&&this.reset(),this.count++,this.lastTime=$.timeStamp,this.lastTap=xe,this.count===this.numTaps)return this.reset(),xe}};var Yr=function(){this._zoomIn=new Rr({numTouches:1,numTaps:2}),this._zoomOut=new Rr({numTouches:2,numTaps:1}),this.reset()};Yr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Yr.prototype.touchstart=function($,me,re){this._zoomIn.touchstart($,me,re),this._zoomOut.touchstart($,me,re)},Yr.prototype.touchmove=function($,me,re){this._zoomIn.touchmove($,me,re),this._zoomOut.touchmove($,me,re)},Yr.prototype.touchend=function($,me,re){var xe=this,ze=this._zoomIn.touchend($,me,re),Ke=this._zoomOut.touchend($,me,re);if(ze)return this._active=!0,$.preventDefault(),setTimeout(function(){return xe.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()+1,around:ft.unproject(ze)},{originalEvent:$})}};if(Ke)return this._active=!0,$.preventDefault(),setTimeout(function(){return xe.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()-1,around:ft.unproject(Ke)},{originalEvent:$})}}},Yr.prototype.touchcancel=function(){this.reset()},Yr.prototype.enable=function(){this._enabled=!0},Yr.prototype.disable=function(){this._enabled=!1,this.reset()},Yr.prototype.isEnabled=function(){return this._enabled},Yr.prototype.isActive=function(){return this._active};var $r=0,pn=2,mn={};mn[$r]=1,mn[pn]=2;function on(pe,$){var me=mn[$];return pe.buttons===void 0||(pe.buttons&me)!==me}var Xn=function($){this.reset(),this._clickTolerance=$.clickTolerance||1};Xn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Xn.prototype._correctButton=function($,me){return!1},Xn.prototype._move=function($,me){return{}},Xn.prototype.mousedown=function($,me){if(!this._lastPoint){var re=S.mouseButton($);this._correctButton($,re)&&(this._lastPoint=me,this._eventButton=re)}},Xn.prototype.mousemoveWindow=function($,me){var re=this._lastPoint;if(re){if($.preventDefault(),on($,this._eventButton)){this.reset();return}if(!(!this._moved&&me.dist(re)<this._clickTolerance))return this._moved=!0,this._lastPoint=me,this._move(re,me)}},Xn.prototype.mouseupWindow=function($){if(this._lastPoint){var me=S.mouseButton($);me===this._eventButton&&(this._moved&&S.suppressClick(),this.reset())}},Xn.prototype.enable=function(){this._enabled=!0},Xn.prototype.disable=function(){this._enabled=!1,this.reset()},Xn.prototype.isEnabled=function(){return this._enabled},Xn.prototype.isActive=function(){return this._active};var oa=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.mousedown=function(re,xe){pe.prototype.mousedown.call(this,re,xe),this._lastPoint&&(this._active=!0)},$.prototype._correctButton=function(re,xe){return xe===$r&&!re.ctrlKey},$.prototype._move=function(re,xe){return{around:xe,panDelta:xe.sub(re)}},$}(Xn),da=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(re,xe){return xe===$r&&re.ctrlKey||xe===pn},$.prototype._move=function(re,xe){var ze=.8,Ke=(xe.x-re.x)*ze;if(Ke)return this._active=!0,{bearingDelta:Ke}},$.prototype.contextmenu=function(re){re.preventDefault()},$}(Xn),na=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype._correctButton=function(re,xe){return xe===$r&&re.ctrlKey||xe===pn},$.prototype._move=function(re,xe){var ze=-.5,Ke=(xe.y-re.y)*ze;if(Ke)return this._active=!0,{pitchDelta:Ke}},$.prototype.contextmenu=function(re){re.preventDefault()},$}(Xn),fa=function($){this._minTouches=1,this._clickTolerance=$.clickTolerance||1,this.reset()};fa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)},fa.prototype.touchstart=function($,me,re){return this._calculateTransform($,me,re)},fa.prototype.touchmove=function($,me,re){if(!(!this._active||re.length<this._minTouches))return $.preventDefault(),this._calculateTransform($,me,re)},fa.prototype.touchend=function($,me,re){this._calculateTransform($,me,re),this._active&&re.length<this._minTouches&&this.reset()},fa.prototype.touchcancel=function(){this.reset()},fa.prototype._calculateTransform=function($,me,re){re.length>0&&(this._active=!0);var xe=Gt(re,me),ze=new o.Point(0,0),Ke=new o.Point(0,0),ft=0;for(var _t in xe){var Vt=xe[_t],qt=this._touches[_t];qt&&(ze._add(Vt),Ke._add(Vt.sub(qt)),ft++,xe[_t]=Vt)}if(this._touches=xe,!(ft<this._minTouches||!Ke.mag())){var fr=Ke.div(ft);if(this._sum._add(fr),!(this._sum.mag()<this._clickTolerance)){var sr=ze.div(ft);return{around:sr,panDelta:fr}}}},fa.prototype.enable=function(){this._enabled=!0},fa.prototype.disable=function(){this._enabled=!1,this.reset()},fa.prototype.isEnabled=function(){return this._enabled},fa.prototype.isActive=function(){return this._active};var pa=function(){this.reset()};pa.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},pa.prototype._start=function($){},pa.prototype._move=function($,me,re){return{}},pa.prototype.touchstart=function($,me,re){this._firstTwoTouches||re.length<2||(this._firstTwoTouches=[re[0].identifier,re[1].identifier],this._start([me[0],me[1]]))},pa.prototype.touchmove=function($,me,re){if(this._firstTwoTouches){$.preventDefault();var xe=this._firstTwoTouches,ze=xe[0],Ke=xe[1],ft=Wa(re,me,ze),_t=Wa(re,me,Ke);if(!(!ft||!_t)){var Vt=this._aroundCenter?null:ft.add(_t).div(2);return this._move([ft,_t],Vt,$)}}},pa.prototype.touchend=function($,me,re){if(this._firstTwoTouches){var xe=this._firstTwoTouches,ze=xe[0],Ke=xe[1],ft=Wa(re,me,ze),_t=Wa(re,me,Ke);ft&&_t||(this._active&&S.suppressClick(),this.reset())}},pa.prototype.touchcancel=function(){this.reset()},pa.prototype.enable=function($){this._enabled=!0,this._aroundCenter=!!$&&$.around==="center"},pa.prototype.disable=function(){this._enabled=!1,this.reset()},pa.prototype.isEnabled=function(){return this._enabled},pa.prototype.isActive=function(){return this._active};function Wa(pe,$,me){for(var re=0;re<pe.length;re++)if(pe[re].identifier===me)return $[re]}var Da=.1;function Ua(pe,$){return Math.log(pe/$)/Math.LN2}var bi=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.reset=function(){pe.prototype.reset.call(this),delete this._distance,delete this._startDistance},$.prototype._start=function(re){this._startDistance=this._distance=re[0].dist(re[1])},$.prototype._move=function(re,xe){var ze=this._distance;if(this._distance=re[0].dist(re[1]),!(!this._active&&Math.abs(Ua(this._distance,this._startDistance))<Da))return this._active=!0,{zoomDelta:Ua(this._distance,ze),pinchAround:xe}},$}(pa),co=25;function _i(pe,$){return pe.angleWith($)*180/Math.PI}var ra=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.reset=function(){pe.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},$.prototype._start=function(re){this._startVector=this._vector=re[0].sub(re[1]),this._minDiameter=re[0].dist(re[1])},$.prototype._move=function(re,xe){var ze=this._vector;if(this._vector=re[0].sub(re[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:_i(this._vector,ze),pinchAround:xe}},$.prototype._isBelowThreshold=function(re){this._minDiameter=Math.min(this._minDiameter,re.mag());var xe=Math.PI*this._minDiameter,ze=co/xe*360,Ke=_i(re,this._startVector);return Math.abs(Ke)<ze},$}(pa);function Za(pe){return Math.abs(pe.y)>Math.abs(pe.x)}var Ca=100,li=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.reset=function(){pe.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},$.prototype._start=function(re){this._lastPoints=re,Za(re[0].sub(re[1]))&&(this._valid=!1)},$.prototype._move=function(re,xe,ze){var Ke=re[0].sub(this._lastPoints[0]),ft=re[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ke,ft,ze.timeStamp),!!this._valid){this._lastPoints=re,this._active=!0;var _t=(Ke.y+ft.y)/2,Vt=-.5;return{pitchDelta:_t*Vt}}},$.prototype.gestureBeginsVertically=function(re,xe,ze){if(this._valid!==void 0)return this._valid;var Ke=2,ft=re.mag()>=Ke,_t=xe.mag()>=Ke;if(!(!ft&&!_t)){if(!ft||!_t)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<Ca?void 0:!1;var Vt=re.y>0==xe.y>0;return Za(re)&&Za(xe)&&Vt}},$}(pa),Vi={panStep:100,bearingStep:15,pitchStep:10},wi=function(){var $=Vi;this._panStep=$.panStep,this._bearingStep=$.bearingStep,this._pitchStep=$.pitchStep,this._rotationDisabled=!1};wi.prototype.reset=function(){this._active=!1},wi.prototype.keydown=function($){var me=this;if(!($.altKey||$.ctrlKey||$.metaKey)){var re=0,xe=0,ze=0,Ke=0,ft=0;switch($.keyCode){case 61:case 107:case 171:case 187:re=1;break;case 189:case 109:case 173:re=-1;break;case 37:$.shiftKey?xe=-1:($.preventDefault(),Ke=-1);break;case 39:$.shiftKey?xe=1:($.preventDefault(),Ke=1);break;case 38:$.shiftKey?ze=1:($.preventDefault(),ft=-1);break;case 40:$.shiftKey?ze=-1:($.preventDefault(),ft=1);break;default:return}return this._rotationDisabled&&(xe=0,ze=0),{cameraAnimation:function(_t){var Vt=_t.getZoom();_t.easeTo({duration:300,easeId:"keyboardHandler",easing:Co,zoom:re?Math.round(Vt)+re*($.shiftKey?2:1):Vt,bearing:_t.getBearing()+xe*me._bearingStep,pitch:_t.getPitch()+ze*me._pitchStep,offset:[-Ke*me._panStep,-ft*me._panStep],center:_t.getCenter()},{originalEvent:$})}}}},wi.prototype.enable=function(){this._enabled=!0},wi.prototype.disable=function(){this._enabled=!1,this.reset()},wi.prototype.isEnabled=function(){return this._enabled},wi.prototype.isActive=function(){return this._active},wi.prototype.disableRotation=function(){this._rotationDisabled=!0},wi.prototype.enableRotation=function(){this._rotationDisabled=!1};function Co(pe){return pe*(2-pe)}var Lo=4.000244140625,Oo=1/100,Hi=1/450,Xo=2,ha=function($,me){this._map=$,this._el=$.getCanvasContainer(),this._handler=me,this._delta=0,this._defaultZoomRate=Oo,this._wheelZoomRate=Hi,o.bindAll(["_onTimeout"],this)};ha.prototype.setZoomRate=function($){this._defaultZoomRate=$},ha.prototype.setWheelZoomRate=function($){this._wheelZoomRate=$},ha.prototype.isEnabled=function(){return!!this._enabled},ha.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ha.prototype.isZooming=function(){return!!this._zooming},ha.prototype.enable=function($){this.isEnabled()||(this._enabled=!0,this._aroundCenter=$&&$.around==="center")},ha.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ha.prototype.wheel=function($){if(this.isEnabled()){var me=$.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?$.deltaY*40:$.deltaY,re=o.browser.now(),xe=re-(this._lastWheelEventTime||0);this._lastWheelEventTime=re,me!==0&&me%Lo===0?this._type="wheel":me!==0&&Math.abs(me)<4?this._type="trackpad":xe>400?(this._type=null,this._lastValue=me,this._timeout=setTimeout(this._onTimeout,40,$)):this._type||(this._type=Math.abs(xe*me)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,me+=this._lastValue)),$.shiftKey&&me&&(me=me/4),this._type&&(this._lastWheelEvent=$,this._delta-=me,this._active||this._start($)),$.preventDefault()}},ha.prototype._onTimeout=function($){this._type="wheel",this._delta-=this._lastValue,this._active||this._start($)},ha.prototype._start=function($){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var me=S.mousePos(this._el,$);this._around=o.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(me)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ha.prototype.renderFrame=function(){var $=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var me=this._map.transform;if(this._delta!==0){var re=this._type==="wheel"&&Math.abs(this._delta)>Lo?this._wheelZoomRate:this._defaultZoomRate,xe=Xo/(1+Math.exp(-Math.abs(this._delta*re)));this._delta<0&&xe!==0&&(xe=1/xe);var ze=typeof this._targetZoom=="number"?me.zoomScale(this._targetZoom):me.scale;this._targetZoom=Math.min(me.maxZoom,Math.max(me.minZoom,me.scaleZoom(ze*xe))),this._type==="wheel"&&(this._startZoom=me.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ke=typeof this._targetZoom=="number"?this._targetZoom:me.zoom,ft=this._startZoom,_t=this._easing,Vt=!1,qt;if(this._type==="wheel"&&ft&&_t){var fr=Math.min((o.browser.now()-this._lastWheelEventTime)/200,1),sr=_t(fr);qt=o.number(ft,Ke,sr),fr<1?this._frameId||(this._frameId=!0):Vt=!0}else qt=Ke,Vt=!0;return this._active=!0,Vt&&(this._active=!1,this._finishTimeout=setTimeout(function(){$._zooming=!1,$._handler._triggerRenderFrame(),delete $._targetZoom,delete $._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Vt,zoomDelta:qt-me.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ha.prototype._smoothOutEasing=function($){var me=o.ease;if(this._prevEase){var re=this._prevEase,xe=(o.browser.now()-re.start)/re.duration,ze=re.easing(xe+.01)-re.easing(xe),Ke=.27/Math.sqrt(ze*ze+1e-4)*.01,ft=Math.sqrt(.27*.27-Ke*Ke);me=o.bezier(Ke,ft,.25,1)}return this._prevEase={start:o.browser.now(),duration:$,easing:me},me},ha.prototype.reset=function(){this._active=!1};var Ra=function($,me){this._clickZoom=$,this._tapZoom=me};Ra.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ra.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ra.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ra.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ss=function(){this.reset()};ss.prototype.reset=function(){this._active=!1},ss.prototype.dblclick=function($,me){return $.preventDefault(),{cameraAnimation:function(re){re.easeTo({duration:300,zoom:re.getZoom()+($.shiftKey?-1:1),around:re.unproject(me)},{originalEvent:$})}}},ss.prototype.enable=function(){this._enabled=!0},ss.prototype.disable=function(){this._enabled=!1,this.reset()},ss.prototype.isEnabled=function(){return this._enabled},ss.prototype.isActive=function(){return this._active};var ps=function(){this._tap=new Rr({numTouches:1,numTaps:1}),this.reset()};ps.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},ps.prototype.touchstart=function($,me,re){this._swipePoint||(this._tapTime&&$.timeStamp-this._tapTime>Lr&&this.reset(),this._tapTime?re.length>0&&(this._swipePoint=me[0],this._swipeTouch=re[0].identifier):this._tap.touchstart($,me,re))},ps.prototype.touchmove=function($,me,re){if(!this._tapTime)this._tap.touchmove($,me,re);else if(this._swipePoint){if(re[0].identifier!==this._swipeTouch)return;var xe=me[0],ze=xe.y-this._swipePoint.y;return this._swipePoint=xe,$.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},ps.prototype.touchend=function($,me,re){if(this._tapTime)this._swipePoint&&re.length===0&&this.reset();else{var xe=this._tap.touchend($,me,re);xe&&(this._tapTime=$.timeStamp)}},ps.prototype.touchcancel=function(){this.reset()},ps.prototype.enable=function(){this._enabled=!0},ps.prototype.disable=function(){this._enabled=!1,this.reset()},ps.prototype.isEnabled=function(){return this._enabled},ps.prototype.isActive=function(){return this._active};var ko=function($,me,re){this._el=$,this._mousePan=me,this._touchPan=re};ko.prototype.enable=function($){this._inertiaOptions=$||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ko.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ko.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ko.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Li=function($,me,re){this._pitchWithRotate=$.pitchWithRotate,this._mouseRotate=me,this._mousePitch=re};Li.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Li.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Li.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Li.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var bo=function($,me,re,xe){this._el=$,this._touchZoom=me,this._touchRotate=re,this._tapDragZoom=xe,this._rotationDisabled=!1,this._enabled=!0};bo.prototype.enable=function($){this._touchZoom.enable($),this._rotationDisabled||this._touchRotate.enable($),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},bo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},bo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},bo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},bo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},bo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ho=function(pe){return pe.zoom||pe.drag||pe.pitch||pe.rotate},js=function(pe){function $(){pe.apply(this,arguments)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$}(o.Event);function cl(pe){return pe.panDelta&&pe.panDelta.mag()||pe.zoomDelta||pe.bearingDelta||pe.pitchDelta}var qi=function($,me){this._map=$,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ve($),this._bearingSnap=me.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(me),o.bindAll(["handleEvent","handleWindowEvent"],this);var re=this._el;this._listeners=[[re,"touchstart",{passive:!0}],[re,"touchmove",{passive:!1}],[re,"touchend",void 0],[re,"touchcancel",void 0],[re,"mousedown",void 0],[re,"mousemove",void 0],[re,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[re,"mouseover",void 0],[re,"mouseout",void 0],[re,"dblclick",void 0],[re,"click",void 0],[re,"keydown",{capture:!1}],[re,"keyup",void 0],[re,"wheel",{passive:!1}],[re,"contextmenu",void 0],[o.window,"blur",void 0]];for(var xe=0,ze=this._listeners;xe<ze.length;xe+=1){var Ke=ze[xe],ft=Ke[0],_t=Ke[1],Vt=Ke[2];S.addEventListener(ft,_t,ft===o.window.document?this.handleWindowEvent:this.handleEvent,Vt)}};qi.prototype.destroy=function(){for(var $=0,me=this._listeners;$<me.length;$+=1){var re=me[$],xe=re[0],ze=re[1],Ke=re[2];S.removeEventListener(xe,ze,xe===o.window.document?this.handleWindowEvent:this.handleEvent,Ke)}},qi.prototype._addDefaultHandlers=function($){var me=this._map,re=me.getCanvasContainer();this._add("mapEvent",new Ct(me,$));var xe=me.boxZoom=new Ht(me,$);this._add("boxZoom",xe);var ze=new Yr,Ke=new ss;me.doubleClickZoom=new Ra(Ke,ze),this._add("tapZoom",ze),this._add("clickZoom",Ke);var ft=new ps;this._add("tapDragZoom",ft);var _t=me.touchPitch=new li;this._add("touchPitch",_t);var Vt=new da($),qt=new na($);me.dragRotate=new Li($,Vt,qt),this._add("mouseRotate",Vt,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var fr=new oa($),sr=new fa($);me.dragPan=new ko(re,fr,sr),this._add("mousePan",fr),this._add("touchPan",sr,["touchZoom","touchRotate"]);var kr=new ra,Kr=new bi;me.touchZoomRotate=new bo(re,Kr,kr,ft),this._add("touchRotate",kr,["touchPan","touchZoom"]),this._add("touchZoom",Kr,["touchPan","touchRotate"]);var jr=me.scrollZoom=new ha(me,this);this._add("scrollZoom",jr,["mousePan"]);var Xr=me.keyboard=new wi;this._add("keyboard",Xr),this._add("blockableMapEvent",new At(me));for(var en=0,yn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];en<yn.length;en+=1){var Fn=yn[en];$.interactive&&$[Fn]&&me[Fn].enable($[Fn])}},qi.prototype._add=function($,me,re){this._handlers.push({handlerName:$,handler:me,allowed:re}),this._handlersById[$]=me},qi.prototype.stop=function($){if(!this._updatingCamera){for(var me=0,re=this._handlers;me<re.length;me+=1){var xe=re[me],ze=xe.handler;ze.reset()}this._inertia.clear(),this._fireEvents({},{},$),this._changes=[]}},qi.prototype.isActive=function(){for(var $=0,me=this._handlers;$<me.length;$+=1){var re=me[$],xe=re.handler;if(xe.isActive())return!0}return!1},qi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},qi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},qi.prototype.isMoving=function(){return!!ho(this._eventsInProgress)||this.isZooming()},qi.prototype._blockedByActive=function($,me,re){for(var xe in $)if(xe!==re&&(!me||me.indexOf(xe)<0))return!0;return!1},qi.prototype.handleWindowEvent=function($){this.handleEvent($,$.type+"Window")},qi.prototype._getMapTouches=function($){for(var me=[],re=0,xe=$;re<xe.length;re+=1){var ze=xe[re],Ke=ze.target;this._el.contains(Ke)&&me.push(ze)}return me},qi.prototype.handleEvent=function($,me){if($.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var re=$.type==="renderFrame"?void 0:$,xe={needsRenderFrame:!1},ze={},Ke={},ft=$.touches?this._getMapTouches($.touches):void 0,_t=ft?S.touchPos(this._el,ft):S.mousePos(this._el,$),Vt=0,qt=this._handlers;Vt<qt.length;Vt+=1){var fr=qt[Vt],sr=fr.handlerName,kr=fr.handler,Kr=fr.allowed;if(kr.isEnabled()){var jr=void 0;this._blockedByActive(Ke,Kr,sr)?kr.reset():kr[me||$.type]&&(jr=kr[me||$.type]($,_t,ft),this.mergeHandlerResult(xe,ze,jr,sr,re),jr&&jr.needsRenderFrame&&this._triggerRenderFrame()),(jr||kr.isActive())&&(Ke[sr]=kr)}}var Xr={};for(var en in this._previousActiveHandlers)Ke[en]||(Xr[en]=re);this._previousActiveHandlers=Ke,(Object.keys(Xr).length||cl(xe))&&(this._changes.push([xe,ze,Xr]),this._triggerRenderFrame()),(Object.keys(Ke).length||cl(xe))&&this._map._stop(!0),this._updatingCamera=!1;var yn=xe.cameraAnimation;yn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],yn(this._map))},qi.prototype.mergeHandlerResult=function($,me,re,xe,ze){if(re){o.extend($,re);var Ke={handlerName:xe,originalEvent:re.originalEvent||ze};re.zoomDelta!==void 0&&(me.zoom=Ke),re.panDelta!==void 0&&(me.drag=Ke),re.pitchDelta!==void 0&&(me.pitch=Ke),re.bearingDelta!==void 0&&(me.rotate=Ke)}},qi.prototype._applyChanges=function(){for(var $={},me={},re={},xe=0,ze=this._changes;xe<ze.length;xe+=1){var Ke=ze[xe],ft=Ke[0],_t=Ke[1],Vt=Ke[2];ft.panDelta&&($.panDelta=($.panDelta||new o.Point(0,0))._add(ft.panDelta)),ft.zoomDelta&&($.zoomDelta=($.zoomDelta||0)+ft.zoomDelta),ft.bearingDelta&&($.bearingDelta=($.bearingDelta||0)+ft.bearingDelta),ft.pitchDelta&&($.pitchDelta=($.pitchDelta||0)+ft.pitchDelta),ft.around!==void 0&&($.around=ft.around),ft.pinchAround!==void 0&&($.pinchAround=ft.pinchAround),ft.noInertia&&($.noInertia=ft.noInertia),o.extend(me,_t),o.extend(re,Vt)}this._updateMapTransform($,me,re),this._changes=[]},qi.prototype._updateMapTransform=function($,me,re){var xe=this._map,ze=xe.transform;if(!cl($))return this._fireEvents(me,re,!0);var Ke=$.panDelta,ft=$.zoomDelta,_t=$.bearingDelta,Vt=$.pitchDelta,qt=$.around,fr=$.pinchAround;fr!==void 0&&(qt=fr),xe._stop(!0),qt=qt||xe.transform.centerPoint;var sr=ze.pointLocation(Ke?qt.sub(Ke):qt);_t&&(ze.bearing+=_t),Vt&&(ze.pitch+=Vt),ft&&(ze.zoom+=ft),ze.setLocationAtPoint(sr,qt),this._map._update(),$.noInertia||this._inertia.record($),this._fireEvents(me,re,!0)},qi.prototype._fireEvents=function($,me,re){var xe=this,ze=ho(this._eventsInProgress),Ke=ho($),ft={};for(var _t in $){var Vt=$[_t],qt=Vt.originalEvent;this._eventsInProgress[_t]||(ft[_t+"start"]=qt),this._eventsInProgress[_t]=$[_t]}!ze&&Ke&&this._fireEvent("movestart",Ke.originalEvent);for(var fr in ft)this._fireEvent(fr,ft[fr]);Ke&&this._fireEvent("move",Ke.originalEvent);for(var sr in $){var kr=$[sr],Kr=kr.originalEvent;this._fireEvent(sr,Kr)}var jr={},Xr;for(var en in this._eventsInProgress){var yn=this._eventsInProgress[en],Fn=yn.handlerName,Yn=yn.originalEvent;this._handlersById[Fn].isActive()||(delete this._eventsInProgress[en],Xr=me[Fn]||Yn,jr[en+"end"]=Xr)}for(var Jn in jr)this._fireEvent(Jn,jr[Jn]);var Qn=ho(this._eventsInProgress);if(re&&(ze||Ke)&&!Qn){this._updatingCamera=!0;var jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),qn=function(sa){return sa!==0&&-xe._bearingSnap<sa&&sa<xe._bearingSnap};jn?(qn(jn.bearing||this._map.getBearing())&&(jn.bearing=0),this._map.easeTo(jn,{originalEvent:Xr})):(this._map.fire(new o.Event("moveend",{originalEvent:Xr})),qn(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},qi.prototype._fireEvent=function($,me){this._map.fire(new o.Event($,me?{originalEvent:me}:{}))},qi.prototype._requestFrame=function(){var $=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(me){delete $._frameId,$.handleEvent(new js("renderFrame",{timeStamp:me})),$._applyChanges()})},qi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Pu=function(pe){function $(me,re){pe.call(this),this._moving=!1,this._zooming=!1,this.transform=me,this._bearingSnap=re.bearingSnap,o.bindAll(["_renderFrameCallback"],this)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.getCenter=function(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)},$.prototype.setCenter=function(re,xe){return this.jumpTo({center:re},xe)},$.prototype.panBy=function(re,xe,ze){return re=o.Point.convert(re).mult(-1),this.panTo(this.transform.center,o.extend({offset:re},xe),ze)},$.prototype.panTo=function(re,xe,ze){return this.easeTo(o.extend({center:re},xe),ze)},$.prototype.getZoom=function(){return this.transform.zoom},$.prototype.setZoom=function(re,xe){return this.jumpTo({zoom:re},xe),this},$.prototype.zoomTo=function(re,xe,ze){return this.easeTo(o.extend({zoom:re},xe),ze)},$.prototype.zoomIn=function(re,xe){return this.zoomTo(this.getZoom()+1,re,xe),this},$.prototype.zoomOut=function(re,xe){return this.zoomTo(this.getZoom()-1,re,xe),this},$.prototype.getBearing=function(){return this.transform.bearing},$.prototype.setBearing=function(re,xe){return this.jumpTo({bearing:re},xe),this},$.prototype.getPadding=function(){return this.transform.padding},$.prototype.setPadding=function(re,xe){return this.jumpTo({padding:re},xe),this},$.prototype.rotateTo=function(re,xe,ze){return this.easeTo(o.extend({bearing:re},xe),ze)},$.prototype.resetNorth=function(re,xe){return this.rotateTo(0,o.extend({duration:1e3},re),xe),this},$.prototype.resetNorthPitch=function(re,xe){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},re),xe),this},$.prototype.snapToNorth=function(re,xe){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(re,xe):this},$.prototype.getPitch=function(){return this.transform.pitch},$.prototype.setPitch=function(re,xe){return this.jumpTo({pitch:re},xe),this},$.prototype.cameraForBounds=function(re,xe){re=o.LngLatBounds.convert(re);var ze=xe&&xe.bearing||0;return this._cameraForBoxAndBearing(re.getNorthWest(),re.getSouthEast(),ze,xe)},$.prototype._cameraForBoxAndBearing=function(re,xe,ze,Ke){var ft={top:0,bottom:0,right:0,left:0};if(Ke=o.extend({padding:ft,offset:[0,0],maxZoom:this.transform.maxZoom},Ke),typeof Ke.padding=="number"){var _t=Ke.padding;Ke.padding={top:_t,bottom:_t,right:_t,left:_t}}Ke.padding=o.extend(ft,Ke.padding);var Vt=this.transform,qt=Vt.padding,fr=Vt.project(o.LngLat.convert(re)),sr=Vt.project(o.LngLat.convert(xe)),kr=fr.rotate(-ze*Math.PI/180),Kr=sr.rotate(-ze*Math.PI/180),jr=new o.Point(Math.max(kr.x,Kr.x),Math.max(kr.y,Kr.y)),Xr=new o.Point(Math.min(kr.x,Kr.x),Math.min(kr.y,Kr.y)),en=jr.sub(Xr),yn=(Vt.width-(qt.left+qt.right+Ke.padding.left+Ke.padding.right))/en.x,Fn=(Vt.height-(qt.top+qt.bottom+Ke.padding.top+Ke.padding.bottom))/en.y;if(Fn<0||yn<0){o.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Yn=Math.min(Vt.scaleZoom(Vt.scale*Math.min(yn,Fn)),Ke.maxZoom),Jn=typeof Ke.offset.x=="number"?new o.Point(Ke.offset.x,Ke.offset.y):o.Point.convert(Ke.offset),Qn=(Ke.padding.left-Ke.padding.right)/2,jn=(Ke.padding.top-Ke.padding.bottom)/2,qn=new o.Point(Qn,jn),sa=qn.rotate(ze*Math.PI/180),va=Jn.add(sa),Aa=va.mult(Vt.scale/Vt.zoomScale(Yn)),ma=Vt.unproject(fr.add(sr).div(2).sub(Aa));return{center:ma,zoom:Yn,bearing:ze}},$.prototype.fitBounds=function(re,xe,ze){return this._fitInternal(this.cameraForBounds(re,xe),xe,ze)},$.prototype.fitScreenCoordinates=function(re,xe,ze,Ke,ft){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.Point.convert(re)),this.transform.pointLocation(o.Point.convert(xe)),ze,Ke),Ke,ft)},$.prototype._fitInternal=function(re,xe,ze){return re?(xe=o.extend(re,xe),delete xe.padding,xe.linear?this.easeTo(xe,ze):this.flyTo(xe,ze)):this},$.prototype.jumpTo=function(re,xe){this.stop();var ze=this.transform,Ke=!1,ft=!1,_t=!1;return"zoom"in re&&ze.zoom!==+re.zoom&&(Ke=!0,ze.zoom=+re.zoom),re.center!==void 0&&(ze.center=o.LngLat.convert(re.center)),"bearing"in re&&ze.bearing!==+re.bearing&&(ft=!0,ze.bearing=+re.bearing),"pitch"in re&&ze.pitch!==+re.pitch&&(_t=!0,ze.pitch=+re.pitch),re.padding!=null&&!ze.isPaddingEqual(re.padding)&&(ze.padding=re.padding),this.fire(new o.Event("movestart",xe)).fire(new o.Event("move",xe)),Ke&&this.fire(new o.Event("zoomstart",xe)).fire(new o.Event("zoom",xe)).fire(new o.Event("zoomend",xe)),ft&&this.fire(new o.Event("rotatestart",xe)).fire(new o.Event("rotate",xe)).fire(new o.Event("rotateend",xe)),_t&&this.fire(new o.Event("pitchstart",xe)).fire(new o.Event("pitch",xe)).fire(new o.Event("pitchend",xe)),this.fire(new o.Event("moveend",xe))},$.prototype.easeTo=function(re,xe){var ze=this;this._stop(!1,re.easeId),re=o.extend({offset:[0,0],duration:500,easing:o.ease},re),(re.animate===!1||!re.essential&&o.browser.prefersReducedMotion)&&(re.duration=0);var Ke=this.transform,ft=this.getZoom(),_t=this.getBearing(),Vt=this.getPitch(),qt=this.getPadding(),fr="zoom"in re?+re.zoom:ft,sr="bearing"in re?this._normalizeBearing(re.bearing,_t):_t,kr="pitch"in re?+re.pitch:Vt,Kr="padding"in re?re.padding:Ke.padding,jr=o.Point.convert(re.offset),Xr=Ke.centerPoint.add(jr),en=Ke.pointLocation(Xr),yn=o.LngLat.convert(re.center||en);this._normalizeCenter(yn);var Fn=Ke.project(en),Yn=Ke.project(yn).sub(Fn),Jn=Ke.zoomScale(fr-ft),Qn,jn;re.around&&(Qn=o.LngLat.convert(re.around),jn=Ke.locationPoint(Qn));var qn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fr!==ft,this._rotating=this._rotating||_t!==sr,this._pitching=this._pitching||kr!==Vt,this._padding=!Ke.isPaddingEqual(Kr),this._easeId=re.easeId,this._prepareEase(xe,re.noMoveStart,qn),this._ease(function(sa){if(ze._zooming&&(Ke.zoom=o.number(ft,fr,sa)),ze._rotating&&(Ke.bearing=o.number(_t,sr,sa)),ze._pitching&&(Ke.pitch=o.number(Vt,kr,sa)),ze._padding&&(Ke.interpolatePadding(qt,Kr,sa),Xr=Ke.centerPoint.add(jr)),Qn)Ke.setLocationAtPoint(Qn,jn);else{var va=Ke.zoomScale(Ke.zoom-ft),Aa=fr>ft?Math.min(2,Jn):Math.max(.5,Jn),ma=Math.pow(Aa,1-sa),Va=Ke.unproject(Fn.add(Yn.mult(sa*ma)).mult(va));Ke.setLocationAtPoint(Ke.renderWorldCopies?Va.wrap():Va,Xr)}ze._fireMoveEvents(xe)},function(sa){ze._afterEase(xe,sa)},re),this},$.prototype._prepareEase=function(re,xe,ze){ze===void 0&&(ze={}),this._moving=!0,!xe&&!ze.moving&&this.fire(new o.Event("movestart",re)),this._zooming&&!ze.zooming&&this.fire(new o.Event("zoomstart",re)),this._rotating&&!ze.rotating&&this.fire(new o.Event("rotatestart",re)),this._pitching&&!ze.pitching&&this.fire(new o.Event("pitchstart",re))},$.prototype._fireMoveEvents=function(re){this.fire(new o.Event("move",re)),this._zooming&&this.fire(new o.Event("zoom",re)),this._rotating&&this.fire(new o.Event("rotate",re)),this._pitching&&this.fire(new o.Event("pitch",re))},$.prototype._afterEase=function(re,xe){if(!(this._easeId&&xe&&this._easeId===xe)){delete this._easeId;var ze=this._zooming,Ke=this._rotating,ft=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new o.Event("zoomend",re)),Ke&&this.fire(new o.Event("rotateend",re)),ft&&this.fire(new o.Event("pitchend",re)),this.fire(new o.Event("moveend",re))}},$.prototype.flyTo=function(re,xe){var ze=this;if(!re.essential&&o.browser.prefersReducedMotion){var Ke=o.pick(re,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ke,xe)}this.stop(),re=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},re);var ft=this.transform,_t=this.getZoom(),Vt=this.getBearing(),qt=this.getPitch(),fr=this.getPadding(),sr="zoom"in re?o.clamp(+re.zoom,ft.minZoom,ft.maxZoom):_t,kr="bearing"in re?this._normalizeBearing(re.bearing,Vt):Vt,Kr="pitch"in re?+re.pitch:qt,jr="padding"in re?re.padding:ft.padding,Xr=ft.zoomScale(sr-_t),en=o.Point.convert(re.offset),yn=ft.centerPoint.add(en),Fn=ft.pointLocation(yn),Yn=o.LngLat.convert(re.center||Fn);this._normalizeCenter(Yn);var Jn=ft.project(Fn),Qn=ft.project(Yn).sub(Jn),jn=re.curve,qn=Math.max(ft.width,ft.height),sa=qn/Xr,va=Qn.mag();if("minZoom"in re){var Aa=o.clamp(Math.min(re.minZoom,_t,sr),ft.minZoom,ft.maxZoom),ma=qn/ft.zoomScale(Aa-_t);jn=Math.sqrt(ma/va*2)}var Va=jn*jn;function hi(Qa){var pi=(sa*sa-qn*qn+(Qa?-1:1)*Va*Va*va*va)/(2*(Qa?sa:qn)*Va*va);return Math.log(Math.sqrt(pi*pi+1)-pi)}function ri(Qa){return(Math.exp(Qa)-Math.exp(-Qa))/2}function La(Qa){return(Math.exp(Qa)+Math.exp(-Qa))/2}function ai(Qa){return ri(Qa)/La(Qa)}var ja=hi(0),Ti=function(Qa){return La(ja)/La(ja+jn*Qa)},yi=function(Qa){return qn*((La(ja)*ai(ja+jn*Qa)-ri(ja))/Va)/va},Wi=(hi(1)-ja)/jn;if(Math.abs(va)<1e-6||!isFinite(Wi)){if(Math.abs(qn-sa)<1e-6)return this.easeTo(re,xe);var fi=sa<qn?-1:1;Wi=Math.abs(Math.log(sa/qn))/jn,yi=function(){return 0},Ti=function(Qa){return Math.exp(fi*jn*Qa)}}if("duration"in re)re.duration=+re.duration;else{var Ni="screenSpeed"in re?+re.screenSpeed/jn:+re.speed;re.duration=1e3*Wi/Ni}return re.maxDuration&&re.duration>re.maxDuration&&(re.duration=0),this._zooming=!0,this._rotating=Vt!==kr,this._pitching=Kr!==qt,this._padding=!ft.isPaddingEqual(jr),this._prepareEase(xe,!1),this._ease(function(Qa){var pi=Qa*Wi,vo=1/Ti(pi);ft.zoom=Qa===1?sr:_t+ft.scaleZoom(vo),ze._rotating&&(ft.bearing=o.number(Vt,kr,Qa)),ze._pitching&&(ft.pitch=o.number(qt,Kr,Qa)),ze._padding&&(ft.interpolatePadding(fr,jr,Qa),yn=ft.centerPoint.add(en));var Zo=Qa===1?Yn:ft.unproject(Jn.add(Qn.mult(yi(pi))).mult(vo));ft.setLocationAtPoint(ft.renderWorldCopies?Zo.wrap():Zo,yn),ze._fireMoveEvents(xe)},function(){return ze._afterEase(xe)},re),this},$.prototype.isEasing=function(){return!!this._easeFrameId},$.prototype.stop=function(){return this._stop()},$.prototype._stop=function(re,xe){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,xe)}if(!re){var Ke=this.handlers;Ke&&Ke.stop(!1)}return this},$.prototype._ease=function(re,xe,ze){ze.animate===!1||ze.duration===0?(re(1),xe()):(this._easeStart=o.browser.now(),this._easeOptions=ze,this._onEaseFrame=re,this._onEaseEnd=xe,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},$.prototype._renderFrameCallback=function(){var re=Math.min((o.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(re)),re<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},$.prototype._normalizeBearing=function(re,xe){re=o.wrap(re,-180,180);var ze=Math.abs(re-xe);return Math.abs(re-360-xe)<ze&&(re-=360),Math.abs(re+360-xe)<ze&&(re+=360),re},$.prototype._normalizeCenter=function(re){var xe=this.transform;if(!(!xe.renderWorldCopies||xe.lngRange)){var ze=re.lng-xe.center.lng;re.lng+=ze>180?-360:ze<-180?360:0}},$}(o.Evented),ui=function($){$===void 0&&($={}),this.options=$,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};ui.prototype.getDefaultPosition=function(){return"bottom-right"},ui.prototype.onAdd=function($){var me=this.options&&this.options.compact;return this._map=$,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=S.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=S.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),me&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),me===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ui.prototype.onRemove=function(){S.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ui.prototype._setElementTitle=function($,me){var re=this._map._getUIString("AttributionControl."+me);$.title=re,$.setAttribute("aria-label",re)},ui.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},ui.prototype._updateEditLink=function(){var $=this._editLink;$||($=this._editLink=this._container.querySelector(".mapbox-improve-map"));var me=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if($){var re=me.reduce(function(xe,ze,Ke){return ze.value&&(xe+=ze.key+"="+ze.value+(Ke<me.length-1?"&":"")),xe},"?");$.href=o.config.FEEDBACK_URL+"/"+re+(this._map._hash?this._map._hash.getHashString(!0):""),$.rel="noopener nofollow",this._setElementTitle($,"MapFeedback")}},ui.prototype._updateData=function($){$&&($.sourceDataType==="metadata"||$.sourceDataType==="visibility"||$.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},ui.prototype._updateAttributions=function(){if(this._map.style){var $=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?$=$.concat(this.options.customAttribution.map(function(_t){return typeof _t!="string"?"":_t})):typeof this.options.customAttribution=="string"&&$.push(this.options.customAttribution)),this._map.style.stylesheet){var me=this._map.style.stylesheet;this.styleOwner=me.owner,this.styleId=me.id}var re=this._map.style.sourceCaches;for(var xe in re){var ze=re[xe];if(ze.used){var Ke=ze.getSource();Ke.attribution&&$.indexOf(Ke.attribution)<0&&$.push(Ke.attribution)}}$.sort(function(_t,Vt){return _t.length-Vt.length}),$=$.filter(function(_t,Vt){for(var qt=Vt+1;qt<$.length;qt++)if($[qt].indexOf(_t)>=0)return!1;return!0});var ft=$.join(" | ");ft!==this._attribHTML&&(this._attribHTML=ft,$.length?(this._innerContainer.innerHTML=ft,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ui.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var eo=function(){o.bindAll(["_updateLogo"],this),o.bindAll(["_updateCompact"],this)};eo.prototype.onAdd=function($){this._map=$,this._container=S.create("div","mapboxgl-ctrl");var me=S.create("a","mapboxgl-ctrl-logo");return me.target="_blank",me.rel="noopener nofollow",me.href="https://www.mapbox.com/",me.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),me.setAttribute("rel","noopener nofollow"),this._container.appendChild(me),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},eo.prototype.onRemove=function(){S.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},eo.prototype.getDefaultPosition=function(){return"bottom-left"},eo.prototype._updateLogo=function($){(!$||$.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},eo.prototype._logoRequired=function(){if(this._map.style){var $=this._map.style.sourceCaches;for(var me in $){var re=$[me].getSource();if(re.mapbox_logo)return!0}return!1}},eo.prototype._updateCompact=function(){var $=this._container.children;if($.length){var me=$[0];this._map.getCanvasContainer().offsetWidth<250?me.classList.add("mapboxgl-compact"):me.classList.remove("mapboxgl-compact")}};var Mv=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Mv.prototype.add=function($){var me=++this._id,re=this._queue;return re.push({callback:$,id:me,cancelled:!1}),me},Mv.prototype.remove=function($){for(var me=this._currentlyRunning,re=me?this._queue.concat(me):this._queue,xe=0,ze=re;xe<ze.length;xe+=1){var Ke=ze[xe];if(Ke.id===$){Ke.cancelled=!0;return}}},Mv.prototype.run=function($){$===void 0&&($=0);var me=this._currentlyRunning=this._queue;this._queue=[];for(var re=0,xe=me;re<xe.length;re+=1){var ze=xe[re];if(!ze.cancelled&&(ze.callback($),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Mv.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var V0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Rc=o.window.HTMLImageElement,pp=o.window.HTMLElement,jf=o.window.ImageBitmap,Mh=-2,Eh=22,Os=0,Kf=60,gp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:Mh,maxZoom:Eh,minPitch:Os,maxPitch:Kf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},yp=function(pe){function $(re){var xe=this;if(re=o.extend({},gp,re),re.minZoom!=null&&re.maxZoom!=null&&re.minZoom>re.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(re.minPitch!=null&&re.maxPitch!=null&&re.minPitch>re.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(re.minPitch!=null&&re.minPitch<Os)throw new Error("minPitch must be greater than or equal to "+Os);if(re.maxPitch!=null&&re.maxPitch>Kf)throw new Error("maxPitch must be less than or equal to "+Kf);var ze=new Nn(re.minZoom,re.maxZoom,re.minPitch,re.maxPitch,re.renderWorldCopies);if(pe.call(this,ze,re),this._interactive=re.interactive,this._maxTileCacheSize=re.maxTileCacheSize,this._failIfMajorPerformanceCaveat=re.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=re.preserveDrawingBuffer,this._antialias=re.antialias,this._trackResize=re.trackResize,this._bearingSnap=re.bearingSnap,this._refreshExpiredTiles=re.refreshExpiredTiles,this._fadeDuration=re.fadeDuration,this._crossSourceCollisions=re.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=re.collectResourceTiming,this._renderTaskQueue=new Mv,this._controls=[],this._mapId=o.uniqueId(),this._locale=o.extend({},V0,re.locale),this._clickTolerance=re.clickTolerance,this._requestManager=new o.RequestManager(re.transformRequest,re.accessToken),typeof re.container=="string"){if(this._container=o.window.document.getElementById(re.container),!this._container)throw new Error("Container '"+re.container+"' not found.")}else if(re.container instanceof pp)this._container=re.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(re.maxBounds&&this.setMaxBounds(re.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return xe._update(!1)}),this.on("moveend",function(){return xe._update(!1)}),this.on("zoom",function(){return xe._update(!0)}),typeof o.window<"u"&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new qi(this,re);var Ke=typeof re.hash=="string"&&re.hash||void 0;this._hash=re.hash&&new ka(Ke).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:re.center,zoom:re.zoom,bearing:re.bearing,pitch:re.pitch}),re.bounds&&(this.resize(),this.fitBounds(re.bounds,o.extend({},re.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=re.localIdeographFontFamily,re.style&&this.setStyle(re.style,{localIdeographFontFamily:re.localIdeographFontFamily}),re.attributionControl&&this.addControl(new ui({customAttribution:re.customAttribution})),this.addControl(new eo,re.logoPosition),this.on("style.load",function(){xe.transform.unmodified&&xe.jumpTo(xe.style.stylesheet)}),this.on("data",function(ft){xe._update(ft.dataType==="style"),xe.fire(new o.Event(ft.dataType+"data",ft))}),this.on("dataloading",function(ft){xe.fire(new o.Event(ft.dataType+"dataloading",ft))})}pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$;var me={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return $.prototype._getMapId=function(){return this._mapId},$.prototype.addControl=function(xe,ze){if(ze===void 0&&(xe.getDefaultPosition?ze=xe.getDefaultPosition():ze="top-right"),!xe||!xe.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ke=xe.onAdd(this);this._controls.push(xe);var ft=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?ft.insertBefore(Ke,ft.firstChild):ft.appendChild(Ke),this},$.prototype.removeControl=function(xe){if(!xe||!xe.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(xe);return ze>-1&&this._controls.splice(ze,1),xe.onRemove(this),this},$.prototype.hasControl=function(xe){return this._controls.indexOf(xe)>-1},$.prototype.resize=function(xe){var ze=this._containerDimensions(),Ke=ze[0],ft=ze[1];this._resizeCanvas(Ke,ft),this.transform.resize(Ke,ft),this.painter.resize(Ke,ft);var _t=!this._moving;return _t&&(this.stop(),this.fire(new o.Event("movestart",xe)).fire(new o.Event("move",xe))),this.fire(new o.Event("resize",xe)),_t&&this.fire(new o.Event("moveend",xe)),this},$.prototype.getBounds=function(){return this.transform.getBounds()},$.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},$.prototype.setMaxBounds=function(xe){return this.transform.setMaxBounds(o.LngLatBounds.convert(xe)),this._update()},$.prototype.setMinZoom=function(xe){if(xe=xe??Mh,xe>=Mh&&xe<=this.transform.maxZoom)return this.transform.minZoom=xe,this._update(),this.getZoom()<xe&&this.setZoom(xe),this;throw new Error("minZoom must be between "+Mh+" and the current maxZoom, inclusive")},$.prototype.getMinZoom=function(){return this.transform.minZoom},$.prototype.setMaxZoom=function(xe){if(xe=xe??Eh,xe>=this.transform.minZoom)return this.transform.maxZoom=xe,this._update(),this.getZoom()>xe&&this.setZoom(xe),this;throw new Error("maxZoom must be greater than the current minZoom")},$.prototype.getMaxZoom=function(){return this.transform.maxZoom},$.prototype.setMinPitch=function(xe){if(xe=xe??Os,xe<Os)throw new Error("minPitch must be greater than or equal to "+Os);if(xe>=Os&&xe<=this.transform.maxPitch)return this.transform.minPitch=xe,this._update(),this.getPitch()<xe&&this.setPitch(xe),this;throw new Error("minPitch must be between "+Os+" and the current maxPitch, inclusive")},$.prototype.getMinPitch=function(){return this.transform.minPitch},$.prototype.setMaxPitch=function(xe){if(xe=xe??Kf,xe>Kf)throw new Error("maxPitch must be less than or equal to "+Kf);if(xe>=this.transform.minPitch)return this.transform.maxPitch=xe,this._update(),this.getPitch()>xe&&this.setPitch(xe),this;throw new Error("maxPitch must be greater than the current minPitch")},$.prototype.getMaxPitch=function(){return this.transform.maxPitch},$.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},$.prototype.setRenderWorldCopies=function(xe){return this.transform.renderWorldCopies=xe,this._update()},$.prototype.project=function(xe){return this.transform.locationPoint(o.LngLat.convert(xe))},$.prototype.unproject=function(xe){return this.transform.pointLocation(o.Point.convert(xe))},$.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},$.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},$.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},$.prototype._createDelegatedListener=function(xe,ze,Ke){var ft=this,_t;if(xe==="mouseenter"||xe==="mouseover"){var Vt=!1,qt=function(Xr){var en=ft.getLayer(ze)?ft.queryRenderedFeatures(Xr.point,{layers:[ze]}):[];en.length?Vt||(Vt=!0,Ke.call(ft,new tt(xe,ft,Xr.originalEvent,{features:en}))):Vt=!1},fr=function(){Vt=!1};return{layer:ze,listener:Ke,delegates:{mousemove:qt,mouseout:fr}}}else if(xe==="mouseleave"||xe==="mouseout"){var sr=!1,kr=function(Xr){var en=ft.getLayer(ze)?ft.queryRenderedFeatures(Xr.point,{layers:[ze]}):[];en.length?sr=!0:sr&&(sr=!1,Ke.call(ft,new tt(xe,ft,Xr.originalEvent)))},Kr=function(Xr){sr&&(sr=!1,Ke.call(ft,new tt(xe,ft,Xr.originalEvent)))};return{layer:ze,listener:Ke,delegates:{mousemove:kr,mouseout:Kr}}}else{var jr=function(Xr){var en=ft.getLayer(ze)?ft.queryRenderedFeatures(Xr.point,{layers:[ze]}):[];en.length&&(Xr.features=en,Ke.call(ft,Xr),delete Xr.features)};return{layer:ze,listener:Ke,delegates:(_t={},_t[xe]=jr,_t)}}},$.prototype.on=function(xe,ze,Ke){if(Ke===void 0)return pe.prototype.on.call(this,xe,ze);var ft=this._createDelegatedListener(xe,ze,Ke);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[xe]=this._delegatedListeners[xe]||[],this._delegatedListeners[xe].push(ft);for(var _t in ft.delegates)this.on(_t,ft.delegates[_t]);return this},$.prototype.once=function(xe,ze,Ke){if(Ke===void 0)return pe.prototype.once.call(this,xe,ze);var ft=this._createDelegatedListener(xe,ze,Ke);for(var _t in ft.delegates)this.once(_t,ft.delegates[_t]);return this},$.prototype.off=function(xe,ze,Ke){var ft=this;if(Ke===void 0)return pe.prototype.off.call(this,xe,ze);var _t=function(Vt){for(var qt=Vt[xe],fr=0;fr<qt.length;fr++){var sr=qt[fr];if(sr.layer===ze&&sr.listener===Ke){for(var kr in sr.delegates)ft.off(kr,sr.delegates[kr]);return qt.splice(fr,1),ft}}};return this._delegatedListeners&&this._delegatedListeners[xe]&&_t(this._delegatedListeners),this},$.prototype.queryRenderedFeatures=function(xe,ze){if(!this.style)return[];ze===void 0&&xe!==void 0&&!(xe instanceof o.Point)&&!Array.isArray(xe)&&(ze=xe,xe=void 0),ze=ze||{},xe=xe||[[0,0],[this.transform.width,this.transform.height]];var Ke;if(xe instanceof o.Point||typeof xe[0]=="number")Ke=[o.Point.convert(xe)];else{var ft=o.Point.convert(xe[0]),_t=o.Point.convert(xe[1]);Ke=[ft,new o.Point(_t.x,ft.y),_t,new o.Point(ft.x,_t.y),ft]}return this.style.queryRenderedFeatures(Ke,ze,this.transform)},$.prototype.querySourceFeatures=function(xe,ze){return this.style.querySourceFeatures(xe,ze)},$.prototype.setStyle=function(xe,ze){return ze=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&xe?(this._diffStyle(xe,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(xe,ze))},$.prototype._getUIString=function(xe){var ze=this._locale[xe];if(ze==null)throw new Error("Missing UI string '"+xe+"'");return ze},$.prototype._updateStyle=function(xe,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),xe)this.style=new hs(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof xe=="string"?this.style.loadURL(xe):this.style.loadJSON(xe),this},$.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new hs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},$.prototype._diffStyle=function(xe,ze){var Ke=this;if(typeof xe=="string"){var ft=this._requestManager.normalizeStyleURL(xe),_t=this._requestManager.transformRequest(ft,o.ResourceType.Style);o.getJSON(_t,function(Vt,qt){Vt?Ke.fire(new o.ErrorEvent(Vt)):qt&&Ke._updateDiff(qt,ze)})}else typeof xe=="object"&&this._updateDiff(xe,ze)},$.prototype._updateDiff=function(xe,ze){try{this.style.setState(xe)&&this._update(!0)}catch(Ke){o.warnOnce("Unable to perform style diff: "+(Ke.message||Ke.error||Ke)+".  Rebuilding the style from scratch."),this._updateStyle(xe,ze)}},$.prototype.getStyle=function(){if(this.style)return this.style.serialize()},$.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():o.warnOnce("There is no style added to the map.")},$.prototype.addSource=function(xe,ze){return this._lazyInitEmptyStyle(),this.style.addSource(xe,ze),this._update(!0)},$.prototype.isSourceLoaded=function(xe){var ze=this.style&&this.style.sourceCaches[xe];if(ze===void 0){this.fire(new o.ErrorEvent(new Error("There is no source with ID '"+xe+"'")));return}return ze.loaded()},$.prototype.areTilesLoaded=function(){var xe=this.style&&this.style.sourceCaches;for(var ze in xe){var Ke=xe[ze],ft=Ke._tiles;for(var _t in ft){var Vt=ft[_t];if(!(Vt.state==="loaded"||Vt.state==="errored"))return!1}}return!0},$.prototype.addSourceType=function(xe,ze,Ke){return this._lazyInitEmptyStyle(),this.style.addSourceType(xe,ze,Ke)},$.prototype.removeSource=function(xe){return this.style.removeSource(xe),this._update(!0)},$.prototype.getSource=function(xe){return this.style.getSource(xe)},$.prototype.addImage=function(xe,ze,Ke){Ke===void 0&&(Ke={});var ft=Ke.pixelRatio;ft===void 0&&(ft=1);var _t=Ke.sdf;_t===void 0&&(_t=!1);var Vt=Ke.stretchX,qt=Ke.stretchY,fr=Ke.content;this._lazyInitEmptyStyle();var sr=0;if(ze instanceof Rc||jf&&ze instanceof jf){var kr=o.browser.getImageData(ze),Kr=kr.width,jr=kr.height,Xr=kr.data;this.style.addImage(xe,{data:new o.RGBAImage({width:Kr,height:jr},Xr),pixelRatio:ft,stretchX:Vt,stretchY:qt,content:fr,sdf:_t,version:sr})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var en=ze.width,yn=ze.height,Fn=ze.data,Yn=ze;this.style.addImage(xe,{data:new o.RGBAImage({width:en,height:yn},new Uint8Array(Fn)),pixelRatio:ft,stretchX:Vt,stretchY:qt,content:fr,sdf:_t,version:sr,userImage:Yn}),Yn.onAdd&&Yn.onAdd(this,xe)}},$.prototype.updateImage=function(xe,ze){var Ke=this.style.getImage(xe);if(!Ke)return this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ft=ze instanceof Rc||jf&&ze instanceof jf?o.browser.getImageData(ze):ze,_t=ft.width,Vt=ft.height,qt=ft.data;if(_t===void 0||Vt===void 0)return this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_t!==Ke.data.width||Vt!==Ke.data.height)return this.fire(new o.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var fr=!(ze instanceof Rc||jf&&ze instanceof jf);Ke.data.replace(qt,fr),this.style.updateImage(xe,Ke)},$.prototype.hasImage=function(xe){return xe?!!this.style.getImage(xe):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)},$.prototype.removeImage=function(xe){this.style.removeImage(xe)},$.prototype.loadImage=function(xe,ze){o.getImage(this._requestManager.transformRequest(xe,o.ResourceType.Image),ze)},$.prototype.listImages=function(){return this.style.listImages()},$.prototype.addLayer=function(xe,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(xe,ze),this._update(!0)},$.prototype.moveLayer=function(xe,ze){return this.style.moveLayer(xe,ze),this._update(!0)},$.prototype.removeLayer=function(xe){return this.style.removeLayer(xe),this._update(!0)},$.prototype.getLayer=function(xe){return this.style.getLayer(xe)},$.prototype.setLayerZoomRange=function(xe,ze,Ke){return this.style.setLayerZoomRange(xe,ze,Ke),this._update(!0)},$.prototype.setFilter=function(xe,ze,Ke){return Ke===void 0&&(Ke={}),this.style.setFilter(xe,ze,Ke),this._update(!0)},$.prototype.getFilter=function(xe){return this.style.getFilter(xe)},$.prototype.setPaintProperty=function(xe,ze,Ke,ft){return ft===void 0&&(ft={}),this.style.setPaintProperty(xe,ze,Ke,ft),this._update(!0)},$.prototype.getPaintProperty=function(xe,ze){return this.style.getPaintProperty(xe,ze)},$.prototype.setLayoutProperty=function(xe,ze,Ke,ft){return ft===void 0&&(ft={}),this.style.setLayoutProperty(xe,ze,Ke,ft),this._update(!0)},$.prototype.getLayoutProperty=function(xe,ze){return this.style.getLayoutProperty(xe,ze)},$.prototype.setLight=function(xe,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(xe,ze),this._update(!0)},$.prototype.getLight=function(){return this.style.getLight()},$.prototype.setFeatureState=function(xe,ze){return this.style.setFeatureState(xe,ze),this._update()},$.prototype.removeFeatureState=function(xe,ze){return this.style.removeFeatureState(xe,ze),this._update()},$.prototype.getFeatureState=function(xe){return this.style.getFeatureState(xe)},$.prototype.getContainer=function(){return this._container},$.prototype.getCanvasContainer=function(){return this._canvasContainer},$.prototype.getCanvas=function(){return this._canvas},$.prototype._containerDimensions=function(){var xe=0,ze=0;return this._container&&(xe=this._container.clientWidth||400,ze=this._container.clientHeight||300),[xe,ze]},$.prototype._detectMissingCSS=function(){var xe=o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");xe!=="rgb(250, 128, 114)"&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},$.prototype._setupContainer=function(){var xe=this._container;xe.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=S.create("div","mapboxgl-canary",xe);ze.style.visibility="hidden",this._detectMissingCSS();var Ke=this._canvasContainer=S.create("div","mapboxgl-canvas-container",xe);this._interactive&&Ke.classList.add("mapboxgl-interactive"),this._canvas=S.create("canvas","mapboxgl-canvas",Ke),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ft=this._containerDimensions();this._resizeCanvas(ft[0],ft[1]);var _t=this._controlContainer=S.create("div","mapboxgl-control-container",xe),Vt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Vt[qt]=S.create("div","mapboxgl-ctrl-"+qt,_t)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},$.prototype._resizeCanvas=function(xe,ze){var Ke=o.browser.devicePixelRatio||1;this._canvas.width=Ke*xe,this._canvas.height=Ke*ze,this._canvas.style.width=xe+"px",this._canvas.style.height=ze+"px"},$.prototype._setupPainter=function(){var xe=o.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",xe)||this._canvas.getContext("experimental-webgl",xe);if(!ze){this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Hr(ze,this.transform),o.webpSupported.testSupport(ze)},$.prototype._contextLost=function(xe){xe.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:xe}))},$.prototype._contextRestored=function(xe){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:xe}))},$.prototype._onMapScroll=function(xe){if(xe.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},$.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},$.prototype._update=function(xe){return this.style?(this._styleDirty=this._styleDirty||xe,this._sourcesDirty=!0,this.triggerRepaint(),this):this},$.prototype._requestRenderFrame=function(xe){return this._update(),this._renderTaskQueue.add(xe)},$.prototype._cancelRenderFrame=function(xe){this._renderTaskQueue.remove(xe)},$.prototype._render=function(xe){var ze=this,Ke,ft=0,_t=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ke=_t.createQueryEXT(),_t.beginQueryEXT(_t.TIME_ELAPSED_EXT,Ke),ft=o.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(xe),!this._removed){var Vt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,fr=o.browser.now();this.style.zoomHistory.update(qt,fr);var sr=new o.EvaluationParameters(qt,{now:fr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),kr=sr.crossFadingFactor();(kr!==1||kr!==this._crossFadingFactor)&&(Vt=!0,this._crossFadingFactor=kr),this.style.update(sr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&(this.style.hasTransitions()||Vt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Kr=o.browser.now()-ft;_t.endQueryEXT(_t.TIME_ELAPSED_EXT,Ke),setTimeout(function(){var en=_t.getQueryObjectEXT(Ke,_t.QUERY_RESULT_EXT)/1e6;_t.deleteQueryEXT(Ke),ze.fire(new o.Event("gpu-timing-frame",{cpuTime:Kr,gpuTime:en}))},50)}if(this.listens("gpu-timing-layer")){var jr=this.painter.collectGpuTimers();setTimeout(function(){var en=ze.painter.queryGpuTimers(jr);ze.fire(new o.Event("gpu-timing-layer",{layerTimes:en}))},50)}var Xr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Xr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.Event("idle")),this._loaded&&!this._fullyLoaded&&!Xr&&(this._fullyLoaded=!0),this}},$.prototype.remove=function(){this._hash&&this._hash.remove();for(var xe=0,ze=this._controls;xe<ze.length;xe+=1){var Ke=ze[xe];Ke.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof o.window<"u"&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1));var ft=this.painter.context.gl.getExtension("WEBGL_lose_context");ft&&ft.loseContext&&ft.loseContext(),Ev(this._canvasContainer),Ev(this._controlContainer),Ev(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new o.Event("remove"))},$.prototype.triggerRepaint=function(){var xe=this;this.style&&!this._frame&&(this._frame=o.browser.frame(function(ze){xe._frame=null,xe._render(ze)}))},$.prototype._onWindowOnline=function(){this._update()},$.prototype._onWindowResize=function(xe){this._trackResize&&this.resize({originalEvent:xe})._update()},me.showTileBoundaries.get=function(){return!!this._showTileBoundaries},me.showTileBoundaries.set=function(re){this._showTileBoundaries!==re&&(this._showTileBoundaries=re,this._update())},me.showPadding.get=function(){return!!this._showPadding},me.showPadding.set=function(re){this._showPadding!==re&&(this._showPadding=re,this._update())},me.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},me.showCollisionBoxes.set=function(re){this._showCollisionBoxes!==re&&(this._showCollisionBoxes=re,re?this.style._generateCollisionBoxes():this._update())},me.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},me.showOverdrawInspector.set=function(re){this._showOverdrawInspector!==re&&(this._showOverdrawInspector=re,this._update())},me.repaint.get=function(){return!!this._repaint},me.repaint.set=function(re){this._repaint!==re&&(this._repaint=re,this.triggerRepaint())},me.vertices.get=function(){return!!this._vertices},me.vertices.set=function(re){this._vertices=re,this._update()},$.prototype._setCacheLimits=function(xe,ze){o.setCacheLimits(xe,ze)},me.version.get=function(){return o.version},Object.defineProperties($.prototype,me),$}(Pu);function Ev(pe){pe.parentNode&&pe.parentNode.removeChild(pe)}var ed={showCompass:!0,showZoom:!0,visualizePitch:!1},ff=function($){var me=this;this.options=o.extend({},ed,$),this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(re){return me._map.zoomIn({},{originalEvent:re})}),S.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(re){return me._map.zoomOut({},{originalEvent:re})}),S.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(re){me.options.visualizePitch?me._map.resetNorthPitch({},{originalEvent:re}):me._map.resetNorth({},{originalEvent:re})}),this._compassIcon=S.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ff.prototype._updateZoomButtons=function(){var $=this._map.getZoom(),me=$===this._map.getMaxZoom(),re=$===this._map.getMinZoom();this._zoomInButton.disabled=me,this._zoomOutButton.disabled=re,this._zoomInButton.setAttribute("aria-disabled",me.toString()),this._zoomOutButton.setAttribute("aria-disabled",re.toString())},ff.prototype._rotateCompassArrow=function(){var $=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=$},ff.prototype.onAdd=function($){return this._map=$,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ks(this._map,this._compass,this.options.visualizePitch)),this._container},ff.prototype.onRemove=function(){S.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ff.prototype._createButton=function($,me){var re=S.create("button",$,this._container);return re.type="button",re.addEventListener("click",me),re},ff.prototype._setButtonTitle=function($,me){var re=this._map._getUIString("NavigationControl."+me);$.title=re,$.setAttribute("aria-label",re)};var Ks=function($,me,re){re===void 0&&(re=!1),this._clickTolerance=10,this.element=me,this.mouseRotate=new da({clickTolerance:$.dragRotate._mouseRotate._clickTolerance}),this.map=$,re&&(this.mousePitch=new na({clickTolerance:$.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),S.addEventListener(me,"mousedown",this.mousedown),S.addEventListener(me,"touchstart",this.touchstart,{passive:!1}),S.addEventListener(me,"touchmove",this.touchmove),S.addEventListener(me,"touchend",this.touchend),S.addEventListener(me,"touchcancel",this.reset)};Ks.prototype.down=function($,me){this.mouseRotate.mousedown($,me),this.mousePitch&&this.mousePitch.mousedown($,me),S.disableDrag()},Ks.prototype.move=function($,me){var re=this.map,xe=this.mouseRotate.mousemoveWindow($,me);if(xe&&xe.bearingDelta&&re.setBearing(re.getBearing()+xe.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow($,me);ze&&ze.pitchDelta&&re.setPitch(re.getPitch()+ze.pitchDelta)}},Ks.prototype.off=function(){var $=this.element;S.removeEventListener($,"mousedown",this.mousedown),S.removeEventListener($,"touchstart",this.touchstart,{passive:!1}),S.removeEventListener($,"touchmove",this.touchmove),S.removeEventListener($,"touchend",this.touchend),S.removeEventListener($,"touchcancel",this.reset),this.offTemp()},Ks.prototype.offTemp=function(){S.enableDrag(),S.removeEventListener(o.window,"mousemove",this.mousemove),S.removeEventListener(o.window,"mouseup",this.mouseup)},Ks.prototype.mousedown=function($){this.down(o.extend({},$,{ctrlKey:!0,preventDefault:function(){return $.preventDefault()}}),S.mousePos(this.element,$)),S.addEventListener(o.window,"mousemove",this.mousemove),S.addEventListener(o.window,"mouseup",this.mouseup)},Ks.prototype.mousemove=function($){this.move($,S.mousePos(this.element,$))},Ks.prototype.mouseup=function($){this.mouseRotate.mouseupWindow($),this.mousePitch&&this.mousePitch.mouseupWindow($),this.offTemp()},Ks.prototype.touchstart=function($){$.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=S.touchPos(this.element,$.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return $.preventDefault()}},this._startPos))},Ks.prototype.touchmove=function($){$.targetTouches.length!==1?this.reset():(this._lastPos=S.touchPos(this.element,$.targetTouches)[0],this.move({preventDefault:function(){return $.preventDefault()}},this._lastPos))},Ks.prototype.touchend=function($){$.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ks.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function cf(pe,$,me){if(pe=new o.LngLat(pe.lng,pe.lat),$){var re=new o.LngLat(pe.lng-360,pe.lat),xe=new o.LngLat(pe.lng+360,pe.lat),ze=me.locationPoint(pe).distSqr($);me.locationPoint(re).distSqr($)<ze?pe=re:me.locationPoint(xe).distSqr($)<ze&&(pe=xe)}for(;Math.abs(pe.lng-me.center.lng)>180;){var Ke=me.locationPoint(pe);if(Ke.x>=0&&Ke.y>=0&&Ke.x<=me.width&&Ke.y<=me.height)break;pe.lng>me.center.lng?pe.lng-=360:pe.lng+=360}return pe}var _v={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function td(pe,$,me){var re=pe.classList;for(var xe in _v)re.remove("mapboxgl-"+me+"-anchor-"+xe);re.add("mapboxgl-"+me+"-anchor-"+$)}var _h=function(pe){function $(me,re){if(pe.call(this),(me instanceof o.window.HTMLElement||re)&&(me=o.extend({element:me},re)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=me&&me.anchor||"center",this._color=me&&me.color||"#3FB1CE",this._scale=me&&me.scale||1,this._draggable=me&&me.draggable||!1,this._clickTolerance=me&&me.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=me&&me.rotation||0,this._rotationAlignment=me&&me.rotationAlignment||"auto",this._pitchAlignment=me&&me.pitchAlignment&&me.pitchAlignment!=="auto"?me.pitchAlignment:this._rotationAlignment,!me||!me.element){this._defaultMarker=!0,this._element=S.create("div"),this._element.setAttribute("aria-label","Map marker");var xe=S.createNS("http://www.w3.org/2000/svg","svg"),ze=41,Ke=27;xe.setAttributeNS(null,"display","block"),xe.setAttributeNS(null,"height",ze+"px"),xe.setAttributeNS(null,"width",Ke+"px"),xe.setAttributeNS(null,"viewBox","0 0 "+Ke+" "+ze);var ft=S.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"stroke","none"),ft.setAttributeNS(null,"stroke-width","1"),ft.setAttributeNS(null,"fill","none"),ft.setAttributeNS(null,"fill-rule","evenodd");var _t=S.createNS("http://www.w3.org/2000/svg","g");_t.setAttributeNS(null,"fill-rule","nonzero");var Vt=S.createNS("http://www.w3.org/2000/svg","g");Vt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Vt.setAttributeNS(null,"fill","#000000");for(var qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],fr=0,sr=qt;fr<sr.length;fr+=1){var kr=sr[fr],Kr=S.createNS("http://www.w3.org/2000/svg","ellipse");Kr.setAttributeNS(null,"opacity","0.04"),Kr.setAttributeNS(null,"cx","10.5"),Kr.setAttributeNS(null,"cy","5.80029008"),Kr.setAttributeNS(null,"rx",kr.rx),Kr.setAttributeNS(null,"ry",kr.ry),Vt.appendChild(Kr)}var jr=S.createNS("http://www.w3.org/2000/svg","g");jr.setAttributeNS(null,"fill",this._color);var Xr=S.createNS("http://www.w3.org/2000/svg","path");Xr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),jr.appendChild(Xr);var en=S.createNS("http://www.w3.org/2000/svg","g");en.setAttributeNS(null,"opacity","0.25"),en.setAttributeNS(null,"fill","#000000");var yn=S.createNS("http://www.w3.org/2000/svg","path");yn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),en.appendChild(yn);var Fn=S.createNS("http://www.w3.org/2000/svg","g");Fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Fn.setAttributeNS(null,"fill","#FFFFFF");var Yn=S.createNS("http://www.w3.org/2000/svg","g");Yn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Jn=S.createNS("http://www.w3.org/2000/svg","circle");Jn.setAttributeNS(null,"fill","#000000"),Jn.setAttributeNS(null,"opacity","0.25"),Jn.setAttributeNS(null,"cx","5.5"),Jn.setAttributeNS(null,"cy","5.5"),Jn.setAttributeNS(null,"r","5.4999962");var Qn=S.createNS("http://www.w3.org/2000/svg","circle");Qn.setAttributeNS(null,"fill","#FFFFFF"),Qn.setAttributeNS(null,"cx","5.5"),Qn.setAttributeNS(null,"cy","5.5"),Qn.setAttributeNS(null,"r","5.4999962"),Yn.appendChild(Jn),Yn.appendChild(Qn),_t.appendChild(Vt),_t.appendChild(jr),_t.appendChild(en),_t.appendChild(Fn),_t.appendChild(Yn),xe.appendChild(_t),xe.setAttributeNS(null,"height",ze*this._scale+"px"),xe.setAttributeNS(null,"width",Ke*this._scale+"px"),this._element.appendChild(xe),this._offset=o.Point.convert(me&&me.offset||[0,-14])}else this._element=me.element,this._offset=o.Point.convert(me&&me.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jn){jn.preventDefault()}),this._element.addEventListener("mousedown",function(jn){jn.preventDefault()}),td(this._element,this._anchor,"marker"),this._popup=null}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.addTo=function(re){return this.remove(),this._map=re,re.getCanvasContainer().appendChild(this._element),re.on("move",this._update),re.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},$.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),S.remove(this._element),this._popup&&this._popup.remove(),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(re){return this._lngLat=o.LngLat.convert(re),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},$.prototype.getElement=function(){return this._element},$.prototype.setPopup=function(re){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),re){if(!("offset"in re.options)){var xe=38.1,ze=13.5,Ke=Math.sqrt(Math.pow(ze,2)/2);re.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-xe],"bottom-left":[Ke,(xe-ze+Ke)*-1],"bottom-right":[-Ke,(xe-ze+Ke)*-1],left:[ze,(xe-ze)*-1],right:[-ze,(xe-ze)*-1]}:this._offset}this._popup=re,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},$.prototype._onKeyPress=function(re){var xe=re.code,ze=re.charCode||re.keyCode;(xe==="Space"||xe==="Enter"||ze===32||ze===13)&&this.togglePopup()},$.prototype._onMapClick=function(re){var xe=re.originalEvent.target,ze=this._element;this._popup&&(xe===ze||ze.contains(xe))&&this.togglePopup()},$.prototype.getPopup=function(){return this._popup},$.prototype.togglePopup=function(){var re=this._popup;if(re)re.isOpen()?re.remove():re.addTo(this._map);else return this;return this},$.prototype._update=function(re){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=cf(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var xe="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?xe="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(xe="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!re||re.type==="moveend")&&(this._pos=this._pos.round()),S.setTransform(this._element,_v[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+xe)}},$.prototype.getOffset=function(){return this._offset},$.prototype.setOffset=function(re){return this._offset=o.Point.convert(re),this._update(),this},$.prototype._onMove=function(re){if(!this._isDragging){var xe=this._clickTolerance||this._map._clickTolerance;this._isDragging=re.point.dist(this._pointerdownPos)>=xe}this._isDragging&&(this._pos=re.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag")))},$.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"},$.prototype._addDragHandler=function(re){this._element.contains(re.originalEvent.target)&&(re.preventDefault(),this._positionDelta=re.point.sub(this._pos).add(this._offset),this._pointerdownPos=re.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},$.prototype.setDraggable=function(re){return this._draggable=!!re,this._map&&(re?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},$.prototype.isDraggable=function(){return this._draggable},$.prototype.setRotation=function(re){return this._rotation=re||0,this._update(),this},$.prototype.getRotation=function(){return this._rotation},$.prototype.setRotationAlignment=function(re){return this._rotationAlignment=re||"auto",this._update(),this},$.prototype.getRotationAlignment=function(){return this._rotationAlignment},$.prototype.setPitchAlignment=function(re){return this._pitchAlignment=re&&re!=="auto"?re:this._rotationAlignment,this._update(),this},$.prototype.getPitchAlignment=function(){return this._pitchAlignment},$}(o.Evented),mp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Jf;function Cv(pe){Jf!==void 0?pe(Jf):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(function($){Jf=$.state!=="denied",pe(Jf)}):(Jf=!!o.window.navigator.geolocation,pe(Jf))}var Ch=0,Ic=!1,H0=function(pe){function $(me){pe.call(this),this.options=o.extend({},mp,me),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.onAdd=function(re){return this._map=re,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Cv(this._setupUI),this._container},$.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),S.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ch=0,Ic=!1},$.prototype._isOutOfMapMaxBounds=function(re){var xe=this._map.getMaxBounds(),ze=re.coords;return xe&&(ze.longitude<xe.getWest()||ze.longitude>xe.getEast()||ze.latitude<xe.getSouth()||ze.latitude>xe.getNorth())},$.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},$.prototype._onSuccess=function(re){if(this._map){if(this._isOutOfMapMaxBounds(re)){this._setErrorState(),this.fire(new o.Event("outofmaxbounds",re)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=re,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(re),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(re),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",re)),this._finish()}},$.prototype._updateCamera=function(re){var xe=new o.LngLat(re.coords.longitude,re.coords.latitude),ze=re.coords.accuracy,Ke=this._map.getBearing(),ft=o.extend({bearing:Ke},this.options.fitBoundsOptions);this._map.fitBounds(xe.toBounds(ze),ft,{geolocateSource:!0})},$.prototype._updateMarker=function(re){if(re){var xe=new o.LngLat(re.coords.longitude,re.coords.latitude);this._accuracyCircleMarker.setLngLat(xe).addTo(this._map),this._userLocationDotMarker.setLngLat(xe).addTo(this._map),this._accuracy=re.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},$.prototype._updateCircleRadius=function(){var re=this._map._container.clientHeight/2,xe=this._map.unproject([0,re]),ze=this._map.unproject([1,re]),Ke=xe.distanceTo(ze),ft=Math.ceil(2*this._accuracy/Ke);this._circleElement.style.width=ft+"px",this._circleElement.style.height=ft+"px"},$.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},$.prototype._onError=function(re){if(this._map){if(this.options.trackUserLocation)if(re.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var xe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=xe,this._geolocateButton.setAttribute("aria-label",xe),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(re.code===3&&Ic)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",re)),this._finish()}},$.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},$.prototype._setupUI=function(re){var xe=this;if(this._container.addEventListener("contextmenu",function(ft){return ft.preventDefault()}),this._geolocateButton=S.create("button","mapboxgl-ctrl-geolocate",this._container),S.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",re===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Ke=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ke,this._geolocateButton.setAttribute("aria-label",Ke)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=S.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new _h(this._dotElement),this._circleElement=S.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new _h({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ft){var _t=ft.originalEvent&&ft.originalEvent.type==="resize";!ft.geolocateSource&&xe._watchState==="ACTIVE_LOCK"&&!_t&&(xe._watchState="BACKGROUND",xe._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),xe._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),xe.fire(new o.Event("trackuserlocationend")))})},$.prototype.trigger=function(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ch--,Ic=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ch++;var re;Ch>1?(re={maximumAge:6e5,timeout:0},Ic=!0):(re=this.options.positionOptions,Ic=!1),this._geolocationWatchID=o.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,re)}}else o.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},$.prototype._clearWatch=function(){o.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},$}(o.Evented),xp={maxWidth:100,unit:"metric"},Oc=function($){this.options=o.extend({},xp,$),o.bindAll(["_onMove","setUnit"],this)};Oc.prototype.getDefaultPosition=function(){return"bottom-left"},Oc.prototype._onMove=function(){bp(this._map,this._container,this.options)},Oc.prototype.onAdd=function($){return this._map=$,this._container=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",$.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Oc.prototype.onRemove=function(){S.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Oc.prototype.setUnit=function($){this.options.unit=$,bp(this._map,this._container,this.options)};function bp(pe,$,me){var re=me&&me.maxWidth||100,xe=pe._container.clientHeight/2,ze=pe.unproject([0,xe]),Ke=pe.unproject([re,xe]),ft=ze.distanceTo(Ke);if(me&&me.unit==="imperial"){var _t=3.2808*ft;if(_t>5280){var Vt=_t/5280;Lh($,re,Vt,pe._getUIString("ScaleControl.Miles"))}else Lh($,re,_t,pe._getUIString("ScaleControl.Feet"))}else if(me&&me.unit==="nautical"){var qt=ft/1852;Lh($,re,qt,pe._getUIString("ScaleControl.NauticalMiles"))}else ft>=1e3?Lh($,re,ft/1e3,pe._getUIString("ScaleControl.Kilometers")):Lh($,re,ft,pe._getUIString("ScaleControl.Meters"))}function Lh(pe,$,me,re){var xe=W0(me),ze=xe/me;pe.style.width=$*ze+"px",pe.innerHTML=xe+"&nbsp;"+re}function Y0(pe){var $=Math.pow(10,Math.ceil(-Math.log(pe)/Math.LN10));return Math.round(pe*$)/$}function W0(pe){var $=Math.pow(10,(""+Math.floor(pe)).length-1),me=pe/$;return me=me>=10?10:me>=5?5:me>=3?3:me>=2?2:me>=1?1:Y0(me),$*me}var $l=function($){this._fullscreen=!1,$&&$.container&&($.container instanceof o.window.HTMLElement?this._container=$.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.window.document&&(this._fullscreenchange="MSFullscreenChange")};$l.prototype.onAdd=function($){return this._map=$,this._container||(this._container=this._map.getContainer()),this._controlContainer=S.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},$l.prototype.onRemove=function(){S.remove(this._controlContainer),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},$l.prototype._checkFullscreenSupport=function(){return!!(o.window.document.fullscreenEnabled||o.window.document.mozFullScreenEnabled||o.window.document.msFullscreenEnabled||o.window.document.webkitFullscreenEnabled)},$l.prototype._setupUI=function(){var $=this._fullscreenButton=S.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);S.create("span","mapboxgl-ctrl-icon",$).setAttribute("aria-hidden",!0),$.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},$l.prototype._updateTitle=function(){var $=this._getTitle();this._fullscreenButton.setAttribute("aria-label",$),this._fullscreenButton.title=$},$l.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},$l.prototype._isFullscreen=function(){return this._fullscreen},$l.prototype._changeIcon=function(){var $=o.window.document.fullscreenElement||o.window.document.mozFullScreenElement||o.window.document.webkitFullscreenElement||o.window.document.msFullscreenElement;$===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},$l.prototype._onClickFullscreen=function(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.mozCancelFullScreen?o.window.document.mozCancelFullScreen():o.window.document.msExitFullscreen?o.window.document.msExitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var G0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},X0=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Gy=function(pe){function $(me){pe.call(this),this.options=o.extend(Object.create(G0),me),o.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return pe&&($.__proto__=pe),$.prototype=Object.create(pe&&pe.prototype),$.prototype.constructor=$,$.prototype.addTo=function(re){return this._map&&this.remove(),this._map=re,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new o.Event("open")),this},$.prototype.isOpen=function(){return!!this._map},$.prototype.remove=function(){return this._content&&S.remove(this._content),this._container&&(S.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.Event("close")),this},$.prototype.getLngLat=function(){return this._lngLat},$.prototype.setLngLat=function(re){return this._lngLat=o.LngLat.convert(re),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},$.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},$.prototype.getElement=function(){return this._container},$.prototype.setText=function(re){return this.setDOMContent(o.window.document.createTextNode(re))},$.prototype.setHTML=function(re){var xe=o.window.document.createDocumentFragment(),ze=o.window.document.createElement("body"),Ke;for(ze.innerHTML=re;Ke=ze.firstChild,!!Ke;)xe.appendChild(Ke);return this.setDOMContent(xe)},$.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},$.prototype.setMaxWidth=function(re){return this.options.maxWidth=re,this._update(),this},$.prototype.setDOMContent=function(re){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=S.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(re),this._createCloseButton(),this._update(),this._focusFirstElement(),this},$.prototype.addClassName=function(re){this._container&&this._container.classList.add(re)},$.prototype.removeClassName=function(re){this._container&&this._container.classList.remove(re)},$.prototype.setOffset=function(re){return this.options.offset=re,this._update(),this},$.prototype.toggleClassName=function(re){if(this._container)return this._container.classList.toggle(re)},$.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=S.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},$.prototype._onMouseUp=function(re){this._update(re.point)},$.prototype._onMouseMove=function(re){this._update(re.point)},$.prototype._onDrag=function(re){this._update(re.point)},$.prototype._update=function(re){var xe=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=S.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=S.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(kr){return xe._container.classList.add(kr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=cf(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!re))){var Ke=this._pos=this._trackPointer&&re?re:this._map.project(this._lngLat),ft=this.options.anchor,_t=Z0(this.options.offset);if(!ft){var Vt=this._container.offsetWidth,qt=this._container.offsetHeight,fr;Ke.y+_t.bottom.y<qt?fr=["top"]:Ke.y>this._map.transform.height-qt?fr=["bottom"]:fr=[],Ke.x<Vt/2?fr.push("left"):Ke.x>this._map.transform.width-Vt/2&&fr.push("right"),fr.length===0?ft="bottom":ft=fr.join("-")}var sr=Ke.add(_t[ft]).round();S.setTransform(this._container,_v[ft]+" translate("+sr.x+"px,"+sr.y+"px)"),td(this._container,ft,"popup")}},$.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var re=this._container.querySelector(X0);re&&re.focus()}},$.prototype._onClose=function(){this.remove()},$}(o.Evented);function Z0(pe){if(pe)if(typeof pe=="number"){var $=Math.round(Math.sqrt(.5*Math.pow(pe,2)));return{center:new o.Point(0,0),top:new o.Point(0,pe),"top-left":new o.Point($,$),"top-right":new o.Point(-$,$),bottom:new o.Point(0,-pe),"bottom-left":new o.Point($,-$),"bottom-right":new o.Point(-$,-$),left:new o.Point(pe,0),right:new o.Point(-pe,0)}}else if(pe instanceof o.Point||Array.isArray(pe)){var me=o.Point.convert(pe);return{center:me,top:me,"top-left":me,"top-right":me,bottom:me,"bottom-left":me,"bottom-right":me,left:me,right:me}}else return{center:o.Point.convert(pe.center||[0,0]),top:o.Point.convert(pe.top||[0,0]),"top-left":o.Point.convert(pe["top-left"]||[0,0]),"top-right":o.Point.convert(pe["top-right"]||[0,0]),bottom:o.Point.convert(pe.bottom||[0,0]),"bottom-left":o.Point.convert(pe["bottom-left"]||[0,0]),"bottom-right":o.Point.convert(pe["bottom-right"]||[0,0]),left:o.Point.convert(pe.left||[0,0]),right:o.Point.convert(pe.right||[0,0])};else return Z0(new o.Point(0,0))}var No={version:o.version,supported:C,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:yp,NavigationControl:ff,GeolocateControl:H0,AttributionControl:ui,ScaleControl:Oc,FullscreenControl:$l,Popup:Gy,Marker:_h,Style:hs,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,Evented:o.Evented,config:o.config,prewarm:Pt,clearPrewarmedResources:Qt,get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(pe){o.config.ACCESS_TOKEN=pe},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(pe){o.config.API_URL=pe},get workerCount(){return gr.workerCount},set workerCount(pe){gr.workerCount=pe},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(pe){o.config.MAX_PARALLEL_IMAGE_REQUESTS=pe},clearStorage:function($){o.clearTileCache($)},workerUrl:""};return No}),p})},3108:function(V,Y,e){V.exports=e(26099)},26099:function(V,Y,e){var p=e(64928),L=e(32420),o=e(51160),C=e(76752),S=e(55616),v=e(31264),g=e(47520),r=e(18400),t=e(72512),a=e(76244),n=1073741824;V.exports=function(l,y){y||(y={}),l=g(l,"float64"),y=S(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(y.maxDepth,255),T=v(y.bounds,C(l,2));T[0]===T[2]&&T[2]++,T[1]===T[3]&&T[3]++;var c=f(l,T),i=l.length>>>1,d;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?d=new(t(y.dtype))(i):y.dtype&&(d=y.dtype,Array.isArray(d)&&(d.length=i));for(var x=0;x<i;++x)d[x]=x;var w=[],_=[],m=[],E=[];H(0,0,1,d,0,1);for(var A=0,s=0;s<w.length;s++){var M=w[s];if(d.set)d.set(M,A);else for(var b=0,N=M.length;b<N;b++)d[b+A]=M[b];var k=A+w[s].length;E[s]=[A,k],A=k}return d.range=F,d;function H(z,W,j,ee,ie,oe){if(!ee.length)return null;var he=w[ie]||(w[ie]=[]),ne=m[ie]||(m[ie]=[]),q=_[ie]||(_[ie]=[]),le=he.length;if(ie++,ie>h||oe>n){for(var Q=0;Q<ee.length;Q++)he.push(ee[Q]),ne.push(oe),q.push(null,null,null,null);return le}if(he.push(ee[0]),ne.push(oe),ee.length<=1)return q.push(null,null,null,null),le;for(var te=j*.5,ue=z+te,J=W+te,K=[],ce=[],ae=[],de=[],be=1,Se=ee.length;be<Se;be++){var Te=ee[be],Ie=c[Te*2],ke=c[Te*2+1];Ie<ue?ke<J?K.push(Te):ce.push(Te):ke<J?ae.push(Te):de.push(Te)}return oe<<=2,q.push(H(z,W,te,K,ie,oe),H(z,J,te,ce,ie,oe+1),H(ue,W,te,ae,ie,oe+2),H(ue,J,te,de,ie,oe+3)),le}function F(){for(var z=[],W=arguments.length;W--;)z[W]=arguments[W];var j;if(r(z[z.length-1])){var ee=z.pop();!z.length&&(ee.x!=null||ee.l!=null||ee.left!=null)&&(z=[ee],j={}),j=S(ee,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};z.length||(z=T);var ie=o.apply(void 0,z),oe=[Math.min(ie.x,ie.x+ie.width),Math.min(ie.y,ie.y+ie.height),Math.max(ie.x,ie.x+ie.width),Math.max(ie.y,ie.y+ie.height)],he=oe[0],ne=oe[1],q=oe[2],le=oe[3],Q=f([he,ne,q,le],T),te=Q[0],ue=Q[1],J=Q[2],K=Q[3],ce=v(j.level,w.length);if(j.d!=null){var ae;typeof j.d=="number"?ae=[j.d,j.d]:j.d.length&&(ae=j.d),ce=Math.min(Math.max(Math.ceil(-a(Math.abs(ae[0])/(T[2]-T[0]))),Math.ceil(-a(Math.abs(ae[1])/(T[3]-T[1])))),ce)}if(ce=Math.min(ce,w.length),j.lod)return B(te,ue,J,K,ce);var de=[];be(0,0,1,0,0,1);function be(Te,Ie,ke,Be,Me,Oe){if(!(Me===null||Oe===null)){var _e=Te+ke,Ne=Ie+ke;if(!(te>_e||ue>Ne||J<Te||K<Ie)&&!(Be>=ce)&&Me!==Oe){var Ce=w[Be];Oe===void 0&&(Oe=Ce.length);for(var Ye=Me;Ye<Oe;Ye++){var rt=Ce[Ye],ot=l[rt*2],$e=l[rt*2+1];ot>=he&&ot<=q&&$e>=ne&&$e<=le&&de.push(rt)}var qe=_[Be],ht=qe[Me*4+0],vt=qe[Me*4+1],pt=qe[Me*4+2],wt=qe[Me*4+3],Mt=Se(qe,Me+1),nt=ke*.5,Fe=Be+1;be(Te,Ie,nt,Fe,ht,vt||pt||wt||Mt),be(Te,Ie+nt,nt,Fe,vt,pt||wt||Mt),be(Te+nt,Ie,nt,Fe,pt,wt||Mt),be(Te+nt,Ie+nt,nt,Fe,wt,Mt)}}}function Se(Te,Ie){for(var ke=null,Be=0;ke===null;)if(ke=Te[Ie*4+Be],Be++,Be>Te.length)return null;return ke}return de}function B(z,W,j,ee,ie){for(var oe=[],he=0;he<ie;he++){var ne=m[he],q=E[he][0],le=U(z,W,he),Q=U(j,ee,he),te=p.ge(ne,le),ue=p.gt(ne,Q,te,ne.length-1);oe[he]=[te+q,ue+q]}return oe}function U(z,W,j){for(var ee=1,ie=.5,oe=.5,he=.5,ne=0;ne<j;ne++)ee<<=2,ee+=z<ie?W<oe?0:1:W<oe?2:3,he*=.5,ie+=z<ie?-he:he,oe+=W<oe?-he:he;return ee}};function f(u,l){for(var y=l[0],h=l[1],T=l[2],c=l[3],i=1/(T-y),d=1/(c-h),x=new Array(u.length),w=0,_=u.length/2;w<_;w++)x[2*w]=L((u[2*w]-y)*i,0,1),x[2*w+1]=L((u[2*w+1]-h)*d,0,1);return x}},40440:function(V,Y,e){Object.defineProperty(Y,"__esModule",{value:!0});var p=e(3256),L=6378137;function o(r){return p.geomReduce(r,function(t,a){return t+C(a)},0)}Y.default=o;function C(r){var t=0,a;switch(r.type){case"Polygon":return S(r.coordinates);case"MultiPolygon":for(a=0;a<r.coordinates.length;a++)t+=S(r.coordinates[a]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function S(r){var t=0;if(r&&r.length>0){t+=Math.abs(v(r[0]));for(var a=1;a<r.length;a++)t-=Math.abs(v(r[a]))}return t}function v(r){var t,a,n,f,u,l,y,h=0,T=r.length;if(T>2){for(y=0;y<T;y++)y===T-2?(f=T-2,u=T-1,l=0):y===T-1?(f=T-1,u=0,l=1):(f=y,u=y+1,l=y+2),t=r[f],a=r[u],n=r[l],h+=(g(n[0])-g(t[0]))*Math.sin(g(a[1]));h=h*L*L/2}return h}function g(r){return r*Math.PI/180}},46284:function(V,Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.earthRadius=63710088e-1,Y.factors={centimeters:Y.earthRadius*100,centimetres:Y.earthRadius*100,degrees:Y.earthRadius/111325,feet:Y.earthRadius*3.28084,inches:Y.earthRadius*39.37,kilometers:Y.earthRadius/1e3,kilometres:Y.earthRadius/1e3,meters:Y.earthRadius,metres:Y.earthRadius,miles:Y.earthRadius/1609.344,millimeters:Y.earthRadius*1e3,millimetres:Y.earthRadius*1e3,nauticalmiles:Y.earthRadius/1852,radians:1,yards:Y.earthRadius*1.0936},Y.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/Y.earthRadius,yards:1.0936133},Y.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,s,M){M===void 0&&(M={});var b={type:"Feature"};return(M.id===0||M.id)&&(b.id=M.id),M.bbox&&(b.bbox=M.bbox),b.properties=s||{},b.geometry=A,b}Y.feature=e;function p(A,s,M){switch(A){case"Point":return L(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return a(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(A+" is invalid")}}Y.geometry=p;function L(A,s,M){if(M===void 0&&(M={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,s,M)}Y.point=L;function o(A,s,M){return M===void 0&&(M={}),r(A.map(function(b){return L(b,s)}),M)}Y.points=o;function C(A,s,M){M===void 0&&(M={});for(var b=0,N=A;b<N.length;b++){var k=N[b];if(k.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<k[k.length-1].length;H++)if(k[k.length-1][H]!==k[0][H])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:A};return e(F,s,M)}Y.polygon=C;function S(A,s,M){return M===void 0&&(M={}),r(A.map(function(b){return C(b,s)}),M)}Y.polygons=S;function v(A,s,M){if(M===void 0&&(M={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,s,M)}Y.lineString=v;function g(A,s,M){return M===void 0&&(M={}),r(A.map(function(b){return v(b,s)}),M)}Y.lineStrings=g;function r(A,s){s===void 0&&(s={});var M={type:"FeatureCollection"};return s.id&&(M.id=s.id),s.bbox&&(M.bbox=s.bbox),M.features=A,M}Y.featureCollection=r;function t(A,s,M){M===void 0&&(M={});var b={type:"MultiLineString",coordinates:A};return e(b,s,M)}Y.multiLineString=t;function a(A,s,M){M===void 0&&(M={});var b={type:"MultiPoint",coordinates:A};return e(b,s,M)}Y.multiPoint=a;function n(A,s,M){M===void 0&&(M={});var b={type:"MultiPolygon",coordinates:A};return e(b,s,M)}Y.multiPolygon=n;function f(A,s,M){M===void 0&&(M={});var b={type:"GeometryCollection",geometries:A};return e(b,s,M)}Y.geometryCollection=f;function u(A,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var M=Math.pow(10,s||0);return Math.round(A*M)/M}Y.round=u;function l(A,s){s===void 0&&(s="kilometers");var M=Y.factors[s];if(!M)throw new Error(s+" units is invalid");return A*M}Y.radiansToLength=l;function y(A,s){s===void 0&&(s="kilometers");var M=Y.factors[s];if(!M)throw new Error(s+" units is invalid");return A/M}Y.lengthToRadians=y;function h(A,s){return c(y(A,s))}Y.lengthToDegrees=h;function T(A){var s=A%360;return s<0&&(s+=360),s}Y.bearingToAzimuth=T;function c(A){var s=A%(2*Math.PI);return s*180/Math.PI}Y.radiansToDegrees=c;function i(A){var s=A%360;return s*Math.PI/180}Y.degreesToRadians=i;function d(A,s,M){if(s===void 0&&(s="kilometers"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("length must be a positive number");return l(y(A,s),M)}Y.convertLength=d;function x(A,s,M){if(s===void 0&&(s="meters"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=Y.areaFactors[s];if(!b)throw new Error("invalid original units");var N=Y.areaFactors[M];if(!N)throw new Error("invalid final units");return A/b*N}Y.convertArea=x;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}Y.isNumber=w;function _(A){return!!A&&A.constructor===Object}Y.isObject=_;function m(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(s){if(!w(s))throw new Error("bbox must only contain numbers")})}Y.validateBBox=m;function E(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}Y.validateId=E},3256:function(V,Y,e){Object.defineProperty(Y,"__esModule",{value:!0});var p=e(46284);function L(i,d,x){if(i!==null)for(var w,_,m,E,A,s,M,b=0,N=0,k,H=i.type,F=H==="FeatureCollection",B=H==="Feature",U=F?i.features.length:1,z=0;z<U;z++){M=F?i.features[z].geometry:B?i.geometry:i,k=M?M.type==="GeometryCollection":!1,A=k?M.geometries.length:1;for(var W=0;W<A;W++){var j=0,ee=0;if(E=k?M.geometries[W]:M,E!==null){s=E.coordinates;var ie=E.type;switch(b=x&&(ie==="Polygon"||ie==="MultiPolygon")?1:0,ie){case null:break;case"Point":if(d(s,N,z,j,ee)===!1)return!1;N++,j++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],N,z,j,ee)===!1)return!1;N++,ie==="MultiPoint"&&j++}ie==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(_=0;_<s[w].length-b;_++){if(d(s[w][_],N,z,j,ee)===!1)return!1;N++}ie==="MultiLineString"&&j++,ie==="Polygon"&&ee++}ie==="Polygon"&&j++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(ee=0,_=0;_<s[w].length;_++){for(m=0;m<s[w][_].length-b;m++){if(d(s[w][_][m],N,z,j,ee)===!1)return!1;N++}ee++}j++}break;case"GeometryCollection":for(w=0;w<E.geometries.length;w++)if(L(E.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,d,x,w){var _=x;return L(i,function(m,E,A,s,M){E===0&&x===void 0?_=m:_=d(_,m,E,A,s,M)},w),_}function C(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function S(i,d,x){var w=x;return C(i,function(_,m){m===0&&x===void 0?w=_:w=d(w,_,m)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function g(i,d,x){var w=x;return v(i,function(_,m){m===0&&x===void 0?w=_:w=d(w,_,m)}),w}function r(i){var d=[];return L(i,function(x){d.push(x)}),d}function t(i,d){var x,w,_,m,E,A,s,M,b,N,k=0,H=i.type==="FeatureCollection",F=i.type==="Feature",B=H?i.features.length:1;for(x=0;x<B;x++){for(A=H?i.features[x].geometry:F?i.geometry:i,M=H?i.features[x].properties:F?i.properties:{},b=H?i.features[x].bbox:F?i.bbox:void 0,N=H?i.features[x].id:F?i.id:void 0,s=A?A.type==="GeometryCollection":!1,E=s?A.geometries.length:1,_=0;_<E;_++){if(m=s?A.geometries[_]:A,m===null){if(d(null,k,M,b,N)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,k,M,b,N)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<m.geometries.length;w++)if(d(m.geometries[w],k,M,b,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function a(i,d,x){var w=x;return t(i,function(_,m,E,A,s){m===0&&x===void 0?w=_:w=d(w,_,m,E,A,s)}),w}function n(i,d){t(i,function(x,w,_,m,E){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(x,_,{bbox:m,id:E}),w,0)===!1?!1:void 0}var s;switch(A){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var M=0;M<x.coordinates.length;M++){var b=x.coordinates[M],N={type:s,coordinates:b};if(d(p.feature(N,_),w,M)===!1)return!1}})}function f(i,d,x){var w=x;return n(i,function(_,m,E){m===0&&E===0&&x===void 0?w=_:w=d(w,_,m,E)}),w}function u(i,d){n(i,function(x,w,_){var m=0;if(x.geometry){var E=x.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,s=0,M=0,b=0;if(L(x,function(N,k,H,F,B){if(A===void 0||w>s||F>M||B>b){A=N,s=w,M=F,b=B,m=0;return}var U=p.lineString([A,N],x.properties);if(d(U,w,_,B,m)===!1)return!1;m++,A=N})===!1)return!1}}})}function l(i,d,x){var w=x,_=!1;return u(i,function(m,E,A,s,M){_===!1&&x===void 0?w=m:w=d(w,m,E,A,s,M),_=!0}),w}function y(i,d){if(!i)throw new Error("geojson is required");n(i,function(x,w,_){if(x.geometry!==null){var m=x.geometry.type,E=x.geometry.coordinates;switch(m){case"LineString":if(d(x,w,_,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(d(p.lineString(E[A],x.properties),w,_,A)===!1)return!1;break}}})}function h(i,d,x){var w=x;return y(i,function(_,m,E,A){m===0&&x===void 0?w=_:w=d(w,_,m,E,A)}),w}function T(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,_=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),E=E||i.features[x].properties,A=i.features[x].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),p.lineString([s[m],s[m+1]],E,d);case"Polygon":return _<0&&(_=s.length+_),m<0&&(m=s[_].length+m-1),p.lineString([s[_][m],s[_][m+1]],E,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m-1),p.lineString([s[w][m],s[w][m+1]],E,d);case"MultiPolygon":return w<0&&(w=s.length+w),_<0&&(_=s[w].length+_),m<0&&(m=s[w][_].length-m-1),p.lineString([s[w][_][m],s[w][_][m+1]],E,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,_=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),E=E||i.features[x].properties,A=i.features[x].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":return p.point(s,E,d);case"MultiPoint":return w<0&&(w=s.length+w),p.point(s[w],E,d);case"LineString":return m<0&&(m=s.length+m),p.point(s[m],E,d);case"Polygon":return _<0&&(_=s.length+_),m<0&&(m=s[_].length+m),p.point(s[_][m],E,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m),p.point(s[w][m],E,d);case"MultiPolygon":return w<0&&(w=s.length+w),_<0&&(_=s[w].length+_),m<0&&(m=s[w][_].length-m),p.point(s[w][_][m],E,d)}throw new Error("geojson is invalid")}Y.coordEach=L,Y.coordReduce=o,Y.propEach=C,Y.propReduce=S,Y.featureEach=v,Y.featureReduce=g,Y.coordAll=r,Y.geomEach=t,Y.geomReduce=a,Y.flattenEach=n,Y.flattenReduce=f,Y.segmentEach=u,Y.segmentReduce=l,Y.lineEach=y,Y.lineReduce=h,Y.findSegment=T,Y.findPoint=c},42428:function(V,Y,e){Object.defineProperty(Y,"__esModule",{value:!0});var p=e(84880);function L(o){var C=[1/0,1/0,-1/0,-1/0];return p.coordEach(o,function(S){C[0]>S[0]&&(C[0]=S[0]),C[1]>S[1]&&(C[1]=S[1]),C[2]<S[0]&&(C[2]=S[0]),C[3]<S[1]&&(C[3]=S[1])}),C}L.default=L,Y.default=L},76796:function(V,Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.earthRadius=63710088e-1,Y.factors={centimeters:Y.earthRadius*100,centimetres:Y.earthRadius*100,degrees:Y.earthRadius/111325,feet:Y.earthRadius*3.28084,inches:Y.earthRadius*39.37,kilometers:Y.earthRadius/1e3,kilometres:Y.earthRadius/1e3,meters:Y.earthRadius,metres:Y.earthRadius,miles:Y.earthRadius/1609.344,millimeters:Y.earthRadius*1e3,millimetres:Y.earthRadius*1e3,nauticalmiles:Y.earthRadius/1852,radians:1,yards:Y.earthRadius*1.0936},Y.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/Y.earthRadius,yards:1.0936133},Y.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(A,s,M){M===void 0&&(M={});var b={type:"Feature"};return(M.id===0||M.id)&&(b.id=M.id),M.bbox&&(b.bbox=M.bbox),b.properties=s||{},b.geometry=A,b}Y.feature=e;function p(A,s,M){switch(A){case"Point":return L(s).geometry;case"LineString":return v(s).geometry;case"Polygon":return C(s).geometry;case"MultiPoint":return a(s).geometry;case"MultiLineString":return t(s).geometry;case"MultiPolygon":return n(s).geometry;default:throw new Error(A+" is invalid")}}Y.geometry=p;function L(A,s,M){if(M===void 0&&(M={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(A[0])||!w(A[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:A};return e(b,s,M)}Y.point=L;function o(A,s,M){return M===void 0&&(M={}),r(A.map(function(b){return L(b,s)}),M)}Y.points=o;function C(A,s,M){M===void 0&&(M={});for(var b=0,N=A;b<N.length;b++){var k=N[b];if(k.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<k[k.length-1].length;H++)if(k[k.length-1][H]!==k[0][H])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:A};return e(F,s,M)}Y.polygon=C;function S(A,s,M){return M===void 0&&(M={}),r(A.map(function(b){return C(b,s)}),M)}Y.polygons=S;function v(A,s,M){if(M===void 0&&(M={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:A};return e(b,s,M)}Y.lineString=v;function g(A,s,M){return M===void 0&&(M={}),r(A.map(function(b){return v(b,s)}),M)}Y.lineStrings=g;function r(A,s){s===void 0&&(s={});var M={type:"FeatureCollection"};return s.id&&(M.id=s.id),s.bbox&&(M.bbox=s.bbox),M.features=A,M}Y.featureCollection=r;function t(A,s,M){M===void 0&&(M={});var b={type:"MultiLineString",coordinates:A};return e(b,s,M)}Y.multiLineString=t;function a(A,s,M){M===void 0&&(M={});var b={type:"MultiPoint",coordinates:A};return e(b,s,M)}Y.multiPoint=a;function n(A,s,M){M===void 0&&(M={});var b={type:"MultiPolygon",coordinates:A};return e(b,s,M)}Y.multiPolygon=n;function f(A,s,M){M===void 0&&(M={});var b={type:"GeometryCollection",geometries:A};return e(b,s,M)}Y.geometryCollection=f;function u(A,s){if(s===void 0&&(s=0),s&&!(s>=0))throw new Error("precision must be a positive number");var M=Math.pow(10,s||0);return Math.round(A*M)/M}Y.round=u;function l(A,s){s===void 0&&(s="kilometers");var M=Y.factors[s];if(!M)throw new Error(s+" units is invalid");return A*M}Y.radiansToLength=l;function y(A,s){s===void 0&&(s="kilometers");var M=Y.factors[s];if(!M)throw new Error(s+" units is invalid");return A/M}Y.lengthToRadians=y;function h(A,s){return c(y(A,s))}Y.lengthToDegrees=h;function T(A){var s=A%360;return s<0&&(s+=360),s}Y.bearingToAzimuth=T;function c(A){var s=A%(2*Math.PI);return s*180/Math.PI}Y.radiansToDegrees=c;function i(A){var s=A%360;return s*Math.PI/180}Y.degreesToRadians=i;function d(A,s,M){if(s===void 0&&(s="kilometers"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("length must be a positive number");return l(y(A,s),M)}Y.convertLength=d;function x(A,s,M){if(s===void 0&&(s="meters"),M===void 0&&(M="kilometers"),!(A>=0))throw new Error("area must be a positive number");var b=Y.areaFactors[s];if(!b)throw new Error("invalid original units");var N=Y.areaFactors[M];if(!N)throw new Error("invalid final units");return A/b*N}Y.convertArea=x;function w(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}Y.isNumber=w;function _(A){return!!A&&A.constructor===Object}Y.isObject=_;function m(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(s){if(!w(s))throw new Error("bbox must only contain numbers")})}Y.validateBBox=m;function E(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}Y.validateId=E},84880:function(V,Y,e){Object.defineProperty(Y,"__esModule",{value:!0});var p=e(76796);function L(i,d,x){if(i!==null)for(var w,_,m,E,A,s,M,b=0,N=0,k,H=i.type,F=H==="FeatureCollection",B=H==="Feature",U=F?i.features.length:1,z=0;z<U;z++){M=F?i.features[z].geometry:B?i.geometry:i,k=M?M.type==="GeometryCollection":!1,A=k?M.geometries.length:1;for(var W=0;W<A;W++){var j=0,ee=0;if(E=k?M.geometries[W]:M,E!==null){s=E.coordinates;var ie=E.type;switch(b=x&&(ie==="Polygon"||ie==="MultiPolygon")?1:0,ie){case null:break;case"Point":if(d(s,N,z,j,ee)===!1)return!1;N++,j++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],N,z,j,ee)===!1)return!1;N++,ie==="MultiPoint"&&j++}ie==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(_=0;_<s[w].length-b;_++){if(d(s[w][_],N,z,j,ee)===!1)return!1;N++}ie==="MultiLineString"&&j++,ie==="Polygon"&&ee++}ie==="Polygon"&&j++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(ee=0,_=0;_<s[w].length;_++){for(m=0;m<s[w][_].length-b;m++){if(d(s[w][_][m],N,z,j,ee)===!1)return!1;N++}ee++}j++}break;case"GeometryCollection":for(w=0;w<E.geometries.length;w++)if(L(E.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,d,x,w){var _=x;return L(i,function(m,E,A,s,M){E===0&&x===void 0?_=m:_=d(_,m,E,A,s,M)},w),_}function C(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function S(i,d,x){var w=x;return C(i,function(_,m){m===0&&x===void 0?w=_:w=d(w,_,m)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function g(i,d,x){var w=x;return v(i,function(_,m){m===0&&x===void 0?w=_:w=d(w,_,m)}),w}function r(i){var d=[];return L(i,function(x){d.push(x)}),d}function t(i,d){var x,w,_,m,E,A,s,M,b,N,k=0,H=i.type==="FeatureCollection",F=i.type==="Feature",B=H?i.features.length:1;for(x=0;x<B;x++){for(A=H?i.features[x].geometry:F?i.geometry:i,M=H?i.features[x].properties:F?i.properties:{},b=H?i.features[x].bbox:F?i.bbox:void 0,N=H?i.features[x].id:F?i.id:void 0,s=A?A.type==="GeometryCollection":!1,E=s?A.geometries.length:1,_=0;_<E;_++){if(m=s?A.geometries[_]:A,m===null){if(d(null,k,M,b,N)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,k,M,b,N)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<m.geometries.length;w++)if(d(m.geometries[w],k,M,b,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function a(i,d,x){var w=x;return t(i,function(_,m,E,A,s){m===0&&x===void 0?w=_:w=d(w,_,m,E,A,s)}),w}function n(i,d){t(i,function(x,w,_,m,E){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(x,_,{bbox:m,id:E}),w,0)===!1?!1:void 0}var s;switch(A){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var M=0;M<x.coordinates.length;M++){var b=x.coordinates[M],N={type:s,coordinates:b};if(d(p.feature(N,_),w,M)===!1)return!1}})}function f(i,d,x){var w=x;return n(i,function(_,m,E){m===0&&E===0&&x===void 0?w=_:w=d(w,_,m,E)}),w}function u(i,d){n(i,function(x,w,_){var m=0;if(x.geometry){var E=x.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,s=0,M=0,b=0;if(L(x,function(N,k,H,F,B){if(A===void 0||w>s||F>M||B>b){A=N,s=w,M=F,b=B,m=0;return}var U=p.lineString([A,N],x.properties);if(d(U,w,_,B,m)===!1)return!1;m++,A=N})===!1)return!1}}})}function l(i,d,x){var w=x,_=!1;return u(i,function(m,E,A,s,M){_===!1&&x===void 0?w=m:w=d(w,m,E,A,s,M),_=!0}),w}function y(i,d){if(!i)throw new Error("geojson is required");n(i,function(x,w,_){if(x.geometry!==null){var m=x.geometry.type,E=x.geometry.coordinates;switch(m){case"LineString":if(d(x,w,_,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(d(p.lineString(E[A],x.properties),w,_,A)===!1)return!1;break}}})}function h(i,d,x){var w=x;return y(i,function(_,m,E,A){m===0&&x===void 0?w=_:w=d(w,_,m,E,A)}),w}function T(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,_=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),E=E||i.features[x].properties,A=i.features[x].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),p.lineString([s[m],s[m+1]],E,d);case"Polygon":return _<0&&(_=s.length+_),m<0&&(m=s[_].length+m-1),p.lineString([s[_][m],s[_][m+1]],E,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m-1),p.lineString([s[w][m],s[w][m+1]],E,d);case"MultiPolygon":return w<0&&(w=s.length+w),_<0&&(_=s[w].length+_),m<0&&(m=s[w][_].length-m-1),p.lineString([s[w][_][m],s[w][_][m+1]],E,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,_=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),E=E||i.features[x].properties,A=i.features[x].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":return p.point(s,E,d);case"MultiPoint":return w<0&&(w=s.length+w),p.point(s[w],E,d);case"LineString":return m<0&&(m=s.length+m),p.point(s[m],E,d);case"Polygon":return _<0&&(_=s.length+_),m<0&&(m=s[_].length+m),p.point(s[_][m],E,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m),p.point(s[w][m],E,d);case"MultiPolygon":return w<0&&(w=s.length+w),_<0&&(_=s[w].length+_),m<0&&(m=s[w][_].length-m),p.point(s[w][_][m],E,d)}throw new Error("geojson is invalid")}Y.coordEach=L,Y.coordReduce=o,Y.propEach=C,Y.propReduce=S,Y.featureEach=v,Y.featureReduce=g,Y.coordAll=r,Y.geomEach=t,Y.geomReduce=a,Y.flattenEach=n,Y.flattenReduce=f,Y.segmentEach=u,Y.segmentReduce=l,Y.lineEach=y,Y.lineReduce=h,Y.findSegment=T,Y.findPoint=c},77844:function(V,Y,e){Object.defineProperty(Y,"__esModule",{value:!0});var p=e(43752),L=e(49840);function o(C,S){S===void 0&&(S={});var v=0,g=0,r=0;return p.coordEach(C,function(t){v+=t[0],g+=t[1],r++}),L.point([v/r,g/r],S.properties)}Y.default=o},49840:function(V,Y){Object.defineProperty(Y,"__esModule",{value:!0}),Y.earthRadius=63710088e-1,Y.factors={centimeters:Y.earthRadius*100,centimetres:Y.earthRadius*100,degrees:Y.earthRadius/111325,feet:Y.earthRadius*3.28084,inches:Y.earthRadius*39.37,kilometers:Y.earthRadius/1e3,kilometres:Y.earthRadius/1e3,meters:Y.earthRadius,metres:Y.earthRadius,miles:Y.earthRadius/1609.344,millimeters:Y.earthRadius*1e3,millimetres:Y.earthRadius*1e3,nauticalmiles:Y.earthRadius/1852,radians:1,yards:Y.earthRadius/1.0936},Y.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/Y.earthRadius,yards:.91441111923921},Y.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,B,U){U===void 0&&(U={});var z={type:"Feature"};return(U.id===0||U.id)&&(z.id=U.id),U.bbox&&(z.bbox=U.bbox),z.properties=B||{},z.geometry=F,z}Y.feature=e;function p(F,B,U){switch(F){case"Point":return L(B).geometry;case"LineString":return v(B).geometry;case"Polygon":return C(B).geometry;case"MultiPoint":return a(B).geometry;case"MultiLineString":return t(B).geometry;case"MultiPolygon":return n(B).geometry;default:throw new Error(F+" is invalid")}}Y.geometry=p;function L(F,B,U){U===void 0&&(U={});var z={type:"Point",coordinates:F};return e(z,B,U)}Y.point=L;function o(F,B,U){return U===void 0&&(U={}),r(F.map(function(z){return L(z,B)}),U)}Y.points=o;function C(F,B,U){U===void 0&&(U={});for(var z=0,W=F;z<W.length;z++){var j=W[z];if(j.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ee=0;ee<j[j.length-1].length;ee++)if(j[j.length-1][ee]!==j[0][ee])throw new Error("First and last Position are not equivalent.")}var ie={type:"Polygon",coordinates:F};return e(ie,B,U)}Y.polygon=C;function S(F,B,U){return U===void 0&&(U={}),r(F.map(function(z){return C(z,B)}),U)}Y.polygons=S;function v(F,B,U){if(U===void 0&&(U={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var z={type:"LineString",coordinates:F};return e(z,B,U)}Y.lineString=v;function g(F,B,U){return U===void 0&&(U={}),r(F.map(function(z){return v(z,B)}),U)}Y.lineStrings=g;function r(F,B){B===void 0&&(B={});var U={type:"FeatureCollection"};return B.id&&(U.id=B.id),B.bbox&&(U.bbox=B.bbox),U.features=F,U}Y.featureCollection=r;function t(F,B,U){U===void 0&&(U={});var z={type:"MultiLineString",coordinates:F};return e(z,B,U)}Y.multiLineString=t;function a(F,B,U){U===void 0&&(U={});var z={type:"MultiPoint",coordinates:F};return e(z,B,U)}Y.multiPoint=a;function n(F,B,U){U===void 0&&(U={});var z={type:"MultiPolygon",coordinates:F};return e(z,B,U)}Y.multiPolygon=n;function f(F,B,U){U===void 0&&(U={});var z={type:"GeometryCollection",geometries:F};return e(z,B,U)}Y.geometryCollection=f;function u(F,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var U=Math.pow(10,B||0);return Math.round(F*U)/U}Y.round=u;function l(F,B){B===void 0&&(B="kilometers");var U=Y.factors[B];if(!U)throw new Error(B+" units is invalid");return F*U}Y.radiansToLength=l;function y(F,B){B===void 0&&(B="kilometers");var U=Y.factors[B];if(!U)throw new Error(B+" units is invalid");return F/U}Y.lengthToRadians=y;function h(F,B){return c(y(F,B))}Y.lengthToDegrees=h;function T(F){var B=F%360;return B<0&&(B+=360),B}Y.bearingToAzimuth=T;function c(F){var B=F%(2*Math.PI);return B*180/Math.PI}Y.radiansToDegrees=c;function i(F){var B=F%360;return B*Math.PI/180}Y.degreesToRadians=i;function d(F,B,U){if(B===void 0&&(B="kilometers"),U===void 0&&(U="kilometers"),!(F>=0))throw new Error("length must be a positive number");return l(y(F,B),U)}Y.convertLength=d;function x(F,B,U){if(B===void 0&&(B="meters"),U===void 0&&(U="kilometers"),!(F>=0))throw new Error("area must be a positive number");var z=Y.areaFactors[B];if(!z)throw new Error("invalid original units");var W=Y.areaFactors[U];if(!W)throw new Error("invalid final units");return F/z*W}Y.convertArea=x;function w(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}Y.isNumber=w;function _(F){return!!F&&F.constructor===Object}Y.isObject=_;function m(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(B){if(!w(B))throw new Error("bbox must only contain numbers")})}Y.validateBBox=m;function E(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}Y.validateId=E;function A(){throw new Error("method has been renamed to `radiansToDegrees`")}Y.radians2degrees=A;function s(){throw new Error("method has been renamed to `degreesToRadians`")}Y.degrees2radians=s;function M(){throw new Error("method has been renamed to `lengthToDegrees`")}Y.distanceToDegrees=M;function b(){throw new Error("method has been renamed to `lengthToRadians`")}Y.distanceToRadians=b;function N(){throw new Error("method has been renamed to `radiansToLength`")}Y.radiansToDistance=N;function k(){throw new Error("method has been renamed to `bearingToAzimuth`")}Y.bearingToAngle=k;function H(){throw new Error("method has been renamed to `convertLength`")}Y.convertDistance=H},43752:function(V,Y,e){Object.defineProperty(Y,"__esModule",{value:!0});var p=e(49840);function L(i,d,x){if(i!==null)for(var w,_,m,E,A,s,M,b=0,N=0,k,H=i.type,F=H==="FeatureCollection",B=H==="Feature",U=F?i.features.length:1,z=0;z<U;z++){M=F?i.features[z].geometry:B?i.geometry:i,k=M?M.type==="GeometryCollection":!1,A=k?M.geometries.length:1;for(var W=0;W<A;W++){var j=0,ee=0;if(E=k?M.geometries[W]:M,E!==null){s=E.coordinates;var ie=E.type;switch(b=x&&(ie==="Polygon"||ie==="MultiPolygon")?1:0,ie){case null:break;case"Point":if(d(s,N,z,j,ee)===!1)return!1;N++,j++;break;case"LineString":case"MultiPoint":for(w=0;w<s.length;w++){if(d(s[w],N,z,j,ee)===!1)return!1;N++,ie==="MultiPoint"&&j++}ie==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(w=0;w<s.length;w++){for(_=0;_<s[w].length-b;_++){if(d(s[w][_],N,z,j,ee)===!1)return!1;N++}ie==="MultiLineString"&&j++,ie==="Polygon"&&ee++}ie==="Polygon"&&j++;break;case"MultiPolygon":for(w=0;w<s.length;w++){for(ee=0,_=0;_<s[w].length;_++){for(m=0;m<s[w][_].length-b;m++){if(d(s[w][_][m],N,z,j,ee)===!1)return!1;N++}ee++}j++}break;case"GeometryCollection":for(w=0;w<E.geometries.length;w++)if(L(E.geometries[w],d,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(i,d,x,w){var _=x;return L(i,function(m,E,A,s,M){E===0&&x===void 0?_=m:_=d(_,m,E,A,s,M)},w),_}function C(i,d){var x;switch(i.type){case"FeatureCollection":for(x=0;x<i.features.length&&d(i.features[x].properties,x)!==!1;x++);break;case"Feature":d(i.properties,0);break}}function S(i,d,x){var w=x;return C(i,function(_,m){m===0&&x===void 0?w=_:w=d(w,_,m)}),w}function v(i,d){if(i.type==="Feature")d(i,0);else if(i.type==="FeatureCollection")for(var x=0;x<i.features.length&&d(i.features[x],x)!==!1;x++);}function g(i,d,x){var w=x;return v(i,function(_,m){m===0&&x===void 0?w=_:w=d(w,_,m)}),w}function r(i){var d=[];return L(i,function(x){d.push(x)}),d}function t(i,d){var x,w,_,m,E,A,s,M,b,N,k=0,H=i.type==="FeatureCollection",F=i.type==="Feature",B=H?i.features.length:1;for(x=0;x<B;x++){for(A=H?i.features[x].geometry:F?i.geometry:i,M=H?i.features[x].properties:F?i.properties:{},b=H?i.features[x].bbox:F?i.bbox:void 0,N=H?i.features[x].id:F?i.id:void 0,s=A?A.type==="GeometryCollection":!1,E=s?A.geometries.length:1,_=0;_<E;_++){if(m=s?A.geometries[_]:A,m===null){if(d(null,k,M,b,N)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,k,M,b,N)===!1)return!1;break}case"GeometryCollection":{for(w=0;w<m.geometries.length;w++)if(d(m.geometries[w],k,M,b,N)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}k++}}function a(i,d,x){var w=x;return t(i,function(_,m,E,A,s){m===0&&x===void 0?w=_:w=d(w,_,m,E,A,s)}),w}function n(i,d){t(i,function(x,w,_,m,E){var A=x===null?null:x.type;switch(A){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(x,_,{bbox:m,id:E}),w,0)===!1?!1:void 0}var s;switch(A){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var M=0;M<x.coordinates.length;M++){var b=x.coordinates[M],N={type:s,coordinates:b};if(d(p.feature(N,_),w,M)===!1)return!1}})}function f(i,d,x){var w=x;return n(i,function(_,m,E){m===0&&E===0&&x===void 0?w=_:w=d(w,_,m,E)}),w}function u(i,d){n(i,function(x,w,_){var m=0;if(x.geometry){var E=x.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var A,s=0,M=0,b=0;if(L(x,function(N,k,H,F,B){if(A===void 0||w>s||F>M||B>b){A=N,s=w,M=F,b=B,m=0;return}var U=p.lineString([A,N],x.properties);if(d(U,w,_,B,m)===!1)return!1;m++,A=N})===!1)return!1}}})}function l(i,d,x){var w=x,_=!1;return u(i,function(m,E,A,s,M){_===!1&&x===void 0?w=m:w=d(w,m,E,A,s,M),_=!0}),w}function y(i,d){if(!i)throw new Error("geojson is required");n(i,function(x,w,_){if(x.geometry!==null){var m=x.geometry.type,E=x.geometry.coordinates;switch(m){case"LineString":if(d(x,w,_,0,0)===!1)return!1;break;case"Polygon":for(var A=0;A<E.length;A++)if(d(p.lineString(E[A],x.properties),w,_,A)===!1)return!1;break}}})}function h(i,d,x){var w=x;return y(i,function(_,m,E,A){m===0&&x===void 0?w=_:w=d(w,_,m,E,A)}),w}function T(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,_=d.geometryIndex||0,m=d.segmentIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),E=E||i.features[x].properties,A=i.features[x].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=s.length+m-1),p.lineString([s[m],s[m+1]],E,d);case"Polygon":return _<0&&(_=s.length+_),m<0&&(m=s[_].length+m-1),p.lineString([s[_][m],s[_][m+1]],E,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m-1),p.lineString([s[w][m],s[w][m+1]],E,d);case"MultiPolygon":return w<0&&(w=s.length+w),_<0&&(_=s[w].length+_),m<0&&(m=s[w][_].length-m-1),p.lineString([s[w][_][m],s[w][_][m+1]],E,d)}throw new Error("geojson is invalid")}function c(i,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var x=d.featureIndex||0,w=d.multiFeatureIndex||0,_=d.geometryIndex||0,m=d.coordIndex||0,E=d.properties,A;switch(i.type){case"FeatureCollection":x<0&&(x=i.features.length+x),E=E||i.features[x].properties,A=i.features[x].geometry;break;case"Feature":E=E||i.properties,A=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":A=i;break;default:throw new Error("geojson is invalid")}if(A===null)return null;var s=A.coordinates;switch(A.type){case"Point":return p.point(s,E,d);case"MultiPoint":return w<0&&(w=s.length+w),p.point(s[w],E,d);case"LineString":return m<0&&(m=s.length+m),p.point(s[m],E,d);case"Polygon":return _<0&&(_=s.length+_),m<0&&(m=s[_].length+m),p.point(s[_][m],E,d);case"MultiLineString":return w<0&&(w=s.length+w),m<0&&(m=s[w].length+m),p.point(s[w][m],E,d);case"MultiPolygon":return w<0&&(w=s.length+w),_<0&&(_=s[w].length+_),m<0&&(m=s[w][_].length-m),p.point(s[w][_][m],E,d)}throw new Error("geojson is invalid")}Y.coordEach=L,Y.coordReduce=o,Y.propEach=C,Y.propReduce=S,Y.featureEach=v,Y.featureReduce=g,Y.coordAll=r,Y.geomEach=t,Y.geomReduce=a,Y.flattenEach=n,Y.flattenReduce=f,Y.segmentEach=u,Y.segmentReduce=l,Y.lineEach=y,Y.lineReduce=h,Y.findSegment=T,Y.findPoint=c},49972:function(V){V.exports=Y;function Y(e){var p=0,L=0,o=0,C=0;return e.map(function(S){S=S.slice();var v=S[0],g=v.toUpperCase();if(v!=g)switch(S[0]=g,v){case"a":S[6]+=o,S[7]+=C;break;case"v":S[1]+=C;break;case"h":S[1]+=o;break;default:for(var r=1;r<S.length;)S[r++]+=o,S[r++]+=C}switch(g){case"Z":o=p,C=L;break;case"H":o=S[1];break;case"V":C=S[1];break;case"M":o=p=S[1],C=L=S[2];break;default:o=S[S.length-2],C=S[S.length-1]}return S})}},76752:function(V){V.exports=Y;function Y(e,p){if(!e||e.length==null)throw Error("Argument should be an array");p==null?p=1:p=Math.floor(p);for(var L=Array(p*2),o=0;o<p;o++){for(var C=-1/0,S=1/0,v=o,g=e.length;v<g;v+=p)e[v]>C&&(C=e[v]),e[v]<S&&(S=e[v]);L[o]=S,L[p+o]=C}return L}},10272:function(V){V.exports=function(Y,e,p){if(typeof Array.prototype.findIndex=="function")return Y.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(Y),o=L.length;if(o===0)return-1;for(var C=0;C<o;C++)if(e.call(p,L[C],C,L))return C;return-1}},71152:function(V,Y,e){var p=e(76752);V.exports=L;function L(o,C,S){if(!o||o.length==null)throw Error("Argument should be an array");C==null&&(C=1),S==null&&(S=p(o,C));for(var v=0;v<C;v++){var g=S[C+v],r=S[v],t=v,a=o.length;if(g===1/0&&r===-1/0)for(t=v;t<a;t+=C)o[t]=o[t]===g?1:o[t]===r?0:.5;else if(g===1/0)for(t=v;t<a;t+=C)o[t]=o[t]===g?1:0;else if(r===-1/0)for(t=v;t<a;t+=C)o[t]=o[t]===r?0:1;else{var n=g-r;for(t=v;t<a;t+=C)isNaN(o[t])||(o[t]=n===0?.5:(o[t]-r)/n)}}return o}},67752:function(V){V.exports=function(e,p){var L=typeof e=="number",o=typeof p=="number";L&&!o?(p=e,e=0):!L&&!o&&(e=0,p=0),e=e|0,p=p|0;var C=p-e;if(C<0)throw new Error("array length must be positive");for(var S=new Array(C),v=0,g=e;v<C;v++,g++)S[v]=g;return S}},45408:function(V,Y,e){var p=e(4168);function L(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(oe){return typeof oe}:L=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},L(ee)}function o(ee,ie){if(!(ee instanceof ie))throw new TypeError("Cannot call a class as a function")}var C=e(86832),S=C.codes,v=S.ERR_AMBIGUOUS_ARGUMENT,g=S.ERR_INVALID_ARG_TYPE,r=S.ERR_INVALID_ARG_VALUE,t=S.ERR_INVALID_RETURN_VALUE,a=S.ERR_MISSING_ARGS,n=e(26144),f=e(35840),u=f.inspect,l=e(35840).types,y=l.isPromise,h=l.isRegExp,T=Object.assign?Object.assign:e(60964).assign,c=Object.is?Object.is:e(39896),i,d;function x(){var ee=e(25116);i=ee.isDeepEqual,d=ee.isDeepStrictEqual}var w=!1,_=V.exports=M,m={};function E(ee){throw ee.message instanceof Error?ee.message:new n(ee)}function A(ee,ie,oe,he,ne){var q=arguments.length,le;if(q===0)le="Failed";else if(q===1)oe=ee,ee=void 0;else{if(w===!1){w=!0;var Q=p.emitWarning?p.emitWarning:console.warn.bind(console);Q("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}q===2&&(he="!=")}if(oe instanceof Error)throw oe;var te={actual:ee,expected:ie,operator:he===void 0?"fail":he,stackStartFn:ne||A};oe!==void 0&&(te.message=oe);var ue=new n(te);throw le&&(ue.message=le,ue.generatedMessage=!0),ue}_.fail=A,_.AssertionError=n;function s(ee,ie,oe,he){if(!oe){var ne=!1;if(ie===0)ne=!0,he="No value argument passed to `assert.ok()`";else if(he instanceof Error)throw he;var q=new n({actual:oe,expected:!0,message:he,operator:"==",stackStartFn:ee});throw q.generatedMessage=ne,q}}function M(){for(var ee=arguments.length,ie=new Array(ee),oe=0;oe<ee;oe++)ie[oe]=arguments[oe];s.apply(void 0,[M,ie.length].concat(ie))}_.ok=M,_.equal=function ee(ie,oe,he){if(arguments.length<2)throw new a("actual","expected");ie!=oe&&E({actual:ie,expected:oe,message:he,operator:"==",stackStartFn:ee})},_.notEqual=function ee(ie,oe,he){if(arguments.length<2)throw new a("actual","expected");ie==oe&&E({actual:ie,expected:oe,message:he,operator:"!=",stackStartFn:ee})},_.deepEqual=function ee(ie,oe,he){if(arguments.length<2)throw new a("actual","expected");i===void 0&&x(),i(ie,oe)||E({actual:ie,expected:oe,message:he,operator:"deepEqual",stackStartFn:ee})},_.notDeepEqual=function ee(ie,oe,he){if(arguments.length<2)throw new a("actual","expected");i===void 0&&x(),i(ie,oe)&&E({actual:ie,expected:oe,message:he,operator:"notDeepEqual",stackStartFn:ee})},_.deepStrictEqual=function ee(ie,oe,he){if(arguments.length<2)throw new a("actual","expected");i===void 0&&x(),d(ie,oe)||E({actual:ie,expected:oe,message:he,operator:"deepStrictEqual",stackStartFn:ee})},_.notDeepStrictEqual=b;function b(ee,ie,oe){if(arguments.length<2)throw new a("actual","expected");i===void 0&&x(),d(ee,ie)&&E({actual:ee,expected:ie,message:oe,operator:"notDeepStrictEqual",stackStartFn:b})}_.strictEqual=function ee(ie,oe,he){if(arguments.length<2)throw new a("actual","expected");c(ie,oe)||E({actual:ie,expected:oe,message:he,operator:"strictEqual",stackStartFn:ee})},_.notStrictEqual=function ee(ie,oe,he){if(arguments.length<2)throw new a("actual","expected");c(ie,oe)&&E({actual:ie,expected:oe,message:he,operator:"notStrictEqual",stackStartFn:ee})};var N=function ee(ie,oe,he){var ne=this;o(this,ee),oe.forEach(function(q){q in ie&&(he!==void 0&&typeof he[q]=="string"&&h(ie[q])&&ie[q].test(he[q])?ne[q]=he[q]:ne[q]=ie[q])})};function k(ee,ie,oe,he,ne,q){if(!(oe in ee)||!d(ee[oe],ie[oe])){if(!he){var le=new N(ee,ne),Q=new N(ie,ne,ee),te=new n({actual:le,expected:Q,operator:"deepStrictEqual",stackStartFn:q});throw te.actual=ee,te.expected=ie,te.operator=q.name,te}E({actual:ee,expected:ie,message:he,operator:q.name,stackStartFn:q})}}function H(ee,ie,oe,he){if(typeof ie!="function"){if(h(ie))return ie.test(ee);if(arguments.length===2)throw new g("expected",["Function","RegExp"],ie);if(L(ee)!=="object"||ee===null){var ne=new n({actual:ee,expected:ie,message:oe,operator:"deepStrictEqual",stackStartFn:he});throw ne.operator=he.name,ne}var q=Object.keys(ie);if(ie instanceof Error)q.push("name","message");else if(q.length===0)throw new r("error",ie,"may not be an empty object");return i===void 0&&x(),q.forEach(function(le){typeof ee[le]=="string"&&h(ie[le])&&ie[le].test(ee[le])||k(ee,ie,le,oe,q,he)}),!0}return ie.prototype!==void 0&&ee instanceof ie?!0:Error.isPrototypeOf(ie)?!1:ie.call({},ee)===!0}function F(ee){if(typeof ee!="function")throw new g("fn","Function",ee);try{ee()}catch(ie){return ie}return m}function B(ee){return y(ee)||ee!==null&&L(ee)==="object"&&typeof ee.then=="function"&&typeof ee.catch=="function"}function U(ee){return Promise.resolve().then(function(){var ie;if(typeof ee=="function"){if(ie=ee(),!B(ie))throw new t("instance of Promise","promiseFn",ie)}else if(B(ee))ie=ee;else throw new g("promiseFn",["Function","Promise"],ee);return Promise.resolve().then(function(){return ie}).then(function(){return m}).catch(function(oe){return oe})})}function z(ee,ie,oe,he){if(typeof oe=="string"){if(arguments.length===4)throw new g("error",["Object","Error","Function","RegExp"],oe);if(L(ie)==="object"&&ie!==null){if(ie.message===oe)throw new v("error/message",'The error message "'.concat(ie.message,'" is identical to the message.'))}else if(ie===oe)throw new v("error/message",'The error "'.concat(ie,'" is identical to the message.'));he=oe,oe=void 0}else if(oe!=null&&L(oe)!=="object"&&typeof oe!="function")throw new g("error",["Object","Error","Function","RegExp"],oe);if(ie===m){var ne="";oe&&oe.name&&(ne+=" (".concat(oe.name,")")),ne+=he?": ".concat(he):".";var q=ee.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:oe,operator:ee.name,message:"Missing expected ".concat(q).concat(ne),stackStartFn:ee})}if(oe&&!H(ie,oe,he,ee))throw ie}function W(ee,ie,oe,he){if(ie!==m){if(typeof oe=="string"&&(he=oe,oe=void 0),!oe||H(ie,oe)){var ne=he?": ".concat(he):".",q=ee.name==="doesNotReject"?"rejection":"exception";E({actual:ie,expected:oe,operator:ee.name,message:"Got unwanted ".concat(q).concat(ne,`
`)+'Actual message: "'.concat(ie&&ie.message,'"'),stackStartFn:ee})}throw ie}}_.throws=function ee(ie){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),ne=1;ne<oe;ne++)he[ne-1]=arguments[ne];z.apply(void 0,[ee,F(ie)].concat(he))},_.rejects=function ee(ie){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),ne=1;ne<oe;ne++)he[ne-1]=arguments[ne];return U(ie).then(function(q){return z.apply(void 0,[ee,q].concat(he))})},_.doesNotThrow=function ee(ie){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),ne=1;ne<oe;ne++)he[ne-1]=arguments[ne];W.apply(void 0,[ee,F(ie)].concat(he))},_.doesNotReject=function ee(ie){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),ne=1;ne<oe;ne++)he[ne-1]=arguments[ne];return U(ie).then(function(q){return W.apply(void 0,[ee,q].concat(he))})},_.ifError=function ee(ie){if(ie!=null){var oe="ifError got unwanted exception: ";L(ie)==="object"&&typeof ie.message=="string"?ie.message.length===0&&ie.constructor?oe+=ie.constructor.name:oe+=ie.message:oe+=u(ie);var he=new n({actual:ie,expected:null,operator:"ifError",message:oe,stackStartFn:ee}),ne=ie.stack;if(typeof ne=="string"){var q=ne.split(`
`);q.shift();for(var le=he.stack.split(`
`),Q=0;Q<q.length;Q++){var te=le.indexOf(q[Q]);if(te!==-1){le=le.slice(0,te);break}}he.stack="".concat(le.join(`
`),`
`).concat(q.join(`
`))}throw he}};function j(){for(var ee=arguments.length,ie=new Array(ee),oe=0;oe<ee;oe++)ie[oe]=arguments[oe];s.apply(void 0,[j,ie.length].concat(ie))}_.strict=T(j,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},26144:function(V,Y,e){var p=e(4168);function L(F){for(var B=1;B<arguments.length;B++){var U=arguments[B]!=null?arguments[B]:{},z=Object.keys(U);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(U).filter(function(W){return Object.getOwnPropertyDescriptor(U,W).enumerable}))),z.forEach(function(W){o(F,W,U[W])})}return F}function o(F,B,U){return B in F?Object.defineProperty(F,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[B]=U,F}function C(F,B){if(!(F instanceof B))throw new TypeError("Cannot call a class as a function")}function S(F,B){for(var U=0;U<B.length;U++){var z=B[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(F,z.key,z)}}function v(F,B,U){return B&&S(F.prototype,B),F}function g(F,B){return B&&(h(B)==="object"||typeof B=="function")?B:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function t(F,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(B&&B.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),B&&l(F,B)}function a(F){var B=typeof Map=="function"?new Map:void 0;return a=function(z){if(z===null||!u(z))return z;if(typeof z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof B<"u"){if(B.has(z))return B.get(z);B.set(z,W)}function W(){return f(z,arguments,y(this).constructor)}return W.prototype=Object.create(z.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),l(W,z)},a(F)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function f(F,B,U){return n()?f=Reflect.construct:f=function(W,j,ee){var ie=[null];ie.push.apply(ie,j);var oe=Function.bind.apply(W,ie),he=new oe;return ee&&l(he,ee.prototype),he},f.apply(null,arguments)}function u(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function l(F,B){return l=Object.setPrototypeOf||function(z,W){return z.__proto__=W,z},l(F,B)}function y(F){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},y(F)}function h(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(U){return typeof U}:h=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},h(F)}var T=e(35840),c=T.inspect,i=e(86832),d=i.codes.ERR_INVALID_ARG_TYPE;function x(F,B,U){return(U===void 0||U>F.length)&&(U=F.length),F.substring(U-B.length,U)===B}function w(F,B){if(B=Math.floor(B),F.length==0||B==0)return"";var U=F.length*B;for(B=Math.floor(Math.log(B)/Math.log(2));B;)F+=F,B--;return F+=F.substring(0,U-F.length),F}var _="",m="",E="",A="",s={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},M=10;function b(F){var B=Object.keys(F),U=Object.create(Object.getPrototypeOf(F));return B.forEach(function(z){U[z]=F[z]}),Object.defineProperty(U,"message",{value:F.message}),U}function N(F){return c(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function k(F,B,U){var z="",W="",j=0,ee="",ie=!1,oe=N(F),he=oe.split(`
`),ne=N(B).split(`
`),q=0,le="";if(U==="strictEqual"&&h(F)==="object"&&h(B)==="object"&&F!==null&&B!==null&&(U="strictEqualObject"),he.length===1&&ne.length===1&&he[0]!==ne[0]){var Q=he[0].length+ne[0].length;if(Q<=M){if((h(F)!=="object"||F===null)&&(h(B)!=="object"||B===null)&&(F!==0||B!==0))return"".concat(s[U],`

`)+"".concat(he[0]," !== ").concat(ne[0],`
`)}else if(U!=="strictEqualObject"){var te=p.stderr&&p.stderr.isTTY?p.stderr.columns:80;if(Q<te){for(;he[0][q]===ne[0][q];)q++;q>2&&(le=`
  `.concat(w(" ",q),"^"),q=0)}}}for(var ue=he[he.length-1],J=ne[ne.length-1];ue===J&&(q++<2?ee=`
  `.concat(ue).concat(ee):z=ue,he.pop(),ne.pop(),!(he.length===0||ne.length===0));)ue=he[he.length-1],J=ne[ne.length-1];var K=Math.max(he.length,ne.length);if(K===0){var ce=oe.split(`
`);if(ce.length>30)for(ce[26]="".concat(_,"...").concat(A);ce.length>27;)ce.pop();return"".concat(s.notIdentical,`

`).concat(ce.join(`
`),`
`)}q>3&&(ee=`
`.concat(_,"...").concat(A).concat(ee),ie=!0),z!==""&&(ee=`
  `.concat(z).concat(ee),z="");var ae=0,de=s[U]+`
`.concat(m,"+ actual").concat(A," ").concat(E,"- expected").concat(A),be=" ".concat(_,"...").concat(A," Lines skipped");for(q=0;q<K;q++){var Se=q-j;if(he.length<q+1)Se>1&&q>2&&(Se>4?(W+=`
`.concat(_,"...").concat(A),ie=!0):Se>3&&(W+=`
  `.concat(ne[q-2]),ae++),W+=`
  `.concat(ne[q-1]),ae++),j=q,z+=`
`.concat(E,"-").concat(A," ").concat(ne[q]),ae++;else if(ne.length<q+1)Se>1&&q>2&&(Se>4?(W+=`
`.concat(_,"...").concat(A),ie=!0):Se>3&&(W+=`
  `.concat(he[q-2]),ae++),W+=`
  `.concat(he[q-1]),ae++),j=q,W+=`
`.concat(m,"+").concat(A," ").concat(he[q]),ae++;else{var Te=ne[q],Ie=he[q],ke=Ie!==Te&&(!x(Ie,",")||Ie.slice(0,-1)!==Te);ke&&x(Te,",")&&Te.slice(0,-1)===Ie&&(ke=!1,Ie+=","),ke?(Se>1&&q>2&&(Se>4?(W+=`
`.concat(_,"...").concat(A),ie=!0):Se>3&&(W+=`
  `.concat(he[q-2]),ae++),W+=`
  `.concat(he[q-1]),ae++),j=q,W+=`
`.concat(m,"+").concat(A," ").concat(Ie),z+=`
`.concat(E,"-").concat(A," ").concat(Te),ae+=2):(W+=z,z="",(Se===1||q===0)&&(W+=`
  `.concat(Ie),ae++))}if(ae>20&&q<K-2)return"".concat(de).concat(be,`
`).concat(W,`
`).concat(_,"...").concat(A).concat(z,`
`)+"".concat(_,"...").concat(A)}return"".concat(de).concat(ie?be:"",`
`).concat(W).concat(z).concat(ee).concat(le)}var H=function(F){t(B,F);function B(U){var z;if(C(this,B),h(U)!=="object"||U===null)throw new d("options","Object",U);var W=U.message,j=U.operator,ee=U.stackStartFn,ie=U.actual,oe=U.expected,he=Error.stackTraceLimit;if(Error.stackTraceLimit=0,W!=null)z=g(this,y(B).call(this,String(W)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(_="\x1B[34m",m="\x1B[32m",A="\x1B[39m",E="\x1B[31m"):(_="",m="",A="",E="")),h(ie)==="object"&&ie!==null&&h(oe)==="object"&&oe!==null&&"stack"in ie&&ie instanceof Error&&"stack"in oe&&oe instanceof Error&&(ie=b(ie),oe=b(oe)),j==="deepStrictEqual"||j==="strictEqual")z=g(this,y(B).call(this,k(ie,oe,j)));else if(j==="notDeepStrictEqual"||j==="notStrictEqual"){var ne=s[j],q=N(ie).split(`
`);if(j==="notStrictEqual"&&h(ie)==="object"&&ie!==null&&(ne=s.notStrictEqualObject),q.length>30)for(q[26]="".concat(_,"...").concat(A);q.length>27;)q.pop();q.length===1?z=g(this,y(B).call(this,"".concat(ne," ").concat(q[0]))):z=g(this,y(B).call(this,"".concat(ne,`

`).concat(q.join(`
`),`
`)))}else{var le=N(ie),Q="",te=s[j];j==="notDeepEqual"||j==="notEqual"?(le="".concat(s[j],`

`).concat(le),le.length>1024&&(le="".concat(le.slice(0,1021),"..."))):(Q="".concat(N(oe)),le.length>512&&(le="".concat(le.slice(0,509),"...")),Q.length>512&&(Q="".concat(Q.slice(0,509),"...")),j==="deepEqual"||j==="equal"?le="".concat(te,`

`).concat(le,`

should equal

`):Q=" ".concat(j," ").concat(Q)),z=g(this,y(B).call(this,"".concat(le).concat(Q)))}return Error.stackTraceLimit=he,z.generatedMessage=!W,Object.defineProperty(r(z),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),z.code="ERR_ASSERTION",z.actual=ie,z.expected=oe,z.operator=j,Error.captureStackTrace&&Error.captureStackTrace(r(z),ee),z.stack,z.name="AssertionError",g(z)}return v(B,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:c.custom,value:function(z,W){return c(this,L({},W,{customInspect:!1,depth:0}))}}]),B}(a(Error));V.exports=H},86832:function(V,Y,e){function p(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(c){return typeof c}:p=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},p(h)}function L(h,T){if(!(h instanceof T))throw new TypeError("Cannot call a class as a function")}function o(h,T){return T&&(p(T)==="object"||typeof T=="function")?T:C(h)}function C(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},S(h)}function v(h,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(T&&T.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),T&&g(h,T)}function g(h,T){return g=Object.setPrototypeOf||function(i,d){return i.__proto__=d,i},g(h,T)}var r={},t,a;function n(h,T,c){c||(c=Error);function i(x,w,_){return typeof T=="string"?T:T(x,w,_)}var d=function(x){v(w,x);function w(_,m,E){var A;return L(this,w),A=o(this,S(w).call(this,i(_,m,E))),A.code=h,A}return w}(c);r[h]=d}function f(h,T){if(Array.isArray(h)){var c=h.length;return h=h.map(function(i){return String(i)}),c>2?"one of ".concat(T," ").concat(h.slice(0,c-1).join(", "),", or ")+h[c-1]:c===2?"one of ".concat(T," ").concat(h[0]," or ").concat(h[1]):"of ".concat(T," ").concat(h[0])}else return"of ".concat(T," ").concat(String(h))}function u(h,T,c){return h.substr(0,T.length)===T}function l(h,T,c){return(c===void 0||c>h.length)&&(c=h.length),h.substring(c-T.length,c)===T}function y(h,T,c){return typeof c!="number"&&(c=0),c+T.length>h.length?!1:h.indexOf(T,c)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,T,c){t===void 0&&(t=e(45408)),t(typeof h=="string","'name' must be a string");var i;typeof T=="string"&&u(T,"not ")?(i="must not be",T=T.replace(/^not /,"")):i="must be";var d;if(l(h," argument"))d="The ".concat(h," ").concat(i," ").concat(f(T,"type"));else{var x=y(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(x," ").concat(i," ").concat(f(T,"type"))}return d+=". Received type ".concat(p(c)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,T){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";a===void 0&&(a=e(35840));var i=a.inspect(T);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(c,". Received ").concat(i)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,T,c){var i;return c&&c.constructor&&c.constructor.name?i="instance of ".concat(c.constructor.name):i="type ".concat(p(c)),"Expected ".concat(h,' to be returned from the "').concat(T,'"')+" function but got ".concat(i,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,T=new Array(h),c=0;c<h;c++)T[c]=arguments[c];t===void 0&&(t=e(45408)),t(T.length>0,"At least one arg needs to be specified");var i="The ",d=T.length;switch(T=T.map(function(x){return'"'.concat(x,'"')}),d){case 1:i+="".concat(T[0]," argument");break;case 2:i+="".concat(T[0]," and ").concat(T[1]," arguments");break;default:i+=T.slice(0,d-1).join(", "),i+=", and ".concat(T[d-1]," arguments");break}return"".concat(i," must be specified")},TypeError),V.exports.codes=r},25116:function(V,Y,e){function p(Be,Me){return C(Be)||o(Be,Me)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(Be,Me){var Oe=[],_e=!0,Ne=!1,Ce=void 0;try{for(var Ye=Be[Symbol.iterator](),rt;!(_e=(rt=Ye.next()).done)&&(Oe.push(rt.value),!(Me&&Oe.length===Me));_e=!0);}catch(ot){Ne=!0,Ce=ot}finally{try{!_e&&Ye.return!=null&&Ye.return()}finally{if(Ne)throw Ce}}return Oe}function C(Be){if(Array.isArray(Be))return Be}function S(Be){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(Oe){return typeof Oe}:S=function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},S(Be)}var v=/a/g.flags!==void 0,g=function(Me){var Oe=[];return Me.forEach(function(_e){return Oe.push(_e)}),Oe},r=function(Me){var Oe=[];return Me.forEach(function(_e,Ne){return Oe.push([Ne,_e])}),Oe},t=Object.is?Object.is:e(39896),a=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(1560);function f(Be){return Be.call.bind(Be)}var u=f(Object.prototype.hasOwnProperty),l=f(Object.prototype.propertyIsEnumerable),y=f(Object.prototype.toString),h=e(35840).types,T=h.isAnyArrayBuffer,c=h.isArrayBufferView,i=h.isDate,d=h.isMap,x=h.isRegExp,w=h.isSet,_=h.isNativeError,m=h.isBoxedPrimitive,E=h.isNumberObject,A=h.isStringObject,s=h.isBooleanObject,M=h.isBigIntObject,b=h.isSymbolObject,N=h.isFloat32Array,k=h.isFloat64Array;function H(Be){if(Be.length===0||Be.length>10)return!0;for(var Me=0;Me<Be.length;Me++){var Oe=Be.charCodeAt(Me);if(Oe<48||Oe>57)return!0}return Be.length===10&&Be>=Math.pow(2,32)}function F(Be){return Object.keys(Be).filter(H).concat(a(Be).filter(Object.prototype.propertyIsEnumerable.bind(Be)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function B(Be,Me){if(Be===Me)return 0;for(var Oe=Be.length,_e=Me.length,Ne=0,Ce=Math.min(Oe,_e);Ne<Ce;++Ne)if(Be[Ne]!==Me[Ne]){Oe=Be[Ne],_e=Me[Ne];break}return Oe<_e?-1:_e<Oe?1:0}var U=!0,z=!1,W=0,j=1,ee=2,ie=3;function oe(Be,Me){return v?Be.source===Me.source&&Be.flags===Me.flags:RegExp.prototype.toString.call(Be)===RegExp.prototype.toString.call(Me)}function he(Be,Me){if(Be.byteLength!==Me.byteLength)return!1;for(var Oe=0;Oe<Be.byteLength;Oe++)if(Be[Oe]!==Me[Oe])return!1;return!0}function ne(Be,Me){return Be.byteLength!==Me.byteLength?!1:B(new Uint8Array(Be.buffer,Be.byteOffset,Be.byteLength),new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength))===0}function q(Be,Me){return Be.byteLength===Me.byteLength&&B(new Uint8Array(Be),new Uint8Array(Me))===0}function le(Be,Me){return E(Be)?E(Me)&&t(Number.prototype.valueOf.call(Be),Number.prototype.valueOf.call(Me)):A(Be)?A(Me)&&String.prototype.valueOf.call(Be)===String.prototype.valueOf.call(Me):s(Be)?s(Me)&&Boolean.prototype.valueOf.call(Be)===Boolean.prototype.valueOf.call(Me):M(Be)?M(Me)&&BigInt.prototype.valueOf.call(Be)===BigInt.prototype.valueOf.call(Me):b(Me)&&Symbol.prototype.valueOf.call(Be)===Symbol.prototype.valueOf.call(Me)}function Q(Be,Me,Oe,_e){if(Be===Me)return Be!==0?!0:Oe?t(Be,Me):!0;if(Oe){if(S(Be)!=="object")return typeof Be=="number"&&n(Be)&&n(Me);if(S(Me)!=="object"||Be===null||Me===null||Object.getPrototypeOf(Be)!==Object.getPrototypeOf(Me))return!1}else{if(Be===null||S(Be)!=="object")return Me===null||S(Me)!=="object"?Be==Me:!1;if(Me===null||S(Me)!=="object")return!1}var Ne=y(Be),Ce=y(Me);if(Ne!==Ce)return!1;if(Array.isArray(Be)){if(Be.length!==Me.length)return!1;var Ye=F(Be),rt=F(Me);return Ye.length!==rt.length?!1:ue(Be,Me,Oe,_e,j,Ye)}if(Ne==="[object Object]"&&(!d(Be)&&d(Me)||!w(Be)&&w(Me)))return!1;if(i(Be)){if(!i(Me)||Date.prototype.getTime.call(Be)!==Date.prototype.getTime.call(Me))return!1}else if(x(Be)){if(!x(Me)||!oe(Be,Me))return!1}else if(_(Be)||Be instanceof Error){if(Be.message!==Me.message||Be.name!==Me.name)return!1}else if(c(Be)){if(!Oe&&(N(Be)||k(Be))){if(!he(Be,Me))return!1}else if(!ne(Be,Me))return!1;var ot=F(Be),$e=F(Me);return ot.length!==$e.length?!1:ue(Be,Me,Oe,_e,W,ot)}else{if(w(Be))return!w(Me)||Be.size!==Me.size?!1:ue(Be,Me,Oe,_e,ee);if(d(Be))return!d(Me)||Be.size!==Me.size?!1:ue(Be,Me,Oe,_e,ie);if(T(Be)){if(!q(Be,Me))return!1}else if(m(Be)&&!le(Be,Me))return!1}return ue(Be,Me,Oe,_e,W)}function te(Be,Me){return Me.filter(function(Oe){return l(Be,Oe)})}function ue(Be,Me,Oe,_e,Ne,Ce){if(arguments.length===5){Ce=Object.keys(Be);var Ye=Object.keys(Me);if(Ce.length!==Ye.length)return!1}for(var rt=0;rt<Ce.length;rt++)if(!u(Me,Ce[rt]))return!1;if(Oe&&arguments.length===5){var ot=a(Be);if(ot.length!==0){var $e=0;for(rt=0;rt<ot.length;rt++){var qe=ot[rt];if(l(Be,qe)){if(!l(Me,qe))return!1;Ce.push(qe),$e++}else if(l(Me,qe))return!1}var ht=a(Me);if(ot.length!==ht.length&&te(Me,ht).length!==$e)return!1}else{var vt=a(Me);if(vt.length!==0&&te(Me,vt).length!==0)return!1}}if(Ce.length===0&&(Ne===W||Ne===j&&Be.length===0||Be.size===0))return!0;if(_e===void 0)_e={val1:new Map,val2:new Map,position:0};else{var pt=_e.val1.get(Be);if(pt!==void 0){var wt=_e.val2.get(Me);if(wt!==void 0)return pt===wt}_e.position++}_e.val1.set(Be,_e.position),_e.val2.set(Me,_e.position);var Mt=Te(Be,Me,Oe,Ce,_e,Ne);return _e.val1.delete(Be),_e.val2.delete(Me),Mt}function J(Be,Me,Oe,_e){for(var Ne=g(Be),Ce=0;Ce<Ne.length;Ce++){var Ye=Ne[Ce];if(Q(Me,Ye,Oe,_e))return Be.delete(Ye),!0}return!1}function K(Be){switch(S(Be)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Be=+Be;case"number":if(n(Be))return!1}return!0}function ce(Be,Me,Oe){var _e=K(Oe);return _e??(Me.has(_e)&&!Be.has(_e))}function ae(Be,Me,Oe,_e,Ne){var Ce=K(Oe);if(Ce!=null)return Ce;var Ye=Me.get(Ce);return Ye===void 0&&!Me.has(Ce)||!Q(_e,Ye,!1,Ne)?!1:!Be.has(Ce)&&Q(_e,Ye,!1,Ne)}function de(Be,Me,Oe,_e){for(var Ne=null,Ce=g(Be),Ye=0;Ye<Ce.length;Ye++){var rt=Ce[Ye];if(S(rt)==="object"&&rt!==null)Ne===null&&(Ne=new Set),Ne.add(rt);else if(!Me.has(rt)){if(Oe||!ce(Be,Me,rt))return!1;Ne===null&&(Ne=new Set),Ne.add(rt)}}if(Ne!==null){for(var ot=g(Me),$e=0;$e<ot.length;$e++){var qe=ot[$e];if(S(qe)==="object"&&qe!==null){if(!J(Ne,qe,Oe,_e))return!1}else if(!Oe&&!Be.has(qe)&&!J(Ne,qe,Oe,_e))return!1}return Ne.size===0}return!0}function be(Be,Me,Oe,_e,Ne,Ce){for(var Ye=g(Be),rt=0;rt<Ye.length;rt++){var ot=Ye[rt];if(Q(Oe,ot,Ne,Ce)&&Q(_e,Me.get(ot),Ne,Ce))return Be.delete(ot),!0}return!1}function Se(Be,Me,Oe,_e){for(var Ne=null,Ce=r(Be),Ye=0;Ye<Ce.length;Ye++){var rt=p(Ce[Ye],2),ot=rt[0],$e=rt[1];if(S(ot)==="object"&&ot!==null)Ne===null&&(Ne=new Set),Ne.add(ot);else{var qe=Me.get(ot);if(qe===void 0&&!Me.has(ot)||!Q($e,qe,Oe,_e)){if(Oe||!ae(Be,Me,ot,$e,_e))return!1;Ne===null&&(Ne=new Set),Ne.add(ot)}}}if(Ne!==null){for(var ht=r(Me),vt=0;vt<ht.length;vt++){var pt=p(ht[vt],2),ot=pt[0],wt=pt[1];if(S(ot)==="object"&&ot!==null){if(!be(Ne,Be,ot,wt,Oe,_e))return!1}else if(!Oe&&(!Be.has(ot)||!Q(Be.get(ot),wt,!1,_e))&&!be(Ne,Be,ot,wt,!1,_e))return!1}return Ne.size===0}return!0}function Te(Be,Me,Oe,_e,Ne,Ce){var Ye=0;if(Ce===ee){if(!de(Be,Me,Oe,Ne))return!1}else if(Ce===ie){if(!Se(Be,Me,Oe,Ne))return!1}else if(Ce===j)for(;Ye<Be.length;Ye++)if(u(Be,Ye)){if(!u(Me,Ye)||!Q(Be[Ye],Me[Ye],Oe,Ne))return!1}else{if(u(Me,Ye))return!1;for(var rt=Object.keys(Be);Ye<rt.length;Ye++){var ot=rt[Ye];if(!u(Me,ot)||!Q(Be[ot],Me[ot],Oe,Ne))return!1}return rt.length===Object.keys(Me).length}for(Ye=0;Ye<_e.length;Ye++){var $e=_e[Ye];if(!Q(Be[$e],Me[$e],Oe,Ne))return!1}return!0}function Ie(Be,Me){return Q(Be,Me,z)}function ke(Be,Me){return Q(Be,Me,U)}V.exports={isDeepEqual:Ie,isDeepStrictEqual:ke}},83160:function(V,Y,e){e.r(Y),e.d(Y,{decode:function(){return S},encode:function(){return C}});for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=typeof Uint8Array>"u"?[]:new Uint8Array(256),o=0;o<p.length;o++)L[p.charCodeAt(o)]=o;var C=function(v){var g=new Uint8Array(v),r,t=g.length,a="";for(r=0;r<t;r+=3)a+=p[g[r]>>2],a+=p[(g[r]&3)<<4|g[r+1]>>4],a+=p[(g[r+1]&15)<<2|g[r+2]>>6],a+=p[g[r+2]&63];return t%3===2?a=a.substring(0,a.length-1)+"=":t%3===1&&(a=a.substring(0,a.length-2)+"=="),a},S=function(v){var g=v.length*.75,r=v.length,t,a=0,n,f,u,l;v[v.length-1]==="="&&(g--,v[v.length-2]==="="&&g--);var y=new ArrayBuffer(g),h=new Uint8Array(y);for(t=0;t<r;t+=4)n=L[v.charCodeAt(t)],f=L[v.charCodeAt(t+1)],u=L[v.charCodeAt(t+2)],l=L[v.charCodeAt(t+3)],h[a++]=n<<2|f>>4,h[a++]=(f&15)<<4|u>>2,h[a++]=(u&3)<<6|l&63;return y}},59968:function(V,Y){Y.byteLength=g,Y.toByteArray=t,Y.fromByteArray=f;for(var e=[],p=[],L=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,S=o.length;C<S;++C)e[C]=o[C],p[o.charCodeAt(C)]=C;p[45]=62,p[95]=63;function v(u){var l=u.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=u.indexOf("=");y===-1&&(y=l);var h=y===l?0:4-y%4;return[y,h]}function g(u){var l=v(u),y=l[0],h=l[1];return(y+h)*3/4-h}function r(u,l,y){return(l+y)*3/4-y}function t(u){var l,y=v(u),h=y[0],T=y[1],c=new L(r(u,h,T)),i=0,d=T>0?h-4:h,x;for(x=0;x<d;x+=4)l=p[u.charCodeAt(x)]<<18|p[u.charCodeAt(x+1)]<<12|p[u.charCodeAt(x+2)]<<6|p[u.charCodeAt(x+3)],c[i++]=l>>16&255,c[i++]=l>>8&255,c[i++]=l&255;return T===2&&(l=p[u.charCodeAt(x)]<<2|p[u.charCodeAt(x+1)]>>4,c[i++]=l&255),T===1&&(l=p[u.charCodeAt(x)]<<10|p[u.charCodeAt(x+1)]<<4|p[u.charCodeAt(x+2)]>>2,c[i++]=l>>8&255,c[i++]=l&255),c}function a(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function n(u,l,y){for(var h,T=[],c=l;c<y;c+=3)h=(u[c]<<16&16711680)+(u[c+1]<<8&65280)+(u[c+2]&255),T.push(a(h));return T.join("")}function f(u){for(var l,y=u.length,h=y%3,T=[],c=16383,i=0,d=y-h;i<d;i+=c)T.push(n(u,i,i+c>d?d:i+c));return h===1?(l=u[y-1],T.push(e[l>>2]+e[l<<4&63]+"==")):h===2&&(l=(u[y-2]<<8)+u[y-1],T.push(e[l>>10]+e[l>>4&63]+e[l<<2&63]+"=")),T.join("")}},64928:function(V){function Y(S,v,g,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=g!==void 0?g(f,v):f-v;u>=0?(a=n,t=n-1):r=n+1}return a}function e(S,v,g,r,t){for(var a=t+1;r<=t;){var n=r+t>>>1,f=S[n],u=g!==void 0?g(f,v):f-v;u>0?(a=n,t=n-1):r=n+1}return a}function p(S,v,g,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=g!==void 0?g(f,v):f-v;u<0?(a=n,r=n+1):t=n-1}return a}function L(S,v,g,r,t){for(var a=r-1;r<=t;){var n=r+t>>>1,f=S[n],u=g!==void 0?g(f,v):f-v;u<=0?(a=n,r=n+1):t=n-1}return a}function o(S,v,g,r,t){for(;r<=t;){var a=r+t>>>1,n=S[a],f=g!==void 0?g(n,v):n-v;if(f===0)return a;f<=0?r=a+1:t=a-1}return-1}function C(S,v,g,r,t,a){return typeof g=="function"?a(S,v,g,r===void 0?0:r|0,t===void 0?S.length-1:t|0):a(S,v,void 0,g===void 0?0:g|0,r===void 0?S.length-1:r|0)}V.exports={ge:function(S,v,g,r,t){return C(S,v,g,r,t,Y)},gt:function(S,v,g,r,t){return C(S,v,g,r,t,e)},lt:function(S,v,g,r,t){return C(S,v,g,r,t,p)},le:function(S,v,g,r,t){return C(S,v,g,r,t,L)},eq:function(S,v,g,r,t){return C(S,v,g,r,t,o)}}},308:function(V,Y){"use restrict";var e=32;Y.INT_BITS=e,Y.INT_MAX=2147483647,Y.INT_MIN=-1<<e-1,Y.sign=function(o){return(o>0)-(o<0)},Y.abs=function(o){var C=o>>e-1;return(o^C)-C},Y.min=function(o,C){return C^(o^C)&-(o<C)},Y.max=function(o,C){return o^(o^C)&-(o<C)},Y.isPow2=function(o){return!(o&o-1)&&!!o},Y.log2=function(o){var C,S;return C=(o>65535)<<4,o>>>=C,S=(o>255)<<3,o>>>=S,C|=S,S=(o>15)<<2,o>>>=S,C|=S,S=(o>3)<<1,o>>>=S,C|=S,C|o>>1},Y.log10=function(o){return o>=1e9?9:o>=1e8?8:o>=1e7?7:o>=1e6?6:o>=1e5?5:o>=1e4?4:o>=1e3?3:o>=100?2:o>=10?1:0},Y.popCount=function(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),(o+(o>>>4)&252645135)*16843009>>>24};function p(o){var C=32;return o&=-o,o&&C--,o&65535&&(C-=16),o&16711935&&(C-=8),o&252645135&&(C-=4),o&858993459&&(C-=2),o&1431655765&&(C-=1),C}Y.countTrailingZeros=p,Y.nextPow2=function(o){return o+=o===0,--o,o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o+1},Y.prevPow2=function(o){return o|=o>>>1,o|=o>>>2,o|=o>>>4,o|=o>>>8,o|=o>>>16,o-(o>>>1)},Y.parity=function(o){return o^=o>>>16,o^=o>>>8,o^=o>>>4,o&=15,27030>>>o&1};var L=new Array(256);(function(o){for(var C=0;C<256;++C){var S=C,v=C,g=7;for(S>>>=1;S;S>>>=1)v<<=1,v|=S&1,--g;o[C]=v<<g&255}})(L),Y.reverse=function(o){return L[o&255]<<24|L[o>>>8&255]<<16|L[o>>>16&255]<<8|L[o>>>24&255]},Y.interleave2=function(o,C){return o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,o|C<<1},Y.deinterleave2=function(o,C){return o=o>>>C&1431655765,o=(o|o>>>1)&858993459,o=(o|o>>>2)&252645135,o=(o|o>>>4)&16711935,o=(o|o>>>16)&65535,o<<16>>16},Y.interleave3=function(o,C,S){return o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,o|=C<<1,S&=1023,S=(S|S<<16)&4278190335,S=(S|S<<8)&251719695,S=(S|S<<4)&3272356035,S=(S|S<<2)&1227133513,o|S<<2},Y.deinterleave3=function(o,C){return o=o>>>C&1227133513,o=(o|o>>>2)&3272356035,o=(o|o>>>4)&251719695,o=(o|o>>>8)&4278190335,o=(o|o>>>16)&1023,o<<22>>22},Y.nextCombination=function(o){var C=o|o-1;return C+1|(~C&-~C)-1>>>p(o)+1}},29620:function(V,Y,e){var p=e(32420);V.exports=o;var L=1e20;function o(v,g){g||(g={});var r=g.cutoff==null?.25:g.cutoff,t=g.radius==null?8:g.radius,a=g.channel||0,n,f,u,l,y,h,T,c,i,d,x;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");n=g.width,f=g.height,l=v,g.stride?h=g.stride:h=Math.floor(v.length/n/f)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(c=v,T=c.getContext("2d"),n=c.width,f=c.height,i=T.getImageData(0,0,n,f),l=i.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(c=v.canvas,T=v,n=c.width,f=c.height,i=T.getImageData(0,0,n,f),l=i.data,h=4):window.ImageData&&v instanceof window.ImageData&&(i=v,n=v.width,f=v.height,l=i.data,h=4);if(u=Math.max(n,f),window.Uint8ClampedArray&&l instanceof window.Uint8ClampedArray||window.Uint8Array&&l instanceof window.Uint8Array)for(y=l,l=Array(n*f),d=0,x=y.length;d<x;d++)l[d]=y[d*h+a]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(n*f),_=Array(n*f),m=Array(u),E=Array(u),A=Array(u+1),s=Array(u);for(d=0,x=n*f;d<x;d++){var M=l[d];w[d]=M===1?0:M===0?L:Math.pow(Math.max(0,.5-M),2),_[d]=M===1?L:M===0?0:Math.pow(Math.max(0,M-.5),2)}C(w,n,f,m,E,s,A),C(_,n,f,m,E,s,A);var b=window.Float32Array?new Float32Array(n*f):new Array(n*f);for(d=0,x=n*f;d<x;d++)b[d]=p(1-((w[d]-_[d])/t+r),0,1);return b}function C(v,g,r,t,a,n,f){for(var u=0;u<g;u++){for(var l=0;l<r;l++)t[l]=v[l*g+u];for(S(t,a,n,f,r),l=0;l<r;l++)v[l*g+u]=a[l]}for(l=0;l<r;l++){for(u=0;u<g;u++)t[u]=v[l*g+u];for(S(t,a,n,f,g),u=0;u<g;u++)v[l*g+u]=Math.sqrt(a[u])}}function S(v,g,r,t,a){r[0]=0,t[0]=-L,t[1]=+L;for(var n=1,f=0;n<a;n++){for(var u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);u<=t[f];)f--,u=(v[n]+n*n-(v[r[f]]+r[f]*r[f]))/(2*n-2*r[f]);f++,r[f]=n,t[f]=u,t[f+1]=+L}for(n=0,f=0;n<a;n++){for(;t[f+1]<n;)f++;g[n]=(n-r[f])*(n-r[f])+v[r[f]]}}},99676:function(V,Y,e){var p=e(53664),L=e(57916),o=L(p("String.prototype.indexOf"));V.exports=function(S,v){var g=p(S,!!v);return typeof g=="function"&&o(S,".prototype.")>-1?L(g):g}},57916:function(V,Y,e){var p=e(8844),L=e(53664),o=e(14500),C=L("%TypeError%"),S=L("%Function.prototype.apply%"),v=L("%Function.prototype.call%"),g=L("%Reflect.apply%",!0)||p.call(v,S),r=L("%Object.defineProperty%",!0),t=L("%Math.max%");if(r)try{r({},"a",{value:1})}catch{r=null}V.exports=function(f){if(typeof f!="function")throw new C("a function is required");var u=g(p,v,arguments);return o(u,1+t(0,f.length-(arguments.length-1)),!0)};var a=function(){return g(p,S,arguments)};r?r(V.exports,"apply",{value:a}):V.exports.apply=a},32420:function(V){V.exports=Y;function Y(e,p,L){return p<L?e<p?p:e>L?L:e:e<L?L:e>p?p:e}},3808:function(V,Y,e){var p=e(32420);V.exports=L,V.exports.to=L,V.exports.from=o;function L(C,S){S==null&&(S=!0);var v=C[0],g=C[1],r=C[2],t=C[3];t==null&&(t=S?1:255),S&&(v*=255,g*=255,r*=255,t*=255),v=p(v,0,255)&255,g=p(g,0,255)&255,r=p(r,0,255)&255,t=p(t,0,255)&255;var a=v*16777216+(g<<16)+(r<<8)+t;return a}function o(C,S){C=+C;var v=C>>>24,g=(C&16711680)>>>16,r=(C&65280)>>>8,t=C&255;return S===!1?[v,g,r,t]:[v/255,g/255,r/255,t/255]}},17592:function(V){V.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(V,Y,e){var p=e(96824),L=e(32420),o=e(72512);V.exports=function(v,g){(g==="float"||!g)&&(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var r=o(g),t=new r(4),a=g!=="uint8"&&g!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=p(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:255,a&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(a?(t[0]=v[0],t[1]=v[1],t[2]=v[2],t[3]=v[3]!=null?v[3]:1):(t[0]=L(Math.floor(v[0]*255),0,255),t[1]=L(Math.floor(v[1]*255),0,255),t[2]=L(Math.floor(v[2]*255),0,255),t[3]=v[3]==null?255:L(Math.floor(v[3]*255),0,255)),t)};function C(S){return!!(S instanceof Uint8Array||S instanceof Uint8ClampedArray||Array.isArray(S)&&(S[0]>1||S[0]===0)&&(S[1]>1||S[1]===0)&&(S[2]>1||S[2]===0)&&(!S[3]||S[3]>1))}},96824:function(V,Y,e){var p=e(95532),L=e(53576),o=e(32420);V.exports=function(S){var v,g=p(S);return g.space?(v=Array(3),v[0]=o(g.values[0],0,255),v[1]=o(g.values[1],0,255),v[2]=o(g.values[2],0,255),g.space[0]==="h"&&(v=L.rgb(v)),v.push(o(g.alpha,0,1)),v):[]}},95532:function(V,Y,e){var p=e(17592);V.exports=o;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function o(C){var S,v=[],g=1,r;if(typeof C=="string")if(C=C.toLowerCase(),p[C])v=p[C].slice(),r="rgb";else if(C==="transparent")g=0,r="rgb",v=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(C)){var t=C.slice(1),a=t.length,n=a<=4;g=1,n?(v=[parseInt(t[0]+t[0],16),parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16)],a===4&&(g=parseInt(t[3]+t[3],16)/255)):(v=[parseInt(t[0]+t[1],16),parseInt(t[2]+t[3],16),parseInt(t[4]+t[5],16)],a===8&&(g=parseInt(t[6]+t[7],16)/255)),v[0]||(v[0]=0),v[1]||(v[1]=0),v[2]||(v[2]=0),r="rgb"}else if(S=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(C)){var f=S[1],u=f==="rgb",t=f.replace(/a$/,"");r=t;var a=t==="cmyk"?4:t==="gray"?1:3;v=S[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(h,T){if(/%$/.test(h))return T===a?parseFloat(h)/100:t==="rgb"?parseFloat(h)*255/100:parseFloat(h);if(t[T]==="h"){if(/deg$/.test(h))return parseFloat(h);if(L[h]!==void 0)return L[h]}return parseFloat(h)}),f===t&&v.push(1),g=u||v[a]===void 0?1:v[a],v=v.slice(0,a)}else C.length>10&&/[0-9](?:\s|\/)/.test(C)&&(v=C.match(/([0-9]+)/g).map(function(l){return parseFloat(l)}),r=C.match(/([a-z])/ig).join("").toLowerCase());else isNaN(C)?Array.isArray(C)||C.length?(v=[C[0],C[1],C[2]],r="rgb",g=C.length===4?C[3]:1):C instanceof Object&&(C.r!=null||C.red!=null||C.R!=null?(r="rgb",v=[C.r||C.red||C.R||0,C.g||C.green||C.G||0,C.b||C.blue||C.B||0]):(r="hsl",v=[C.h||C.hue||C.H||0,C.s||C.saturation||C.S||0,C.l||C.lightness||C.L||C.b||C.brightness]),g=C.a||C.alpha||C.opacity||1,C.opacity!=null&&(g/=100)):(r="rgb",v=[C>>>16,(C&65280)>>>8,C&255]);return{space:r,values:v,alpha:g}}},53576:function(V,Y,e){var p=e(19336);V.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var o=L[0]/360,C=L[1]/100,S=L[2]/100,v,g,r,t,a;if(C===0)return a=S*255,[a,a,a];S<.5?g=S*(1+C):g=S+C-S*C,v=2*S-g,t=[0,0,0];for(var n=0;n<3;n++)r=o+.3333333333333333*-(n-1),r<0?r++:r>1&&r--,6*r<1?a=v+(g-v)*6*r:2*r<1?a=g:3*r<2?a=v+(g-v)*(.6666666666666666-r)*6:a=v,t[n]=a*255;return t}},p.hsl=function(L){var o=L[0]/255,C=L[1]/255,S=L[2]/255,v=Math.min(o,C,S),g=Math.max(o,C,S),r=g-v,t,a,n;return g===v?t=0:o===g?t=(C-S)/r:C===g?t=2+(S-o)/r:S===g&&(t=4+(o-C)/r),t=Math.min(t*60,360),t<0&&(t+=360),n=(v+g)/2,g===v?a=0:n<=.5?a=r/(g+v):a=r/(2-g-v),[t,a*100,n*100]}},19336:function(V){V.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(V){V.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(V,Y,e){V.exports={parse:e(46416),stringify:e(49395)}},8744:function(V,Y,e){var p=e(30584);V.exports={isSize:function(o){return/^[\d\.]/.test(o)||o.indexOf("/")!==-1||p.indexOf(o)!==-1}}},46416:function(V,Y,e){var p=e(92384),L=e(68194),o=e(3748),C=e(2904),S=e(47916),v=e(7294),g=e(39956),r=e(8744).isSize;V.exports=a;var t=a.cache={};function a(f){if(typeof f!="string")throw new Error("Font argument must be a string.");if(t[f])return t[f];if(f==="")throw new Error("Cannot parse an empty string.");if(o.indexOf(f)!==-1)return t[f]={system:f};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},l=g(f,/\s+/),y;y=l.shift();){if(L.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(T){u[T]=y}),t[f]=u;if(S.indexOf(y)!==-1){u.style=y;continue}if(y==="normal"||y==="small-caps"){u.variant=y;continue}if(v.indexOf(y)!==-1){u.stretch=y;continue}if(C.indexOf(y)!==-1){u.weight=y;continue}if(r(y)){var h=g(y,"/");if(u.size=h[0],h[1]!=null?u.lineHeight=n(h[1]):l[0]==="/"&&(l.shift(),u.lineHeight=n(l.shift())),!l.length)throw new Error("Missing required font-family.");return u.family=g(l.join(" "),/\s*,\s*/).map(p),t[f]=u}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function n(f){var u=parseFloat(f);return u.toString()===f?u:f}},49395:function(V,Y,e){var p=e(55616),L=e(8744).isSize,o=f(e(68194)),C=f(e(3748)),S=f(e(2904)),v=f(e(47916)),g=f(e(7294)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},a={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};V.exports=function(l){if(l=p(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),l.system)return l.system&&n(l.system,C),l.system;if(n(l.style,v),n(l.variant,r),n(l.weight,S),n(l.stretch,g),l.size==null&&(l.size=a.size),typeof l.size=="number"&&(l.size+="px"),!L)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=a.family),Array.isArray(l.family)&&(l.family.length||(l.family=[a.family]),l.family=l.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var y=[];return y.push(l.style),l.variant!==l.style&&y.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&y.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&y.push(l.stretch),y.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),y.push(l.family),y.filter(Boolean).join(" ")};function n(u,l){if(u&&!l[u]&&!o[u])throw Error("Unknown keyword `"+u+"`");return u}function f(u){for(var l={},y=0;y<u.length;y++)l[u[y]]=1;return l}},27940:function(V,Y,e){var p=e(81680),L=e(18496),o=e(87396),C=e(95920),S=e(50868),v=e(84323),g=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,a;a=function(n,f,u){var l=L(f)&&o(f.value),y;return y=C(f),delete y.writable,delete y.value,y.get=function(){return!u.overwriteDefinition&&t.call(this,n)?l:(f.value=g.call(l,u.resolveContext?u.resolveContext(this):this),r(this,n,f),this[n])},y},V.exports=function(n){var f=S(arguments[1]);return p(f.resolveContext)&&o(f.resolveContext),v(n,function(u,l){return a(l,u,f)})}},21092:function(V,Y,e){var p=e(81680),L=e(85488),o=e(38452),C=e(50868),S=e(71056),v=V.exports=function(g,r){var t,a,n,f,u;return arguments.length<2||typeof g!="string"?(f=r,r=g,g=null):f=arguments[2],p(g)?(t=S.call(g,"c"),a=S.call(g,"e"),n=S.call(g,"w")):(t=n=!0,a=!1),u={value:r,configurable:t,enumerable:a,writable:n},f?o(C(f),u):u};v.gs=function(g,r,t){var a,n,f,u;return typeof g!="string"?(f=t,t=r,r=g,g=null):f=arguments[3],p(r)?L(r)?p(t)?L(t)||(f=t,t=void 0):t=void 0:(f=r,r=t=void 0):r=void 0,p(g)?(a=S.call(g,"c"),n=S.call(g,"e")):(a=!0,n=!1),u={get:r,set:t,configurable:a,enumerable:n},f?o(C(f),u):u}},84706:function(V,Y,e){e.d(Y,{XE:function(){return p},kv:function(){return C},mo:function(){return v},Uf:function(){return g},SY:function(){return r},ik:function(){return t},oh:function(){return a}});function p(n,f){return n<f?-1:n>f?1:n>=f?0:NaN}function L(n){return n.length===1&&(n=o(n)),{left:function(f,u,l,y){for(l==null&&(l=0),y==null&&(y=f.length);l<y;){var h=l+y>>>1;n(f[h],u)<0?l=h+1:y=h}return l},right:function(f,u,l,y){for(l==null&&(l=0),y==null&&(y=f.length);l<y;){var h=l+y>>>1;n(f[h],u)>0?y=h:l=h+1}return l}}}function o(n){return function(f,u){return p(n(f),u)}}L(p);function C(n,f){var u=n.length,l=-1,y,h;if(f==null){for(;++l<u;)if((y=n[l])!=null&&y>=y)for(h=y;++l<u;)(y=n[l])!=null&&y>h&&(h=y)}else for(;++l<u;)if((y=f(n[l],l,n))!=null&&y>=y)for(h=y;++l<u;)(y=f(n[l],l,n))!=null&&y>h&&(h=y);return h}function S(n){return n===null?NaN:+n}function v(n,f){var u=n.length,l=u,y=-1,h,T=0;if(f==null)for(;++y<u;)isNaN(h=S(n[y]))?--l:T+=h;else for(;++y<u;)isNaN(h=S(f(n[y],y,n)))?--l:T+=h;if(l)return T/l}function g(n){for(var f=n.length,u,l=-1,y=0,h,T;++l<f;)y+=n[l].length;for(h=new Array(y);--f>=0;)for(T=n[f],u=T.length;--u>=0;)h[--y]=T[u];return h}function r(n,f){var u=n.length,l=-1,y,h;if(f==null){for(;++l<u;)if((y=n[l])!=null&&y>=y)for(h=y;++l<u;)(y=n[l])!=null&&h>y&&(h=y)}else for(;++l<u;)if((y=f(n[l],l,n))!=null&&y>=y)for(h=y;++l<u;)(y=f(n[l],l,n))!=null&&h>y&&(h=y);return h}function t(n,f,u){n=+n,f=+f,u=(y=arguments.length)<2?(f=n,n=0,1):y<3?1:+u;for(var l=-1,y=Math.max(0,Math.ceil((f-n)/u))|0,h=new Array(y);++l<y;)h[l]=n+l*u;return h}function a(n,f){var u=n.length,l=-1,y,h=0;if(f==null)for(;++l<u;)(y=+n[l])&&(h+=y);else for(;++l<u;)(y=+f(n[l],l,n))&&(h+=y);return h}},34712:function(V,Y,e){e.d(Y,{kH:function(){return C},UJ:function(){return S}});var p="$";function L(){}L.prototype=o.prototype={constructor:L,has:function(f){return p+f in this},get:function(f){return this[p+f]},set:function(f,u){return this[p+f]=u,this},remove:function(f){var u=p+f;return u in this&&delete this[u]},clear:function(){for(var f in this)f[0]===p&&delete this[f]},keys:function(){var f=[];for(var u in this)u[0]===p&&f.push(u.slice(1));return f},values:function(){var f=[];for(var u in this)u[0]===p&&f.push(this[u]);return f},entries:function(){var f=[];for(var u in this)u[0]===p&&f.push({key:u.slice(1),value:this[u]});return f},size:function(){var f=0;for(var u in this)u[0]===p&&++f;return f},empty:function(){for(var f in this)if(f[0]===p)return!1;return!0},each:function(f){for(var u in this)u[0]===p&&f(this[u],u.slice(1),this)}};function o(f,u){var l=new L;if(f instanceof L)f.each(function(i,d){l.set(d,i)});else if(Array.isArray(f)){var y=-1,h=f.length,T;if(u==null)for(;++y<h;)l.set(y,f[y]);else for(;++y<h;)l.set(u(T=f[y],y,f),T)}else if(f)for(var c in f)l.set(c,f[c]);return l}var C=o;function S(){var f=[],u=[],l,y,h;function T(i,d,x,w){if(d>=f.length)return l!=null&&i.sort(l),y!=null?y(i):i;for(var _=-1,m=i.length,E=f[d++],A,s,M=C(),b,N=x();++_<m;)(b=M.get(A=E(s=i[_])+""))?b.push(s):M.set(A,[s]);return M.each(function(k,H){w(N,H,T(k,d,x,w))}),N}function c(i,d){if(++d>f.length)return i;var x,w=u[d-1];return y!=null&&d>=f.length?x=i.entries():(x=[],i.each(function(_,m){x.push({key:m,values:c(_,d)})})),w!=null?x.sort(function(_,m){return w(_.key,m.key)}):x}return h={object:function(i){return T(i,0,v,g)},map:function(i){return T(i,0,r,t)},entries:function(i){return c(T(i,0,r,t),0)},key:function(i){return f.push(i),h},sortKeys:function(i){return u[f.length-1]=i,h},sortValues:function(i){return l=i,h},rollup:function(i){return y=i,h}}}function v(){return{}}function g(f,u,l){f[u]=l}function r(){return C()}function t(f,u,l){f.set(u,l)}function a(){}var n=C.prototype;a.prototype={constructor:a,has:n.has,add:function(f){return f+="",this[p+f]=f,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49812:function(V,Y,e){e.r(Y),e.d(Y,{forceCenter:function(){return p},forceCollide:function(){return M},forceLink:function(){return H},forceManyBody:function(){return Ye},forceRadial:function(){return rt},forceSimulation:function(){return Ce},forceX:function(){return ot},forceY:function(){return $e}});function p(qe,ht){var vt;qe==null&&(qe=0),ht==null&&(ht=0);function pt(){var wt,Mt=vt.length,nt,Fe=0,We=0;for(wt=0;wt<Mt;++wt)nt=vt[wt],Fe+=nt.x,We+=nt.y;for(Fe=Fe/Mt-qe,We=We/Mt-ht,wt=0;wt<Mt;++wt)nt=vt[wt],nt.x-=Fe,nt.y-=We}return pt.initialize=function(wt){vt=wt},pt.x=function(wt){return arguments.length?(qe=+wt,pt):qe},pt.y=function(wt){return arguments.length?(ht=+wt,pt):ht},pt}function L(qe){return function(){return qe}}function o(){return(Math.random()-.5)*1e-6}function C(qe){var ht=+this._x.call(null,qe),vt=+this._y.call(null,qe);return S(this.cover(ht,vt),ht,vt,qe)}function S(qe,ht,vt,pt){if(isNaN(ht)||isNaN(vt))return qe;var wt,Mt=qe._root,nt={data:pt},Fe=qe._x0,We=qe._y0,Ze=qe._x1,Ge=qe._y1,Pe,Re,je,De,ge,we,Ue,et;if(!Mt)return qe._root=nt,qe;for(;Mt.length;)if((ge=ht>=(Pe=(Fe+Ze)/2))?Fe=Pe:Ze=Pe,(we=vt>=(Re=(We+Ge)/2))?We=Re:Ge=Re,wt=Mt,!(Mt=Mt[Ue=we<<1|ge]))return wt[Ue]=nt,qe;if(je=+qe._x.call(null,Mt.data),De=+qe._y.call(null,Mt.data),ht===je&&vt===De)return nt.next=Mt,wt?wt[Ue]=nt:qe._root=nt,qe;do wt=wt?wt[Ue]=new Array(4):qe._root=new Array(4),(ge=ht>=(Pe=(Fe+Ze)/2))?Fe=Pe:Ze=Pe,(we=vt>=(Re=(We+Ge)/2))?We=Re:Ge=Re;while((Ue=we<<1|ge)===(et=(De>=Re)<<1|je>=Pe));return wt[et]=Mt,wt[Ue]=nt,qe}function v(qe){var ht,vt,pt=qe.length,wt,Mt,nt=new Array(pt),Fe=new Array(pt),We=1/0,Ze=1/0,Ge=-1/0,Pe=-1/0;for(vt=0;vt<pt;++vt)isNaN(wt=+this._x.call(null,ht=qe[vt]))||isNaN(Mt=+this._y.call(null,ht))||(nt[vt]=wt,Fe[vt]=Mt,wt<We&&(We=wt),wt>Ge&&(Ge=wt),Mt<Ze&&(Ze=Mt),Mt>Pe&&(Pe=Mt));if(We>Ge||Ze>Pe)return this;for(this.cover(We,Ze).cover(Ge,Pe),vt=0;vt<pt;++vt)S(this,nt[vt],Fe[vt],qe[vt]);return this}function g(qe,ht){if(isNaN(qe=+qe)||isNaN(ht=+ht))return this;var vt=this._x0,pt=this._y0,wt=this._x1,Mt=this._y1;if(isNaN(vt))wt=(vt=Math.floor(qe))+1,Mt=(pt=Math.floor(ht))+1;else{for(var nt=wt-vt,Fe=this._root,We,Ze;vt>qe||qe>=wt||pt>ht||ht>=Mt;)switch(Ze=(ht<pt)<<1|qe<vt,We=new Array(4),We[Ze]=Fe,Fe=We,nt*=2,Ze){case 0:wt=vt+nt,Mt=pt+nt;break;case 1:vt=wt-nt,Mt=pt+nt;break;case 2:wt=vt+nt,pt=Mt-nt;break;case 3:vt=wt-nt,pt=Mt-nt;break}this._root&&this._root.length&&(this._root=Fe)}return this._x0=vt,this._y0=pt,this._x1=wt,this._y1=Mt,this}function r(){var qe=[];return this.visit(function(ht){if(!ht.length)do qe.push(ht.data);while(ht=ht.next)}),qe}function t(qe){return arguments.length?this.cover(+qe[0][0],+qe[0][1]).cover(+qe[1][0],+qe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function a(qe,ht,vt,pt,wt){this.node=qe,this.x0=ht,this.y0=vt,this.x1=pt,this.y1=wt}function n(qe,ht,vt){var pt,wt=this._x0,Mt=this._y0,nt,Fe,We,Ze,Ge=this._x1,Pe=this._y1,Re=[],je=this._root,De,ge;for(je&&Re.push(new a(je,wt,Mt,Ge,Pe)),vt==null?vt=1/0:(wt=qe-vt,Mt=ht-vt,Ge=qe+vt,Pe=ht+vt,vt*=vt);De=Re.pop();)if(!(!(je=De.node)||(nt=De.x0)>Ge||(Fe=De.y0)>Pe||(We=De.x1)<wt||(Ze=De.y1)<Mt))if(je.length){var we=(nt+We)/2,Ue=(Fe+Ze)/2;Re.push(new a(je[3],we,Ue,We,Ze),new a(je[2],nt,Ue,we,Ze),new a(je[1],we,Fe,We,Ue),new a(je[0],nt,Fe,we,Ue)),(ge=(ht>=Ue)<<1|qe>=we)&&(De=Re[Re.length-1],Re[Re.length-1]=Re[Re.length-1-ge],Re[Re.length-1-ge]=De)}else{var et=qe-+this._x.call(null,je.data),st=ht-+this._y.call(null,je.data),lt=et*et+st*st;if(lt<vt){var Wt=Math.sqrt(vt=lt);wt=qe-Wt,Mt=ht-Wt,Ge=qe+Wt,Pe=ht+Wt,pt=je.data}}return pt}function f(qe){if(isNaN(Ge=+this._x.call(null,qe))||isNaN(Pe=+this._y.call(null,qe)))return this;var ht,vt=this._root,pt,wt,Mt,nt=this._x0,Fe=this._y0,We=this._x1,Ze=this._y1,Ge,Pe,Re,je,De,ge,we,Ue;if(!vt)return this;if(vt.length)for(;;){if((De=Ge>=(Re=(nt+We)/2))?nt=Re:We=Re,(ge=Pe>=(je=(Fe+Ze)/2))?Fe=je:Ze=je,ht=vt,!(vt=vt[we=ge<<1|De]))return this;if(!vt.length)break;(ht[we+1&3]||ht[we+2&3]||ht[we+3&3])&&(pt=ht,Ue=we)}for(;vt.data!==qe;)if(wt=vt,!(vt=vt.next))return this;return(Mt=vt.next)&&delete vt.next,wt?(Mt?wt.next=Mt:delete wt.next,this):ht?(Mt?ht[we]=Mt:delete ht[we],(vt=ht[0]||ht[1]||ht[2]||ht[3])&&vt===(ht[3]||ht[2]||ht[1]||ht[0])&&!vt.length&&(pt?pt[Ue]=vt:this._root=vt),this):(this._root=Mt,this)}function u(qe){for(var ht=0,vt=qe.length;ht<vt;++ht)this.remove(qe[ht]);return this}function l(){return this._root}function y(){var qe=0;return this.visit(function(ht){if(!ht.length)do++qe;while(ht=ht.next)}),qe}function h(qe){var ht=[],vt,pt=this._root,wt,Mt,nt,Fe,We;for(pt&&ht.push(new a(pt,this._x0,this._y0,this._x1,this._y1));vt=ht.pop();)if(!qe(pt=vt.node,Mt=vt.x0,nt=vt.y0,Fe=vt.x1,We=vt.y1)&&pt.length){var Ze=(Mt+Fe)/2,Ge=(nt+We)/2;(wt=pt[3])&&ht.push(new a(wt,Ze,Ge,Fe,We)),(wt=pt[2])&&ht.push(new a(wt,Mt,Ge,Ze,We)),(wt=pt[1])&&ht.push(new a(wt,Ze,nt,Fe,Ge)),(wt=pt[0])&&ht.push(new a(wt,Mt,nt,Ze,Ge))}return this}function T(qe){var ht=[],vt=[],pt;for(this._root&&ht.push(new a(this._root,this._x0,this._y0,this._x1,this._y1));pt=ht.pop();){var wt=pt.node;if(wt.length){var Mt,nt=pt.x0,Fe=pt.y0,We=pt.x1,Ze=pt.y1,Ge=(nt+We)/2,Pe=(Fe+Ze)/2;(Mt=wt[0])&&ht.push(new a(Mt,nt,Fe,Ge,Pe)),(Mt=wt[1])&&ht.push(new a(Mt,Ge,Fe,We,Pe)),(Mt=wt[2])&&ht.push(new a(Mt,nt,Pe,Ge,Ze)),(Mt=wt[3])&&ht.push(new a(Mt,Ge,Pe,We,Ze))}vt.push(pt)}for(;pt=vt.pop();)qe(pt.node,pt.x0,pt.y0,pt.x1,pt.y1);return this}function c(qe){return qe[0]}function i(qe){return arguments.length?(this._x=qe,this):this._x}function d(qe){return qe[1]}function x(qe){return arguments.length?(this._y=qe,this):this._y}function w(qe,ht,vt){var pt=new _(ht??c,vt??d,NaN,NaN,NaN,NaN);return qe==null?pt:pt.addAll(qe)}function _(qe,ht,vt,pt,wt,Mt){this._x=qe,this._y=ht,this._x0=vt,this._y0=pt,this._x1=wt,this._y1=Mt,this._root=void 0}function m(qe){for(var ht={data:qe.data},vt=ht;qe=qe.next;)vt=vt.next={data:qe.data};return ht}var E=w.prototype=_.prototype;E.copy=function(){var qe=new _(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ht=this._root,vt,pt;if(!ht)return qe;if(!ht.length)return qe._root=m(ht),qe;for(vt=[{source:ht,target:qe._root=new Array(4)}];ht=vt.pop();)for(var wt=0;wt<4;++wt)(pt=ht.source[wt])&&(pt.length?vt.push({source:pt,target:ht.target[wt]=new Array(4)}):ht.target[wt]=m(pt));return qe},E.add=C,E.addAll=v,E.cover=g,E.data=r,E.extent=t,E.find=n,E.remove=f,E.removeAll=u,E.root=l,E.size=y,E.visit=h,E.visitAfter=T,E.x=i,E.y=x;function A(qe){return qe.x+qe.vx}function s(qe){return qe.y+qe.vy}function M(qe){var ht,vt,pt=1,wt=1;typeof qe!="function"&&(qe=L(qe==null?1:+qe));function Mt(){for(var We,Ze=ht.length,Ge,Pe,Re,je,De,ge,we=0;we<wt;++we)for(Ge=w(ht,A,s).visitAfter(nt),We=0;We<Ze;++We)Pe=ht[We],De=vt[Pe.index],ge=De*De,Re=Pe.x+Pe.vx,je=Pe.y+Pe.vy,Ge.visit(Ue);function Ue(et,st,lt,Wt,jt){var Tt=et.data,Rt=et.r,Zt=De+Rt;if(Tt){if(Tt.index>Pe.index){var mr=Re-Tt.x-Tt.vx,gt=je-Tt.y-Tt.vy,Kt=mr*mr+gt*gt;Kt<Zt*Zt&&(mr===0&&(mr=o(),Kt+=mr*mr),gt===0&&(gt=o(),Kt+=gt*gt),Kt=(Zt-(Kt=Math.sqrt(Kt)))/Kt*pt,Pe.vx+=(mr*=Kt)*(Zt=(Rt*=Rt)/(ge+Rt)),Pe.vy+=(gt*=Kt)*Zt,Tt.vx-=mr*(Zt=1-Zt),Tt.vy-=gt*Zt)}return}return st>Re+Zt||Wt<Re-Zt||lt>je+Zt||jt<je-Zt}}function nt(We){if(We.data)return We.r=vt[We.data.index];for(var Ze=We.r=0;Ze<4;++Ze)We[Ze]&&We[Ze].r>We.r&&(We.r=We[Ze].r)}function Fe(){if(ht){var We,Ze=ht.length,Ge;for(vt=new Array(Ze),We=0;We<Ze;++We)Ge=ht[We],vt[Ge.index]=+qe(Ge,We,ht)}}return Mt.initialize=function(We){ht=We,Fe()},Mt.iterations=function(We){return arguments.length?(wt=+We,Mt):wt},Mt.strength=function(We){return arguments.length?(pt=+We,Mt):pt},Mt.radius=function(We){return arguments.length?(qe=typeof We=="function"?We:L(+We),Fe(),Mt):qe},Mt}var b=e(34712);function N(qe){return qe.index}function k(qe,ht){var vt=qe.get(ht);if(!vt)throw new Error("missing: "+ht);return vt}function H(qe){var ht=N,vt=Ge,pt,wt=L(30),Mt,nt,Fe,We,Ze=1;qe==null&&(qe=[]);function Ge(ge){return 1/Math.min(Fe[ge.source.index],Fe[ge.target.index])}function Pe(ge){for(var we=0,Ue=qe.length;we<Ze;++we)for(var et=0,st,lt,Wt,jt,Tt,Rt,Zt;et<Ue;++et)st=qe[et],lt=st.source,Wt=st.target,jt=Wt.x+Wt.vx-lt.x-lt.vx||o(),Tt=Wt.y+Wt.vy-lt.y-lt.vy||o(),Rt=Math.sqrt(jt*jt+Tt*Tt),Rt=(Rt-Mt[et])/Rt*ge*pt[et],jt*=Rt,Tt*=Rt,Wt.vx-=jt*(Zt=We[et]),Wt.vy-=Tt*Zt,lt.vx+=jt*(Zt=1-Zt),lt.vy+=Tt*Zt}function Re(){if(nt){var ge,we=nt.length,Ue=qe.length,et=(0,b.kH)(nt,ht),st;for(ge=0,Fe=new Array(we);ge<Ue;++ge)st=qe[ge],st.index=ge,typeof st.source!="object"&&(st.source=k(et,st.source)),typeof st.target!="object"&&(st.target=k(et,st.target)),Fe[st.source.index]=(Fe[st.source.index]||0)+1,Fe[st.target.index]=(Fe[st.target.index]||0)+1;for(ge=0,We=new Array(Ue);ge<Ue;++ge)st=qe[ge],We[ge]=Fe[st.source.index]/(Fe[st.source.index]+Fe[st.target.index]);pt=new Array(Ue),je(),Mt=new Array(Ue),De()}}function je(){if(nt)for(var ge=0,we=qe.length;ge<we;++ge)pt[ge]=+vt(qe[ge],ge,qe)}function De(){if(nt)for(var ge=0,we=qe.length;ge<we;++ge)Mt[ge]=+wt(qe[ge],ge,qe)}return Pe.initialize=function(ge){nt=ge,Re()},Pe.links=function(ge){return arguments.length?(qe=ge,Re(),Pe):qe},Pe.id=function(ge){return arguments.length?(ht=ge,Pe):ht},Pe.iterations=function(ge){return arguments.length?(Ze=+ge,Pe):Ze},Pe.strength=function(ge){return arguments.length?(vt=typeof ge=="function"?ge:L(+ge),je(),Pe):vt},Pe.distance=function(ge){return arguments.length?(wt=typeof ge=="function"?ge:L(+ge),De(),Pe):wt},Pe}var F={value:function(){}};function B(){for(var qe=0,ht=arguments.length,vt={},pt;qe<ht;++qe){if(!(pt=arguments[qe]+"")||pt in vt||/[\s.]/.test(pt))throw new Error("illegal type: "+pt);vt[pt]=[]}return new U(vt)}function U(qe){this._=qe}function z(qe,ht){return qe.trim().split(/^|\s+/).map(function(vt){var pt="",wt=vt.indexOf(".");if(wt>=0&&(pt=vt.slice(wt+1),vt=vt.slice(0,wt)),vt&&!ht.hasOwnProperty(vt))throw new Error("unknown type: "+vt);return{type:vt,name:pt}})}U.prototype=B.prototype={constructor:U,on:function(qe,ht){var vt=this._,pt=z(qe+"",vt),wt,Mt=-1,nt=pt.length;if(arguments.length<2){for(;++Mt<nt;)if((wt=(qe=pt[Mt]).type)&&(wt=W(vt[wt],qe.name)))return wt;return}if(ht!=null&&typeof ht!="function")throw new Error("invalid callback: "+ht);for(;++Mt<nt;)if(wt=(qe=pt[Mt]).type)vt[wt]=j(vt[wt],qe.name,ht);else if(ht==null)for(wt in vt)vt[wt]=j(vt[wt],qe.name,null);return this},copy:function(){var qe={},ht=this._;for(var vt in ht)qe[vt]=ht[vt].slice();return new U(qe)},call:function(qe,ht){if((wt=arguments.length-2)>0)for(var vt=new Array(wt),pt=0,wt,Mt;pt<wt;++pt)vt[pt]=arguments[pt+2];if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(Mt=this._[qe],pt=0,wt=Mt.length;pt<wt;++pt)Mt[pt].value.apply(ht,vt)},apply:function(qe,ht,vt){if(!this._.hasOwnProperty(qe))throw new Error("unknown type: "+qe);for(var pt=this._[qe],wt=0,Mt=pt.length;wt<Mt;++wt)pt[wt].value.apply(ht,vt)}};function W(qe,ht){for(var vt=0,pt=qe.length,wt;vt<pt;++vt)if((wt=qe[vt]).name===ht)return wt.value}function j(qe,ht,vt){for(var pt=0,wt=qe.length;pt<wt;++pt)if(qe[pt].name===ht){qe[pt]=F,qe=qe.slice(0,pt).concat(qe.slice(pt+1));break}return vt!=null&&qe.push({name:ht,value:vt}),qe}var ee=B,ie=0,oe=0,he=0,ne=1e3,q,le,Q=0,te=0,ue=0,J=typeof performance=="object"&&performance.now?performance:Date,K=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(qe){setTimeout(qe,17)};function ce(){return te||(K(ae),te=J.now()+ue)}function ae(){te=0}function de(){this._call=this._time=this._next=null}de.prototype=be.prototype={constructor:de,restart:function(qe,ht,vt){if(typeof qe!="function")throw new TypeError("callback is not a function");vt=(vt==null?ce():+vt)+(ht==null?0:+ht),!this._next&&le!==this&&(le?le._next=this:q=this,le=this),this._call=qe,this._time=vt,Be()},stop:function(){this._call&&(this._call=null,this._time=1/0,Be())}};function be(qe,ht,vt){var pt=new de;return pt.restart(qe,ht,vt),pt}function Se(){ce(),++ie;for(var qe=q,ht;qe;)(ht=te-qe._time)>=0&&qe._call.call(null,ht),qe=qe._next;--ie}function Te(){te=(Q=J.now())+ue,ie=oe=0;try{Se()}finally{ie=0,ke(),te=0}}function Ie(){var qe=J.now(),ht=qe-Q;ht>ne&&(ue-=ht,Q=qe)}function ke(){for(var qe,ht=q,vt,pt=1/0;ht;)ht._call?(pt>ht._time&&(pt=ht._time),qe=ht,ht=ht._next):(vt=ht._next,ht._next=null,ht=qe?qe._next=vt:q=vt);le=qe,Be(pt)}function Be(qe){if(!ie){oe&&(oe=clearTimeout(oe));var ht=qe-te;ht>24?(qe<1/0&&(oe=setTimeout(Te,qe-J.now()-ue)),he&&(he=clearInterval(he))):(he||(Q=J.now(),he=setInterval(Ie,ne)),ie=1,K(Te))}}function Me(qe){return qe.x}function Oe(qe){return qe.y}var _e=10,Ne=Math.PI*(3-Math.sqrt(5));function Ce(qe){var ht,vt=1,pt=.001,wt=1-Math.pow(pt,1/300),Mt=0,nt=.6,Fe=(0,b.kH)(),We=be(Ge),Ze=ee("tick","end");qe==null&&(qe=[]);function Ge(){Pe(),Ze.call("tick",ht),vt<pt&&(We.stop(),Ze.call("end",ht))}function Pe(De){var ge,we=qe.length,Ue;De===void 0&&(De=1);for(var et=0;et<De;++et)for(vt+=(Mt-vt)*wt,Fe.each(function(st){st(vt)}),ge=0;ge<we;++ge)Ue=qe[ge],Ue.fx==null?Ue.x+=Ue.vx*=nt:(Ue.x=Ue.fx,Ue.vx=0),Ue.fy==null?Ue.y+=Ue.vy*=nt:(Ue.y=Ue.fy,Ue.vy=0);return ht}function Re(){for(var De=0,ge=qe.length,we;De<ge;++De){if(we=qe[De],we.index=De,we.fx!=null&&(we.x=we.fx),we.fy!=null&&(we.y=we.fy),isNaN(we.x)||isNaN(we.y)){var Ue=_e*Math.sqrt(De),et=De*Ne;we.x=Ue*Math.cos(et),we.y=Ue*Math.sin(et)}(isNaN(we.vx)||isNaN(we.vy))&&(we.vx=we.vy=0)}}function je(De){return De.initialize&&De.initialize(qe),De}return Re(),ht={tick:Pe,restart:function(){return We.restart(Ge),ht},stop:function(){return We.stop(),ht},nodes:function(De){return arguments.length?(qe=De,Re(),Fe.each(je),ht):qe},alpha:function(De){return arguments.length?(vt=+De,ht):vt},alphaMin:function(De){return arguments.length?(pt=+De,ht):pt},alphaDecay:function(De){return arguments.length?(wt=+De,ht):+wt},alphaTarget:function(De){return arguments.length?(Mt=+De,ht):Mt},velocityDecay:function(De){return arguments.length?(nt=1-De,ht):1-nt},force:function(De,ge){return arguments.length>1?(ge==null?Fe.remove(De):Fe.set(De,je(ge)),ht):Fe.get(De)},find:function(De,ge,we){var Ue=0,et=qe.length,st,lt,Wt,jt,Tt;for(we==null?we=1/0:we*=we,Ue=0;Ue<et;++Ue)jt=qe[Ue],st=De-jt.x,lt=ge-jt.y,Wt=st*st+lt*lt,Wt<we&&(Tt=jt,we=Wt);return Tt},on:function(De,ge){return arguments.length>1?(Ze.on(De,ge),ht):Ze.on(De)}}}function Ye(){var qe,ht,vt,pt=L(-30),wt,Mt=1,nt=1/0,Fe=.81;function We(Re){var je,De=qe.length,ge=w(qe,Me,Oe).visitAfter(Ge);for(vt=Re,je=0;je<De;++je)ht=qe[je],ge.visit(Pe)}function Ze(){if(qe){var Re,je=qe.length,De;for(wt=new Array(je),Re=0;Re<je;++Re)De=qe[Re],wt[De.index]=+pt(De,Re,qe)}}function Ge(Re){var je=0,De,ge,we=0,Ue,et,st;if(Re.length){for(Ue=et=st=0;st<4;++st)(De=Re[st])&&(ge=Math.abs(De.value))&&(je+=De.value,we+=ge,Ue+=ge*De.x,et+=ge*De.y);Re.x=Ue/we,Re.y=et/we}else{De=Re,De.x=De.data.x,De.y=De.data.y;do je+=wt[De.data.index];while(De=De.next)}Re.value=je}function Pe(Re,je,De,ge){if(!Re.value)return!0;var we=Re.x-ht.x,Ue=Re.y-ht.y,et=ge-je,st=we*we+Ue*Ue;if(et*et/Fe<st)return st<nt&&(we===0&&(we=o(),st+=we*we),Ue===0&&(Ue=o(),st+=Ue*Ue),st<Mt&&(st=Math.sqrt(Mt*st)),ht.vx+=we*Re.value*vt/st,ht.vy+=Ue*Re.value*vt/st),!0;if(Re.length||st>=nt)return;(Re.data!==ht||Re.next)&&(we===0&&(we=o(),st+=we*we),Ue===0&&(Ue=o(),st+=Ue*Ue),st<Mt&&(st=Math.sqrt(Mt*st)));do Re.data!==ht&&(et=wt[Re.data.index]*vt/st,ht.vx+=we*et,ht.vy+=Ue*et);while(Re=Re.next)}return We.initialize=function(Re){qe=Re,Ze()},We.strength=function(Re){return arguments.length?(pt=typeof Re=="function"?Re:L(+Re),Ze(),We):pt},We.distanceMin=function(Re){return arguments.length?(Mt=Re*Re,We):Math.sqrt(Mt)},We.distanceMax=function(Re){return arguments.length?(nt=Re*Re,We):Math.sqrt(nt)},We.theta=function(Re){return arguments.length?(Fe=Re*Re,We):Math.sqrt(Fe)},We}function rt(qe,ht,vt){var pt,wt=L(.1),Mt,nt;typeof qe!="function"&&(qe=L(+qe)),ht==null&&(ht=0),vt==null&&(vt=0);function Fe(Ze){for(var Ge=0,Pe=pt.length;Ge<Pe;++Ge){var Re=pt[Ge],je=Re.x-ht||1e-6,De=Re.y-vt||1e-6,ge=Math.sqrt(je*je+De*De),we=(nt[Ge]-ge)*Mt[Ge]*Ze/ge;Re.vx+=je*we,Re.vy+=De*we}}function We(){if(pt){var Ze,Ge=pt.length;for(Mt=new Array(Ge),nt=new Array(Ge),Ze=0;Ze<Ge;++Ze)nt[Ze]=+qe(pt[Ze],Ze,pt),Mt[Ze]=isNaN(nt[Ze])?0:+wt(pt[Ze],Ze,pt)}}return Fe.initialize=function(Ze){pt=Ze,We()},Fe.strength=function(Ze){return arguments.length?(wt=typeof Ze=="function"?Ze:L(+Ze),We(),Fe):wt},Fe.radius=function(Ze){return arguments.length?(qe=typeof Ze=="function"?Ze:L(+Ze),We(),Fe):qe},Fe.x=function(Ze){return arguments.length?(ht=+Ze,Fe):ht},Fe.y=function(Ze){return arguments.length?(vt=+Ze,Fe):vt},Fe}function ot(qe){var ht=L(.1),vt,pt,wt;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function Mt(Fe){for(var We=0,Ze=vt.length,Ge;We<Ze;++We)Ge=vt[We],Ge.vx+=(wt[We]-Ge.x)*pt[We]*Fe}function nt(){if(vt){var Fe,We=vt.length;for(pt=new Array(We),wt=new Array(We),Fe=0;Fe<We;++Fe)pt[Fe]=isNaN(wt[Fe]=+qe(vt[Fe],Fe,vt))?0:+ht(vt[Fe],Fe,vt)}}return Mt.initialize=function(Fe){vt=Fe,nt()},Mt.strength=function(Fe){return arguments.length?(ht=typeof Fe=="function"?Fe:L(+Fe),nt(),Mt):ht},Mt.x=function(Fe){return arguments.length?(qe=typeof Fe=="function"?Fe:L(+Fe),nt(),Mt):qe},Mt}function $e(qe){var ht=L(.1),vt,pt,wt;typeof qe!="function"&&(qe=L(qe==null?0:+qe));function Mt(Fe){for(var We=0,Ze=vt.length,Ge;We<Ze;++We)Ge=vt[We],Ge.vy+=(wt[We]-Ge.y)*pt[We]*Fe}function nt(){if(vt){var Fe,We=vt.length;for(pt=new Array(We),wt=new Array(We),Fe=0;Fe<We;++Fe)pt[Fe]=isNaN(wt[Fe]=+qe(vt[Fe],Fe,vt))?0:+ht(vt[Fe],Fe,vt)}}return Mt.initialize=function(Fe){vt=Fe,nt()},Mt.strength=function(Fe){return arguments.length?(ht=typeof Fe=="function"?Fe:L(+Fe),nt(),Mt):ht},Mt.y=function(Fe){return arguments.length?(qe=typeof Fe=="function"?Fe:L(+Fe),nt(),Mt):qe},Mt}},57624:function(V,Y,e){e.d(Y,{E9:function(){return i},SO:function(){return T}});function p(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function L(x,w){if((_=(x=w?x.toExponential(w-1):x.toExponential()).indexOf("e"))<0)return null;var _,m=x.slice(0,_);return[m.length>1?m[0]+m.slice(2):m,+x.slice(_+1)]}function o(x){return x=L(Math.abs(x)),x?x[1]:NaN}function C(x,w){return function(_,m){for(var E=_.length,A=[],s=0,M=x[0],b=0;E>0&&M>0&&(b+M+1>m&&(M=Math.max(1,m-b)),A.push(_.substring(E-=M,E+M)),!((b+=M+1)>m));)M=x[s=(s+1)%x.length];return A.reverse().join(w)}}function S(x){return function(w){return w.replace(/[0-9]/g,function(_){return x[+_]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(x){if(!(w=v.exec(x)))throw new Error("invalid format: "+x);var w;return new r({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}g.prototype=r.prototype;function r(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(x){e:for(var w=x.length,_=1,m=-1,E;_<w;++_)switch(x[_]){case".":m=E=_;break;case"0":m===0&&(m=_),E=_;break;default:if(!+x[_])break e;m>0&&(m=0);break}return m>0?x.slice(0,m)+x.slice(E+1):x}var a;function n(x,w){var _=L(x,w);if(!_)return x+"";var m=_[0],E=_[1],A=E-(a=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,s=m.length;return A===s?m:A>s?m+new Array(A-s+1).join("0"):A>0?m.slice(0,A)+"."+m.slice(A):"0."+new Array(1-A).join("0")+L(x,Math.max(0,w+A-1))[0]}function f(x,w){var _=L(x,w);if(!_)return x+"";var m=_[0],E=_[1];return E<0?"0."+new Array(-E).join("0")+m:m.length>E+1?m.slice(0,E+1)+"."+m.slice(E+1):m+new Array(E-m.length+2).join("0")}var u={"%":function(x,w){return(x*100).toFixed(w)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:p,e:function(x,w){return x.toExponential(w)},f:function(x,w){return x.toFixed(w)},g:function(x,w){return x.toPrecision(w)},o:function(x){return Math.round(x).toString(8)},p:function(x,w){return f(x*100,w)},r:f,s:n,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function l(x){return x}var y=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T(x){var w=x.grouping===void 0||x.thousands===void 0?l:C(y.call(x.grouping,Number),x.thousands+""),_=x.currency===void 0?"":x.currency[0]+"",m=x.currency===void 0?"":x.currency[1]+"",E=x.decimal===void 0?".":x.decimal+"",A=x.numerals===void 0?l:S(y.call(x.numerals,String)),s=x.percent===void 0?"%":x.percent+"",M=x.minus===void 0?"-":x.minus+"",b=x.nan===void 0?"NaN":x.nan+"";function N(H){H=g(H);var F=H.fill,B=H.align,U=H.sign,z=H.symbol,W=H.zero,j=H.width,ee=H.comma,ie=H.precision,oe=H.trim,he=H.type;he==="n"?(ee=!0,he="g"):u[he]||(ie===void 0&&(ie=12),oe=!0,he="g"),(W||F==="0"&&B==="=")&&(W=!0,F="0",B="=");var ne=z==="$"?_:z==="#"&&/[boxX]/.test(he)?"0"+he.toLowerCase():"",q=z==="$"?m:/[%p]/.test(he)?s:"",le=u[he],Q=/[defgprs%]/.test(he);ie=ie===void 0?6:/[gprs]/.test(he)?Math.max(1,Math.min(21,ie)):Math.max(0,Math.min(20,ie));function te(ue){var J=ne,K=q,ce,ae,de;if(he==="c")K=le(ue)+K,ue="";else{ue=+ue;var be=ue<0||1/ue<0;if(ue=isNaN(ue)?b:le(Math.abs(ue),ie),oe&&(ue=t(ue)),be&&+ue==0&&U!=="+"&&(be=!1),J=(be?U==="("?U:M:U==="-"||U==="("?"":U)+J,K=(he==="s"?h[8+a/3]:"")+K+(be&&U==="("?")":""),Q){for(ce=-1,ae=ue.length;++ce<ae;)if(de=ue.charCodeAt(ce),48>de||de>57){K=(de===46?E+ue.slice(ce+1):ue.slice(ce))+K,ue=ue.slice(0,ce);break}}}ee&&!W&&(ue=w(ue,1/0));var Se=J.length+ue.length+K.length,Te=Se<j?new Array(j-Se+1).join(F):"";switch(ee&&W&&(ue=w(Te+ue,Te.length?j-K.length:1/0),Te=""),B){case"<":ue=J+ue+K+Te;break;case"=":ue=J+Te+ue+K;break;case"^":ue=Te.slice(0,Se=Te.length>>1)+J+ue+K+Te.slice(Se);break;default:ue=Te+J+ue+K;break}return A(ue)}return te.toString=function(){return H+""},te}function k(H,F){var B=N((H=g(H),H.type="f",H)),U=Math.max(-8,Math.min(8,Math.floor(o(F)/3)))*3,z=Math.pow(10,-U),W=h[8+U/3];return function(j){return B(z*j)+W}}return{format:N,formatPrefix:k}}var c,i;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(x){return c=T(x),i=c.format,c.formatPrefix,c}},87108:function(V,Y,e){e.r(Y),e.d(Y,{geoAiry:function(){return W},geoAiryRaw:function(){return z},geoAitoff:function(){return ee},geoAitoffRaw:function(){return j},geoArmadillo:function(){return oe},geoArmadilloRaw:function(){return ie},geoAugust:function(){return ne},geoAugustRaw:function(){return he},geoBaker:function(){return te},geoBakerRaw:function(){return Q},geoBerghaus:function(){return K},geoBerghausRaw:function(){return J},geoBertin1953:function(){return ke},geoBertin1953Raw:function(){return Ie},geoBoggs:function(){return rt},geoBoggsRaw:function(){return Ye},geoBonne:function(){return vt},geoBonneRaw:function(){return ht},geoBottomley:function(){return wt},geoBottomleyRaw:function(){return pt},geoBromley:function(){return nt},geoBromleyRaw:function(){return Mt},geoChamberlin:function(){return ge},geoChamberlinAfrica:function(){return De},geoChamberlinRaw:function(){return Re},geoCollignon:function(){return Ue},geoCollignonRaw:function(){return we},geoCraig:function(){return st},geoCraigRaw:function(){return et},geoCraster:function(){return jt},geoCrasterRaw:function(){return Wt},geoCylindricalEqualArea:function(){return Rt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return mr},geoCylindricalStereographicRaw:function(){return Zt},geoEckert1:function(){return Kt},geoEckert1Raw:function(){return gt},geoEckert2:function(){return br},geoEckert2Raw:function(){return $t},geoEckert3:function(){return mt},geoEckert3Raw:function(){return lr},geoEckert4:function(){return bt},geoEckert4Raw:function(){return ut},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return Et},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Yt},geoEisenlohr:function(){return hr},geoEisenlohrRaw:function(){return Jt},geoFahey:function(){return Xe},geoFaheyRaw:function(){return gr},geoFoucaut:function(){return Nt},geoFoucautRaw:function(){return He},geoFoucautSinusoidal:function(){return Qt},geoFoucautSinusoidalRaw:function(){return Pt},geoGilbert:function(){return or},geoGingery:function(){return Wr},geoGingeryRaw:function(){return dr},geoGinzburg4:function(){return ln},geoGinzburg4Raw:function(){return Ir},geoGinzburg5:function(){return _n},geoGinzburg5Raw:function(){return an},geoGinzburg6:function(){return Sr},geoGinzburg6Raw:function(){return Mn},geoGinzburg8:function(){return Zr},geoGinzburg8Raw:function(){return Nr},geoGinzburg9:function(){return cn},geoGinzburg9Raw:function(){return Fr},geoGringorten:function(){return ua},geoGringortenQuincuncial:function(){return Tv},geoGringortenRaw:function(){return Cn},geoGuyou:function(){return gn},geoGuyouRaw:function(){return xr},geoHammer:function(){return be},geoHammerRaw:function(){return ae},geoHammerRetroazimuthal:function(){return Vn},geoHammerRetroazimuthalRaw:function(){return An},geoHealpix:function(){return hn},geoHealpixRaw:function(){return Mr},geoHill:function(){return Qr},geoHillRaw:function(){return Cr},geoHomolosine:function(){return Wn},geoHomolosineRaw:function(){return Ln},geoHufnagel:function(){return ya},geoHufnagelRaw:function(){return Hn},geoHyperelliptical:function(){return Ii},geoHyperellipticalRaw:function(){return Ia},geoInterrupt:function(){return Po},geoInterruptedBoggs:function(){return dc},geoInterruptedHomolosine:function(){return gi},geoInterruptedMollweide:function(){return pc},geoInterruptedMollweideHemispheres:function(){return Jo},geoInterruptedQuarticAuthalic:function(){return Al},geoInterruptedSinuMollweide:function(){return Rf},geoInterruptedSinusoidal:function(){return du},geoKavrayskiy7:function(){return mo},geoKavrayskiy7Raw:function(){return fo},geoLagrange:function(){return Ro},geoLagrangeRaw:function(){return pu},geoLarrivee:function(){return ah},geoLarriveeRaw:function(){return vs},geoLaskowski:function(){return lv},geoLaskowskiRaw:function(){return as},geoLittrow:function(){return Eo},geoLittrowRaw:function(){return Ws},geoLoximuthal:function(){return Tl},geoLoximuthalRaw:function(){return gc},geoMiller:function(){return yc},geoMillerRaw:function(){return Gs},geoModifiedStereographic:function(){return Wl},geoModifiedStereographicAlaska:function(){return mc},geoModifiedStereographicGs48:function(){return vv},geoModifiedStereographicGs50:function(){return dv},geoModifiedStereographicLee:function(){return sh},geoModifiedStereographicMiller:function(){return oh},geoModifiedStereographicRaw:function(){return ih},geoMollweide:function(){return _e},geoMollweideRaw:function(){return Oe},geoMtFlatPolarParabolic:function(){return lh},geoMtFlatPolarParabolicRaw:function(){return Gu},geoMtFlatPolarQuartic:function(){return pv},geoMtFlatPolarQuarticRaw:function(){return al},geoMtFlatPolarSinusoidal:function(){return uh},geoMtFlatPolarSinusoidalRaw:function(){return Of},geoNaturalEarth:function(){return fh.c},geoNaturalEarth2:function(){return _s},geoNaturalEarth2Raw:function(){return kf},geoNaturalEarthRaw:function(){return fh.g},geoNellHammer:function(){return Gl},geoNellHammerRaw:function(){return yu},geoNicolosi:function(){return xc},geoNicolosiRaw:function(){return Xs},geoPatterson:function(){return wu},geoPattersonRaw:function(){return Ff},geoPeirceQuincuncial:function(){return gh},geoPierceQuincuncial:function(){return gh},geoPolyconic:function(){return yv},geoPolyconicRaw:function(){return zf},geoPolyhedral:function(){return Oi},geoPolyhedralButterfly:function(){return ju},geoPolyhedralCollignon:function(){return Zl},geoPolyhedralWaterman:function(){return Ml},geoProject:function(){return bv},geoQuantize:function(){return yh},geoQuincuncial:function(){return sl},geoRectangularPolyconic:function(){return mh},geoRectangularPolyconicRaw:function(){return Ec},geoRobinson:function(){return El},geoRobinsonRaw:function(){return Is},geoSatellite:function(){return jl},geoSatelliteRaw:function(){return Hf},geoSinuMollweide:function(){return Bn},geoSinuMollweideRaw:function(){return Sn},geoSinusoidal:function(){return qe},geoSinusoidalRaw:function(){return $e},geoStitch:function(){return tf},geoTimes:function(){return xo},geoTimesRaw:function(){return Ll},geoTwoPointAzimuthal:function(){return Gf},geoTwoPointAzimuthalRaw:function(){return Cc},geoTwoPointAzimuthalUsa:function(){return Jl},geoTwoPointEquidistant:function(){return wh},geoTwoPointEquidistantRaw:function(){return rf},geoTwoPointEquidistantUsa:function(){return Av},geoVanDerGrinten:function(){return nf},geoVanDerGrinten2:function(){return Th},geoVanDerGrinten2Raw:function(){return Du},geoVanDerGrinten3:function(){return Sv},geoVanDerGrinten3Raw:function(){return Dl},geoVanDerGrinten4:function(){return af},geoVanDerGrinten4Raw:function(){return os},geoVanDerGrintenRaw:function(){return Go},geoWagner:function(){return Pl},geoWagner4:function(){return Ah},geoWagner4Raw:function(){return Zf},geoWagner6:function(){return Dc},geoWagner6Raw:function(){return lf},geoWagner7:function(){return Lc},geoWagnerRaw:function(){return fl},geoWiechel:function(){return Pc},geoWiechelRaw:function(){return Ql},geoWinkel3:function(){return Sh},geoWinkel3Raw:function(){return uf}});var p=e(87952),L=Math.abs,o=Math.atan,C=Math.atan2,S=Math.cos,v=Math.exp,g=Math.floor,r=Math.log,t=Math.max,a=Math.min,n=Math.pow,f=Math.round,u=Math.sign||function(Je){return Je>0?1:Je<0?-1:0},l=Math.sin,y=Math.tan,h=1e-6,T=1e-12,c=Math.PI,i=c/2,d=c/4,x=Math.SQRT1_2,w=N(2),_=N(c),m=c*2,E=180/c,A=c/180;function s(Je){return Je?Je/Math.sin(Je):1}function M(Je){return Je>1?i:Je<-1?-i:Math.asin(Je)}function b(Je){return Je>1?0:Je<-1?c:Math.acos(Je)}function N(Je){return Je>0?Math.sqrt(Je):0}function k(Je){return Je=v(2*Je),(Je-1)/(Je+1)}function H(Je){return(v(Je)-v(-Je))/2}function F(Je){return(v(Je)+v(-Je))/2}function B(Je){return r(Je+N(Je*Je+1))}function U(Je){return r(Je+N(Je*Je-1))}function z(Je){var it=y(Je/2),yt=2*r(S(Je/2))/(it*it);function xt(Ot,It){var Ft=S(Ot),yr=S(It),Ar=l(It),ir=yr*Ft,Er=-((1-ir?r((1+ir)/2)/(1-ir):-.5)+yt/(1+ir));return[Er*yr*l(Ot),Er*Ar]}return xt.invert=function(Ot,It){var Ft=N(Ot*Ot+It*It),yr=-Je/2,Ar=50,ir;if(!Ft)return[0,0];do{var Er=yr/2,Or=S(Er),Hr=l(Er),un=Hr/Or,Tn=-r(L(Or));yr-=ir=(2/un*Tn-yt*un-Ft)/(-Tn/(Hr*Hr)+1-yt/(2*Or*Or))*(Or<0?.7:1)}while(L(ir)>h&&--Ar>0);var On=l(yr);return[C(Ot*On,Ft*S(yr)),M(It*On/Ft)]},xt}function W(){var Je=i,it=(0,p.U)(z),yt=it(Je);return yt.radius=function(xt){return arguments.length?it(Je=xt*A):Je*E},yt.scale(179.976).clipAngle(147)}function j(Je,it){var yt=S(it),xt=s(b(yt*S(Je/=2)));return[2*yt*l(Je)*xt,l(it)*xt]}j.invert=function(Je,it){if(!(Je*Je+4*it*it>c*c+h)){var yt=Je,xt=it,Ot=25;do{var It=l(yt),Ft=l(yt/2),yr=S(yt/2),Ar=l(xt),ir=S(xt),Er=l(2*xt),Or=Ar*Ar,Hr=ir*ir,un=Ft*Ft,Tn=1-Hr*yr*yr,On=Tn?b(ir*yr)*N(Nn=1/Tn):Nn=0,Nn,$n=2*On*ir*Ft-Je,Oa=On*Ar-it,ka=Nn*(Hr*un+On*ir*yr*Or),za=Nn*(.5*It*Er-On*2*Ar*Ft),Ha=Nn*.25*(Er*Ft-On*Ar*Hr*It),si=Nn*(Or*yr+On*un*ir),Pi=za*Ha-si*ka;if(!Pi)break;var lo=(Oa*za-$n*si)/Pi,ve=($n*Ha-Oa*ka)/Pi;yt-=lo,xt-=ve}while((L(lo)>h||L(ve)>h)&&--Ot>0);return[yt,xt]}};function ee(){return(0,p.c)(j).scale(152.63)}function ie(Je){var it=l(Je),yt=S(Je),xt=Je>=0?1:-1,Ot=y(xt*Je),It=(1+it-yt)/2;function Ft(yr,Ar){var ir=S(Ar),Er=S(yr/=2);return[(1+ir)*l(yr),(xt*Ar>-C(Er,Ot)-.001?0:-xt*10)+It+l(Ar)*yt-(1+ir)*it*Er]}return Ft.invert=function(yr,Ar){var ir=0,Er=0,Or=50;do{var Hr=S(ir),un=l(ir),Tn=S(Er),On=l(Er),Nn=1+Tn,$n=Nn*un-yr,Oa=It+On*yt-Nn*it*Hr-Ar,ka=Nn*Hr/2,za=-un*On,Ha=it*Nn*un/2,si=yt*Tn+it*Hr*On,Pi=za*Ha-si*ka,lo=(Oa*za-$n*si)/Pi/2,ve=($n*Ha-Oa*ka)/Pi;L(ve)>2&&(ve/=2),ir-=lo,Er-=ve}while((L(lo)>h||L(ve)>h)&&--Or>0);return xt*Er>-C(S(ir),Ot)-.001?[ir*2,Er]:null},Ft}function oe(){var Je=20*A,it=Je>=0?1:-1,yt=y(it*Je),xt=(0,p.U)(ie),Ot=xt(Je),It=Ot.stream;return Ot.parallel=function(Ft){return arguments.length?(yt=y((it=(Je=Ft*A)>=0?1:-1)*Je),xt(Je)):Je*E},Ot.stream=function(Ft){var yr=Ot.rotate(),Ar=It(Ft),ir=(Ot.rotate([0,0]),It(Ft)),Er=Ot.precision();return Ot.rotate(yr),Ar.sphere=function(){ir.polygonStart(),ir.lineStart();for(var Or=it*-180;it*Or<180;Or+=it*90)ir.point(Or,it*90);if(Je)for(;it*(Or-=3*it*Er)>=-180;)ir.point(Or,it*-C(S(Or*A/2),yt)*E);ir.lineEnd(),ir.polygonEnd()},Ar},Ot.scale(218.695).center([0,28.0974])}function he(Je,it){var yt=y(it/2),xt=N(1-yt*yt),Ot=1+xt*S(Je/=2),It=l(Je)*xt/Ot,Ft=yt/Ot,yr=It*It,Ar=Ft*Ft;return[1.3333333333333333*It*(3+yr-3*Ar),1.3333333333333333*Ft*(3+3*yr-Ar)]}he.invert=function(Je,it){if(Je*=.375,it*=.375,!Je&&L(it)>1)return null;var yt=Je*Je,xt=it*it,Ot=1+yt+xt,It=N((Ot-N(Ot*Ot-4*it*it))/2),Ft=M(It)/3,yr=It?U(L(it/It))/3:B(L(Je))/3,Ar=S(Ft),ir=F(yr),Er=ir*ir-Ar*Ar;return[u(Je)*2*C(H(yr)*Ar,.25-Er),u(it)*2*C(ir*l(Ft),.25+Er)]};function ne(){return(0,p.c)(he).scale(66.1603)}var q=N(8),le=r(1+w);function Q(Je,it){var yt=L(it);return yt<d?[Je,r(y(d+it/2))]:[Je*S(yt)*(2*w-1/l(yt)),u(it)*(2*w*(yt-d)-r(y(yt/2)))]}Q.invert=function(Je,it){if((It=L(it))<le)return[Je,2*o(v(it))-i];var yt=d,xt=25,Ot,It;do{var Ft=S(yt/2),yr=y(yt/2);yt-=Ot=(q*(yt-d)-r(yr)-It)/(q-Ft*Ft/(2*yr))}while(L(Ot)>T&&--xt>0);return[Je/(S(yt)*(q-1/l(yt))),u(it)*yt]};function te(){return(0,p.c)(Q).scale(112.314)}var ue=e(69020);function J(Je){var it=2*c/Je;function yt(xt,Ot){var It=(0,ue.O)(xt,Ot);if(L(xt)>i){var Ft=C(It[1],It[0]),yr=N(It[0]*It[0]+It[1]*It[1]),Ar=it*f((Ft-i)/it)+i,ir=C(l(Ft-=Ar),2-S(Ft));Ft=Ar+M(c/yr*l(ir))-ir,It[0]=yr*S(Ft),It[1]=yr*l(Ft)}return It}return yt.invert=function(xt,Ot){var It=N(xt*xt+Ot*Ot);if(It>i){var Ft=C(Ot,xt),yr=it*f((Ft-i)/it)+i,Ar=Ft>yr?-1:1,ir=It*S(yr-Ft),Er=1/y(Ar*b((ir-c)/N(c*(c-2*ir)+It*It)));Ft=yr+2*o((Er+Ar*N(Er*Er-3))/3),xt=It*S(Ft),Ot=It*l(Ft)}return ue.O.invert(xt,Ot)},yt}function K(){var Je=5,it=(0,p.U)(J),yt=it(Je),xt=yt.stream,Ot=.01,It=-S(Ot*A),Ft=l(Ot*A);return yt.lobes=function(yr){return arguments.length?it(Je=+yr):Je},yt.stream=function(yr){var Ar=yt.rotate(),ir=xt(yr),Er=(yt.rotate([0,0]),xt(yr));return yt.rotate(Ar),ir.sphere=function(){Er.polygonStart(),Er.lineStart();for(var Or=0,Hr=360/Je,un=2*c/Je,Tn=90-180/Je,On=i;Or<Je;++Or,Tn-=Hr,On-=un)Er.point(C(Ft*S(On),It)*E,M(Ft*l(On))*E),Tn<-90?(Er.point(-90,-180-Tn-Ot),Er.point(-90,-180-Tn+Ot)):(Er.point(90,Tn+Ot),Er.point(90,Tn-Ot));Er.lineEnd(),Er.polygonEnd()},ir},yt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ce=e(54724);function ae(Je,it){if(arguments.length<2&&(it=Je),it===1)return ce.y;if(it===1/0)return de;function yt(xt,Ot){var It=(0,ce.y)(xt/it,Ot);return It[0]*=Je,It}return yt.invert=function(xt,Ot){var It=ce.y.invert(xt/Je,Ot);return It[0]*=it,It},yt}function de(Je,it){return[Je*S(it)/S(it/=2),2*l(it)]}de.invert=function(Je,it){var yt=2*M(it/2);return[Je*S(yt/2)/S(yt),yt]};function be(){var Je=2,it=(0,p.U)(ae),yt=it(Je);return yt.coefficient=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(169.529)}function Se(Je,it,yt){var xt=100,Ot,It,Ft;yt=yt===void 0?0:+yt,it=+it;do It=Je(yt),Ft=Je(yt+h),It===Ft&&(Ft=It+h),yt-=Ot=-1*h*(It-it)/(It-Ft);while(xt-- >0&&L(Ot)>h);return xt<0?NaN:yt}function Te(Je,it,yt){return it===void 0&&(it=40),yt===void 0&&(yt=T),function(xt,Ot,It,Ft){var yr,Ar,ir;It=It===void 0?0:+It,Ft=Ft===void 0?0:+Ft;for(var Er=0;Er<it;Er++){var Or=Je(It,Ft),Hr=Or[0]-xt,un=Or[1]-Ot;if(L(Hr)<yt&&L(un)<yt)break;var Tn=Hr*Hr+un*un;if(Tn>yr){It-=Ar/=2,Ft-=ir/=2;continue}yr=Tn;var On=(It>0?-1:1)*yt,Nn=(Ft>0?-1:1)*yt,$n=Je(It+On,Ft),Oa=Je(It,Ft+Nn),ka=($n[0]-Or[0])/On,za=($n[1]-Or[1])/On,Ha=(Oa[0]-Or[0])/Nn,si=(Oa[1]-Or[1])/Nn,Pi=si*ka-za*Ha,lo=(L(Pi)<.5?.5:1)/Pi;if(Ar=(un*Ha-Hr*si)*lo,ir=(Hr*za-un*ka)*lo,It+=Ar,Ft+=ir,L(Ar)<yt&&L(ir)<yt)break}return[It,Ft]}}function Ie(){var Je=ae(1.68,2),it=1.4,yt=12;function xt(Ot,It){if(Ot+It<-it){var Ft=(Ot-It+1.6)*(Ot+It+it)/8;Ot+=Ft,It-=.8*Ft*l(It+c/2)}var yr=Je(Ot,It),Ar=(1-S(Ot*It))/yt;return yr[1]<0&&(yr[0]*=1+Ar),yr[1]>0&&(yr[1]*=1+Ar/1.5*yr[0]*yr[0]),yr}return xt.invert=Te(xt),xt}function ke(){return(0,p.c)(Ie()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Be(Je,it){var yt=Je*l(it),xt=30,Ot;do it-=Ot=(it+l(it)-yt)/(1+S(it));while(L(Ot)>h&&--xt>0);return it/2}function Me(Je,it,yt){function xt(Ot,It){return[Je*Ot*S(It=Be(yt,It)),it*l(It)]}return xt.invert=function(Ot,It){return It=M(It/it),[Ot/(Je*S(It)),M((2*It+l(2*It))/yt)]},xt}var Oe=Me(w/i,w,c);function _e(){return(0,p.c)(Oe).scale(169.529)}var Ne=2.00276,Ce=1.11072;function Ye(Je,it){var yt=Be(c,it);return[Ne*Je/(1/S(it)+Ce/S(yt)),(it+w*l(yt))/Ne]}Ye.invert=function(Je,it){var yt=Ne*it,xt=it<0?-d:d,Ot=25,It,Ft;do Ft=yt-w*l(xt),xt-=It=(l(2*xt)+2*xt-c*l(Ft))/(2*S(2*xt)+2+c*S(Ft)*w*S(xt));while(L(It)>h&&--Ot>0);return Ft=yt-w*l(xt),[Je*(1/S(Ft)+Ce/S(xt))/Ne,Ft]};function rt(){return(0,p.c)(Ye).scale(160.857)}function ot(Je){var it=0,yt=(0,p.U)(Je),xt=yt(it);return xt.parallel=function(Ot){return arguments.length?yt(it=Ot*A):it*E},xt}function $e(Je,it){return[Je*S(it),it]}$e.invert=function(Je,it){return[Je/S(it),it]};function qe(){return(0,p.c)($e).scale(152.63)}function ht(Je){if(!Je)return $e;var it=1/y(Je);function yt(xt,Ot){var It=it+Je-Ot,Ft=It&&xt*S(Ot)/It;return[It*l(Ft),it-It*S(Ft)]}return yt.invert=function(xt,Ot){var It=N(xt*xt+(Ot=it-Ot)*Ot),Ft=it+Je-It;return[It/S(Ft)*C(xt,Ot),Ft]},yt}function vt(){return ot(ht).scale(123.082).center([0,26.1441]).parallel(45)}function pt(Je){function it(yt,xt){var Ot=i-xt,It=Ot&&yt*Je*l(Ot)/Ot;return[Ot*l(It)/Je,i-Ot*S(It)]}return it.invert=function(yt,xt){var Ot=yt*Je,It=i-xt,Ft=N(Ot*Ot+It*It),yr=C(Ot,It);return[(Ft?Ft/l(Ft):1)*yr/Je,i-Ft]},it}function wt(){var Je=.5,it=(0,p.U)(pt),yt=it(Je);return yt.fraction=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(158.837)}var Mt=Me(1,4/c,c);function nt(){return(0,p.c)(Mt).scale(152.63)}var Fe=e(24052),We=e(92992);function Ze(Je,it,yt,xt,Ot,It){var Ft=S(It),yr;if(L(Je)>1||L(It)>1)yr=b(yt*Ot+it*xt*Ft);else{var Ar=l(Je/2),ir=l(It/2);yr=2*M(N(Ar*Ar+it*xt*ir*ir))}return L(yr)>h?[yr,C(xt*l(It),it*Ot-yt*xt*Ft)]:[0,0]}function Ge(Je,it,yt){return b((Je*Je+it*it-yt*yt)/(2*Je*it))}function Pe(Je){return Je-2*c*g((Je+c)/(2*c))}function Re(Je,it,yt){for(var xt=[[Je[0],Je[1],l(Je[1]),S(Je[1])],[it[0],it[1],l(it[1]),S(it[1])],[yt[0],yt[1],l(yt[1]),S(yt[1])]],Ot=xt[2],It,Ft=0;Ft<3;++Ft,Ot=It)It=xt[Ft],Ot.v=Ze(It[1]-Ot[1],Ot[3],Ot[2],It[3],It[2],It[0]-Ot[0]),Ot.point=[0,0];var yr=Ge(xt[0].v[0],xt[2].v[0],xt[1].v[0]),Ar=Ge(xt[0].v[0],xt[1].v[0],xt[2].v[0]),ir=c-yr;xt[2].point[1]=0,xt[0].point[0]=-(xt[1].point[0]=xt[0].v[0]/2);var Er=[xt[2].point[0]=xt[0].point[0]+xt[2].v[0]*S(yr),2*(xt[0].point[1]=xt[1].point[1]=xt[2].v[0]*l(yr))];function Or(Hr,un){var Tn=l(un),On=S(un),Nn=new Array(3),$n;for($n=0;$n<3;++$n){var Oa=xt[$n];if(Nn[$n]=Ze(un-Oa[1],Oa[3],Oa[2],On,Tn,Hr-Oa[0]),!Nn[$n][0])return Oa.point;Nn[$n][1]=Pe(Nn[$n][1]-Oa.v[1])}var ka=Er.slice();for($n=0;$n<3;++$n){var za=$n==2?0:$n+1,Ha=Ge(xt[$n].v[0],Nn[$n][0],Nn[za][0]);Nn[$n][1]<0&&(Ha=-Ha),$n?$n==1?(Ha=Ar-Ha,ka[0]-=Nn[$n][0]*S(Ha),ka[1]-=Nn[$n][0]*l(Ha)):(Ha=ir-Ha,ka[0]+=Nn[$n][0]*S(Ha),ka[1]+=Nn[$n][0]*l(Ha)):(ka[0]+=Nn[$n][0]*S(Ha),ka[1]-=Nn[$n][0]*l(Ha))}return ka[0]/=3,ka[1]/=3,ka}return Or}function je(Je){return Je[0]*=A,Je[1]*=A,Je}function De(){return ge([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function ge(Je,it,yt){var xt=(0,Fe.c)({type:"MultiPoint",coordinates:[Je,it,yt]}),Ot=[-xt[0],-xt[1]],It=(0,We.c)(Ot),Ft=Re(je(It(Je)),je(It(it)),je(It(yt)));Ft.invert=Te(Ft);var yr=(0,p.c)(Ft).rotate(Ot),Ar=yr.center;return delete yr.rotate,yr.center=function(ir){return arguments.length?Ar(It(ir)):It.invert(Ar())},yr.clipAngle(90)}function we(Je,it){var yt=N(1-l(it));return[2/_*Je*yt,_*(1-yt)]}we.invert=function(Je,it){var yt=(yt=it/_-1)*yt;return[yt>0?Je*N(c/yt)/2:0,M(1-yt)]};function Ue(){return(0,p.c)(we).scale(95.6464).center([0,30])}function et(Je){var it=y(Je);function yt(xt,Ot){return[xt,(xt?xt/l(xt):1)*(l(Ot)*S(xt)-it*S(Ot))]}return yt.invert=it?function(xt,Ot){xt&&(Ot*=l(xt)/xt);var It=S(xt);return[xt,2*C(N(It*It+it*it-Ot*Ot)-It,it-Ot)]}:function(xt,Ot){return[xt,M(xt?Ot*y(xt)/xt:Ot)]},yt}function st(){return ot(et).scale(249.828).clipAngle(90)}var lt=N(3);function Wt(Je,it){return[lt*Je*(2*S(2*it/3)-1)/_,lt*_*l(it/3)]}Wt.invert=function(Je,it){var yt=3*M(it/(lt*_));return[_*Je/(lt*(2*S(2*yt/3)-1)),yt]};function jt(){return(0,p.c)(Wt).scale(156.19)}function Tt(Je){var it=S(Je);function yt(xt,Ot){return[xt*it,l(Ot)/it]}return yt.invert=function(xt,Ot){return[xt/it,M(Ot*it)]},yt}function Rt(){return ot(Tt).parallel(38.58).scale(195.044)}function Zt(Je){var it=S(Je);function yt(xt,Ot){return[xt*it,(1+it)*y(Ot/2)]}return yt.invert=function(xt,Ot){return[xt/it,o(Ot/(1+it))*2]},yt}function mr(){return ot(Zt).scale(124.75)}function gt(Je,it){var yt=N(8/(3*c));return[yt*Je*(1-L(it)/c),yt*it]}gt.invert=function(Je,it){var yt=N(8/(3*c)),xt=it/yt;return[Je/(yt*(1-L(xt)/c)),xt]};function Kt(){return(0,p.c)(gt).scale(165.664)}function $t(Je,it){var yt=N(4-3*l(L(it)));return[2/N(6*c)*Je*yt,u(it)*N(2*c/3)*(2-yt)]}$t.invert=function(Je,it){var yt=2-L(it)/N(2*c/3);return[Je*N(6*c)/(2*yt),u(it)*M((4-yt*yt)/3)]};function br(){return(0,p.c)($t).scale(165.664)}function lr(Je,it){var yt=N(c*(4+c));return[2/yt*Je*(1+N(1-4*it*it/(c*c))),4/yt*it]}lr.invert=function(Je,it){var yt=N(c*(4+c))/2;return[Je*yt/(1+N(1-it*it*(4+c)/(4*c))),it*yt/2]};function mt(){return(0,p.c)(lr).scale(180.739)}function ut(Je,it){var yt=(2+i)*l(it);it/=2;for(var xt=0,Ot=1/0;xt<10&&L(Ot)>h;xt++){var It=S(it);it-=Ot=(it+l(it)*(It+2)-yt)/(2*It*(1+It))}return[2/N(c*(4+c))*Je*(1+S(it)),2*N(c/(4+c))*l(it)]}ut.invert=function(Je,it){var yt=it*N((4+c)/c)/2,xt=M(yt),Ot=S(xt);return[Je/(2/N(c*(4+c))*(1+Ot)),M((xt+yt*(Ot+2))/(2+i))]};function bt(){return(0,p.c)(ut).scale(180.739)}function Et(Je,it){return[Je*(1+S(it))/N(2+c),2*it/N(2+c)]}Et.invert=function(Je,it){var yt=N(2+c),xt=it*yt/2;return[yt*Je/(1+S(xt)),xt]};function Dt(){return(0,p.c)(Et).scale(173.044)}function Yt(Je,it){for(var yt=(1+i)*l(it),xt=0,Ot=1/0;xt<10&&L(Ot)>h;xt++)it-=Ot=(it+l(it)-yt)/(1+S(it));return yt=N(2+c),[Je*(1+S(it))/yt,2*it/yt]}Yt.invert=function(Je,it){var yt=1+i,xt=N(yt/2);return[Je*2*xt/(1+S(it*=xt)),M((it+l(it))/yt)]};function Bt(){return(0,p.c)(Yt).scale(173.044)}var Ut=3+2*w;function Jt(Je,it){var yt=l(Je/=2),xt=S(Je),Ot=N(S(it)),It=S(it/=2),Ft=l(it)/(It+w*xt*Ot),yr=N(2/(1+Ft*Ft)),Ar=N((w*It+(xt+yt)*Ot)/(w*It+(xt-yt)*Ot));return[Ut*(yr*(Ar-1/Ar)-2*r(Ar)),Ut*(yr*Ft*(Ar+1/Ar)-2*o(Ft))]}Jt.invert=function(Je,it){if(!(It=he.invert(Je/1.2,it*1.065)))return null;var yt=It[0],xt=It[1],Ot=20,It;Je/=Ut,it/=Ut;do{var Ft=yt/2,yr=xt/2,Ar=l(Ft),ir=S(Ft),Er=l(yr),Or=S(yr),Hr=S(xt),un=N(Hr),Tn=Er/(Or+w*ir*un),On=Tn*Tn,Nn=N(2/(1+On)),$n=w*Or+(ir+Ar)*un,Oa=w*Or+(ir-Ar)*un,ka=$n/Oa,za=N(ka),Ha=za-1/za,si=za+1/za,Pi=Nn*Ha-2*r(za)-Je,lo=Nn*Tn*si-2*o(Tn)-it,ve=Er&&x*un*Ar*On/Er,Ee=(w*ir*Or+un)/(2*(Or+w*ir*un)*(Or+w*ir*un)*un),Ve=-.5*Tn*Nn*Nn*Nn,tt=Ve*ve,at=Ve*Ee,ct=(ct=2*Or+w*un*(ir-Ar))*ct*za,Ct=(w*ir*Or*un+Hr)/ct,At=-(w*Ar*Er)/(un*ct),Ht=Ha*tt-2*Ct/za+Nn*(Ct+Ct/ka),Gt=Ha*at-2*At/za+Nn*(At+At/ka),nr=Tn*si*tt-2*ve/(1+On)+Nn*si*ve+Nn*Tn*(Ct-Ct/ka),Lr=Tn*si*at-2*Ee/(1+On)+Nn*si*Ee+Nn*Tn*(At-At/ka),Dr=Gt*nr-Lr*Ht;if(!Dr)break;var tn=(lo*Gt-Pi*Lr)/Dr,fn=(Pi*nr-lo*Ht)/Dr;yt-=tn,xt=t(-i,a(i,xt-fn))}while((L(tn)>h||L(fn)>h)&&--Ot>0);return L(L(xt)-i)<h?[0,xt]:Ot&&[yt,xt]};function hr(){return(0,p.c)(Jt).scale(62.5271)}var vr=S(35*A);function gr(Je,it){var yt=y(it/2);return[Je*vr*N(1-yt*yt),(1+vr)*yt]}gr.invert=function(Je,it){var yt=it/(1+vr);return[Je&&Je/(vr*N(1-yt*yt)),2*o(yt)]};function Xe(){return(0,p.c)(gr).scale(137.152)}function He(Je,it){var yt=it/2,xt=S(yt);return[2*Je/_*S(it)*xt*xt,_*y(yt)]}He.invert=function(Je,it){var yt=o(it/_),xt=S(yt),Ot=2*yt;return[Je*_/2/(S(Ot)*xt*xt),Ot]};function Nt(){return(0,p.c)(He).scale(135.264)}function Pt(Je){var it=1-Je,yt=It(c,0)[0]-It(-c,0)[0],xt=It(0,i)[1]-It(0,-i)[1],Ot=N(2*xt/yt);function It(Ar,ir){var Er=S(ir),Or=l(ir);return[Er/(it+Je*Er)*Ar,it*ir+Je*Or]}function Ft(Ar,ir){var Er=It(Ar,ir);return[Er[0]*Ot,Er[1]/Ot]}function yr(Ar){return Ft(0,Ar)[1]}return Ft.invert=function(Ar,ir){var Er=Se(yr,ir),Or=Ar/Ot*(Je+it/S(Er));return[Or,Er]},Ft}function Qt(){var Je=.5,it=(0,p.U)(Pt),yt=it(Je);return yt.alpha=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(168.725)}var ur=e(4888),cr=e(69604);function tr(Je){return[Je[0]/2,M(y(Je[1]/2*A))*E]}function zt(Je){return[Je[0]*2,2*o(l(Je[1]*A))*E]}function or(Je){Je==null&&(Je=ur.c);var it=Je(),yt=(0,cr.c)().scale(E).precision(0).clipAngle(null).translate([0,0]);function xt(It){return it(tr(It))}it.invert&&(xt.invert=function(It){return zt(it.invert(It))}),xt.stream=function(It){var Ft=it.stream(It),yr=yt.stream({point:function(Ar,ir){Ft.point(Ar/2,M(y(-ir/2*A))*E)},lineStart:function(){Ft.lineStart()},lineEnd:function(){Ft.lineEnd()},polygonStart:function(){Ft.polygonStart()},polygonEnd:function(){Ft.polygonEnd()}});return yr.sphere=Ft.sphere,yr};function Ot(It){xt[It]=function(){return arguments.length?(it[It].apply(it,arguments),xt):it[It]()}}return xt.rotate=function(It){return arguments.length?(yt.rotate(It),xt):yt.rotate()},xt.center=function(It){return arguments.length?(it.center(tr(It)),xt):zt(it.center())},Ot("angle"),Ot("clipAngle"),Ot("clipExtent"),Ot("fitExtent"),Ot("fitHeight"),Ot("fitSize"),Ot("fitWidth"),Ot("scale"),Ot("translate"),Ot("precision"),xt.scale(249.5)}function dr(Je,it){var yt=2*c/it,xt=Je*Je;function Ot(It,Ft){var yr=(0,ue.O)(It,Ft),Ar=yr[0],ir=yr[1],Er=Ar*Ar+ir*ir;if(Er>xt){var Or=N(Er),Hr=C(ir,Ar),un=yt*f(Hr/yt),Tn=Hr-un,On=Je*S(Tn),Nn=(Je*l(Tn)-Tn*l(On))/(i-On),$n=wr(Tn,Nn),Oa=(c-Je)/pr($n,On,c);Ar=Or;var ka=50,za;do Ar-=za=(Je+pr($n,On,Ar)*Oa-Or)/($n(Ar)*Oa);while(L(za)>h&&--ka>0);ir=Tn*l(Ar),Ar<i&&(ir-=Nn*(Ar-i));var Ha=l(un),si=S(un);yr[0]=Ar*si-ir*Ha,yr[1]=Ar*Ha+ir*si}return yr}return Ot.invert=function(It,Ft){var yr=It*It+Ft*Ft;if(yr>xt){var Ar=N(yr),ir=C(Ft,It),Er=yt*f(ir/yt),Or=ir-Er;It=Ar*S(Or),Ft=Ar*l(Or);for(var Hr=It-i,un=l(It),Tn=Ft/un,On=It<i?1/0:0,Nn=10;;){var $n=Je*l(Tn),Oa=Je*S(Tn),ka=l(Oa),za=i-Oa,Ha=($n-Tn*ka)/za,si=wr(Tn,Ha);if(L(On)<T||!--Nn)break;Tn-=On=(Tn*un-Ha*Hr-Ft)/(un-Hr*2*(za*(Oa+Tn*$n*S(Oa)-ka)-$n*($n-Tn*ka))/(za*za))}Ar=Je+pr(si,Oa,It)*(c-Je)/pr(si,Oa,c),ir=Er+Tn,It=Ar*S(ir),Ft=Ar*l(ir)}return ue.O.invert(It,Ft)},Ot}function wr(Je,it){return function(yt){var xt=Je*S(yt);return yt<i&&(xt-=it),N(1+xt*xt)}}function pr(Je,it,yt){for(var xt=50,Ot=(yt-it)/xt,It=Je(it)+Je(yt),Ft=1,yr=it;Ft<xt;++Ft)It+=2*Je(yr+=Ot);return It*.5*Ot}function Wr(){var Je=6,it=30*A,yt=S(it),xt=l(it),Ot=(0,p.U)(dr),It=Ot(it,Je),Ft=It.stream,yr=.01,Ar=-S(yr*A),ir=l(yr*A);return It.radius=function(Er){return arguments.length?(yt=S(it=Er*A),xt=l(it),Ot(it,Je)):it*E},It.lobes=function(Er){return arguments.length?Ot(it,Je=+Er):Je},It.stream=function(Er){var Or=It.rotate(),Hr=Ft(Er),un=(It.rotate([0,0]),Ft(Er));return It.rotate(Or),Hr.sphere=function(){un.polygonStart(),un.lineStart();for(var Tn=0,On=2*c/Je,Nn=0;Tn<Je;++Tn,Nn-=On)un.point(C(ir*S(Nn),Ar)*E,M(ir*l(Nn))*E),un.point(C(xt*S(Nn-On/2),yt)*E,M(xt*l(Nn-On/2))*E);un.lineEnd(),un.polygonEnd()},Hr},It.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Pr(Je,it,yt,xt,Ot,It,Ft,yr){arguments.length<8&&(yr=0);function Ar(ir,Er){if(!Er)return[Je*ir/c,0];var Or=Er*Er,Hr=Je+Or*(it+Or*(yt+Or*xt)),un=Er*(Ot-1+Or*(It-yr+Or*Ft)),Tn=(Hr*Hr+un*un)/(2*un),On=ir*M(Hr/Tn)/c;return[Tn*l(On),Er*(1+Or*yr)+Tn*(1-S(On))]}return Ar.invert=function(ir,Er){var Or=c*ir/Je,Hr=Er,un,Tn,On=50;do{var Nn=Hr*Hr,$n=Je+Nn*(it+Nn*(yt+Nn*xt)),Oa=Hr*(Ot-1+Nn*(It-yr+Nn*Ft)),ka=$n*$n+Oa*Oa,za=2*Oa,Ha=ka/za,si=Ha*Ha,Pi=M($n/Ha)/c,lo=Or*Pi,ve=$n*$n,Ee=(2*it+Nn*(4*yt+Nn*6*xt))*Hr,Ve=Ot+Nn*(3*It+Nn*5*Ft),tt=2*($n*Ee+Oa*(Ve-1)),at=2*(Ve-1),ct=(tt*za-ka*at)/(za*za),Ct=S(lo),At=l(lo),Ht=Ha*Ct,Gt=Ha*At,nr=Or/c*(1/N(1-ve/si))*(Ee*Ha-$n*ct)/si,Lr=Gt-ir,Dr=Hr*(1+Nn*yr)+Ha-Ht-Er,tn=ct*At+Ht*nr,fn=Ht*Pi,Rr=1+ct-(ct*Ct-Gt*nr),Yr=Gt*Pi,$r=tn*Yr-Rr*fn;if(!$r)break;Or-=un=(Dr*tn-Lr*Rr)/$r,Hr-=Tn=(Lr*Yr-Dr*fn)/$r}while((L(un)>h||L(Tn)>h)&&--On>0);return[Or,Hr]},Ar}var Ir=Pr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function ln(){return(0,p.c)(Ir).scale(149.995)}var an=Pr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function _n(){return(0,p.c)(an).scale(153.93)}var Mn=Pr(5/6*c,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Sr(){return(0,p.c)(Mn).scale(130.945)}function Nr(Je,it){var yt=Je*Je,xt=it*it;return[Je*(1-.162388*xt)*(.87-952426e-9*yt*yt),it*(1+xt/12)]}Nr.invert=function(Je,it){var yt=Je,xt=it,Ot=50,It;do{var Ft=xt*xt;xt-=It=(xt*(1+Ft/12)-it)/(1+Ft/4)}while(L(It)>h&&--Ot>0);Ot=50,Je/=1-.162388*Ft;do{var yr=(yr=yt*yt)*yr;yt-=It=(yt*(.87-952426e-9*yr)-Je)/(.87-.00476213*yr)}while(L(It)>h&&--Ot>0);return[yt,xt]};function Zr(){return(0,p.c)(Nr).scale(131.747)}var Fr=Pr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function cn(){return(0,p.c)(Fr).scale(131.087)}function vn(Je){var it=Je(i,0)[0]-Je(-i,0)[0];function yt(xt,Ot){var It=xt>0?-.5:.5,Ft=Je(xt+It*c,Ot);return Ft[0]-=It*it,Ft}return Je.invert&&(yt.invert=function(xt,Ot){var It=xt>0?-.5:.5,Ft=Je.invert(xt+It*it,Ot),yr=Ft[0]-It*c;return yr<-c?yr+=2*c:yr>c&&(yr-=2*c),Ft[0]=yr,Ft}),yt}function Cn(Je,it){var yt=u(Je),xt=u(it),Ot=S(it),It=S(Je)*Ot,Ft=l(Je)*Ot,yr=l(xt*it);Je=L(C(Ft,yr)),it=M(It),L(Je-i)>h&&(Je%=i);var Ar=Rn(Je>c/4?i-Je:Je,it);return Je>c/4&&(yr=Ar[0],Ar[0]=-Ar[1],Ar[1]=-yr),Ar[0]*=yt,Ar[1]*=-xt,Ar}Cn.invert=function(Je,it){L(Je)>1&&(Je=u(Je)*2-Je),L(it)>1&&(it=u(it)*2-it);var yt=u(Je),xt=u(it),Ot=-yt*Je,It=-xt*it,Ft=It/Ot<1,yr=Gn(Ft?It:Ot,Ft?Ot:It),Ar=yr[0],ir=yr[1],Er=S(ir);return Ft&&(Ar=-i-Ar),[yt*(C(l(Ar)*Er,-l(ir))+c),xt*M(S(Ar)*Er)]};function Rn(Je,it){if(it===i)return[0,0];var yt=l(it),xt=yt*yt,Ot=xt*xt,It=1+Ot,Ft=1+3*Ot,yr=1-Ot,Ar=M(1/N(It)),ir=yr+xt*It*Ar,Er=(1-yt)/ir,Or=N(Er),Hr=Er*It,un=N(Hr),Tn=Or*yr,On,Nn;if(Je===0)return[0,-(Tn+xt*un)];var $n=S(it),Oa=1/$n,ka=2*yt*$n,za=(-3*xt+Ar*Ft)*ka,Ha=(-ir*$n-(1-yt)*za)/(ir*ir),si=.5*Ha/Or,Pi=yr*si-2*xt*Or*ka,lo=xt*It*Ha+Er*Ft*ka,ve=-Oa*ka,Ee=-Oa*lo,Ve=-2*Oa*Pi,tt=4*Je/c,at;if(Je>.222*c||it<c/4&&Je>.175*c){if(On=(Tn+xt*N(Hr*(1+Ot)-Tn*Tn))/(1+Ot),Je>c/4)return[On,On];var ct=On,Ct=.5*On;On=.5*(Ct+ct),Nn=50;do{var At=N(Hr-On*On),Ht=On*(Ve+ve*At)+Ee*M(On/un)-tt;if(!Ht)break;Ht<0?Ct=On:ct=On,On=.5*(Ct+ct)}while(L(ct-Ct)>h&&--Nn>0)}else{On=h,Nn=25;do{var Gt=On*On,nr=N(Hr-Gt),Lr=Ve+ve*nr,Dr=On*Lr+Ee*M(On/un)-tt,tn=Lr+(Ee-ve*Gt)/nr;On-=at=nr?Dr/tn:0}while(L(at)>h&&--Nn>0)}return[On,-Tn-xt*N(Hr-On*On)]}function Gn(Je,it){for(var yt=0,xt=1,Ot=.5,It=50;;){var Ft=Ot*Ot,yr=N(Ot),Ar=M(1/N(1+Ft)),ir=1-Ft+Ot*(1+Ft)*Ar,Er=(1-yr)/ir,Or=N(Er),Hr=Er*(1+Ft),un=Or*(1-Ft),Tn=Hr-Je*Je,On=N(Tn),Nn=it+un+Ot*On;if(L(xt-yt)<T||--It===0||Nn===0)break;Nn>0?yt=Ot:xt=Ot,Ot=.5*(yt+xt)}if(!It)return null;var $n=M(yr),Oa=S($n),ka=1/Oa,za=2*yr*Oa,Ha=(-3*Ot+Ar*(1+3*Ft))*za,si=(-ir*Oa-(1-yr)*Ha)/(ir*ir),Pi=.5*si/Or,lo=(1-Ft)*Pi-2*Ot*Or*za,ve=-2*ka*lo,Ee=-ka*za,Ve=-ka*(Ot*(1+Ft)*si+Er*(1+3*Ft)*za);return[c/4*(Je*(ve+Ee*On)+Ve*M(Je/N(Hr))),$n]}function ua(){return(0,p.c)(vn(Cn)).scale(239.75)}function wa(Je,it,yt){var xt,Ot,It;return Je?(xt=Ma(Je,yt),it?(Ot=Ma(it,1-yt),It=Ot[1]*Ot[1]+yt*xt[0]*xt[0]*Ot[0]*Ot[0],[[xt[0]*Ot[2]/It,xt[1]*xt[2]*Ot[0]*Ot[1]/It],[xt[1]*Ot[1]/It,-xt[0]*xt[2]*Ot[0]*Ot[2]/It],[xt[2]*Ot[1]*Ot[2]/It,-yt*xt[0]*xt[1]*Ot[0]/It]]):[[xt[0],0],[xt[1],0],[xt[2],0]]):(Ot=Ma(it,1-yt),[[0,Ot[0]/Ot[1]],[1/Ot[1],0],[Ot[2]/Ot[1],0]])}function Ma(Je,it){var yt,xt,Ot,It,Ft;if(it<h)return It=l(Je),xt=S(Je),yt=it*(Je-It*xt)/4,[It-yt*xt,xt+yt*It,1-it*It*It/2,Je-yt];if(it>=1-h)return yt=(1-it)/4,xt=F(Je),It=k(Je),Ot=1/xt,Ft=xt*H(Je),[It+yt*(Ft-Je)/(xt*xt),Ot-yt*It*Ot*(Ft-Je),Ot+yt*It*Ot*(Ft+Je),2*o(v(Je))-i+yt*(Ft-Je)/xt];var yr=[1,0,0,0,0,0,0,0,0],Ar=[N(it),0,0,0,0,0,0,0,0],ir=0;for(xt=N(1-it),Ft=1;L(Ar[ir]/yr[ir])>h&&ir<8;)yt=yr[ir++],Ar[ir]=(yt-xt)/2,yr[ir]=(yt+xt)/2,xt=N(yt*xt),Ft*=2;Ot=Ft*yr[ir]*Je;do It=Ar[ir]*l(xt=Ot)/yr[ir],Ot=(M(It)+Ot)/2;while(--ir);return[l(Ot),It=S(Ot),It/S(Ot-xt),Ot]}function Zn(Je,it,yt){var xt=L(Je),Ot=L(it),It=H(Ot);if(xt){var Ft=1/l(xt),yr=1/(y(xt)*y(xt)),Ar=-(yr+yt*(It*It*Ft*Ft)-1+yt),ir=(yt-1)*yr,Er=(-Ar+N(Ar*Ar-4*ir))/2;return[ea(o(1/N(Er)),yt)*u(Je),ea(o(N((Er/yr-1)/yt)),1-yt)*u(it)]}return[0,ea(o(It),1-yt)*u(it)]}function ea(Je,it){if(!it)return Je;if(it===1)return r(y(Je/2+d));for(var yt=1,xt=N(1-it),Ot=N(it),It=0;L(Ot)>h;It++){if(Je%c){var Ft=o(xt*y(Je)/yt);Ft<0&&(Ft+=c),Je+=Ft+~~(Je/c)*c}else Je+=Je;Ot=(yt+xt)/2,xt=N(yt*xt),Ot=((yt=Ot)-xt)/2}return Je/(n(2,It)*yt)}function xr(Je,it){var yt=(w-1)/(w+1),xt=N(1-yt*yt),Ot=ea(i,xt*xt),It=-1,Ft=r(y(c/4+L(it)/2)),yr=v(It*Ft)/N(yt),Ar=nn(yr*S(It*Je),yr*l(It*Je)),ir=Zn(Ar[0],Ar[1],xt*xt);return[-ir[1],(it>=0?1:-1)*(.5*Ot-ir[0])]}function nn(Je,it){var yt=Je*Je,xt=it+1,Ot=1-yt-it*it;return[.5*((Je>=0?i:-i)-C(Ot,2*Je)),-.25*r(Ot*Ot+4*yt)+.5*r(xt*xt+yt)]}function qr(Je,it){var yt=it[0]*it[0]+it[1]*it[1];return[(Je[0]*it[0]+Je[1]*it[1])/yt,(Je[1]*it[0]-Je[0]*it[1])/yt]}xr.invert=function(Je,it){var yt=(w-1)/(w+1),xt=N(1-yt*yt),Ot=ea(i,xt*xt),It=-1,Ft=wa(.5*Ot-it,-Je,xt*xt),yr=qr(Ft[0],Ft[1]),Ar=C(yr[1],yr[0])/It;return[Ar,2*o(v(.5/It*r(yt*yr[0]*yr[0]+yt*yr[1]*yr[1])))-i]};function gn(){return(0,p.c)(vn(xr)).scale(151.496)}var Un=e(61780);function An(Je){var it=l(Je),yt=S(Je),xt=En(Je);xt.invert=En(-Je);function Ot(It,Ft){var yr=xt(It,Ft);It=yr[0],Ft=yr[1];var Ar=l(Ft),ir=S(Ft),Er=S(It),Or=b(it*Ar+yt*ir*Er),Hr=l(Or),un=L(Hr)>h?Or/Hr:1;return[un*yt*l(It),(L(It)>i?un:-un)*(it*ir-yt*Ar*Er)]}return Ot.invert=function(It,Ft){var yr=N(It*It+Ft*Ft),Ar=-l(yr),ir=S(yr),Er=yr*ir,Or=-Ft*Ar,Hr=yr*it,un=N(Er*Er+Or*Or-Hr*Hr),Tn=C(Er*Hr+Or*un,Or*Hr-Er*un),On=(yr>i?-1:1)*C(It*Ar,yr*S(Tn)*ir+Ft*l(Tn)*Ar);return xt.invert(On,Tn)},Ot}function En(Je){var it=l(Je),yt=S(Je);return function(xt,Ot){var It=S(Ot),Ft=S(xt)*It,yr=l(xt)*It,Ar=l(Ot);return[C(yr,Ft*yt-Ar*it),M(Ar*yt+Ft*it)]}}function Vn(){var Je=0,it=(0,p.U)(An),yt=it(Je),xt=yt.rotate,Ot=yt.stream,It=(0,Un.c)();return yt.parallel=function(Ft){if(!arguments.length)return Je*E;var yr=yt.rotate();return it(Je=Ft*A).rotate(yr)},yt.rotate=function(Ft){return arguments.length?(xt.call(yt,[Ft[0],Ft[1]-Je*E]),It.center([-Ft[0],-Ft[1]]),yt):(Ft=xt.call(yt),Ft[1]+=Je*E,Ft)},yt.stream=function(Ft){return Ft=Ot(Ft),Ft.sphere=function(){Ft.polygonStart();var yr=.01,Ar=It.radius(90-yr)().coordinates[0],ir=Ar.length-1,Er=-1,Or;for(Ft.lineStart();++Er<ir;)Ft.point((Or=Ar[Er])[0],Or[1]);for(Ft.lineEnd(),Ar=It.radius(90+yr)().coordinates[0],ir=Ar.length-1,Ft.lineStart();--Er>=0;)Ft.point((Or=Ar[Er])[0],Or[1]);Ft.lineEnd(),Ft.polygonEnd()},Ft},yt.scale(79.4187).parallel(45).clipAngle(179.999)}var ta=e(84706),ga=e(16016),Na=3,_r=M(1-1/Na)*E,Br=Tt(0);function Mr(Je){var it=_r*A,yt=we(c,it)[0]-we(-c,it)[0],xt=Br(0,it)[1],Ot=we(0,it)[1],It=_-Ot,Ft=m/Je,yr=4/m,Ar=xt+It*It*4/m;function ir(Er,Or){var Hr,un=L(Or);if(un>it){var Tn=a(Je-1,t(0,g((Er+c)/Ft)));Er+=c*(Je-1)/Je-Tn*Ft,Hr=we(Er,un),Hr[0]=Hr[0]*m/yt-m*(Je-1)/(2*Je)+Tn*m/Je,Hr[1]=xt+(Hr[1]-Ot)*4*It/m,Or<0&&(Hr[1]=-Hr[1])}else Hr=Br(Er,Or);return Hr[0]*=yr,Hr[1]/=Ar,Hr}return ir.invert=function(Er,Or){Er/=yr,Or*=Ar;var Hr=L(Or);if(Hr>xt){var un=a(Je-1,t(0,g((Er+c)/Ft)));Er=(Er+c*(Je-1)/Je-un*Ft)*yt/m;var Tn=we.invert(Er,.25*(Hr-xt)*m/It+Ot);return Tn[0]-=c*(Je-1)/Je-un*Ft,Or<0&&(Tn[1]=-Tn[1]),Tn}return Br.invert(Er,Or)},ir}function Ur(Je,it){return[Je,it&1?90-h:_r]}function wn(Je,it){return[Je,it&1?-90+h:-_r]}function kn(Je){return[Je[0]*(1-h),Je[1]]}function xn(Je){var it=[].concat((0,ta.ik)(-180,180+Je/2,Je).map(Ur),(0,ta.ik)(180,-180-Je/2,-Je).map(wn));return{type:"Polygon",coordinates:[Je===180?it.map(kn):it]}}function hn(){var Je=4,it=(0,p.U)(Mr),yt=it(Je),xt=yt.stream;return yt.lobes=function(Ot){return arguments.length?it(Je=+Ot):Je},yt.stream=function(Ot){var It=yt.rotate(),Ft=xt(Ot),yr=(yt.rotate([0,0]),xt(Ot));return yt.rotate(It),Ft.sphere=function(){(0,ga.c)(xn(180/Je),yr)},Ft},yt.scale(239.75)}function Cr(Je){var it=1+Je,yt=l(1/it),xt=M(yt),Ot=2*N(c/(It=c+4*xt*it)),It,Ft=.5*Ot*(it+N(Je*(2+Je))),yr=Je*Je,Ar=it*it;function ir(Er,Or){var Hr=1-l(Or),un,Tn;if(Hr&&Hr<2){var On=i-Or,Nn=25,$n;do{var Oa=l(On),ka=S(On),za=xt+C(Oa,it-ka),Ha=1+Ar-2*it*ka;On-=$n=(On-yr*xt-it*Oa+Ha*za-.5*Hr*It)/(2*it*Oa*za)}while(L($n)>T&&--Nn>0);un=Ot*N(Ha),Tn=Er*za/c}else un=Ot*(Je+Hr),Tn=Er*xt/c;return[un*l(Tn),Ft-un*S(Tn)]}return ir.invert=function(Er,Or){var Hr=Er*Er+(Or-=Ft)*Or,un=(1+Ar-Hr/(Ot*Ot))/(2*it),Tn=b(un),On=l(Tn),Nn=xt+C(On,it-un);return[M(Er/N(Hr))*c/Nn,M(1-2*(Tn-yr*xt-it*On+(1+Ar-2*it*un)*Nn)/It)]},ir}function Qr(){var Je=1,it=(0,p.U)(Cr),yt=it(Je);return yt.ratio=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(167.774).center([0,18.67])}var Gr=.7109889596207567,rn=.0528035274542;function Sn(Je,it){return it>-Gr?(Je=Oe(Je,it),Je[1]+=rn,Je):$e(Je,it)}Sn.invert=function(Je,it){return it>-Gr?Oe.invert(Je,it-rn):$e.invert(Je,it)};function Bn(){return(0,p.c)(Sn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function Ln(Je,it){return L(it)>Gr?(Je=Oe(Je,it),Je[1]-=it>0?rn:-rn,Je):$e(Je,it)}Ln.invert=function(Je,it){return L(it)>Gr?Oe.invert(Je,it+(it>0?rn:-rn)):$e.invert(Je,it)};function Wn(){return(0,p.c)(Ln).scale(152.63)}function Hn(Je,it,yt,xt){var Ot=N(4*c/(2*yt+(1+Je-it/2)*l(2*yt)+(Je+it)/2*l(4*yt)+it/2*l(6*yt))),It=N(xt*l(yt)*N((1+Je*S(2*yt)+it*S(4*yt))/(1+Je+it))),Ft=yt*Ar(1);function yr(Or){return N(1+Je*S(2*Or)+it*S(4*Or))}function Ar(Or){var Hr=Or*yt;return(2*Hr+(1+Je-it/2)*l(2*Hr)+(Je+it)/2*l(4*Hr)+it/2*l(6*Hr))/yt}function ir(Or){return yr(Or)*l(Or)}var Er=function(Or,Hr){var un=yt*Se(Ar,Ft*l(Hr)/yt,Hr/c);isNaN(un)&&(un=yt*u(Hr));var Tn=Ot*yr(un);return[Tn*It*Or/c*S(un),Tn/It*l(un)]};return Er.invert=function(Or,Hr){var un=Se(ir,Hr*It/Ot);return[Or*c/(S(un)*Ot*It*yr(un)),M(yt*Ar(un/yt)/Ft)]},yt===0&&(Ot=N(xt/c),Er=function(Or,Hr){return[Or*Ot,l(Hr)/Ot]},Er.invert=function(Or,Hr){return[Or/Ot,M(Hr*Ot)]}),Er}function ya(){var Je=1,it=0,yt=45*A,xt=2,Ot=(0,p.U)(Hn),It=Ot(Je,it,yt,xt);return It.a=function(Ft){return arguments.length?Ot(Je=+Ft,it,yt,xt):Je},It.b=function(Ft){return arguments.length?Ot(Je,it=+Ft,yt,xt):it},It.psiMax=function(Ft){return arguments.length?Ot(Je,it,yt=+Ft*A,xt):yt*E},It.ratio=function(Ft){return arguments.length?Ot(Je,it,yt,xt=+Ft):xt},It.scale(180.739)}function ca(Je,it,yt,xt,Ot,It,Ft,yr,Ar,ir,Er){if(Er.nanEncountered)return NaN;var Or,Hr,un,Tn,On,Nn,$n,Oa,ka,za;if(Or=yt-it,Hr=Je(it+Or*.25),un=Je(yt-Or*.25),isNaN(Hr)){Er.nanEncountered=!0;return}if(isNaN(un)){Er.nanEncountered=!0;return}return Tn=Or*(xt+4*Hr+Ot)/12,On=Or*(Ot+4*un+It)/12,Nn=Tn+On,za=(Nn-Ft)/15,ir>Ar?(Er.maxDepthCount++,Nn+za):Math.abs(za)<yr?Nn+za:($n=it+Or*.5,Oa=ca(Je,it,$n,xt,Hr,Ot,Tn,yr*.5,Ar,ir+1,Er),isNaN(Oa)?(Er.nanEncountered=!0,NaN):(ka=ca(Je,$n,yt,Ot,un,It,On,yr*.5,Ar,ir+1,Er),isNaN(ka)?(Er.nanEncountered=!0,NaN):Oa+ka))}function ba(Je,it,yt,xt,Ot){var It={maxDepthCount:0,nanEncountered:!1};Ot===void 0&&(Ot=20);var Ft=Je(it),yr=Je(.5*(it+yt)),Ar=Je(yt),ir=(Ft+4*yr+Ar)*(yt-it)/6,Er=ca(Je,it,yt,Ft,yr,Ar,ir,xt,Ot,1,It);return Er}function Ia(Je,it,yt){function xt(un){return Je+(1-Je)*n(1-n(un,it),1/it)}function Ot(un){return ba(xt,0,un,1e-4)}for(var It=1/Ot(1),Ft=1e3,yr=(1+1e-8)*It,Ar=[],ir=0;ir<=Ft;ir++)Ar.push(Ot(ir/Ft)*yr);function Er(un){var Tn=0,On=Ft,Nn=Ft>>1;do Ar[Nn]>un?On=Nn:Tn=Nn,Nn=Tn+On>>1;while(Nn>Tn);var $n=Ar[Nn+1]-Ar[Nn];return $n&&($n=(un-Ar[Nn+1])/$n),(Nn+1+$n)/Ft}var Or=2*Er(1)/c*It/yt,Hr=function(un,Tn){var On=Er(L(l(Tn))),Nn=xt(On)*un;return On/=Or,[Nn,Tn>=0?On:-On]};return Hr.invert=function(un,Tn){var On;return Tn*=Or,L(Tn)<1&&(On=u(Tn)*M(Ot(L(Tn))*It)),[un/xt(L(Tn)),On]},Hr}function Ii(){var Je=0,it=2.5,yt=1.183136,xt=(0,p.U)(Ia),Ot=xt(Je,it,yt);return Ot.alpha=function(It){return arguments.length?xt(Je=+It,it,yt):Je},Ot.k=function(It){return arguments.length?xt(Je,it=+It,yt):it},Ot.gamma=function(It){return arguments.length?xt(Je,it,yt=+It):yt},Ot.scale(152.63)}function xi(Je,it){return L(Je[0]-it[0])<h&&L(Je[1]-it[1])<h}function hs(Je,it){for(var yt=-1,xt=Je.length,Ot=Je[0],It,Ft,yr,Ar=[];++yt<xt;){It=Je[yt],Ft=(It[0]-Ot[0])/it,yr=(It[1]-Ot[1])/it;for(var ir=0;ir<it;++ir)Ar.push([Ot[0]+ir*Ft,Ot[1]+ir*yr]);Ot=It}return Ar.push(It),Ar}function ns(Je){var it=[],yt,xt,Ot,It,Ft,yr,Ar,ir=Je[0].length;for(Ar=0;Ar<ir;++Ar)yt=Je[0][Ar],xt=yt[0][0],Ot=yt[0][1],It=yt[1][1],Ft=yt[2][0],yr=yt[2][1],it.push(hs([[xt+h,Ot+h],[xt+h,It-h],[Ft-h,It-h],[Ft-h,yr+h]],30));for(Ar=Je[1].length-1;Ar>=0;--Ar)yt=Je[1][Ar],xt=yt[0][0],Ot=yt[0][1],It=yt[1][1],Ft=yt[2][0],yr=yt[2][1],it.push(hs([[Ft-h,yr-h],[Ft-h,It+h],[xt+h,It+h],[xt+h,Ot-h]],30));return{type:"Polygon",coordinates:[(0,ta.Uf)(it)]}}function Po(Je,it,yt){var xt,Ot;function It(Ar,ir){for(var Er=ir<0?-1:1,Or=it[+(ir<0)],Hr=0,un=Or.length-1;Hr<un&&Ar>Or[Hr][2][0];++Hr);var Tn=Je(Ar-Or[Hr][1][0],ir);return Tn[0]+=Je(Or[Hr][1][0],Er*ir>Er*Or[Hr][0][1]?Or[Hr][0][1]:ir)[0],Tn}yt?It.invert=yt(It):Je.invert&&(It.invert=function(Ar,ir){for(var Er=Ot[+(ir<0)],Or=it[+(ir<0)],Hr=0,un=Er.length;Hr<un;++Hr){var Tn=Er[Hr];if(Tn[0][0]<=Ar&&Ar<Tn[1][0]&&Tn[0][1]<=ir&&ir<Tn[1][1]){var On=Je.invert(Ar-Je(Or[Hr][1][0],0)[0],ir);return On[0]+=Or[Hr][1][0],xi(It(On[0],On[1]),[Ar,ir])?On:null}}});var Ft=(0,p.c)(It),yr=Ft.stream;return Ft.stream=function(Ar){var ir=Ft.rotate(),Er=yr(Ar),Or=(Ft.rotate([0,0]),yr(Ar));return Ft.rotate(ir),Er.sphere=function(){(0,ga.c)(xt,Or)},Er},Ft.lobes=function(Ar){return arguments.length?(xt=ns(Ar),it=Ar.map(function(ir){return ir.map(function(Er){return[[Er[0][0]*A,Er[0][1]*A],[Er[1][0]*A,Er[1][1]*A],[Er[2][0]*A,Er[2][1]*A]]})}),Ot=it.map(function(ir){return ir.map(function(Er){var Or=Je(Er[0][0],Er[0][1])[0],Hr=Je(Er[2][0],Er[2][1])[0],un=Je(Er[1][0],Er[0][1])[1],Tn=Je(Er[1][0],Er[1][1])[1],On;return un>Tn&&(On=un,un=Tn,Tn=On),[[Or,un],[Hr,Tn]]})}),Ft):it.map(function(ir){return ir.map(function(Er){return[[Er[0][0]*E,Er[0][1]*E],[Er[1][0]*E,Er[1][1]*E],[Er[2][0]*E,Er[2][1]*E]]})})},it!=null&&Ft.lobes(it),Ft}var hu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function dc(){return Po(Ye,hu).scale(160.857)}var nh=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function gi(){return Po(Ln,nh).scale(152.63)}var Yu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function pc(){return Po(Oe,Yu).scale(169.529)}var Mo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Jo(){return Po(Oe,Mo).scale(169.529).rotate([20,0])}var vu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Rf(){return Po(Sn,vu,Te).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var oo=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function du(){return Po($e,oo).scale(152.63).rotate([-20,0])}function fo(Je,it){return[3/m*Je*N(c*c/3-it*it),it]}fo.invert=function(Je,it){return[m/3*Je/N(c*c/3-it*it),it]};function mo(){return(0,p.c)(fo).scale(158.837)}function pu(Je){function it(yt,xt){if(L(L(xt)-i)<h)return[0,xt<0?-2:2];var Ot=l(xt),It=n((1+Ot)/(1-Ot),Je/2),Ft=.5*(It+1/It)+S(yt*=Je);return[2*l(yt)/Ft,(It-1/It)/Ft]}return it.invert=function(yt,xt){var Ot=L(xt);if(L(Ot-2)<h)return yt?null:[0,u(xt)*i];if(Ot>2)return null;yt/=2,xt/=2;var It=yt*yt,Ft=xt*xt,yr=2*xt/(1+It+Ft);return yr=n((1+yr)/(1-yr),1/Je),[C(2*yt,1-It-Ft)/Je,M((yr-1)/(yr+1))]},it}function Ro(){var Je=.5,it=(0,p.U)(pu),yt=it(Je);return yt.spacing=function(xt){return arguments.length?it(Je=+xt):Je},yt.scale(124.75)}var Io=c/w;function vs(Je,it){return[Je*(1+N(S(it)))/2,it/(S(it/2)*S(Je/6))]}vs.invert=function(Je,it){var yt=L(Je),xt=L(it),Ot=h,It=i;xt<Io?It*=xt/Io:Ot+=6*b(Io/xt);for(var Ft=0;Ft<25;Ft++){var yr=l(It),Ar=N(S(It)),ir=l(It/2),Er=S(It/2),Or=l(Ot/6),Hr=S(Ot/6),un=.5*Ot*(1+Ar)-yt,Tn=It/(Er*Hr)-xt,On=Ar?-.25*Ot*yr/Ar:0,Nn=.5*(1+Ar),$n=(1+.5*It*ir/Er)/(Er*Hr),Oa=It/Er*(Or/6)/(Hr*Hr),ka=On*Oa-$n*Nn,za=(un*Oa-Tn*Nn)/ka,Ha=(Tn*On-un*$n)/ka;if(It-=za,Ot-=Ha,L(za)<h&&L(Ha)<h)break}return[Je<0?-Ot:Ot,it<0?-It:It]};function ah(){return(0,p.c)(vs).scale(97.2672)}function as(Je,it){var yt=Je*Je,xt=it*it;return[Je*(.975534+xt*(-.119161+yt*-.0143059+xt*-.0547009)),it*(1.00384+yt*(.0802894+xt*-.02855+yt*199025e-9)+xt*(.0998909+xt*-.0491032))]}as.invert=function(Je,it){var yt=u(Je)*c,xt=it/2,Ot=50;do{var It=yt*yt,Ft=xt*xt,yr=yt*xt,Ar=yt*(.975534+Ft*(-.119161+It*-.0143059+Ft*-.0547009))-Je,ir=xt*(1.00384+It*(.0802894+Ft*-.02855+It*199025e-9)+Ft*(.0998909+Ft*-.0491032))-it,Er=.975534-Ft*(.119161+3*It*.0143059+Ft*.0547009),Or=-yr*(2*.119161+4*.0547009*Ft+2*.0143059*It),Hr=yr*(2*.0802894+4*199025e-9*It+2*-.02855*Ft),un=1.00384+It*(.0802894+199025e-9*It)+Ft*(3*(.0998909-.02855*It)-5*.0491032*Ft),Tn=Or*Hr-un*Er,On=(ir*Or-Ar*un)/Tn,Nn=(Ar*Hr-ir*Er)/Tn;yt-=On,xt-=Nn}while((L(On)>h||L(Nn)>h)&&--Ot>0);return Ot&&[yt,xt]};function lv(){return(0,p.c)(as).scale(139.98)}function Ws(Je,it){return[l(Je)/S(it),y(it)*S(Je)]}Ws.invert=function(Je,it){var yt=Je*Je,xt=it*it,Ot=xt+1,It=yt+Ot,Ft=Je?x*N((It-N(It*It-4*yt))/yt):1/N(Ot);return[M(Je*Ft),u(it)*b(Ft)]};function Eo(){return(0,p.c)(Ws).scale(144.049).clipAngle(89.999)}function gc(Je){var it=S(Je),yt=y(d+Je/2);function xt(Ot,It){var Ft=It-Je,yr=L(Ft)<h?Ot*it:L(yr=d+It/2)<h||L(L(yr)-i)<h?0:Ot*Ft/r(y(yr)/yt);return[yr,Ft]}return xt.invert=function(Ot,It){var Ft,yr=It+Je;return[L(It)<h?Ot/it:L(Ft=d+yr/2)<h||L(L(Ft)-i)<h?0:Ot*r(y(Ft)/yt)/It,yr]},xt}function Tl(){return ot(gc).parallel(40).scale(158.837)}function Gs(Je,it){return[Je,1.25*r(y(d+.4*it))]}Gs.invert=function(Je,it){return[Je,2.5*o(v(.8*it))-.625*c]};function yc(){return(0,p.c)(Gs).scale(108.318)}function ih(Je){var it=Je.length-1;function yt(xt,Ot){for(var It=S(Ot),Ft=2/(1+It*S(xt)),yr=Ft*It*l(xt),Ar=Ft*l(Ot),ir=it,Er=Je[ir],Or=Er[0],Hr=Er[1],un;--ir>=0;)Er=Je[ir],Or=Er[0]+yr*(un=Or)-Ar*Hr,Hr=Er[1]+yr*Hr+Ar*un;return Or=yr*(un=Or)-Ar*Hr,Hr=yr*Hr+Ar*un,[Or,Hr]}return yt.invert=function(xt,Ot){var It=20,Ft=xt,yr=Ot;do{for(var Ar=it,ir=Je[Ar],Er=ir[0],Or=ir[1],Hr=0,un=0,Tn;--Ar>=0;)ir=Je[Ar],Hr=Er+Ft*(Tn=Hr)-yr*un,un=Or+Ft*un+yr*Tn,Er=ir[0]+Ft*(Tn=Er)-yr*Or,Or=ir[1]+Ft*Or+yr*Tn;Hr=Er+Ft*(Tn=Hr)-yr*un,un=Or+Ft*un+yr*Tn,Er=Ft*(Tn=Er)-yr*Or-xt,Or=Ft*Or+yr*Tn-Ot;var On=Hr*Hr+un*un,Nn,$n;Ft-=Nn=(Er*Hr+Or*un)/On,yr-=$n=(Or*Hr-Er*un)/On}while(L(Nn)+L($n)>h*h&&--It>0);if(It){var Oa=N(Ft*Ft+yr*yr),ka=2*o(Oa*.5),za=l(ka);return[C(Ft*za,Oa*S(ka)),Oa?M(yr*za/Oa):0]}},yt}var uv=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],If=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],fv=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],cv=[[.9245,0],[0,0],[.01943,0]],hv=[[.721316,0],[0,0],[-.00881625,-.00617325]];function mc(){return Wl(uv,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function vv(){return Wl(If,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function dv(){return Wl(fv,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function oh(){return Wl(cv,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function sh(){return Wl(hv,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Wl(Je,it){var yt=(0,p.c)(ih(Je)).rotate(it).clipAngle(90),xt=(0,We.c)(it),Ot=yt.center;return delete yt.rotate,yt.center=function(It){return arguments.length?Ot(xt(It)):xt.invert(Ot())},yt}var gu=N(6),Wu=N(7);function Gu(Je,it){var yt=M(7*l(it)/(3*gu));return[gu*Je*(2*S(2*yt/3)-1)/Wu,9*l(yt/3)/Wu]}Gu.invert=function(Je,it){var yt=3*M(it*Wu/9);return[Je*Wu/(gu*(2*S(2*yt/3)-1)),M(l(yt)*3*gu/7)]};function lh(){return(0,p.c)(Gu).scale(164.859)}function al(Je,it){for(var yt=(1+x)*l(it),xt=it,Ot=0,It;Ot<25&&(xt-=It=(l(xt/2)+l(xt)-yt)/(.5*S(xt/2)+S(xt)),!(L(It)<h));Ot++);return[Je*(1+2*S(xt)/S(xt/2))/(3*w),2*N(3)*l(xt/2)/N(2+w)]}al.invert=function(Je,it){var yt=it*N(2+w)/(2*N(3)),xt=2*M(yt);return[3*w*Je/(1+2*S(xt)/S(xt/2)),M((yt+l(xt))/(1+x))]};function pv(){return(0,p.c)(al).scale(188.209)}function Of(Je,it){for(var yt=N(6/(4+c)),xt=(1+c/4)*l(it),Ot=it/2,It=0,Ft;It<25&&(Ot-=Ft=(Ot/2+l(Ot)-xt)/(.5+S(Ot)),!(L(Ft)<h));It++);return[yt*(.5+S(Ot))*Je/1.5,yt*Ot]}Of.invert=function(Je,it){var yt=N(6/(4+c)),xt=it/yt;return L(L(xt)-i)<h&&(xt=xt<0?-i:i),[1.5*Je/(yt*(.5+S(xt))),M((xt/2+l(xt))/(1+c/4))]};function uh(){return(0,p.c)(Of).scale(166.518)}var fh=e(47984);function kf(Je,it){var yt=it*it,xt=yt*yt,Ot=yt*xt;return[Je*(.84719-.13063*yt+Ot*Ot*(-.04515+.05494*yt-.02326*xt+.00331*Ot)),it*(1.01183+xt*xt*(-.02625+.01926*yt-.00396*xt))]}kf.invert=function(Je,it){var yt=it,xt=25,Ot,It,Ft,yr;do It=yt*yt,Ft=It*It,yt-=Ot=(yt*(1.01183+Ft*Ft*(-.02625+.01926*It-.00396*Ft))-it)/(1.01183+Ft*Ft*(-.23625+.21186*It+-.05148*Ft));while(L(Ot)>T&&--xt>0);return It=yt*yt,Ft=It*It,yr=It*Ft,[Je/(.84719-.13063*It+yr*yr*(-.04515+.05494*It-.02326*Ft+.00331*yr)),yt]};function _s(){return(0,p.c)(kf).scale(175.295)}function yu(Je,it){return[Je*(1+S(it))/2,2*(it-y(it/2))]}yu.invert=function(Je,it){for(var yt=it/2,xt=0,Ot=1/0;xt<10&&L(Ot)>h;++xt){var It=S(it/2);it-=Ot=(it-y(it/2)-yt)/(1-.5/(It*It))}return[2*Je/(1+S(it)),it]};function Gl(){return(0,p.c)(yu).scale(152.63)}var Xu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Al(){return Po(ae(1/0),Xu).rotate([20,0]).scale(152.63)}function Xs(Je,it){var yt=l(it),xt=S(it),Ot=u(Je);if(Je===0||L(it)===i)return[0,it];if(it===0)return[Je,0];if(L(Je)===i)return[Je*xt,i*yt];var It=c/(2*Je)-2*Je/c,Ft=2*it/c,yr=(1-Ft*Ft)/(yt-Ft),Ar=It*It,ir=yr*yr,Er=1+Ar/ir,Or=1+ir/Ar,Hr=(It*yt/yr-It/2)/Er,un=(ir*yt/Ar+yr/2)/Or,Tn=Hr*Hr+xt*xt/Er,On=un*un-(ir*yt*yt/Ar+yr*yt-1)/Or;return[i*(Hr+N(Tn)*Ot),i*(un+N(On<0?0:On)*u(-it*It)*Ot)]}Xs.invert=function(Je,it){Je/=i,it/=i;var yt=Je*Je,xt=it*it,Ot=yt+xt,It=c*c;return[Je?(Ot-1+N((1-Ot)*(1-Ot)+4*yt))/(2*Je)*i:0,Se(function(Ft){return Ot*(c*l(Ft)-2*Ft)*c+4*Ft*Ft*(it-l(Ft))+2*c*Ft-It*it},0)]};function xc(){return(0,p.c)(Xs).scale(127.267)}var mu=1.0148,Cs=.23185,to=-.14499,bc=.02406,gv=mu,Nf=5*Cs,xu=7*to,bu=9*bc,is=1.790857183;function Ff(Je,it){var yt=it*it;return[Je,it*(mu+yt*yt*(Cs+yt*(to+bc*yt)))]}Ff.invert=function(Je,it){it>is?it=is:it<-is&&(it=-is);var yt=it,xt;do{var Ot=yt*yt;yt-=xt=(yt*(mu+Ot*Ot*(Cs+Ot*(to+bc*Ot)))-it)/(gv+Ot*Ot*(Nf+Ot*(xu+bu*Ot)))}while(L(xt)>h);return[Je,yt]};function wu(){return(0,p.c)(Ff).scale(139.319)}function zf(Je,it){if(L(it)<h)return[Je,0];var yt=y(it),xt=Je*l(it);return[l(xt)/yt,it+(1-S(xt))/yt]}zf.invert=function(Je,it){if(L(it)<h)return[Je,0];var yt=Je*Je+it*it,xt=it*.5,Ot=10,It;do{var Ft=y(xt),yr=1/S(xt),Ar=yt-2*it*xt+xt*xt;xt-=It=(Ft*Ar+2*(xt-it))/(2+Ar*yr*yr+2*(xt-it)*Ft)}while(L(It)>h&&--Ot>0);return Ft=y(xt),[(L(it)<L(xt+1/Ft)?M(Je*Ft):u(it)*u(Je)*(b(L(Je*Ft))+i))/l(xt),xt]};function yv(){return(0,p.c)(zf).scale(103.74)}var ch=e(13696),wc=e(27284);function Tc(Je,it){var yt=Bf(Je[1],Je[0]),xt=Bf(it[1],it[0]),Ot=Uf(yt,xt),It=Zu(yt)/Zu(xt);return Tu([1,0,Je[0][0],0,1,Je[0][1]],Tu([It,0,0,0,It,0],Tu([S(Ot),l(Ot),0,-l(Ot),S(Ot),0],[1,0,-it[0][0],0,1,-it[0][1]])))}function Ac(Je){var it=1/(Je[0]*Je[4]-Je[1]*Je[3]);return[it*Je[4],-it*Je[1],it*(Je[1]*Je[5]-Je[2]*Je[4]),-it*Je[3],it*Je[0],it*(Je[2]*Je[3]-Je[0]*Je[5])]}function Tu(Je,it){return[Je[0]*it[0]+Je[1]*it[3],Je[0]*it[1]+Je[1]*it[4],Je[0]*it[2]+Je[1]*it[5]+Je[2],Je[3]*it[0]+Je[4]*it[3],Je[3]*it[1]+Je[4]*it[4],Je[3]*it[2]+Je[4]*it[5]+Je[5]]}function Bf(Je,it){return[Je[0]-it[0],Je[1]-it[1]]}function Zu(Je){return N(Je[0]*Je[0]+Je[1]*Je[1])}function Uf(Je,it){return C(Je[0]*it[1]-Je[1]*it[0],Je[0]*it[0]+Je[1]*it[1])}function Oi(Je,it,yt){xt(Je,{transform:null});function xt(ir,Er){if(ir.edges=Sc(ir.face),Er.face){var Or=ir.shared=vh(ir.face,Er.face),Hr=Tc(Or.map(Er.project),Or.map(ir.project));ir.transform=Er.transform?Tu(Er.transform,Hr):Hr;for(var un=Er.edges,Tn=0,On=un.length;Tn<On;++Tn)Ls(Or[0],un[Tn][1])&&Ls(Or[1],un[Tn][0])&&(un[Tn]=ir),Ls(Or[0],un[Tn][0])&&Ls(Or[1],un[Tn][1])&&(un[Tn]=ir);for(un=ir.edges,Tn=0,On=un.length;Tn<On;++Tn)Ls(Or[0],un[Tn][0])&&Ls(Or[1],un[Tn][1])&&(un[Tn]=Er),Ls(Or[0],un[Tn][1])&&Ls(Or[1],un[Tn][0])&&(un[Tn]=Er)}else ir.transform=Er.transform;return ir.children&&ir.children.forEach(function(Nn){xt(Nn,ir)}),ir}function Ot(ir,Er){var Or=it(ir,Er),Hr=Or.project([ir*E,Er*E]),un;return(un=Or.transform)?[un[0]*Hr[0]+un[1]*Hr[1]+un[2],-(un[3]*Hr[0]+un[4]*Hr[1]+un[5])]:(Hr[1]=-Hr[1],Hr)}Xl(Je)&&(Ot.invert=function(ir,Er){var Or=It(Je,[ir,-Er]);return Or&&(Or[0]*=A,Or[1]*=A,Or)});function It(ir,Er){var Or=ir.project.invert,Hr=ir.transform,un=Er;if(Hr&&(Hr=Ac(Hr),un=[Hr[0]*un[0]+Hr[1]*un[1]+Hr[2],Hr[3]*un[0]+Hr[4]*un[1]+Hr[5]]),Or&&ir===Ft(Tn=Or(un)))return Tn;for(var Tn,On=ir.children,Nn=0,$n=On&&On.length;Nn<$n;++Nn)if(Tn=It(On[Nn],Er))return Tn}function Ft(ir){return it(ir[0]*A,ir[1]*A)}var yr=(0,p.c)(Ot),Ar=yr.stream;return yr.stream=function(ir){var Er=yr.rotate(),Or=Ar(ir),Hr=(yr.rotate([0,0]),Ar(ir));return yr.rotate(Er),Or.sphere=function(){Hr.polygonStart(),Hr.lineStart(),hh(Hr,Je),Hr.lineEnd(),Hr.polygonEnd()},Or},yr.angle(yt==null?-30:yt*E)}function hh(Je,it,yt){var xt,Ot=it.edges,It=Ot.length,Ft,yr={type:"MultiPoint",coordinates:it.face},Ar=it.face.filter(function(On){return L(On[1])!==90}),ir=(0,ch.c)({type:"MultiPoint",coordinates:Ar}),Er=!1,Or=-1,Hr=ir[1][0]-ir[0][0],un=Hr===180||Hr===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,Fe.c)(yr);if(yt)for(;++Or<It&&Ot[Or]!==yt;);++Or;for(var Tn=0;Tn<It;++Tn)Ft=Ot[(Tn+Or)%It],Array.isArray(Ft)?(Er||(Je.point((xt=(0,wc.c)(Ft[0],un)(h))[0],xt[1]),Er=!0),Je.point((xt=(0,wc.c)(Ft[1],un)(h))[0],xt[1])):(Er=!1,Ft!==yt&&hh(Je,Ft,it))}function Ls(Je,it){return Je&&it&&Je[0]===it[0]&&Je[1]===it[1]}function vh(Je,it){for(var yt,xt,Ot=Je.length,It=null,Ft=0;Ft<Ot;++Ft){yt=Je[Ft];for(var yr=it.length;--yr>=0;)if(xt=it[yr],yt[0]===xt[0]&&yt[1]===xt[1]){if(It)return[It,yt];It=yt}}}function Sc(Je){for(var it=Je.length,yt=[],xt=Je[it-1],Ot=0;Ot<it;++Ot)yt.push([xt,xt=Je[Ot]]);return yt}function Xl(Je){return Je.project.invert||Je.children&&Je.children.some(Xl)}var Sl=e(53285),Vf=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],so=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Je){return Je.map(function(it){return Vf[it]})});function ju(Je){Je=Je||function(yt){var xt=(0,Fe.c)({type:"MultiPoint",coordinates:yt});return(0,Sl.c)().scale(1).translate([0,0]).rotate([-xt[0],-xt[1]])};var it=so.map(function(yt){return{face:yt,project:Je(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,xt){var Ot=it[yt];Ot&&(Ot.children||(Ot.children=[])).push(it[xt])}),Oi(it[0],function(yt,xt){return it[yt<-c/2?xt<0?6:4:yt<0?xt<0?2:0:yt<c/2?xt<0?3:1:xt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Ds=2/N(3);function il(Je,it){var yt=we(Je,it);return[yt[0]*Ds,yt[1]]}il.invert=function(Je,it){return we.invert(Je/Ds,it)};function Zl(Je){Je=Je||function(yt){var xt=(0,Fe.c)({type:"MultiPoint",coordinates:yt});return(0,p.c)(il).translate([0,0]).scale(1).rotate(xt[1]>0?[-xt[0],0]:[180-xt[0],180])};var it=so.map(function(yt){return{face:yt,project:Je(yt)}});return[-1,0,0,1,0,1,4,5].forEach(function(yt,xt){var Ot=it[yt];Ot&&(Ot.children||(Ot.children=[])).push(it[xt])}),Oi(it[0],function(yt,xt){return it[yt<-c/2?xt<0?6:4:yt<0?xt<0?2:0:yt<c/2?xt<0?3:1:xt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Ml(Je){Je=Je||function(Ft){var yr=Ft.length===6?(0,Fe.c)({type:"MultiPoint",coordinates:Ft}):Ft[0];return(0,Sl.c)().scale(1).translate([0,0]).rotate([-yr[0],-yr[1]])};var it=so.map(function(Ft){for(var yr=Ft.map(ms),Ar=yr.length,ir=yr[Ar-1],Er,Or=[],Hr=0;Hr<Ar;++Hr)Er=yr[Hr],Or.push(Rs([ir[0]*.9486832980505138+Er[0]*.31622776601683794,ir[1]*.9486832980505138+Er[1]*.31622776601683794,ir[2]*.9486832980505138+Er[2]*.31622776601683794]),Rs([Er[0]*.9486832980505138+ir[0]*.31622776601683794,Er[1]*.9486832980505138+ir[1]*.31622776601683794,Er[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Er;return Or}),yt=[],xt=[-1,0,0,1,0,1,4,5];it.forEach(function(Ft,yr){for(var Ar=so[yr],ir=Ar.length,Er=yt[yr]=[],Or=0;Or<ir;++Or)it.push([Ar[Or],Ft[(Or*2+2)%(2*ir)],Ft[(Or*2+1)%(2*ir)]]),xt.push(yr),Er.push(ol(ms(Ft[(Or*2+2)%(2*ir)]),ms(Ft[(Or*2+1)%(2*ir)])))});var Ot=it.map(function(Ft){return{project:Je(Ft),face:Ft}});xt.forEach(function(Ft,yr){var Ar=Ot[Ft];Ar&&(Ar.children||(Ar.children=[])).push(Ot[yr])});function It(Ft,yr){var Ar=S(yr),ir=[Ar*S(Ft),Ar*l(Ft),l(yr)],Er=Ft<-c/2?yr<0?6:4:Ft<0?yr<0?2:0:Ft<c/2?yr<0?3:1:yr<0?7:5,Or=yt[Er];return Ot[Ps(Or[0],ir)<0?8+3*Er:Ps(Or[1],ir)<0?8+3*Er+1:Ps(Or[2],ir)<0?8+3*Er+2:Er]}return Oi(Ot[0],It).angle(-30).scale(110.625).center([0,45])}function Ps(Je,it){for(var yt=0,xt=Je.length,Ot=0;yt<xt;++yt)Ot+=Je[yt]*it[yt];return Ot}function ol(Je,it){return[Je[1]*it[2]-Je[2]*it[1],Je[2]*it[0]-Je[0]*it[2],Je[0]*it[1]-Je[1]*it[0]]}function Rs(Je){return[C(Je[1],Je[0])*E,M(t(-1,a(1,Je[2])))*E]}function ms(Je){var it=Je[0]*A,yt=Je[1]*A,xt=S(yt);return[xt*S(it),xt*l(it),l(yt)]}function Ku(){}function mv(Je){if((yt=Je.length)<4)return!1;for(var it=0,yt,xt=Je[yt-1][1]*Je[0][0]-Je[yt-1][0]*Je[0][1];++it<yt;)xt+=Je[it-1][1]*Je[it][0]-Je[it-1][0]*Je[it][1];return xt<=0}function xv(Je,it){for(var yt=it[0],xt=it[1],Ot=!1,It=0,Ft=Je.length,yr=Ft-1;It<Ft;yr=It++){var Ar=Je[It],ir=Ar[0],Er=Ar[1],Or=Je[yr],Hr=Or[0],un=Or[1];Er>xt^un>xt&&yt<(Hr-ir)*(xt-Er)/(un-Er)+ir&&(Ot=!Ot)}return Ot}function bv(Je,it){var yt=it.stream,xt;if(!yt)throw new Error("invalid projection");switch(Je&&Je.type){case"Feature":xt=Mc;break;case"FeatureCollection":xt=wv;break;default:xt=Au;break}return xt(Je,yt)}function wv(Je,it){return{type:"FeatureCollection",features:Je.features.map(function(yt){return Mc(yt,it)})}}function Mc(Je,it){return{type:"Feature",id:Je.id,properties:Je.properties,geometry:Au(Je.geometry,it)}}function dh(Je,it){return{type:"GeometryCollection",geometries:Je.geometries.map(function(yt){return Au(yt,it)})}}function Au(Je,it){if(!Je)return null;if(Je.type==="GeometryCollection")return dh(Je,it);var yt;switch(Je.type){case"Point":yt=Su;break;case"MultiPoint":yt=Su;break;case"LineString":yt=ph;break;case"MultiLineString":yt=ph;break;case"Polygon":yt=Ju;break;case"MultiPolygon":yt=Ju;break;case"Sphere":yt=Ju;break;default:return null}return(0,ga.c)(Je,it(yt)),yt.result()}var _o=[],ds=[],Su={point:function(Je,it){_o.push([Je,it])},result:function(){var Je=_o.length?_o.length<2?{type:"Point",coordinates:_o[0]}:{type:"MultiPoint",coordinates:_o}:null;return _o=[],Je}},ph={lineStart:Ku,point:function(Je,it){_o.push([Je,it])},lineEnd:function(){_o.length&&(ds.push(_o),_o=[])},result:function(){var Je=ds.length?ds.length<2?{type:"LineString",coordinates:ds[0]}:{type:"MultiLineString",coordinates:ds}:null;return ds=[],Je}},Ju={polygonStart:Ku,lineStart:Ku,point:function(Je,it){_o.push([Je,it])},lineEnd:function(){var Je=_o.length;if(Je){do _o.push(_o[0].slice());while(++Je<4);ds.push(_o),_o=[]}},polygonEnd:Ku,result:function(){if(!ds.length)return null;var Je=[],it=[];return ds.forEach(function(yt){mv(yt)?Je.push([yt]):it.push(yt)}),it.forEach(function(yt){var xt=yt[0];Je.some(function(Ot){if(xv(Ot[0],xt))return Ot.push(yt),!0})||Je.push([yt])}),ds=[],Je.length?Je.length>1?{type:"MultiPolygon",coordinates:Je}:{type:"Polygon",coordinates:Je[0]}:null}};function sl(Je){var it=Je(i,0)[0]-Je(-i,0)[0];function yt(xt,Ot){var It=L(xt)<i,Ft=Je(It?xt:xt>0?xt-c:xt+c,Ot),yr=(Ft[0]-Ft[1])*x,Ar=(Ft[0]+Ft[1])*x;if(It)return[yr,Ar];var ir=it*x,Er=yr>0^Ar>0?-1:1;return[Er*yr-u(Ar)*ir,Er*Ar-u(yr)*ir]}return Je.invert&&(yt.invert=function(xt,Ot){var It=(xt+Ot)*x,Ft=(Ot-xt)*x,yr=L(It)<.5*it&&L(Ft)<.5*it;if(!yr){var Ar=it*x,ir=It>0^Ft>0?-1:1,Er=-ir*xt+(Ft>0?1:-1)*Ar,Or=-ir*Ot+(It>0?1:-1)*Ar;It=(-Er-Or)*x,Ft=(Er-Or)*x}var Hr=Je.invert(It,Ft);return yr||(Hr[0]+=It>0?c:-c),Hr}),(0,p.c)(yt).rotate([-90,-90,45]).clipAngle(179.999)}function Tv(){return sl(Cn).scale(176.423)}function gh(){return sl(xr).scale(111.48)}function yh(Je,it){if(!(0<=(it=+it)&&it<=20))throw new Error("invalid digits");function yt(ir){var Er=ir.length,Or=2,Hr=new Array(Er);for(Hr[0]=+ir[0].toFixed(it),Hr[1]=+ir[1].toFixed(it);Or<Er;)Hr[Or]=ir[Or],++Or;return Hr}function xt(ir){return ir.map(yt)}function Ot(ir){for(var Er=yt(ir[0]),Or=[Er],Hr=1;Hr<ir.length;Hr++){var un=yt(ir[Hr]);(un.length>2||un[0]!=Er[0]||un[1]!=Er[1])&&(Or.push(un),Er=un)}return Or.length===1&&ir.length>1&&Or.push(yt(ir[ir.length-1])),Or}function It(ir){return ir.map(Ot)}function Ft(ir){if(ir==null)return ir;var Er;switch(ir.type){case"GeometryCollection":Er={type:"GeometryCollection",geometries:ir.geometries.map(Ft)};break;case"Point":Er={type:"Point",coordinates:yt(ir.coordinates)};break;case"MultiPoint":Er={type:ir.type,coordinates:xt(ir.coordinates)};break;case"LineString":Er={type:ir.type,coordinates:Ot(ir.coordinates)};break;case"MultiLineString":case"Polygon":Er={type:ir.type,coordinates:It(ir.coordinates)};break;case"MultiPolygon":Er={type:"MultiPolygon",coordinates:ir.coordinates.map(It)};break;default:return ir}return ir.bbox!=null&&(Er.bbox=ir.bbox),Er}function yr(ir){var Er={type:"Feature",properties:ir.properties,geometry:Ft(ir.geometry)};return ir.id!=null&&(Er.id=ir.id),ir.bbox!=null&&(Er.bbox=ir.bbox),Er}if(Je!=null)switch(Je.type){case"Feature":return yr(Je);case"FeatureCollection":{var Ar={type:"FeatureCollection",features:Je.features.map(yr)};return Je.bbox!=null&&(Ar.bbox=Je.bbox),Ar}default:return Ft(Je)}return Je}function Ec(Je){var it=l(Je);function yt(xt,Ot){var It=it?y(xt*it/2)/it:xt/2;if(!Ot)return[2*It,-Je];var Ft=2*o(It*l(Ot)),yr=1/y(Ot);return[l(Ft)*yr,Ot+(1-S(Ft))*yr-Je]}return yt.invert=function(xt,Ot){if(L(Ot+=Je)<h)return[it?2*o(it*xt/2)/it:xt,0];var It=xt*xt+Ot*Ot,Ft=0,yr=10,Ar;do{var ir=y(Ft),Er=1/S(Ft),Or=It-2*Ot*Ft+Ft*Ft;Ft-=Ar=(ir*Or+2*(Ft-Ot))/(2+Or*Er*Er+2*(Ft-Ot)*ir)}while(L(Ar)>h&&--yr>0);var Hr=xt*(ir=y(Ft)),un=y(L(Ot)<L(Ft+1/ir)?M(Hr)*.5:b(Hr)*.5+c/4)/l(Ft);return[it?2*o(it*un)/it:2*un,Ft]},yt}function mh(){return ot(Ec).scale(131.215)}var Qo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Qo.forEach(function(Je){Je[1]*=1.0144});function Is(Je,it){var yt=a(18,L(it)*36/c),xt=g(yt),Ot=yt-xt,It=(Or=Qo[xt])[0],Ft=Or[1],yr=(Or=Qo[++xt])[0],Ar=Or[1],ir=(Or=Qo[a(19,++xt)])[0],Er=Or[1],Or;return[Je*(yr+Ot*(ir-It)/2+Ot*Ot*(ir-2*yr+It)/2),(it>0?i:-i)*(Ar+Ot*(Er-Ft)/2+Ot*Ot*(Er-2*Ar+Ft)/2)]}Is.invert=function(Je,it){var yt=it/i,xt=yt*90,Ot=a(18,L(xt/5)),It=t(0,g(Ot));do{var Ft=Qo[It][1],yr=Qo[It+1][1],Ar=Qo[a(19,It+2)][1],ir=Ar-Ft,Er=Ar-2*yr+Ft,Or=2*(L(yt)-yr)/ir,Hr=Er/ir,un=Or*(1-Hr*Or*(1-2*Hr*Or));if(un>=0||It===1){xt=(it>=0?5:-5)*(un+Ot);var Tn=50,On;do Ot=a(18,L(xt)/5),It=g(Ot),un=Ot-It,Ft=Qo[It][1],yr=Qo[It+1][1],Ar=Qo[a(19,It+2)][1],xt-=(On=(it>=0?i:-i)*(yr+un*(Ar-Ft)/2+un*un*(Ar-2*yr+Ft)/2)-it)*E;while(L(On)>T&&--Tn>0);break}}while(--It>=0);var Nn=Qo[It][0],$n=Qo[It+1][0],Oa=Qo[a(19,It+2)][0];return[Je/($n+un*(Oa-Nn)/2+un*un*(Oa-2*$n+Nn)/2),xt*A]};function El(){return(0,p.c)(Is).scale(152.63)}function Mu(Je){function it(yt,xt){var Ot=S(xt),It=(Je-1)/(Je-Ot*S(yt));return[It*Ot*l(yt),It*l(xt)]}return it.invert=function(yt,xt){var Ot=yt*yt+xt*xt,It=N(Ot),Ft=(Je-N(1-Ot*(Je+1)/(Je-1)))/((Je-1)/It+It/(Je-1));return[C(yt*Ft,It*N(1-Ft*Ft)),It?M(xt*Ft/It):0]},it}function Hf(Je,it){var yt=Mu(Je);if(!it)return yt;var xt=S(it),Ot=l(it);function It(Ft,yr){var Ar=yt(Ft,yr),ir=Ar[1],Er=ir*Ot/(Je-1)+xt;return[Ar[0]*xt/Er,ir/Er]}return It.invert=function(Ft,yr){var Ar=(Je-1)/(Je-1-yr*Ot);return yt.invert(Ar*Ft,Ar*yr*xt)},It}function jl(){var Je=2,it=0,yt=(0,p.U)(Hf),xt=yt(Je,it);return xt.distance=function(Ot){return arguments.length?yt(Je=+Ot,it):Je},xt.tilt=function(Ot){return arguments.length?yt(Je,it=Ot*A):it*E},xt.scale(432.147).clipAngle(b(1/Je)*E-1e-6)}var Kl=1e-4,xh=1e4,ll=-180,Eu=ll+Kl,_l=180,ul=_l-Kl,Qu=-90,_u=Qu+Kl,Di=90,Cu=Di-Kl;function Yf(Je){return Je.length>0}function bh(Je){return Math.floor(Je*xh)/xh}function Lu(Je){return Je===Qu||Je===Di?[0,Je]:[ll,bh(Je)]}function $u(Je){var it=Je[0],yt=Je[1],xt=!1;return it<=Eu?(it=ll,xt=!0):it>=ul&&(it=_l,xt=!0),yt<=_u?(yt=Qu,xt=!0):yt>=Cu&&(yt=Di,xt=!0),xt?[it,yt]:Je}function Wf(Je){return Je.map($u)}function _c(Je,it,yt){for(var xt=0,Ot=Je.length;xt<Ot;++xt){var It=Je[xt].slice();yt.push({index:-1,polygon:it,ring:It});for(var Ft=0,yr=It.length;Ft<yr;++Ft){var Ar=It[Ft],ir=Ar[0],Er=Ar[1];if(ir<=Eu||ir>=ul||Er<=_u||Er>=Cu){It[Ft]=$u(Ar);for(var Or=Ft+1;Or<yr;++Or){var Hr=It[Or],un=Hr[0],Tn=Hr[1];if(un>Eu&&un<ul&&Tn>_u&&Tn<Cu)break}if(Or===Ft+1)continue;if(Ft){var On={index:-1,polygon:it,ring:It.slice(0,Ft+1)};On.ring[On.ring.length-1]=Lu(Er),yt[yt.length-1]=On}else yt.pop();if(Or>=yr)break;yt.push({index:-1,polygon:it,ring:It=It.slice(Or-1)}),It[0]=Lu(It[0][1]),Ft=-1,yr=It.length}}}}function qu(Je){var it,yt=Je.length,xt={},Ot={},It,Ft,yr,Ar,ir;for(it=0;it<yt;++it){if(It=Je[it],Ft=It.ring[0],Ar=It.ring[It.ring.length-1],Ft[0]===Ar[0]&&Ft[1]===Ar[1]){It.polygon.push(It.ring),Je[it]=null;continue}It.index=it,xt[Ft]=Ot[Ar]=It}for(it=0;it<yt;++it)if(It=Je[it],It){if(Ft=It.ring[0],Ar=It.ring[It.ring.length-1],yr=Ot[Ft],ir=xt[Ar],delete xt[Ft],delete Ot[Ar],Ft[0]===Ar[0]&&Ft[1]===Ar[1]){It.polygon.push(It.ring);continue}yr?(delete Ot[Ft],delete xt[yr.ring[0]],yr.ring.pop(),Je[yr.index]=null,It={index:-1,polygon:yr.polygon,ring:yr.ring.concat(It.ring)},yr===ir?It.polygon.push(It.ring):(It.index=yt++,Je.push(xt[It.ring[0]]=Ot[It.ring[It.ring.length-1]]=It))):ir?(delete xt[Ar],delete Ot[ir.ring[ir.ring.length-1]],It.ring.pop(),It={index:yt++,polygon:ir.polygon,ring:It.ring.concat(ir.ring)},Je[ir.index]=null,Je.push(xt[It.ring[0]]=Ot[It.ring[It.ring.length-1]]=It)):(It.ring.push(It.ring[0]),It.polygon.push(It.ring))}}function ef(Je){var it={type:"Feature",geometry:Cl(Je.geometry)};return Je.id!=null&&(it.id=Je.id),Je.bbox!=null&&(it.bbox=Je.bbox),Je.properties!=null&&(it.properties=Je.properties),it}function Cl(Je){if(Je==null)return Je;var it,yt,xt,Ot;switch(Je.type){case"GeometryCollection":it={type:"GeometryCollection",geometries:Je.geometries.map(Cl)};break;case"Point":it={type:"Point",coordinates:$u(Je.coordinates)};break;case"MultiPoint":case"LineString":it={type:Je.type,coordinates:Wf(Je.coordinates)};break;case"MultiLineString":it={type:"MultiLineString",coordinates:Je.coordinates.map(Wf)};break;case"Polygon":{var It=[];_c(Je.coordinates,It,yt=[]),qu(yt),it={type:"Polygon",coordinates:It};break}case"MultiPolygon":{yt=[],xt=-1,Ot=Je.coordinates.length;for(var Ft=new Array(Ot);++xt<Ot;)_c(Je.coordinates[xt],Ft[xt]=[],yt);qu(yt),it={type:"MultiPolygon",coordinates:Ft.filter(Yf)};break}default:return Je}return Je.bbox!=null&&(it.bbox=Je.bbox),it}function tf(Je){if(Je==null)return Je;switch(Je.type){case"Feature":return ef(Je);case"FeatureCollection":{var it={type:"FeatureCollection",features:Je.features.map(ef)};return Je.bbox!=null&&(it.bbox=Je.bbox),it}default:return Cl(Je)}}function Ll(Je,it){var yt=y(it/2),xt=l(d*yt);return[Je*(.74482-.34588*xt*xt),1.70711*yt]}Ll.invert=function(Je,it){var yt=it/1.70711,xt=l(d*yt);return[Je/(.74482-.34588*xt*xt),2*o(yt)]};function xo(){return(0,p.c)(Ll).scale(146.153)}function Zs(Je,it,yt){var xt=(0,wc.c)(it,yt),Ot=xt(.5),It=(0,We.c)([-Ot[0],-Ot[1]])(it),Ft=xt.distance/2,yr=-M(l(It[1]*A)/l(Ft)),Ar=[-Ot[0],-Ot[1],-(It[0]>0?c-yr:yr)*E],ir=(0,p.c)(Je(Ft)).rotate(Ar),Er=(0,We.c)(Ar),Or=ir.center;return delete ir.rotate,ir.center=function(Hr){return arguments.length?Or(Er(Hr)):Er.invert(Or())},ir.clipAngle(90)}function Cc(Je){var it=S(Je);function yt(xt,Ot){var It=(0,Sl.Y)(xt,Ot);return It[0]*=it,It}return yt.invert=function(xt,Ot){return Sl.Y.invert(xt/it,Ot)},yt}function Jl(){return Gf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Gf(Je,it){return Zs(Cc,Je,it)}function rf(Je){if(!(Je*=2))return ue.O;var it=-Je/2,yt=-it,xt=Je*Je,Ot=y(yt),It=.5/l(yt);function Ft(yr,Ar){var ir=b(S(Ar)*S(yr-it)),Er=b(S(Ar)*S(yr-yt)),Or=Ar<0?-1:1;return ir*=ir,Er*=Er,[(ir-Er)/(2*Je),Or*N(4*xt*Er-(xt-ir+Er)*(xt-ir+Er))/(2*Je)]}return Ft.invert=function(yr,Ar){var ir=Ar*Ar,Er=S(N(ir+(Hr=yr+it)*Hr)),Or=S(N(ir+(Hr=yr+yt)*Hr)),Hr,un;return[C(un=Er-Or,Hr=(Er+Or)*Ot),(Ar<0?-1:1)*b(N(Hr*Hr+un*un)*It)]},Ft}function Av(){return wh([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function wh(Je,it){return Zs(rf,Je,it)}function Go(Je,it){if(L(it)<h)return[Je,0];var yt=L(it/i),xt=M(yt);if(L(Je)<h||L(L(it)-i)<h)return[0,u(it)*c*y(xt/2)];var Ot=S(xt),It=L(c/Je-Je/c)/2,Ft=It*It,yr=Ot/(yt+Ot-1),Ar=yr*(2/yt-1),ir=Ar*Ar,Er=ir+Ft,Or=yr-ir,Hr=Ft+yr;return[u(Je)*c*(It*Or+N(Ft*Or*Or-Er*(yr*yr-ir)))/Er,u(it)*c*(Ar*Hr-It*N((Ft+1)*Er-Hr*Hr))/Er]}Go.invert=function(Je,it){if(L(it)<h)return[Je,0];if(L(Je)<h)return[0,i*l(2*o(it/c))];var yt=(Je/=c)*Je,xt=(it/=c)*it,Ot=yt+xt,It=Ot*Ot,Ft=-L(it)*(1+Ot),yr=Ft-2*xt+yt,Ar=-2*Ft+1+2*xt+It,ir=xt/Ar+(2*yr*yr*yr/(Ar*Ar*Ar)-9*Ft*yr/(Ar*Ar))/27,Er=(Ft-yr*yr/(3*Ar))/Ar,Or=2*N(-Er/3),Hr=b(3*ir/(Er*Or))/3;return[c*(Ot-1+N(1+2*(yt-xt)+It))/(2*Je),u(it)*c*(-Or*S(Hr+c/3)-yr/(3*Ar))]};function nf(){return(0,p.c)(Go).scale(79.4183)}function Du(Je,it){if(L(it)<h)return[Je,0];var yt=L(it/i),xt=M(yt);if(L(Je)<h||L(L(it)-i)<h)return[0,u(it)*c*y(xt/2)];var Ot=S(xt),It=L(c/Je-Je/c)/2,Ft=It*It,yr=Ot*(N(1+Ft)-It*Ot)/(1+Ft*yt*yt);return[u(Je)*c*yr,u(it)*c*N(1-yr*(2*It+yr))]}Du.invert=function(Je,it){if(!Je)return[0,i*l(2*o(it/c))];var yt=L(Je/c),xt=(1-yt*yt-(it/=c)*it)/(2*yt),Ot=xt*xt,It=N(Ot+1);return[u(Je)*c*(It-xt),u(it)*i*l(2*C(N((1-2*xt*yt)*(xt+It)-yt),N(It+xt+yt)))]};function Th(){return(0,p.c)(Du).scale(79.4183)}function Dl(Je,it){if(L(it)<h)return[Je,0];var yt=it/i,xt=M(yt);if(L(Je)<h||L(L(it)-i)<h)return[0,c*y(xt/2)];var Ot=(c/Je-Je/c)/2,It=yt/(1+S(xt));return[c*(u(Je)*N(Ot*Ot+1-It*It)-Ot),c*It]}Dl.invert=function(Je,it){if(!it)return[Je,0];var yt=it/c,xt=(c*c*(1-yt*yt)-Je*Je)/(2*c*Je);return[Je?c*(u(Je)*N(xt*xt+1)-xt):0,i*l(2*o(yt))]};function Sv(){return(0,p.c)(Dl).scale(79.4183)}function os(Je,it){if(!it)return[Je,0];var yt=L(it);if(!Je||yt===i)return[0,it];var xt=yt/i,Ot=xt*xt,It=(8*xt-Ot*(Ot+2)-5)/(2*Ot*(xt-1)),Ft=It*It,yr=xt*It,Ar=Ot+Ft+2*yr,ir=xt+3*It,Er=Je/i,Or=Er+1/Er,Hr=u(L(Je)-i)*N(Or*Or-4),un=Hr*Hr,Tn=Ar*(Ot+Ft*un-1)+(1-Ot)*(Ot*(ir*ir+4*Ft)+12*yr*Ft+4*Ft*Ft),On=(Hr*(Ar+Ft-1)+2*N(Tn))/(4*Ar+un);return[u(Je)*i*On,u(it)*i*N(1+Hr*L(On)-On*On)]}os.invert=function(Je,it){var yt;if(!Je||!it)return[Je,it];it/=c;var xt=u(Je)*Je/i,Ot=(xt*xt-1+4*it*it)/L(xt),It=Ot*Ot,Ft=2*it,yr=50;do{var Ar=Ft*Ft,ir=(8*Ft-Ar*(Ar+2)-5)/(2*Ar*(Ft-1)),Er=(3*Ft-Ar*Ft-10)/(2*Ar*Ft),Or=ir*ir,Hr=Ft*ir,un=Ft+ir,Tn=un*un,On=Ft+3*ir,Nn=Tn*(Ar+Or*It-1)+(1-Ar)*(Ar*(On*On+4*Or)+Or*(12*Hr+4*Or)),$n=-2*un*(4*Hr*Or+(1-4*Ar+3*Ar*Ar)*(1+Er)+Or*(-6+14*Ar-It+(-8+8*Ar-2*It)*Er)+Hr*(-8+12*Ar+(-10+10*Ar-It)*Er)),Oa=N(Nn),ka=Ot*(Tn+Or-1)+2*Oa-xt*(4*Tn+It),za=Ot*(2*ir*Er+2*un*(1+Er))+$n/Oa-8*un*(Ot*(-1+Or+Tn)+2*Oa)*(1+Er)/(It+4*Tn);Ft-=yt=ka/za}while(yt>h&&--yr>0);return[u(Je)*(N(Ot*Ot+4)+Ot)*c/4,i*Ft]};function af(){return(0,p.c)(os).scale(127.16)}function Xf(Je,it,yt,xt,Ot){function It(Ft,yr){var Ar=yt*l(xt*yr),ir=N(1-Ar*Ar),Er=N(2/(1+ir*S(Ft*=Ot)));return[Je*ir*Er*l(Ft),it*Ar*Er]}return It.invert=function(Ft,yr){var Ar=Ft/Je,ir=yr/it,Er=N(Ar*Ar+ir*ir),Or=2*M(Er/2);return[C(Ft*y(Or),Je*Er)/Ot,Er&&M(yr*l(Or)/(it*yt*Er))/xt]},It}function fl(Je,it,yt,xt){var Ot=c/3;Je=t(Je,h),it=t(it,h),Je=a(Je,i),it=a(it,c-h),yt=t(yt,0),yt=a(yt,100-h),xt=t(xt,h);var It=yt/100+1,Ft=xt/100,yr=b(It*S(Ot))/Ot,Ar=l(Je)/l(yr*i),ir=it/c,Er=N(Ft*l(Je/2)/l(it/2)),Or=Er/N(ir*Ar*yr),Hr=1/(Er*N(ir*Ar*yr));return Xf(Or,Hr,Ar,yr,ir)}function Pl(){var Je=65*A,it=60*A,yt=20,xt=200,Ot=(0,p.U)(fl),It=Ot(Je,it,yt,xt);return It.poleline=function(Ft){return arguments.length?Ot(Je=+Ft*A,it,yt,xt):Je*E},It.parallels=function(Ft){return arguments.length?Ot(Je,it=+Ft*A,yt,xt):it*E},It.inflation=function(Ft){return arguments.length?Ot(Je,it,yt=+Ft,xt):yt},It.ratio=function(Ft){return arguments.length?Ot(Je,it,yt,xt=+Ft):xt},It.scale(163.775)}function Lc(){return Pl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var of=4*c+3*N(3),sf=2*N(2*c*N(3)/of),Zf=Me(sf*N(3)/c,sf,of/6);function Ah(){return(0,p.c)(Zf).scale(176.84)}function lf(Je,it){return[Je*N(1-3*it*it/(c*c)),it]}lf.invert=function(Je,it){return[Je/N(1-3*it*it/(c*c)),it]};function Dc(){return(0,p.c)(lf).scale(152.63)}function Ql(Je,it){var yt=S(it),xt=S(Je)*yt,Ot=1-xt,It=S(Je=C(l(Je)*yt,-l(it))),Ft=l(Je);return yt=N(1-xt*xt),[Ft*yt-It*Ot,-It*yt-Ft*Ot]}Ql.invert=function(Je,it){var yt=(Je*Je+it*it)/-2,xt=N(-yt*(2+yt)),Ot=it*yt+Je*xt,It=Je*yt-it*xt,Ft=N(It*It+Ot*Ot);return[C(xt*Ot,Ft*(1+yt)),Ft?-M(xt*It/Ft):0]};function Pc(){return(0,p.c)(Ql).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function uf(Je,it){var yt=j(Je,it);return[(yt[0]+Je/i)/2,(yt[1]+it)/2]}uf.invert=function(Je,it){var yt=Je,xt=it,Ot=25;do{var It=S(xt),Ft=l(xt),yr=l(2*xt),Ar=Ft*Ft,ir=It*It,Er=l(yt),Or=S(yt/2),Hr=l(yt/2),un=Hr*Hr,Tn=1-ir*Or*Or,On=Tn?b(It*Or)*N(Nn=1/Tn):Nn=0,Nn,$n=.5*(2*On*It*Hr+yt/i)-Je,Oa=.5*(On*Ft+xt)-it,ka=.5*Nn*(ir*un+On*It*Or*Ar)+.5/i,za=Nn*(Er*yr/4-On*Ft*Hr),Ha=.125*Nn*(yr*Hr-On*Ft*ir*Er),si=.5*Nn*(Ar*Or+On*un*It)+.5,Pi=za*Ha-si*ka,lo=(Oa*za-$n*si)/Pi,ve=($n*Ha-Oa*ka)/Pi;yt-=lo,xt-=ve}while((L(lo)>h||L(ve)>h)&&--Ot>0);return[yt,xt]};function Sh(){return(0,p.c)(uf).scale(158.837)}},88728:function(V,Y,e){e.d(Y,{c:function(){return p}});function p(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(S){C(o,S,this.t),C(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new L;function C(S,v,g){var r=S.s=v+g,t=r-v,a=r-t;S.t=v-a+(g-t)}},95384:function(V,Y,e){e.d(Y,{cp:function(){return T},mQ:function(){return S},oB:function(){return f}});var p=e(88728),L=e(64528),o=e(70932),C=e(16016),S=(0,p.c)(),v=(0,p.c)(),g,r,t,a,n,f={point:o.c,lineStart:o.c,lineEnd:o.c,polygonStart:function(){S.reset(),f.lineStart=u,f.lineEnd=l},polygonEnd:function(){var c=+S;v.add(c<0?L.kD+c:c),this.lineStart=this.lineEnd=this.point=o.c},sphere:function(){v.add(L.kD)}};function u(){f.point=y}function l(){h(g,r)}function y(c,i){f.point=h,g=c,r=i,c*=L.qw,i*=L.qw,t=c,a=(0,L.W8)(i=i/2+L.wL),n=(0,L.g$)(i)}function h(c,i){c*=L.qw,i*=L.qw,i=i/2+L.wL;var d=c-t,x=d>=0?1:-1,w=x*d,_=(0,L.W8)(i),m=(0,L.g$)(i),E=n*m,A=a*_+E*(0,L.W8)(w),s=E*x*(0,L.g$)(w);S.add((0,L.WE)(s,A)),t=c,a=_,n=m}function T(c){return v.reset(),(0,C.c)(c,f),v*2}},13696:function(V,Y,e){e.d(Y,{c:function(){return M}});var p=e(88728),L=e(95384),o=e(84220),C=e(64528),S=e(16016),v,g,r,t,a,n,f,u,l=(0,p.c)(),y,h,T={point:c,lineStart:d,lineEnd:x,polygonStart:function(){T.point=w,T.lineStart=_,T.lineEnd=m,l.reset(),L.oB.polygonStart()},polygonEnd:function(){L.oB.polygonEnd(),T.point=c,T.lineStart=d,T.lineEnd=x,L.mQ<0?(v=-(r=180),g=-(t=90)):l>C.Gg?t=90:l<-C.Gg&&(g=-90),h[0]=v,h[1]=r},sphere:function(){v=-(r=180),g=-(t=90)}};function c(b,N){y.push(h=[v=b,r=b]),N<g&&(g=N),N>t&&(t=N)}function i(b,N){var k=(0,o.ux)([b*C.qw,N*C.qw]);if(u){var H=(0,o.CW)(u,k),F=[H[1],-H[0],0],B=(0,o.CW)(F,H);(0,o.cJ)(B),B=(0,o.G)(B);var U=b-a,z=U>0?1:-1,W=B[0]*C.oh*z,j,ee=(0,C.a2)(U)>180;ee^(z*a<W&&W<z*b)?(j=B[1]*C.oh,j>t&&(t=j)):(W=(W+360)%360-180,ee^(z*a<W&&W<z*b)?(j=-B[1]*C.oh,j<g&&(g=j)):(N<g&&(g=N),N>t&&(t=N))),ee?b<a?E(v,b)>E(v,r)&&(r=b):E(b,r)>E(v,r)&&(v=b):r>=v?(b<v&&(v=b),b>r&&(r=b)):b>a?E(v,b)>E(v,r)&&(r=b):E(b,r)>E(v,r)&&(v=b)}else y.push(h=[v=b,r=b]);N<g&&(g=N),N>t&&(t=N),u=k,a=b}function d(){T.point=i}function x(){h[0]=v,h[1]=r,T.point=c,u=null}function w(b,N){if(u){var k=b-a;l.add((0,C.a2)(k)>180?k+(k>0?360:-360):k)}else n=b,f=N;L.oB.point(b,N),i(b,N)}function _(){L.oB.lineStart()}function m(){w(n,f),L.oB.lineEnd(),(0,C.a2)(l)>C.Gg&&(v=-(r=180)),h[0]=v,h[1]=r,u=null}function E(b,N){return(N-=b)<0?N+360:N}function A(b,N){return b[0]-N[0]}function s(b,N){return b[0]<=b[1]?b[0]<=N&&N<=b[1]:N<b[0]||b[1]<N}function M(b){var N,k,H,F,B,U,z;if(t=r=-(v=g=1/0),y=[],(0,S.c)(b,T),k=y.length){for(y.sort(A),N=1,H=y[0],B=[H];N<k;++N)F=y[N],s(H,F[0])||s(H,F[1])?(E(H[0],F[1])>E(H[0],H[1])&&(H[1]=F[1]),E(F[0],H[1])>E(H[0],H[1])&&(H[0]=F[0])):B.push(H=F);for(U=-1/0,k=B.length-1,N=0,H=B[k];N<=k;H=F,++N)F=B[N],(z=E(H[1],F[0]))>U&&(U=z,v=F[0],r=H[1])}return y=h=null,v===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,g],[r,t]]}},84220:function(V,Y,e){e.d(Y,{CW:function(){return S},Ez:function(){return C},G:function(){return L},cJ:function(){return r},mg:function(){return v},ux:function(){return o},wx:function(){return g}});var p=e(64528);function L(t){return[(0,p.WE)(t[1],t[0]),(0,p.qR)(t[2])]}function o(t){var a=t[0],n=t[1],f=(0,p.W8)(n);return[f*(0,p.W8)(a),f*(0,p.g$)(a),(0,p.g$)(n)]}function C(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]}function S(t,a){return[t[1]*a[2]-t[2]*a[1],t[2]*a[0]-t[0]*a[2],t[0]*a[1]-t[1]*a[0]]}function v(t,a){t[0]+=a[0],t[1]+=a[1],t[2]+=a[2]}function g(t,a){return[t[0]*a,t[1]*a,t[2]*a]}function r(t){var a=(0,p._I)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=a,t[1]/=a,t[2]/=a}},24052:function(V,Y,e){e.d(Y,{c:function(){return k}});var p=e(64528),L=e(70932),o=e(16016),C,S,v,g,r,t,a,n,f,u,l,y,h,T,c,i,d={sphere:L.c,point:x,lineStart:_,lineEnd:A,polygonStart:function(){d.lineStart=s,d.lineEnd=M},polygonEnd:function(){d.lineStart=_,d.lineEnd=A}};function x(H,F){H*=p.qw,F*=p.qw;var B=(0,p.W8)(F);w(B*(0,p.W8)(H),B*(0,p.g$)(H),(0,p.g$)(F))}function w(H,F,B){++C,v+=(H-v)/C,g+=(F-g)/C,r+=(B-r)/C}function _(){d.point=m}function m(H,F){H*=p.qw,F*=p.qw;var B=(0,p.W8)(F);T=B*(0,p.W8)(H),c=B*(0,p.g$)(H),i=(0,p.g$)(F),d.point=E,w(T,c,i)}function E(H,F){H*=p.qw,F*=p.qw;var B=(0,p.W8)(F),U=B*(0,p.W8)(H),z=B*(0,p.g$)(H),W=(0,p.g$)(F),j=(0,p.WE)((0,p._I)((j=c*W-i*z)*j+(j=i*U-T*W)*j+(j=T*z-c*U)*j),T*U+c*z+i*W);S+=j,t+=j*(T+(T=U)),a+=j*(c+(c=z)),n+=j*(i+(i=W)),w(T,c,i)}function A(){d.point=x}function s(){d.point=b}function M(){N(y,h),d.point=x}function b(H,F){y=H,h=F,H*=p.qw,F*=p.qw,d.point=N;var B=(0,p.W8)(F);T=B*(0,p.W8)(H),c=B*(0,p.g$)(H),i=(0,p.g$)(F),w(T,c,i)}function N(H,F){H*=p.qw,F*=p.qw;var B=(0,p.W8)(F),U=B*(0,p.W8)(H),z=B*(0,p.g$)(H),W=(0,p.g$)(F),j=c*W-i*z,ee=i*U-T*W,ie=T*z-c*U,oe=(0,p._I)(j*j+ee*ee+ie*ie),he=(0,p.qR)(oe),ne=oe&&-he/oe;f+=ne*j,u+=ne*ee,l+=ne*ie,S+=he,t+=he*(T+(T=U)),a+=he*(c+(c=z)),n+=he*(i+(i=W)),w(T,c,i)}function k(H){C=S=v=g=r=t=a=n=f=u=l=0,(0,o.c)(H,d);var F=f,B=u,U=l,z=F*F+B*B+U*U;return z<p.a8&&(F=t,B=a,U=n,S<p.Gg&&(F=v,B=g,U=r),z=F*F+B*B+U*U,z<p.a8)?[NaN,NaN]:[(0,p.WE)(B,F)*p.oh,(0,p.qR)(U/(0,p._I)(z))*p.oh]}},61780:function(V,Y,e){e.d(Y,{Q:function(){return S},c:function(){return g}});var p=e(84220);function L(r){return function(){return r}}var o=e(64528),C=e(92992);function S(r,t,a,n,f,u){if(a){var l=(0,o.W8)(t),y=(0,o.g$)(t),h=n*a;f==null?(f=t+n*o.kD,u=t-h/2):(f=v(l,f),u=v(l,u),(n>0?f<u:f>u)&&(f+=n*o.kD));for(var T,c=f;n>0?c>u:c<u;c-=h)T=(0,p.G)([l,-y*(0,o.W8)(c),-y*(0,o.g$)(c)]),r.point(T[0],T[1])}}function v(r,t){t=(0,p.ux)(t),t[0]-=r,(0,p.cJ)(t);var a=(0,o.mE)(-t[1]);return((-t[2]<0?-a:a)+o.kD-o.Gg)%o.kD}function g(){var r=L([0,0]),t=L(90),a=L(6),n,f,u={point:l};function l(h,T){n.push(h=f(h,T)),h[0]*=o.oh,h[1]*=o.oh}function y(){var h=r.apply(this,arguments),T=t.apply(this,arguments)*o.qw,c=a.apply(this,arguments)*o.qw;return n=[],f=(0,C.O)(-h[0]*o.qw,-h[1]*o.qw,0).invert,S(u,T,c,1),h={type:"Polygon",coordinates:[n]},n=f=null,h}return y.center=function(h){return arguments.length?(r=typeof h=="function"?h:L([+h[0],+h[1]]),y):r},y.radius=function(h){return arguments.length?(t=typeof h=="function"?h:L(+h),y):t},y.precision=function(h){return arguments.length?(a=typeof h=="function"?h:L(+h),y):a},y}},78284:function(V,Y,e){var p=e(14229),L=e(64528);Y.c=(0,p.c)(function(){return!0},o,S,[-L.pi,-L.or]);function o(v){var g=NaN,r=NaN,t=NaN,a;return{lineStart:function(){v.lineStart(),a=1},point:function(n,f){var u=n>0?L.pi:-L.pi,l=(0,L.a2)(n-g);(0,L.a2)(l-L.pi)<L.Gg?(v.point(g,r=(r+f)/2>0?L.or:-L.or),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),v.point(n,r),a=0):t!==u&&l>=L.pi&&((0,L.a2)(g-t)<L.Gg&&(g-=t*L.Gg),(0,L.a2)(n-u)<L.Gg&&(n-=u*L.Gg),r=C(g,r,n,f),v.point(t,r),v.lineEnd(),v.lineStart(),v.point(u,r),a=0),v.point(g=n,r=f),t=u},lineEnd:function(){v.lineEnd(),g=r=NaN},clean:function(){return 2-a}}}function C(v,g,r,t){var a,n,f=(0,L.g$)(v-r);return(0,L.a2)(f)>L.Gg?(0,L.MQ)(((0,L.g$)(g)*(n=(0,L.W8)(t))*(0,L.g$)(r)-(0,L.g$)(t)*(a=(0,L.W8)(g))*(0,L.g$)(v))/(a*n*f)):(g+t)/2}function S(v,g,r,t){var a;if(v==null)a=r*L.or,t.point(-L.pi,a),t.point(0,a),t.point(L.pi,a),t.point(L.pi,0),t.point(L.pi,-a),t.point(0,-a),t.point(-L.pi,-a),t.point(-L.pi,0),t.point(-L.pi,a);else if((0,L.a2)(v[0]-g[0])>L.Gg){var n=v[0]<g[0]?L.pi:-L.pi;a=r*n/2,t.point(-n,a),t.point(0,a),t.point(n,a)}else t.point(g[0],g[1])}},97208:function(V,Y,e){e.d(Y,{c:function(){return L}});var p=e(70932);function L(){var o=[],C;return{point:function(S,v,g){C.push([S,v,g])},lineStart:function(){o.push(C=[])},lineEnd:p.c,rejoin:function(){o.length>1&&o.push(o.pop().concat(o.shift()))},result:function(){var S=o;return o=[],C=null,S}}}},2728:function(V,Y,e){e.d(Y,{c:function(){return v}});var p=e(84220),L=e(61780),o=e(64528),C=e(41860),S=e(14229);function v(g){var r=(0,o.W8)(g),t=6*o.qw,a=r>0,n=(0,o.a2)(r)>o.Gg;function f(T,c,i,d){(0,L.Q)(d,g,t,i,T,c)}function u(T,c){return(0,o.W8)(T)*(0,o.W8)(c)>r}function l(T){var c,i,d,x,w;return{lineStart:function(){x=d=!1,w=1},point:function(_,m){var E=[_,m],A,s=u(_,m),M=a?s?0:h(_,m):s?h(_+(_<0?o.pi:-o.pi),m):0;if(!c&&(x=d=s)&&T.lineStart(),s!==d&&(A=y(c,E),(!A||(0,C.c)(c,A)||(0,C.c)(E,A))&&(E[2]=1)),s!==d)w=0,s?(T.lineStart(),A=y(E,c),T.point(A[0],A[1])):(A=y(c,E),T.point(A[0],A[1],2),T.lineEnd()),c=A;else if(n&&c&&a^s){var b;!(M&i)&&(b=y(E,c,!0))&&(w=0,a?(T.lineStart(),T.point(b[0][0],b[0][1]),T.point(b[1][0],b[1][1]),T.lineEnd()):(T.point(b[1][0],b[1][1]),T.lineEnd(),T.lineStart(),T.point(b[0][0],b[0][1],3)))}s&&(!c||!(0,C.c)(c,E))&&T.point(E[0],E[1]),c=E,d=s,i=M},lineEnd:function(){d&&T.lineEnd(),c=null},clean:function(){return w|(x&&d)<<1}}}function y(T,c,i){var d=(0,p.ux)(T),x=(0,p.ux)(c),w=[1,0,0],_=(0,p.CW)(d,x),m=(0,p.Ez)(_,_),E=_[0],A=m-E*E;if(!A)return!i&&T;var s=r*m/A,M=-r*E/A,b=(0,p.CW)(w,_),N=(0,p.wx)(w,s),k=(0,p.wx)(_,M);(0,p.mg)(N,k);var H=b,F=(0,p.Ez)(N,H),B=(0,p.Ez)(H,H),U=F*F-B*((0,p.Ez)(N,N)-1);if(!(U<0)){var z=(0,o._I)(U),W=(0,p.wx)(H,(-F-z)/B);if((0,p.mg)(W,N),W=(0,p.G)(W),!i)return W;var j=T[0],ee=c[0],ie=T[1],oe=c[1],he;ee<j&&(he=j,j=ee,ee=he);var ne=ee-j,q=(0,o.a2)(ne-o.pi)<o.Gg,le=q||ne<o.Gg;if(!q&&oe<ie&&(he=ie,ie=oe,oe=he),le?q?ie+oe>0^W[1]<((0,o.a2)(W[0]-j)<o.Gg?ie:oe):ie<=W[1]&&W[1]<=oe:ne>o.pi^(j<=W[0]&&W[0]<=ee)){var Q=(0,p.wx)(H,(-F+z)/B);return(0,p.mg)(Q,N),[W,(0,p.G)(Q)]}}}function h(T,c){var i=a?g:o.pi-g,d=0;return T<-i?d|=1:T>i&&(d|=2),c<-i?d|=4:c>i&&(d|=8),d}return(0,S.c)(u,l,f,a?[0,-g]:[-o.pi,g-o.pi])}},14229:function(V,Y,e){e.d(Y,{c:function(){return v}});var p=e(97208),L=e(32232),o=e(64528),C=e(58196),S=e(84706);function v(t,a,n,f){return function(u){var l=a(u),y=(0,p.c)(),h=a(y),T=!1,c,i,d,x={point:w,lineStart:m,lineEnd:E,polygonStart:function(){x.point=A,x.lineStart=s,x.lineEnd=M,i=[],c=[]},polygonEnd:function(){x.point=w,x.lineStart=m,x.lineEnd=E,i=(0,S.Uf)(i);var b=(0,C.c)(c,f);i.length?(T||(u.polygonStart(),T=!0),(0,L.c)(i,r,b,n,u)):b&&(T||(u.polygonStart(),T=!0),u.lineStart(),n(null,null,1,u),u.lineEnd()),T&&(u.polygonEnd(),T=!1),i=c=null},sphere:function(){u.polygonStart(),u.lineStart(),n(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function w(b,N){t(b,N)&&u.point(b,N)}function _(b,N){l.point(b,N)}function m(){x.point=_,l.lineStart()}function E(){x.point=w,l.lineEnd()}function A(b,N){d.push([b,N]),h.point(b,N)}function s(){h.lineStart(),d=[]}function M(){A(d[0][0],d[0][1]),h.lineEnd();var b=h.clean(),N=y.result(),k,H=N.length,F,B,U;if(d.pop(),c.push(d),d=null,!!H){if(b&1){if(B=N[0],(F=B.length-1)>0){for(T||(u.polygonStart(),T=!0),u.lineStart(),k=0;k<F;++k)u.point((U=B[k])[0],U[1]);u.lineEnd()}return}H>1&&b&2&&N.push(N.pop().concat(N.shift())),i.push(N.filter(g))}}return x}}function g(t){return t.length>1}function r(t,a){return((t=t.x)[0]<0?t[1]-o.or-o.Gg:o.or-t[1])-((a=a.x)[0]<0?a[1]-o.or-o.Gg:o.or-a[1])}},21676:function(V,Y,e){e.d(Y,{c:function(){return r}});var p=e(64528),L=e(97208);function o(t,a,n,f,u,l){var y=t[0],h=t[1],T=a[0],c=a[1],i=0,d=1,x=T-y,w=c-h,_;if(_=n-y,!(!x&&_>0)){if(_/=x,x<0){if(_<i)return;_<d&&(d=_)}else if(x>0){if(_>d)return;_>i&&(i=_)}if(_=u-y,!(!x&&_<0)){if(_/=x,x<0){if(_>d)return;_>i&&(i=_)}else if(x>0){if(_<i)return;_<d&&(d=_)}if(_=f-h,!(!w&&_>0)){if(_/=w,w<0){if(_<i)return;_<d&&(d=_)}else if(w>0){if(_>d)return;_>i&&(i=_)}if(_=l-h,!(!w&&_<0)){if(_/=w,w<0){if(_>d)return;_>i&&(i=_)}else if(w>0){if(_<i)return;_<d&&(d=_)}return i>0&&(t[0]=y+i*x,t[1]=h+i*w),d<1&&(a[0]=y+d*x,a[1]=h+d*w),!0}}}}}var C=e(32232),S=e(84706),v=1e9,g=-v;function r(t,a,n,f){function u(c,i){return t<=c&&c<=n&&a<=i&&i<=f}function l(c,i,d,x){var w=0,_=0;if(c==null||(w=y(c,d))!==(_=y(i,d))||T(c,i)<0^d>0)do x.point(w===0||w===3?t:n,w>1?f:a);while((w=(w+d+4)%4)!==_);else x.point(i[0],i[1])}function y(c,i){return(0,p.a2)(c[0]-t)<p.Gg?i>0?0:3:(0,p.a2)(c[0]-n)<p.Gg?i>0?2:1:(0,p.a2)(c[1]-a)<p.Gg?i>0?1:0:i>0?3:2}function h(c,i){return T(c.x,i.x)}function T(c,i){var d=y(c,1),x=y(i,1);return d!==x?d-x:d===0?i[1]-c[1]:d===1?c[0]-i[0]:d===2?c[1]-i[1]:i[0]-c[0]}return function(c){var i=c,d=(0,L.c)(),x,w,_,m,E,A,s,M,b,N,k,H={point:F,lineStart:W,lineEnd:j,polygonStart:U,polygonEnd:z};function F(ie,oe){u(ie,oe)&&i.point(ie,oe)}function B(){for(var ie=0,oe=0,he=w.length;oe<he;++oe)for(var ne=w[oe],q=1,le=ne.length,Q=ne[0],te,ue,J=Q[0],K=Q[1];q<le;++q)te=J,ue=K,Q=ne[q],J=Q[0],K=Q[1],ue<=f?K>f&&(J-te)*(f-ue)>(K-ue)*(t-te)&&++ie:K<=f&&(J-te)*(f-ue)<(K-ue)*(t-te)&&--ie;return ie}function U(){i=d,x=[],w=[],k=!0}function z(){var ie=B(),oe=k&&ie,he=(x=(0,S.Uf)(x)).length;(oe||he)&&(c.polygonStart(),oe&&(c.lineStart(),l(null,null,1,c),c.lineEnd()),he&&(0,C.c)(x,h,ie,l,c),c.polygonEnd()),i=c,x=w=_=null}function W(){H.point=ee,w&&w.push(_=[]),N=!0,b=!1,s=M=NaN}function j(){x&&(ee(m,E),A&&b&&d.rejoin(),x.push(d.result())),H.point=F,b&&i.lineEnd()}function ee(ie,oe){var he=u(ie,oe);if(w&&_.push([ie,oe]),N)m=ie,E=oe,A=he,N=!1,he&&(i.lineStart(),i.point(ie,oe));else if(he&&b)i.point(ie,oe);else{var ne=[s=Math.max(g,Math.min(v,s)),M=Math.max(g,Math.min(v,M))],q=[ie=Math.max(g,Math.min(v,ie)),oe=Math.max(g,Math.min(v,oe))];o(ne,q,t,a,n,f)?(b||(i.lineStart(),i.point(ne[0],ne[1])),i.point(q[0],q[1]),he||i.lineEnd(),k=!1):he&&(i.lineStart(),i.point(ie,oe),k=!1)}s=ie,M=oe,b=he}return H}}},32232:function(V,Y,e){e.d(Y,{c:function(){return C}});var p=e(41860),L=e(64528);function o(v,g,r,t){this.x=v,this.z=g,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function C(v,g,r,t,a){var n=[],f=[],u,l;if(v.forEach(function(d){if(!((x=d.length-1)<=0)){var x,w=d[0],_=d[x],m;if((0,p.c)(w,_)){if(!w[2]&&!_[2]){for(a.lineStart(),u=0;u<x;++u)a.point((w=d[u])[0],w[1]);a.lineEnd();return}_[0]+=2*L.Gg}n.push(m=new o(w,d,null,!0)),f.push(m.o=new o(w,null,m,!1)),n.push(m=new o(_,d,null,!1)),f.push(m.o=new o(_,null,m,!0))}}),!!n.length){for(f.sort(g),S(n),S(f),u=0,l=f.length;u<l;++u)f[u].e=r=!r;for(var y=n[0],h,T;;){for(var c=y,i=!0;c.v;)if((c=c.n)===y)return;h=c.z,a.lineStart();do{if(c.v=c.o.v=!0,c.e){if(i)for(u=0,l=h.length;u<l;++u)a.point((T=h[u])[0],T[1]);else t(c.x,c.n.x,1,a);c=c.n}else{if(i)for(h=c.p.z,u=h.length-1;u>=0;--u)a.point((T=h[u])[0],T[1]);else t(c.x,c.p.x,-1,a);c=c.p}c=c.o,h=c.z,i=!i}while(!c.v);a.lineEnd()}}}function S(v){if(g=v.length){for(var g,r=0,t=v[0],a;++r<g;)t.n=a=v[r],a.p=t,t=a;t.n=a=v[0],a.p=t}}},68120:function(V,Y,e){e.d(Y,{c:function(){return p}});function p(L,o){function C(S,v){return S=L(S,v),o(S[0],S[1])}return L.invert&&o.invert&&(C.invert=function(S,v){return S=o.invert(S,v),S&&L.invert(S[0],S[1])}),C}},7376:function(V,Y,e){e.d(Y,{c:function(){return p}});function p(L){return L}},83356:function(V,Y,e){e.r(Y),e.d(Y,{geoAlbers:function(){return br},geoAlbersUsa:function(){return ut},geoArea:function(){return p.cp},geoAzimuthalEqualArea:function(){return bt.c},geoAzimuthalEqualAreaRaw:function(){return bt.y},geoAzimuthalEquidistant:function(){return Et.c},geoAzimuthalEquidistantRaw:function(){return Et.O},geoBounds:function(){return L.c},geoCentroid:function(){return o.c},geoCircle:function(){return C.c},geoClipAntimeridian:function(){return S.c},geoClipCircle:function(){return v.c},geoClipExtent:function(){return r},geoClipRectangle:function(){return g.c},geoConicConformal:function(){return vr},geoConicConformalRaw:function(){return hr},geoConicEqualArea:function(){return $t},geoConicEqualAreaRaw:function(){return Kt},geoConicEquidistant:function(){return He},geoConicEquidistantRaw:function(){return Xe},geoContains:function(){return U},geoDistance:function(){return A},geoEqualEarth:function(){return or},geoEqualEarthRaw:function(){return zt},geoEquirectangular:function(){return gr.c},geoEquirectangularRaw:function(){return gr.u},geoGnomonic:function(){return dr.c},geoGnomonicRaw:function(){return dr.Y},geoGraticule:function(){return ee},geoGraticule10:function(){return ie},geoIdentity:function(){return pr},geoInterpolate:function(){return oe.c},geoLength:function(){return _},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Yt},geoNaturalEarth1:function(){return Wr.c},geoNaturalEarth1Raw:function(){return Wr.g},geoOrthographic:function(){return Pr.c},geoOrthographicRaw:function(){return Pr.t},geoPath:function(){return Rt},geoProjection:function(){return Zt.c},geoProjectionMutator:function(){return Zt.U},geoRotation:function(){return Dt.c},geoStereographic:function(){return an},geoStereographicRaw:function(){return ln},geoStream:function(){return u.c},geoTransform:function(){return wr.c},geoTransverseMercator:function(){return Mn},geoTransverseMercatorRaw:function(){return _n}});var p=e(95384),L=e(13696),o=e(24052),C=e(61780),S=e(78284),v=e(2728),g=e(21676);function r(){var Sr=0,Nr=0,Zr=960,Fr=500,cn,vn,Cn;return Cn={stream:function(Rn){return cn&&vn===Rn?cn:cn=(0,g.c)(Sr,Nr,Zr,Fr)(vn=Rn)},extent:function(Rn){return arguments.length?(Sr=+Rn[0][0],Nr=+Rn[0][1],Zr=+Rn[1][0],Fr=+Rn[1][1],cn=vn=null,Cn):[[Sr,Nr],[Zr,Fr]]}}}var t=e(58196),a=e(88728),n=e(64528),f=e(70932),u=e(16016),l=(0,a.c)(),y,h,T,c={sphere:f.c,point:f.c,lineStart:i,lineEnd:f.c,polygonStart:f.c,polygonEnd:f.c};function i(){c.point=x,c.lineEnd=d}function d(){c.point=c.lineEnd=f.c}function x(Sr,Nr){Sr*=n.qw,Nr*=n.qw,y=Sr,h=(0,n.g$)(Nr),T=(0,n.W8)(Nr),c.point=w}function w(Sr,Nr){Sr*=n.qw,Nr*=n.qw;var Zr=(0,n.g$)(Nr),Fr=(0,n.W8)(Nr),cn=(0,n.a2)(Sr-y),vn=(0,n.W8)(cn),Cn=(0,n.g$)(cn),Rn=Fr*Cn,Gn=T*Zr-h*Fr*vn,ua=h*Zr+T*Fr*vn;l.add((0,n.WE)((0,n._I)(Rn*Rn+Gn*Gn),ua)),y=Sr,h=Zr,T=Fr}function _(Sr){return l.reset(),(0,u.c)(Sr,c),+l}var m=[null,null],E={type:"LineString",coordinates:m};function A(Sr,Nr){return m[0]=Sr,m[1]=Nr,_(E)}var s={Feature:function(Sr,Nr){return b(Sr.geometry,Nr)},FeatureCollection:function(Sr,Nr){for(var Zr=Sr.features,Fr=-1,cn=Zr.length;++Fr<cn;)if(b(Zr[Fr].geometry,Nr))return!0;return!1}},M={Sphere:function(){return!0},Point:function(Sr,Nr){return N(Sr.coordinates,Nr)},MultiPoint:function(Sr,Nr){for(var Zr=Sr.coordinates,Fr=-1,cn=Zr.length;++Fr<cn;)if(N(Zr[Fr],Nr))return!0;return!1},LineString:function(Sr,Nr){return k(Sr.coordinates,Nr)},MultiLineString:function(Sr,Nr){for(var Zr=Sr.coordinates,Fr=-1,cn=Zr.length;++Fr<cn;)if(k(Zr[Fr],Nr))return!0;return!1},Polygon:function(Sr,Nr){return H(Sr.coordinates,Nr)},MultiPolygon:function(Sr,Nr){for(var Zr=Sr.coordinates,Fr=-1,cn=Zr.length;++Fr<cn;)if(H(Zr[Fr],Nr))return!0;return!1},GeometryCollection:function(Sr,Nr){for(var Zr=Sr.geometries,Fr=-1,cn=Zr.length;++Fr<cn;)if(b(Zr[Fr],Nr))return!0;return!1}};function b(Sr,Nr){return Sr&&M.hasOwnProperty(Sr.type)?M[Sr.type](Sr,Nr):!1}function N(Sr,Nr){return A(Sr,Nr)===0}function k(Sr,Nr){for(var Zr,Fr,cn,vn=0,Cn=Sr.length;vn<Cn;vn++){if(Fr=A(Sr[vn],Nr),Fr===0||vn>0&&(cn=A(Sr[vn],Sr[vn-1]),cn>0&&Zr<=cn&&Fr<=cn&&(Zr+Fr-cn)*(1-Math.pow((Zr-Fr)/cn,2))<n.a8*cn))return!0;Zr=Fr}return!1}function H(Sr,Nr){return!!(0,t.c)(Sr.map(F),B(Nr))}function F(Sr){return Sr=Sr.map(B),Sr.pop(),Sr}function B(Sr){return[Sr[0]*n.qw,Sr[1]*n.qw]}function U(Sr,Nr){return(Sr&&s.hasOwnProperty(Sr.type)?s[Sr.type]:b)(Sr,Nr)}var z=e(84706);function W(Sr,Nr,Zr){var Fr=(0,z.ik)(Sr,Nr-n.Gg,Zr).concat(Nr);return function(cn){return Fr.map(function(vn){return[cn,vn]})}}function j(Sr,Nr,Zr){var Fr=(0,z.ik)(Sr,Nr-n.Gg,Zr).concat(Nr);return function(cn){return Fr.map(function(vn){return[vn,cn]})}}function ee(){var Sr,Nr,Zr,Fr,cn,vn,Cn,Rn,Gn=10,ua=Gn,wa=90,Ma=360,Zn,ea,xr,nn,qr=2.5;function gn(){return{type:"MultiLineString",coordinates:Un()}}function Un(){return(0,z.ik)((0,n.Km)(Fr/wa)*wa,Zr,wa).map(xr).concat((0,z.ik)((0,n.Km)(Rn/Ma)*Ma,Cn,Ma).map(nn)).concat((0,z.ik)((0,n.Km)(Nr/Gn)*Gn,Sr,Gn).filter(function(An){return(0,n.a2)(An%wa)>n.Gg}).map(Zn)).concat((0,z.ik)((0,n.Km)(vn/ua)*ua,cn,ua).filter(function(An){return(0,n.a2)(An%Ma)>n.Gg}).map(ea))}return gn.lines=function(){return Un().map(function(An){return{type:"LineString",coordinates:An}})},gn.outline=function(){return{type:"Polygon",coordinates:[xr(Fr).concat(nn(Cn).slice(1),xr(Zr).reverse().slice(1),nn(Rn).reverse().slice(1))]}},gn.extent=function(An){return arguments.length?gn.extentMajor(An).extentMinor(An):gn.extentMinor()},gn.extentMajor=function(An){return arguments.length?(Fr=+An[0][0],Zr=+An[1][0],Rn=+An[0][1],Cn=+An[1][1],Fr>Zr&&(An=Fr,Fr=Zr,Zr=An),Rn>Cn&&(An=Rn,Rn=Cn,Cn=An),gn.precision(qr)):[[Fr,Rn],[Zr,Cn]]},gn.extentMinor=function(An){return arguments.length?(Nr=+An[0][0],Sr=+An[1][0],vn=+An[0][1],cn=+An[1][1],Nr>Sr&&(An=Nr,Nr=Sr,Sr=An),vn>cn&&(An=vn,vn=cn,cn=An),gn.precision(qr)):[[Nr,vn],[Sr,cn]]},gn.step=function(An){return arguments.length?gn.stepMajor(An).stepMinor(An):gn.stepMinor()},gn.stepMajor=function(An){return arguments.length?(wa=+An[0],Ma=+An[1],gn):[wa,Ma]},gn.stepMinor=function(An){return arguments.length?(Gn=+An[0],ua=+An[1],gn):[Gn,ua]},gn.precision=function(An){return arguments.length?(qr=+An,Zn=W(vn,cn,90),ea=j(Nr,Sr,qr),xr=W(Rn,Cn,90),nn=j(Fr,Zr,qr),gn):qr},gn.extentMajor([[-180,-90+n.Gg],[180,90-n.Gg]]).extentMinor([[-180,-80-n.Gg],[180,80+n.Gg]])}function ie(){return ee()()}var oe=e(27284),he=e(7376),ne=(0,a.c)(),q=(0,a.c)(),le,Q,te,ue,J={point:f.c,lineStart:f.c,lineEnd:f.c,polygonStart:function(){J.lineStart=K,J.lineEnd=de},polygonEnd:function(){J.lineStart=J.lineEnd=J.point=f.c,ne.add((0,n.a2)(q)),q.reset()},result:function(){var Sr=ne/2;return ne.reset(),Sr}};function K(){J.point=ce}function ce(Sr,Nr){J.point=ae,le=te=Sr,Q=ue=Nr}function ae(Sr,Nr){q.add(ue*Sr-te*Nr),te=Sr,ue=Nr}function de(){ae(le,Q)}var be=J,Se=e(73784),Te=0,Ie=0,ke=0,Be=0,Me=0,Oe=0,_e=0,Ne=0,Ce=0,Ye,rt,ot,$e,qe={point:ht,lineStart:vt,lineEnd:Mt,polygonStart:function(){qe.lineStart=nt,qe.lineEnd=Fe},polygonEnd:function(){qe.point=ht,qe.lineStart=vt,qe.lineEnd=Mt},result:function(){var Sr=Ce?[_e/Ce,Ne/Ce]:Oe?[Be/Oe,Me/Oe]:ke?[Te/ke,Ie/ke]:[NaN,NaN];return Te=Ie=ke=Be=Me=Oe=_e=Ne=Ce=0,Sr}};function ht(Sr,Nr){Te+=Sr,Ie+=Nr,++ke}function vt(){qe.point=pt}function pt(Sr,Nr){qe.point=wt,ht(ot=Sr,$e=Nr)}function wt(Sr,Nr){var Zr=Sr-ot,Fr=Nr-$e,cn=(0,n._I)(Zr*Zr+Fr*Fr);Be+=cn*(ot+Sr)/2,Me+=cn*($e+Nr)/2,Oe+=cn,ht(ot=Sr,$e=Nr)}function Mt(){qe.point=ht}function nt(){qe.point=We}function Fe(){Ze(Ye,rt)}function We(Sr,Nr){qe.point=Ze,ht(Ye=ot=Sr,rt=$e=Nr)}function Ze(Sr,Nr){var Zr=Sr-ot,Fr=Nr-$e,cn=(0,n._I)(Zr*Zr+Fr*Fr);Be+=cn*(ot+Sr)/2,Me+=cn*($e+Nr)/2,Oe+=cn,cn=$e*Sr-ot*Nr,_e+=cn*(ot+Sr),Ne+=cn*($e+Nr),Ce+=cn*3,ht(ot=Sr,$e=Nr)}var Ge=qe;function Pe(Sr){this._context=Sr}Pe.prototype={_radius:4.5,pointRadius:function(Sr){return this._radius=Sr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Sr,Nr){switch(this._point){case 0:{this._context.moveTo(Sr,Nr),this._point=1;break}case 1:{this._context.lineTo(Sr,Nr);break}default:{this._context.moveTo(Sr+this._radius,Nr),this._context.arc(Sr,Nr,this._radius,0,n.kD);break}}},result:f.c};var Re=(0,a.c)(),je,De,ge,we,Ue,et={point:f.c,lineStart:function(){et.point=st},lineEnd:function(){je&&lt(De,ge),et.point=f.c},polygonStart:function(){je=!0},polygonEnd:function(){je=null},result:function(){var Sr=+Re;return Re.reset(),Sr}};function st(Sr,Nr){et.point=lt,De=we=Sr,ge=Ue=Nr}function lt(Sr,Nr){we-=Sr,Ue-=Nr,Re.add((0,n._I)(we*we+Ue*Ue)),we=Sr,Ue=Nr}var Wt=et;function jt(){this._string=[]}jt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(Sr){return(Sr=+Sr)!==this._radius&&(this._radius=Sr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Sr,Nr){switch(this._point){case 0:{this._string.push("M",Sr,",",Nr),this._point=1;break}case 1:{this._string.push("L",Sr,",",Nr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",Sr,",",Nr,this._circle);break}}},result:function(){if(this._string.length){var Sr=this._string.join("");return this._string=[],Sr}else return null}};function Tt(Sr){return"m0,"+Sr+"a"+Sr+","+Sr+" 0 1,1 0,"+-2*Sr+"a"+Sr+","+Sr+" 0 1,1 0,"+2*Sr+"z"}function Rt(Sr,Nr){var Zr=4.5,Fr,cn;function vn(Cn){return Cn&&(typeof Zr=="function"&&cn.pointRadius(+Zr.apply(this,arguments)),(0,u.c)(Cn,Fr(cn))),cn.result()}return vn.area=function(Cn){return(0,u.c)(Cn,Fr(be)),be.result()},vn.measure=function(Cn){return(0,u.c)(Cn,Fr(Wt)),Wt.result()},vn.bounds=function(Cn){return(0,u.c)(Cn,Fr(Se.c)),Se.c.result()},vn.centroid=function(Cn){return(0,u.c)(Cn,Fr(Ge)),Ge.result()},vn.projection=function(Cn){return arguments.length?(Fr=Cn==null?(Sr=null,he.c):(Sr=Cn).stream,vn):Sr},vn.context=function(Cn){return arguments.length?(cn=Cn==null?(Nr=null,new jt):new Pe(Nr=Cn),typeof Zr!="function"&&cn.pointRadius(Zr),vn):Nr},vn.pointRadius=function(Cn){return arguments.length?(Zr=typeof Cn=="function"?Cn:(cn.pointRadius(+Cn),+Cn),vn):Zr},vn.projection(Sr).context(Nr)}var Zt=e(87952);function mr(Sr){var Nr=0,Zr=n.pi/3,Fr=(0,Zt.U)(Sr),cn=Fr(Nr,Zr);return cn.parallels=function(vn){return arguments.length?Fr(Nr=vn[0]*n.qw,Zr=vn[1]*n.qw):[Nr*n.oh,Zr*n.oh]},cn}function gt(Sr){var Nr=(0,n.W8)(Sr);function Zr(Fr,cn){return[Fr*Nr,(0,n.g$)(cn)/Nr]}return Zr.invert=function(Fr,cn){return[Fr/Nr,(0,n.qR)(cn*Nr)]},Zr}function Kt(Sr,Nr){var Zr=(0,n.g$)(Sr),Fr=(Zr+(0,n.g$)(Nr))/2;if((0,n.a2)(Fr)<n.Gg)return gt(Sr);var cn=1+Zr*(2*Fr-Zr),vn=(0,n._I)(cn)/Fr;function Cn(Rn,Gn){var ua=(0,n._I)(cn-2*Fr*(0,n.g$)(Gn))/Fr;return[ua*(0,n.g$)(Rn*=Fr),vn-ua*(0,n.W8)(Rn)]}return Cn.invert=function(Rn,Gn){var ua=vn-Gn,wa=(0,n.WE)(Rn,(0,n.a2)(ua))*(0,n.kq)(ua);return ua*Fr<0&&(wa-=n.pi*(0,n.kq)(Rn)*(0,n.kq)(ua)),[wa/Fr,(0,n.qR)((cn-(Rn*Rn+ua*ua)*Fr*Fr)/(2*Fr))]},Cn}function $t(){return mr(Kt).scale(155.424).center([0,33.6442])}function br(){return $t().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var lr=e(86420);function mt(Sr){var Nr=Sr.length;return{point:function(Zr,Fr){for(var cn=-1;++cn<Nr;)Sr[cn].point(Zr,Fr)},sphere:function(){for(var Zr=-1;++Zr<Nr;)Sr[Zr].sphere()},lineStart:function(){for(var Zr=-1;++Zr<Nr;)Sr[Zr].lineStart()},lineEnd:function(){for(var Zr=-1;++Zr<Nr;)Sr[Zr].lineEnd()},polygonStart:function(){for(var Zr=-1;++Zr<Nr;)Sr[Zr].polygonStart()},polygonEnd:function(){for(var Zr=-1;++Zr<Nr;)Sr[Zr].polygonEnd()}}}function ut(){var Sr,Nr,Zr=br(),Fr,cn=$t().rotate([154,0]).center([-2,58.5]).parallels([55,65]),vn,Cn=$t().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Rn,Gn,ua={point:function(Zn,ea){Gn=[Zn,ea]}};function wa(Zn){var ea=Zn[0],xr=Zn[1];return Gn=null,Fr.point(ea,xr),Gn||(vn.point(ea,xr),Gn)||(Rn.point(ea,xr),Gn)}wa.invert=function(Zn){var ea=Zr.scale(),xr=Zr.translate(),nn=(Zn[0]-xr[0])/ea,qr=(Zn[1]-xr[1])/ea;return(qr>=.12&&qr<.234&&nn>=-.425&&nn<-.214?cn:qr>=.166&&qr<.234&&nn>=-.214&&nn<-.115?Cn:Zr).invert(Zn)},wa.stream=function(Zn){return Sr&&Nr===Zn?Sr:Sr=mt([Zr.stream(Nr=Zn),cn.stream(Zn),Cn.stream(Zn)])},wa.precision=function(Zn){return arguments.length?(Zr.precision(Zn),cn.precision(Zn),Cn.precision(Zn),Ma()):Zr.precision()},wa.scale=function(Zn){return arguments.length?(Zr.scale(Zn),cn.scale(Zn*.35),Cn.scale(Zn),wa.translate(Zr.translate())):Zr.scale()},wa.translate=function(Zn){if(!arguments.length)return Zr.translate();var ea=Zr.scale(),xr=+Zn[0],nn=+Zn[1];return Fr=Zr.translate(Zn).clipExtent([[xr-.455*ea,nn-.238*ea],[xr+.455*ea,nn+.238*ea]]).stream(ua),vn=cn.translate([xr-.307*ea,nn+.201*ea]).clipExtent([[xr-.425*ea+n.Gg,nn+.12*ea+n.Gg],[xr-.214*ea-n.Gg,nn+.234*ea-n.Gg]]).stream(ua),Rn=Cn.translate([xr-.205*ea,nn+.212*ea]).clipExtent([[xr-.214*ea+n.Gg,nn+.166*ea+n.Gg],[xr-.115*ea-n.Gg,nn+.234*ea-n.Gg]]).stream(ua),Ma()},wa.fitExtent=function(Zn,ea){return(0,lr.QX)(wa,Zn,ea)},wa.fitSize=function(Zn,ea){return(0,lr.UV)(wa,Zn,ea)},wa.fitWidth=function(Zn,ea){return(0,lr.Qx)(wa,Zn,ea)},wa.fitHeight=function(Zn,ea){return(0,lr.OW)(wa,Zn,ea)};function Ma(){return Sr=Nr=null,wa}return wa.scale(1070)}var bt=e(54724),Et=e(69020),Dt=e(92992);function Yt(Sr,Nr){return[Sr,(0,n.Yz)((0,n.a6)((n.or+Nr)/2))]}Yt.invert=function(Sr,Nr){return[Sr,2*(0,n.MQ)((0,n.oN)(Nr))-n.or]};function Bt(){return Ut(Yt).scale(961/n.kD)}function Ut(Sr){var Nr=(0,Zt.c)(Sr),Zr=Nr.center,Fr=Nr.scale,cn=Nr.translate,vn=Nr.clipExtent,Cn=null,Rn,Gn,ua;Nr.scale=function(Ma){return arguments.length?(Fr(Ma),wa()):Fr()},Nr.translate=function(Ma){return arguments.length?(cn(Ma),wa()):cn()},Nr.center=function(Ma){return arguments.length?(Zr(Ma),wa()):Zr()},Nr.clipExtent=function(Ma){return arguments.length?(Ma==null?Cn=Rn=Gn=ua=null:(Cn=+Ma[0][0],Rn=+Ma[0][1],Gn=+Ma[1][0],ua=+Ma[1][1]),wa()):Cn==null?null:[[Cn,Rn],[Gn,ua]]};function wa(){var Ma=n.pi*Fr(),Zn=Nr((0,Dt.c)(Nr.rotate()).invert([0,0]));return vn(Cn==null?[[Zn[0]-Ma,Zn[1]-Ma],[Zn[0]+Ma,Zn[1]+Ma]]:Sr===Yt?[[Math.max(Zn[0]-Ma,Cn),Rn],[Math.min(Zn[0]+Ma,Gn),ua]]:[[Cn,Math.max(Zn[1]-Ma,Rn)],[Gn,Math.min(Zn[1]+Ma,ua)]])}return wa()}function Jt(Sr){return(0,n.a6)((n.or+Sr)/2)}function hr(Sr,Nr){var Zr=(0,n.W8)(Sr),Fr=Sr===Nr?(0,n.g$)(Sr):(0,n.Yz)(Zr/(0,n.W8)(Nr))/(0,n.Yz)(Jt(Nr)/Jt(Sr)),cn=Zr*(0,n.g3)(Jt(Sr),Fr)/Fr;if(!Fr)return Yt;function vn(Cn,Rn){cn>0?Rn<-n.or+n.Gg&&(Rn=-n.or+n.Gg):Rn>n.or-n.Gg&&(Rn=n.or-n.Gg);var Gn=cn/(0,n.g3)(Jt(Rn),Fr);return[Gn*(0,n.g$)(Fr*Cn),cn-Gn*(0,n.W8)(Fr*Cn)]}return vn.invert=function(Cn,Rn){var Gn=cn-Rn,ua=(0,n.kq)(Fr)*(0,n._I)(Cn*Cn+Gn*Gn),wa=(0,n.WE)(Cn,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*Fr<0&&(wa-=n.pi*(0,n.kq)(Cn)*(0,n.kq)(Gn)),[wa/Fr,2*(0,n.MQ)((0,n.g3)(cn/ua,1/Fr))-n.or]},vn}function vr(){return mr(hr).scale(109.5).parallels([30,30])}var gr=e(69604);function Xe(Sr,Nr){var Zr=(0,n.W8)(Sr),Fr=Sr===Nr?(0,n.g$)(Sr):(Zr-(0,n.W8)(Nr))/(Nr-Sr),cn=Zr/Fr+Sr;if((0,n.a2)(Fr)<n.Gg)return gr.u;function vn(Cn,Rn){var Gn=cn-Rn,ua=Fr*Cn;return[Gn*(0,n.g$)(ua),cn-Gn*(0,n.W8)(ua)]}return vn.invert=function(Cn,Rn){var Gn=cn-Rn,ua=(0,n.WE)(Cn,(0,n.a2)(Gn))*(0,n.kq)(Gn);return Gn*Fr<0&&(ua-=n.pi*(0,n.kq)(Cn)*(0,n.kq)(Gn)),[ua/Fr,cn-(0,n.kq)(Fr)*(0,n._I)(Cn*Cn+Gn*Gn)]},vn}function He(){return mr(Xe).scale(131.154).center([0,13.9389])}var Nt=1.340264,Pt=-.081106,Qt=893e-6,ur=.003796,cr=(0,n._I)(3)/2,tr=12;function zt(Sr,Nr){var Zr=(0,n.qR)(cr*(0,n.g$)(Nr)),Fr=Zr*Zr,cn=Fr*Fr*Fr;return[Sr*(0,n.W8)(Zr)/(cr*(Nt+3*Pt*Fr+cn*(7*Qt+9*ur*Fr))),Zr*(Nt+Pt*Fr+cn*(Qt+ur*Fr))]}zt.invert=function(Sr,Nr){for(var Zr=Nr,Fr=Zr*Zr,cn=Fr*Fr*Fr,vn=0,Cn,Rn,Gn;vn<tr&&(Rn=Zr*(Nt+Pt*Fr+cn*(Qt+ur*Fr))-Nr,Gn=Nt+3*Pt*Fr+cn*(7*Qt+9*ur*Fr),Zr-=Cn=Rn/Gn,Fr=Zr*Zr,cn=Fr*Fr*Fr,!((0,n.a2)(Cn)<n.a8));++vn);return[cr*Sr*(Nt+3*Pt*Fr+cn*(7*Qt+9*ur*Fr))/(0,n.W8)(Zr),(0,n.qR)((0,n.g$)(Zr)/cr)]};function or(){return(0,Zt.c)(zt).scale(177.158)}var dr=e(53285),wr=e(15196);function pr(){var Sr=1,Nr=0,Zr=0,Fr=1,cn=1,vn=0,Cn,Rn,Gn=null,ua,wa,Ma,Zn=1,ea=1,xr=(0,wr.s)({point:function(En,Vn){var ta=An([En,Vn]);this.stream.point(ta[0],ta[1])}}),nn=he.c,qr,gn;function Un(){return Zn=Sr*Fr,ea=Sr*cn,qr=gn=null,An}function An(En){var Vn=En[0]*Zn,ta=En[1]*ea;if(vn){var ga=ta*Cn-Vn*Rn;Vn=Vn*Cn+ta*Rn,ta=ga}return[Vn+Nr,ta+Zr]}return An.invert=function(En){var Vn=En[0]-Nr,ta=En[1]-Zr;if(vn){var ga=ta*Cn+Vn*Rn;Vn=Vn*Cn-ta*Rn,ta=ga}return[Vn/Zn,ta/ea]},An.stream=function(En){return qr&&gn===En?qr:qr=xr(nn(gn=En))},An.postclip=function(En){return arguments.length?(nn=En,Gn=ua=wa=Ma=null,Un()):nn},An.clipExtent=function(En){return arguments.length?(nn=En==null?(Gn=ua=wa=Ma=null,he.c):(0,g.c)(Gn=+En[0][0],ua=+En[0][1],wa=+En[1][0],Ma=+En[1][1]),Un()):Gn==null?null:[[Gn,ua],[wa,Ma]]},An.scale=function(En){return arguments.length?(Sr=+En,Un()):Sr},An.translate=function(En){return arguments.length?(Nr=+En[0],Zr=+En[1],Un()):[Nr,Zr]},An.angle=function(En){return arguments.length?(vn=En%360*n.qw,Rn=(0,n.g$)(vn),Cn=(0,n.W8)(vn),Un()):vn*n.oh},An.reflectX=function(En){return arguments.length?(Fr=En?-1:1,Un()):Fr<0},An.reflectY=function(En){return arguments.length?(cn=En?-1:1,Un()):cn<0},An.fitExtent=function(En,Vn){return(0,lr.QX)(An,En,Vn)},An.fitSize=function(En,Vn){return(0,lr.UV)(An,En,Vn)},An.fitWidth=function(En,Vn){return(0,lr.Qx)(An,En,Vn)},An.fitHeight=function(En,Vn){return(0,lr.OW)(An,En,Vn)},An}var Wr=e(47984),Pr=e(4888),Ir=e(62280);function ln(Sr,Nr){var Zr=(0,n.W8)(Nr),Fr=1+(0,n.W8)(Sr)*Zr;return[Zr*(0,n.g$)(Sr)/Fr,(0,n.g$)(Nr)/Fr]}ln.invert=(0,Ir.g)(function(Sr){return 2*(0,n.MQ)(Sr)});function an(){return(0,Zt.c)(ln).scale(250).clipAngle(142)}function _n(Sr,Nr){return[(0,n.Yz)((0,n.a6)((n.or+Nr)/2)),-Sr]}_n.invert=function(Sr,Nr){return[-Nr,2*(0,n.MQ)((0,n.oN)(Sr))-n.or]};function Mn(){var Sr=Ut(_n),Nr=Sr.center,Zr=Sr.rotate;return Sr.center=function(Fr){return arguments.length?Nr([-Fr[1],Fr[0]]):(Fr=Nr(),[Fr[1],-Fr[0]])},Sr.rotate=function(Fr){return arguments.length?Zr([Fr[0],Fr[1],Fr.length>2?Fr[2]+90:90]):(Fr=Zr(),[Fr[0],Fr[1],Fr[2]-90])},Zr([0,0,90]).scale(159.155)}},27284:function(V,Y,e){e.d(Y,{c:function(){return L}});var p=e(64528);function L(o,C){var S=o[0]*p.qw,v=o[1]*p.qw,g=C[0]*p.qw,r=C[1]*p.qw,t=(0,p.W8)(v),a=(0,p.g$)(v),n=(0,p.W8)(r),f=(0,p.g$)(r),u=t*(0,p.W8)(S),l=t*(0,p.g$)(S),y=n*(0,p.W8)(g),h=n*(0,p.g$)(g),T=2*(0,p.qR)((0,p._I)((0,p.SD)(r-v)+t*n*(0,p.SD)(g-S))),c=(0,p.g$)(T),i=T?function(d){var x=(0,p.g$)(d*=T)/c,w=(0,p.g$)(T-d)/c,_=w*u+x*y,m=w*l+x*h,E=w*a+x*f;return[(0,p.WE)(m,_)*p.oh,(0,p.WE)(E,(0,p._I)(_*_+m*m))*p.oh]}:function(){return[S*p.oh,v*p.oh]};return i.distance=T,i}},64528:function(V,Y,e){e.d(Y,{Gg:function(){return p},Km:function(){return u},MQ:function(){return a},SD:function(){return _},W8:function(){return f},WE:function(){return n},Yz:function(){return y},_I:function(){return i},a2:function(){return t},a6:function(){return d},a8:function(){return L},g$:function(){return T},g3:function(){return h},kD:function(){return v},kq:function(){return c},mE:function(){return x},oN:function(){return l},oh:function(){return g},or:function(){return C},pi:function(){return o},qR:function(){return w},qw:function(){return r},wL:function(){return S}});var p=1e-6,L=1e-12,o=Math.PI,C=o/2,S=o/4,v=o*2,g=180/o,r=o/180,t=Math.abs,a=Math.atan,n=Math.atan2,f=Math.cos,u=Math.ceil,l=Math.exp,y=Math.log,h=Math.pow,T=Math.sin,c=Math.sign||function(m){return m>0?1:m<0?-1:0},i=Math.sqrt,d=Math.tan;function x(m){return m>1?0:m<-1?o:Math.acos(m)}function w(m){return m>1?C:m<-1?-C:Math.asin(m)}function _(m){return(m=T(m/2))*m}},70932:function(V,Y,e){e.d(Y,{c:function(){return p}});function p(){}},73784:function(V,Y,e){var p=e(70932),L=1/0,o=L,C=-L,S=C,v={point:g,lineStart:p.c,lineEnd:p.c,polygonStart:p.c,polygonEnd:p.c,result:function(){var r=[[L,o],[C,S]];return C=S=-(o=L=1/0),r}};function g(r,t){r<L&&(L=r),r>C&&(C=r),t<o&&(o=t),t>S&&(S=t)}Y.c=v},41860:function(V,Y,e){e.d(Y,{c:function(){return L}});var p=e(64528);function L(o,C){return(0,p.a2)(o[0]-C[0])<p.Gg&&(0,p.a2)(o[1]-C[1])<p.Gg}},58196:function(V,Y,e){e.d(Y,{c:function(){return v}});var p=e(88728),L=e(84220),o=e(64528),C=(0,p.c)();function S(g){return(0,o.a2)(g[0])<=o.pi?g[0]:(0,o.kq)(g[0])*(((0,o.a2)(g[0])+o.pi)%o.kD-o.pi)}function v(g,r){var t=S(r),a=r[1],n=(0,o.g$)(a),f=[(0,o.g$)(t),-(0,o.W8)(t),0],u=0,l=0;C.reset(),n===1?a=o.or+o.Gg:n===-1&&(a=-o.or-o.Gg);for(var y=0,h=g.length;y<h;++y)if(c=(T=g[y]).length)for(var T,c,i=T[c-1],d=S(i),x=i[1]/2+o.wL,w=(0,o.g$)(x),_=(0,o.W8)(x),m=0;m<c;++m,d=A,w=M,_=b,i=E){var E=T[m],A=S(E),s=E[1]/2+o.wL,M=(0,o.g$)(s),b=(0,o.W8)(s),N=A-d,k=N>=0?1:-1,H=k*N,F=H>o.pi,B=w*M;if(C.add((0,o.WE)(B*k*(0,o.g$)(H),_*b+B*(0,o.W8)(H))),u+=F?N+k*o.kD:N,F^d>=t^A>=t){var U=(0,L.CW)((0,L.ux)(i),(0,L.ux)(E));(0,L.cJ)(U);var z=(0,L.CW)(f,U);(0,L.cJ)(z);var W=(F^N>=0?-1:1)*(0,o.qR)(z[2]);(a>W||a===W&&(U[0]||U[1]))&&(l+=F^N>=0?1:-1)}}return(u<-o.Gg||u<o.Gg&&C<-o.Gg)^l&1}},62280:function(V,Y,e){e.d(Y,{a:function(){return L},g:function(){return o}});var p=e(64528);function L(C){return function(S,v){var g=(0,p.W8)(S),r=(0,p.W8)(v),t=C(g*r);return[t*r*(0,p.g$)(S),t*(0,p.g$)(v)]}}function o(C){return function(S,v){var g=(0,p._I)(S*S+v*v),r=C(g),t=(0,p.g$)(r),a=(0,p.W8)(r);return[(0,p.WE)(S*t,g*a),(0,p.qR)(g&&v*t/g)]}}},54724:function(V,Y,e){e.d(Y,{c:function(){return S},y:function(){return C}});var p=e(64528),L=e(62280),o=e(87952),C=(0,L.a)(function(v){return(0,p._I)(2/(1+v))});C.invert=(0,L.g)(function(v){return 2*(0,p.qR)(v/2)});function S(){return(0,o.c)(C).scale(124.75).clipAngle(179.999)}},69020:function(V,Y,e){e.d(Y,{O:function(){return C},c:function(){return S}});var p=e(64528),L=e(62280),o=e(87952),C=(0,L.a)(function(v){return(v=(0,p.mE)(v))&&v/(0,p.g$)(v)});C.invert=(0,L.g)(function(v){return v});function S(){return(0,o.c)(C).scale(79.4188).clipAngle(179.999)}},69604:function(V,Y,e){e.d(Y,{c:function(){return o},u:function(){return L}});var p=e(87952);function L(C,S){return[C,S]}L.invert=L;function o(){return(0,p.c)(L).scale(152.63)}},86420:function(V,Y,e){e.d(Y,{OW:function(){return g},QX:function(){return C},Qx:function(){return v},UV:function(){return S}});var p=e(16016),L=e(73784);function o(r,t,a){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),(0,p.c)(a,r.stream(L.c)),t(L.c.result()),n!=null&&r.clipExtent(n),r}function C(r,t,a){return o(r,function(n){var f=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(f/(n[1][0]-n[0][0]),u/(n[1][1]-n[0][1])),y=+t[0][0]+(f-l*(n[1][0]+n[0][0]))/2,h=+t[0][1]+(u-l*(n[1][1]+n[0][1]))/2;r.scale(150*l).translate([y,h])},a)}function S(r,t,a){return C(r,[[0,0],t],a)}function v(r,t,a){return o(r,function(n){var f=+t,u=f/(n[1][0]-n[0][0]),l=(f-u*(n[1][0]+n[0][0]))/2,y=-u*n[0][1];r.scale(150*u).translate([l,y])},a)}function g(r,t,a){return o(r,function(n){var f=+t,u=f/(n[1][1]-n[0][1]),l=-u*n[0][0],y=(f-u*(n[1][1]+n[0][1]))/2;r.scale(150*u).translate([l,y])},a)}},53285:function(V,Y,e){e.d(Y,{Y:function(){return C},c:function(){return S}});var p=e(64528),L=e(62280),o=e(87952);function C(v,g){var r=(0,p.W8)(g),t=(0,p.W8)(v)*r;return[r*(0,p.g$)(v)/t,(0,p.g$)(g)/t]}C.invert=(0,L.g)(p.MQ);function S(){return(0,o.c)(C).scale(144.049).clipAngle(60)}},87952:function(V,Y,e){e.d(Y,{c:function(){return d},U:function(){return x}});var p=e(78284),L=e(2728),o=e(21676),C=e(68120),S=e(7376),v=e(64528),g=e(92992),r=e(15196),t=e(86420),a=e(84220),n=16,f=(0,v.W8)(30*v.qw);function u(w,_){return+_?y(w,_):l(w)}function l(w){return(0,r.s)({point:function(_,m){_=w(_,m),this.stream.point(_[0],_[1])}})}function y(w,_){function m(E,A,s,M,b,N,k,H,F,B,U,z,W,j){var ee=k-E,ie=H-A,oe=ee*ee+ie*ie;if(oe>4*_&&W--){var he=M+B,ne=b+U,q=N+z,le=(0,v._I)(he*he+ne*ne+q*q),Q=(0,v.qR)(q/=le),te=(0,v.a2)((0,v.a2)(q)-1)<v.Gg||(0,v.a2)(s-F)<v.Gg?(s+F)/2:(0,v.WE)(ne,he),ue=w(te,Q),J=ue[0],K=ue[1],ce=J-E,ae=K-A,de=ie*ce-ee*ae;(de*de/oe>_||(0,v.a2)((ee*ce+ie*ae)/oe-.5)>.3||M*B+b*U+N*z<f)&&(m(E,A,s,M,b,N,J,K,te,he/=le,ne/=le,q,W,j),j.point(J,K),m(J,K,te,he,ne,q,k,H,F,B,U,z,W,j))}}return function(E){var A,s,M,b,N,k,H,F,B,U,z,W,j={point:ee,lineStart:ie,lineEnd:he,polygonStart:function(){E.polygonStart(),j.lineStart=ne},polygonEnd:function(){E.polygonEnd(),j.lineStart=ie}};function ee(Q,te){Q=w(Q,te),E.point(Q[0],Q[1])}function ie(){F=NaN,j.point=oe,E.lineStart()}function oe(Q,te){var ue=(0,a.ux)([Q,te]),J=w(Q,te);m(F,B,H,U,z,W,F=J[0],B=J[1],H=Q,U=ue[0],z=ue[1],W=ue[2],n,E),E.point(F,B)}function he(){j.point=ee,E.lineEnd()}function ne(){ie(),j.point=q,j.lineEnd=le}function q(Q,te){oe(A=Q,te),s=F,M=B,b=U,N=z,k=W,j.point=oe}function le(){m(F,B,H,U,z,W,s,M,A,b,N,k,n,E),j.lineEnd=he,he()}return j}}var h=(0,r.s)({point:function(w,_){this.stream.point(w*v.qw,_*v.qw)}});function T(w){return(0,r.s)({point:function(_,m){var E=w(_,m);return this.stream.point(E[0],E[1])}})}function c(w,_,m,E,A){function s(M,b){return M*=E,b*=A,[_+w*M,m-w*b]}return s.invert=function(M,b){return[(M-_)/w*E,(m-b)/w*A]},s}function i(w,_,m,E,A,s){var M=(0,v.W8)(s),b=(0,v.g$)(s),N=M*w,k=b*w,H=M/w,F=b/w,B=(b*m-M*_)/w,U=(b*_+M*m)/w;function z(W,j){return W*=E,j*=A,[N*W-k*j+_,m-k*W-N*j]}return z.invert=function(W,j){return[E*(H*W-F*j+B),A*(U-F*W-H*j)]},z}function d(w){return x(function(){return w})()}function x(w){var _,m=150,E=480,A=250,s=0,M=0,b=0,N=0,k=0,H,F=0,B=1,U=1,z=null,W=p.c,j=null,ee,ie,oe,he=S.c,ne=.5,q,le,Q,te,ue;function J(de){return Q(de[0]*v.qw,de[1]*v.qw)}function K(de){return de=Q.invert(de[0],de[1]),de&&[de[0]*v.oh,de[1]*v.oh]}J.stream=function(de){return te&&ue===de?te:te=h(T(H)(W(q(he(ue=de)))))},J.preclip=function(de){return arguments.length?(W=de,z=void 0,ae()):W},J.postclip=function(de){return arguments.length?(he=de,j=ee=ie=oe=null,ae()):he},J.clipAngle=function(de){return arguments.length?(W=+de?(0,L.c)(z=de*v.qw):(z=null,p.c),ae()):z*v.oh},J.clipExtent=function(de){return arguments.length?(he=de==null?(j=ee=ie=oe=null,S.c):(0,o.c)(j=+de[0][0],ee=+de[0][1],ie=+de[1][0],oe=+de[1][1]),ae()):j==null?null:[[j,ee],[ie,oe]]},J.scale=function(de){return arguments.length?(m=+de,ce()):m},J.translate=function(de){return arguments.length?(E=+de[0],A=+de[1],ce()):[E,A]},J.center=function(de){return arguments.length?(s=de[0]%360*v.qw,M=de[1]%360*v.qw,ce()):[s*v.oh,M*v.oh]},J.rotate=function(de){return arguments.length?(b=de[0]%360*v.qw,N=de[1]%360*v.qw,k=de.length>2?de[2]%360*v.qw:0,ce()):[b*v.oh,N*v.oh,k*v.oh]},J.angle=function(de){return arguments.length?(F=de%360*v.qw,ce()):F*v.oh},J.reflectX=function(de){return arguments.length?(B=de?-1:1,ce()):B<0},J.reflectY=function(de){return arguments.length?(U=de?-1:1,ce()):U<0},J.precision=function(de){return arguments.length?(q=u(le,ne=de*de),ae()):(0,v._I)(ne)},J.fitExtent=function(de,be){return(0,t.QX)(J,de,be)},J.fitSize=function(de,be){return(0,t.UV)(J,de,be)},J.fitWidth=function(de,be){return(0,t.Qx)(J,de,be)},J.fitHeight=function(de,be){return(0,t.OW)(J,de,be)};function ce(){var de=i(m,0,0,B,U,F).apply(null,_(s,M)),be=(F?i:c)(m,E-de[0],A-de[1],B,U,F);return H=(0,g.O)(b,N,k),le=(0,C.c)(_,be),Q=(0,C.c)(H,le),q=u(le,ne),ae()}function ae(){return te=ue=null,J}return function(){return _=w.apply(this,arguments),J.invert=_.invert&&K,ce()}}},47984:function(V,Y,e){e.d(Y,{c:function(){return C},g:function(){return o}});var p=e(87952),L=e(64528);function o(S,v){var g=v*v,r=g*g;return[S*(.8707-.131979*g+r*(-.013791+r*(.003971*g-.001529*r))),v*(1.007226+g*(.015085+r*(-.044475+.028874*g-.005916*r)))]}o.invert=function(S,v){var g=v,r=25,t;do{var a=g*g,n=a*a;g-=t=(g*(1.007226+a*(.015085+n*(-.044475+.028874*a-.005916*n)))-v)/(1.007226+a*(.045255+n*(-.311325+.259866*a-.06507600000000001*n)))}while((0,L.a2)(t)>L.Gg&&--r>0);return[S/(.8707+(a=g*g)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),g]};function C(){return(0,p.c)(o).scale(175.295)}},4888:function(V,Y,e){e.d(Y,{c:function(){return S},t:function(){return C}});var p=e(64528),L=e(62280),o=e(87952);function C(v,g){return[(0,p.W8)(g)*(0,p.g$)(v),(0,p.g$)(g)]}C.invert=(0,L.g)(p.qR);function S(){return(0,o.c)(C).scale(249.5).clipAngle(90+p.Gg)}},92992:function(V,Y,e){e.d(Y,{O:function(){return C},c:function(){return r}});var p=e(68120),L=e(64528);function o(t,a){return[(0,L.a2)(t)>L.pi?t+Math.round(-t/L.kD)*L.kD:t,a]}o.invert=o;function C(t,a,n){return(t%=L.kD)?a||n?(0,p.c)(v(t),g(a,n)):v(t):a||n?g(a,n):o}function S(t){return function(a,n){return a+=t,[a>L.pi?a-L.kD:a<-L.pi?a+L.kD:a,n]}}function v(t){var a=S(t);return a.invert=S(-t),a}function g(t,a){var n=(0,L.W8)(t),f=(0,L.g$)(t),u=(0,L.W8)(a),l=(0,L.g$)(a);function y(h,T){var c=(0,L.W8)(T),i=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,x=(0,L.g$)(T),w=x*n+i*f;return[(0,L.WE)(d*u-w*l,i*n-x*f),(0,L.qR)(w*u+d*l)]}return y.invert=function(h,T){var c=(0,L.W8)(T),i=(0,L.W8)(h)*c,d=(0,L.g$)(h)*c,x=(0,L.g$)(T),w=x*u-d*l;return[(0,L.WE)(d*u+x*l,i*n+w*f),(0,L.qR)(w*n-i*f)]},y}function r(t){t=C(t[0]*L.qw,t[1]*L.qw,t.length>2?t[2]*L.qw:0);function a(n){return n=t(n[0]*L.qw,n[1]*L.qw),n[0]*=L.oh,n[1]*=L.oh,n}return a.invert=function(n){return n=t.invert(n[0]*L.qw,n[1]*L.qw),n[0]*=L.oh,n[1]*=L.oh,n},a}},16016:function(V,Y,e){e.d(Y,{c:function(){return v}});function p(g,r){g&&o.hasOwnProperty(g.type)&&o[g.type](g,r)}var L={Feature:function(g,r){p(g.geometry,r)},FeatureCollection:function(g,r){for(var t=g.features,a=-1,n=t.length;++a<n;)p(t[a].geometry,r)}},o={Sphere:function(g,r){r.sphere()},Point:function(g,r){g=g.coordinates,r.point(g[0],g[1],g[2])},MultiPoint:function(g,r){for(var t=g.coordinates,a=-1,n=t.length;++a<n;)g=t[a],r.point(g[0],g[1],g[2])},LineString:function(g,r){C(g.coordinates,r,0)},MultiLineString:function(g,r){for(var t=g.coordinates,a=-1,n=t.length;++a<n;)C(t[a],r,0)},Polygon:function(g,r){S(g.coordinates,r)},MultiPolygon:function(g,r){for(var t=g.coordinates,a=-1,n=t.length;++a<n;)S(t[a],r)},GeometryCollection:function(g,r){for(var t=g.geometries,a=-1,n=t.length;++a<n;)p(t[a],r)}};function C(g,r,t){var a=-1,n=g.length-t,f;for(r.lineStart();++a<n;)f=g[a],r.point(f[0],f[1],f[2]);r.lineEnd()}function S(g,r){var t=-1,a=g.length;for(r.polygonStart();++t<a;)C(g[t],r,1);r.polygonEnd()}function v(g,r){g&&L.hasOwnProperty(g.type)?L[g.type](g,r):p(g,r)}},15196:function(V,Y,e){e.d(Y,{c:function(){return p},s:function(){return L}});function p(C){return{stream:L(C)}}function L(C){return function(S){var v=new o;for(var g in C)v[g]=C[g];return v.stream=S,v}}function o(){}o.prototype={constructor:o,point:function(C,S){this.stream.point(C,S)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(V,Y,e){e.r(Y),e.d(Y,{cluster:function(){return r},hierarchy:function(){return w},pack:function(){return K},packEnclose:function(){return N},packSiblings:function(){return q},partition:function(){return Te},stratify:function(){return _e},tree:function(){return vt},treemap:function(){return Fe},treemapBinary:function(){return We},treemapDice:function(){return Se},treemapResquarify:function(){return Ge},treemapSlice:function(){return pt},treemapSliceDice:function(){return Ze},treemapSquarify:function(){return nt}});function p(Pe,Re){return Pe.parent===Re.parent?1:2}function L(Pe){return Pe.reduce(o,0)/Pe.length}function o(Pe,Re){return Pe+Re.x}function C(Pe){return 1+Pe.reduce(S,0)}function S(Pe,Re){return Math.max(Pe,Re.y)}function v(Pe){for(var Re;Re=Pe.children;)Pe=Re[0];return Pe}function g(Pe){for(var Re;Re=Pe.children;)Pe=Re[Re.length-1];return Pe}function r(){var Pe=p,Re=1,je=1,De=!1;function ge(we){var Ue,et=0;we.eachAfter(function(Tt){var Rt=Tt.children;Rt?(Tt.x=L(Rt),Tt.y=C(Rt)):(Tt.x=Ue?et+=Pe(Tt,Ue):0,Tt.y=0,Ue=Tt)});var st=v(we),lt=g(we),Wt=st.x-Pe(st,lt)/2,jt=lt.x+Pe(lt,st)/2;return we.eachAfter(De?function(Tt){Tt.x=(Tt.x-we.x)*Re,Tt.y=(we.y-Tt.y)*je}:function(Tt){Tt.x=(Tt.x-Wt)/(jt-Wt)*Re,Tt.y=(1-(we.y?Tt.y/we.y:1))*je})}return ge.separation=function(we){return arguments.length?(Pe=we,ge):Pe},ge.size=function(we){return arguments.length?(De=!1,Re=+we[0],je=+we[1],ge):De?null:[Re,je]},ge.nodeSize=function(we){return arguments.length?(De=!0,Re=+we[0],je=+we[1],ge):De?[Re,je]:null},ge}function t(Pe){var Re=0,je=Pe.children,De=je&&je.length;if(!De)Re=1;else for(;--De>=0;)Re+=je[De].value;Pe.value=Re}function a(){return this.eachAfter(t)}function n(Pe){var Re=this,je,De=[Re],ge,we,Ue;do for(je=De.reverse(),De=[];Re=je.pop();)if(Pe(Re),ge=Re.children,ge)for(we=0,Ue=ge.length;we<Ue;++we)De.push(ge[we]);while(De.length);return this}function f(Pe){for(var Re=this,je=[Re],De,ge;Re=je.pop();)if(Pe(Re),De=Re.children,De)for(ge=De.length-1;ge>=0;--ge)je.push(De[ge]);return this}function u(Pe){for(var Re=this,je=[Re],De=[],ge,we,Ue;Re=je.pop();)if(De.push(Re),ge=Re.children,ge)for(we=0,Ue=ge.length;we<Ue;++we)je.push(ge[we]);for(;Re=De.pop();)Pe(Re);return this}function l(Pe){return this.eachAfter(function(Re){for(var je=+Pe(Re.data)||0,De=Re.children,ge=De&&De.length;--ge>=0;)je+=De[ge].value;Re.value=je})}function y(Pe){return this.eachBefore(function(Re){Re.children&&Re.children.sort(Pe)})}function h(Pe){for(var Re=this,je=T(Re,Pe),De=[Re];Re!==je;)Re=Re.parent,De.push(Re);for(var ge=De.length;Pe!==je;)De.splice(ge,0,Pe),Pe=Pe.parent;return De}function T(Pe,Re){if(Pe===Re)return Pe;var je=Pe.ancestors(),De=Re.ancestors(),ge=null;for(Pe=je.pop(),Re=De.pop();Pe===Re;)ge=Pe,Pe=je.pop(),Re=De.pop();return ge}function c(){for(var Pe=this,Re=[Pe];Pe=Pe.parent;)Re.push(Pe);return Re}function i(){var Pe=[];return this.each(function(Re){Pe.push(Re)}),Pe}function d(){var Pe=[];return this.eachBefore(function(Re){Re.children||Pe.push(Re)}),Pe}function x(){var Pe=this,Re=[];return Pe.each(function(je){je!==Pe&&Re.push({source:je.parent,target:je})}),Re}function w(Pe,Re){var je=new s(Pe),De=+Pe.value&&(je.value=Pe.value),ge,we=[je],Ue,et,st,lt;for(Re==null&&(Re=m);ge=we.pop();)if(De&&(ge.value=+ge.data.value),(et=Re(ge.data))&&(lt=et.length))for(ge.children=new Array(lt),st=lt-1;st>=0;--st)we.push(Ue=ge.children[st]=new s(et[st])),Ue.parent=ge,Ue.depth=ge.depth+1;return je.eachBefore(A)}function _(){return w(this).eachBefore(E)}function m(Pe){return Pe.children}function E(Pe){Pe.data=Pe.data.data}function A(Pe){var Re=0;do Pe.height=Re;while((Pe=Pe.parent)&&Pe.height<++Re)}function s(Pe){this.data=Pe,this.depth=this.height=0,this.parent=null}s.prototype=w.prototype={constructor:s,count:a,each:n,eachAfter:u,eachBefore:f,sum:l,sort:y,path:h,ancestors:c,descendants:i,leaves:d,links:x,copy:_};var M=Array.prototype.slice;function b(Pe){for(var Re=Pe.length,je,De;Re;)De=Math.random()*Re--|0,je=Pe[Re],Pe[Re]=Pe[De],Pe[De]=je;return Pe}function N(Pe){for(var Re=0,je=(Pe=b(M.call(Pe))).length,De=[],ge,we;Re<je;)ge=Pe[Re],we&&F(we,ge)?++Re:(we=U(De=k(De,ge)),Re=0);return we}function k(Pe,Re){var je,De;if(B(Re,Pe))return[Re];for(je=0;je<Pe.length;++je)if(H(Re,Pe[je])&&B(W(Pe[je],Re),Pe))return[Pe[je],Re];for(je=0;je<Pe.length-1;++je)for(De=je+1;De<Pe.length;++De)if(H(W(Pe[je],Pe[De]),Re)&&H(W(Pe[je],Re),Pe[De])&&H(W(Pe[De],Re),Pe[je])&&B(j(Pe[je],Pe[De],Re),Pe))return[Pe[je],Pe[De],Re];throw new Error}function H(Pe,Re){var je=Pe.r-Re.r,De=Re.x-Pe.x,ge=Re.y-Pe.y;return je<0||je*je<De*De+ge*ge}function F(Pe,Re){var je=Pe.r-Re.r+1e-6,De=Re.x-Pe.x,ge=Re.y-Pe.y;return je>0&&je*je>De*De+ge*ge}function B(Pe,Re){for(var je=0;je<Re.length;++je)if(!F(Pe,Re[je]))return!1;return!0}function U(Pe){switch(Pe.length){case 1:return z(Pe[0]);case 2:return W(Pe[0],Pe[1]);case 3:return j(Pe[0],Pe[1],Pe[2])}}function z(Pe){return{x:Pe.x,y:Pe.y,r:Pe.r}}function W(Pe,Re){var je=Pe.x,De=Pe.y,ge=Pe.r,we=Re.x,Ue=Re.y,et=Re.r,st=we-je,lt=Ue-De,Wt=et-ge,jt=Math.sqrt(st*st+lt*lt);return{x:(je+we+st/jt*Wt)/2,y:(De+Ue+lt/jt*Wt)/2,r:(jt+ge+et)/2}}function j(Pe,Re,je){var De=Pe.x,ge=Pe.y,we=Pe.r,Ue=Re.x,et=Re.y,st=Re.r,lt=je.x,Wt=je.y,jt=je.r,Tt=De-Ue,Rt=De-lt,Zt=ge-et,mr=ge-Wt,gt=st-we,Kt=jt-we,$t=De*De+ge*ge-we*we,br=$t-Ue*Ue-et*et+st*st,lr=$t-lt*lt-Wt*Wt+jt*jt,mt=Rt*Zt-Tt*mr,ut=(Zt*lr-mr*br)/(mt*2)-De,bt=(mr*gt-Zt*Kt)/mt,Et=(Rt*br-Tt*lr)/(mt*2)-ge,Dt=(Tt*Kt-Rt*gt)/mt,Yt=bt*bt+Dt*Dt-1,Bt=2*(we+ut*bt+Et*Dt),Ut=ut*ut+Et*Et-we*we,Jt=-(Yt?(Bt+Math.sqrt(Bt*Bt-4*Yt*Ut))/(2*Yt):Ut/Bt);return{x:De+ut+bt*Jt,y:ge+Et+Dt*Jt,r:Jt}}function ee(Pe,Re,je){var De=Pe.x-Re.x,ge,we,Ue=Pe.y-Re.y,et,st,lt=De*De+Ue*Ue;lt?(we=Re.r+je.r,we*=we,st=Pe.r+je.r,st*=st,we>st?(ge=(lt+st-we)/(2*lt),et=Math.sqrt(Math.max(0,st/lt-ge*ge)),je.x=Pe.x-ge*De-et*Ue,je.y=Pe.y-ge*Ue+et*De):(ge=(lt+we-st)/(2*lt),et=Math.sqrt(Math.max(0,we/lt-ge*ge)),je.x=Re.x+ge*De-et*Ue,je.y=Re.y+ge*Ue+et*De)):(je.x=Re.x+je.r,je.y=Re.y)}function ie(Pe,Re){var je=Pe.r+Re.r-1e-6,De=Re.x-Pe.x,ge=Re.y-Pe.y;return je>0&&je*je>De*De+ge*ge}function oe(Pe){var Re=Pe._,je=Pe.next._,De=Re.r+je.r,ge=(Re.x*je.r+je.x*Re.r)/De,we=(Re.y*je.r+je.y*Re.r)/De;return ge*ge+we*we}function he(Pe){this._=Pe,this.next=null,this.previous=null}function ne(Pe){if(!(ge=Pe.length))return 0;var Re,je,De,ge,we,Ue,et,st,lt,Wt,jt;if(Re=Pe[0],Re.x=0,Re.y=0,!(ge>1))return Re.r;if(je=Pe[1],Re.x=-je.r,je.x=Re.r,je.y=0,!(ge>2))return Re.r+je.r;ee(je,Re,De=Pe[2]),Re=new he(Re),je=new he(je),De=new he(De),Re.next=De.previous=je,je.next=Re.previous=De,De.next=je.previous=Re;e:for(et=3;et<ge;++et){ee(Re._,je._,De=Pe[et]),De=new he(De),st=je.next,lt=Re.previous,Wt=je._.r,jt=Re._.r;do if(Wt<=jt){if(ie(st._,De._)){je=st,Re.next=je,je.previous=Re,--et;continue e}Wt+=st._.r,st=st.next}else{if(ie(lt._,De._)){Re=lt,Re.next=je,je.previous=Re,--et;continue e}jt+=lt._.r,lt=lt.previous}while(st!==lt.next);for(De.previous=Re,De.next=je,Re.next=je.previous=je=De,we=oe(Re);(De=De.next)!==je;)(Ue=oe(De))<we&&(Re=De,we=Ue);je=Re.next}for(Re=[je._],De=je;(De=De.next)!==je;)Re.push(De._);for(De=N(Re),et=0;et<ge;++et)Re=Pe[et],Re.x-=De.x,Re.y-=De.y;return De.r}function q(Pe){return ne(Pe),Pe}function le(Pe){return Pe==null?null:Q(Pe)}function Q(Pe){if(typeof Pe!="function")throw new Error;return Pe}function te(){return 0}function ue(Pe){return function(){return Pe}}function J(Pe){return Math.sqrt(Pe.value)}function K(){var Pe=null,Re=1,je=1,De=te;function ge(we){return we.x=Re/2,we.y=je/2,Pe?we.eachBefore(ce(Pe)).eachAfter(ae(De,.5)).eachBefore(de(1)):we.eachBefore(ce(J)).eachAfter(ae(te,1)).eachAfter(ae(De,we.r/Math.min(Re,je))).eachBefore(de(Math.min(Re,je)/(2*we.r))),we}return ge.radius=function(we){return arguments.length?(Pe=le(we),ge):Pe},ge.size=function(we){return arguments.length?(Re=+we[0],je=+we[1],ge):[Re,je]},ge.padding=function(we){return arguments.length?(De=typeof we=="function"?we:ue(+we),ge):De},ge}function ce(Pe){return function(Re){Re.children||(Re.r=Math.max(0,+Pe(Re)||0))}}function ae(Pe,Re){return function(je){if(De=je.children){var De,ge,we=De.length,Ue=Pe(je)*Re||0,et;if(Ue)for(ge=0;ge<we;++ge)De[ge].r+=Ue;if(et=ne(De),Ue)for(ge=0;ge<we;++ge)De[ge].r-=Ue;je.r=et+Ue}}}function de(Pe){return function(Re){var je=Re.parent;Re.r*=Pe,je&&(Re.x=je.x+Pe*Re.x,Re.y=je.y+Pe*Re.y)}}function be(Pe){Pe.x0=Math.round(Pe.x0),Pe.y0=Math.round(Pe.y0),Pe.x1=Math.round(Pe.x1),Pe.y1=Math.round(Pe.y1)}function Se(Pe,Re,je,De,ge){for(var we=Pe.children,Ue,et=-1,st=we.length,lt=Pe.value&&(De-Re)/Pe.value;++et<st;)Ue=we[et],Ue.y0=je,Ue.y1=ge,Ue.x0=Re,Ue.x1=Re+=Ue.value*lt}function Te(){var Pe=1,Re=1,je=0,De=!1;function ge(Ue){var et=Ue.height+1;return Ue.x0=Ue.y0=je,Ue.x1=Pe,Ue.y1=Re/et,Ue.eachBefore(we(Re,et)),De&&Ue.eachBefore(be),Ue}function we(Ue,et){return function(st){st.children&&Se(st,st.x0,Ue*(st.depth+1)/et,st.x1,Ue*(st.depth+2)/et);var lt=st.x0,Wt=st.y0,jt=st.x1-je,Tt=st.y1-je;jt<lt&&(lt=jt=(lt+jt)/2),Tt<Wt&&(Wt=Tt=(Wt+Tt)/2),st.x0=lt,st.y0=Wt,st.x1=jt,st.y1=Tt}}return ge.round=function(Ue){return arguments.length?(De=!!Ue,ge):De},ge.size=function(Ue){return arguments.length?(Pe=+Ue[0],Re=+Ue[1],ge):[Pe,Re]},ge.padding=function(Ue){return arguments.length?(je=+Ue,ge):je},ge}var Ie="$",ke={depth:-1},Be={};function Me(Pe){return Pe.id}function Oe(Pe){return Pe.parentId}function _e(){var Pe=Me,Re=Oe;function je(De){var ge,we,Ue=De.length,et,st,lt,Wt=new Array(Ue),jt,Tt,Rt={};for(we=0;we<Ue;++we)ge=De[we],lt=Wt[we]=new s(ge),(jt=Pe(ge,we,De))!=null&&(jt+="")&&(Tt=Ie+(lt.id=jt),Rt[Tt]=Tt in Rt?Be:lt);for(we=0;we<Ue;++we)if(lt=Wt[we],jt=Re(De[we],we,De),jt==null||!(jt+="")){if(et)throw new Error("multiple roots");et=lt}else{if(st=Rt[Ie+jt],!st)throw new Error("missing: "+jt);if(st===Be)throw new Error("ambiguous: "+jt);st.children?st.children.push(lt):st.children=[lt],lt.parent=st}if(!et)throw new Error("no root");if(et.parent=ke,et.eachBefore(function(Zt){Zt.depth=Zt.parent.depth+1,--Ue}).eachBefore(A),et.parent=null,Ue>0)throw new Error("cycle");return et}return je.id=function(De){return arguments.length?(Pe=Q(De),je):Pe},je.parentId=function(De){return arguments.length?(Re=Q(De),je):Re},je}function Ne(Pe,Re){return Pe.parent===Re.parent?1:2}function Ce(Pe){var Re=Pe.children;return Re?Re[0]:Pe.t}function Ye(Pe){var Re=Pe.children;return Re?Re[Re.length-1]:Pe.t}function rt(Pe,Re,je){var De=je/(Re.i-Pe.i);Re.c-=De,Re.s+=je,Pe.c+=De,Re.z+=je,Re.m+=je}function ot(Pe){for(var Re=0,je=0,De=Pe.children,ge=De.length,we;--ge>=0;)we=De[ge],we.z+=Re,we.m+=Re,Re+=we.s+(je+=we.c)}function $e(Pe,Re,je){return Pe.a.parent===Re.parent?Pe.a:je}function qe(Pe,Re){this._=Pe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Re}qe.prototype=Object.create(s.prototype);function ht(Pe){for(var Re=new qe(Pe,0),je,De=[Re],ge,we,Ue,et;je=De.pop();)if(we=je._.children)for(je.children=new Array(et=we.length),Ue=et-1;Ue>=0;--Ue)De.push(ge=je.children[Ue]=new qe(we[Ue],Ue)),ge.parent=je;return(Re.parent=new qe(null,0)).children=[Re],Re}function vt(){var Pe=Ne,Re=1,je=1,De=null;function ge(lt){var Wt=ht(lt);if(Wt.eachAfter(we),Wt.parent.m=-Wt.z,Wt.eachBefore(Ue),De)lt.eachBefore(st);else{var jt=lt,Tt=lt,Rt=lt;lt.eachBefore(function($t){$t.x<jt.x&&(jt=$t),$t.x>Tt.x&&(Tt=$t),$t.depth>Rt.depth&&(Rt=$t)});var Zt=jt===Tt?1:Pe(jt,Tt)/2,mr=Zt-jt.x,gt=Re/(Tt.x+Zt+mr),Kt=je/(Rt.depth||1);lt.eachBefore(function($t){$t.x=($t.x+mr)*gt,$t.y=$t.depth*Kt})}return lt}function we(lt){var Wt=lt.children,jt=lt.parent.children,Tt=lt.i?jt[lt.i-1]:null;if(Wt){ot(lt);var Rt=(Wt[0].z+Wt[Wt.length-1].z)/2;Tt?(lt.z=Tt.z+Pe(lt._,Tt._),lt.m=lt.z-Rt):lt.z=Rt}else Tt&&(lt.z=Tt.z+Pe(lt._,Tt._));lt.parent.A=et(lt,Tt,lt.parent.A||jt[0])}function Ue(lt){lt._.x=lt.z+lt.parent.m,lt.m+=lt.parent.m}function et(lt,Wt,jt){if(Wt){for(var Tt=lt,Rt=lt,Zt=Wt,mr=Tt.parent.children[0],gt=Tt.m,Kt=Rt.m,$t=Zt.m,br=mr.m,lr;Zt=Ye(Zt),Tt=Ce(Tt),Zt&&Tt;)mr=Ce(mr),Rt=Ye(Rt),Rt.a=lt,lr=Zt.z+$t-Tt.z-gt+Pe(Zt._,Tt._),lr>0&&(rt($e(Zt,lt,jt),lt,lr),gt+=lr,Kt+=lr),$t+=Zt.m,gt+=Tt.m,br+=mr.m,Kt+=Rt.m;Zt&&!Ye(Rt)&&(Rt.t=Zt,Rt.m+=$t-Kt),Tt&&!Ce(mr)&&(mr.t=Tt,mr.m+=gt-br,jt=lt)}return jt}function st(lt){lt.x*=Re,lt.y=lt.depth*je}return ge.separation=function(lt){return arguments.length?(Pe=lt,ge):Pe},ge.size=function(lt){return arguments.length?(De=!1,Re=+lt[0],je=+lt[1],ge):De?null:[Re,je]},ge.nodeSize=function(lt){return arguments.length?(De=!0,Re=+lt[0],je=+lt[1],ge):De?[Re,je]:null},ge}function pt(Pe,Re,je,De,ge){for(var we=Pe.children,Ue,et=-1,st=we.length,lt=Pe.value&&(ge-je)/Pe.value;++et<st;)Ue=we[et],Ue.x0=Re,Ue.x1=De,Ue.y0=je,Ue.y1=je+=Ue.value*lt}var wt=(1+Math.sqrt(5))/2;function Mt(Pe,Re,je,De,ge,we){for(var Ue=[],et=Re.children,st,lt,Wt=0,jt=0,Tt=et.length,Rt,Zt,mr=Re.value,gt,Kt,$t,br,lr,mt,ut;Wt<Tt;){Rt=ge-je,Zt=we-De;do gt=et[jt++].value;while(!gt&&jt<Tt);for(Kt=$t=gt,mt=Math.max(Zt/Rt,Rt/Zt)/(mr*Pe),ut=gt*gt*mt,lr=Math.max($t/ut,ut/Kt);jt<Tt;++jt){if(gt+=lt=et[jt].value,lt<Kt&&(Kt=lt),lt>$t&&($t=lt),ut=gt*gt*mt,br=Math.max($t/ut,ut/Kt),br>lr){gt-=lt;break}lr=br}Ue.push(st={value:gt,dice:Rt<Zt,children:et.slice(Wt,jt)}),st.dice?Se(st,je,De,ge,mr?De+=Zt*gt/mr:we):pt(st,je,De,mr?je+=Rt*gt/mr:ge,we),mr-=gt,Wt=jt}return Ue}var nt=function Pe(Re){function je(De,ge,we,Ue,et){Mt(Re,De,ge,we,Ue,et)}return je.ratio=function(De){return Pe((De=+De)>1?De:1)},je}(wt);function Fe(){var Pe=nt,Re=!1,je=1,De=1,ge=[0],we=te,Ue=te,et=te,st=te,lt=te;function Wt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=je,Tt.y1=De,Tt.eachBefore(jt),ge=[0],Re&&Tt.eachBefore(be),Tt}function jt(Tt){var Rt=ge[Tt.depth],Zt=Tt.x0+Rt,mr=Tt.y0+Rt,gt=Tt.x1-Rt,Kt=Tt.y1-Rt;gt<Zt&&(Zt=gt=(Zt+gt)/2),Kt<mr&&(mr=Kt=(mr+Kt)/2),Tt.x0=Zt,Tt.y0=mr,Tt.x1=gt,Tt.y1=Kt,Tt.children&&(Rt=ge[Tt.depth+1]=we(Tt)/2,Zt+=lt(Tt)-Rt,mr+=Ue(Tt)-Rt,gt-=et(Tt)-Rt,Kt-=st(Tt)-Rt,gt<Zt&&(Zt=gt=(Zt+gt)/2),Kt<mr&&(mr=Kt=(mr+Kt)/2),Pe(Tt,Zt,mr,gt,Kt))}return Wt.round=function(Tt){return arguments.length?(Re=!!Tt,Wt):Re},Wt.size=function(Tt){return arguments.length?(je=+Tt[0],De=+Tt[1],Wt):[je,De]},Wt.tile=function(Tt){return arguments.length?(Pe=Q(Tt),Wt):Pe},Wt.padding=function(Tt){return arguments.length?Wt.paddingInner(Tt).paddingOuter(Tt):Wt.paddingInner()},Wt.paddingInner=function(Tt){return arguments.length?(we=typeof Tt=="function"?Tt:ue(+Tt),Wt):we},Wt.paddingOuter=function(Tt){return arguments.length?Wt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):Wt.paddingTop()},Wt.paddingTop=function(Tt){return arguments.length?(Ue=typeof Tt=="function"?Tt:ue(+Tt),Wt):Ue},Wt.paddingRight=function(Tt){return arguments.length?(et=typeof Tt=="function"?Tt:ue(+Tt),Wt):et},Wt.paddingBottom=function(Tt){return arguments.length?(st=typeof Tt=="function"?Tt:ue(+Tt),Wt):st},Wt.paddingLeft=function(Tt){return arguments.length?(lt=typeof Tt=="function"?Tt:ue(+Tt),Wt):lt},Wt}function We(Pe,Re,je,De,ge){var we=Pe.children,Ue,et=we.length,st,lt=new Array(et+1);for(lt[0]=st=Ue=0;Ue<et;++Ue)lt[Ue+1]=st+=we[Ue].value;Wt(0,et,Pe.value,Re,je,De,ge);function Wt(jt,Tt,Rt,Zt,mr,gt,Kt){if(jt>=Tt-1){var $t=we[jt];$t.x0=Zt,$t.y0=mr,$t.x1=gt,$t.y1=Kt;return}for(var br=lt[jt],lr=Rt/2+br,mt=jt+1,ut=Tt-1;mt<ut;){var bt=mt+ut>>>1;lt[bt]<lr?mt=bt+1:ut=bt}lr-lt[mt-1]<lt[mt]-lr&&jt+1<mt&&--mt;var Et=lt[mt]-br,Dt=Rt-Et;if(gt-Zt>Kt-mr){var Yt=(Zt*Dt+gt*Et)/Rt;Wt(jt,mt,Et,Zt,mr,Yt,Kt),Wt(mt,Tt,Dt,Yt,mr,gt,Kt)}else{var Bt=(mr*Dt+Kt*Et)/Rt;Wt(jt,mt,Et,Zt,mr,gt,Bt),Wt(mt,Tt,Dt,Zt,Bt,gt,Kt)}}}function Ze(Pe,Re,je,De,ge){(Pe.depth&1?pt:Se)(Pe,Re,je,De,ge)}var Ge=function Pe(Re){function je(De,ge,we,Ue,et){if((st=De._squarify)&&st.ratio===Re)for(var st,lt,Wt,jt,Tt=-1,Rt,Zt=st.length,mr=De.value;++Tt<Zt;){for(lt=st[Tt],Wt=lt.children,jt=lt.value=0,Rt=Wt.length;jt<Rt;++jt)lt.value+=Wt[jt].value;lt.dice?Se(lt,ge,we,Ue,we+=(et-we)*lt.value/mr):pt(lt,ge,we,ge+=(Ue-ge)*lt.value/mr,et),mr-=lt.value}else De._squarify=st=Mt(Re,De,ge,we,Ue,et),st.ratio=Re}return je.ratio=function(De){return Pe((De=+De)>1?De:1)},je}(wt)},10132:function(V,Y,e){e.d(Y,{ak:function(){return h}});var p=Math.PI,L=2*p,o=1e-6,C=L-o;function S(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new S}S.prototype=v.prototype={constructor:S,moveTo:function(T,c){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(T,c){this._+="L"+(this._x1=+T)+","+(this._y1=+c)},quadraticCurveTo:function(T,c,i,d){this._+="Q"+ +T+","+ +c+","+(this._x1=+i)+","+(this._y1=+d)},bezierCurveTo:function(T,c,i,d,x,w){this._+="C"+ +T+","+ +c+","+ +i+","+ +d+","+(this._x1=+x)+","+(this._y1=+w)},arcTo:function(T,c,i,d,x){T=+T,c=+c,i=+i,d=+d,x=+x;var w=this._x1,_=this._y1,m=i-T,E=d-c,A=w-T,s=_-c,M=A*A+s*s;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=T)+","+(this._y1=c);else if(M>o)if(!(Math.abs(s*m-E*A)>o)||!x)this._+="L"+(this._x1=T)+","+(this._y1=c);else{var b=i-w,N=d-_,k=m*m+E*E,H=b*b+N*N,F=Math.sqrt(k),B=Math.sqrt(M),U=x*Math.tan((p-Math.acos((k+M-H)/(2*F*B)))/2),z=U/B,W=U/F;Math.abs(z-1)>o&&(this._+="L"+(T+z*A)+","+(c+z*s)),this._+="A"+x+","+x+",0,0,"+ +(s*b>A*N)+","+(this._x1=T+W*m)+","+(this._y1=c+W*E)}},arc:function(T,c,i,d,x,w){T=+T,c=+c,i=+i,w=!!w;var _=i*Math.cos(d),m=i*Math.sin(d),E=T+_,A=c+m,s=1^w,M=w?d-x:x-d;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+E+","+A:(Math.abs(this._x1-E)>o||Math.abs(this._y1-A)>o)&&(this._+="L"+E+","+A),i&&(M<0&&(M=M%L+L),M>C?this._+="A"+i+","+i+",0,1,"+s+","+(T-_)+","+(c-m)+"A"+i+","+i+",0,1,"+s+","+(this._x1=E)+","+(this._y1=A):M>o&&(this._+="A"+i+","+i+",0,"+ +(M>=p)+","+s+","+(this._x1=T+i*Math.cos(x))+","+(this._y1=c+i*Math.sin(x))))},rect:function(T,c,i,d){this._+="M"+(this._x0=this._x1=+T)+","+(this._y0=this._y1=+c)+"h"+ +i+"v"+ +d+"h"+-i+"Z"},toString:function(){return this._}};var g=v,r=Array.prototype.slice;function t(T){return function(){return T}}function a(T){return T[0]}function n(T){return T[1]}function f(T){return T.source}function u(T){return T.target}function l(T){var c=f,i=u,d=a,x=n,w=null;function _(){var m,E=r.call(arguments),A=c.apply(this,E),s=i.apply(this,E);if(w||(w=m=g()),T(w,+d.apply(this,(E[0]=A,E)),+x.apply(this,E),+d.apply(this,(E[0]=s,E)),+x.apply(this,E)),m)return w=null,m+""||null}return _.source=function(m){return arguments.length?(c=m,_):c},_.target=function(m){return arguments.length?(i=m,_):i},_.x=function(m){return arguments.length?(d=typeof m=="function"?m:t(+m),_):d},_.y=function(m){return arguments.length?(x=typeof m=="function"?m:t(+m),_):x},_.context=function(m){return arguments.length?(w=m??null,_):w},_}function y(T,c,i,d,x){T.moveTo(c,i),T.bezierCurveTo(c=(c+d)/2,i,c,x,d,x)}function h(){return l(y)}},94336:function(V,Y,e){e.d(Y,{Yn:function(){return We},m_:function(){return a},E9:function(){return Ze}});var p=e(8208),L=e(58931),o=e(46192),C=e(68936),S=e(32171),v=e(53528);function g(Pe){if(0<=Pe.y&&Pe.y<100){var Re=new Date(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L);return Re.setFullYear(Pe.y),Re}return new Date(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L)}function r(Pe){if(0<=Pe.y&&Pe.y<100){var Re=new Date(Date.UTC(-1,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L));return Re.setUTCFullYear(Pe.y),Re}return new Date(Date.UTC(Pe.y,Pe.m,Pe.d,Pe.H,Pe.M,Pe.S,Pe.L))}function t(Pe,Re,je){return{y:Pe,m:Re,d:je,H:0,M:0,S:0,L:0}}function a(Pe){var Re=Pe.dateTime,je=Pe.date,De=Pe.time,ge=Pe.periods,we=Pe.days,Ue=Pe.shortDays,et=Pe.months,st=Pe.shortMonths,lt=T(ge),Wt=c(ge),jt=T(we),Tt=c(we),Rt=T(Ue),Zt=c(Ue),mr=T(et),gt=c(et),Kt=T(st),$t=c(st),br={a:Xe,A:He,b:Nt,B:Pt,c:null,d:ee,e:ee,f:q,H:ie,I:oe,j:he,L:ne,m:le,M:Q,p:Qt,q:ur,Q:Mt,s:nt,S:te,u:ue,U:J,V:K,w:ce,W:ae,x:null,X:null,y:de,Y:be,Z:Se,"%":wt},lr={a:cr,A:tr,b:zt,B:or,c:null,d:Te,e:Te,f:Oe,H:Ie,I:ke,j:Be,L:Me,m:_e,M:Ne,p:dr,q:wr,Q:Mt,s:nt,S:Ce,u:Ye,U:rt,V:ot,w:$e,W:qe,x:null,X:null,y:ht,Y:vt,Z:pt,"%":wt},mt={a:Yt,A:Bt,b:Ut,B:Jt,c:hr,d:b,e:b,f:U,H:k,I:k,j:N,L:B,m:M,M:H,p:Dt,q:s,Q:W,s:j,S:F,u:d,U:x,V:w,w:i,W:_,x:vr,X:gr,y:E,Y:m,Z:A,"%":z};br.x=ut(je,br),br.X=ut(De,br),br.c=ut(Re,br),lr.x=ut(je,lr),lr.X=ut(De,lr),lr.c=ut(Re,lr);function ut(pr,Wr){return function(Pr){var Ir=[],ln=-1,an=0,_n=pr.length,Mn,Sr,Nr;for(Pr instanceof Date||(Pr=new Date(+Pr));++ln<_n;)pr.charCodeAt(ln)===37&&(Ir.push(pr.slice(an,ln)),(Sr=n[Mn=pr.charAt(++ln)])!=null?Mn=pr.charAt(++ln):Sr=Mn==="e"?" ":"0",(Nr=Wr[Mn])&&(Mn=Nr(Pr,Sr)),Ir.push(Mn),an=ln+1);return Ir.push(pr.slice(an,ln)),Ir.join("")}}function bt(pr,Wr){return function(Pr){var Ir=t(1900,void 0,1),ln=Et(Ir,pr,Pr+="",0),an,_n;if(ln!=Pr.length)return null;if("Q"in Ir)return new Date(Ir.Q);if("s"in Ir)return new Date(Ir.s*1e3+("L"in Ir?Ir.L:0));if(Wr&&!("Z"in Ir)&&(Ir.Z=0),"p"in Ir&&(Ir.H=Ir.H%12+Ir.p*12),Ir.m===void 0&&(Ir.m="q"in Ir?Ir.q:0),"V"in Ir){if(Ir.V<1||Ir.V>53)return null;"w"in Ir||(Ir.w=1),"Z"in Ir?(an=r(t(Ir.y,0,1)),_n=an.getUTCDay(),an=_n>4||_n===0?p.ot.ceil(an):(0,p.ot)(an),an=L.c.offset(an,(Ir.V-1)*7),Ir.y=an.getUTCFullYear(),Ir.m=an.getUTCMonth(),Ir.d=an.getUTCDate()+(Ir.w+6)%7):(an=g(t(Ir.y,0,1)),_n=an.getDay(),an=_n>4||_n===0?o.qT.ceil(an):(0,o.qT)(an),an=C.c.offset(an,(Ir.V-1)*7),Ir.y=an.getFullYear(),Ir.m=an.getMonth(),Ir.d=an.getDate()+(Ir.w+6)%7)}else("W"in Ir||"U"in Ir)&&("w"in Ir||(Ir.w="u"in Ir?Ir.u%7:"W"in Ir?1:0),_n="Z"in Ir?r(t(Ir.y,0,1)).getUTCDay():g(t(Ir.y,0,1)).getDay(),Ir.m=0,Ir.d="W"in Ir?(Ir.w+6)%7+Ir.W*7-(_n+5)%7:Ir.w+Ir.U*7-(_n+6)%7);return"Z"in Ir?(Ir.H+=Ir.Z/100|0,Ir.M+=Ir.Z%100,r(Ir)):g(Ir)}}function Et(pr,Wr,Pr,Ir){for(var ln=0,an=Wr.length,_n=Pr.length,Mn,Sr;ln<an;){if(Ir>=_n)return-1;if(Mn=Wr.charCodeAt(ln++),Mn===37){if(Mn=Wr.charAt(ln++),Sr=mt[Mn in n?Wr.charAt(ln++):Mn],!Sr||(Ir=Sr(pr,Pr,Ir))<0)return-1}else if(Mn!=Pr.charCodeAt(Ir++))return-1}return Ir}function Dt(pr,Wr,Pr){var Ir=lt.exec(Wr.slice(Pr));return Ir?(pr.p=Wt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function Yt(pr,Wr,Pr){var Ir=Rt.exec(Wr.slice(Pr));return Ir?(pr.w=Zt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function Bt(pr,Wr,Pr){var Ir=jt.exec(Wr.slice(Pr));return Ir?(pr.w=Tt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function Ut(pr,Wr,Pr){var Ir=Kt.exec(Wr.slice(Pr));return Ir?(pr.m=$t[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function Jt(pr,Wr,Pr){var Ir=mr.exec(Wr.slice(Pr));return Ir?(pr.m=gt[Ir[0].toLowerCase()],Pr+Ir[0].length):-1}function hr(pr,Wr,Pr){return Et(pr,Re,Wr,Pr)}function vr(pr,Wr,Pr){return Et(pr,je,Wr,Pr)}function gr(pr,Wr,Pr){return Et(pr,De,Wr,Pr)}function Xe(pr){return Ue[pr.getDay()]}function He(pr){return we[pr.getDay()]}function Nt(pr){return st[pr.getMonth()]}function Pt(pr){return et[pr.getMonth()]}function Qt(pr){return ge[+(pr.getHours()>=12)]}function ur(pr){return 1+~~(pr.getMonth()/3)}function cr(pr){return Ue[pr.getUTCDay()]}function tr(pr){return we[pr.getUTCDay()]}function zt(pr){return st[pr.getUTCMonth()]}function or(pr){return et[pr.getUTCMonth()]}function dr(pr){return ge[+(pr.getUTCHours()>=12)]}function wr(pr){return 1+~~(pr.getUTCMonth()/3)}return{format:function(pr){var Wr=ut(pr+="",br);return Wr.toString=function(){return pr},Wr},parse:function(pr){var Wr=bt(pr+="",!1);return Wr.toString=function(){return pr},Wr},utcFormat:function(pr){var Wr=ut(pr+="",lr);return Wr.toString=function(){return pr},Wr},utcParse:function(pr){var Wr=bt(pr+="",!0);return Wr.toString=function(){return pr},Wr}}}var n={"-":"",_:" ",0:"0"},f=/^\s*\d+/,u=/^%/,l=/[\\^$*+?|[\]().{}]/g;function y(Pe,Re,je){var De=Pe<0?"-":"",ge=(De?-Pe:Pe)+"",we=ge.length;return De+(we<je?new Array(je-we+1).join(Re)+ge:ge)}function h(Pe){return Pe.replace(l,"\\$&")}function T(Pe){return new RegExp("^(?:"+Pe.map(h).join("|")+")","i")}function c(Pe){for(var Re={},je=-1,De=Pe.length;++je<De;)Re[Pe[je].toLowerCase()]=je;return Re}function i(Pe,Re,je){var De=f.exec(Re.slice(je,je+1));return De?(Pe.w=+De[0],je+De[0].length):-1}function d(Pe,Re,je){var De=f.exec(Re.slice(je,je+1));return De?(Pe.u=+De[0],je+De[0].length):-1}function x(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.U=+De[0],je+De[0].length):-1}function w(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.V=+De[0],je+De[0].length):-1}function _(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.W=+De[0],je+De[0].length):-1}function m(Pe,Re,je){var De=f.exec(Re.slice(je,je+4));return De?(Pe.y=+De[0],je+De[0].length):-1}function E(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.y=+De[0]+(+De[0]>68?1900:2e3),je+De[0].length):-1}function A(Pe,Re,je){var De=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Re.slice(je,je+6));return De?(Pe.Z=De[1]?0:-(De[2]+(De[3]||"00")),je+De[0].length):-1}function s(Pe,Re,je){var De=f.exec(Re.slice(je,je+1));return De?(Pe.q=De[0]*3-3,je+De[0].length):-1}function M(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.m=De[0]-1,je+De[0].length):-1}function b(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.d=+De[0],je+De[0].length):-1}function N(Pe,Re,je){var De=f.exec(Re.slice(je,je+3));return De?(Pe.m=0,Pe.d=+De[0],je+De[0].length):-1}function k(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.H=+De[0],je+De[0].length):-1}function H(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.M=+De[0],je+De[0].length):-1}function F(Pe,Re,je){var De=f.exec(Re.slice(je,je+2));return De?(Pe.S=+De[0],je+De[0].length):-1}function B(Pe,Re,je){var De=f.exec(Re.slice(je,je+3));return De?(Pe.L=+De[0],je+De[0].length):-1}function U(Pe,Re,je){var De=f.exec(Re.slice(je,je+6));return De?(Pe.L=Math.floor(De[0]/1e3),je+De[0].length):-1}function z(Pe,Re,je){var De=u.exec(Re.slice(je,je+1));return De?je+De[0].length:-1}function W(Pe,Re,je){var De=f.exec(Re.slice(je));return De?(Pe.Q=+De[0],je+De[0].length):-1}function j(Pe,Re,je){var De=f.exec(Re.slice(je));return De?(Pe.s=+De[0],je+De[0].length):-1}function ee(Pe,Re){return y(Pe.getDate(),Re,2)}function ie(Pe,Re){return y(Pe.getHours(),Re,2)}function oe(Pe,Re){return y(Pe.getHours()%12||12,Re,2)}function he(Pe,Re){return y(1+C.c.count((0,S.c)(Pe),Pe),Re,3)}function ne(Pe,Re){return y(Pe.getMilliseconds(),Re,3)}function q(Pe,Re){return ne(Pe,Re)+"000"}function le(Pe,Re){return y(Pe.getMonth()+1,Re,2)}function Q(Pe,Re){return y(Pe.getMinutes(),Re,2)}function te(Pe,Re){return y(Pe.getSeconds(),Re,2)}function ue(Pe){var Re=Pe.getDay();return Re===0?7:Re}function J(Pe,Re){return y(o.uU.count((0,S.c)(Pe)-1,Pe),Re,2)}function K(Pe,Re){var je=Pe.getDay();return Pe=je>=4||je===0?(0,o.kD)(Pe):o.kD.ceil(Pe),y(o.kD.count((0,S.c)(Pe),Pe)+((0,S.c)(Pe).getDay()===4),Re,2)}function ce(Pe){return Pe.getDay()}function ae(Pe,Re){return y(o.qT.count((0,S.c)(Pe)-1,Pe),Re,2)}function de(Pe,Re){return y(Pe.getFullYear()%100,Re,2)}function be(Pe,Re){return y(Pe.getFullYear()%1e4,Re,4)}function Se(Pe){var Re=Pe.getTimezoneOffset();return(Re>0?"-":(Re*=-1,"+"))+y(Re/60|0,"0",2)+y(Re%60,"0",2)}function Te(Pe,Re){return y(Pe.getUTCDate(),Re,2)}function Ie(Pe,Re){return y(Pe.getUTCHours(),Re,2)}function ke(Pe,Re){return y(Pe.getUTCHours()%12||12,Re,2)}function Be(Pe,Re){return y(1+L.c.count((0,v.c)(Pe),Pe),Re,3)}function Me(Pe,Re){return y(Pe.getUTCMilliseconds(),Re,3)}function Oe(Pe,Re){return Me(Pe,Re)+"000"}function _e(Pe,Re){return y(Pe.getUTCMonth()+1,Re,2)}function Ne(Pe,Re){return y(Pe.getUTCMinutes(),Re,2)}function Ce(Pe,Re){return y(Pe.getUTCSeconds(),Re,2)}function Ye(Pe){var Re=Pe.getUTCDay();return Re===0?7:Re}function rt(Pe,Re){return y(p.EV.count((0,v.c)(Pe)-1,Pe),Re,2)}function ot(Pe,Re){var je=Pe.getUTCDay();return Pe=je>=4||je===0?(0,p.yA)(Pe):p.yA.ceil(Pe),y(p.yA.count((0,v.c)(Pe),Pe)+((0,v.c)(Pe).getUTCDay()===4),Re,2)}function $e(Pe){return Pe.getUTCDay()}function qe(Pe,Re){return y(p.ot.count((0,v.c)(Pe)-1,Pe),Re,2)}function ht(Pe,Re){return y(Pe.getUTCFullYear()%100,Re,2)}function vt(Pe,Re){return y(Pe.getUTCFullYear()%1e4,Re,4)}function pt(){return"+0000"}function wt(){return"%"}function Mt(Pe){return+Pe}function nt(Pe){return Math.floor(+Pe/1e3)}var Fe,We,Ze;Ge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ge(Pe){return Fe=a(Pe),We=Fe.format,Fe.parse,Ze=Fe.utcFormat,Fe.utcParse,Fe}},68936:function(V,Y,e){e.d(Y,{m:function(){return C}});var p=e(81628),L=e(69792),o=(0,p.c)(function(S){S.setHours(0,0,0,0)},function(S,v){S.setDate(S.getDate()+v)},function(S,v){return(v-S-(v.getTimezoneOffset()-S.getTimezoneOffset())*L.iy)/L.SK},function(S){return S.getDate()-1});Y.c=o;var C=o.range},69792:function(V,Y,e){e.d(Y,{KK:function(){return S},SK:function(){return C},cg:function(){return o},iy:function(){return L},yc:function(){return p}});var p=1e3,L=6e4,o=36e5,C=864e5,S=6048e5},73220:function(V,Y,e){e.r(Y),e.d(Y,{timeDay:function(){return y.c},timeDays:function(){return y.m},timeFriday:function(){return h.iB},timeFridays:function(){return h.sJ},timeHour:function(){return u},timeHours:function(){return l},timeInterval:function(){return p.c},timeMillisecond:function(){return o},timeMilliseconds:function(){return C},timeMinute:function(){return a},timeMinutes:function(){return n},timeMonday:function(){return h.qT},timeMondays:function(){return h.QP},timeMonth:function(){return c},timeMonths:function(){return i},timeSaturday:function(){return h.Wc},timeSaturdays:function(){return h.aI},timeSecond:function(){return g},timeSeconds:function(){return r},timeSunday:function(){return h.uU},timeSundays:function(){return h.Ab},timeThursday:function(){return h.kD},timeThursdays:function(){return h.eC},timeTuesday:function(){return h.Mf},timeTuesdays:function(){return h.Oc},timeWednesday:function(){return h.eg},timeWednesdays:function(){return h.sn},timeWeek:function(){return h.uU},timeWeeks:function(){return h.Ab},timeYear:function(){return d.c},timeYears:function(){return d.Q},utcDay:function(){return s.c},utcDays:function(){return s.o},utcFriday:function(){return M.od},utcFridays:function(){return M.iG},utcHour:function(){return E},utcHours:function(){return A},utcMillisecond:function(){return o},utcMilliseconds:function(){return C},utcMinute:function(){return w},utcMinutes:function(){return _},utcMonday:function(){return M.ot},utcMondays:function(){return M.iO},utcMonth:function(){return N},utcMonths:function(){return k},utcSaturday:function(){return M.Ad},utcSaturdays:function(){return M.K8},utcSecond:function(){return g},utcSeconds:function(){return r},utcSunday:function(){return M.EV},utcSundays:function(){return M.Wq},utcThursday:function(){return M.yA},utcThursdays:function(){return M.ob},utcTuesday:function(){return M.sG},utcTuesdays:function(){return M.kl},utcWednesday:function(){return M._6},utcWednesdays:function(){return M.W_},utcWeek:function(){return M.EV},utcWeeks:function(){return M.Wq},utcYear:function(){return H.c},utcYears:function(){return H.i}});var p=e(81628),L=(0,p.c)(function(){},function(F,B){F.setTime(+F+B)},function(F,B){return B-F});L.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,p.c)(function(B){B.setTime(Math.floor(B/F)*F)},function(B,U){B.setTime(+B+U*F)},function(B,U){return(U-B)/F}):L};var o=L,C=L.range,S=e(69792),v=(0,p.c)(function(F){F.setTime(F-F.getMilliseconds())},function(F,B){F.setTime(+F+B*S.yc)},function(F,B){return(B-F)/S.yc},function(F){return F.getUTCSeconds()}),g=v,r=v.range,t=(0,p.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*S.yc)},function(F,B){F.setTime(+F+B*S.iy)},function(F,B){return(B-F)/S.iy},function(F){return F.getMinutes()}),a=t,n=t.range,f=(0,p.c)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*S.yc-F.getMinutes()*S.iy)},function(F,B){F.setTime(+F+B*S.cg)},function(F,B){return(B-F)/S.cg},function(F){return F.getHours()}),u=f,l=f.range,y=e(68936),h=e(46192),T=(0,p.c)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,B){F.setMonth(F.getMonth()+B)},function(F,B){return B.getMonth()-F.getMonth()+(B.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),c=T,i=T.range,d=e(32171),x=(0,p.c)(function(F){F.setUTCSeconds(0,0)},function(F,B){F.setTime(+F+B*S.iy)},function(F,B){return(B-F)/S.iy},function(F){return F.getUTCMinutes()}),w=x,_=x.range,m=(0,p.c)(function(F){F.setUTCMinutes(0,0,0)},function(F,B){F.setTime(+F+B*S.cg)},function(F,B){return(B-F)/S.cg},function(F){return F.getUTCHours()}),E=m,A=m.range,s=e(58931),M=e(8208),b=(0,p.c)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,B){F.setUTCMonth(F.getUTCMonth()+B)},function(F,B){return B.getUTCMonth()-F.getUTCMonth()+(B.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),N=b,k=b.range,H=e(53528)},81628:function(V,Y,e){e.d(Y,{c:function(){return o}});var p=new Date,L=new Date;function o(C,S,v,g){function r(t){return C(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return C(t=new Date(+t)),t},r.ceil=function(t){return C(t=new Date(t-1)),S(t,1),C(t),t},r.round=function(t){var a=r(t),n=r.ceil(t);return t-a<n-t?a:n},r.offset=function(t,a){return S(t=new Date(+t),a==null?1:Math.floor(a)),t},r.range=function(t,a,n){var f=[],u;if(t=r.ceil(t),n=n==null?1:Math.floor(n),!(t<a)||!(n>0))return f;do f.push(u=new Date(+t)),S(t,n),C(t);while(u<t&&t<a);return f},r.filter=function(t){return o(function(a){if(a>=a)for(;C(a),!t(a);)a.setTime(a-1)},function(a,n){if(a>=a)if(n<0)for(;++n<=0;)for(;S(a,-1),!t(a););else for(;--n>=0;)for(;S(a,1),!t(a););})},v&&(r.count=function(t,a){return p.setTime(+t),L.setTime(+a),C(p),C(L),Math.floor(v(p,L))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(g?function(a){return g(a)%t===0}:function(a){return r.count(0,a)%t===0}):r}),r}},58931:function(V,Y,e){e.d(Y,{o:function(){return C}});var p=e(81628),L=e(69792),o=(0,p.c)(function(S){S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCDate(S.getUTCDate()+v)},function(S,v){return(v-S)/L.SK},function(S){return S.getUTCDate()-1});Y.c=o;var C=o.range},8208:function(V,Y,e){e.d(Y,{Ad:function(){return a},EV:function(){return C},K8:function(){return T},W_:function(){return l},Wq:function(){return n},_6:function(){return g},iG:function(){return h},iO:function(){return f},kl:function(){return u},ob:function(){return y},od:function(){return t},ot:function(){return S},sG:function(){return v},yA:function(){return r}});var p=e(81628),L=e(69792);function o(c){return(0,p.c)(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-c)%7),i.setUTCHours(0,0,0,0)},function(i,d){i.setUTCDate(i.getUTCDate()+d*7)},function(i,d){return(d-i)/L.KK})}var C=o(0),S=o(1),v=o(2),g=o(3),r=o(4),t=o(5),a=o(6),n=C.range,f=S.range,u=v.range,l=g.range,y=r.range,h=t.range,T=a.range},53528:function(V,Y,e){e.d(Y,{i:function(){return o}});var p=e(81628),L=(0,p.c)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,S){C.setUTCFullYear(C.getUTCFullYear()+S)},function(C,S){return S.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.c)(function(S){S.setUTCFullYear(Math.floor(S.getUTCFullYear()/C)*C),S.setUTCMonth(0,1),S.setUTCHours(0,0,0,0)},function(S,v){S.setUTCFullYear(S.getUTCFullYear()+v*C)})},Y.c=L;var o=L.range},46192:function(V,Y,e){e.d(Y,{Ab:function(){return n},Mf:function(){return v},Oc:function(){return u},QP:function(){return f},Wc:function(){return a},aI:function(){return T},eC:function(){return y},eg:function(){return g},iB:function(){return t},kD:function(){return r},qT:function(){return S},sJ:function(){return h},sn:function(){return l},uU:function(){return C}});var p=e(81628),L=e(69792);function o(c){return(0,p.c)(function(i){i.setDate(i.getDate()-(i.getDay()+7-c)%7),i.setHours(0,0,0,0)},function(i,d){i.setDate(i.getDate()+d*7)},function(i,d){return(d-i-(d.getTimezoneOffset()-i.getTimezoneOffset())*L.iy)/L.KK})}var C=o(0),S=o(1),v=o(2),g=o(3),r=o(4),t=o(5),a=o(6),n=C.range,f=S.range,u=v.range,l=g.range,y=r.range,h=t.range,T=a.range},32171:function(V,Y,e){e.d(Y,{Q:function(){return o}});var p=e(81628),L=(0,p.c)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,S){C.setFullYear(C.getFullYear()+S)},function(C,S){return S.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.c)(function(S){S.setFullYear(Math.floor(S.getFullYear()/C)*C),S.setMonth(0,1),S.setHours(0,0,0,0)},function(S,v){S.setFullYear(S.getFullYear()+v*C)})},Y.c=L;var o=L.range},64348:function(V,Y,e){var p=e(39640)(),L=e(53664),o=p&&L("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch{o=!1}var C=L("%SyntaxError%"),S=L("%TypeError%"),v=e(2304);V.exports=function(r,t,a){if(!r||typeof r!="object"&&typeof r!="function")throw new S("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new S("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new S("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new S("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new S("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new S("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,y=!!v&&v(r,t);if(o)o(r,t,{configurable:u===null&&y?y.configurable:!u,enumerable:n===null&&y?y.enumerable:!n,value:a,writable:f===null&&y?y.writable:!f});else if(l||!n&&!f&&!u)r[t]=a;else throw new C("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},81288:function(V,Y,e){var p=e(41820),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",o=Object.prototype.toString,C=Array.prototype.concat,S=Object.defineProperty,v=function(n){return typeof n=="function"&&o.call(n)==="[object Function]"},g=e(39640)(),r=S&&g,t=function(n,f,u,l){if(f in n){if(l===!0){if(n[f]===u)return}else if(!v(l)||!l())return}r?S(n,f,{configurable:!0,enumerable:!1,value:u,writable:!0}):n[f]=u},a=function(n,f){var u=arguments.length>2?arguments[2]:{},l=p(f);L&&(l=C.call(l,Object.getOwnPropertySymbols(f)));for(var y=0;y<l.length;y+=1)t(n,l[y],f[l[y]],u[l[y]])};a.supportsDescriptors=!!r,V.exports=a},31264:function(V){V.exports=function(){for(var Y=0;Y<arguments.length;Y++)if(arguments[Y]!==void 0)return arguments[Y]}},63768:function(V){V.exports=L;var Y=L.canvas=document.createElement("canvas"),e=Y.getContext("2d"),p=o([32,126]);L.createPairs=o,L.ascii=p;function L(C,S){Array.isArray(C)&&(C=C.join(", "));var v={},g,r=16,t=.05;S&&(S.length===2&&typeof S[0]=="number"?g=o(S):Array.isArray(S)?g=S:(S.o?g=o(S.o):S.pairs&&(g=S.pairs),S.fontSize&&(r=S.fontSize),S.threshold!=null&&(t=S.threshold))),g||(g=p),e.font=r+"px "+C;for(var a=0;a<g.length;a++){var n=g[a],f=e.measureText(n[0]).width+e.measureText(n[1]).width,u=e.measureText(n).width;if(Math.abs(f-u)>r*t){var l=(u-f)/r;v[n]=l*1e3}}return v}function o(C){for(var S=[],v=C[0];v<=C[1];v++)for(var g=String.fromCharCode(v),r=C[0];r<C[1];r++){var t=String.fromCharCode(r),a=g+t;S.push(a)}return S}},22235:function(V,Y,e){var p=e(49972),L=e(48816),o={M:"moveTo",C:"bezierCurveTo"};V.exports=function(C,S){C.beginPath(),L(p(S)).forEach(function(v){var g=v[0],r=v.slice(1);C[o[g]].apply(C,r)}),C.closePath()}},72512:function(V){V.exports=function(Y){switch(Y){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(V){function Y(L,o,C){var S=L[C]|0;if(S<=0)return[];var v=new Array(S),g;if(C===L.length-1)for(g=0;g<S;++g)v[g]=o;else for(g=0;g<S;++g)v[g]=Y(L,o,C+1);return v}function e(L,o){var C,S;for(C=new Array(L),S=0;S<L;++S)C[S]=o;return C}function p(L,o){switch(typeof o>"u"&&(o=0),typeof L){case"number":if(L>0)return e(L|0,o);break;case"object":if(typeof L.length=="number")return Y(L,o,0);break}return[]}V.exports=p},28912:function(V){V.exports=Y,V.exports.default=Y;function Y(k,H,F){F=F||2;var B=H&&H.length,U=B?H[0]*F:k.length,z=e(k,0,U,F,!0),W=[];if(!z||z.next===z.prev)return W;var j,ee,ie,oe,he,ne,q;if(B&&(z=g(k,H,z,F)),k.length>80*F){j=ie=k[0],ee=oe=k[1];for(var le=F;le<U;le+=F)he=k[le],ne=k[le+1],he<j&&(j=he),ne<ee&&(ee=ne),he>ie&&(ie=he),ne>oe&&(oe=ne);q=Math.max(ie-j,oe-ee),q=q!==0?1/q:0}return L(z,W,F,j,ee,q),W}function e(k,H,F,B,U){var z,W;if(U===N(k,H,F,B)>0)for(z=H;z<F;z+=B)W=s(z,k[z],k[z+1],W);else for(z=F-B;z>=H;z-=B)W=s(z,k[z],k[z+1],W);return W&&i(W,W.next)&&(M(W),W=W.next),W}function p(k,H){if(!k)return k;H||(H=k);var F=k,B;do if(B=!1,!F.steiner&&(i(F,F.next)||c(F.prev,F,F.next)===0)){if(M(F),F=H=F.prev,F===F.next)break;B=!0}else F=F.next;while(B||F!==H);return H}function L(k,H,F,B,U,z,W){if(k){!W&&z&&f(k,B,U,z);for(var j=k,ee,ie;k.prev!==k.next;){if(ee=k.prev,ie=k.next,z?C(k,B,U,z):o(k)){H.push(ee.i/F),H.push(k.i/F),H.push(ie.i/F),M(k),k=ie.next,j=ie.next;continue}if(k=ie,k===j){W?W===1?(k=S(p(k),H,F),L(k,H,F,B,U,z,2)):W===2&&v(k,H,F,B,U,z):L(p(k),H,F,B,U,z,1);break}}}}function o(k){var H=k.prev,F=k,B=k.next;if(c(H,F,B)>=0)return!1;for(var U=k.next.next;U!==k.prev;){if(h(H.x,H.y,F.x,F.y,B.x,B.y,U.x,U.y)&&c(U.prev,U,U.next)>=0)return!1;U=U.next}return!0}function C(k,H,F,B){var U=k.prev,z=k,W=k.next;if(c(U,z,W)>=0)return!1;for(var j=U.x<z.x?U.x<W.x?U.x:W.x:z.x<W.x?z.x:W.x,ee=U.y<z.y?U.y<W.y?U.y:W.y:z.y<W.y?z.y:W.y,ie=U.x>z.x?U.x>W.x?U.x:W.x:z.x>W.x?z.x:W.x,oe=U.y>z.y?U.y>W.y?U.y:W.y:z.y>W.y?z.y:W.y,he=l(j,ee,H,F,B),ne=l(ie,oe,H,F,B),q=k.prevZ,le=k.nextZ;q&&q.z>=he&&le&&le.z<=ne;){if(q!==k.prev&&q!==k.next&&h(U.x,U.y,z.x,z.y,W.x,W.y,q.x,q.y)&&c(q.prev,q,q.next)>=0||(q=q.prevZ,le!==k.prev&&le!==k.next&&h(U.x,U.y,z.x,z.y,W.x,W.y,le.x,le.y)&&c(le.prev,le,le.next)>=0))return!1;le=le.nextZ}for(;q&&q.z>=he;){if(q!==k.prev&&q!==k.next&&h(U.x,U.y,z.x,z.y,W.x,W.y,q.x,q.y)&&c(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;le&&le.z<=ne;){if(le!==k.prev&&le!==k.next&&h(U.x,U.y,z.x,z.y,W.x,W.y,le.x,le.y)&&c(le.prev,le,le.next)>=0)return!1;le=le.nextZ}return!0}function S(k,H,F){var B=k;do{var U=B.prev,z=B.next.next;!i(U,z)&&d(U,B,B.next,z)&&m(U,z)&&m(z,U)&&(H.push(U.i/F),H.push(B.i/F),H.push(z.i/F),M(B),M(B.next),B=k=z),B=B.next}while(B!==k);return p(B)}function v(k,H,F,B,U,z){var W=k;do{for(var j=W.next.next;j!==W.prev;){if(W.i!==j.i&&T(W,j)){var ee=A(W,j);W=p(W,W.next),ee=p(ee,ee.next),L(W,H,F,B,U,z),L(ee,H,F,B,U,z);return}j=j.next}W=W.next}while(W!==k)}function g(k,H,F,B){var U=[],z,W,j,ee,ie;for(z=0,W=H.length;z<W;z++)j=H[z]*B,ee=z<W-1?H[z+1]*B:k.length,ie=e(k,j,ee,B,!1),ie===ie.next&&(ie.steiner=!0),U.push(y(ie));for(U.sort(r),z=0;z<U.length;z++)t(U[z],F),F=p(F,F.next);return F}function r(k,H){return k.x-H.x}function t(k,H){if(H=a(k,H),H){var F=A(H,k);p(H,H.next),p(F,F.next)}}function a(k,H){var F=H,B=k.x,U=k.y,z=-1/0,W;do{if(U<=F.y&&U>=F.next.y&&F.next.y!==F.y){var j=F.x+(U-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(j<=B&&j>z){if(z=j,j===B){if(U===F.y)return F;if(U===F.next.y)return F.next}W=F.x<F.next.x?F:F.next}}F=F.next}while(F!==H);if(!W)return null;if(B===z)return W;var ee=W,ie=W.x,oe=W.y,he=1/0,ne;F=W;do B>=F.x&&F.x>=ie&&B!==F.x&&h(U<oe?B:z,U,ie,oe,U<oe?z:B,U,F.x,F.y)&&(ne=Math.abs(U-F.y)/(B-F.x),m(F,k)&&(ne<he||ne===he&&(F.x>W.x||F.x===W.x&&n(W,F)))&&(W=F,he=ne)),F=F.next;while(F!==ee);return W}function n(k,H){return c(k.prev,k,H.prev)<0&&c(H.next,k,k.next)<0}function f(k,H,F,B){var U=k;do U.z===null&&(U.z=l(U.x,U.y,H,F,B)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==k);U.prevZ.nextZ=null,U.prevZ=null,u(U)}function u(k){var H,F,B,U,z,W,j,ee,ie=1;do{for(F=k,k=null,z=null,W=0;F;){for(W++,B=F,j=0,H=0;H<ie&&(j++,B=B.nextZ,!!B);H++);for(ee=ie;j>0||ee>0&&B;)j!==0&&(ee===0||!B||F.z<=B.z)?(U=F,F=F.nextZ,j--):(U=B,B=B.nextZ,ee--),z?z.nextZ=U:k=U,U.prevZ=z,z=U;F=B}z.nextZ=null,ie*=2}while(W>1);return k}function l(k,H,F,B,U){return k=32767*(k-F)*U,H=32767*(H-B)*U,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,k|H<<1}function y(k){var H=k,F=k;do(H.x<F.x||H.x===F.x&&H.y<F.y)&&(F=H),H=H.next;while(H!==k);return F}function h(k,H,F,B,U,z,W,j){return(U-W)*(H-j)-(k-W)*(z-j)>=0&&(k-W)*(B-j)-(F-W)*(H-j)>=0&&(F-W)*(z-j)-(U-W)*(B-j)>=0}function T(k,H){return k.next.i!==H.i&&k.prev.i!==H.i&&!_(k,H)&&(m(k,H)&&m(H,k)&&E(k,H)&&(c(k.prev,k,H.prev)||c(k,H.prev,H))||i(k,H)&&c(k.prev,k,k.next)>0&&c(H.prev,H,H.next)>0)}function c(k,H,F){return(H.y-k.y)*(F.x-H.x)-(H.x-k.x)*(F.y-H.y)}function i(k,H){return k.x===H.x&&k.y===H.y}function d(k,H,F,B){var U=w(c(k,H,F)),z=w(c(k,H,B)),W=w(c(F,B,k)),j=w(c(F,B,H));return!!(U!==z&&W!==j||U===0&&x(k,F,H)||z===0&&x(k,B,H)||W===0&&x(F,k,B)||j===0&&x(F,H,B))}function x(k,H,F){return H.x<=Math.max(k.x,F.x)&&H.x>=Math.min(k.x,F.x)&&H.y<=Math.max(k.y,F.y)&&H.y>=Math.min(k.y,F.y)}function w(k){return k>0?1:k<0?-1:0}function _(k,H){var F=k;do{if(F.i!==k.i&&F.next.i!==k.i&&F.i!==H.i&&F.next.i!==H.i&&d(F,F.next,k,H))return!0;F=F.next}while(F!==k);return!1}function m(k,H){return c(k.prev,k,k.next)<0?c(k,H,k.next)>=0&&c(k,k.prev,H)>=0:c(k,H,k.prev)<0||c(k,k.next,H)<0}function E(k,H){var F=k,B=!1,U=(k.x+H.x)/2,z=(k.y+H.y)/2;do F.y>z!=F.next.y>z&&F.next.y!==F.y&&U<(F.next.x-F.x)*(z-F.y)/(F.next.y-F.y)+F.x&&(B=!B),F=F.next;while(F!==k);return B}function A(k,H){var F=new b(k.i,k.x,k.y),B=new b(H.i,H.x,H.y),U=k.next,z=H.prev;return k.next=H,H.prev=k,F.next=U,U.prev=F,B.next=F,F.prev=B,z.next=B,B.prev=z,B}function s(k,H,F,B){var U=new b(k,H,F);return B?(U.next=B.next,U.prev=B,B.next.prev=U,B.next=U):(U.prev=U,U.next=U),U}function M(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function b(k,H,F){this.i=k,this.x=H,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Y.deviation=function(k,H,F,B){var U=H&&H.length,z=U?H[0]*F:k.length,W=Math.abs(N(k,0,z,F));if(U)for(var j=0,ee=H.length;j<ee;j++){var ie=H[j]*F,oe=j<ee-1?H[j+1]*F:k.length;W-=Math.abs(N(k,ie,oe,F))}var he=0;for(j=0;j<B.length;j+=3){var ne=B[j]*F,q=B[j+1]*F,le=B[j+2]*F;he+=Math.abs((k[ne]-k[le])*(k[q+1]-k[ne+1])-(k[ne]-k[q])*(k[le+1]-k[ne+1]))}return W===0&&he===0?0:Math.abs((he-W)/W)};function N(k,H,F,B){for(var U=0,z=H,W=F-B;z<F;z+=B)U+=(k[W]-k[z])*(k[z+1]+k[W+1]),W=z;return U}Y.flatten=function(k){for(var H=k[0][0].length,F={vertices:[],holes:[],dimensions:H},B=0,U=0;U<k.length;U++){for(var z=0;z<k[U].length;z++)for(var W=0;W<H;W++)F.vertices.push(k[U][z][W]);U>0&&(B+=k[U-1].length,F.holes.push(B))}return F}},6688:function(V,Y,e){var p=e(78484);V.exports=function(o,C){var S=[],v=[],g=[],r={},t=[],a;function n(x){g[x]=!1,r.hasOwnProperty(x)&&Object.keys(r[x]).forEach(function(w){delete r[x][w],g[w]&&n(w)})}function f(x){var w=!1;v.push(x),g[x]=!0;var _,m;for(_=0;_<t[x].length;_++)m=t[x][_],m===a?(u(a,v),w=!0):g[m]||(w=f(m));if(w)n(x);else for(_=0;_<t[x].length;_++){m=t[x][_];var E=r[m];E||(E={},r[m]=E),E[m]=!0}return v.pop(),w}function u(x,w){var _=[].concat(w).concat(x);C?C(f):S.push(_)}function l(x){for(var w=0;w<o.length;w++)w<x&&(o[w]=[]),o[w]=o[w].filter(function(_){return _>=x})}function y(x){l(x);for(var w=o,_=p(w),m=_.components.filter(function(k){return k.length>1}),E=1/0,A,s=0;s<m.length;s++)for(var M=0;M<m[s].length;M++)m[s][M]<E&&(E=m[s][M],A=s);var b=m[A];if(!b)return!1;var N=o.map(function(k,H){return b.indexOf(H)===-1?[]:k.filter(function(F){return b.indexOf(F)!==-1})});return{leastVertex:E,adjList:N}}a=0;for(var h=o.length;a<h;){var T=y(a);if(a=T.leastVertex,t=T.adjList,t){for(var c=0;c<t.length;c++)for(var i=0;i<t[c].length;i++){var d=t[c][i];g[+d]=!1,r[d]={}}f(a),a=a+1}else a=h}if(!C)return S}},41476:function(V,Y,e){var p=e(9252);V.exports=function(){return p(this).length=0,this}},74772:function(V,Y,e){V.exports=e(44716)()?Array.from:e(80816)},44716:function(V){V.exports=function(){var Y=Array.from,e,p;return typeof Y!="function"?!1:(e=["raz","dwa"],p=Y(e),!!(p&&p!==e&&p[1]==="dwa"))}},80816:function(V,Y,e){var p=e(92664).iterator,L=e(60948),o=e(17024),C=e(81304),S=e(34044),v=e(9252),g=e(42584),r=e(29768),t=Array.isArray,a=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;V.exports=function(u){var l=arguments[1],y=arguments[2],h,T,c,i,d,x,w,_,m,E;if(u=Object(v(u)),g(l)&&S(l),!this||this===Array||!o(this)){if(!l){if(L(u))return d=u.length,d!==1?Array.apply(null,u):(i=new Array(1),i[0]=u[0],i);if(t(u)){for(i=new Array(d=u.length),T=0;T<d;++T)i[T]=u[T];return i}}i=[]}else h=this;if(!t(u)){if((m=u[p])!==void 0){for(w=S(m).call(u),h&&(i=new h),_=w.next(),T=0;!_.done;)E=l?a.call(l,y,_.value,T):_.value,h?(n.value=E,f(i,T,n)):i[T]=E,_=w.next(),++T;d=T}else if(r(u)){for(d=u.length,h&&(i=new h),T=0,c=0;T<d;++T)E=u[T],T+1<d&&(x=E.charCodeAt(0),x>=55296&&x<=56319&&(E+=u[++T])),E=l?a.call(l,y,E,c):E,h?(n.value=E,f(i,c,n)):i[c]=E,++c;d=c}}if(d===void 0)for(d=C(u.length),h&&(i=new h(d)),T=0;T<d;++T)E=l?a.call(l,y,u[T],T):u[T],h?(n.value=E,f(i,T,n)):i[T]=E;return h&&(n.value=null,i.length=d),i}},60948:function(V){var Y=Object.prototype.toString,e=Y.call(function(){return arguments}());V.exports=function(p){return Y.call(p)===e}},17024:function(V){var Y=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);V.exports=function(p){return typeof p=="function"&&e(Y.call(p))}},33208:function(V){V.exports=function(){}},85608:function(V,Y,e){V.exports=e(37328)()?Math.sign:e(92928)},37328:function(V){V.exports=function(){var Y=Math.sign;return typeof Y!="function"?!1:Y(10)===1&&Y(-20)===-1}},92928:function(V){V.exports=function(Y){return Y=Number(Y),isNaN(Y)||Y===0?Y:Y>0?1:-1}},96936:function(V,Y,e){var p=e(85608),L=Math.abs,o=Math.floor;V.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:p(C)*o(L(C)))}},81304:function(V,Y,e){var p=e(96936),L=Math.max;V.exports=function(o){return L(0,p(o))}},14428:function(V,Y,e){var p=e(34044),L=e(9252),o=Function.prototype.bind,C=Function.prototype.call,S=Object.keys,v=Object.prototype.propertyIsEnumerable;V.exports=function(g,r){return function(t,a){var n,f=arguments[2],u=arguments[3];return t=Object(L(t)),p(a),n=S(t),u&&n.sort(typeof u=="function"?o.call(u,t):void 0),typeof g!="function"&&(g=n[g]),C.call(g,n,function(l,y){return v.call(t,l)?C.call(a,f,t[l],l,t,y):r})}}},38452:function(V,Y,e){V.exports=e(96276)()?Object.assign:e(81892)},96276:function(V){V.exports=function(){var Y=Object.assign,e;return typeof Y!="function"?!1:(e={foo:"raz"},Y(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},81892:function(V,Y,e){var p=e(54768),L=e(9252),o=Math.max;V.exports=function(C,S){var v,g,r=o(arguments.length,2),t;for(C=Object(L(C)),t=function(a){try{C[a]=S[a]}catch(n){v||(v=n)}},g=1;g<r;++g)S=arguments[g],p(S).forEach(t);if(v!==void 0)throw v;return C}},95920:function(V,Y,e){var p=e(74772),L=e(38452),o=e(9252);V.exports=function(C){var S=Object(o(C)),v=arguments[1],g=Object(arguments[2]);if(S!==C&&!v)return S;var r={};return v?p(v,function(t){(g.ensure||t in C)&&(r[t]=C[t])}):L(r,C),r}},14452:function(V,Y,e){var p=Object.create,L;e(63092)()||(L=e(8672)),V.exports=function(){var o,C,S;return!L||L.level!==1?p:(o={},C={},S={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=S}),Object.defineProperties(o,C),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(v,g){return p(v===null?o:v,g)})}()},42748:function(V,Y,e){V.exports=e(14428)("forEach")},69127:function(V,Y,e){var p=e(42584),L={function:!0,object:!0};V.exports=function(o){return p(o)&&L[typeof o]||!1}},42584:function(V,Y,e){var p=e(33208)();V.exports=function(L){return L!==p&&L!==null}},54768:function(V,Y,e){V.exports=e(87888)()?Object.keys:e(89592)},87888:function(V){V.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(V,Y,e){var p=e(42584),L=Object.keys;V.exports=function(o){return L(p(o)?Object(o):o)}},84323:function(V,Y,e){var p=e(34044),L=e(42748),o=Function.prototype.call;V.exports=function(C,S){var v={},g=arguments[2];return p(S),L(C,function(r,t,a,n){v[t]=o.call(S,g,r,t,a,n)}),v}},50868:function(V,Y,e){var p=e(42584),L=Array.prototype.forEach,o=Object.create,C=function(S,v){var g;for(g in S)v[g]=S[g]};V.exports=function(S){var v=o(null);return L.call(arguments,function(g){p(g)&&C(Object(g),v)}),v}},69932:function(V,Y,e){V.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(V){var Y=Object.create,e=Object.getPrototypeOf,p={};V.exports=function(){var L=Object.setPrototypeOf,o=arguments[0]||Y;return typeof L!="function"?!1:e(L(o(null),p))===p}},8672:function(V,Y,e){var p=e(69127),L=e(9252),o=Object.prototype.isPrototypeOf,C=Object.defineProperty,S={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(g,r){if(L(g),r===null||p(r))return g;throw new TypeError("Prototype must be null or an object")},V.exports=function(g){var r,t;return g?(g.level===2?g.set?(t=g.set,r=function(a,n){return t.call(v(a,n),n),a}):r=function(a,n){return v(a,n).__proto__=n,a}:r=function a(n,f){var u;return v(n,f),u=o.call(a.nullPolyfill,n),u&&delete a.nullPolyfill.__proto__,f===null&&(f=a.nullPolyfill),n.__proto__=f,u&&C(a.nullPolyfill,"__proto__",S),n},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:g.level})):null}(function(){var g=Object.create(null),r={},t,a=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(a){try{t=a.set,t.call(g,r)}catch{}if(Object.getPrototypeOf(g)===r)return{set:t,level:2}}return g.__proto__=r,Object.getPrototypeOf(g)===r?{level:2}:(g={},g.__proto__=r,Object.getPrototypeOf(g)===r?{level:1}:!1)}()),e(14452)},34044:function(V){V.exports=function(Y){if(typeof Y!="function")throw new TypeError(Y+" is not a function");return Y}},92584:function(V,Y,e){var p=e(69127);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not an Object");return L}},9252:function(V,Y,e){var p=e(42584);V.exports=function(L){if(!p(L))throw new TypeError("Cannot use null or undefined");return L}},71056:function(V,Y,e){V.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(V){var Y="razdwatrzy";V.exports=function(){return typeof Y.contains!="function"?!1:Y.contains("dwa")===!0&&Y.contains("foo")===!1}},93040:function(V){var Y=String.prototype.indexOf;V.exports=function(e){return Y.call(this,e,arguments[1])>-1}},29768:function(V){var Y=Object.prototype.toString,e=Y.call("");V.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||Y.call(p)===e)||!1}},82252:function(V){var Y=Object.create(null),e=Math.random;V.exports=function(){var p;do p=e().toString(36).slice(2);while(Y[p]);return p}},52104:function(V,Y,e){var p=e(69932),L=e(71056),o=e(21092),C=e(92664),S=e(85512),v=Object.defineProperty,g;g=V.exports=function(r,t){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");S.call(this,r),t?L.call(t,"key+value")?t="key+value":L.call(t,"key")?t="key":t="value":t="value",v(this,"__kind__",o("",t))},p&&p(g,S),delete g.prototype.constructor,g.prototype=Object.create(S.prototype,{_resolve:o(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),v(g.prototype,C.toStringTag,o("c","Array Iterator"))},76024:function(V,Y,e){var p=e(60948),L=e(34044),o=e(29768),C=e(76252),S=Array.isArray,v=Function.prototype.call,g=Array.prototype.some;V.exports=function(r,t){var a,n=arguments[2],f,u,l,y,h,T,c;if(S(r)||p(r)?a="array":o(r)?a="string":r=C(r),L(t),u=function(){l=!0},a==="array"){g.call(r,function(i){return v.call(t,n,i,u),l});return}if(a==="string"){for(h=r.length,y=0;y<h&&(T=r[y],y+1<h&&(c=T.charCodeAt(0),c>=55296&&c<=56319&&(T+=r[++y])),v.call(t,n,T,u),!l);++y);return}for(f=r.next();!f.done;){if(v.call(t,n,f.value,u),l)return;f=r.next()}}},76252:function(V,Y,e){var p=e(60948),L=e(29768),o=e(52104),C=e(80940),S=e(52891),v=e(92664).iterator;V.exports=function(g){return typeof S(g)[v]=="function"?g[v]():p(g)?new o(g):L(g)?new C(g):new o(g)}},85512:function(V,Y,e){var p=e(41476),L=e(38452),o=e(34044),C=e(9252),S=e(21092),v=e(27940),g=e(92664),r=Object.defineProperty,t=Object.defineProperties,a;V.exports=a=function(n,f){if(!(this instanceof a))throw new TypeError("Constructor requires 'new'");t(this,{__list__:S("w",C(n)),__context__:S("w",f),__nextIndex__:S("w",0)}),f&&(o(f.on),f.on("_add",this._onAdd),f.on("_delete",this._onDelete),f.on("_clear",this._onClear))},delete a.prototype.constructor,t(a.prototype,L({_next:S(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:S(function(){return this._createResult(this._next())}),_createResult:S(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:S(function(n){return this.__list__[n]}),_unBind:S(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:S(function(){return"[object "+(this[g.toStringTag]||"Object")+"]"})},v({_onAdd:S(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",S("c",[n]));return}this.__redo__.forEach(function(f,u){f>=n&&(this.__redo__[u]=++f)},this),this.__redo__.push(n)}}),_onDelete:S(function(n){var f;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(f=this.__redo__.indexOf(n),f!==-1&&this.__redo__.splice(f,1),this.__redo__.forEach(function(u,l){u>n&&(this.__redo__[l]=--u)},this)))}),_onClear:S(function(){this.__redo__&&p.call(this.__redo__),this.__nextIndex__=0})}))),r(a.prototype,g.iterator,S(function(){return this}))},76368:function(V,Y,e){var p=e(60948),L=e(42584),o=e(29768),C=e(92664).iterator,S=Array.isArray;V.exports=function(v){return L(v)?S(v)||o(v)||p(v)?!0:typeof v[C]=="function":!1}},80940:function(V,Y,e){var p=e(69932),L=e(21092),o=e(92664),C=e(85512),S=Object.defineProperty,v;v=V.exports=function(g){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");g=String(g),C.call(this,g),S(this,"__length__",L("",g.length))},p&&p(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(g){var r=this.__list__[g],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),S(v.prototype,o.toStringTag,L("c","String Iterator"))},52891:function(V,Y,e){var p=e(76368);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not iterable");return L}},60964:function(V){function Y(p,L){if(p==null)throw new TypeError("Cannot convert first argument to object");for(var o=Object(p),C=1;C<arguments.length;C++){var S=arguments[C];if(S!=null)for(var v=Object.keys(Object(S)),g=0,r=v.length;g<r;g++){var t=v[g],a=Object.getOwnPropertyDescriptor(S,t);a!==void 0&&a.enumerable&&(o[t]=S[t])}}return o}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:Y})}V.exports={assign:Y,polyfill:e}},92664:function(V,Y,e){V.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(V,Y,e){var p=e(12296),L={object:!0,symbol:!0};V.exports=function(){var o=p.Symbol,C;if(typeof o!="function")return!1;C=o("test symbol");try{String(C)}catch{return!1}return!(!L[typeof o.iterator]||!L[typeof o.toPrimitive]||!L[typeof o.toStringTag])}},53908:function(V){V.exports=function(Y){return Y?typeof Y=="symbol"?!0:!Y.constructor||Y.constructor.name!=="Symbol"?!1:Y[Y.constructor.toStringTag]==="Symbol":!1}},96863:function(V,Y,e){var p=e(21092),L=Object.create,o=Object.defineProperty,C=Object.prototype,S=L(null);V.exports=function(v){for(var g=0,r,t;S[v+(g||"")];)++g;return v+=g||"",S[v]=!0,r="@@"+v,o(C,r,p.gs(null,function(a){t||(t=!0,o(this,r,p(a)),t=!1)})),r}},53540:function(V,Y,e){var p=e(21092),L=e(12296).Symbol;V.exports=function(o){return Object.defineProperties(o,{hasInstance:p("",L&&L.hasInstance||o("hasInstance")),isConcatSpreadable:p("",L&&L.isConcatSpreadable||o("isConcatSpreadable")),iterator:p("",L&&L.iterator||o("iterator")),match:p("",L&&L.match||o("match")),replace:p("",L&&L.replace||o("replace")),search:p("",L&&L.search||o("search")),species:p("",L&&L.species||o("species")),split:p("",L&&L.split||o("split")),toPrimitive:p("",L&&L.toPrimitive||o("toPrimitive")),toStringTag:p("",L&&L.toStringTag||o("toStringTag")),unscopables:p("",L&&L.unscopables||o("unscopables"))})}},73852:function(V,Y,e){var p=e(21092),L=e(63948),o=Object.create(null);V.exports=function(C){return Object.defineProperties(C,{for:p(function(S){return o[S]?o[S]:o[S]=C(String(S))}),keyFor:p(function(S){var v;L(S);for(v in o)if(o[v]===S)return v})})}},18376:function(V,Y,e){var p=e(21092),L=e(63948),o=e(12296).Symbol,C=e(96863),S=e(53540),v=e(73852),g=Object.create,r=Object.defineProperties,t=Object.defineProperty,a,n,f;if(typeof o=="function")try{String(o()),f=!0}catch{}else o=null;n=function(l){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return a(l)},V.exports=a=function u(l){var y;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return f?o(l):(y=g(n.prototype),l=l===void 0?"":String(l),r(y,{__description__:p("",l),__name__:p("",C(l))}))},S(a),v(a),r(n.prototype,{constructor:p(a),toString:p("",function(){return this.__name__})}),r(a.prototype,{toString:p(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:p(function(){return L(this)})}),t(a.prototype,a.toPrimitive,p("",function(){var u=L(this);return typeof u=="symbol"?u:u.toString()})),t(a.prototype,a.toStringTag,p("c","Symbol")),t(n.prototype,a.toStringTag,p("c",a.prototype[a.toStringTag])),t(n.prototype,a.toPrimitive,p("c",a.prototype[a.toPrimitive]))},63948:function(V,Y,e){var p=e(53908);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not a symbol");return L}},60463:function(V,Y,e){V.exports=e(96979)()?WeakMap:e(64864)},96979:function(V){V.exports=function(){var Y,e;if(typeof WeakMap!="function")return!1;try{Y=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(Y)!=="[object WeakMap]"||typeof Y.set!="function"||Y.set({},1)!==Y||typeof Y.delete!="function"||typeof Y.has!="function"||Y.get(e)!=="one")}},69876:function(V){V.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},64864:function(V,Y,e){var p=e(42584),L=e(69932),o=e(92584),C=e(9252),S=e(82252),v=e(21092),g=e(76252),r=e(76024),t=e(92664).toStringTag,a=e(69876),n=Array.isArray,f=Object.defineProperty,u=Object.prototype.hasOwnProperty,l=Object.getPrototypeOf,y;V.exports=y=function(){var h=arguments[0],T;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return T=a&&L&&WeakMap!==y?L(new WeakMap,l(this)):this,p(h)&&(n(h)||(h=g(h))),f(T,"__weakMapData__",v("c","$weakMap$"+S())),h&&r(h,function(c){C(c),T.set(c[0],c[1])}),T},a&&(L&&L(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(h){return u.call(o(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(u.call(o(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return u.call(o(h),this.__weakMapData__)}),set:v(function(h,T){return f(o(h),this.__weakMapData__,v("c",T)),this}),toString:v(function(){return"[object WeakMap]"})}),f(y.prototype,t,v("c","WeakMap"))},61252:function(V){var Y=typeof Reflect=="object"?Reflect:null,e=Y&&typeof Y.apply=="function"?Y.apply:function(d,x,w){return Function.prototype.apply.call(d,x,w)},p;Y&&typeof Y.ownKeys=="function"?p=Y.ownKeys:Object.getOwnPropertySymbols?p=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:p=function(d){return Object.getOwnPropertyNames(d)};function L(i){console&&console.warn&&console.warn(i)}var o=Number.isNaN||function(d){return d!==d};function C(){C.init.call(this)}V.exports=C,V.exports.once=h,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var S=10;function v(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(i){if(typeof i!="number"||i<0||o(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");S=i}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||o(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function g(i){return i._maxListeners===void 0?C.defaultMaxListeners:i._maxListeners}C.prototype.getMaxListeners=function(){return g(this)},C.prototype.emit=function(d){for(var x=[],w=1;w<arguments.length;w++)x.push(arguments[w]);var _=d==="error",m=this._events;if(m!==void 0)_=_&&m.error===void 0;else if(!_)return!1;if(_){var E;if(x.length>0&&(E=x[0]),E instanceof Error)throw E;var A=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw A.context=E,A}var s=m[d];if(s===void 0)return!1;if(typeof s=="function")e(s,this,x);else for(var M=s.length,b=u(s,M),w=0;w<M;++w)e(b[w],this,x);return!0};function r(i,d,x,w){var _,m,E;if(v(x),m=i._events,m===void 0?(m=i._events=Object.create(null),i._eventsCount=0):(m.newListener!==void 0&&(i.emit("newListener",d,x.listener?x.listener:x),m=i._events),E=m[d]),E===void 0)E=m[d]=x,++i._eventsCount;else if(typeof E=="function"?E=m[d]=w?[x,E]:[E,x]:w?E.unshift(x):E.push(x),_=g(i),_>0&&E.length>_&&!E.warned){E.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=i,A.type=d,A.count=E.length,L(A)}return i}C.prototype.addListener=function(d,x){return r(this,d,x,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(d,x){return r(this,d,x,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(i,d,x){var w={fired:!1,wrapFn:void 0,target:i,type:d,listener:x},_=t.bind(w);return _.listener=x,w.wrapFn=_,_}C.prototype.once=function(d,x){return v(x),this.on(d,a(this,d,x)),this},C.prototype.prependOnceListener=function(d,x){return v(x),this.prependListener(d,a(this,d,x)),this},C.prototype.removeListener=function(d,x){var w,_,m,E,A;if(v(x),_=this._events,_===void 0)return this;if(w=_[d],w===void 0)return this;if(w===x||w.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete _[d],_.removeListener&&this.emit("removeListener",d,w.listener||x));else if(typeof w!="function"){for(m=-1,E=w.length-1;E>=0;E--)if(w[E]===x||w[E].listener===x){A=w[E].listener,m=E;break}if(m<0)return this;m===0?w.shift():l(w,m),w.length===1&&(_[d]=w[0]),_.removeListener!==void 0&&this.emit("removeListener",d,A||x)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(d){var x,w,_;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[d]),this;if(arguments.length===0){var m=Object.keys(w),E;for(_=0;_<m.length;++_)E=m[_],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=w[d],typeof x=="function")this.removeListener(d,x);else if(x!==void 0)for(_=x.length-1;_>=0;_--)this.removeListener(d,x[_]);return this};function n(i,d,x){var w=i._events;if(w===void 0)return[];var _=w[d];return _===void 0?[]:typeof _=="function"?x?[_.listener||_]:[_]:x?y(_):u(_,_.length)}C.prototype.listeners=function(d){return n(this,d,!0)},C.prototype.rawListeners=function(d){return n(this,d,!1)},C.listenerCount=function(i,d){return typeof i.listenerCount=="function"?i.listenerCount(d):f.call(i,d)},C.prototype.listenerCount=f;function f(i){var d=this._events;if(d!==void 0){var x=d[i];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function u(i,d){for(var x=new Array(d),w=0;w<d;++w)x[w]=i[w];return x}function l(i,d){for(;d+1<i.length;d++)i[d]=i[d+1];i.pop()}function y(i){for(var d=new Array(i.length),x=0;x<d.length;++x)d[x]=i[x].listener||i[x];return d}function h(i,d){return new Promise(function(x,w){function _(E){i.removeListener(d,m),w(E)}function m(){typeof i.removeListener=="function"&&i.removeListener("error",_),x([].slice.call(arguments))}c(i,d,m,{once:!0}),d!=="error"&&T(i,_,{once:!0})})}function T(i,d,x){typeof i.on=="function"&&c(i,"error",d,x)}function c(i,d,x,w){if(typeof i.on=="function")w.once?i.once(d,x):i.on(d,x);else if(typeof i.addEventListener=="function")i.addEventListener(d,function _(m){w.once&&i.removeEventListener(d,_),x(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}},39072:function(V){var Y=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};V.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return Y()}try{return __global__||Y()}finally{delete Object.prototype.__global__}}()},12296:function(V,Y,e){V.exports=e(45072)()?globalThis:e(39072)},45072:function(V){V.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},38248:function(V,Y,e){var p=e(94576);V.exports=function(L){var o=typeof L;if(o==="string"){var C=L;if(L=+L,L===0&&p(C))return!1}else if(o!=="number")return!1;return L-L<1}},47520:function(V,Y,e){var p=e(72512);V.exports=L;function L(o,C,S){if(!o)throw new TypeError("must specify data as first parameter");if(S=+(S||0)|0,Array.isArray(o)&&o[0]&&typeof o[0][0]=="number"){var v=o[0].length,g=o.length*v,r,t,a,n;(!C||typeof C=="string")&&(C=new(p(C||"float32"))(g+S));var f=C.length-S;if(g!==f)throw new Error("source length "+g+" ("+v+"x"+o.length+") does not match destination length "+f);for(r=0,a=S;r<o.length;r++)for(t=0;t<v;t++)C[a++]=o[r][t]===null?NaN:o[r][t]}else if(!C||typeof C=="string"){var u=p(C||"float32");if(Array.isArray(o)||C==="array")for(C=new u(o.length+S),r=0,a=S,n=C.length;a<n;a++,r++)C[a]=o[r]===null?NaN:o[r];else S===0?C=new u(o):(C=new u(o.length+S),C.set(o,S))}else C.set(o,S);return C}},33888:function(V,Y,e){var p=e(49395),L=[32,126];V.exports=o;function o(C){C=C||{};var S=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),g=C.font,r=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],t=C.chars||L;if(g&&typeof g!="string"&&(g=p(g)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var a=[],n=t[0],f=0;n<=t[1];n++)a[f++]=String.fromCharCode(n);t=a}S=S.slice(),v.width=S[0],v.height=S[1];var u=v.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,v.width,v.height),u.font=g,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var l=r[0]/2,y=r[1]/2,n=0;n<t.length;n++)u.fillText(t[n],l,y),(l+=r[0])>S[0]-r[0]/2&&(l=r[0]/2,y+=r[1]);return v}},71920:function(V){V.exports=Y,Y.canvas=document.createElement("canvas"),Y.cache={};function Y(t,C){C||(C={}),(typeof t=="string"||Array.isArray(t))&&(C.family=t);var S=Array.isArray(C.family)?C.family.join(", "):C.family;if(!S)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,g=C.weight||C.fontWeight||"",r=C.style||C.fontStyle||"",t=[r,g,v].join(" ")+"px "+S,a=C.origin||"top";if(Y.cache[S]&&v<=Y.cache[S].em)return e(Y.cache[S],a);var n=C.canvas||Y.canvas,f=n.getContext("2d"),u={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},l=Math.ceil(v*1.5);n.height=l,n.width=l*.5,f.font=t;var y="H",h={top:0};f.clearRect(0,0,l,l),f.textBaseline="top",f.fillStyle="black",f.fillText(y,0,0);var T=p(f.getImageData(0,0,l,l));f.clearRect(0,0,l,l),f.textBaseline="bottom",f.fillText(y,0,l);var c=p(f.getImageData(0,0,l,l));h.lineHeight=h.bottom=l-c+T,f.clearRect(0,0,l,l),f.textBaseline="alphabetic",f.fillText(y,0,l);var i=p(f.getImageData(0,0,l,l)),d=l-i-1+T;h.baseline=h.alphabetic=d,f.clearRect(0,0,l,l),f.textBaseline="middle",f.fillText(y,0,l*.5);var x=p(f.getImageData(0,0,l,l));h.median=h.middle=l-x-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="hanging",f.fillText(y,0,l*.5);var w=p(f.getImageData(0,0,l,l));h.hanging=l-w-1+T-l*.5,f.clearRect(0,0,l,l),f.textBaseline="ideographic",f.fillText(y,0,l);var _=p(f.getImageData(0,0,l,l));if(h.ideographic=l-_-1+T,u.upper&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.upper,0,0),h.upper=p(f.getImageData(0,0,l,l)),h.capHeight=h.baseline-h.upper),u.lower&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.lower,0,0),h.lower=p(f.getImageData(0,0,l,l)),h.xHeight=h.baseline-h.lower),u.tittle&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.tittle,0,0),h.tittle=p(f.getImageData(0,0,l,l))),u.ascent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.ascent,0,0),h.ascent=p(f.getImageData(0,0,l,l))),u.descent&&(f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.descent,0,0),h.descent=L(f.getImageData(0,0,l,l))),u.overshoot){f.clearRect(0,0,l,l),f.textBaseline="top",f.fillText(u.overshoot,0,0);var m=L(f.getImageData(0,0,l,l));h.overshoot=m-d}for(var E in h)h[E]/=v;return h.em=v,Y.cache[S]=h,e(h,a)}function e(o,C){var S={};typeof C=="string"&&(C=o[C]);for(var v in o)v!=="em"&&(S[v]=o[v]-C);return S}function p(o){for(var C=o.height,S=o.data,v=3;v<S.length;v+=4)if(S[v]!==0)return Math.floor((v-3)*.25/C)}function L(o){for(var C=o.height,S=o.data,v=S.length-1;v>0;v-=4)if(S[v]!==0)return Math.floor((v-3)*.25/C)}},46492:function(V,Y,e){var p=e(90720),L=Object.prototype.toString,o=Object.prototype.hasOwnProperty,C=function(t,a,n){for(var f=0,u=t.length;f<u;f++)o.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},S=function(t,a,n){for(var f=0,u=t.length;f<u;f++)n==null?a(t.charAt(f),f,t):a.call(n,t.charAt(f),f,t)},v=function(t,a,n){for(var f in t)o.call(t,f)&&(n==null?a(t[f],f,t):a.call(n,t[f],f,t))},g=function(t,a,n){if(!p(a))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=n),L.call(t)==="[object Array]"?C(t,a,f):typeof t=="string"?S(t,a,f):v(t,a,f)};V.exports=g},74336:function(V){var Y="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,p=Math.max,L="[object Function]",o=function(g,r){for(var t=[],a=0;a<g.length;a+=1)t[a]=g[a];for(var n=0;n<r.length;n+=1)t[n+g.length]=r[n];return t},C=function(g,r){for(var t=[],a=r,n=0;a<g.length;a+=1,n+=1)t[n]=g[a];return t},S=function(v,g){for(var r="",t=0;t<v.length;t+=1)r+=v[t],t+1<v.length&&(r+=g);return r};V.exports=function(g){var r=this;if(typeof r!="function"||e.apply(r)!==L)throw new TypeError(Y+r);for(var t=C(arguments,1),a,n=function(){if(this instanceof a){var h=r.apply(this,o(t,arguments));return Object(h)===h?h:this}return r.apply(g,o(t,arguments))},f=p(0,r.length-t.length),u=[],l=0;l<f;l++)u[l]="$"+l;if(a=Function("binder","return function ("+S(u,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var y=function(){};y.prototype=r.prototype,a.prototype=new y,y.prototype=null}return a}},8844:function(V,Y,e){var p=e(74336);V.exports=Function.prototype.bind||p},13380:function(V){V.exports=Y;function Y(e,p){if(typeof e!="string")throw new TypeError("must specify type string");if(p=p||{},typeof document>"u"&&!p.canvas)return null;var L=p.canvas||document.createElement("canvas");typeof p.width=="number"&&(L.width=p.width),typeof p.height=="number"&&(L.height=p.height);var o=p,C;try{var S=[e];e.indexOf("webgl")===0&&S.push("experimental-"+e);for(var v=0;v<S.length;v++)if(C=L.getContext(S[v],o),C)return C}catch{C=null}return C||null}},53664:function(V,Y,e){var p,L=SyntaxError,o=Function,C=TypeError,S=function(b){try{return o('"use strict"; return ('+b+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var g=function(){throw new C},r=v?function(){try{return arguments.callee,g}catch{try{return v(arguments,"callee").get}catch{return g}}}():g,t=e(71080)(),a=e(69572)(),n=Object.getPrototypeOf||(a?function(b){return b.__proto__}:null),f={},u=typeof Uint8Array>"u"||!n?p:n(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":t&&n?n([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?p:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&n?n(n([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!n?p:n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!n?p:n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&n?n(""[Symbol.iterator]()):p,"%Symbol%":t?Symbol:p,"%SyntaxError%":L,"%ThrowTypeError%":r,"%TypedArray%":u,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet};if(n)try{null.error}catch(b){var y=n(n(b));l["%Error.prototype%"]=y}var h=function b(N){var k;if(N==="%AsyncFunction%")k=S("async function () {}");else if(N==="%GeneratorFunction%")k=S("function* () {}");else if(N==="%AsyncGeneratorFunction%")k=S("async function* () {}");else if(N==="%AsyncGenerator%"){var H=b("%AsyncGeneratorFunction%");H&&(k=H.prototype)}else if(N==="%AsyncIteratorPrototype%"){var F=b("%AsyncGenerator%");F&&n&&(k=n(F.prototype))}return l[N]=k,k},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e(8844),i=e(92064),d=c.call(Function.call,Array.prototype.concat),x=c.call(Function.apply,Array.prototype.splice),w=c.call(Function.call,String.prototype.replace),_=c.call(Function.call,String.prototype.slice),m=c.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,s=function(N){var k=_(N,0,1),H=_(N,-1);if(k==="%"&&H!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(H==="%"&&k!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var F=[];return w(N,E,function(B,U,z,W){F[F.length]=z?w(W,A,"$1"):U||B}),F},M=function(N,k){var H=N,F;if(i(T,H)&&(F=T[H],H="%"+F[0]+"%"),i(l,H)){var B=l[H];if(B===f&&(B=h(H)),typeof B>"u"&&!k)throw new C("intrinsic "+N+" exists, but is not available. Please file an issue!");return{alias:F,name:H,value:B}}throw new L("intrinsic "+N+" does not exist!")};V.exports=function(N,k){if(typeof N!="string"||N.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new C('"allowMissing" argument must be a boolean');if(m(/^%?[^%]*%?$/,N)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var H=s(N),F=H.length>0?H[0]:"",B=M("%"+F+"%",k),U=B.name,z=B.value,W=!1,j=B.alias;j&&(F=j[0],x(H,d([0,1],j)));for(var ee=1,ie=!0;ee<H.length;ee+=1){var oe=H[ee],he=_(oe,0,1),ne=_(oe,-1);if((he==='"'||he==="'"||he==="`"||ne==='"'||ne==="'"||ne==="`")&&he!==ne)throw new L("property names with quotes must have matching quotes");if((oe==="constructor"||!ie)&&(W=!0),F+="."+oe,U="%"+F+"%",i(l,U))z=l[U];else if(z!=null){if(!(oe in z)){if(!k)throw new C("base intrinsic for "+N+" exists, but the property is not available.");return}if(v&&ee+1>=H.length){var q=v(z,oe);ie=!!q,ie&&"get"in q&&!("originalValue"in q.get)?z=q.get:z=z[oe]}else ie=i(z,oe),z=z[oe];ie&&!W&&(l[U]=z)}}return z}},12408:function(V){V.exports=Y;function Y(e,p){var L=p[0],o=p[1],C=p[2],S=p[3],v=p[4],g=p[5],r=p[6],t=p[7],a=p[8],n=p[9],f=p[10],u=p[11],l=p[12],y=p[13],h=p[14],T=p[15];return e[0]=g*(f*T-u*h)-n*(r*T-t*h)+y*(r*u-t*f),e[1]=-(o*(f*T-u*h)-n*(C*T-S*h)+y*(C*u-S*f)),e[2]=o*(r*T-t*h)-g*(C*T-S*h)+y*(C*t-S*r),e[3]=-(o*(r*u-t*f)-g*(C*u-S*f)+n*(C*t-S*r)),e[4]=-(v*(f*T-u*h)-a*(r*T-t*h)+l*(r*u-t*f)),e[5]=L*(f*T-u*h)-a*(C*T-S*h)+l*(C*u-S*f),e[6]=-(L*(r*T-t*h)-v*(C*T-S*h)+l*(C*t-S*r)),e[7]=L*(r*u-t*f)-v*(C*u-S*f)+a*(C*t-S*r),e[8]=v*(n*T-u*y)-a*(g*T-t*y)+l*(g*u-t*n),e[9]=-(L*(n*T-u*y)-a*(o*T-S*y)+l*(o*u-S*n)),e[10]=L*(g*T-t*y)-v*(o*T-S*y)+l*(o*t-S*g),e[11]=-(L*(g*u-t*n)-v*(o*u-S*n)+a*(o*t-S*g)),e[12]=-(v*(n*h-f*y)-a*(g*h-r*y)+l*(g*f-r*n)),e[13]=L*(n*h-f*y)-a*(o*h-C*y)+l*(o*f-C*n),e[14]=-(L*(g*h-r*y)-v*(o*h-C*y)+l*(o*r-C*g)),e[15]=L*(g*f-r*n)-v*(o*f-C*n)+a*(o*r-C*g),e}},76860:function(V){V.exports=Y;function Y(e){var p=new Float32Array(16);return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15],p}},64492:function(V){V.exports=Y;function Y(e,p){return e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},54212:function(V){V.exports=Y;function Y(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},70800:function(V){V.exports=Y;function Y(e){var p=e[0],L=e[1],o=e[2],C=e[3],S=e[4],v=e[5],g=e[6],r=e[7],t=e[8],a=e[9],n=e[10],f=e[11],u=e[12],l=e[13],y=e[14],h=e[15],T=p*v-L*S,c=p*g-o*S,i=p*r-C*S,d=L*g-o*v,x=L*r-C*v,w=o*r-C*g,_=t*l-a*u,m=t*y-n*u,E=t*h-f*u,A=a*y-n*l,s=a*h-f*l,M=n*h-f*y;return T*M-c*s+i*A+d*E-x*m+w*_}},61784:function(V){V.exports=Y;function Y(e,p){var L=p[0],o=p[1],C=p[2],S=p[3],v=L+L,g=o+o,r=C+C,t=L*v,a=o*v,n=o*g,f=C*v,u=C*g,l=C*r,y=S*v,h=S*g,T=S*r;return e[0]=1-n-l,e[1]=a+T,e[2]=f-h,e[3]=0,e[4]=a-T,e[5]=1-t-l,e[6]=u+y,e[7]=0,e[8]=f+h,e[9]=u-y,e[10]=1-t-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},91616:function(V){V.exports=Y;function Y(e,p,L){var o,C,S,v=L[0],g=L[1],r=L[2],t=Math.sqrt(v*v+g*g+r*r);return Math.abs(t)<1e-6?null:(t=1/t,v*=t,g*=t,r*=t,o=Math.sin(p),C=Math.cos(p),S=1-C,e[0]=v*v*S+C,e[1]=g*v*S+r*o,e[2]=r*v*S-g*o,e[3]=0,e[4]=v*g*S-r*o,e[5]=g*g*S+C,e[6]=r*g*S+v*o,e[7]=0,e[8]=v*r*S+g*o,e[9]=g*r*S-v*o,e[10]=r*r*S+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},51944:function(V){V.exports=Y;function Y(e,p,L){var o=p[0],C=p[1],S=p[2],v=p[3],g=o+o,r=C+C,t=S+S,a=o*g,n=o*r,f=o*t,u=C*r,l=C*t,y=S*t,h=v*g,T=v*r,c=v*t;return e[0]=1-(u+y),e[1]=n+c,e[2]=f-T,e[3]=0,e[4]=n-c,e[5]=1-(a+y),e[6]=l+h,e[7]=0,e[8]=f+T,e[9]=l-h,e[10]=1-(a+u),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},69444:function(V){V.exports=Y;function Y(e,p){return e[0]=p[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=p[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},48268:function(V){V.exports=Y;function Y(e,p){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=p[0],e[13]=p[1],e[14]=p[2],e[15]=1,e}},21856:function(V){V.exports=Y;function Y(e,p){var L=Math.sin(p),o=Math.cos(p);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79216:function(V){V.exports=Y;function Y(e,p){var L=Math.sin(p),o=Math.cos(p);return e[0]=o,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},57736:function(V){V.exports=Y;function Y(e,p){var L=Math.sin(p),o=Math.cos(p);return e[0]=o,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},38848:function(V){V.exports=Y;function Y(e,p,L,o,C,S,v){var g=1/(L-p),r=1/(C-o),t=1/(S-v);return e[0]=S*2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S*2*r,e[6]=0,e[7]=0,e[8]=(L+p)*g,e[9]=(C+o)*r,e[10]=(v+S)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*S*2*t,e[15]=0,e}},36635:function(V){V.exports=Y;function Y(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},36524:function(V,Y,e){V.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(V){V.exports=Y;function Y(e,p){var L=p[0],o=p[1],C=p[2],S=p[3],v=p[4],g=p[5],r=p[6],t=p[7],a=p[8],n=p[9],f=p[10],u=p[11],l=p[12],y=p[13],h=p[14],T=p[15],c=L*g-o*v,i=L*r-C*v,d=L*t-S*v,x=o*r-C*g,w=o*t-S*g,_=C*t-S*r,m=a*y-n*l,E=a*h-f*l,A=a*T-u*l,s=n*h-f*y,M=n*T-u*y,b=f*T-u*h,N=c*b-i*M+d*s+x*A-w*E+_*m;return N?(N=1/N,e[0]=(g*b-r*M+t*s)*N,e[1]=(C*M-o*b-S*s)*N,e[2]=(y*_-h*w+T*x)*N,e[3]=(f*w-n*_-u*x)*N,e[4]=(r*A-v*b-t*E)*N,e[5]=(L*b-C*A+S*E)*N,e[6]=(h*d-l*_-T*i)*N,e[7]=(a*_-f*d+u*i)*N,e[8]=(v*M-g*A+t*m)*N,e[9]=(o*A-L*M-S*m)*N,e[10]=(l*w-y*d+T*c)*N,e[11]=(n*d-a*w-u*c)*N,e[12]=(g*E-v*s-r*m)*N,e[13]=(L*s-o*E+C*m)*N,e[14]=(y*i-l*x-h*c)*N,e[15]=(a*x-n*i+f*c)*N,e):null}},56508:function(V,Y,e){var p=e(36635);V.exports=L;function L(o,C,S,v){var g,r,t,a,n,f,u,l,y,h,T=C[0],c=C[1],i=C[2],d=v[0],x=v[1],w=v[2],_=S[0],m=S[1],E=S[2];return Math.abs(T-_)<1e-6&&Math.abs(c-m)<1e-6&&Math.abs(i-E)<1e-6?p(o):(u=T-_,l=c-m,y=i-E,h=1/Math.sqrt(u*u+l*l+y*y),u*=h,l*=h,y*=h,g=x*y-w*l,r=w*u-d*y,t=d*l-x*u,h=Math.sqrt(g*g+r*r+t*t),h?(h=1/h,g*=h,r*=h,t*=h):(g=0,r=0,t=0),a=l*t-y*r,n=y*g-u*t,f=u*r-l*g,h=Math.sqrt(a*a+n*n+f*f),h?(h=1/h,a*=h,n*=h,f*=h):(a=0,n=0,f=0),o[0]=g,o[1]=a,o[2]=u,o[3]=0,o[4]=r,o[5]=n,o[6]=l,o[7]=0,o[8]=t,o[9]=f,o[10]=y,o[11]=0,o[12]=-(g*T+r*c+t*i),o[13]=-(a*T+n*c+f*i),o[14]=-(u*T+l*c+y*i),o[15]=1,o)}},80944:function(V){V.exports=Y;function Y(e,p,L){var o=p[0],C=p[1],S=p[2],v=p[3],g=p[4],r=p[5],t=p[6],a=p[7],n=p[8],f=p[9],u=p[10],l=p[11],y=p[12],h=p[13],T=p[14],c=p[15],i=L[0],d=L[1],x=L[2],w=L[3];return e[0]=i*o+d*g+x*n+w*y,e[1]=i*C+d*r+x*f+w*h,e[2]=i*S+d*t+x*u+w*T,e[3]=i*v+d*a+x*l+w*c,i=L[4],d=L[5],x=L[6],w=L[7],e[4]=i*o+d*g+x*n+w*y,e[5]=i*C+d*r+x*f+w*h,e[6]=i*S+d*t+x*u+w*T,e[7]=i*v+d*a+x*l+w*c,i=L[8],d=L[9],x=L[10],w=L[11],e[8]=i*o+d*g+x*n+w*y,e[9]=i*C+d*r+x*f+w*h,e[10]=i*S+d*t+x*u+w*T,e[11]=i*v+d*a+x*l+w*c,i=L[12],d=L[13],x=L[14],w=L[15],e[12]=i*o+d*g+x*n+w*y,e[13]=i*C+d*r+x*f+w*h,e[14]=i*S+d*t+x*u+w*T,e[15]=i*v+d*a+x*l+w*c,e}},97688:function(V){V.exports=Y;function Y(e,p,L,o,C,S,v){var g=1/(p-L),r=1/(o-C),t=1/(S-v);return e[0]=-2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(p+L)*g,e[13]=(C+o)*r,e[14]=(v+S)*t,e[15]=1,e}},51296:function(V){V.exports=Y;function Y(e,p,L,o,C){var S=1/Math.tan(p/2),v=1/(o-C);return e[0]=S/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=S,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+o)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*o*v,e[15]=0,e}},63688:function(V){V.exports=Y;function Y(e,p,L,o){var C=Math.tan(p.upDegrees*Math.PI/180),S=Math.tan(p.downDegrees*Math.PI/180),v=Math.tan(p.leftDegrees*Math.PI/180),g=Math.tan(p.rightDegrees*Math.PI/180),r=2/(v+g),t=2/(C+S);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((v-g)*r*.5),e[9]=(C-S)*t*.5,e[10]=o/(L-o),e[11]=-1,e[12]=0,e[13]=0,e[14]=o*L/(L-o),e[15]=0,e}},30016:function(V){V.exports=Y;function Y(e,p,L,o){var C=o[0],S=o[1],v=o[2],g=Math.sqrt(C*C+S*S+v*v),r,t,a,n,f,u,l,y,h,T,c,i,d,x,w,_,m,E,A,s,M,b,N,k;return Math.abs(g)<1e-6?null:(g=1/g,C*=g,S*=g,v*=g,r=Math.sin(L),t=Math.cos(L),a=1-t,n=p[0],f=p[1],u=p[2],l=p[3],y=p[4],h=p[5],T=p[6],c=p[7],i=p[8],d=p[9],x=p[10],w=p[11],_=C*C*a+t,m=S*C*a+v*r,E=v*C*a-S*r,A=C*S*a-v*r,s=S*S*a+t,M=v*S*a+C*r,b=C*v*a+S*r,N=S*v*a-C*r,k=v*v*a+t,e[0]=n*_+y*m+i*E,e[1]=f*_+h*m+d*E,e[2]=u*_+T*m+x*E,e[3]=l*_+c*m+w*E,e[4]=n*A+y*s+i*M,e[5]=f*A+h*s+d*M,e[6]=u*A+T*s+x*M,e[7]=l*A+c*s+w*M,e[8]=n*b+y*N+i*k,e[9]=f*b+h*N+d*k,e[10]=u*b+T*N+x*k,e[11]=l*b+c*N+w*k,p!==e&&(e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e)}},15456:function(V){V.exports=Y;function Y(e,p,L){var o=Math.sin(L),C=Math.cos(L),S=p[4],v=p[5],g=p[6],r=p[7],t=p[8],a=p[9],n=p[10],f=p[11];return p!==e&&(e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[4]=S*C+t*o,e[5]=v*C+a*o,e[6]=g*C+n*o,e[7]=r*C+f*o,e[8]=t*C-S*o,e[9]=a*C-v*o,e[10]=n*C-g*o,e[11]=f*C-r*o,e}},64840:function(V){V.exports=Y;function Y(e,p,L){var o=Math.sin(L),C=Math.cos(L),S=p[0],v=p[1],g=p[2],r=p[3],t=p[8],a=p[9],n=p[10],f=p[11];return p!==e&&(e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=S*C-t*o,e[1]=v*C-a*o,e[2]=g*C-n*o,e[3]=r*C-f*o,e[8]=S*o+t*C,e[9]=v*o+a*C,e[10]=g*o+n*C,e[11]=r*o+f*C,e}},4192:function(V){V.exports=Y;function Y(e,p,L){var o=Math.sin(L),C=Math.cos(L),S=p[0],v=p[1],g=p[2],r=p[3],t=p[4],a=p[5],n=p[6],f=p[7];return p!==e&&(e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=S*C+t*o,e[1]=v*C+a*o,e[2]=g*C+n*o,e[3]=r*C+f*o,e[4]=t*C-S*o,e[5]=a*C-v*o,e[6]=n*C-g*o,e[7]=f*C-r*o,e}},68152:function(V){V.exports=Y;function Y(e,p,L){var o=L[0],C=L[1],S=L[2];return e[0]=p[0]*o,e[1]=p[1]*o,e[2]=p[2]*o,e[3]=p[3]*o,e[4]=p[4]*C,e[5]=p[5]*C,e[6]=p[6]*C,e[7]=p[7]*C,e[8]=p[8]*S,e[9]=p[9]*S,e[10]=p[10]*S,e[11]=p[11]*S,e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},89412:function(V){V.exports=Y;function Y(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},35176:function(V){V.exports=Y;function Y(e,p,L){var o=L[0],C=L[1],S=L[2],v,g,r,t,a,n,f,u,l,y,h,T;return p===e?(e[12]=p[0]*o+p[4]*C+p[8]*S+p[12],e[13]=p[1]*o+p[5]*C+p[9]*S+p[13],e[14]=p[2]*o+p[6]*C+p[10]*S+p[14],e[15]=p[3]*o+p[7]*C+p[11]*S+p[15]):(v=p[0],g=p[1],r=p[2],t=p[3],a=p[4],n=p[5],f=p[6],u=p[7],l=p[8],y=p[9],h=p[10],T=p[11],e[0]=v,e[1]=g,e[2]=r,e[3]=t,e[4]=a,e[5]=n,e[6]=f,e[7]=u,e[8]=l,e[9]=y,e[10]=h,e[11]=T,e[12]=v*o+a*C+l*S+p[12],e[13]=g*o+n*C+y*S+p[13],e[14]=r*o+f*C+h*S+p[14],e[15]=t*o+u*C+T*S+p[15]),e}},86520:function(V){V.exports=Y;function Y(e,p){if(e===p){var L=p[1],o=p[2],C=p[3],S=p[6],v=p[7],g=p[11];e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=L,e[6]=p[9],e[7]=p[13],e[8]=o,e[9]=S,e[11]=p[14],e[12]=C,e[13]=v,e[14]=g}else e[0]=p[0],e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=p[1],e[5]=p[5],e[6]=p[9],e[7]=p[13],e[8]=p[2],e[9]=p[6],e[10]=p[10],e[11]=p[14],e[12]=p[3],e[13]=p[7],e[14]=p[11],e[15]=p[15];return e}},23352:function(V,Y,e){var p=e(42771),L=e(55616),o=e(28624),C=e(55212),S=e(60463),v=e(72160),g=e(33888),r=e(14144),t=e(51160),a=e(58908),n=e(65819),f=e(23464),u=e(63768),l=e(50896),y=e(71920),h=e(47520),T=e(308),c=T.nextPow2,i=new S,d=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(d=!0),document.body.removeChild(x)}var w=function(E){_(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=C(E),this.shader=i.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||o({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),i.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(a(E)?E:{})};w.prototype.createShader=function(){var E=this.regl,A=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(M,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(M,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(M,b){return b.atlas.texture},charStep:function(M,b){return b.atlas.step},em:function(M,b){return b.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),s={};return{regl:E,draw:A,atlas:s}},w.prototype.update=function(E){var A=this;if(typeof E=="string")E={text:E};else if(!E)return;E=L(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Ce){return parseFloat(Ce)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=t(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=h(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=w.baseFontSize+"px sans-serif");var s=!1,M=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Ce,Ye){if(typeof Ce=="string")try{Ce=p.parse(Ce)}catch{Ce=p.parse(w.baseFontSize+"px "+Ce)}else{var rt=Ce.style,ot=Ce.weight,$e=Ce.stretch,qe=Ce.variant;Ce=p.parse(p.stringify(Ce)),rt&&(Ce.style=rt),ot&&(Ce.weight=ot),$e&&(Ce.stretch=$e),qe&&(Ce.variant=qe)}var ht=p.stringify({size:w.baseFontSize,family:Ce.family,stretch:d?Ce.stretch:void 0,variant:Ce.variant,weight:Ce.weight,style:Ce.style}),vt=n(Ce.size),pt=Math.round(vt[0]*f(vt[1]));if(pt!==A.fontSize[Ye]&&(M=!0,A.fontSize[Ye]=pt),(!A.font[Ye]||ht!=A.font[Ye].baseString)&&(s=!0,A.font[Ye]=w.fonts[ht],!A.font[Ye])){var wt=Ce.family.join(", "),Mt=[Ce.style];Ce.style!=Ce.variant&&Mt.push(Ce.variant),Ce.variant!=Ce.weight&&Mt.push(Ce.weight),d&&Ce.weight!=Ce.stretch&&Mt.push(Ce.stretch),A.font[Ye]={baseString:ht,family:wt,weight:Ce.weight,stretch:Ce.stretch,style:Ce.style,variant:Ce.variant,width:{},kerning:{},metrics:y(wt,{origin:"top",fontSize:w.baseFontSize,fontStyle:Mt.join(" ")})},w.fonts[ht]=A.font[Ye]}}),(s||M)&&this.font.forEach(function(Ce,Ye){var rt=p.stringify({size:A.fontSize[Ye],family:Ce.family,stretch:d?Ce.stretch:void 0,variant:Ce.variant,weight:Ce.weight,style:Ce.style});if(A.fontAtlas[Ye]=A.shader.atlas[rt],!A.fontAtlas[Ye]){var ot=Ce.metrics;A.shader.atlas[rt]=A.fontAtlas[Ye]={fontString:rt,step:Math.ceil(A.fontSize[Ye]*ot.bottom*.5)*2,em:A.fontSize[Ye],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:A.regl.texture()}}E.text==null&&(E.text=A.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var b=Array(E.position.length*.5),N=0;N<b.length;N++)b[N]=E.text;E.text=b}var k;if(E.text!=null||s){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var H=1;H<E.text.length;H++)this.textOffsets[H]=this.textOffsets[H-1]+E.text[H-1].length,this.count+=E.text[H].length,this.counts.push(E.text[H].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];k=[],this.font.forEach(function(Ce,Ye){w.atlasContext.font=Ce.baseString;for(var rt=A.fontAtlas[Ye],ot=0;ot<A.text.length;ot++){var $e=A.text.charAt(ot);if(rt.ids[$e]==null&&(rt.ids[$e]=rt.chars.length,rt.chars.push($e),k.push($e)),Ce.width[$e]==null&&(Ce.width[$e]=w.atlasContext.measureText($e).width/w.baseFontSize,A.kerning)){var qe=[];for(var ht in Ce.width)qe.push(ht+$e,$e+ht);l(Ce.kerning,u(Ce.family,{pairs:qe}))}}})}if(E.position)if(E.position.length>2){for(var F=!E.position[0].length,B=r.mallocFloat(this.count*2),U=0,z=0;U<this.counts.length;U++){var W=this.counts[U];if(F)for(var j=0;j<W;j++)B[z++]=E.position[U*2],B[z++]=E.position[U*2+1];else for(var ee=0;ee<W;ee++)B[z++]=E.position[U][0],B[z++]=E.position[U][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),r.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||s){var ie=r.mallocUint8(this.count),oe=r.mallocFloat(this.count*2);this.textWidth=[];for(var he=0,ne=0;he<this.counts.length;he++){for(var q=this.counts[he],le=this.font[he]||this.font[0],Q=this.fontAtlas[he]||this.fontAtlas[0],te=0;te<q;te++){var ue=this.text.charAt(ne),J=this.text.charAt(ne-1);if(ie[ne]=Q.ids[ue],oe[ne*2]=le.width[ue],te){var K=oe[ne*2-2],ce=oe[ne*2],ae=oe[ne*2-1],de=ae+K*.5+ce*.5;if(this.kerning){var be=le.kerning[J+ue];be&&(de+=be*.001)}oe[ne*2+1]=de}else oe[ne*2+1]=oe[ne*2]*.5;ne++}this.textWidth.push(oe.length?oe[ne*2-2]*.5+oe[ne*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:ie,type:"uint8",usage:"stream"}),this.sizeBuffer({data:oe,type:"float",usage:"stream"}),r.freeUint8(ie),r.freeFloat(oe),k.length&&this.font.forEach(function(Ce,Ye){var rt=A.fontAtlas[Ye],ot=rt.step,$e=Math.floor(w.maxAtlasSize/ot),qe=Math.min($e,rt.chars.length),ht=Math.ceil(rt.chars.length/qe),vt=c(qe*ot),pt=c(ht*ot);rt.width=vt,rt.height=pt,rt.rows=ht,rt.cols=qe,rt.em&&rt.texture({data:g({canvas:w.atlasCanvas,font:rt.fontString,chars:rt.chars,shape:[vt,pt],step:[ot,ot]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Ce,Ye){var rt=Array.isArray(A.align)?A.align.length>1?A.align[Ye]:A.align[0]:A.align;if(typeof rt=="number")return rt;switch(rt){case"right":case"end":return-Ce;case"center":case"centre":case"middle":return-Ce*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Ce,Ye){var rt=(A.font[Ye]||A.font[0]).metrics,ot=0;return ot+=rt.bottom*.5,typeof Ce=="number"?ot+=Ce-rt.baseline:ot+=-rt[Ce],ot*=-1,ot})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=v(E.color,"uint8");else{var Se;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Te=E.color.length;Se=r.mallocUint8(Te);for(var Ie=(E.color.subarray||E.color.slice).bind(E.color),ke=0;ke<Te;ke+=4)Se.set(v(Ie(ke,ke+4),"uint8"),ke)}else{var Be=E.color.length;Se=r.mallocUint8(Be*4);for(var Me=0;Me<Be;Me++)Se.set(v(E.color[Me]||0,"uint8"),Me*4)}this.color=Se}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Oe=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Oe){var _e=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(_e);for(var Ne=0;Ne<this.batch.length;Ne++)this.batch[Ne]={count:this.counts.length>1?this.counts[Ne]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ne]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ne*4,Ne*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ne]:this.opacity,baseline:this.baselineOffset[Ne]!=null?this.baselineOffset[Ne]:this.baselineOffset[0],align:this.align?this.alignOffset[Ne]!=null?this.alignOffset[Ne]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ne]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ne*2,Ne*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={};function _(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}V.exports=w},55212:function(V,Y,e){var p=e(55616);V.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},o(r)?r={container:r}:C(r)?r={container:r}:S(r)?r={gl:r}:r=p(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}o(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=v(),r.container.appendChild(r.canvas),L(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=v(),r.container.appendChild(r.canvas),L(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(a){try{r.gl=r.canvas.getContext(a,r.attrs)}catch{}return r.gl}),r.gl};function L(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*e.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*e.g.innerHeight);else{var r=g.container.getBoundingClientRect();g.canvas.width=g.width||r.right-r.left,g.canvas.height=g.height||r.bottom-r.top}}function o(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function C(g){return typeof g.nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"}function S(g){return typeof g.drawArrays=="function"||typeof g.drawElements=="function"}function v(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}},26444:function(V){V.exports=function(Y){typeof Y=="string"&&(Y=[Y]);for(var e=[].slice.call(arguments,1),p=[],L=0;L<Y.length-1;L++)p.push(Y[L],e[L]||"");return p.push(Y[L]),p.join("")}},2304:function(V,Y,e){var p=e(53664),L=p("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}V.exports=L},52264:function(V,Y,e){var p=e(24200),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=p,V.exports=L},89184:function(V,Y,e){var p=e(24200);function L(){var o=!1;try{var C=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{o=!1}return o}V.exports=p&&L()},39640:function(V,Y,e){var p=e(53664),L=p("%Object.defineProperty%",!0),o=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},V.exports=o},69572:function(V){var Y={foo:{}},e=Object;V.exports=function(){return{__proto__:Y}.foo===Y.foo&&!({__proto__:null}instanceof e)}},71080:function(V,Y,e){var p=typeof Symbol<"u"&&Symbol,L=e(89320);V.exports=function(){return typeof p!="function"||typeof Symbol!="function"||typeof p("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},89320:function(V){V.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},p=Symbol("test"),L=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var o=42;e[p]=o;for(p in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==p||!Object.prototype.propertyIsEnumerable.call(e,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var S=Object.getOwnPropertyDescriptor(e,p);if(S.value!==o||S.enumerable!==!0)return!1}return!0}},46672:function(V,Y,e){var p=e(89320);V.exports=function(){return p()&&!!Symbol.toStringTag}},92064:function(V,Y,e){var p=Function.prototype.call,L=Object.prototype.hasOwnProperty,o=e(8844);V.exports=o.call(p,L)},35984:function(V,Y){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Y.read=function(e,p,L,o,C){var S,v,g=C*8-o-1,r=(1<<g)-1,t=r>>1,a=-7,n=L?C-1:0,f=L?-1:1,u=e[p+n];for(n+=f,S=u&(1<<-a)-1,u>>=-a,a+=g;a>0;S=S*256+e[p+n],n+=f,a-=8);for(v=S&(1<<-a)-1,S>>=-a,a+=o;a>0;v=v*256+e[p+n],n+=f,a-=8);if(S===0)S=1-t;else{if(S===r)return v?NaN:(u?-1:1)*(1/0);v=v+Math.pow(2,o),S=S-t}return(u?-1:1)*v*Math.pow(2,S-o)},Y.write=function(e,p,L,o,C,S){var v,g,r,t=S*8-C-1,a=(1<<t)-1,n=a>>1,f=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=o?0:S-1,l=o?1:-1,y=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(g=isNaN(p)?1:0,v=a):(v=Math.floor(Math.log(p)/Math.LN2),p*(r=Math.pow(2,-v))<1&&(v--,r*=2),v+n>=1?p+=f/r:p+=f*Math.pow(2,1-n),p*r>=2&&(v++,r/=2),v+n>=a?(g=0,v=a):v+n>=1?(g=(p*r-1)*Math.pow(2,C),v=v+n):(g=p*Math.pow(2,n-1)*Math.pow(2,C),v=0));C>=8;e[L+u]=g&255,u+=l,g/=256,C-=8);for(v=v<<C|g,t+=C;t>0;e[L+u]=v&255,u+=l,v/=256,t-=8);e[L+u-l]|=y*128}},6768:function(V){typeof Object.create=="function"?V.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:V.exports=function(e,p){if(p){e.super_=p;var L=function(){};L.prototype=p.prototype,e.prototype=new L,e.prototype.constructor=e}}},91148:function(V,Y,e){var p=e(46672)(),L=e(99676),o=L("Object.prototype.toString"),C=function(r){return p&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:o(r)==="[object Arguments]"},S=function(r){return C(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&o(r)!=="[object Array]"&&o(r.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=S,V.exports=v?C:S},24200:function(V){V.exports=!0},90720:function(V){var Y=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{p=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,p)}catch(T){T!==L&&(e=null)}else e=null;var o=/^\s*class\b/,C=function(c){try{var i=Y.call(c);return o.test(i)}catch{return!1}},S=function(c){try{return C(c)?!1:(Y.call(c),!0)}catch{return!1}},v=Object.prototype.toString,g="[object Object]",r="[object Function]",t="[object GeneratorFunction]",a="[object HTMLAllCollection]",n="[object HTML document.all class]",f="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(y=function(c){if((l||!c)&&(typeof c>"u"||typeof c=="object"))try{var i=v.call(c);return(i===a||i===n||i===f||i===g)&&c("")==null}catch{}return!1})}V.exports=e?function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{e(c,null,p)}catch(i){if(i!==L)return!1}return!C(c)&&S(c)}:function(c){if(y(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(u)return S(c);if(C(c))return!1;var i=v.call(c);return i!==r&&i!==t&&!/^\[object HTML/.test(i)?!1:S(c)}},84420:function(V,Y,e){var p=Object.prototype.toString,L=Function.prototype.toString,o=/^\s*(?:function)?\*/,C=e(46672)(),S=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},g;V.exports=function(t){if(typeof t!="function")return!1;if(o.test(L.call(t)))return!0;if(!C){var a=p.call(t);return a==="[object GeneratorFunction]"}if(!S)return!1;if(typeof g>"u"){var n=v();g=n?S(n):!1}return S(t)===g}},96604:function(V){V.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(V){V.exports=function(e){return e!==e}},1560:function(V,Y,e){var p=e(57916),L=e(81288),o=e(85992),C=e(57740),S=e(59736),v=p(C(),Number);L(v,{getPolyfill:C,implementation:o,shim:S}),V.exports=v},57740:function(V,Y,e){var p=e(85992);V.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},59736:function(V,Y,e){var p=e(81288),L=e(57740);V.exports=function(){var C=L();return p(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},18400:function(V){V.exports=function(Y){var e=typeof Y;return Y!==null&&(e==="object"||e==="function")}},58908:function(V){var Y=Object.prototype.toString;V.exports=function(e){var p;return Y.call(e)==="[object Object]"&&(p=Object.getPrototypeOf(e),p===null||p===Object.getPrototypeOf({}))}},94576:function(V){V.exports=function(Y){for(var e=Y.length,p,L=0;L<e;L++)if(p=Y.charCodeAt(L),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},53520:function(V){V.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},7728:function(V,Y,e){var p=e(46492),L=e(63436),o=e(99676),C=o("Object.prototype.toString"),S=e(46672)(),v=e(2304),g=typeof globalThis>"u"?e.g:globalThis,r=L(),t=o("Array.prototype.indexOf",!0)||function(y,h){for(var T=0;T<y.length;T+=1)if(y[T]===h)return T;return-1},a=o("String.prototype.slice"),n={},f=Object.getPrototypeOf;S&&v&&f&&p(r,function(l){var y=new g[l];if(Symbol.toStringTag in y){var h=f(y),T=v(h,Symbol.toStringTag);if(!T){var c=f(h);T=v(c,Symbol.toStringTag)}n[l]=T.get}});var u=function(y){var h=!1;return p(n,function(T,c){if(!h)try{h=T.call(y)===c}catch{}}),h};V.exports=function(y){if(!y||typeof y!="object")return!1;if(!S||!(Symbol.toStringTag in y)){var h=a(C(y),8,-1);return t(r,h)>-1}return v?u(y):!1}},76244:function(V){V.exports=Math.log2||function(Y){return Math.log(Y)*Math.LOG2E}},62644:function(V,Y,e){V.exports=L;var p=e(93784);function L(o,C){C||(C=o,o=window);var S=0,v=0,g=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function a(x){var w=!1;return"altKey"in x&&(w=w||x.altKey!==r.alt,r.alt=!!x.altKey),"shiftKey"in x&&(w=w||x.shiftKey!==r.shift,r.shift=!!x.shiftKey),"ctrlKey"in x&&(w=w||x.ctrlKey!==r.control,r.control=!!x.ctrlKey),"metaKey"in x&&(w=w||x.metaKey!==r.meta,r.meta=!!x.metaKey),w}function n(x,w){var _=p.x(w),m=p.y(w);"buttons"in w&&(x=w.buttons|0),(x!==S||_!==v||m!==g||a(w))&&(S=x|0,v=_||0,g=m||0,C&&C(S,v,g,r))}function f(x){n(0,x)}function u(){(S||v||g||r.shift||r.alt||r.meta||r.control)&&(v=g=0,S=0,r.shift=r.alt=r.control=r.meta=!1,C&&C(0,0,0,r))}function l(x){a(x)&&C&&C(S,v,g,r)}function y(x){p.buttons(x)===0?n(0,x):n(S,x)}function h(x){n(S|p.buttons(x),x)}function T(x){n(S&~p.buttons(x),x)}function c(){t||(t=!0,o.addEventListener("mousemove",y),o.addEventListener("mousedown",h),o.addEventListener("mouseup",T),o.addEventListener("mouseleave",f),o.addEventListener("mouseenter",f),o.addEventListener("mouseout",f),o.addEventListener("mouseover",f),o.addEventListener("blur",u),o.addEventListener("keyup",l),o.addEventListener("keydown",l),o.addEventListener("keypress",l),o!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}function i(){t&&(t=!1,o.removeEventListener("mousemove",y),o.removeEventListener("mousedown",h),o.removeEventListener("mouseup",T),o.removeEventListener("mouseleave",f),o.removeEventListener("mouseenter",f),o.removeEventListener("mouseout",f),o.removeEventListener("mouseover",f),o.removeEventListener("blur",u),o.removeEventListener("keyup",l),o.removeEventListener("keydown",l),o.removeEventListener("keypress",l),o!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))}c();var d={element:o};return Object.defineProperties(d,{enabled:{get:function(){return t},set:function(x){x?c():i()},enumerable:!0},buttons:{get:function(){return S},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),d}},29128:function(V){var Y={left:0,top:0};V.exports=e;function e(L,o,C){o=o||L.currentTarget||L.srcElement,Array.isArray(C)||(C=[0,0]);var S=L.clientX||0,v=L.clientY||0,g=p(o);return C[0]=S-g.left,C[1]=v-g.top,C}function p(L){return L===window||L===document||L===document.body?Y:L.getBoundingClientRect()}},93784:function(V,Y){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var S=C.which;if(S===2)return 4;if(S===3)return 2;if(S>0)return 1<<S-1}else if("button"in C){var S=C.button;if(S===1)return 4;if(S===2)return 2;if(S>=0)return 1<<S}}return 0}Y.buttons=e;function p(C){return C.target||C.srcElement||window}Y.element=p;function L(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var S=p(C),v=S.getBoundingClientRect();return C.clientX-v.left}return 0}Y.x=L;function o(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var S=p(C),v=S.getBoundingClientRect();return C.clientY-v.top}return 0}Y.y=o},97264:function(V,Y,e){var p=e(23464);V.exports=L;function L(o,C,S){typeof o=="function"&&(S=!!C,C=o,o=window);var v=p("ex",o),g=function(r){S&&r.preventDefault();var t=r.deltaX||0,a=r.deltaY||0,n=r.deltaZ||0,f=r.deltaMode,u=1;switch(f){case 1:u=v;break;case 2:u=window.innerHeight;break}if(t*=u,a*=u,n*=u,t||a||n)return C(t,a,n,r)};return o.addEventListener("wheel",g),g}},88324:function(V,Y,e){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(o,C,S){C[o]=C[o]||S(),V.exports?V.exports=C[o]:(p=(function(){return C[o]}).call(Y,e,Y,V),p!==void 0&&(V.exports=p))})("Promise",typeof e.g<"u"?e.g:this,function(){var o,C,S,v=Object.prototype.toString,g=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),o=function(d,x,w,_){return Object.defineProperty(d,x,{value:w,writable:!0,configurable:_!==!1})}}catch{o=function(x,w,_){return x[w]=_,x}}S=function(){var d,x,w;function _(m,E){this.fn=m,this.self=E,this.next=void 0}return{add:function(E,A){w=new _(E,A),x?x.next=w:d=w,x=w,w=void 0},drain:function(){var E=d;for(d=x=C=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(i,d){S.add(i,d),C||(C=g(S.drain))}function t(i){var d,x=typeof i;return i!=null&&(x=="object"||x=="function")&&(d=i.then),typeof d=="function"?d:!1}function a(){for(var i=0;i<this.chain.length;i++)n(this,this.state===1?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function n(i,d,x){var w,_;try{d===!1?x.reject(i.msg):(d===!0?w=i.msg:w=d.call(void 0,i.msg),w===x.promise?x.reject(TypeError("Promise-chain cycle")):(_=t(w))?_.call(w,x.resolve,x.reject):x.resolve(w))}catch(m){x.reject(m)}}function f(i){var d,x=this;if(!x.triggered){x.triggered=!0,x.def&&(x=x.def);try{(d=t(i))?r(function(){var w=new y(x);try{d.call(i,function(){f.apply(w,arguments)},function(){u.apply(w,arguments)})}catch(_){u.call(w,_)}}):(x.msg=i,x.state=1,x.chain.length>0&&r(a,x))}catch(w){u.call(new y(x),w)}}}function u(i){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=i,d.state=2,d.chain.length>0&&r(a,d))}function l(i,d,x,w){for(var _=0;_<d.length;_++)(function(E){i.resolve(d[E]).then(function(s){x(E,s)},w)})(_)}function y(i){this.def=i,this.triggered=!1}function h(i){this.promise=i,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function T(i){if(typeof i!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(w,_){var m={success:typeof w=="function"?w:!0,failure:typeof _=="function"?_:!1};return m.promise=new this.constructor(function(A,s){if(typeof A!="function"||typeof s!="function")throw TypeError("Not a function");m.resolve=A,m.reject=s}),d.chain.push(m),d.state!==0&&r(a,d),m.promise},this.catch=function(w){return this.then(void 0,w)};try{i.call(void 0,function(w){f.call(d,w)},function(w){u.call(d,w)})}catch(x){u.call(d,x)}}var c=o({},"constructor",T,!1);return T.prototype=c,o(c,"__NPO__",0,!1),o(T,"resolve",function(d){var x=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new x(function(_,m){if(typeof _!="function"||typeof m!="function")throw TypeError("Not a function");_(d)})}),o(T,"reject",function(d){return new this(function(w,_){if(typeof w!="function"||typeof _!="function")throw TypeError("Not a function");_(d)})}),o(T,"all",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):d.length===0?x.resolve([]):new x(function(_,m){if(typeof _!="function"||typeof m!="function")throw TypeError("Not a function");var E=d.length,A=Array(E),s=0;l(x,d,function(b,N){A[b]=N,++s===E&&_(A)},m)})}),o(T,"race",function(d){var x=this;return v.call(d)!="[object Array]"?x.reject(TypeError("Not an array")):new x(function(_,m){if(typeof _!="function"||typeof m!="function")throw TypeError("Not a function");l(x,d,function(A,s){_(s)},m)})}),T})},48816:function(V){var Y=Math.PI,e=v(120);V.exports=p;function p(g){for(var r,t=[],a=0,n=0,f=0,u=0,l=null,y=null,h=0,T=0,c=0,i=g.length;c<i;c++){var d=g[c],x=d[0];switch(x){case"M":f=d[1],u=d[2];break;case"A":d=C(h,T,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(t.push(d.splice(0,7)),d.unshift("C"));break;case"S":var w=h,_=T;(r=="C"||r=="S")&&(w+=w-a,_+=_-n),d=["C",w,_,d[1],d[2],d[3],d[4]];break;case"T":r=="Q"||r=="T"?(l=h*2-l,y=T*2-y):(l=h,y=T),d=o(h,T,l,y,d[1],d[2]);break;case"Q":l=d[1],y=d[2],d=o(h,T,d[1],d[2],d[3],d[4]);break;case"L":d=L(h,T,d[1],d[2]);break;case"H":d=L(h,T,d[1],T);break;case"V":d=L(h,T,h,d[1]);break;case"Z":d=L(h,T,f,u);break}r=x,h=d[d.length-2],T=d[d.length-1],d.length>4?(a=d[d.length-4],n=d[d.length-3]):(a=h,n=T),t.push(d)}return t}function L(g,r,t,a){return["C",g,r,t,a,t,a]}function o(g,r,t,a,n,f){return["C",g/3+.6666666666666666*t,r/3+.6666666666666666*a,n/3+.6666666666666666*t,f/3+.6666666666666666*a,n,f]}function C(g,r,t,a,n,f,u,l,y,h){if(h)A=h[0],s=h[1],m=h[2],E=h[3];else{var T=S(g,r,-n);g=T.x,r=T.y,T=S(l,y,-n),l=T.x,y=T.y;var c=(g-l)/2,i=(r-y)/2,d=c*c/(t*t)+i*i/(a*a);d>1&&(d=Math.sqrt(d),t=d*t,a=d*a);var x=t*t,w=a*a,_=(f==u?-1:1)*Math.sqrt(Math.abs((x*w-x*i*i-w*c*c)/(x*i*i+w*c*c)));_==1/0&&(_=1);var m=_*t*i/a+(g+l)/2,E=_*-a*c/t+(r+y)/2,A=Math.asin(((r-E)/a).toFixed(9)),s=Math.asin(((y-E)/a).toFixed(9));A=g<m?Y-A:A,s=l<m?Y-s:s,A<0&&(A=Y*2+A),s<0&&(s=Y*2+s),u&&A>s&&(A=A-Y*2),!u&&s>A&&(s=s-Y*2)}if(Math.abs(s-A)>e){var M=s,b=l,N=y;s=A+e*(u&&s>A?1:-1),l=m+t*Math.cos(s),y=E+a*Math.sin(s);var k=C(l,y,t,a,n,0,u,b,N,[s,M,m,E])}var H=Math.tan((s-A)/4),F=4/3*t*H,B=4/3*a*H,U=[2*g-(g+F*Math.sin(A)),2*r-(r-B*Math.cos(A)),l+F*Math.sin(s),y-B*Math.cos(s),l,y];if(h)return U;k&&(U=U.concat(k));for(var z=0;z<U.length;){var W=S(U[z],U[z+1],n);U[z++]=W.x,U[z++]=W.y}return U}function S(g,r,t){return{x:g*Math.cos(t)-r*Math.sin(t),y:g*Math.sin(t)+r*Math.cos(t)}}function v(g){return g*(Y/180)}},50896:function(V){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Y=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function L(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function o(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var S={},v=0;v<10;v++)S["_"+String.fromCharCode(v)]=v;var g=Object.getOwnPropertyNames(S).map(function(t){return S[t]});if(g.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}V.exports=o()?Object.assign:function(C,S){for(var v,g=L(C),r,t=1;t<arguments.length;t++){v=Object(arguments[t]);for(var a in v)e.call(v,a)&&(g[a]=v[a]);if(Y){r=Y(v);for(var n=0;n<r.length;n++)p.call(v,r[n])&&(g[r[n]]=v[r[n]])}}return g}},76835:function(V){var Y=function(e){return e!==e};V.exports=function(p,L){return p===0&&L===0?1/p===1/L:!!(p===L||Y(p)&&Y(L))}},39896:function(V,Y,e){var p=e(81288),L=e(57916),o=e(76835),C=e(66148),S=e(16408),v=L(C(),Object);p(v,{getPolyfill:C,implementation:o,shim:S}),V.exports=v},66148:function(V,Y,e){var p=e(76835);V.exports=function(){return typeof Object.is=="function"?Object.is:p}},16408:function(V,Y,e){var p=e(66148),L=e(81288);V.exports=function(){var C=p();return L(Object,{is:C},{is:function(){return Object.is!==C}}),C}},32764:function(V,Y,e){var p;if(!Object.keys){var L=Object.prototype.hasOwnProperty,o=Object.prototype.toString,C=e(97344),S=Object.prototype.propertyIsEnumerable,v=!S.call({toString:null},"toString"),g=S.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var l=u.constructor;return l&&l.prototype===u},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!a["$"+u]&&L.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),f=function(u){if(typeof window>"u"||!n)return t(u);try{return t(u)}catch{return!1}};p=function(l){var y=l!==null&&typeof l=="object",h=o.call(l)==="[object Function]",T=C(l),c=y&&o.call(l)==="[object String]",i=[];if(!y&&!h&&!T)throw new TypeError("Object.keys called on a non-object");var d=g&&h;if(c&&l.length>0&&!L.call(l,0))for(var x=0;x<l.length;++x)i.push(String(x));if(T&&l.length>0)for(var w=0;w<l.length;++w)i.push(String(w));else for(var _ in l)!(d&&_==="prototype")&&L.call(l,_)&&i.push(String(_));if(v)for(var m=f(l),E=0;E<r.length;++E)!(m&&r[E]==="constructor")&&L.call(l,r[E])&&i.push(r[E]);return i}}V.exports=p},41820:function(V,Y,e){var p=Array.prototype.slice,L=e(97344),o=Object.keys,C=o?function(g){return o(g)}:e(32764),S=Object.keys;C.shim=function(){if(Object.keys){var g=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);g||(Object.keys=function(t){return L(t)?S(p.call(t)):S(t)})}else Object.keys=C;return Object.keys||C},V.exports=C},97344:function(V){var Y=Object.prototype.toString;V.exports=function(p){var L=Y.call(p),o=L==="[object Arguments]";return o||(o=L!=="[object Array]"&&p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&Y.call(p.callee)==="[object Function]"),o}},32868:function(V){function Y(L,o){if(typeof L!="string")return[L];var C=[L];typeof o=="string"||Array.isArray(o)?o={brackets:o}:o||(o={});var S=o.brackets?Array.isArray(o.brackets)?o.brackets:[o.brackets]:["{}","[]","()"],v=o.escape||"___",g=!!o.flat;S.forEach(function(a){var n=new RegExp(["\\",a[0],"[^\\",a[0],"\\",a[1],"]*\\",a[1]].join("")),f=[];function u(l,y,h){var T=C.push(l.slice(a[0].length,-a[1].length))-1;return f.push(T),v+T+v}C.forEach(function(l,y){for(var h,T=0;l!=h;)if(h=l,l=l.replace(n,u),T++>1e4)throw Error("References have circular dependency. Please, check them.");C[y]=l}),f=f.reverse(),C=C.map(function(l){return f.forEach(function(y){l=l.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),a[0]+"$1"+a[1])}),l})});var r=new RegExp("\\"+v+"([0-9]+)\\"+v);function t(a,n,f){for(var u=[],l,y=0;l=r.exec(a);){if(y++>1e4)throw Error("Circular references in parenthesis");u.push(a.slice(0,l.index)),u.push(t(n[l[1]],n)),a=a.slice(l.index+l[0].length)}return u.push(a),u}return g?C:t(C[0],C)}function e(L,o){if(o&&o.flat){var C=o&&o.escape||"___",S=L[0],v;if(!S)return"";for(var g=new RegExp("\\"+C+"([0-9]+)\\"+C),r=0;S!=v;){if(r++>1e4)throw Error("Circular references in "+L);v=S,S=S.replace(g,t)}return S}return L.reduce(function a(n,f){return Array.isArray(f)&&(f=f.reduce(a,"")),n+f},"");function t(a,n){if(L[n]==null)throw Error("Reference "+n+"is undefined");return L[n]}}function p(L,o){return Array.isArray(L)?e(L,o):Y(L,o)}p.parse=Y,p.stringify=e,V.exports=p},51160:function(V,Y,e){var p=e(55616);V.exports=L;function L(o){var C;return arguments.length>1&&(o=arguments),typeof o=="string"?o=o.split(/\s/).map(parseFloat):typeof o=="number"&&(o=[o]),o.length&&typeof o[0]=="number"?o.length===1?C={width:o[0],height:o[0],x:0,y:0}:o.length===2?C={width:o[0],height:o[1],x:0,y:0}:C={x:o[0],y:o[1],width:o[2]-o[0]||0,height:o[3]-o[1]||0}:o&&(o=p(o,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:o.left||0,y:o.top||0},o.width==null?o.right?C.width=o.right-C.x:C.width=0:C.width=o.width,o.height==null?o.bottom?C.height=o.bottom-C.y:C.height=0:C.height=o.height),C}},21984:function(V){V.exports=p;var Y={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(C){var S=[];return C.replace(e,function(v,g,r){var t=g.toLowerCase();for(r=o(r),t=="m"&&r.length>2&&(S.push([g].concat(r.splice(0,2))),t="l",g=g=="m"?"l":"L");;){if(r.length==Y[t])return r.unshift(g),S.push(r);if(r.length<Y[t])throw new Error("malformed path data");S.push([g].concat(r.splice(0,Y[t])))}}),S}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(C){var S=C.match(L);return S?S.map(Number):[]}},65819:function(V){V.exports=function(e,p){p||(p=[0,""]),e=String(e);var L=parseFloat(e,10);return p[0]=L,p[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",p}},41984:function(V,Y,e){var p=e(4168);(function(){var L,o,C,S,v,g;typeof performance<"u"&&performance!==null&&performance.now?V.exports=function(){return performance.now()}:typeof p<"u"&&p!==null&&p.hrtime?(V.exports=function(){return(L()-v)/1e6},o=p.hrtime,L=function(){var r;return r=o(),r[0]*1e9+r[1]},S=L(),g=p.uptime()*1e9,v=S-g):Date.now?(V.exports=function(){return Date.now()-C},C=Date.now()):(V.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},55616:function(V){V.exports=function(L,o,C){var S={},v,g;if(typeof o=="string"&&(o=e(o)),Array.isArray(o)){var r={};for(g=0;g<o.length;g++)r[o[g]]=!0;o=r}for(v in o)o[v]=e(o[v]);var t={};for(v in o){var a=o[v];if(Array.isArray(a))for(g=0;g<a.length;g++){var n=a[g];if(C&&(t[n]=!0),n in L){if(S[v]=L[n],C)for(var f=g;f<a.length;f++)t[a[f]]=!0;break}}else v in L&&(o[v]&&(S[v]=L[v]),C&&(t[v]=!0))}if(C)for(v in L)t[v]||(S[v]=L[v]);return S};var Y={};function e(p){return Y[p]?Y[p]:(typeof p=="string"&&(p=Y[p]=p.split(/\s*,\s*|\s+/)),p)}},61456:function(V){V.exports=function(e,p,L,o){var C=e[0],S=e[1],v=!1;L===void 0&&(L=0),o===void 0&&(o=p.length);for(var g=o-L,r=0,t=g-1;r<g;t=r++){var a=p[r+L][0],n=p[r+L][1],f=p[t+L][0],u=p[t+L][1],l=n>S!=u>S&&C<(f-a)*(S-n)/(u-n)+a;l&&(v=!v)}return v}},14756:function(V,Y,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=e(7688),L=e(28648),o=e(72200),C=e(11403),S=e(82368),v=e(17792),g=!1,r=L(),t;t={buildLog:function(n){return n===!0?g=p():n===!1&&(g=!1),g===!1?!1:g.list},epsilon:function(n){return r.epsilon(n)},segments:function(n){var f=o(!0,r,g);return n.regions.forEach(f.addRegion),{segments:f.calculate(n.inverted),inverted:n.inverted}},combine:function(n,f){var u=o(!1,r,g);return{combined:u.calculate(n.segments,n.inverted,f.segments,f.inverted),inverted1:n.inverted,inverted2:f.inverted}},selectUnion:function(n){return{segments:S.union(n.combined,g),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:S.intersect(n.combined,g),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:S.difference(n.combined,g),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:S.differenceRev(n.combined,g),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:S.xor(n.combined,g),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:C(n.segments,r,g),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(t,n)},polygonToGeoJSON:function(n){return v.fromPolygon(t,r,n)},union:function(n,f){return a(n,f,t.selectUnion)},intersect:function(n,f){return a(n,f,t.selectIntersect)},difference:function(n,f){return a(n,f,t.selectDifference)},differenceRev:function(n,f){return a(n,f,t.selectDifferenceRev)},xor:function(n,f){return a(n,f,t.selectXor)}};function a(n,f,u){var l=t.segments(n),y=t.segments(f),h=t.combine(l,y),T=u(h);return t.polygon(T)}typeof window=="object"&&(window.PolyBool=t),V.exports=t},7688:function(V){function Y(){var e,p=0,L=!1;function o(C,S){return e.list.push({type:C,data:S?JSON.parse(JSON.stringify(S)):void 0}),e}return e={list:[],segmentId:function(){return p++},checkIntersection:function(C,S){return o("check",{seg1:C,seg2:S})},segmentChop:function(C,S){return o("div_seg",{seg:C,pt:S}),o("chop",{seg:C,pt:S})},statusRemove:function(C){return o("pop_seg",{seg:C})},segmentUpdate:function(C){return o("seg_update",{seg:C})},segmentNew:function(C,S){return o("new_seg",{seg:C,primary:S})},segmentRemove:function(C){return o("rem_seg",{seg:C})},tempStatus:function(C,S,v){return o("temp_status",{seg:C,above:S,below:v})},rewind:function(C){return o("rewind",{seg:C})},status:function(C,S,v){return o("status",{seg:C,above:S,below:v})},vert:function(C){return C===L?e:(L=C,o("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),o("log",{txt:C})},reset:function(){return o("reset")},selected:function(C){return o("selected",{segs:C})},chainStart:function(C){return o("chain_start",{seg:C})},chainRemoveHead:function(C,S){return o("chain_rem_head",{index:C,pt:S})},chainRemoveTail:function(C,S){return o("chain_rem_tail",{index:C,pt:S})},chainNew:function(C,S){return o("chain_new",{pt1:C,pt2:S})},chainMatch:function(C){return o("chain_match",{index:C})},chainClose:function(C){return o("chain_close",{index:C})},chainAddHead:function(C,S){return o("chain_add_head",{index:C,pt:S})},chainAddTail:function(C,S){return o("chain_add_tail",{index:C,pt:S})},chainConnect:function(C,S){return o("chain_con",{index1:C,index2:S})},chainReverse:function(C){return o("chain_rev",{index:C})},chainJoin:function(C,S){return o("chain_join",{index1:C,index2:S})},done:function(){return o("done")}},e}V.exports=Y},28648:function(V){function Y(e){typeof e!="number"&&(e=1e-10);var p={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,o,C){var S=o[0],v=o[1],g=C[0],r=C[1],t=L[0],a=L[1];return(g-S)*(a-v)-(r-v)*(t-S)>=-e},pointBetween:function(L,o,C){var S=L[1]-o[1],v=C[0]-o[0],g=L[0]-o[0],r=C[1]-o[1],t=g*v+S*r;if(t<e)return!1;var a=v*v+r*r;return!(t-a>-e)},pointsSameX:function(L,o){return Math.abs(L[0]-o[0])<e},pointsSameY:function(L,o){return Math.abs(L[1]-o[1])<e},pointsSame:function(L,o){return p.pointsSameX(L,o)&&p.pointsSameY(L,o)},pointsCompare:function(L,o){return p.pointsSameX(L,o)?p.pointsSameY(L,o)?0:L[1]<o[1]?-1:1:L[0]<o[0]?-1:1},pointsCollinear:function(L,o,C){var S=L[0]-o[0],v=L[1]-o[1],g=o[0]-C[0],r=o[1]-C[1];return Math.abs(S*r-g*v)<e},linesIntersect:function(L,o,C,S){var v=o[0]-L[0],g=o[1]-L[1],r=S[0]-C[0],t=S[1]-C[1],a=v*t-g*r;if(Math.abs(a)<e)return!1;var n=L[0]-C[0],f=L[1]-C[1],u=(r*f-t*n)/a,l=(v*f-g*n)/a,y={alongA:0,alongB:0,pt:[L[0]+u*v,L[1]+u*g]};return u<=-e?y.alongA=-2:u<e?y.alongA=-1:u-1<=-e?y.alongA=0:u-1<e?y.alongA=1:y.alongA=2,l<=-e?y.alongB=-2:l<e?y.alongB=-1:l-1<=-e?y.alongB=0:l-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(L,o){for(var C=L[0],S=L[1],v=o[o.length-1][0],g=o[o.length-1][1],r=!1,t=0;t<o.length;t++){var a=o[t][0],n=o[t][1];n-S>e!=g-S>e&&(v-a)*(S-n)/(g-n)+a-C>e&&(r=!r),v=a,g=n}return r}};return p}V.exports=Y},17792:function(V){var Y={toPolygon:function(e,p){function L(S){if(S.length<=0)return e.segments({inverted:!1,regions:[]});function v(t){var a=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[a]})}for(var g=v(S[0]),r=1;r<S.length;r++)g=e.selectDifference(e.combine(g,v(S[r])));return g}if(p.type==="Polygon")return e.polygon(L(p.coordinates));if(p.type==="MultiPolygon"){for(var o=e.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)o=e.selectUnion(e.combine(o,L(p.coordinates[C])));return e.polygon(o)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,L){L=e.polygon(e.segments(L));function o(u,l){return p.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],l)}function C(u){return{region:u,children:[]}}var S=C(null);function v(u,l){for(var y=0;y<u.children.length;y++){var h=u.children[y];if(o(l,h.region)){v(h,l);return}}for(var T=C(l),y=0;y<u.children.length;y++){var h=u.children[y];o(h.region,l)&&(T.children.push(h),u.children.splice(y,1),y--)}u.children.push(T)}for(var g=0;g<L.regions.length;g++){var r=L.regions[g];r.length<3||v(S,r)}function t(u,l){for(var y=0,h=u[u.length-1][0],T=u[u.length-1][1],c=[],i=0;i<u.length;i++){var d=u[i][0],x=u[i][1];c.push([d,x]),y+=x*h-d*T,h=d,T=x}var w=y<0;return w!==l&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var a=[];function n(u){var l=[t(u.region,!1)];a.push(l);for(var y=0;y<u.children.length;y++)l.push(f(u.children[y]))}function f(u){for(var l=0;l<u.children.length;l++)n(u.children[l]);return t(u.region,!0)}for(var g=0;g<S.children.length;g++)n(S.children[g]);return a.length<=0?{type:"Polygon",coordinates:[]}:a.length==1?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}};V.exports=Y},72200:function(V,Y,e){var p=e(48088);function L(o,C,S){function v(T,c){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:null,below:null},otherFill:null}}function g(T,c,i){return{id:S?S.segmentId():-1,start:T,end:c,myFill:{above:i.myFill.above,below:i.myFill.below},otherFill:null}}var r=p.create();function t(T,c,i,d,x,w){var _=C.pointsCompare(c,x);return _!==0?_:C.pointsSame(i,w)?0:T!==d?T?1:-1:C.pointAboveOrOnLine(i,d?x:w,d?w:x)?1:-1}function a(T,c){r.insertBefore(T,function(i){var d=t(T.isStart,T.pt,c,i.isStart,i.pt,i.other.pt);return d<0})}function n(T,c){var i=p.node({isStart:!0,pt:T.start,seg:T,primary:c,other:null,status:null});return a(i,T.end),i}function f(T,c,i){var d=p.node({isStart:!1,pt:c.end,seg:c,primary:i,other:T,status:null});T.other=d,a(d,T.pt)}function u(T,c){var i=n(T,c);return f(i,T,c),i}function l(T,c){S&&S.segmentChop(T.seg,c),T.other.remove(),T.seg.end=c,T.other.pt=c,a(T.other,T.pt)}function y(T,c){var i=g(c,T.seg.end,T.seg);return l(T,c),u(i,T.primary)}function h(T,c){var i=p.create();function d(F,B){var U=F.seg.start,z=F.seg.end,W=B.seg.start,j=B.seg.end;return C.pointsCollinear(U,W,j)?C.pointsCollinear(z,W,j)||C.pointAboveOrOnLine(z,W,j)?1:-1:C.pointAboveOrOnLine(U,W,j)?1:-1}function x(F){return i.findTransition(function(B){var U=d(F,B.ev);return U>0})}function w(F,B){var U=F.seg,z=B.seg,W=U.start,j=U.end,ee=z.start,ie=z.end;S&&S.checkIntersection(U,z);var oe=C.linesIntersect(W,j,ee,ie);if(oe===!1){if(!C.pointsCollinear(W,j,ee)||C.pointsSame(W,ie)||C.pointsSame(j,ee))return!1;var he=C.pointsSame(W,ee),ne=C.pointsSame(j,ie);if(he&&ne)return B;var q=!he&&C.pointBetween(W,ee,ie),le=!ne&&C.pointBetween(j,ee,ie);if(he)return le?y(B,j):y(F,ie),B;q&&(ne||(le?y(B,j):y(F,ie)),y(B,W))}else oe.alongA===0&&(oe.alongB===-1?y(F,ee):oe.alongB===0?y(F,oe.pt):oe.alongB===1&&y(F,ie)),oe.alongB===0&&(oe.alongA===-1?y(B,W):oe.alongA===0?y(B,oe.pt):oe.alongA===1&&y(B,j));return!1}for(var _=[];!r.isEmpty();){var m=r.getHead();if(S&&S.vert(m.pt[0]),m.isStart){let F=function(){if(A){var B=w(m,A);if(B)return B}return s?w(m,s):!1};S&&S.segmentNew(m.seg,m.primary);var E=x(m),A=E.before?E.before.ev:null,s=E.after?E.after.ev:null;S&&S.tempStatus(m.seg,A?A.seg:!1,s?s.seg:!1);var M=F();if(M){if(o){var b;m.seg.myFill.below===null?b=!0:b=m.seg.myFill.above!==m.seg.myFill.below,b&&(M.seg.myFill.above=!M.seg.myFill.above)}else M.seg.otherFill=m.seg.myFill;S&&S.segmentUpdate(M.seg),m.other.remove(),m.remove()}if(r.getHead()!==m){S&&S.rewind(m.seg);continue}if(o){var b;m.seg.myFill.below===null?b=!0:b=m.seg.myFill.above!==m.seg.myFill.below,s?m.seg.myFill.below=s.seg.myFill.above:m.seg.myFill.below=T,b?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var N;s?m.primary===s.primary?N=s.seg.otherFill.above:N=s.seg.myFill.above:N=m.primary?c:T,m.seg.otherFill={above:N,below:N}}S&&S.status(m.seg,A?A.seg:!1,s?s.seg:!1),m.other.status=E.insert(p.node({ev:m}))}else{var k=m.status;if(k===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(i.exists(k.prev)&&i.exists(k.next)&&w(k.prev.ev,k.next.ev),S&&S.statusRemove(k.ev.seg),k.remove(),!m.primary){var H=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=H}_.push(m.seg)}r.getHead().remove()}return S&&S.done(),_}return o?{addRegion:function(T){for(var c,i=T[T.length-1],d=0;d<T.length;d++){c=i,i=T[d];var x=C.pointsCompare(c,i);x!==0&&u(v(x<0?c:i,x<0?i:c),!0)}},calculate:function(T){return h(T,!1)}}:{calculate:function(T,c,i,d){return T.forEach(function(x){u(g(x.start,x.end,x),!0)}),i.forEach(function(x){u(g(x.start,x.end,x),!1)}),h(c,d)}}}V.exports=L},48088:function(V){var Y={create:function(){var e={root:{root:!0,next:null},exists:function(p){return!(p===null||p===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(p,L){for(var o=e.root,C=e.root.next;C!==null;){if(L(C)){p.prev=C.prev,p.next=C,C.prev.next=p,C.prev=p;return}o=C,C=C.next}o.next=p,p.prev=o,p.next=null},findTransition:function(p){for(var L=e.root,o=e.root.next;o!==null&&!p(o);)L=o,o=o.next;return{before:L===e.root?null:L,after:o,insert:function(C){return C.prev=L,C.next=o,L.next=C,o!==null&&(o.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};V.exports=Y},11403:function(V){function Y(e,p,L){var o=[],C=[];return e.forEach(function(S){var v=S.start,g=S.end;if(p.pointsSame(v,g)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(S);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},a=r;function n(M,b,N){return a.index=M,a.matches_head=b,a.matches_pt1=N,a===r?(a=t,!1):(a=null,!0)}for(var f=0;f<o.length;f++){var u=o[f],l=u[0];u[1];var y=u[u.length-1];if(u[u.length-2],p.pointsSame(l,v)){if(n(f,!0,!0))break}else if(p.pointsSame(l,g)){if(n(f,!0,!1))break}else if(p.pointsSame(y,v)){if(n(f,!1,!0))break}else if(p.pointsSame(y,g)&&n(f,!1,!1))break}if(a===r){o.push([v,g]),L&&L.chainNew(v,g);return}if(a===t){L&&L.chainMatch(r.index);var h=r.index,T=r.matches_pt1?g:v,c=r.matches_head,u=o[h],i=c?u[0]:u[u.length-1],d=c?u[1]:u[u.length-2],x=c?u[u.length-1]:u[0],w=c?u[u.length-2]:u[1];if(p.pointsCollinear(d,i,T)&&(c?(L&&L.chainRemoveHead(r.index,T),u.shift()):(L&&L.chainRemoveTail(r.index,T),u.pop()),i=d),p.pointsSame(x,T)){o.splice(h,1),p.pointsCollinear(w,x,i)&&(c?(L&&L.chainRemoveTail(r.index,i),u.pop()):(L&&L.chainRemoveHead(r.index,i),u.shift())),L&&L.chainClose(r.index),C.push(u);return}c?(L&&L.chainAddHead(r.index,T),u.unshift(T)):(L&&L.chainAddTail(r.index,T),u.push(T));return}function _(M){L&&L.chainReverse(M),o[M].reverse()}function m(M,b){var N=o[M],k=o[b],H=N[N.length-1],F=N[N.length-2],B=k[0],U=k[1];p.pointsCollinear(F,H,B)&&(L&&L.chainRemoveTail(M,H),N.pop(),H=F),p.pointsCollinear(H,B,U)&&(L&&L.chainRemoveHead(b,B),k.shift()),L&&L.chainJoin(M,b),o[M]=N.concat(k),o.splice(b,1)}var E=r.index,A=t.index;L&&L.chainConnect(E,A);var s=o[E].length<o[A].length;r.matches_head?t.matches_head?s?(_(E),m(E,A)):(_(A),m(A,E)):m(A,E):t.matches_head?m(E,A):s?(_(E),m(A,E)):(_(A),m(E,A))}),C}V.exports=Y},82368:function(V){function Y(p,L,o){var C=[];return p.forEach(function(S){var v=(S.myFill.above?8:0)+(S.myFill.below?4:0)+(S.otherFill&&S.otherFill.above?2:0)+(S.otherFill&&S.otherFill.below?1:0);L[v]!==0&&C.push({id:o?o.segmentId():-1,start:S.start,end:S.end,myFill:{above:L[v]===1,below:L[v]===2},otherFill:null})}),o&&o.selected(C),C}var e={union:function(p,L){return Y(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(p,L){return Y(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(p,L){return Y(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(p,L){return Y(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(p,L){return Y(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};V.exports=e},9696:function(V,Y,e){var p=e(29936).Transform,L=e(55619);function o(){p.call(this,{readableObjectMode:!0})}o.prototype=Object.create(p.prototype),o.prototype.constructor=o,L(o.prototype),Y.gS=function(S,v,g){for(var r=v,t=0;t<g.length;)if(S[r++]!==g[t++])return!1;return!0},Y.wR=function(S,v){var g=[],r=0;if(v&&v==="hex")for(;r<S.length;)g.push(parseInt(S.slice(r,r+2),16)),r+=2;else for(;r<S.length;r++)g.push(S.charCodeAt(r)&255);return g},Y.Bz=function(S,v){return S[v]|S[v+1]<<8},Y.eW=function(S,v){return S[v+1]|S[v]<<8},Y.st=function(S,v){return S[v]|S[v+1]<<8|S[v+2]<<16|S[v+3]*16777216},Y.eI=function(S,v){return S[v+3]|S[v+2]<<8|S[v+1]<<16|S[v]*16777216};function C(S,v,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=S,v&&(this.code=v),g&&(this.statusCode=g)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},11688:function(V){function Y(L,o){var C=new Error(L);return C.code=o,C}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function p(L,o,C){this.input=L.subarray(o,C),this.start=o;var S=String.fromCharCode.apply(null,this.input.subarray(0,4));if(S!=="II*\0"&&S!=="MM\0*")throw Y("invalid TIFF signature","EBADDATA");this.big_endian=S[0]==="M"}p.prototype.each=function(L){this.aborted=!1;var o=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:o}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,L)}},p.prototype.read_uint16=function(L){var o=this.input;if(L+2>o.length)throw Y("unexpected EOF","EBADDATA");return this.big_endian?o[L]*256+o[L+1]:o[L]+o[L+1]*256},p.prototype.read_uint32=function(L){var o=this.input;if(L+4>o.length)throw Y("unexpected EOF","EBADDATA");return this.big_endian?o[L]*16777216+o[L+1]*65536+o[L+2]*256+o[L+3]:o[L]+o[L+1]*256+o[L+2]*65536+o[L+3]*16777216},p.prototype.is_subifd_link=function(L,o){return L===0&&o===34665||L===0&&o===34853||L===34665&&o===40965},p.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(L,o){var C;switch(L){case 1:case 2:return C=this.input[o],C;case 6:return C=this.input[o],C|(C&128)*33554430;case 3:return C=this.read_uint16(o),C;case 8:return C=this.read_uint16(o),C|(C&32768)*131070;case 4:return C=this.read_uint32(o),C;case 9:return C=this.read_uint32(o),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},p.prototype.scan_ifd=function(L,o,C){var S=this.read_uint16(o);o+=2;for(var v=0;v<S;v++){var g=this.read_uint16(o),r=this.read_uint16(o+2),t=this.read_uint32(o+4),a=this.exif_format_length(r),n=t*a,f=n<=4?o+8:this.read_uint32(o+8),u=!1;if(f+n>this.input.length)throw Y("unexpected EOF","EBADDATA");for(var l=[],y=f,h=0;h<t;h++,y+=a){var T=this.exif_format_read(r,y);if(T===null){l=null;break}l.push(T)}Array.isArray(l)&&r===2&&(l=e(String.fromCharCode.apply(null,l)),l&&l[l.length-1]==="\0"&&(l=l.slice(0,-1))),this.is_subifd_link(L,g)&&Array.isArray(l)&&Number.isInteger(l[0])&&l[0]>0&&(this.ifds_to_read.push({id:g,offset:l[0]}),u=!0);var c={is_big_endian:this.big_endian,ifd:L,tag:g,format:r,count:t,entry_offset:o+this.start,data_length:n,data_offset:f+this.start,value:l,is_subifd_link:u};if(C(c)===!1){this.aborted=!0;return}o+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(o)})},V.exports.ExifParser=p,V.exports.get_orientation=function(L){var o=0;try{return new p(L,0,L.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return o=C.value[0],!1}),o}catch{return-1}}},44600:function(V,Y,e){var p=e(9696).eW,L=e(9696).eI;function o(n,f){if(n.length<4+f)return null;var u=L(n,f);return n.length<u+f||u<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(f+4,f+8)),data:n.slice(f+8,f+u),end:f+u}}V.exports.unbox=o;function C(n,f){for(var u=0;;){var l=o(n,u);if(!l)break;switch(l.boxtype){case"ispe":f.sizes.push({width:L(l.data,4),height:L(l.data,8)});break;case"irot":f.transforms.push({type:"irot",value:l.data[0]&3});break;case"imir":f.transforms.push({type:"imir",value:l.data[0]&1});break}u=l.end}}function S(n,f,u){for(var l=0,y=0;y<u;y++)l=l*256+(n[f+y]||0);return l}function v(n,f){for(var u=n[4]>>4&15,l=n[4]&15,y=n[5]>>4&15,h=p(n,6),T=8,c=0;c<h;c++){var i=p(n,T);T+=2;var d=p(n,T);T+=2;var x=S(n,T,y);T+=y;var w=p(n,T);if(T+=2,d===0&&w===1){var _=S(n,T,u),m=S(n,T+u,l);f.item_loc[i]={length:m,offset:_+x}}T+=w*(u+l)}}function g(n,f){for(var u=p(n,4),l=6,y=0;y<u;y++){var h=o(n,l);if(!h)break;if(h.boxtype==="infe"){for(var T=p(h.data,4),c="",i=8;i<h.data.length&&h.data[i];i++)c+=String.fromCharCode(h.data[i]);f.item_inf[c]=T}l=h.end}}function r(n,f){for(var u=0;;){var l=o(n,u);if(!l)break;l.boxtype==="ipco"&&C(l.data,f),u=l.end}}function t(n,f){for(var u=4;;){var l=o(n,u);if(!l)break;l.boxtype==="iprp"&&r(l.data,f),l.boxtype==="iloc"&&v(l.data,f),l.boxtype==="iinf"&&g(l.data,f),u=l.end}}function a(n){var f=n.reduce(function(y,h){return y.width>h.width||y.width===h.width&&y.height>h.height?y:h}),u=n.reduce(function(y,h){return y.height>h.height||y.height===h.height&&y.width>h.width?y:h}),l;return f.width>u.height||f.width===u.height&&f.height>u.width?l=f:l=u,l}V.exports.readSizeFromMeta=function(n){var f={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(n,f),!!f.sizes.length){var u=a(f.sizes),l=1;f.transforms.forEach(function(h){var T={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},c={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?l=c[l]:(l=c[l],l=T[l],l=T[l])),h.type==="irot")for(var i=0;i<h.value;i++)l=T[l]});var y=null;return f.item_inf.Exif&&(y=f.item_loc[f.item_inf.Exif]),{width:u.width,height:u.height,orientation:f.transforms.length?l:null,variants:f.sizes,exif_location:y}}},V.exports.getMimeType=function(n){var f=String.fromCharCode.apply(null,n.slice(0,4)),u={};u[f]=!0;for(var l=8;l<n.length;l+=4)u[String.fromCharCode.apply(null,n.slice(l,l+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return f==="avif"||f==="avis"||f==="avio"?{type:"avif",mime:"image/avif"}:f==="heic"||f==="heix"?{type:"heic",mime:"image/heic"}:f==="hevc"||f==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(V,Y,e){var p=e(9696).wR,L=e(9696).gS,o=e(9696).eI,C=e(44600),S=e(11688),v=p("ftyp");V.exports=function(g){if(L(g,4,v)){var r=C.unbox(g,0);if(r){var t=C.getMimeType(r.data);if(t){for(var a,n=r.end;;){var f=C.unbox(g,n);if(!f)break;if(n=f.end,f.boxtype==="mdat")return;if(f.boxtype==="meta"){a=f.data;break}}if(a){var u=C.readSizeFromMeta(a);if(u){var l={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(l.variants=u.variants),u.orientation&&(l.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=g.length){var y=o(g,u.exif_location.offset),h=g.slice(u.exif_location.offset+y+4,u.exif_location.offset+u.exif_location.length),T=S.get_orientation(h);T>0&&(l.orientation=T)}return l}}}}}}},38728:function(V,Y,e){var p=e(9696).wR,L=e(9696).gS,o=e(9696).Bz,C=p("BM");V.exports=function(S){if(!(S.length<26)&&L(S,0,C))return{width:o(S,18),height:o(S,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(V,Y,e){var p=e(9696).wR,L=e(9696).gS,o=e(9696).Bz,C=p("GIF87a"),S=p("GIF89a");V.exports=function(v){if(!(v.length<10)&&!(!L(v,0,C)&&!L(v,0,S)))return{width:o(v,6),height:o(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(V,Y,e){var p=e(9696).Bz,L=0,o=1,C=16;V.exports=function(S){var v=p(S,0),g=p(S,2),r=p(S,4);if(!(v!==L||g!==o||!r)){for(var t=[],a={width:0,height:0},n=0;n<r;n++){var f=S[6+C*n]||256,u=S[6+C*n+1]||256,l={width:f,height:u};t.push(l),(f>a.width||u>a.height)&&(a=l)}return{width:a.width,height:a.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(V,Y,e){var p=e(9696).eW,L=e(9696).wR,o=e(9696).gS,C=e(11688),S=L("Exif\0\0");V.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var g=2;;){for(;;){if(v.length-g<2)return;if(v[g++]===255)break}for(var r=v[g++],t;r===255;)r=v[g++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(v.length-g<2)return;t=p(v,g)-2,g+=2}else return;if(r===217||r===218)return;var a;if(r===225&&t>=10&&o(v,g,S)&&(a=C.get_orientation(v.slice(g+6,g+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(v.length-g<t)return;var n={width:p(v,g+3),height:p(v,g+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return a>0&&(n.orientation=a),n}g+=t}}},37276:function(V,Y,e){var p=e(9696).wR,L=e(9696).gS,o=e(9696).eI,C=p(`PNG\r

`),S=p("IHDR");V.exports=function(v){if(!(v.length<24)&&L(v,0,C)&&L(v,12,S))return{width:o(v,16),height:o(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(V,Y,e){var p=e(9696).wR,L=e(9696).gS,o=e(9696).eI,C=p("8BPS\0");V.exports=function(S){if(!(S.length<22)&&L(S,0,C))return{width:o(S,18),height:o(S,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(V){function Y(a){return a===32||a===9||a===13||a===10}function e(a){return typeof a=="number"&&isFinite(a)&&a>0}function p(a){var n=0,f=a.length;for(a[0]===239&&a[1]===187&&a[2]===191&&(n=3);n<f&&Y(a[n]);)n++;return n===f?!1:a[n]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,o=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,S=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(a){var n=a.match(C),f=a.match(S),u=a.match(v);return{width:n&&(n[1]||n[2]),height:f&&(f[1]||f[2]),viewbox:u&&(u[1]||u[2])}}function t(a){return g.test(a)?a.match(g)[0]:"px"}V.exports=function(a){if(p(a)){for(var n="",f=0;f<a.length;f++)n+=String.fromCharCode(a[f]);var u=(n.match(L)||[""])[0];if(o.test(u)){var l=r(u),y=parseFloat(l.width),h=parseFloat(l.height);if(l.width&&l.height)return!e(y)||!e(h)?void 0:{width:y,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.height)};var T=(l.viewbox||"").split(" "),c={width:T[2],height:T[3]},i=parseFloat(c.width),d=parseFloat(c.height);if(!(!e(i)||!e(d))&&t(c.width)===t(c.height)){var x=i/d;return l.width?e(y)?{width:y,height:y/x,type:"svg",mime:"image/svg+xml",wUnits:t(l.width),hUnits:t(l.width)}:void 0:l.height?e(h)?{width:h*x,height:h,type:"svg",mime:"image/svg+xml",wUnits:t(l.height),hUnits:t(l.height)}:void 0:{width:i,height:d,type:"svg",mime:"image/svg+xml",wUnits:t(c.width),hUnits:t(c.height)}}}}}},98792:function(V,Y,e){var p=e(9696).wR,L=e(9696).gS,o=e(9696).Bz,C=e(9696).eW,S=e(9696).st,v=e(9696).eI,g=p("II*\0"),r=p("MM\0*");function t(f,u,l){return l?C(f,u):o(f,u)}function a(f,u,l){return l?v(f,u):S(f,u)}function n(f,u,l){var y=t(f,u+2,l),h=a(f,u+4,l);return h!==1||y!==3&&y!==4?null:y===3?t(f,u+8,l):a(f,u+8,l)}V.exports=function(f){if(!(f.length<8)&&!(!L(f,0,g)&&!L(f,0,r))){var u=f[0]===77,l=a(f,4,u)-8;if(!(l<0)){var y=l+8;if(!(f.length-y<2)){var h=t(f,y+0,u)*12;if(!(h<=0)&&(y+=2,!(f.length-y<h))){var T,c,i,d;for(T=0;T<h;T+=12)d=t(f,y+T,u),d===256?c=n(f,y+T,u):d===257&&(i=n(f,y+T,u));if(c&&i)return{width:c,height:i,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},20704:function(V,Y,e){var p=e(9696).wR,L=e(9696).gS,o=e(9696).Bz,C=e(9696).st,S=e(11688),v=p("RIFF"),g=p("WEBP");function r(n,f){if(!(n[f+3]!==157||n[f+4]!==1||n[f+5]!==42))return{width:o(n,f+6)&16383,height:o(n,f+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(n,f){if(n[f]===47){var u=C(n,f+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function a(n,f){return{width:(n[f+6]<<16|n[f+5]<<8|n[f+4])+1,height:(n[f+9]<<f|n[f+8]<<8|n[f+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}V.exports=function(n){if(!(n.length<16)&&!(!L(n,0,v)&&!L(n,8,g))){var f=12,u=null,l=0,y=C(n,4)+8;if(!(y>n.length)){for(;f+8<y;){if(n[f]===0){f++;continue}var h=String.fromCharCode.apply(null,n.slice(f,f+4)),T=C(n,f+4);h==="VP8 "&&T>=10?u=u||r(n,f+8):h==="VP8L"&&T>=9?u=u||t(n,f+8):h==="VP8X"&&T>=10?u=u||a(n,f+8):h==="EXIF"&&(l=S.get_orientation(n.slice(f+8,f+8+T)),f=1/0),f+=8+T}if(u)return l>0&&(u.orientation=l),u}}}},87480:function(V,Y,e){V.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(V,Y,e){var p=e(87480);function L(o){for(var C=Object.keys(p),S=0;S<C.length;S++){var v=p[C[S]](o);if(v)return v}return null}V.exports=function(C){return L(C)},V.exports.parsers=p},4168:function(V){var Y=V.exports={},e,p;function L(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?p=clearTimeout:p=o}catch{p=o}})();function C(l){if(e===setTimeout)return setTimeout(l,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(l,0);try{return e(l,0)}catch{try{return e.call(null,l,0)}catch{return e.call(this,l,0)}}}function S(l){if(p===clearTimeout)return clearTimeout(l);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(l);try{return p(l)}catch{try{return p.call(null,l)}catch{return p.call(this,l)}}}var v=[],g=!1,r,t=-1;function a(){!g||!r||(g=!1,r.length?v=r.concat(v):t=-1,v.length&&n())}function n(){if(!g){var l=C(a);g=!0;for(var y=v.length;y;){for(r=v,v=[];++t<y;)r&&r[t].run();t=-1,y=v.length}r=null,g=!1,S(l)}}Y.nextTick=function(l){var y=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)y[h-1]=arguments[h];v.push(new f(l,y)),v.length===1&&!g&&C(n)};function f(l,y){this.fun=l,this.array=y}f.prototype.run=function(){this.fun.apply(null,this.array)},Y.title="browser",Y.browser=!0,Y.env={},Y.argv=[],Y.version="",Y.versions={};function u(){}Y.on=u,Y.addListener=u,Y.once=u,Y.off=u,Y.removeListener=u,Y.removeAllListeners=u,Y.emit=u,Y.prependListener=u,Y.prependOnceListener=u,Y.listeners=function(l){return[]},Y.binding=function(l){throw new Error("process.binding is not supported")},Y.cwd=function(){return"/"},Y.chdir=function(l){throw new Error("process.chdir is not supported")},Y.umask=function(){return 0}},3951:function(V,Y,e){for(var p=e(41984),L=typeof window>"u"?e.g:window,o=["moz","webkit"],C="AnimationFrame",S=L["request"+C],v=L["cancel"+C]||L["cancelRequest"+C],g=0;!S&&g<o.length;g++)S=L[o[g]+"Request"+C],v=L[o[g]+"Cancel"+C]||L[o[g]+"CancelRequest"+C];if(!S||!v){var r=0,t=0,a=[],n=1e3/60;S=function(f){if(a.length===0){var u=p(),l=Math.max(0,n-(u-r));r=l+u,setTimeout(function(){var y=a.slice(0);a.length=0;for(var h=0;h<y.length;h++)if(!y[h].cancelled)try{y[h].callback(r)}catch(T){setTimeout(function(){throw T},0)}},Math.round(l))}return a.push({handle:++t,callback:f,cancelled:!1}),t},v=function(f){for(var u=0;u<a.length;u++)a[u].handle===f&&(a[u].cancelled=!0)}}V.exports=function(f){return S.call(L,f)},V.exports.cancel=function(){v.apply(L,arguments)},V.exports.polyfill=function(f){f||(f=L),f.requestAnimationFrame=S,f.cancelAnimationFrame=v}},24544:function(V,Y,e){var p=e(76752),L=e(72160),o=e(45223),C=e(55616),S=e(50896),v=e(47520),g=e(37816),r=g.float32,t=g.fract32;V.exports=n;var a=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(f,u){if(typeof f=="function"?(u||(u={}),u.regl=f):u=f,u.length&&(u.positions=u),f=u.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l=f._gl,y,h,T,c,i,d,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},w=[];return c=f.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),T=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),i=f.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=f.buffer({usage:"static",type:"float",data:a}),A(u),y=f({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:f.prop("range"),lineWidth:f.prop("lineWidth"),capSize:f.prop("capSize"),opacity:f.prop("opacity"),scale:f.prop("scale"),translate:f.prop("translate"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),viewport:function(M,b){return[b.viewport.x,b.viewport.y,M.viewportWidth,M.viewportHeight]}},attributes:{color:{buffer:c,offset:function(M,b){return b.offset*4},divisor:1},position:{buffer:h,offset:function(M,b){return b.offset*8},divisor:1},positionFract:{buffer:T,offset:function(M,b){return b.offset*8},divisor:1},error:{buffer:i,offset:function(M,b){return b.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport"),stencil:!1,instances:f.prop("count"),count:a.length}),S(_,{update:A,draw:m,destroy:s,regl:f,gl:l,canvas:l.canvas,groups:w}),_;function _(M){M?A(M):M===null&&s(),m()}function m(M){if(typeof M=="number")return E(M);M&&!Array.isArray(M)&&(M=[M]),f._refresh(),w.forEach(function(b,N){if(b){if(M&&(M[N]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}E(N)}})}function E(M){typeof M=="number"&&(M=w[M]),M!=null&&M&&M.count&&M.color&&M.opacity&&M.positions&&M.positions.length>1&&(M.scaleRatio=[M.scale[0]*M.viewport.width,M.scale[1]*M.viewport.height],y(M),M.after&&M.after(M))}function A(M){if(M){M.length!=null?typeof M[0]=="number"&&(M=[{positions:M}]):Array.isArray(M)||(M=[M]);var b=0,N=0;if(_.groups=w=M.map(function(W,j){var ee=w[j];if(W)typeof W=="function"?W={after:W}:typeof W[0]=="number"&&(W={positions:W});else return ee;return W=C(W,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),ee||(w[j]=ee={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},W=S({},x,W)),o(ee,W,[{lineWidth:function(ie){return+ie*.5},capSize:function(ie){return+ie*.5},opacity:parseFloat,errors:function(ie){return ie=v(ie),N+=ie.length,ie},positions:function(ie,oe){return ie=v(ie,"float64"),oe.count=Math.floor(ie.length/2),oe.bounds=p(ie,2),oe.offset=b,b+=oe.count,ie}},{color:function(ie,oe){var he=oe.count;if(ie||(ie="transparent"),!Array.isArray(ie)||typeof ie[0]=="number"){var ne=ie;ie=Array(he);for(var q=0;q<he;q++)ie[q]=ne}if(ie.length<he)throw Error("Not enough colors");for(var le=new Uint8Array(he*4),Q=0;Q<he;Q++){var te=L(ie[Q],"uint8");le.set(te,Q*4)}return le},range:function(ie,oe,he){var ne=oe.bounds;return ie||(ie=ne),oe.scale=[1/(ie[2]-ie[0]),1/(ie[3]-ie[1])],oe.translate=[-ie[0],-ie[1]],oe.scaleFract=t(oe.scale),oe.translateFract=t(oe.translate),ie},viewport:function(ie){var oe;return Array.isArray(ie)?oe={x:ie[0],y:ie[1],width:ie[2]-ie[0],height:ie[3]-ie[1]}:ie?(oe={x:ie.x||ie.left||0,y:ie.y||ie.top||0},ie.right?oe.width=ie.right-oe.x:oe.width=ie.w||ie.width||0,ie.bottom?oe.height=ie.bottom-oe.y:oe.height=ie.h||ie.height||0):oe={x:0,y:0,width:l.drawingBufferWidth,height:l.drawingBufferHeight},oe}}]),ee}),b||N){var k=w.reduce(function(W,j,ee){return W+(j?j.count:0)},0),H=new Float64Array(k*2),F=new Uint8Array(k*4),B=new Float32Array(k*4);w.forEach(function(W,j){if(W){var ee=W.positions,ie=W.count,oe=W.offset,he=W.color,ne=W.errors;ie&&(F.set(he,oe*4),B.set(ne,oe*4),H.set(ee,oe*2))}});var U=r(H);h(U);var z=t(H,U);T(z),c(F),i(B)}}}function s(){h.destroy(),T.destroy(),c.destroy(),i.destroy(),d.destroy()}}},13472:function(V,Y,e){var p=e(72160),L=e(76752),o=e(50896),C=e(55616),S=e(47520),v=e(28912),g=e(71152),r=e(37816),t=r.float32,a=r.fract32,n=e(60463),f=e(51160),u=e(10272),l=`
precision highp float;

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`,y=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`,h=`
precision highp float;

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`,T=`
precision highp float;
varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`,c=`
precision highp float;

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);


	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`,i=`
precision highp float;

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`;V.exports=d;function d(x,w){if(!(this instanceof d))return new d(x,w);if(typeof x=="function"?(w||(w={}),w.regl=x):w=x,w.length&&(w.positions=w),x=w.regl,!x.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=x._gl,this.regl=x,this.passes=[],this.shaders=d.shaders.has(x)?d.shaders.get(x):d.shaders.set(x,d.createShaders(x)).get(x),this.update(w)}d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new n,d.createShaders=function(x){var w=x.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),_={primitive:"triangle strip",instances:x.prop("count"),count:4,offset:0,uniforms:{miterMode:function(s,M){return M.join==="round"?2:1},miterLimit:x.prop("miterLimit"),scale:x.prop("scale"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),thickness:x.prop("thickness"),dashTexture:x.prop("dashTexture"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),dashLength:x.prop("dashLength"),viewport:function(s,M){return[M.viewport.x,M.viewport.y,s.viewportWidth,s.viewportHeight]},depth:x.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(s,M){return!M.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:x.prop("viewport")},viewport:x.prop("viewport")},m=x(o({vert:l,frag:y,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},_)),E;try{E=x(o({cull:{enable:!0,face:"back"},vert:c,frag:i,attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:x.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:x.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:x.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},_))}catch{E=m}var A=x({primitive:"triangle",elements:function(s,M){return M.triangles},offset:0,vert:h,frag:T,uniforms:{scale:x.prop("scale"),color:x.prop("fill"),scaleFract:x.prop("scaleFract"),translateFract:x.prop("translateFract"),translate:x.prop("translate"),opacity:x.prop("opacity"),pixelRatio:x.context("pixelRatio"),id:x.prop("id"),viewport:function(s,M){return[M.viewport.x,M.viewport.y,s.viewportWidth,s.viewportHeight]}},attributes:{position:{buffer:x.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:x.prop("positionFractBuffer"),stride:8,offset:8}},blend:_.blend,depth:{enable:!1},scissor:_.scissor,stencil:_.stencil,viewport:_.viewport});return{fill:A,rect:m,miter:E}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var x,w=[],_=arguments.length;_--;)w[_]=arguments[_];w.length&&(x=this).update.apply(x,w),this.draw()},d.prototype.draw=function(){for(var x=this,w=[],_=arguments.length;_--;)w[_]=arguments[_];return(w.length?w:this.passes).forEach(function(m,E){var A;if(m&&Array.isArray(m))return(A=x).draw.apply(A,m);typeof m=="number"&&(m=x.passes[m]),m&&m.count>1&&m.opacity&&(x.regl._refresh(),m.fill&&m.triangles&&m.triangles.length>2&&x.shaders.fill(m),m.thickness&&(m.scale[0]*m.viewport.width>d.precisionThreshold||m.scale[1]*m.viewport.height>d.precisionThreshold||m.join==="rect"||!m.join&&(m.thickness<=2||m.count>=d.maxPoints)?x.shaders.rect(m):x.shaders.miter(m)))}),this},d.prototype.update=function(x){var w=this;if(x){x.length!=null?typeof x[0]=="number"&&(x=[{positions:x}]):Array.isArray(x)||(x=[x]);var _=this,m=_.regl,E=_.gl;if(x.forEach(function(N,k){var H=w.passes[k];if(N!==void 0){if(N===null){w.passes[k]=null;return}if(typeof N[0]=="number"&&(N={positions:N}),N=C(N,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),H||(w.passes[k]=H={id:k,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:m.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:m.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},N=o({},d.defaults,N)),N.thickness!=null&&(H.thickness=parseFloat(N.thickness)),N.opacity!=null&&(H.opacity=parseFloat(N.opacity)),N.miterLimit!=null&&(H.miterLimit=parseFloat(N.miterLimit)),N.overlay!=null&&(H.overlay=!!N.overlay,k<d.maxLines&&(H.depth=2*(d.maxLines-1-k%d.maxLines)/d.maxLines-1)),N.join!=null&&(H.join=N.join),N.hole!=null&&(H.hole=N.hole),N.fill!=null&&(H.fill=N.fill?p(N.fill,"uint8"):null),N.viewport!=null&&(H.viewport=f(N.viewport)),H.viewport||(H.viewport=f([E.drawingBufferWidth,E.drawingBufferHeight])),N.close!=null&&(H.close=N.close),N.positions===null&&(N.positions=[]),N.positions){var F,B;if(N.positions.x&&N.positions.y){var U=N.positions.x,z=N.positions.y;B=H.count=Math.max(U.length,z.length),F=new Float64Array(B*2);for(var W=0;W<B;W++)F[W*2]=U[W],F[W*2+1]=z[W]}else F=S(N.positions,"float64"),B=H.count=Math.floor(F.length/2);var j=H.bounds=L(F,2);if(H.fill){for(var ee=[],ie={},oe=0,he=0,ne=0,q=H.count;he<q;he++){var le=F[he*2],Q=F[he*2+1];isNaN(le)||isNaN(Q)||le==null||Q==null?(le=F[oe*2],Q=F[oe*2+1],ie[he]=oe):oe=he,ee[ne++]=le,ee[ne++]=Q}if(N.splitNull){H.count-1 in ie||(ie[H.count]=H.count-1);var te=Object.keys(ie).map(Number).sort(function(ge,we){return ge-we}),ue=[],J=0,K=H.hole!=null?H.hole[0]:null;if(K!=null){var ce=u(te,function(ge){return ge>=K});te=te.slice(0,ce),te.push(K)}for(var ae=function(ge){var we=ee.slice(J*2,te[ge]*2).concat(K?ee.slice(K*2):[]),Ue=(H.hole||[]).map(function(st){return st-K+(te[ge]-J)}),et=v(we,Ue);et=et.map(function(st){return st+J+(st+J<te[ge]?0:K-te[ge])}),ue.push.apply(ue,et),J=te[ge]+1},de=0;de<te.length;de++)ae(de);for(var be=0,Se=ue.length;be<Se;be++)ie[ue[be]]!=null&&(ue[be]=ie[ue[be]]);H.triangles=ue}else{for(var Te=v(ee,H.hole||[]),Ie=0,ke=Te.length;Ie<ke;Ie++)ie[Te[Ie]]!=null&&(Te[Ie]=ie[Te[Ie]]);H.triangles=Te}}var Be=new Float64Array(F);g(Be,2,j);var Me=new Float64Array(B*2+6);H.close?F[0]===F[B*2-2]&&F[1]===F[B*2-1]?(Me[0]=Be[B*2-4],Me[1]=Be[B*2-3]):(Me[0]=Be[B*2-2],Me[1]=Be[B*2-1]):(Me[0]=Be[0],Me[1]=Be[1]),Me.set(Be,2),H.close?F[0]===F[B*2-2]&&F[1]===F[B*2-1]?(Me[B*2+2]=Be[2],Me[B*2+3]=Be[3],H.count-=1):(Me[B*2+2]=Be[0],Me[B*2+3]=Be[1],Me[B*2+4]=Be[2],Me[B*2+5]=Be[3]):(Me[B*2+2]=Be[B*2-2],Me[B*2+3]=Be[B*2-1],Me[B*2+4]=Be[B*2-2],Me[B*2+5]=Be[B*2-1]);var Oe=t(Me);H.positionBuffer(Oe);var _e=a(Me,Oe);H.positionFractBuffer(_e)}if(N.range?H.range=N.range:H.range||(H.range=H.bounds),(N.range||N.positions)&&H.count){var Ne=H.bounds,Ce=Ne[2]-Ne[0],Ye=Ne[3]-Ne[1],rt=H.range[2]-H.range[0],ot=H.range[3]-H.range[1];H.scale=[Ce/rt,Ye/ot],H.translate=[-H.range[0]/rt+Ne[0]/rt||0,-H.range[1]/ot+Ne[1]/ot||0],H.scaleFract=a(H.scale),H.translateFract=a(H.translate)}if(N.dashes){var $e=0,qe;if(!N.dashes||N.dashes.length<2)$e=1,qe=new Uint8Array([255,255,255,255,255,255,255,255]);else{$e=0;for(var ht=0;ht<N.dashes.length;++ht)$e+=N.dashes[ht];qe=new Uint8Array($e*d.dashMult);for(var vt=0,pt=255,wt=0;wt<2;wt++)for(var Mt=0;Mt<N.dashes.length;++Mt){for(var nt=0,Fe=N.dashes[Mt]*d.dashMult*.5;nt<Fe;++nt)qe[vt++]=pt;pt^=255}}H.dashLength=$e,H.dashTexture({channels:1,data:qe,width:qe.length,height:1,mag:"linear",min:"linear"},0,0)}if(N.color){var We=H.count,Ze=N.color;Ze||(Ze="transparent");var Ge=new Uint8Array(We*4+4);if(!Array.isArray(Ze)||typeof Ze[0]=="number")for(var Pe=p(Ze,"uint8"),Re=0;Re<We+1;Re++)Ge.set(Pe,Re*4);else{for(var je=0;je<We;je++){var De=p(Ze[je],"uint8");Ge.set(De,je*4)}Ge.set(p(Ze[0],"uint8"),We*4)}H.colorBuffer({usage:"dynamic",type:"uint8",data:Ge})}}}),x.length<this.passes.length){for(var A=x.length;A<this.passes.length;A++){var s=this.passes[A];s&&(s.colorBuffer.destroy(),s.positionBuffer.destroy(),s.dashTexture.destroy())}this.passes.length=x.length}for(var M=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&M.push(this.passes[b]);return this.passes=M,this}},d.prototype.destroy=function(){return this.passes.forEach(function(x){x.colorBuffer.destroy(),x.positionBuffer.destroy(),x.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(V,Y,e){function p(s,M){var b=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(b!=null){var N,k,H,F,B=[],U=!0,z=!1;try{if(H=(b=b.call(s)).next,M!==0)for(;!(U=(N=H.call(b)).done)&&(B.push(N.value),B.length!==M);U=!0);}catch(W){z=!0,k=W}finally{try{if(!U&&b.return!=null&&(F=b.return(),Object(F)!==F))return}finally{if(z)throw k}}return B}}function L(s,M){return S(s)||p(s,M)||g(s,M)||a()}function o(s){return C(s)||v(s)||g(s)||t()}function C(s){if(Array.isArray(s))return r(s)}function S(s){if(Array.isArray(s))return s}function v(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function g(s,M){if(s){if(typeof s=="string")return r(s,M);var b=Object.prototype.toString.call(s).slice(8,-1);if(b==="Object"&&s.constructor&&(b=s.constructor.name),b==="Map"||b==="Set")return Array.from(s);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return r(s,M)}}function r(s,M){(M==null||M>s.length)&&(M=s.length);for(var b=0,N=new Array(M);b<M;b++)N[b]=s[b];return N}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(72160),f=e(76752),u=e(3808),l=e(3108),y=e(50896),h=e(26444),T=e(55616),c=e(45223),i=e(47520),d=e(96604),x=e(37816),w=e(51160),_=m;function m(s,M){var b=this;if(!(this instanceof m))return new m(s,M);typeof s=="function"?(M||(M={}),M.regl=s):(M=s,s=null),M&&M.length&&(M.positions=M),s=M.regl;var N=s._gl,k,H=[],F={},B=[],U=[null],z=[null],W=255,j=100;this.tooManyColors=d,k=s.texture({data:new Uint8Array(W*4),width:W,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:s,gl:N,groups:B,markerCache:z,markerTextures:U,palette:H,paletteIds:F,paletteTexture:k,maxColors:W,maxSize:j,canvas:N.canvas}),this.update(M);var ee={uniforms:{constPointSize:!!M.constPointSize,opacity:s.prop("opacity"),paletteSize:function(ne,q){return[b.tooManyColors?0:W,k.height]},pixelRatio:s.context("pixelRatio"),scale:s.prop("scale"),scaleFract:s.prop("scaleFract"),translate:s.prop("translate"),translateFract:s.prop("translateFract"),markerTexture:s.prop("markerTexture"),paletteTexture:k},attributes:{x:function(ne,q){return q.xAttr||{buffer:q.positionBuffer,stride:8,offset:0}},y:function(ne,q){return q.yAttr||{buffer:q.positionBuffer,stride:8,offset:4}},xFract:function(ne,q){return q.xAttr?{constant:[0,0]}:{buffer:q.positionFractBuffer,stride:8,offset:0}},yFract:function(ne,q){return q.yAttr?{constant:[0,0]}:{buffer:q.positionFractBuffer,stride:8,offset:4}},size:function(ne,q){return q.size.length?{buffer:q.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(q.size*255/b.maxSize)]}},borderSize:function(ne,q){return q.borderSize.length?{buffer:q.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(q.borderSize*255/b.maxSize)]}},colorId:function(ne,q){return q.color.length?{buffer:q.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?H.slice(q.color*4,q.color*4+4):[q.color]}},borderColorId:function(ne,q){return q.borderColor.length?{buffer:q.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?H.slice(q.borderColor*4,q.borderColor*4+4):[q.borderColor]}},isActive:function(ne,q){return q.activation===!0?{constant:[1]}:q.activation?q.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:s.prop("elements"),count:s.prop("count"),offset:s.prop("offset"),primitive:"points"},ie=y({},ee);ie.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ie.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=s(ie);var oe=y({},ee);oe.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),oe.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(oe.frag=oe.frag.replace("smoothstep","smoothStep"),ie.frag=ie.frag.replace("smoothstep","smoothStep")),this.drawCircle=s(oe)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var s=this,M=arguments.length,b=new Array(M),N=0;N<M;N++)b[N]=arguments[N];var k=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var H=0;H<b.length;H++)this.drawItem(H,b[H]);else k.forEach(function(F,B){s.drawItem(B)});return this},m.prototype.drawItem=function(s,M){var b=this.groups,N=b[s];if(typeof M=="number"&&(s=M,N=b[M],M=null),!!(N&&N.count&&N.opacity)){N.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,N,M));for(var k=[],H=1;H<N.activation.length;H++)!N.activation[H]||N.activation[H]!==!0&&!N.activation[H].data.length||k.push.apply(k,o(this.getMarkerDrawOptions(H,N,M)));k.length&&this.drawMarker(k)}},m.prototype.getMarkerDrawOptions=function(s,M,b){var N=M.range,k=M.tree,H=M.viewport,F=M.activation,B=M.selectionBuffer,U=M.count;if(this.regl,!k)return b?[y({},M,{markerTexture:this.markerTextures[s],activation:F[s],count:b.length,elements:b,offset:0})]:[y({},M,{markerTexture:this.markerTextures[s],activation:F[s],offset:0})];var z=[],W=k.range(N,{lod:!0,px:[(N[2]-N[0])/H.width,(N[3]-N[1])/H.height]});if(b){for(var j=F[s],ee=j.data,ie=new Uint8Array(U),oe=0;oe<b.length;oe++){var he=b[oe];ie[he]=ee?ee[he]:1}B.subdata(ie)}for(var ne=W.length;ne--;){var q=L(W[ne],2),le=q[0],Q=q[1];z.push(y({},M,{markerTexture:this.markerTextures[s],activation:b?B:F[s],offset:le,count:Q-le}))}return z},m.prototype.update=function(){for(var s=this,M=arguments.length,b=new Array(M),N=0;N<M;N++)b[N]=arguments[N];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var k=this.groups,H=this.gl,F=this.regl,B=this.maxSize,U=this.maxColors,z=this.palette;this.groups=k=b.map(function(W,j){var ee=k[j];if(W===void 0)return ee;W===null?W={positions:null}:typeof W=="function"?W={ondraw:W}:typeof W[0]=="number"&&(W={positions:W}),W=T(W,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),W.positions===null&&(W.positions=[]),W.tooManyColors!=null&&(s.tooManyColors=W.tooManyColors),ee||(k[j]=ee={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},W=y({},m.defaults,W)),W.positions&&!("marker"in W)&&(W.marker=ee.marker,delete ee.marker),W.marker&&!("positions"in W)&&(W.positions=ee.positions,delete ee.positions);var ie=0,oe=0;if(c(ee,W,[{snap:!0,size:function(Me,Oe){return Me==null&&(Me=m.defaults.size),ie+=Me&&Me.length?1:0,Me},borderSize:function(Me,Oe){return Me==null&&(Me=m.defaults.borderSize),ie+=Me&&Me.length?1:0,Me},opacity:parseFloat,color:function(Me,Oe){return Me==null&&(Me=m.defaults.color),Me=s.updateColor(Me),oe++,Me},borderColor:function(Me,Oe){return Me==null&&(Me=m.defaults.borderColor),Me=s.updateColor(Me),oe++,Me},bounds:function(Me,Oe,_e){return"range"in _e||(_e.range=null),Me},positions:function(Me,Oe,_e){var Ne=Oe.snap,Ce=Oe.positionBuffer,Ye=Oe.positionFractBuffer,rt=Oe.selectionBuffer;if(Me.x||Me.y)return Me.x.length?Oe.xAttr={buffer:F.buffer(Me.x),offset:0,stride:4,count:Me.x.length}:Oe.xAttr={buffer:Me.x.buffer,offset:Me.x.offset*4||0,stride:(Me.x.stride||1)*4,count:Me.x.count},Me.y.length?Oe.yAttr={buffer:F.buffer(Me.y),offset:0,stride:4,count:Me.y.length}:Oe.yAttr={buffer:Me.y.buffer,offset:Me.y.offset*4||0,stride:(Me.y.stride||1)*4,count:Me.y.count},Oe.count=Math.max(Oe.xAttr.count,Oe.yAttr.count),Me;Me=i(Me,"float64");var ot=Oe.count=Math.floor(Me.length/2),$e=Oe.bounds=ot?f(Me,2):null;if(!_e.range&&!Oe.range&&(delete Oe.range,_e.range=$e),!_e.marker&&!Oe.marker&&(delete Oe.marker,_e.marker=null),Ne&&(Ne===!0||ot>Ne)?Oe.tree=l(Me,{bounds:$e}):Ne&&Ne.length&&(Oe.tree=Ne),Oe.tree){var qe={primitive:"points",usage:"static",data:Oe.tree,type:"uint32"};Oe.elements?Oe.elements(qe):Oe.elements=F.elements(qe)}var ht=x.float32(Me);Ce({data:ht,usage:"dynamic"});var vt=x.fract32(Me,ht);return Ye({data:vt,usage:"dynamic"}),rt({data:new Uint8Array(ot),type:"uint8",usage:"stream"}),Me}},{marker:function(Me,Oe,_e){var Ne=Oe.activation;if(Ne.forEach(function(vt){return vt&&vt.destroy&&vt.destroy()}),Ne.length=0,!Me||typeof Me[0]=="number"){var Ce=s.addMarker(Me);Ne[Ce]=!0}else{for(var Ye=[],rt=0,ot=Math.min(Me.length,Oe.count);rt<ot;rt++){var $e=s.addMarker(Me[rt]);Ye[$e]||(Ye[$e]=new Uint8Array(Oe.count)),Ye[$e][rt]=1}for(var qe=0;qe<Ye.length;qe++)if(Ye[qe]){var ht={data:Ye[qe],type:"uint8",usage:"static"};Ne[qe]?Ne[qe](ht):Ne[qe]=F.buffer(ht),Ne[qe].data=Ye[qe]}}return Me},range:function(Me,Oe,_e){var Ne=Oe.bounds;if(Ne)return Me||(Me=Ne),Oe.scale=[1/(Me[2]-Me[0]),1/(Me[3]-Me[1])],Oe.translate=[-Me[0],-Me[1]],Oe.scaleFract=x.fract(Oe.scale),Oe.translateFract=x.fract(Oe.translate),Me},viewport:function(Me){var Oe=w(Me||[H.drawingBufferWidth,H.drawingBufferHeight]);return Oe}}]),ie){var he=ee,ne=he.count,q=he.size,le=he.borderSize,Q=he.sizeBuffer,te=new Uint8Array(ne*2);if(q.length||le.length)for(var ue=0;ue<ne;ue++)te[ue*2]=Math.round((q[ue]==null?q:q[ue])*255/B),te[ue*2+1]=Math.round((le[ue]==null?le:le[ue])*255/B);Q({data:te,usage:"dynamic"})}if(oe){var J=ee,K=J.count,ce=J.color,ae=J.borderColor,de=J.colorBuffer,be;if(s.tooManyColors){if(ce.length||ae.length){be=new Uint8Array(K*8);for(var Se=0;Se<K;Se++){var Te=ce[Se];be[Se*8]=z[Te*4],be[Se*8+1]=z[Te*4+1],be[Se*8+2]=z[Te*4+2],be[Se*8+3]=z[Te*4+3];var Ie=ae[Se];be[Se*8+4]=z[Ie*4],be[Se*8+5]=z[Ie*4+1],be[Se*8+6]=z[Ie*4+2],be[Se*8+7]=z[Ie*4+3]}}}else if(ce.length||ae.length){be=new Uint8Array(K*4+2);for(var ke=0;ke<K;ke++)ce[ke]!=null&&(be[ke*4]=ce[ke]%U,be[ke*4+1]=Math.floor(ce[ke]/U)),ae[ke]!=null&&(be[ke*4+2]=ae[ke]%U,be[ke*4+3]=Math.floor(ae[ke]/U))}de({data:be||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return ee})}},m.prototype.addMarker=function(s){var M=this.markerTextures,b=this.regl,N=this.markerCache,k=s==null?0:N.indexOf(s);if(k>=0)return k;var H;if(s instanceof Uint8Array||s instanceof Uint8ClampedArray)H=s;else{H=new Uint8Array(s.length);for(var F=0,B=s.length;F<B;F++)H[F]=s[F]*255}var U=Math.floor(Math.sqrt(H.length));return k=M.length,N.push(s),M.push(b.texture({channels:1,data:H,radius:U,mag:"linear",min:"linear"})),k},m.prototype.updateColor=function(s){var M=this.paletteIds,b=this.palette,N=this.maxColors;Array.isArray(s)||(s=[s]);var k=[];if(typeof s[0]=="number"){var H=[];if(Array.isArray(s))for(var F=0;F<s.length;F+=4)H.push(s.slice(F,F+4));else for(var B=0;B<s.length;B+=4)H.push(s.subarray(B,B+4));s=H}for(var U=0;U<s.length;U++){var z=s[U];z=n(z,"uint8");var W=u(z,!1);if(M[W]==null){var j=b.length;M[W]=Math.floor(j/4),b[j]=z[0],b[j+1]=z[1],b[j+2]=z[2],b[j+3]=z[3]}k[U]=M[W]}return!this.tooManyColors&&b.length>N*4&&(this.tooManyColors=!0),this.updatePalette(b),k.length===1?k[0]:k},m.prototype.updatePalette=function(s){if(!this.tooManyColors){var M=this.maxColors,b=this.paletteTexture,N=Math.ceil(s.length*.25/M);if(N>1){s=s.slice();for(var k=s.length*.25%M;k<N*M;k++)s.push(0,0,0,0)}b.height<N&&b.resize(M,N),b.subimage({width:Math.min(s.length*.25,M),height:N,data:s},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(s){s.sizeBuffer.destroy(),s.positionBuffer.destroy(),s.positionFractBuffer.destroy(),s.colorBuffer.destroy(),s.activation.forEach(function(M){return M&&M.destroy&&M.destroy()}),s.selectionBuffer.destroy(),s.elements&&s.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(s){return s&&s.destroy&&s.destroy()}),this};var E=e(50896),A=function(M,b){var N=new _(M,b),k=N.render.bind(N);return E(k,{render:k,update:N.update.bind(N),draw:N.draw.bind(N),destroy:N.destroy.bind(N),regl:N.regl,gl:N.gl,canvas:N.gl.canvas,groups:N.groups,markers:N.markerCache,palette:N.palette}),k};V.exports=A},55795:function(V,Y,e){var p=e(38540),L=e(55616),o=e(76752),C=e(3951),S=e(67752),v=e(51160),g=e(47520);V.exports=r;function r(f,u){if(!(this instanceof r))return new r(f);this.traces=[],this.passes={},this.regl=f,this.scatter=p(f),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var f=this,u,l=[],y=arguments.length;y--;)l[y]=arguments[y];return l.length&&(u=this).update.apply(u,l),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){f.draw(),f.dirty=!0,f.planned=null})):(this.draw(),this.dirty=!0,C(function(){f.dirty=!1})),this)},r.prototype.update=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(u.length){for(var y=0;y<u.length;y++)this.updateItem(y,u[y]);this.traces=this.traces.filter(Boolean);for(var h=[],T=0,c=0;c<this.traces.length;c++){for(var i=this.traces[c],d=this.traces[c].passes,x=0;x<d.length;x++)h.push(this.passes[d[x]]);i.passOffset=T,T+=i.passes.length}return(f=this.scatter).update.apply(f,h),this}},r.prototype.updateItem=function(f,u){var l=this,y=l.regl;if(u===null)return this.traces[f]=null,this;if(!u)return this;var h=L(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),T=this.traces[f]||(this.traces[f]={id:f,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(T.color=h.color),h.size!=null&&(T.size=h.size),h.marker!=null&&(T.marker=h.marker),h.borderColor!=null&&(T.borderColor=h.borderColor),h.borderSize!=null&&(T.borderSize=h.borderSize),h.opacity!=null&&(T.opacity=h.opacity),h.viewport&&(T.viewport=v(h.viewport)),h.diagonal!=null&&(T.diagonal=h.diagonal),h.upper!=null&&(T.upper=h.upper),h.lower!=null&&(T.lower=h.lower),h.data){T.buffer(g(h.data)),T.columns=h.data.length,T.count=h.data[0].length,T.bounds=[];for(var c=0;c<T.columns;c++)T.bounds[c]=o(h.data[c],1)}var i;h.range&&(T.range=h.range,i=T.range&&typeof T.range[0]!="number"),h.domain&&(T.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===T.columns&&typeof h.padding[h.padding.length-1]=="number"?(T.padding=h.padding.map(n),d=!0):T.padding=n(h.padding));var x=T.columns,w=T.count,_=T.viewport.width,m=T.viewport.height,E=T.viewport.x,A=T.viewport.y,s=_/x,M=m/x;T.passes=[];for(var b=0;b<x;b++)for(var N=0;N<x;N++)if(!(!T.diagonal&&N===b)&&!(!T.upper&&b>N)&&!(!T.lower&&b<N)){var k=t(T.id,b,N),H=this.passes[k]||(this.passes[k]={});if(h.data&&(h.transpose?H.positions={x:{buffer:T.buffer,offset:N,count:w,stride:x},y:{buffer:T.buffer,offset:b,count:w,stride:x}}:H.positions={x:{buffer:T.buffer,offset:N*w,count:w},y:{buffer:T.buffer,offset:b*w,count:w}},H.bounds=a(T.bounds,b,N)),h.domain||h.viewport||h.data){var F=d?a(T.padding,b,N):T.padding;if(T.domain){var B=a(T.domain,b,N),U=B[0],z=B[1],W=B[2],j=B[3];H.viewport=[E+U*_+F[0],A+z*m+F[1],E+W*_-F[2],A+j*m-F[3]]}else H.viewport=[E+N*s+s*F[0],A+b*M+M*F[1],E+(N+1)*s-s*F[2],A+(b+1)*M-M*F[3]]}h.color&&(H.color=T.color),h.size&&(H.size=T.size),h.marker&&(H.marker=T.marker),h.borderSize&&(H.borderSize=T.borderSize),h.borderColor&&(H.borderColor=T.borderColor),h.opacity&&(H.opacity=T.opacity),h.range&&(H.range=i?a(T.range,b,N):T.range||H.bounds),T.passes.push(k)}return this},r.prototype.draw=function(){for(var f,u=[],l=arguments.length;l--;)u[l]=arguments[l];if(!u.length)this.scatter.draw();else{for(var y=[],h=0;h<u.length;h++)if(typeof u[h]=="number"){var T=this.traces[u[h]],c=T.passes,i=T.passOffset;y.push.apply(y,S(i,i+c.length))}else if(u[h].length){var d=u[h],x=this.traces[h],w=x.passes,_=x.passOffset;w=w.map(function(m,E){y[_+E]=d})}(f=this.scatter).draw.apply(f,y)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(f){f.buffer&&f.buffer.destroy&&f.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(f,u,l){var y=f.id!=null?f.id:f,h=u,T=l,c=y<<16|(h&255)<<8|T&255;return c}function a(f,u,l){var y,h,T,c,i=f[u],d=f[l];return i.length>2?(i[0],i[2],y=i[1],h=i[3]):i.length?(y=i[0],h=i[1]):(i.x,y=i.y,i.x+i.width,h=i.y+i.height),d.length>2?(T=d[0],c=d[2],d[1],d[3]):d.length?(T=d[0],c=d[1]):(T=d.x,d.y,c=d.x+d.width,d.y+d.height),[T,y,c,h]}function n(f){if(typeof f=="number")return[f,f,f,f];if(f.length===2)return[f[0],f[1],f[0],f[1]];var u=v(f);return[u.x,u.y,u.x+u.width,u.y+u.height]}},28624:function(V){(function(Y,e){V.exports=e()})(this,function(){function Y(gt,Kt){this.id=de++,this.type=gt,this.data=Kt}function e(gt){if(gt.length===0)return[];var Kt=gt.charAt(0),$t=gt.charAt(gt.length-1);if(1<gt.length&&Kt===$t&&(Kt==='"'||Kt==="'"))return['"'+gt.substr(1,gt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Kt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(gt))return e(gt.substr(0,Kt.index)).concat(e(Kt[1])).concat(e(gt.substr(Kt.index+Kt[0].length)));if(Kt=gt.split("."),Kt.length===1)return['"'+gt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(gt=[],$t=0;$t<Kt.length;++$t)gt=gt.concat(e(Kt[$t]));return gt}function p(gt){return"["+e(gt).join("][")+"]"}function L(gt,Kt){if(typeof gt=="function")return new Y(0,gt);if(typeof gt=="number"||typeof gt=="boolean")return new Y(5,gt);if(Array.isArray(gt))return new Y(6,gt.map(function($t,br){return L($t)}));if(gt instanceof Y)return gt}function o(){var gt={"":0},Kt=[""];return{id:function($t){var br=gt[$t];return br||(br=gt[$t]=Kt.length,Kt.push($t),br)},str:function($t){return Kt[$t]}}}function C(gt,Kt,$t){function br(){var ut=window.innerWidth,bt=window.innerHeight;gt!==document.body&&(bt=lr.getBoundingClientRect(),ut=bt.right-bt.left,bt=bt.bottom-bt.top),lr.width=$t*ut,lr.height=$t*bt}var lr=document.createElement("canvas");ae(lr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),gt.appendChild(lr),gt===document.body&&(lr.style.position="absolute",ae(gt.style,{margin:0,padding:0}));var mt;return gt!==document.body&&typeof ResizeObserver=="function"?(mt=new ResizeObserver(function(){setTimeout(br)}),mt.observe(gt)):window.addEventListener("resize",br,!1),br(),{canvas:lr,onDestroy:function(){mt?mt.disconnect():window.removeEventListener("resize",br),gt.removeChild(lr)}}}function S(gt,Kt){function $t(br){try{return gt.getContext(br,Kt)}catch{return null}}return $t("webgl")||$t("experimental-webgl")||$t("webgl-experimental")}function v(gt){return typeof gt=="string"?gt.split():gt}function g(gt){return typeof gt=="string"?document.querySelector(gt):gt}function r(gt){var Kt=gt||{},$t,br,lr,mt;gt={};var ut=[],bt=[],Et=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Yt={},Bt=function(Jt){},Ut=function(){};if(typeof Kt=="string"?$t=document.querySelector(Kt):typeof Kt=="object"&&(typeof Kt.nodeName=="string"&&typeof Kt.appendChild=="function"&&typeof Kt.getBoundingClientRect=="function"?$t=Kt:typeof Kt.drawArrays=="function"||typeof Kt.drawElements=="function"?(mt=Kt,lr=mt.canvas):("gl"in Kt?mt=Kt.gl:"canvas"in Kt?lr=g(Kt.canvas):"container"in Kt&&(br=g(Kt.container)),"attributes"in Kt&&(gt=Kt.attributes),"extensions"in Kt&&(ut=v(Kt.extensions)),"optionalExtensions"in Kt&&(bt=v(Kt.optionalExtensions)),"onDone"in Kt&&(Bt=Kt.onDone),"profile"in Kt&&(Dt=!!Kt.profile),"pixelRatio"in Kt&&(Et=+Kt.pixelRatio),"cachedCode"in Kt&&(Yt=Kt.cachedCode))),$t&&($t.nodeName.toLowerCase()==="canvas"?lr=$t:br=$t),!mt){if(!lr){if($t=C(br||document.body,Bt,Et),!$t)return null;lr=$t.canvas,Ut=$t.onDestroy}gt.premultipliedAlpha===void 0&&(gt.premultipliedAlpha=!0),mt=S(lr,gt)}return mt?{gl:mt,canvas:lr,container:br,extensions:ut,optionalExtensions:bt,pixelRatio:Et,profile:Dt,cachedCode:Yt,onDone:Bt,onDestroy:Ut}:(Ut(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(gt,Kt){function $t(ut){ut=ut.toLowerCase();var bt;try{bt=br[ut]=gt.getExtension(ut)}catch{}return!!bt}for(var br={},lr=0;lr<Kt.extensions.length;++lr){var mt=Kt.extensions[lr];if(!$t(mt))return Kt.onDestroy(),Kt.onDone('"'+mt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Kt.optionalExtensions.forEach($t),{extensions:br,restore:function(){Object.keys(br).forEach(function(ut){if(br[ut]&&!$t(ut))throw Error("(regl): error restoring extension "+ut)})}}}function a(gt,Kt){for(var $t=Array(gt),br=0;br<gt;++br)$t[br]=Kt(br);return $t}function n(gt){var Kt,$t;return Kt=(65535<gt)<<4,gt>>>=Kt,$t=(255<gt)<<3,gt>>>=$t,Kt|=$t,$t=(15<gt)<<2,gt>>>=$t,Kt|=$t,$t=(3<gt)<<1,Kt|$t|gt>>>$t>>1}function f(){function gt(br){e:{for(var lr=16;268435456>=lr;lr*=16)if(br<=lr){br=lr;break e}br=0}return lr=$t[n(br)>>2],0<lr.length?lr.pop():new ArrayBuffer(br)}function Kt(br){$t[n(br.byteLength)>>2].push(br)}var $t=a(8,function(){return[]});return{alloc:gt,free:Kt,allocType:function(br,lr){var mt=null;switch(br){case 5120:mt=new Int8Array(gt(lr),0,lr);break;case 5121:mt=new Uint8Array(gt(lr),0,lr);break;case 5122:mt=new Int16Array(gt(2*lr),0,lr);break;case 5123:mt=new Uint16Array(gt(2*lr),0,lr);break;case 5124:mt=new Int32Array(gt(4*lr),0,lr);break;case 5125:mt=new Uint32Array(gt(4*lr),0,lr);break;case 5126:mt=new Float32Array(gt(4*lr),0,lr);break;default:return null}return mt.length!==lr?mt.subarray(0,lr):mt},freeType:function(br){Kt(br.buffer)}}}function u(gt){return!!gt&&typeof gt=="object"&&Array.isArray(gt.shape)&&Array.isArray(gt.stride)&&typeof gt.offset=="number"&&gt.shape.length===gt.stride.length&&(Array.isArray(gt.data)||Be(gt.data))}function l(gt,Kt,$t,br,lr,mt){for(var ut=0;ut<Kt;++ut)for(var bt=gt[ut],Et=0;Et<$t;++Et)for(var Dt=bt[Et],Yt=0;Yt<br;++Yt)lr[mt++]=Dt[Yt]}function y(gt,Kt,$t,br,lr){for(var mt=1,ut=$t+1;ut<Kt.length;++ut)mt*=Kt[ut];var bt=Kt[$t];if(Kt.length-$t===4){var Et=Kt[$t+1],Dt=Kt[$t+2];for(Kt=Kt[$t+3],ut=0;ut<bt;++ut)l(gt[ut],Et,Dt,Kt,br,lr),lr+=mt}else for(ut=0;ut<bt;++ut)y(gt[ut],Kt,$t+1,br,lr),lr+=mt}function h(gt){return _e[Object.prototype.toString.call(gt)]|0}function T(gt,Kt){for(var $t=0;$t<Kt.length;++$t)gt[$t]=Kt[$t]}function c(gt,Kt,$t,br,lr,mt,ut){for(var bt=0,Et=0;Et<$t;++Et)for(var Dt=0;Dt<br;++Dt)gt[bt++]=Kt[lr*Et+mt*Dt+ut]}function i(gt,Kt,$t,br){function lr(Bt){this.id=Et++,this.buffer=gt.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,$t.profile&&(this.stats={size:0})}function mt(Bt,Ut,Jt){Bt.byteLength=Ut.byteLength,gt.bufferData(Bt.type,Ut,Jt)}function ut(Bt,Ut,Jt,hr,vr,gr){if(Bt.usage=Jt,Array.isArray(Ut)){if(Bt.dtype=hr||5126,0<Ut.length)if(Array.isArray(Ut[0])){vr=rt(Ut);for(var Xe=hr=1;Xe<vr.length;++Xe)hr*=vr[Xe];Bt.dimension=hr,Ut=Ye(Ut,vr,Bt.dtype),mt(Bt,Ut,Jt),gr?Bt.persistentData=Ut:Ie.freeType(Ut)}else typeof Ut[0]=="number"?(Bt.dimension=vr,vr=Ie.allocType(Bt.dtype,Ut.length),T(vr,Ut),mt(Bt,vr,Jt),gr?Bt.persistentData=vr:Ie.freeType(vr)):Be(Ut[0])&&(Bt.dimension=Ut[0].length,Bt.dtype=hr||h(Ut[0])||5126,Ut=Ye(Ut,[Ut.length,Ut[0].length],Bt.dtype),mt(Bt,Ut,Jt),gr?Bt.persistentData=Ut:Ie.freeType(Ut))}else if(Be(Ut))Bt.dtype=hr||h(Ut),Bt.dimension=vr,mt(Bt,Ut,Jt),gr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Ut.buffer)));else if(u(Ut)){vr=Ut.shape;var He=Ut.stride,Xe=Ut.offset,Nt=0,Pt=0,Qt=0,ur=0;vr.length===1?(Nt=vr[0],Pt=1,Qt=He[0],ur=0):vr.length===2&&(Nt=vr[0],Pt=vr[1],Qt=He[0],ur=He[1]),Bt.dtype=hr||h(Ut.data)||5126,Bt.dimension=Pt,vr=Ie.allocType(Bt.dtype,Nt*Pt),c(vr,Ut.data,Nt,Pt,Qt,ur,Xe),mt(Bt,vr,Jt),gr?Bt.persistentData=vr:Ie.freeType(vr)}else Ut instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=vr,mt(Bt,Ut,Jt),gr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Ut))))}function bt(Bt){Kt.bufferCount--,br(Bt),gt.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var Et=0,Dt={};lr.prototype.bind=function(){gt.bindBuffer(this.type,this.buffer)},lr.prototype.destroy=function(){bt(this)};var Yt=[];return $t.profile&&(Kt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(Ut){Bt+=Dt[Ut].stats.size}),Bt}),{create:function(Bt,Ut,Jt,hr){function vr(Xe){var He=35044,Nt=null,Pt=0,Qt=0,ur=1;return Array.isArray(Xe)||Be(Xe)||u(Xe)||Xe instanceof ArrayBuffer?Nt=Xe:typeof Xe=="number"?Pt=Xe|0:Xe&&("data"in Xe&&(Nt=Xe.data),"usage"in Xe&&(He=Ce[Xe.usage]),"type"in Xe&&(Qt=Ne[Xe.type]),"dimension"in Xe&&(ur=Xe.dimension|0),"length"in Xe&&(Pt=Xe.length|0)),gr.bind(),Nt?ut(gr,Nt,He,Qt,ur,hr):(Pt&&gt.bufferData(gr.type,Pt,He),gr.dtype=Qt||5121,gr.usage=He,gr.dimension=ur,gr.byteLength=Pt),$t.profile&&(gr.stats.size=gr.byteLength*ot[gr.dtype]),vr}Kt.bufferCount++;var gr=new lr(Ut);return Dt[gr.id]=gr,Jt||vr(Bt),vr._reglType="buffer",vr._buffer=gr,vr.subdata=function(Xe,He){var Nt=(He||0)|0,Pt;if(gr.bind(),Be(Xe)||Xe instanceof ArrayBuffer)gt.bufferSubData(gr.type,Nt,Xe);else if(Array.isArray(Xe)){if(0<Xe.length)if(typeof Xe[0]=="number"){var Qt=Ie.allocType(gr.dtype,Xe.length);T(Qt,Xe),gt.bufferSubData(gr.type,Nt,Qt),Ie.freeType(Qt)}else(Array.isArray(Xe[0])||Be(Xe[0]))&&(Pt=rt(Xe),Qt=Ye(Xe,Pt,gr.dtype),gt.bufferSubData(gr.type,Nt,Qt),Ie.freeType(Qt))}else if(u(Xe)){Pt=Xe.shape;var ur=Xe.stride,cr=Qt=0,tr=0,zt=0;Pt.length===1?(Qt=Pt[0],cr=1,tr=ur[0],zt=0):Pt.length===2&&(Qt=Pt[0],cr=Pt[1],tr=ur[0],zt=ur[1]),Pt=Array.isArray(Xe.data)?gr.dtype:h(Xe.data),Pt=Ie.allocType(Pt,Qt*cr),c(Pt,Xe.data,Qt,cr,tr,zt,Xe.offset),gt.bufferSubData(gr.type,Nt,Pt),Ie.freeType(Pt)}return vr},$t.profile&&(vr.stats=gr.stats),vr.destroy=function(){bt(gr)},vr},createStream:function(Bt,Ut){var Jt=Yt.pop();return Jt||(Jt=new lr(Bt)),Jt.bind(),ut(Jt,Ut,35040,0,1,!1),Jt},destroyStream:function(Bt){Yt.push(Bt)},clear:function(){Me(Dt).forEach(bt),Yt.forEach(bt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof lr?Bt._buffer:null},restore:function(){Me(Dt).forEach(function(Bt){Bt.buffer=gt.createBuffer(),gt.bindBuffer(Bt.type,Bt.buffer),gt.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:ut}}function d(gt,Kt,$t,br){function lr(Bt){this.id=Et++,bt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function mt(Bt,Ut,Jt,hr,vr,gr,Xe){Bt.buffer.bind();var He;if(Ut?((He=Xe)||Be(Ut)&&(!u(Ut)||Be(Ut.data))||(He=Kt.oes_element_index_uint?5125:5123),$t._initBuffer(Bt.buffer,Ut,Jt,He,3)):(gt.bufferData(34963,gr,Jt),Bt.buffer.dtype=He||5121,Bt.buffer.usage=Jt,Bt.buffer.dimension=3,Bt.buffer.byteLength=gr),He=Xe,!Xe){switch(Bt.buffer.dtype){case 5121:case 5120:He=5121;break;case 5123:case 5122:He=5123;break;case 5125:case 5124:He=5125}Bt.buffer.dtype=He}Bt.type=He,Ut=vr,0>Ut&&(Ut=Bt.buffer.byteLength,He===5123?Ut>>=1:He===5125&&(Ut>>=2)),Bt.vertCount=Ut,Ut=hr,0>hr&&(Ut=4,hr=Bt.buffer.dimension,hr===1&&(Ut=0),hr===2&&(Ut=1),hr===3&&(Ut=4)),Bt.primType=Ut}function ut(Bt){br.elementsCount--,delete bt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var bt={},Et=0,Dt={uint8:5121,uint16:5123};Kt.oes_element_index_uint&&(Dt.uint32=5125),lr.prototype.bind=function(){this.buffer.bind()};var Yt=[];return{create:function(Bt,Ut){function Jt(gr){if(gr)if(typeof gr=="number")hr(gr),vr.primType=4,vr.vertCount=gr|0,vr.type=5121;else{var Xe=null,He=35044,Nt=-1,Pt=-1,Qt=0,ur=0;Array.isArray(gr)||Be(gr)||u(gr)?Xe=gr:("data"in gr&&(Xe=gr.data),"usage"in gr&&(He=Ce[gr.usage]),"primitive"in gr&&(Nt=$e[gr.primitive]),"count"in gr&&(Pt=gr.count|0),"type"in gr&&(ur=Dt[gr.type]),"length"in gr?Qt=gr.length|0:(Qt=Pt,ur===5123||ur===5122?Qt*=2:(ur===5125||ur===5124)&&(Qt*=4))),mt(vr,Xe,He,Nt,Pt,Qt,ur)}else hr(),vr.primType=4,vr.vertCount=0,vr.type=5121;return Jt}var hr=$t.create(null,34963,!0),vr=new lr(hr._buffer);return br.elementsCount++,Jt(Bt),Jt._reglType="elements",Jt._elements=vr,Jt.subdata=function(gr,Xe){return hr.subdata(gr,Xe),Jt},Jt.destroy=function(){ut(vr)},Jt},createStream:function(Bt){var Ut=Yt.pop();return Ut||(Ut=new lr($t.create(null,34963,!0,!1)._buffer)),mt(Ut,Bt,35040,-1,-1,0,0),Ut},destroyStream:function(Bt){Yt.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof lr?Bt._elements:null},clear:function(){Me(bt).forEach(ut)}}}function x(gt){for(var Kt=Ie.allocType(5123,gt.length),$t=0;$t<gt.length;++$t)if(isNaN(gt[$t]))Kt[$t]=65535;else if(gt[$t]===1/0)Kt[$t]=31744;else if(gt[$t]===-1/0)Kt[$t]=64512;else{qe[0]=gt[$t];var mt=ht[0],br=mt>>>31<<15,lr=(mt<<1>>>24)-127,mt=mt>>13&1023;Kt[$t]=-24>lr?br:-14>lr?br+(mt+1024>>-14-lr):15<lr?br+31744:br+(lr+15<<10)+mt}return Kt}function w(gt){return Array.isArray(gt)||Be(gt)}function _(gt){return"[object "+gt+"]"}function m(gt){return Array.isArray(gt)&&(gt.length===0||typeof gt[0]=="number")}function E(gt){return!!(Array.isArray(gt)&&gt.length!==0&&w(gt[0]))}function A(gt){return Object.prototype.toString.call(gt)}function s(gt){if(!gt)return!1;var Kt=A(gt);return 0<=Pe.indexOf(Kt)?!0:m(gt)||E(gt)||u(gt)}function M(gt,Kt){gt.type===36193?(gt.data=x(Kt),Ie.freeType(Kt)):gt.data=Kt}function b(gt,Kt,$t,br,lr,mt){if(gt=typeof je[gt]<"u"?je[gt]:wt[gt]*Re[Kt],mt&&(gt*=6),lr){for(br=0;1<=$t;)br+=gt*$t*$t,$t/=2;return br}return gt*$t*br}function N(gt,Kt,$t,br,lr,mt,ut){function bt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Et(xr,nn){xr.internalformat=nn.internalformat,xr.format=nn.format,xr.type=nn.type,xr.compressed=nn.compressed,xr.premultiplyAlpha=nn.premultiplyAlpha,xr.flipY=nn.flipY,xr.unpackAlignment=nn.unpackAlignment,xr.colorSpace=nn.colorSpace,xr.width=nn.width,xr.height=nn.height,xr.channels=nn.channels}function Dt(xr,nn){if(typeof nn=="object"&&nn){"premultiplyAlpha"in nn&&(xr.premultiplyAlpha=nn.premultiplyAlpha),"flipY"in nn&&(xr.flipY=nn.flipY),"alignment"in nn&&(xr.unpackAlignment=nn.alignment),"colorSpace"in nn&&(xr.colorSpace=ln[nn.colorSpace]),"type"in nn&&(xr.type=an[nn.type]);var qr=xr.width,gn=xr.height,Un=xr.channels,An=!1;"shape"in nn?(qr=nn.shape[0],gn=nn.shape[1],nn.shape.length===3&&(Un=nn.shape[2],An=!0)):("radius"in nn&&(qr=gn=nn.radius),"width"in nn&&(qr=nn.width),"height"in nn&&(gn=nn.height),"channels"in nn&&(Un=nn.channels,An=!0)),xr.width=qr|0,xr.height=gn|0,xr.channels=Un|0,qr=!1,"format"in nn&&(qr=nn.format,gn=xr.internalformat=_n[qr],xr.format=Rn[gn],qr in an&&!("type"in nn)&&(xr.type=an[qr]),qr in Mn&&(xr.compressed=!0),qr=!0),!An&&qr?xr.channels=wt[xr.format]:An&&!qr&&xr.channels!==pt[xr.format]&&(xr.format=xr.internalformat=pt[xr.channels])}}function Yt(xr){gt.pixelStorei(37440,xr.flipY),gt.pixelStorei(37441,xr.premultiplyAlpha),gt.pixelStorei(37443,xr.colorSpace),gt.pixelStorei(3317,xr.unpackAlignment)}function Bt(){bt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ut(xr,nn){var qr=null;if(s(nn)?qr=nn:nn&&(Dt(xr,nn),"x"in nn&&(xr.xOffset=nn.x|0),"y"in nn&&(xr.yOffset=nn.y|0),s(nn.data)&&(qr=nn.data)),nn.copy){var gn=lr.viewportWidth,Un=lr.viewportHeight;xr.width=xr.width||gn-xr.xOffset,xr.height=xr.height||Un-xr.yOffset,xr.needsCopy=!0}else if(!qr)xr.width=xr.width||1,xr.height=xr.height||1,xr.channels=xr.channels||4;else if(Be(qr))xr.channels=xr.channels||4,xr.data=qr,"type"in nn||xr.type!==5121||(xr.type=_e[Object.prototype.toString.call(qr)]|0);else if(m(qr)){switch(xr.channels=xr.channels||4,gn=qr,Un=gn.length,xr.type){case 5121:case 5123:case 5125:case 5126:Un=Ie.allocType(xr.type,Un),Un.set(gn),xr.data=Un;break;case 36193:xr.data=x(gn)}xr.alignment=1,xr.needsFree=!0}else if(u(qr)){gn=qr.data,Array.isArray(gn)||xr.type!==5121||(xr.type=_e[Object.prototype.toString.call(gn)]|0);var Un=qr.shape,An=qr.stride,En,Vn,ta,ga;Un.length===3?(ta=Un[2],ga=An[2]):ga=ta=1,En=Un[0],Vn=Un[1],Un=An[0],An=An[1],xr.alignment=1,xr.width=En,xr.height=Vn,xr.channels=ta,xr.format=xr.internalformat=pt[ta],xr.needsFree=!0,En=ga,qr=qr.offset,ta=xr.width,ga=xr.height,Vn=xr.channels;for(var Na=Ie.allocType(xr.type===36193?5126:xr.type,ta*ga*Vn),_r=0,Br=0;Br<ga;++Br)for(var Mr=0;Mr<ta;++Mr)for(var Ur=0;Ur<Vn;++Ur)Na[_r++]=gn[Un*Mr+An*Br+En*Ur+qr];M(xr,Na)}else if(A(qr)===Mt||A(qr)===nt||A(qr)===Fe)A(qr)===Mt||A(qr)===nt?xr.element=qr:xr.element=qr.canvas,xr.width=xr.element.width,xr.height=xr.element.height,xr.channels=4;else if(A(qr)===We)xr.element=qr,xr.width=qr.width,xr.height=qr.height,xr.channels=4;else if(A(qr)===Ze)xr.element=qr,xr.width=qr.naturalWidth,xr.height=qr.naturalHeight,xr.channels=4;else if(A(qr)===Ge)xr.element=qr,xr.width=qr.videoWidth,xr.height=qr.videoHeight,xr.channels=4;else if(E(qr)){for(gn=xr.width||qr[0].length,Un=xr.height||qr.length,An=xr.channels,An=w(qr[0][0])?An||qr[0][0].length:An||1,En=Oe.shape(qr),ta=1,ga=0;ga<En.length;++ga)ta*=En[ga];ta=Ie.allocType(xr.type===36193?5126:xr.type,ta),Oe.flatten(qr,En,"",ta),M(xr,ta),xr.alignment=1,xr.width=gn,xr.height=Un,xr.channels=An,xr.format=xr.internalformat=pt[An],xr.needsFree=!0}}function Jt(xr,nn,qr,gn,Un){var An=xr.element,En=xr.data,Vn=xr.internalformat,ta=xr.format,ga=xr.type,Na=xr.width,_r=xr.height;Yt(xr),An?gt.texSubImage2D(nn,Un,qr,gn,ta,ga,An):xr.compressed?gt.compressedTexSubImage2D(nn,Un,qr,gn,Vn,Na,_r,En):xr.needsCopy?(br(),gt.copyTexSubImage2D(nn,Un,qr,gn,xr.xOffset,xr.yOffset,Na,_r)):gt.texSubImage2D(nn,Un,qr,gn,Na,_r,ta,ga,En)}function hr(){return Gn.pop()||new Bt}function vr(xr){xr.needsFree&&Ie.freeType(xr.data),Bt.call(xr),Gn.push(xr)}function gr(){bt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Xe(xr,nn,qr){var gn=xr.images[0]=hr();xr.mipmask=1,gn.width=xr.width=nn,gn.height=xr.height=qr,gn.channels=xr.channels=4}function He(xr,nn){var qr=null;if(s(nn))qr=xr.images[0]=hr(),Et(qr,xr),Ut(qr,nn),xr.mipmask=1;else if(Dt(xr,nn),Array.isArray(nn.mipmap))for(var gn=nn.mipmap,Un=0;Un<gn.length;++Un)qr=xr.images[Un]=hr(),Et(qr,xr),qr.width>>=Un,qr.height>>=Un,Ut(qr,gn[Un]),xr.mipmask|=1<<Un;else qr=xr.images[0]=hr(),Et(qr,xr),Ut(qr,nn),xr.mipmask=1;Et(xr,xr.images[0])}function Nt(xr,nn){for(var qr=xr.images,gn=0;gn<qr.length&&qr[gn];++gn){var Un=qr[gn],An=nn,En=gn,Vn=Un.element,ta=Un.data,ga=Un.internalformat,Na=Un.format,_r=Un.type,Br=Un.width,Mr=Un.height;Yt(Un),Vn?gt.texImage2D(An,En,Na,Na,_r,Vn):Un.compressed?gt.compressedTexImage2D(An,En,ga,Br,Mr,0,ta):Un.needsCopy?(br(),gt.copyTexImage2D(An,En,Na,Un.xOffset,Un.yOffset,Br,Mr,0)):gt.texImage2D(An,En,Na,Br,Mr,0,Na,_r,ta||null)}}function Pt(){var xr=ua.pop()||new gr;bt.call(xr);for(var nn=xr.mipmask=0;16>nn;++nn)xr.images[nn]=null;return xr}function Qt(xr){for(var nn=xr.images,qr=0;qr<nn.length;++qr)nn[qr]&&vr(nn[qr]),nn[qr]=null;ua.push(xr)}function ur(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function cr(xr,nn){"min"in nn&&(xr.minFilter=Ir[nn.min],0<=vt.indexOf(xr.minFilter)&&!("faces"in nn)&&(xr.genMipmaps=!0)),"mag"in nn&&(xr.magFilter=Pr[nn.mag]);var qr=xr.wrapS,gn=xr.wrapT;if("wrap"in nn){var Un=nn.wrap;typeof Un=="string"?qr=gn=Wr[Un]:Array.isArray(Un)&&(qr=Wr[Un[0]],gn=Wr[Un[1]])}else"wrapS"in nn&&(qr=Wr[nn.wrapS]),"wrapT"in nn&&(gn=Wr[nn.wrapT]);if(xr.wrapS=qr,xr.wrapT=gn,"anisotropic"in nn&&(xr.anisotropic=nn.anisotropic),"mipmap"in nn){switch(qr=!1,typeof nn.mipmap){case"string":xr.mipmapHint=pr[nn.mipmap],qr=xr.genMipmaps=!0;break;case"boolean":qr=xr.genMipmaps=nn.mipmap;break;case"object":xr.genMipmaps=!1,qr=!0}!qr||"min"in nn||(xr.minFilter=9984)}}function tr(xr,nn){gt.texParameteri(nn,10241,xr.minFilter),gt.texParameteri(nn,10240,xr.magFilter),gt.texParameteri(nn,10242,xr.wrapS),gt.texParameteri(nn,10243,xr.wrapT),Kt.ext_texture_filter_anisotropic&&gt.texParameteri(nn,34046,xr.anisotropic),xr.genMipmaps&&(gt.hint(33170,xr.mipmapHint),gt.generateMipmap(nn))}function zt(xr){bt.call(this),this.mipmask=0,this.internalformat=6408,this.id=wa++,this.refCount=1,this.target=xr,this.texture=gt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ur,ut.profile&&(this.stats={size:0})}function or(xr){gt.activeTexture(33984),gt.bindTexture(xr.target,xr.texture)}function dr(){var xr=ea[0];xr?gt.bindTexture(xr.target,xr.texture):gt.bindTexture(3553,null)}function wr(xr){var nn=xr.texture,qr=xr.unit,gn=xr.target;0<=qr&&(gt.activeTexture(33984+qr),gt.bindTexture(gn,null),ea[qr]=null),gt.deleteTexture(nn),xr.texture=null,xr.params=null,xr.pixels=null,xr.refCount=0,delete Ma[xr.id],mt.textureCount--}var pr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Wr={repeat:10497,clamp:33071,mirror:33648},Pr={nearest:9728,linear:9729},Ir=ae({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Pr),ln={none:0,browser:37444},an={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},_n={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Mn={};Kt.ext_srgb&&(_n.srgb=35904,_n.srgba=35906),Kt.oes_texture_float&&(an.float32=an.float=5126),Kt.oes_texture_half_float&&(an.float16=an["half float"]=36193),Kt.webgl_depth_texture&&(ae(_n,{depth:6402,"depth stencil":34041}),ae(an,{uint16:5123,uint32:5125,"depth stencil":34042})),Kt.webgl_compressed_texture_s3tc&&ae(Mn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Kt.webgl_compressed_texture_atc&&ae(Mn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Kt.webgl_compressed_texture_pvrtc&&ae(Mn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Kt.webgl_compressed_texture_etc1&&(Mn["rgb etc1"]=36196);var Sr=Array.prototype.slice.call(gt.getParameter(34467));Object.keys(Mn).forEach(function(xr){var nn=Mn[xr];0<=Sr.indexOf(nn)&&(_n[xr]=nn)});var Nr=Object.keys(_n);$t.textureFormats=Nr;var Zr=[];Object.keys(_n).forEach(function(xr){Zr[_n[xr]]=xr});var Fr=[];Object.keys(an).forEach(function(xr){Fr[an[xr]]=xr});var cn=[];Object.keys(Pr).forEach(function(xr){cn[Pr[xr]]=xr});var vn=[];Object.keys(Ir).forEach(function(xr){vn[Ir[xr]]=xr});var Cn=[];Object.keys(Wr).forEach(function(xr){Cn[Wr[xr]]=xr});var Rn=Nr.reduce(function(xr,nn){var qr=_n[nn];return qr===6409||qr===6406||qr===6409||qr===6410||qr===6402||qr===34041||Kt.ext_srgb&&(qr===35904||qr===35906)?xr[qr]=qr:qr===32855||0<=nn.indexOf("rgba")?xr[qr]=6408:xr[qr]=6407,xr},{}),Gn=[],ua=[],wa=0,Ma={},Zn=$t.maxTextureUnits,ea=Array(Zn).map(function(){return null});return ae(zt.prototype,{bind:function(){this.bindCount+=1;var xr=this.unit;if(0>xr){for(var nn=0;nn<Zn;++nn){var qr=ea[nn];if(qr){if(0<qr.bindCount)continue;qr.unit=-1}ea[nn]=this,xr=nn;break}ut.profile&&mt.maxTextureUnits<xr+1&&(mt.maxTextureUnits=xr+1),this.unit=xr,gt.activeTexture(33984+xr),gt.bindTexture(this.target,this.texture)}return xr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&wr(this)}}),ut.profile&&(mt.getTotalTextureSize=function(){var xr=0;return Object.keys(Ma).forEach(function(nn){xr+=Ma[nn].stats.size}),xr}),{create2D:function(xr,nn){function qr(Un,An){var En=gn.texInfo;ur.call(En);var Vn=Pt();return typeof Un=="number"?typeof An=="number"?Xe(Vn,Un|0,An|0):Xe(Vn,Un|0,Un|0):Un?(cr(En,Un),He(Vn,Un)):Xe(Vn,1,1),En.genMipmaps&&(Vn.mipmask=(Vn.width<<1)-1),gn.mipmask=Vn.mipmask,Et(gn,Vn),gn.internalformat=Vn.internalformat,qr.width=Vn.width,qr.height=Vn.height,or(gn),Nt(Vn,3553),tr(En,3553),dr(),Qt(Vn),ut.profile&&(gn.stats.size=b(gn.internalformat,gn.type,Vn.width,Vn.height,En.genMipmaps,!1)),qr.format=Zr[gn.internalformat],qr.type=Fr[gn.type],qr.mag=cn[En.magFilter],qr.min=vn[En.minFilter],qr.wrapS=Cn[En.wrapS],qr.wrapT=Cn[En.wrapT],qr}var gn=new zt(3553);return Ma[gn.id]=gn,mt.textureCount++,qr(xr,nn),qr.subimage=function(Un,An,En,Vn){An|=0,En|=0,Vn|=0;var ta=hr();return Et(ta,gn),ta.width=0,ta.height=0,Ut(ta,Un),ta.width=ta.width||(gn.width>>Vn)-An,ta.height=ta.height||(gn.height>>Vn)-En,or(gn),Jt(ta,3553,An,En,Vn),dr(),vr(ta),qr},qr.resize=function(Un,An){var En=Un|0,Vn=An|0||En;if(En===gn.width&&Vn===gn.height)return qr;qr.width=gn.width=En,qr.height=gn.height=Vn,or(gn);for(var ta=0;gn.mipmask>>ta;++ta){var ga=En>>ta,Na=Vn>>ta;if(!ga||!Na)break;gt.texImage2D(3553,ta,gn.format,ga,Na,0,gn.format,gn.type,null)}return dr(),ut.profile&&(gn.stats.size=b(gn.internalformat,gn.type,En,Vn,!1,!1)),qr},qr._reglType="texture2d",qr._texture=gn,ut.profile&&(qr.stats=gn.stats),qr.destroy=function(){gn.decRef()},qr},createCube:function(xr,nn,qr,gn,Un,An){function En(ga,Na,_r,Br,Mr,Ur){var wn,kn=Vn.texInfo;for(ur.call(kn),wn=0;6>wn;++wn)ta[wn]=Pt();if(typeof ga=="number"||!ga)for(ga=ga|0||1,wn=0;6>wn;++wn)Xe(ta[wn],ga,ga);else if(typeof ga=="object")if(Na)He(ta[0],ga),He(ta[1],Na),He(ta[2],_r),He(ta[3],Br),He(ta[4],Mr),He(ta[5],Ur);else if(cr(kn,ga),Dt(Vn,ga),"faces"in ga)for(ga=ga.faces,wn=0;6>wn;++wn)Et(ta[wn],Vn),He(ta[wn],ga[wn]);else for(wn=0;6>wn;++wn)He(ta[wn],ga);for(Et(Vn,ta[0]),Vn.mipmask=kn.genMipmaps?(ta[0].width<<1)-1:ta[0].mipmask,Vn.internalformat=ta[0].internalformat,En.width=ta[0].width,En.height=ta[0].height,or(Vn),wn=0;6>wn;++wn)Nt(ta[wn],34069+wn);for(tr(kn,34067),dr(),ut.profile&&(Vn.stats.size=b(Vn.internalformat,Vn.type,En.width,En.height,kn.genMipmaps,!0)),En.format=Zr[Vn.internalformat],En.type=Fr[Vn.type],En.mag=cn[kn.magFilter],En.min=vn[kn.minFilter],En.wrapS=Cn[kn.wrapS],En.wrapT=Cn[kn.wrapT],wn=0;6>wn;++wn)Qt(ta[wn]);return En}var Vn=new zt(34067);Ma[Vn.id]=Vn,mt.cubeCount++;var ta=Array(6);return En(xr,nn,qr,gn,Un,An),En.subimage=function(ga,Na,_r,Br,Mr){_r|=0,Br|=0,Mr|=0;var Ur=hr();return Et(Ur,Vn),Ur.width=0,Ur.height=0,Ut(Ur,Na),Ur.width=Ur.width||(Vn.width>>Mr)-_r,Ur.height=Ur.height||(Vn.height>>Mr)-Br,or(Vn),Jt(Ur,34069+ga,_r,Br,Mr),dr(),vr(Ur),En},En.resize=function(ga){if(ga|=0,ga!==Vn.width){En.width=Vn.width=ga,En.height=Vn.height=ga,or(Vn);for(var Na=0;6>Na;++Na)for(var _r=0;Vn.mipmask>>_r;++_r)gt.texImage2D(34069+Na,_r,Vn.format,ga>>_r,ga>>_r,0,Vn.format,Vn.type,null);return dr(),ut.profile&&(Vn.stats.size=b(Vn.internalformat,Vn.type,En.width,En.height,!1,!0)),En}},En._reglType="textureCube",En._texture=Vn,ut.profile&&(En.stats=Vn.stats),En.destroy=function(){Vn.decRef()},En},clear:function(){for(var xr=0;xr<Zn;++xr)gt.activeTexture(33984+xr),gt.bindTexture(3553,null),ea[xr]=null;Me(Ma).forEach(wr),mt.cubeCount=0,mt.textureCount=0},getTexture:function(xr){return null},restore:function(){for(var xr=0;xr<Zn;++xr){var nn=ea[xr];nn&&(nn.bindCount=0,nn.unit=-1,ea[xr]=null)}Me(Ma).forEach(function(qr){qr.texture=gt.createTexture(),gt.bindTexture(qr.target,qr.texture);for(var gn=0;32>gn;++gn)if(qr.mipmask&1<<gn)if(qr.target===3553)gt.texImage2D(3553,gn,qr.internalformat,qr.width>>gn,qr.height>>gn,0,qr.internalformat,qr.type,null);else for(var Un=0;6>Un;++Un)gt.texImage2D(34069+Un,gn,qr.internalformat,qr.width>>gn,qr.height>>gn,0,qr.internalformat,qr.type,null);tr(qr.texInfo,qr.target)})},refresh:function(){for(var xr=0;xr<Zn;++xr){var nn=ea[xr];nn&&(nn.bindCount=0,nn.unit=-1,ea[xr]=null),gt.activeTexture(33984+xr),gt.bindTexture(3553,null),gt.bindTexture(34067,null)}}}}function k(gt,Kt,$t,br,lr,mt){function ut(zt,or,dr){this.target=zt,this.texture=or,this.renderbuffer=dr;var wr=zt=0;or?(zt=or.width,wr=or.height):dr&&(zt=dr.width,wr=dr.height),this.width=zt,this.height=wr}function bt(zt){zt&&(zt.texture&&zt.texture._texture.decRef(),zt.renderbuffer&&zt.renderbuffer._renderbuffer.decRef())}function Et(zt,or,dr){zt&&(zt.texture?zt.texture._texture.refCount+=1:zt.renderbuffer._renderbuffer.refCount+=1)}function Dt(zt,or){or&&(or.texture?gt.framebufferTexture2D(36160,zt,or.target,or.texture._texture.texture,0):gt.framebufferRenderbuffer(36160,zt,36161,or.renderbuffer._renderbuffer.renderbuffer))}function Yt(zt){var or=3553,dr=null,wr=null,pr=zt;return typeof zt=="object"&&(pr=zt.data,"target"in zt&&(or=zt.target|0)),zt=pr._reglType,zt==="texture2d"||zt==="textureCube"?dr=pr:zt==="renderbuffer"&&(wr=pr,or=36161),new ut(or,dr,wr)}function Bt(zt,or,dr,wr,pr){return dr?(zt=br.create2D({width:zt,height:or,format:wr,type:pr}),zt._texture.refCount=0,new ut(3553,zt,null)):(zt=lr.create({width:zt,height:or,format:wr}),zt._renderbuffer.refCount=0,new ut(36161,null,zt))}function Ut(zt){return zt&&(zt.texture||zt.renderbuffer)}function Jt(zt,or,dr){zt&&(zt.texture?zt.texture.resize(or,dr):zt.renderbuffer&&zt.renderbuffer.resize(or,dr),zt.width=or,zt.height=dr)}function hr(){this.id=cr++,tr[this.id]=this,this.framebuffer=gt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function vr(zt){zt.colorAttachments.forEach(bt),bt(zt.depthAttachment),bt(zt.stencilAttachment),bt(zt.depthStencilAttachment)}function gr(zt){gt.deleteFramebuffer(zt.framebuffer),zt.framebuffer=null,mt.framebufferCount--,delete tr[zt.id]}function Xe(zt){var or;gt.bindFramebuffer(36160,zt.framebuffer);var dr=zt.colorAttachments;for(or=0;or<dr.length;++or)Dt(36064+or,dr[or]);for(or=dr.length;or<$t.maxColorAttachments;++or)gt.framebufferTexture2D(36160,36064+or,3553,null,0);gt.framebufferTexture2D(36160,33306,3553,null,0),gt.framebufferTexture2D(36160,36096,3553,null,0),gt.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,zt.depthAttachment),Dt(36128,zt.stencilAttachment),Dt(33306,zt.depthStencilAttachment),gt.checkFramebufferStatus(36160),gt.isContextLost(),gt.bindFramebuffer(36160,Nt.next?Nt.next.framebuffer:null),Nt.cur=Nt.next,gt.getError()}function He(zt,or){function dr(pr,Wr){var Pr,Ir=0,ln=0,an=!0,_n=!0;Pr=null;var Mn=!0,Sr="rgba",Nr="uint8",Zr=1,Fr=null,cn=null,vn=null,Cn=!1;typeof pr=="number"?(Ir=pr|0,ln=Wr|0||Ir):pr?("shape"in pr?(ln=pr.shape,Ir=ln[0],ln=ln[1]):("radius"in pr&&(Ir=ln=pr.radius),"width"in pr&&(Ir=pr.width),"height"in pr&&(ln=pr.height)),("color"in pr||"colors"in pr)&&(Pr=pr.color||pr.colors),Pr||("colorCount"in pr&&(Zr=pr.colorCount|0),"colorTexture"in pr&&(Mn=!!pr.colorTexture,Sr="rgba4"),"colorType"in pr&&(Nr=pr.colorType,!Mn)&&(Nr==="half float"||Nr==="float16"?Sr="rgba16f":(Nr==="float"||Nr==="float32")&&(Sr="rgba32f")),"colorFormat"in pr&&(Sr=pr.colorFormat,0<=Pt.indexOf(Sr)?Mn=!0:0<=Qt.indexOf(Sr)&&(Mn=!1))),("depthTexture"in pr||"depthStencilTexture"in pr)&&(Cn=!(!pr.depthTexture&&!pr.depthStencilTexture)),"depth"in pr&&(typeof pr.depth=="boolean"?an=pr.depth:(Fr=pr.depth,_n=!1)),"stencil"in pr&&(typeof pr.stencil=="boolean"?_n=pr.stencil:(cn=pr.stencil,an=!1)),"depthStencil"in pr&&(typeof pr.depthStencil=="boolean"?an=_n=pr.depthStencil:(vn=pr.depthStencil,_n=an=!1))):Ir=ln=1;var Rn=null,Gn=null,ua=null,wa=null;if(Array.isArray(Pr))Rn=Pr.map(Yt);else if(Pr)Rn=[Yt(Pr)];else for(Rn=Array(Zr),Pr=0;Pr<Zr;++Pr)Rn[Pr]=Bt(Ir,ln,Mn,Sr,Nr);for(Ir=Ir||Rn[0].width,ln=ln||Rn[0].height,Fr?Gn=Yt(Fr):an&&!_n&&(Gn=Bt(Ir,ln,Cn,"depth","uint32")),cn?ua=Yt(cn):_n&&!an&&(ua=Bt(Ir,ln,!1,"stencil","uint8")),vn?wa=Yt(vn):!Fr&&!cn&&_n&&an&&(wa=Bt(Ir,ln,Cn,"depth stencil","depth stencil")),an=null,Pr=0;Pr<Rn.length;++Pr)Et(Rn[Pr]),Rn[Pr]&&Rn[Pr].texture&&(_n=we[Rn[Pr].texture._texture.format]*Ue[Rn[Pr].texture._texture.type],an===null&&(an=_n));return Et(Gn),Et(ua),Et(wa),vr(wr),wr.width=Ir,wr.height=ln,wr.colorAttachments=Rn,wr.depthAttachment=Gn,wr.stencilAttachment=ua,wr.depthStencilAttachment=wa,dr.color=Rn.map(Ut),dr.depth=Ut(Gn),dr.stencil=Ut(ua),dr.depthStencil=Ut(wa),dr.width=wr.width,dr.height=wr.height,Xe(wr),dr}var wr=new hr;return mt.framebufferCount++,dr(zt,or),ae(dr,{resize:function(pr,Wr){var Pr=Math.max(pr|0,1),Ir=Math.max(Wr|0||Pr,1);if(Pr===wr.width&&Ir===wr.height)return dr;for(var ln=wr.colorAttachments,an=0;an<ln.length;++an)Jt(ln[an],Pr,Ir);return Jt(wr.depthAttachment,Pr,Ir),Jt(wr.stencilAttachment,Pr,Ir),Jt(wr.depthStencilAttachment,Pr,Ir),wr.width=dr.width=Pr,wr.height=dr.height=Ir,Xe(wr),dr},_reglType:"framebuffer",_framebuffer:wr,destroy:function(){gr(wr),vr(wr)},use:function(pr){Nt.setFBO({framebuffer:dr},pr)}})}var Nt={cur:null,next:null,dirty:!1,setFBO:null},Pt=["rgba"],Qt=["rgba4","rgb565","rgb5 a1"];Kt.ext_srgb&&Qt.push("srgba"),Kt.ext_color_buffer_half_float&&Qt.push("rgba16f","rgb16f"),Kt.webgl_color_buffer_float&&Qt.push("rgba32f");var ur=["uint8"];Kt.oes_texture_half_float&&ur.push("half float","float16"),Kt.oes_texture_float&&ur.push("float","float32");var cr=0,tr={};return ae(Nt,{getFramebuffer:function(zt){return typeof zt=="function"&&zt._reglType==="framebuffer"&&(zt=zt._framebuffer,zt instanceof hr)?zt:null},create:He,createCube:function(zt){function or(wr){var pr,Wr={color:null},Pr=0,Ir=null;pr="rgba";var ln="uint8",an=1;if(typeof wr=="number"?Pr=wr|0:wr?("shape"in wr?Pr=wr.shape[0]:("radius"in wr&&(Pr=wr.radius|0),"width"in wr?Pr=wr.width|0:"height"in wr&&(Pr=wr.height|0)),("color"in wr||"colors"in wr)&&(Ir=wr.color||wr.colors),Ir||("colorCount"in wr&&(an=wr.colorCount|0),"colorType"in wr&&(ln=wr.colorType),"colorFormat"in wr&&(pr=wr.colorFormat)),"depth"in wr&&(Wr.depth=wr.depth),"stencil"in wr&&(Wr.stencil=wr.stencil),"depthStencil"in wr&&(Wr.depthStencil=wr.depthStencil)):Pr=1,Ir)if(Array.isArray(Ir))for(wr=[],pr=0;pr<Ir.length;++pr)wr[pr]=Ir[pr];else wr=[Ir];else for(wr=Array(an),Ir={radius:Pr,format:pr,type:ln},pr=0;pr<an;++pr)wr[pr]=br.createCube(Ir);for(Wr.color=Array(wr.length),pr=0;pr<wr.length;++pr)an=wr[pr],Pr=Pr||an.width,Wr.color[pr]={target:34069,data:wr[pr]};for(pr=0;6>pr;++pr){for(an=0;an<wr.length;++an)Wr.color[an].target=34069+pr;0<pr&&(Wr.depth=dr[0].depth,Wr.stencil=dr[0].stencil,Wr.depthStencil=dr[0].depthStencil),dr[pr]?dr[pr](Wr):dr[pr]=He(Wr)}return ae(or,{width:Pr,height:Pr,color:wr})}var dr=Array(6);return or(zt),ae(or,{faces:dr,resize:function(wr){var pr=wr|0;if(pr===or.width)return or;var Wr=or.color;for(wr=0;wr<Wr.length;++wr)Wr[wr].resize(pr);for(wr=0;6>wr;++wr)dr[wr].resize(pr);return or.width=or.height=pr,or},_reglType:"framebufferCube",destroy:function(){dr.forEach(function(wr){wr.destroy()})}})},clear:function(){Me(tr).forEach(gr)},restore:function(){Nt.cur=null,Nt.next=null,Nt.dirty=!0,Me(tr).forEach(function(zt){zt.framebuffer=gt.createFramebuffer(),Xe(zt)})}})}function H(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(gt,Kt,$t,br,lr,mt,ut){function bt(Xe){if(Xe!==gr.currentVAO){var He=Kt.oes_vertex_array_object;Xe?He.bindVertexArrayOES(Xe.vao):He.bindVertexArrayOES(null),gr.currentVAO=Xe}}function Et(Xe){if(Xe!==gr.currentVAO){if(Xe)Xe.bindAttrs();else{for(var He=Kt.angle_instanced_arrays,Nt=0;Nt<Jt.length;++Nt){var Pt=Jt[Nt];Pt.buffer?(gt.enableVertexAttribArray(Nt),Pt.buffer.bind(),gt.vertexAttribPointer(Nt,Pt.size,Pt.type,Pt.normalized,Pt.stride,Pt.offfset),He&&Pt.divisor&&He.vertexAttribDivisorANGLE(Nt,Pt.divisor)):(gt.disableVertexAttribArray(Nt),gt.vertexAttrib4f(Nt,Pt.x,Pt.y,Pt.z,Pt.w))}ut.elements?gt.bindBuffer(34963,ut.elements.buffer.buffer):gt.bindBuffer(34963,null)}gr.currentVAO=Xe}}function Dt(){Me(vr).forEach(function(Xe){Xe.destroy()})}function Yt(){this.id=++hr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Xe=Kt.oes_vertex_array_object;this.vao=Xe?Xe.createVertexArrayOES():null,vr[this.id]=this,this.buffers=[]}function Bt(){Kt.oes_vertex_array_object&&Me(vr).forEach(function(Xe){Xe.refresh()})}var Ut=$t.maxAttributes,Jt=Array(Ut);for($t=0;$t<Ut;++$t)Jt[$t]=new H;var hr=0,vr={},gr={Record:H,scope:{},state:Jt,currentVAO:null,targetVAO:null,restore:Kt.oes_vertex_array_object?Bt:function(){},createVAO:function(Xe){function He(Pt){var Qt;Array.isArray(Pt)?(Qt=Pt,Nt.elements&&Nt.ownsElements&&Nt.elements.destroy(),Nt.elements=null,Nt.ownsElements=!1,Nt.offset=0,Nt.count=0,Nt.instances=-1,Nt.primitive=4):(Pt.elements?(Qt=Pt.elements,Nt.ownsElements?(typeof Qt=="function"&&Qt._reglType==="elements"?Nt.elements.destroy():Nt.elements(Qt),Nt.ownsElements=!1):mt.getElements(Pt.elements)?(Nt.elements=Pt.elements,Nt.ownsElements=!1):(Nt.elements=mt.create(Pt.elements),Nt.ownsElements=!0)):(Nt.elements=null,Nt.ownsElements=!1),Qt=Pt.attributes,Nt.offset=0,Nt.count=-1,Nt.instances=-1,Nt.primitive=4,Nt.elements&&(Nt.count=Nt.elements._elements.vertCount,Nt.primitive=Nt.elements._elements.primType),"offset"in Pt&&(Nt.offset=Pt.offset|0),"count"in Pt&&(Nt.count=Pt.count|0),"instances"in Pt&&(Nt.instances=Pt.instances|0),"primitive"in Pt&&(Nt.primitive=$e[Pt.primitive])),Pt={};var ur=Nt.attributes;ur.length=Qt.length;for(var cr=0;cr<Qt.length;++cr){var tr=Qt[cr],zt=ur[cr]=new H,or=tr.data||tr;if(Array.isArray(or)||Be(or)||u(or)){var dr;Nt.buffers[cr]&&(dr=Nt.buffers[cr],Be(or)&&dr._buffer.byteLength>=or.byteLength?dr.subdata(or):(dr.destroy(),Nt.buffers[cr]=null)),Nt.buffers[cr]||(dr=Nt.buffers[cr]=lr.create(tr,34962,!1,!0)),zt.buffer=lr.getBuffer(dr),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1,Pt[cr]=1}else lr.getBuffer(tr)?(zt.buffer=lr.getBuffer(tr),zt.size=zt.buffer.dimension|0,zt.normalized=!1,zt.type=zt.buffer.dtype,zt.offset=0,zt.stride=0,zt.divisor=0,zt.state=1):lr.getBuffer(tr.buffer)?(zt.buffer=lr.getBuffer(tr.buffer),zt.size=(+tr.size||zt.buffer.dimension)|0,zt.normalized=!!tr.normalized||!1,zt.type="type"in tr?Ne[tr.type]:zt.buffer.dtype,zt.offset=(tr.offset||0)|0,zt.stride=(tr.stride||0)|0,zt.divisor=(tr.divisor||0)|0,zt.state=1):"x"in tr&&(zt.x=+tr.x||0,zt.y=+tr.y||0,zt.z=+tr.z||0,zt.w=+tr.w||0,zt.state=2)}for(dr=0;dr<Nt.buffers.length;++dr)!Pt[dr]&&Nt.buffers[dr]&&(Nt.buffers[dr].destroy(),Nt.buffers[dr]=null);return Nt.refresh(),He}var Nt=new Yt;return br.vaoCount+=1,He.destroy=function(){for(var Pt=0;Pt<Nt.buffers.length;++Pt)Nt.buffers[Pt]&&Nt.buffers[Pt].destroy();Nt.buffers.length=0,Nt.ownsElements&&(Nt.elements.destroy(),Nt.elements=null,Nt.ownsElements=!1),Nt.destroy()},He._vao=Nt,He._reglType="vao",He(Xe)},getVAO:function(Xe){return typeof Xe=="function"&&Xe._vao?Xe._vao:null},destroyBuffer:function(Xe){for(var He=0;He<Jt.length;++He){var Nt=Jt[He];Nt.buffer===Xe&&(gt.disableVertexAttribArray(He),Nt.buffer=null)}},setVAO:Kt.oes_vertex_array_object?bt:Et,clear:Kt.oes_vertex_array_object?Dt:function(){}};return Yt.prototype.bindAttrs=function(){for(var Xe=Kt.angle_instanced_arrays,He=this.attributes,Nt=0;Nt<He.length;++Nt){var Pt=He[Nt];Pt.buffer?(gt.enableVertexAttribArray(Nt),gt.bindBuffer(34962,Pt.buffer.buffer),gt.vertexAttribPointer(Nt,Pt.size,Pt.type,Pt.normalized,Pt.stride,Pt.offset),Xe&&Pt.divisor&&Xe.vertexAttribDivisorANGLE(Nt,Pt.divisor)):(gt.disableVertexAttribArray(Nt),gt.vertexAttrib4f(Nt,Pt.x,Pt.y,Pt.z,Pt.w))}for(Xe=He.length;Xe<Ut;++Xe)gt.disableVertexAttribArray(Xe);(Xe=mt.getElements(this.elements))?gt.bindBuffer(34963,Xe.buffer.buffer):gt.bindBuffer(34963,null)},Yt.prototype.refresh=function(){var Xe=Kt.oes_vertex_array_object;Xe&&(Xe.bindVertexArrayOES(this.vao),this.bindAttrs(),gr.currentVAO=null,Xe.bindVertexArrayOES(null))},Yt.prototype.destroy=function(){if(this.vao){var Xe=Kt.oes_vertex_array_object;this===gr.currentVAO&&(gr.currentVAO=null,Xe.bindVertexArrayOES(null)),Xe.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),vr[this.id]&&(delete vr[this.id],--br.vaoCount)},gr}function B(gt,Kt,$t,br){function lr(hr,vr,gr,Xe){this.name=hr,this.id=vr,this.location=gr,this.info=Xe}function mt(hr,vr){for(var gr=0;gr<hr.length;++gr)if(hr[gr].id===vr.id){hr[gr].location=vr.location;return}hr.push(vr)}function ut(hr,vr,gr){gr=hr===35632?Dt:Yt;var Xe=gr[vr];if(!Xe){var He=Kt.str(vr),Xe=gt.createShader(hr);gt.shaderSource(Xe,He),gt.compileShader(Xe),gr[vr]=Xe}return Xe}function bt(hr,vr){this.id=Jt++,this.fragId=hr,this.vertId=vr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,br.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Et(hr,vr,gr){var Xe;Xe=ut(35632,hr.fragId);var He=ut(35633,hr.vertId);if(vr=hr.program=gt.createProgram(),gt.attachShader(vr,Xe),gt.attachShader(vr,He),gr)for(Xe=0;Xe<gr.length;++Xe)He=gr[Xe],gt.bindAttribLocation(vr,He[0],He[1]);gt.linkProgram(vr),He=gt.getProgramParameter(vr,35718),br.profile&&(hr.stats.uniformsCount=He);var Nt=hr.uniforms;for(Xe=0;Xe<He;++Xe)if(gr=gt.getActiveUniform(vr,Xe))if(1<gr.size)for(var Pt=0;Pt<gr.size;++Pt){var Qt=gr.name.replace("[0]","["+Pt+"]");mt(Nt,new lr(Qt,Kt.id(Qt),gt.getUniformLocation(vr,Qt),gr))}else mt(Nt,new lr(gr.name,Kt.id(gr.name),gt.getUniformLocation(vr,gr.name),gr));for(He=gt.getProgramParameter(vr,35721),br.profile&&(hr.stats.attributesCount=He),hr=hr.attributes,Xe=0;Xe<He;++Xe)(gr=gt.getActiveAttrib(vr,Xe))&&mt(hr,new lr(gr.name,Kt.id(gr.name),gt.getAttribLocation(vr,gr.name),gr))}var Dt={},Yt={},Bt={},Ut=[],Jt=0;return br.profile&&($t.getMaxUniformsCount=function(){var hr=0;return Ut.forEach(function(vr){vr.stats.uniformsCount>hr&&(hr=vr.stats.uniformsCount)}),hr},$t.getMaxAttributesCount=function(){var hr=0;return Ut.forEach(function(vr){vr.stats.attributesCount>hr&&(hr=vr.stats.attributesCount)}),hr}),{clear:function(){var hr=gt.deleteShader.bind(gt);Me(Dt).forEach(hr),Dt={},Me(Yt).forEach(hr),Yt={},Ut.forEach(function(vr){gt.deleteProgram(vr.program)}),Ut.length=0,Bt={},$t.shaderCount=0},program:function(hr,vr,gr,Xe){var He=Bt[vr];He||(He=Bt[vr]={});var Nt=He[hr];if(Nt&&(Nt.refCount++,!Xe))return Nt;var Pt=new bt(vr,hr);return $t.shaderCount++,Et(Pt,gr,Xe),Nt||(He[hr]=Pt),Ut.push(Pt),ae(Pt,{destroy:function(){if(Pt.refCount--,0>=Pt.refCount){gt.deleteProgram(Pt.program);var Qt=Ut.indexOf(Pt);Ut.splice(Qt,1),$t.shaderCount--}0>=He[Pt.vertId].refCount&&(gt.deleteShader(Yt[Pt.vertId]),delete Yt[Pt.vertId],delete Bt[Pt.fragId][Pt.vertId]),Object.keys(Bt[Pt.fragId]).length||(gt.deleteShader(Dt[Pt.fragId]),delete Dt[Pt.fragId],delete Bt[Pt.fragId])}})},restore:function(){Dt={},Yt={};for(var hr=0;hr<Ut.length;++hr)Et(Ut[hr],null,Ut[hr].attributes.map(function(vr){return[vr.location,vr.name]}))},shader:ut,frag:-1,vert:-1}}function U(gt,Kt,$t,br,lr,mt,ut){function bt(Dt){var Yt;Yt=Kt.next===null?5121:Kt.next.colorAttachments[0].texture._texture.type;var Bt=0,Ut=0,Jt=br.framebufferWidth,hr=br.framebufferHeight,vr=null;return Be(Dt)?vr=Dt:Dt&&(Bt=Dt.x|0,Ut=Dt.y|0,Jt=(Dt.width||br.framebufferWidth-Bt)|0,hr=(Dt.height||br.framebufferHeight-Ut)|0,vr=Dt.data||null),$t(),Dt=Jt*hr*4,vr||(Yt===5121?vr=new Uint8Array(Dt):Yt===5126&&(vr=vr||new Float32Array(Dt))),gt.pixelStorei(3333,4),gt.readPixels(Bt,Ut,Jt,hr,6408,Yt,vr),vr}function Et(Dt){var Yt;return Kt.setFBO({framebuffer:Dt.framebuffer},function(){Yt=bt(Dt)}),Yt}return function(Dt){return Dt&&"framebuffer"in Dt?Et(Dt):bt(Dt)}}function z(gt){for(var Kt=Array(gt.length>>2),br=0;br<Kt.length;br++)Kt[br]=0;for(br=0;br<8*gt.length;br+=8)Kt[br>>5]|=(gt.charCodeAt(br/8)&255)<<24-br%32;var $t=8*gt.length;gt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var br=Array(64),lr,mt,ut,bt,Et,Dt,Yt,Bt,Ut,Jt,hr;for(Kt[$t>>5]|=128<<24-$t%32,Kt[($t+64>>9<<4)+15]=$t,Bt=0;Bt<Kt.length;Bt+=16){for($t=gt[0],lr=gt[1],mt=gt[2],ut=gt[3],bt=gt[4],Et=gt[5],Dt=gt[6],Yt=gt[7],Ut=0;64>Ut;Ut++){if(16>Ut)br[Ut]=Kt[Ut+Bt];else{Jt=Ut,hr=br[Ut-2],hr=ee(hr,17)^ee(hr,19)^hr>>>10,hr=ie(hr,br[Ut-7]);var vr;vr=br[Ut-15],vr=ee(vr,7)^ee(vr,18)^vr>>>3,br[Jt]=ie(ie(hr,vr),br[Ut-16])}Jt=bt,Jt=ee(Jt,6)^ee(Jt,11)^ee(Jt,25),Jt=ie(ie(ie(ie(Yt,Jt),bt&Et^~bt&Dt),et[Ut]),br[Ut]),Yt=$t,Yt=ee(Yt,2)^ee(Yt,13)^ee(Yt,22),hr=ie(Yt,$t&lr^$t&mt^lr&mt),Yt=Dt,Dt=Et,Et=bt,bt=ie(ut,Jt),ut=mt,mt=lr,lr=$t,$t=ie(Jt,hr)}gt[0]=ie($t,gt[0]),gt[1]=ie(lr,gt[1]),gt[2]=ie(mt,gt[2]),gt[3]=ie(ut,gt[3]),gt[4]=ie(bt,gt[4]),gt[5]=ie(Et,gt[5]),gt[6]=ie(Dt,gt[6]),gt[7]=ie(Yt,gt[7])}for(Kt="",br=0;br<32*gt.length;br+=8)Kt+=String.fromCharCode(gt[br>>5]>>>24-br%32&255);return Kt}function W(gt){for(var Kt="",$t,br=0;br<gt.length;br++)$t=gt.charCodeAt(br),Kt+="0123456789abcdef".charAt($t>>>4&15)+"0123456789abcdef".charAt($t&15);return Kt}function j(gt){for(var Kt="",$t=-1,br,lr;++$t<gt.length;)br=gt.charCodeAt($t),lr=$t+1<gt.length?gt.charCodeAt($t+1):0,55296<=br&&56319>=br&&56320<=lr&&57343>=lr&&(br=65536+((br&1023)<<10)+(lr&1023),$t++),127>=br?Kt+=String.fromCharCode(br):2047>=br?Kt+=String.fromCharCode(192|br>>>6&31,128|br&63):65535>=br?Kt+=String.fromCharCode(224|br>>>12&15,128|br>>>6&63,128|br&63):2097151>=br&&(Kt+=String.fromCharCode(240|br>>>18&7,128|br>>>12&63,128|br>>>6&63,128|br&63));return Kt}function ee(gt,Kt){return gt>>>Kt|gt<<32-Kt}function ie(gt,Kt){var $t=(gt&65535)+(Kt&65535);return(gt>>16)+(Kt>>16)+($t>>16)<<16|$t&65535}function oe(gt){return Array.prototype.slice.call(gt)}function he(gt){return oe(gt).join("")}function ne(gt){function Kt(){var Yt=[],Bt=[];return ae(function(){Yt.push.apply(Yt,oe(arguments))},{def:function(){var Ut="v"+lr++;return Bt.push(Ut),0<arguments.length&&(Yt.push(Ut,"="),Yt.push.apply(Yt,oe(arguments)),Yt.push(";")),Ut},toString:function(){return he([0<Bt.length?"var "+Bt.join(",")+";":"",he(Yt)])}})}function $t(){function Yt(vr,gr){Ut(vr,gr,"=",Bt.def(vr,gr),";")}var Bt=Kt(),Ut=Kt(),Jt=Bt.toString,hr=Ut.toString;return ae(function(){Bt.apply(Bt,oe(arguments))},{def:Bt.def,entry:Bt,exit:Ut,save:Yt,set:function(vr,gr,Xe){Yt(vr,gr),Bt(vr,gr,"=",Xe,";")},toString:function(){return Jt()+hr()}})}var br=gt&&gt.cache,lr=0,mt=[],ut=[],bt=[],Et=Kt(),Dt={};return{global:Et,link:function(Yt,Bt){var Ut=Bt&&Bt.stable;if(!Ut){for(var Jt=0;Jt<ut.length;++Jt)if(ut[Jt]===Yt&&!bt[Jt])return mt[Jt]}return Jt="g"+lr++,mt.push(Jt),ut.push(Yt),bt.push(Ut),Jt},block:Kt,proc:function(Yt,Bt){function Ut(){var gr="a"+Jt.length;return Jt.push(gr),gr}var Jt=[];Bt=Bt||0;for(var hr=0;hr<Bt;++hr)Ut();var hr=$t(),vr=hr.toString;return Dt[Yt]=ae(hr,{arg:Ut,toString:function(){return he(["function(",Jt.join(),"){",vr(),"}"])}})},scope:$t,cond:function(){var Yt=he(arguments),Bt=$t(),Ut=$t(),Jt=Bt.toString,hr=Ut.toString;return ae(Bt,{then:function(){return Bt.apply(Bt,oe(arguments)),this},else:function(){return Ut.apply(Ut,oe(arguments)),this},toString:function(){var vr=hr();return vr&&(vr="else{"+vr+"}"),he(["if(",Yt,"){",Jt(),"}",vr])}})},compile:function(){var Yt=['"use strict";',Et,"return {"];Object.keys(Dt).forEach(function(Jt){Yt.push('"',Jt,'":',Dt[Jt].toString(),",")}),Yt.push("}");var Bt=he(Yt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ut;return br&&(Ut=W(z(j(Bt))),br[Ut])?br[Ut].apply(null,ut):(Bt=Function.apply(null,mt.concat(Bt)),br&&(br[Ut]=Bt),Bt.apply(null,ut))}}}function q(gt){return Array.isArray(gt)||Be(gt)||u(gt)}function le(gt){return gt.sort(function(Kt,$t){return Kt==="viewport"?-1:$t==="viewport"?1:Kt<$t?-1:1})}function Q(gt,Kt,$t,br){this.thisDep=gt,this.contextDep=Kt,this.propDep=$t,this.append=br}function te(gt){return gt&&!(gt.thisDep||gt.contextDep||gt.propDep)}function ue(gt){return new Q(!1,!1,!1,gt)}function J(gt,Kt){var $t=gt.type;if($t===0)return $t=gt.data.length,new Q(!0,1<=$t,2<=$t,Kt);if($t===4)return $t=gt.data,new Q($t.thisDep,$t.contextDep,$t.propDep,Kt);if($t===5)return new Q(!1,!1,!1,Kt);if($t===6){for(var br=$t=!1,lr=!1,mt=0;mt<gt.data.length;++mt){var ut=gt.data[mt];ut.type===1?lr=!0:ut.type===2?br=!0:ut.type===3?$t=!0:ut.type===0?($t=!0,ut=ut.data,1<=ut&&(br=!0),2<=ut&&(lr=!0)):ut.type===4&&($t=$t||ut.data.thisDep,br=br||ut.data.contextDep,lr=lr||ut.data.propDep)}return new Q($t,br,lr,Kt)}return new Q($t===3,$t===2,$t===1,Kt)}function K(gt,Kt,$t,br,lr,mt,ut,bt,Et,Dt,Yt,Bt,Ut,Jt,hr,vr){function gr(_r){return _r.replace(".","_")}function Xe(_r,Br,Mr){var Ur=gr(_r);An.push(_r),Un[Ur]=gn[Ur]=!!Mr,En[Ur]=Br}function He(_r,Br,Mr){var Ur=gr(_r);An.push(_r),Array.isArray(Mr)?(gn[Ur]=Mr.slice(),Un[Ur]=Mr.slice()):gn[Ur]=Un[Ur]=Mr,Vn[Ur]=Br}function Nt(){var _r=ne({cache:hr}),Br=_r.link,Mr=_r.global;_r.id=Na++,_r.batchId="0";var Ur=Br(ta),wn=_r.shared={props:"a0"};Object.keys(ta).forEach(function(Qr){wn[Qr]=Mr.def(Ur,".",Qr)});var kn=_r.next={},xn=_r.current={};Object.keys(Vn).forEach(function(Qr){Array.isArray(gn[Qr])&&(kn[Qr]=Mr.def(wn.next,".",Qr),xn[Qr]=Mr.def(wn.current,".",Qr))});var hn=_r.constants={};Object.keys(ga).forEach(function(Qr){hn[Qr]=Mr.def(JSON.stringify(ga[Qr]))}),_r.invoke=function(Qr,Gr){switch(Gr.type){case 0:var rn=["this",wn.context,wn.props,_r.batchId];return Qr.def(Br(Gr.data),".call(",rn.slice(0,Math.max(Gr.data.length+1,4)),")");case 1:return Qr.def(wn.props,Gr.data);case 2:return Qr.def(wn.context,Gr.data);case 3:return Qr.def("this",Gr.data);case 4:return Gr.data.append(_r,Qr),Gr.data.ref;case 5:return Gr.data.toString();case 6:return Gr.data.map(function(Sn){return _r.invoke(Qr,Sn)})}},_r.attribCache={};var Cr={};return _r.scopeAttrib=function(Qr){if(Qr=Kt.id(Qr),Qr in Cr)return Cr[Qr];var Gr=Dt.scope[Qr];return Gr||(Gr=Dt.scope[Qr]=new Zn),Cr[Qr]=Br(Gr)},_r}function Pt(_r){var Br=_r.static;_r=_r.dynamic;var Mr;if("profile"in Br){var Ur=!!Br.profile;Mr=ue(function(kn,xn){return Ur}),Mr.enable=Ur}else if("profile"in _r){var wn=_r.profile;Mr=J(wn,function(kn,xn){return kn.invoke(xn,wn)})}return Mr}function Qt(_r,Br){var Mr=_r.static,Ur=_r.dynamic;if("framebuffer"in Mr){var wn=Mr.framebuffer;return wn?(wn=bt.getFramebuffer(wn),ue(function(xn,hn){var Cr=xn.link(wn),Qr=xn.shared;return hn.set(Qr.framebuffer,".next",Cr),Qr=Qr.context,hn.set(Qr,".framebufferWidth",Cr+".width"),hn.set(Qr,".framebufferHeight",Cr+".height"),Cr})):ue(function(xn,hn){var Cr=xn.shared;return hn.set(Cr.framebuffer,".next","null"),Cr=Cr.context,hn.set(Cr,".framebufferWidth",Cr+".drawingBufferWidth"),hn.set(Cr,".framebufferHeight",Cr+".drawingBufferHeight"),"null"})}if("framebuffer"in Ur){var kn=Ur.framebuffer;return J(kn,function(xn,hn){var Gr=xn.invoke(hn,kn),Cr=xn.shared,Qr=Cr.framebuffer,Gr=hn.def(Qr,".getFramebuffer(",Gr,")");return hn.set(Qr,".next",Gr),Cr=Cr.context,hn.set(Cr,".framebufferWidth",Gr+"?"+Gr+".width:"+Cr+".drawingBufferWidth"),hn.set(Cr,".framebufferHeight",Gr+"?"+Gr+".height:"+Cr+".drawingBufferHeight"),Gr})}return null}function ur(_r,Br,Mr){function Ur(hn){if(hn in wn){var Cr=wn[hn];hn=!0;var Qr=Cr.x|0,Gr=Cr.y|0,rn,Sn;return"width"in Cr?rn=Cr.width|0:hn=!1,"height"in Cr?Sn=Cr.height|0:hn=!1,new Q(!hn&&Br&&Br.thisDep,!hn&&Br&&Br.contextDep,!hn&&Br&&Br.propDep,function(Ln,Wn){var Hn=Ln.shared.context,ya=rn;"width"in Cr||(ya=Wn.def(Hn,".","framebufferWidth","-",Qr));var ca=Sn;return"height"in Cr||(ca=Wn.def(Hn,".","framebufferHeight","-",Gr)),[Qr,Gr,ya,ca]})}if(hn in kn){var Bn=kn[hn];return hn=J(Bn,function(Ln,Wn){var Ia=Ln.invoke(Wn,Bn),Hn=Ln.shared.context,ya=Wn.def(Ia,".x|0"),ca=Wn.def(Ia,".y|0"),ba=Wn.def('"width" in ',Ia,"?",Ia,".width|0:","(",Hn,".","framebufferWidth","-",ya,")"),Ia=Wn.def('"height" in ',Ia,"?",Ia,".height|0:","(",Hn,".","framebufferHeight","-",ca,")");return[ya,ca,ba,Ia]}),Br&&(hn.thisDep=hn.thisDep||Br.thisDep,hn.contextDep=hn.contextDep||Br.contextDep,hn.propDep=hn.propDep||Br.propDep),hn}return Br?new Q(Br.thisDep,Br.contextDep,Br.propDep,function(Ln,Wn){var Hn=Ln.shared.context;return[0,0,Wn.def(Hn,".","framebufferWidth"),Wn.def(Hn,".","framebufferHeight")]}):null}var wn=_r.static,kn=_r.dynamic;if(_r=Ur("viewport")){var xn=_r;_r=new Q(_r.thisDep,_r.contextDep,_r.propDep,function(hn,Cr){var Qr=xn.append(hn,Cr),Gr=hn.shared.context;return Cr.set(Gr,".viewportWidth",Qr[2]),Cr.set(Gr,".viewportHeight",Qr[3]),Qr})}return{viewport:_r,scissor_box:Ur("scissor.box")}}function cr(_r,Br){var Mr=_r.static;if(typeof Mr.frag=="string"&&typeof Mr.vert=="string"){if(0<Object.keys(Br.dynamic).length)return null;var Mr=Br.static,Ur=Object.keys(Mr);if(0<Ur.length&&typeof Mr[Ur[0]]=="number"){for(var wn=[],kn=0;kn<Ur.length;++kn)wn.push([Mr[Ur[kn]]|0,Ur[kn]]);return wn}}return null}function tr(_r,Br,Mr){function Ur(Qr){if(Qr in wn){var Gr=Kt.id(wn[Qr]);return Qr=ue(function(){return Gr}),Qr.id=Gr,Qr}if(Qr in kn){var rn=kn[Qr];return J(rn,function(Sn,Bn){var Ln=Sn.invoke(Bn,rn);return Bn.def(Sn.shared.strings,".id(",Ln,")")})}return null}var wn=_r.static,kn=_r.dynamic,xn=Ur("frag"),hn=Ur("vert"),Cr=null;return te(xn)&&te(hn)?(Cr=Yt.program(hn.id,xn.id,null,Mr),_r=ue(function(Qr,Gr){return Qr.link(Cr)})):_r=new Q(xn&&xn.thisDep||hn&&hn.thisDep,xn&&xn.contextDep||hn&&hn.contextDep,xn&&xn.propDep||hn&&hn.propDep,function(Qr,Gr){var rn=Qr.shared.shader,Sn;Sn=xn?xn.append(Qr,Gr):Gr.def(rn,".","frag");var Bn;return Bn=hn?hn.append(Qr,Gr):Gr.def(rn,".","vert"),Gr.def(rn+".program("+Bn+","+Sn+")")}),{frag:xn,vert:hn,progVar:_r,program:Cr}}function zt(_r,Br){function Mr(Ln,Wn){if(Ln in Ur){var Hn=Ur[Ln]|0;return Wn?kn.offset=Hn:kn.instances=Hn,ue(function(ca,ba){return Wn&&(ca.OFFSET=Hn),Hn})}if(Ln in wn){var ya=wn[Ln];return J(ya,function(ca,ba){var Ia=ca.invoke(ba,ya);return Wn&&(ca.OFFSET=Ia),Ia})}if(Wn){if(Cr)return ue(function(ca,ba){return ca.OFFSET=0});if(xn)return new Q(hn.thisDep,hn.contextDep,hn.propDep,function(ca,ba){return ba.def(ca.shared.vao+".currentVAO?"+ca.shared.vao+".currentVAO.offset:0")})}else if(xn)return new Q(hn.thisDep,hn.contextDep,hn.propDep,function(ca,ba){return ba.def(ca.shared.vao+".currentVAO?"+ca.shared.vao+".currentVAO.instances:-1")});return null}var Ur=_r.static,wn=_r.dynamic,kn={},xn=!1,hn=function(){if("vao"in Ur){var Ln=Ur.vao;return Ln!==null&&Dt.getVAO(Ln)===null&&(Ln=Dt.createVAO(Ln)),xn=!0,kn.vao=Ln,ue(function(Hn){var ya=Dt.getVAO(Ln);return ya?Hn.link(ya):"null"})}if("vao"in wn){xn=!0;var Wn=wn.vao;return J(Wn,function(Hn,ya){var ca=Hn.invoke(ya,Wn);return ya.def(Hn.shared.vao+".getVAO("+ca+")")})}return null}(),Cr=!1,Qr=function(){if("elements"in Ur){var Ln=Ur.elements;if(kn.elements=Ln,q(Ln)){var Wn=kn.elements=mt.create(Ln,!0),Ln=mt.getElements(Wn);Cr=!0}else Ln&&(Ln=mt.getElements(Ln),Cr=!0);return Wn=ue(function(ya,ca){if(Ln){var ba=ya.link(Ln);return ya.ELEMENTS=ba}return ya.ELEMENTS=null}),Wn.value=Ln,Wn}if("elements"in wn){Cr=!0;var Hn=wn.elements;return J(Hn,function(ya,ca){var ba=ya.shared,Ii=ba.isBufferArgs,ba=ba.elements,xi=ya.invoke(ca,Hn),Ia=ca.def("null"),Ii=ca.def(Ii,"(",xi,")"),xi=ya.cond(Ii).then(Ia,"=",ba,".createStream(",xi,");").else(Ia,"=",ba,".getElements(",xi,");");return ca.entry(xi),ca.exit(ya.cond(Ii).then(ba,".destroyStream(",Ia,");")),ya.ELEMENTS=Ia})}return xn?new Q(hn.thisDep,hn.contextDep,hn.propDep,function(ya,ca){return ca.def(ya.shared.vao+".currentVAO?"+ya.shared.elements+".getElements("+ya.shared.vao+".currentVAO.elements):null")}):null}(),Gr=Mr("offset",!0),rn=function(){if("primitive"in Ur){var Ln=Ur.primitive;return kn.primitive=Ln,ue(function(Hn,ya){return $e[Ln]})}if("primitive"in wn){var Wn=wn.primitive;return J(Wn,function(Hn,ya){var ca=Hn.constants.primTypes,ba=Hn.invoke(ya,Wn);return ya.def(ca,"[",ba,"]")})}return Cr?te(Qr)?Qr.value?ue(function(Hn,ya){return ya.def(Hn.ELEMENTS,".primType")}):ue(function(){return 4}):new Q(Qr.thisDep,Qr.contextDep,Qr.propDep,function(Hn,ya){var ca=Hn.ELEMENTS;return ya.def(ca,"?",ca,".primType:",4)}):xn?new Q(hn.thisDep,hn.contextDep,hn.propDep,function(Hn,ya){return ya.def(Hn.shared.vao+".currentVAO?"+Hn.shared.vao+".currentVAO.primitive:4")}):null}(),Sn=function(){if("count"in Ur){var Ln=Ur.count|0;return kn.count=Ln,ue(function(){return Ln})}if("count"in wn){var Wn=wn.count;return J(Wn,function(Hn,ya){return Hn.invoke(ya,Wn)})}return Cr?te(Qr)?Qr?Gr?new Q(Gr.thisDep,Gr.contextDep,Gr.propDep,function(Hn,ya){return ya.def(Hn.ELEMENTS,".vertCount-",Hn.OFFSET)}):ue(function(Hn,ya){return ya.def(Hn.ELEMENTS,".vertCount")}):ue(function(){return-1}):new Q(Qr.thisDep||Gr.thisDep,Qr.contextDep||Gr.contextDep,Qr.propDep||Gr.propDep,function(Hn,ya){var ca=Hn.ELEMENTS;return Hn.OFFSET?ya.def(ca,"?",ca,".vertCount-",Hn.OFFSET,":-1"):ya.def(ca,"?",ca,".vertCount:-1")}):xn?new Q(hn.thisDep,hn.contextDep,hn.propDep,function(Hn,ya){return ya.def(Hn.shared.vao,".currentVAO?",Hn.shared.vao,".currentVAO.count:-1")}):null}(),Bn=Mr("instances",!1);return{elements:Qr,primitive:rn,count:Sn,instances:Bn,offset:Gr,vao:hn,vaoActive:xn,elementsActive:Cr,static:kn}}function or(_r,Br){var Mr=_r.static,Ur=_r.dynamic,wn={};return An.forEach(function(kn){function xn(Cr,Qr){if(kn in Mr){var Gr=Cr(Mr[kn]);wn[hn]=ue(function(){return Gr})}else if(kn in Ur){var rn=Ur[kn];wn[hn]=J(rn,function(Sn,Bn){return Qr(Sn,Bn,Sn.invoke(Bn,rn))})}}var hn=gr(kn);switch(kn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return xn(function(Cr){return Cr},function(Cr,Qr,Gr){return Gr});case"depth.func":return xn(function(Cr){return jt[Cr]},function(Cr,Qr,Gr){return Qr.def(Cr.constants.compareFuncs,"[",Gr,"]")});case"depth.range":return xn(function(Cr){return Cr},function(Cr,Qr,Gr){return Cr=Qr.def("+",Gr,"[0]"),Qr=Qr.def("+",Gr,"[1]"),[Cr,Qr]});case"blend.func":return xn(function(Cr){return[Wt["srcRGB"in Cr?Cr.srcRGB:Cr.src],Wt["dstRGB"in Cr?Cr.dstRGB:Cr.dst],Wt["srcAlpha"in Cr?Cr.srcAlpha:Cr.src],Wt["dstAlpha"in Cr?Cr.dstAlpha:Cr.dst]]},function(Cr,Qr,Gr){function rn(Wn,Hn){return Qr.def('"',Wn,Hn,'" in ',Gr,"?",Gr,".",Wn,Hn,":",Gr,".",Wn)}Cr=Cr.constants.blendFuncs;var Sn=rn("src","RGB"),Ln=rn("dst","RGB"),Sn=Qr.def(Cr,"[",Sn,"]"),Bn=Qr.def(Cr,"[",rn("src","Alpha"),"]"),Ln=Qr.def(Cr,"[",Ln,"]");return Cr=Qr.def(Cr,"[",rn("dst","Alpha"),"]"),[Sn,Ln,Bn,Cr]});case"blend.equation":return xn(function(Cr){if(typeof Cr=="string")return[ea[Cr],ea[Cr]];if(typeof Cr=="object")return[ea[Cr.rgb],ea[Cr.alpha]]},function(Cr,Qr,Gr){var rn=Cr.constants.blendEquations,Sn=Qr.def(),Bn=Qr.def();return Cr=Cr.cond("typeof ",Gr,'==="string"'),Cr.then(Sn,"=",Bn,"=",rn,"[",Gr,"];"),Cr.else(Sn,"=",rn,"[",Gr,".rgb];",Bn,"=",rn,"[",Gr,".alpha];"),Qr(Cr),[Sn,Bn]});case"blend.color":return xn(function(Cr){return a(4,function(Qr){return+Cr[Qr]})},function(Cr,Qr,Gr){return a(4,function(rn){return Qr.def("+",Gr,"[",rn,"]")})});case"stencil.mask":return xn(function(Cr){return Cr|0},function(Cr,Qr,Gr){return Qr.def(Gr,"|0")});case"stencil.func":return xn(function(Cr){return[jt[Cr.cmp||"keep"],Cr.ref||0,"mask"in Cr?Cr.mask:-1]},function(Cr,Qr,Gr){Cr=Qr.def('"cmp" in ',Gr,"?",Cr.constants.compareFuncs,"[",Gr,".cmp]",":",7680);var rn=Qr.def(Gr,".ref|0");return Qr=Qr.def('"mask" in ',Gr,"?",Gr,".mask|0:-1"),[Cr,rn,Qr]});case"stencil.opFront":case"stencil.opBack":return xn(function(Cr){return[kn==="stencil.opBack"?1029:1028,Tt[Cr.fail||"keep"],Tt[Cr.zfail||"keep"],Tt[Cr.zpass||"keep"]]},function(Cr,Qr,Gr){function rn(Bn){return Qr.def('"',Bn,'" in ',Gr,"?",Sn,"[",Gr,".",Bn,"]:",7680)}var Sn=Cr.constants.stencilOps;return[kn==="stencil.opBack"?1029:1028,rn("fail"),rn("zfail"),rn("zpass")]});case"polygonOffset.offset":return xn(function(Cr){return[Cr.factor|0,Cr.units|0]},function(Cr,Qr,Gr){return Cr=Qr.def(Gr,".factor|0"),Qr=Qr.def(Gr,".units|0"),[Cr,Qr]});case"cull.face":return xn(function(Cr){var Qr=0;return Cr==="front"?Qr=1028:Cr==="back"&&(Qr=1029),Qr},function(Cr,Qr,Gr){return Qr.def(Gr,'==="front"?',1028,":",1029)});case"lineWidth":return xn(function(Cr){return Cr},function(Cr,Qr,Gr){return Gr});case"frontFace":return xn(function(Cr){return Rt[Cr]},function(Cr,Qr,Gr){return Qr.def(Gr+'==="cw"?2304:2305')});case"colorMask":return xn(function(Cr){return Cr.map(function(Qr){return!!Qr})},function(Cr,Qr,Gr){return a(4,function(rn){return"!!"+Gr+"["+rn+"]"})});case"sample.coverage":return xn(function(Cr){return["value"in Cr?Cr.value:1,!!Cr.invert]},function(Cr,Qr,Gr){return Cr=Qr.def('"value" in ',Gr,"?+",Gr,".value:1"),Qr=Qr.def("!!",Gr,".invert"),[Cr,Qr]})}}),wn}function dr(_r,Br){var Mr=_r.static,Ur=_r.dynamic,wn={};return Object.keys(Mr).forEach(function(kn){var xn=Mr[kn],hn;if(typeof xn=="number"||typeof xn=="boolean")hn=ue(function(){return xn});else if(typeof xn=="function"){var Cr=xn._reglType;Cr==="texture2d"||Cr==="textureCube"?hn=ue(function(Qr){return Qr.link(xn)}):(Cr==="framebuffer"||Cr==="framebufferCube")&&(hn=ue(function(Qr){return Qr.link(xn.color[0])}))}else w(xn)&&(hn=ue(function(Qr){return Qr.global.def("[",a(xn.length,function(Gr){return xn[Gr]}),"]")}));hn.value=xn,wn[kn]=hn}),Object.keys(Ur).forEach(function(kn){var xn=Ur[kn];wn[kn]=J(xn,function(hn,Cr){return hn.invoke(Cr,xn)})}),wn}function wr(_r,Br){var Mr=_r.static,Ur=_r.dynamic,wn={};return Object.keys(Mr).forEach(function(kn){var xn=Mr[kn],hn=Kt.id(kn),Cr=new Zn;if(q(xn))Cr.state=1,Cr.buffer=lr.getBuffer(lr.create(xn,34962,!1,!0)),Cr.type=0;else{var Qr=lr.getBuffer(xn);if(Qr)Cr.state=1,Cr.buffer=Qr,Cr.type=0;else if("constant"in xn){var Gr=xn.constant;Cr.buffer="null",Cr.state=2,typeof Gr=="number"?Cr.x=Gr:st.forEach(function(Hn,ya){ya<Gr.length&&(Cr[Hn]=Gr[ya])})}else{var Qr=q(xn.buffer)?lr.getBuffer(lr.create(xn.buffer,34962,!1,!0)):lr.getBuffer(xn.buffer),rn=xn.offset|0,Sn=xn.stride|0,Bn=xn.size|0,Ln=!!xn.normalized,Wn=0;"type"in xn&&(Wn=Ne[xn.type]),xn=xn.divisor|0,Cr.buffer=Qr,Cr.state=1,Cr.size=Bn,Cr.normalized=Ln,Cr.type=Wn||Qr.dtype,Cr.offset=rn,Cr.stride=Sn,Cr.divisor=xn}}wn[kn]=ue(function(Hn,ya){var ca=Hn.attribCache;if(hn in ca)return ca[hn];var ba={isStream:!1};return Object.keys(Cr).forEach(function(Ia){ba[Ia]=Cr[Ia]}),Cr.buffer&&(ba.buffer=Hn.link(Cr.buffer),ba.type=ba.type||ba.buffer+".dtype"),ca[hn]=ba})}),Object.keys(Ur).forEach(function(kn){var xn=Ur[kn];wn[kn]=J(xn,function(hn,Cr){function Qr(ca){Cr(Ln[ca],"=",Gr,".",ca,"|0;")}var Gr=hn.invoke(Cr,xn),Bn=hn.shared,rn=hn.constants,Sn=Bn.isBufferArgs,Bn=Bn.buffer,Ln={isStream:Cr.def(!1)},Wn=new Zn;Wn.state=1,Object.keys(Wn).forEach(function(ca){Ln[ca]=Cr.def(""+Wn[ca])});var Hn=Ln.buffer,ya=Ln.type;return Cr("if(",Sn,"(",Gr,")){",Ln.isStream,"=true;",Hn,"=",Bn,".createStream(",34962,",",Gr,");",ya,"=",Hn,".dtype;","}else{",Hn,"=",Bn,".getBuffer(",Gr,");","if(",Hn,"){",ya,"=",Hn,".dtype;",'}else if("constant" in ',Gr,"){",Ln.state,"=",2,";","if(typeof "+Gr+'.constant === "number"){',Ln[st[0]],"=",Gr,".constant;",st.slice(1).map(function(ca){return Ln[ca]}).join("="),"=0;","}else{",st.map(function(ca,ba){return Ln[ca]+"="+Gr+".constant.length>"+ba+"?"+Gr+".constant["+ba+"]:0;"}).join(""),"}}else{","if(",Sn,"(",Gr,".buffer)){",Hn,"=",Bn,".createStream(",34962,",",Gr,".buffer);","}else{",Hn,"=",Bn,".getBuffer(",Gr,".buffer);","}",ya,'="type" in ',Gr,"?",rn.glTypes,"[",Gr,".type]:",Hn,".dtype;",Ln.normalized,"=!!",Gr,".normalized;"),Qr("size"),Qr("offset"),Qr("stride"),Qr("divisor"),Cr("}}"),Cr.exit("if(",Ln.isStream,"){",Bn,".destroyStream(",Hn,");","}"),Ln})}),wn}function pr(_r){var Br=_r.static,Mr=_r.dynamic,Ur={};return Object.keys(Br).forEach(function(wn){var kn=Br[wn];Ur[wn]=ue(function(xn,hn){return typeof kn=="number"||typeof kn=="boolean"?""+kn:xn.link(kn)})}),Object.keys(Mr).forEach(function(wn){var kn=Mr[wn];Ur[wn]=J(kn,function(xn,hn){return xn.invoke(hn,kn)})}),Ur}function Wr(_r,Br,Mr,Ur,wn){function kn(Wn){var Hn=hn[Wn];Hn&&(Qr[Wn]=Hn)}var xn=cr(_r,Br),Sn=Qt(_r),hn=ur(_r,Sn),Cr=zt(_r),Qr=or(_r),Gr=tr(_r,wn,xn);kn("viewport"),kn(gr("scissor.box"));var rn=0<Object.keys(Qr).length,Sn={framebuffer:Sn,draw:Cr,shader:Gr,state:Qr,dirty:rn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Sn.profile=Pt(_r),Sn.uniforms=dr(Mr),Sn.drawVAO=Sn.scopeVAO=Cr.vao,!Sn.drawVAO&&Gr.program&&!xn&&$t.angle_instanced_arrays&&Cr.static.elements){var Bn=!0;if(_r=Gr.program.attributes.map(function(Wn){return Wn=Br.static[Wn],Bn=Bn&&!!Wn,Wn}),Bn&&0<_r.length){var Ln=Dt.getVAO(Dt.createVAO({attributes:_r,elements:Cr.static.elements}));Sn.drawVAO=new Q(null,null,null,function(Wn,Hn){return Wn.link(Ln)}),Sn.useVAO=!0}}return xn?Sn.useVAO=!0:Sn.attributes=wr(Br),Sn.context=pr(Ur),Sn}function Pr(_r,Br,Mr){var Ur=_r.shared.context,wn=_r.scope();Object.keys(Mr).forEach(function(kn){Br.save(Ur,"."+kn);var xn=Mr[kn].append(_r,Br);Array.isArray(xn)?wn(Ur,".",kn,"=[",xn.join(),"];"):wn(Ur,".",kn,"=",xn,";")}),Br(wn)}function Ir(_r,Br,Mr,Ur){var hn=_r.shared,wn=hn.gl,kn=hn.framebuffer,xn;nn&&(xn=Br.def(hn.extensions,".webgl_draw_buffers"));var Cr=_r.constants,hn=Cr.drawBuffer,Cr=Cr.backBuffer;_r=Mr?Mr.append(_r,Br):Br.def(kn,".next"),Ur||Br("if(",_r,"!==",kn,".cur){"),Br("if(",_r,"){",wn,".bindFramebuffer(",36160,",",_r,".framebuffer);"),nn&&Br(xn,".drawBuffersWEBGL(",hn,"[",_r,".colorAttachments.length]);"),Br("}else{",wn,".bindFramebuffer(",36160,",null);"),nn&&Br(xn,".drawBuffersWEBGL(",Cr,");"),Br("}",kn,".cur=",_r,";"),Ur||Br("}")}function ln(_r,Br,Mr){var Ur=_r.shared,wn=Ur.gl,kn=_r.current,xn=_r.next,hn=Ur.current,Cr=Ur.next,Qr=_r.cond(hn,".dirty");An.forEach(function(Gr){if(Gr=gr(Gr),!(Gr in Mr.state)){var rn,Sn;if(Gr in xn){rn=xn[Gr],Sn=kn[Gr];var Bn=a(gn[Gr].length,function(Ln){return Qr.def(rn,"[",Ln,"]")});Qr(_r.cond(Bn.map(function(Ln,Wn){return Ln+"!=="+Sn+"["+Wn+"]"}).join("||")).then(wn,".",Vn[Gr],"(",Bn,");",Bn.map(function(Ln,Wn){return Sn+"["+Wn+"]="+Ln}).join(";"),";"))}else rn=Qr.def(Cr,".",Gr),Bn=_r.cond(rn,"!==",hn,".",Gr),Qr(Bn),Gr in En?Bn(_r.cond(rn).then(wn,".enable(",En[Gr],");").else(wn,".disable(",En[Gr],");"),hn,".",Gr,"=",rn,";"):Bn(wn,".",Vn[Gr],"(",rn,");",hn,".",Gr,"=",rn,";")}}),Object.keys(Mr.state).length===0&&Qr(hn,".dirty=false;"),Br(Qr)}function an(_r,Br,Mr,Ur){var wn=_r.shared,kn=_r.current,xn=wn.current,hn=wn.gl,Cr;le(Object.keys(Mr)).forEach(function(Qr){var Gr=Mr[Qr];if(!Ur||Ur(Gr)){var rn=Gr.append(_r,Br);if(En[Qr]){var Sn=En[Qr];te(Gr)?(Cr=_r.link(rn,{stable:!0}),Br(_r.cond(Cr).then(hn,".enable(",Sn,");").else(hn,".disable(",Sn,");")),Br(xn,".",Qr,"=",Cr,";")):(Br(_r.cond(rn).then(hn,".enable(",Sn,");").else(hn,".disable(",Sn,");")),Br(xn,".",Qr,"=",rn,";"))}else if(w(rn)){var Bn=kn[Qr];Br(hn,".",Vn[Qr],"(",rn,");",rn.map(function(Ln,Wn){return Bn+"["+Wn+"]="+Ln}).join(";"),";")}else te(Gr)?(Cr=_r.link(rn,{stable:!0}),Br(hn,".",Vn[Qr],"(",Cr,");",xn,".",Qr,"=",Cr,";")):Br(hn,".",Vn[Qr],"(",rn,");",xn,".",Qr,"=",rn,";")}})}function _n(_r,Br){xr&&(_r.instancing=Br.def(_r.shared.extensions,".angle_instanced_arrays"))}function Mn(_r,Br,Mr,Ur,wn){function kn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function xn(Wn){Bn=Br.def(),Wn(Bn,"=",kn(),";"),typeof wn=="string"?Wn(Gr,".count+=",wn,";"):Wn(Gr,".count++;"),Jt&&(Ur?(Ln=Br.def(),Wn(Ln,"=",Sn,".getNumPendingQueries();")):Wn(Sn,".beginQuery(",Gr,");"))}function hn(Wn){Wn(Gr,".cpuTime+=",kn(),"-",Bn,";"),Jt&&(Ur?Wn(Sn,".pushScopeStats(",Ln,",",Sn,".getNumPendingQueries(),",Gr,");"):Wn(Sn,".endQuery();"))}function Cr(Wn){var Hn=Br.def(rn,".profile");Br(rn,".profile=",Wn,";"),Br.exit(rn,".profile=",Hn,";")}var Qr=_r.shared,Gr=_r.stats,rn=Qr.current,Sn=Qr.timer;Mr=Mr.profile;var Bn,Ln;if(Mr){if(te(Mr)){Mr.enable?(xn(Br),hn(Br.exit),Cr("true")):Cr("false");return}Mr=Mr.append(_r,Br),Cr(Mr)}else Mr=Br.def(rn,".profile");Qr=_r.block(),xn(Qr),Br("if(",Mr,"){",Qr,"}"),_r=_r.block(),hn(_r),Br.exit("if(",Mr,"){",_r,"}")}function Sr(_r,Br,Mr,Ur,wn){function kn(Cr){switch(Cr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function xn(Cr,Qr,Gr){function rn(){Br("if(!",Wn,".buffer){",Bn,".enableVertexAttribArray(",Ln,");}");var ba=Gr.type,Ia;Ia=Gr.size?Br.def(Gr.size,"||",Qr):Qr,Br("if(",Wn,".type!==",ba,"||",Wn,".size!==",Ia,"||",ca.map(function(Ii){return Wn+"."+Ii+"!=="+Gr[Ii]}).join("||"),"){",Bn,".bindBuffer(",34962,",",Hn,".buffer);",Bn,".vertexAttribPointer(",[Ln,Ia,ba,Gr.normalized,Gr.stride,Gr.offset],");",Wn,".type=",ba,";",Wn,".size=",Ia,";",ca.map(function(Ii){return Wn+"."+Ii+"="+Gr[Ii]+";"}).join(""),"}"),xr&&(ba=Gr.divisor,Br("if(",Wn,".divisor!==",ba,"){",_r.instancing,".vertexAttribDivisorANGLE(",[Ln,ba],");",Wn,".divisor=",ba,";}"))}function Sn(){Br("if(",Wn,".buffer){",Bn,".disableVertexAttribArray(",Ln,");",Wn,".buffer=null;","}if(",st.map(function(ba,Ia){return Wn+"."+ba+"!=="+ya[Ia]}).join("||"),"){",Bn,".vertexAttrib4f(",Ln,",",ya,");",st.map(function(ba,Ia){return Wn+"."+ba+"="+ya[Ia]+";"}).join(""),"}")}var Bn=hn.gl,Ln=Br.def(Cr,".location"),Wn=Br.def(hn.attributes,"[",Ln,"]");Cr=Gr.state;var Hn=Gr.buffer,ya=[Gr.x,Gr.y,Gr.z,Gr.w],ca=["buffer","normalized","offset","stride"];Cr===1?rn():Cr===2?Sn():(Br("if(",Cr,"===",1,"){"),rn(),Br("}else{"),Sn(),Br("}"))}var hn=_r.shared;Ur.forEach(function(Cr){var Qr=Cr.name,Gr=Mr.attributes[Qr],rn;if(Gr){if(!wn(Gr))return;rn=Gr.append(_r,Br)}else{if(!wn(Zt))return;var Sn=_r.scopeAttrib(Qr);rn={},Object.keys(new Zn).forEach(function(Bn){rn[Bn]=Br.def(Sn,".",Bn)})}xn(_r.link(Cr),kn(Cr.info.type),rn)})}function Nr(_r,Br,Mr,Ur,wn,kn){for(var xn=_r.shared,hn=xn.gl,Cr,Qr=0;Qr<Ur.length;++Qr){var Bn=Ur[Qr],Gr=Bn.name,rn=Bn.info.type,Sn=Mr.uniforms[Gr],Bn=_r.link(Bn)+".location",Ln;if(Sn){if(!wn(Sn))continue;if(te(Sn)){if(Gr=Sn.value,rn===35678||rn===35680)rn=_r.link(Gr._texture||Gr.color[0]._texture),Br(hn,".uniform1i(",Bn,",",rn+".bind());"),Br.exit(rn,".unbind();");else if(rn===35674||rn===35675||rn===35676)Gr=_r.global.def("new Float32Array(["+Array.prototype.slice.call(Gr)+"])"),Sn=2,rn===35675?Sn=3:rn===35676&&(Sn=4),Br(hn,".uniformMatrix",Sn,"fv(",Bn,",false,",Gr,");");else{switch(rn){case 5126:Cr="1f";break;case 35664:Cr="2f";break;case 35665:Cr="3f";break;case 35666:Cr="4f";break;case 35670:Cr="1i";break;case 5124:Cr="1i";break;case 35671:Cr="2i";break;case 35667:Cr="2i";break;case 35672:Cr="3i";break;case 35668:Cr="3i";break;case 35673:Cr="4i";break;case 35669:Cr="4i"}Br(hn,".uniform",Cr,"(",Bn,",",w(Gr)?Array.prototype.slice.call(Gr):Gr,");")}continue}else Ln=Sn.append(_r,Br)}else{if(!wn(Zt))continue;Ln=Br.def(xn.uniforms,"[",Kt.id(Gr),"]")}switch(rn===35678?Br("if(",Ln,"&&",Ln,'._reglType==="framebuffer"){',Ln,"=",Ln,".color[0];","}"):rn===35680&&Br("if(",Ln,"&&",Ln,'._reglType==="framebufferCube"){',Ln,"=",Ln,".color[0];","}"),Gr=1,rn){case 35678:case 35680:rn=Br.def(Ln,"._texture"),Br(hn,".uniform1i(",Bn,",",rn,".bind());"),Br.exit(rn,".unbind();");continue;case 5124:case 35670:Cr="1i";break;case 35667:case 35671:Cr="2i",Gr=2;break;case 35668:case 35672:Cr="3i",Gr=3;break;case 35669:case 35673:Cr="4i",Gr=4;break;case 5126:Cr="1f";break;case 35664:Cr="2f",Gr=2;break;case 35665:Cr="3f",Gr=3;break;case 35666:Cr="4f",Gr=4;break;case 35674:Cr="Matrix2fv";break;case 35675:Cr="Matrix3fv";break;case 35676:Cr="Matrix4fv"}if(Cr.charAt(0)==="M"){Br(hn,".uniform",Cr,"(",Bn,",");var Bn=Math.pow(rn-35674+2,2),Wn=_r.global.def("new Float32Array(",Bn,")");Array.isArray(Ln)?Br("false,(",a(Bn,function(ca){return Wn+"["+ca+"]="+Ln[ca]}),",",Wn,")"):Br("false,(Array.isArray(",Ln,")||",Ln," instanceof Float32Array)?",Ln,":(",a(Bn,function(ca){return Wn+"["+ca+"]="+Ln+"["+ca+"]"}),",",Wn,")"),Br(");")}else{if(1<Gr){for(var rn=[],Hn=[],Sn=0;Sn<Gr;++Sn)Array.isArray(Ln)?Hn.push(Ln[Sn]):Hn.push(Br.def(Ln+"["+Sn+"]")),kn&&rn.push(Br.def());kn&&Br("if(!",_r.batchId,"||",rn.map(function(ya,ca){return ya+"!=="+Hn[ca]}).join("||"),"){",rn.map(function(ya,ca){return ya+"="+Hn[ca]+";"}).join("")),Br(hn,".uniform",Cr,"(",Bn,",",Hn.join(","),");")}else kn&&(rn=Br.def(),Br("if(!",_r.batchId,"||",rn,"!==",Ln,"){",rn,"=",Ln,";")),Br(hn,".uniform",Cr,"(",Bn,",",Ln,");");kn&&Br("}")}}}function Zr(_r,Br,Mr,Ur){function wn(ba){var Ia=Gr[ba];return Ia?Ia.contextDep&&Ur.contextDynamic||Ia.propDep?Ia.append(_r,Mr):Ia.append(_r,Br):Br.def(Qr,".",ba)}function kn(){function ba(){Mr(Hn,".drawElementsInstancedANGLE(",[Sn,Ln,ya,Bn+"<<(("+ya+"-5121)>>1)",Wn],");")}function Ia(){Mr(Hn,".drawArraysInstancedANGLE(",[Sn,Bn,Ln,Wn],");")}rn&&rn!=="null"?ca?ba():(Mr("if(",rn,"){"),ba(),Mr("}else{"),Ia(),Mr("}")):Ia()}function xn(){function ba(){Mr(Cr+".drawElements("+[Sn,Ln,ya,Bn+"<<(("+ya+"-5121)>>1)"]+");")}function Ia(){Mr(Cr+".drawArrays("+[Sn,Bn,Ln]+");")}rn&&rn!=="null"?ca?ba():(Mr("if(",rn,"){"),ba(),Mr("}else{"),Ia(),Mr("}")):Ia()}var hn=_r.shared,Cr=hn.gl,Qr=hn.draw,Gr=Ur.draw,rn=function(){var ba=Gr.elements,Ia=Br;return ba?((ba.contextDep&&Ur.contextDynamic||ba.propDep)&&(Ia=Mr),ba=ba.append(_r,Ia),Gr.elementsActive&&Ia("if("+ba+")"+Cr+".bindBuffer(34963,"+ba+".buffer.buffer);")):(ba=Ia.def(),Ia(ba,"=",Qr,".","elements",";","if(",ba,"){",Cr,".bindBuffer(",34963,",",ba,".buffer.buffer);}","else if(",hn.vao,".currentVAO){",ba,"=",_r.shared.elements+".getElements("+hn.vao,".currentVAO.elements);",qr?"":"if("+ba+")"+Cr+".bindBuffer(34963,"+ba+".buffer.buffer);","}")),ba}(),Sn=wn("primitive"),Bn=wn("offset"),Ln=function(){var ba=Gr.count,Ia=Br;return ba?((ba.contextDep&&Ur.contextDynamic||ba.propDep)&&(Ia=Mr),ba=ba.append(_r,Ia)):ba=Ia.def(Qr,".","count"),ba}();if(typeof Ln=="number"){if(Ln===0)return}else Mr("if(",Ln,"){"),Mr.exit("}");var Wn,Hn;xr&&(Wn=wn("instances"),Hn=_r.instancing);var ya=rn+".type",ca=Gr.elements&&te(Gr.elements)&&!Gr.vaoActive;xr&&(typeof Wn!="number"||0<=Wn)?typeof Wn=="string"?(Mr("if(",Wn,">0){"),kn(),Mr("}else if(",Wn,"<0){"),xn(),Mr("}")):kn():xn()}function Fr(_r,Br,Mr,Ur,wn){return Br=Nt(),wn=Br.proc("body",wn),xr&&(Br.instancing=wn.def(Br.shared.extensions,".angle_instanced_arrays")),_r(Br,wn,Mr,Ur),Br.compile().body}function cn(_r,Br,Mr,Ur){_n(_r,Br),Mr.useVAO?Mr.drawVAO?Br(_r.shared.vao,".setVAO(",Mr.drawVAO.append(_r,Br),");"):Br(_r.shared.vao,".setVAO(",_r.shared.vao,".targetVAO);"):(Br(_r.shared.vao,".setVAO(null);"),Sr(_r,Br,Mr,Ur.attributes,function(){return!0})),Nr(_r,Br,Mr,Ur.uniforms,function(){return!0},!1),Zr(_r,Br,Br,Mr)}function vn(_r,Br){var Mr=_r.proc("draw",1);_n(_r,Mr),Pr(_r,Mr,Br.context),Ir(_r,Mr,Br.framebuffer),ln(_r,Mr,Br),an(_r,Mr,Br.state),Mn(_r,Mr,Br,!1,!0);var Ur=Br.shader.progVar.append(_r,Mr);if(Mr(_r.shared.gl,".useProgram(",Ur,".program);"),Br.shader.program)cn(_r,Mr,Br,Br.shader.program);else{Mr(_r.shared.vao,".setVAO(null);");var wn=_r.global.def("{}"),kn=Mr.def(Ur,".id"),xn=Mr.def(wn,"[",kn,"]");Mr(_r.cond(xn).then(xn,".call(this,a0);").else(xn,"=",wn,"[",kn,"]=",_r.link(function(hn){return Fr(cn,_r,Br,hn,1)}),"(",Ur,");",xn,".call(this,a0);"))}0<Object.keys(Br.state).length&&Mr(_r.shared.current,".dirty=true;"),_r.shared.vao&&Mr(_r.shared.vao,".setVAO(null);")}function Cn(_r,Br,Mr,Ur){function wn(){return!0}_r.batchId="a1",_n(_r,Br),Sr(_r,Br,Mr,Ur.attributes,wn),Nr(_r,Br,Mr,Ur.uniforms,wn,!1),Zr(_r,Br,Br,Mr)}function Rn(_r,Br,Mr,Ur){function wn(rn){return rn.contextDep&&xn||rn.propDep}function kn(rn){return!wn(rn)}_n(_r,Br);var xn=Mr.contextDep,hn=Br.def(),Cr=Br.def();_r.shared.props=Cr,_r.batchId=hn;var Qr=_r.scope(),Gr=_r.scope();Br(Qr.entry,"for(",hn,"=0;",hn,"<","a1",";++",hn,"){",Cr,"=","a0","[",hn,"];",Gr,"}",Qr.exit),Mr.needsContext&&Pr(_r,Gr,Mr.context),Mr.needsFramebuffer&&Ir(_r,Gr,Mr.framebuffer),an(_r,Gr,Mr.state,wn),Mr.profile&&wn(Mr.profile)&&Mn(_r,Gr,Mr,!1,!0),Ur?(Mr.useVAO?Mr.drawVAO?wn(Mr.drawVAO)?Gr(_r.shared.vao,".setVAO(",Mr.drawVAO.append(_r,Gr),");"):Qr(_r.shared.vao,".setVAO(",Mr.drawVAO.append(_r,Qr),");"):Qr(_r.shared.vao,".setVAO(",_r.shared.vao,".targetVAO);"):(Qr(_r.shared.vao,".setVAO(null);"),Sr(_r,Qr,Mr,Ur.attributes,kn),Sr(_r,Gr,Mr,Ur.attributes,wn)),Nr(_r,Qr,Mr,Ur.uniforms,kn,!1),Nr(_r,Gr,Mr,Ur.uniforms,wn,!0),Zr(_r,Qr,Gr,Mr)):(Br=_r.global.def("{}"),Ur=Mr.shader.progVar.append(_r,Gr),Cr=Gr.def(Ur,".id"),Qr=Gr.def(Br,"[",Cr,"]"),Gr(_r.shared.gl,".useProgram(",Ur,".program);","if(!",Qr,"){",Qr,"=",Br,"[",Cr,"]=",_r.link(function(rn){return Fr(Cn,_r,Mr,rn,2)}),"(",Ur,");}",Qr,".call(this,a0[",hn,"],",hn,");"))}function Gn(_r,Br){function Mr(Qr){return Qr.contextDep&&wn||Qr.propDep}var Ur=_r.proc("batch",2);_r.batchId="0",_n(_r,Ur);var wn=!1,kn=!0;Object.keys(Br.context).forEach(function(Qr){wn=wn||Br.context[Qr].propDep}),wn||(Pr(_r,Ur,Br.context),kn=!1);var xn=Br.framebuffer,hn=!1;if(xn?(xn.propDep?wn=hn=!0:xn.contextDep&&wn&&(hn=!0),hn||Ir(_r,Ur,xn)):Ir(_r,Ur,null),Br.state.viewport&&Br.state.viewport.propDep&&(wn=!0),ln(_r,Ur,Br),an(_r,Ur,Br.state,function(Qr){return!Mr(Qr)}),Br.profile&&Mr(Br.profile)||Mn(_r,Ur,Br,!1,"a1"),Br.contextDep=wn,Br.needsContext=kn,Br.needsFramebuffer=hn,kn=Br.shader.progVar,kn.contextDep&&wn||kn.propDep)Rn(_r,Ur,Br,null);else if(kn=kn.append(_r,Ur),Ur(_r.shared.gl,".useProgram(",kn,".program);"),Br.shader.program)Rn(_r,Ur,Br,Br.shader.program);else{Ur(_r.shared.vao,".setVAO(null);");var xn=_r.global.def("{}"),hn=Ur.def(kn,".id"),Cr=Ur.def(xn,"[",hn,"]");Ur(_r.cond(Cr).then(Cr,".call(this,a0,a1);").else(Cr,"=",xn,"[",hn,"]=",_r.link(function(rn){return Fr(Rn,_r,Br,rn,2)}),"(",kn,");",Cr,".call(this,a0,a1);"))}0<Object.keys(Br.state).length&&Ur(_r.shared.current,".dirty=true;"),_r.shared.vao&&Ur(_r.shared.vao,".setVAO(null);")}function ua(_r,Br){function Mr(hn){var Cr=Br.shader[hn];Cr&&(Cr=Cr.append(_r,Ur),isNaN(Cr)?Ur.set(wn.shader,"."+hn,Cr):Ur.set(wn.shader,"."+hn,_r.link(Cr,{stable:!0})))}var Ur=_r.proc("scope",3);_r.batchId="a2";var wn=_r.shared,kn=wn.current;if(Pr(_r,Ur,Br.context),Br.framebuffer&&Br.framebuffer.append(_r,Ur),le(Object.keys(Br.state)).forEach(function(hn){var Cr=Br.state[hn],Qr=Cr.append(_r,Ur);w(Qr)?Qr.forEach(function(Gr,rn){isNaN(Gr)?Ur.set(_r.next[hn],"["+rn+"]",Gr):Ur.set(_r.next[hn],"["+rn+"]",_r.link(Gr,{stable:!0}))}):te(Cr)?Ur.set(wn.next,"."+hn,_r.link(Qr,{stable:!0})):Ur.set(wn.next,"."+hn,Qr)}),Mn(_r,Ur,Br,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(hn){var Cr=Br.draw[hn];Cr&&(Cr=Cr.append(_r,Ur),isNaN(Cr)?Ur.set(wn.draw,"."+hn,Cr):Ur.set(wn.draw,"."+hn,_r.link(Cr),{stable:!0}))}),Object.keys(Br.uniforms).forEach(function(hn){var Cr=Br.uniforms[hn].append(_r,Ur);Array.isArray(Cr)&&(Cr="["+Cr.map(function(Qr){return isNaN(Qr)?Qr:_r.link(Qr,{stable:!0})})+"]"),Ur.set(wn.uniforms,"["+_r.link(Kt.id(hn),{stable:!0})+"]",Cr)}),Object.keys(Br.attributes).forEach(function(hn){var Cr=Br.attributes[hn].append(_r,Ur),Qr=_r.scopeAttrib(hn);Object.keys(new Zn).forEach(function(Gr){Ur.set(Qr,"."+Gr,Cr[Gr])})}),Br.scopeVAO){var xn=Br.scopeVAO.append(_r,Ur);isNaN(xn)?Ur.set(wn.vao,".targetVAO",xn):Ur.set(wn.vao,".targetVAO",_r.link(xn,{stable:!0}))}Mr("vert"),Mr("frag"),0<Object.keys(Br.state).length&&(Ur(kn,".dirty=true;"),Ur.exit(kn,".dirty=true;")),Ur("a1(",_r.shared.context,",a0,",_r.batchId,");")}function wa(_r){if(typeof _r=="object"&&!w(_r)){for(var Br=Object.keys(_r),Mr=0;Mr<Br.length;++Mr)if(be.isDynamic(_r[Br[Mr]]))return!0;return!1}}function Ma(_r,Br,Mr){function Ur(rn,Sn){xn.forEach(function(Bn){var Ln=wn[Bn];be.isDynamic(Ln)&&(Ln=rn.invoke(Sn,Ln),Sn(Gr,".",Bn,"=",Ln,";"))})}var wn=Br.static[Mr];if(wn&&wa(wn)){var kn=_r.global,xn=Object.keys(wn),hn=!1,Cr=!1,Qr=!1,Gr=_r.global.def("{}");xn.forEach(function(rn){var Sn=wn[rn];if(be.isDynamic(Sn))typeof Sn=="function"&&(Sn=wn[rn]=be.unbox(Sn)),rn=J(Sn,null),hn=hn||rn.thisDep,Qr=Qr||rn.propDep,Cr=Cr||rn.contextDep;else{switch(kn(Gr,".",rn,"="),typeof Sn){case"number":kn(Sn);break;case"string":kn('"',Sn,'"');break;case"object":Array.isArray(Sn)&&kn("[",Sn.join(),"]");break;default:kn(_r.link(Sn))}kn(";")}}),Br.dynamic[Mr]=new be.DynamicVariable(4,{thisDep:hn,contextDep:Cr,propDep:Qr,ref:Gr,append:Ur}),delete Br.static[Mr]}}var Zn=Dt.Record,ea={add:32774,subtract:32778,"reverse subtract":32779};$t.ext_blend_minmax&&(ea.min=32775,ea.max=32776);var xr=$t.angle_instanced_arrays,nn=$t.webgl_draw_buffers,qr=$t.oes_vertex_array_object,gn={dirty:!0,profile:vr.profile},Un={},An=[],En={},Vn={};Xe("dither",3024),Xe("blend.enable",3042),He("blend.color","blendColor",[0,0,0,0]),He("blend.equation","blendEquationSeparate",[32774,32774]),He("blend.func","blendFuncSeparate",[1,0,1,0]),Xe("depth.enable",2929,!0),He("depth.func","depthFunc",513),He("depth.range","depthRange",[0,1]),He("depth.mask","depthMask",!0),He("colorMask","colorMask",[!0,!0,!0,!0]),Xe("cull.enable",2884),He("cull.face","cullFace",1029),He("frontFace","frontFace",2305),He("lineWidth","lineWidth",1),Xe("polygonOffset.enable",32823),He("polygonOffset.offset","polygonOffset",[0,0]),Xe("sample.alpha",32926),Xe("sample.enable",32928),He("sample.coverage","sampleCoverage",[1,!1]),Xe("stencil.enable",2960),He("stencil.mask","stencilMask",-1),He("stencil.func","stencilFunc",[519,0,-1]),He("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),He("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Xe("scissor.enable",3089),He("scissor.box","scissor",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]),He("viewport","viewport",[0,0,gt.drawingBufferWidth,gt.drawingBufferHeight]);var ta={gl:gt,context:Ut,strings:Kt,next:Un,current:gn,draw:Bt,elements:mt,buffer:lr,shader:Yt,attributes:Dt.state,vao:Dt,uniforms:Et,framebuffer:bt,extensions:$t,timer:Jt,isBufferArgs:q},ga={primTypes:$e,compareFuncs:jt,blendFuncs:Wt,blendEquations:ea,stencilOps:Tt,glTypes:Ne,orientationType:Rt};nn&&(ga.backBuffer=[1029],ga.drawBuffer=a(br.maxDrawbuffers,function(_r){return _r===0?[0]:a(_r,function(Br){return 36064+Br})}));var Na=0;return{next:Un,current:gn,procs:function(){var _r=Nt(),Br=_r.proc("poll"),Mr=_r.proc("refresh"),Ur=_r.block();Br(Ur),Mr(Ur);var Cr=_r.shared,wn=Cr.gl,kn=Cr.next,xn=Cr.current;Ur(xn,".dirty=false;"),Ir(_r,Br),Ir(_r,Mr,null,!0);var hn;xr&&(hn=_r.link(xr)),$t.oes_vertex_array_object&&Mr(_r.link($t.oes_vertex_array_object),".bindVertexArrayOES(null);");var Cr=Mr.def(Cr.attributes),Qr=Mr.def(0),Gr=_r.cond(Qr,".buffer");Gr.then(wn,".enableVertexAttribArray(i);",wn,".bindBuffer(",34962,",",Qr,".buffer.buffer);",wn,".vertexAttribPointer(i,",Qr,".size,",Qr,".type,",Qr,".normalized,",Qr,".stride,",Qr,".offset);").else(wn,".disableVertexAttribArray(i);",wn,".vertexAttrib4f(i,",Qr,".x,",Qr,".y,",Qr,".z,",Qr,".w);",Qr,".buffer=null;");var rn=_r.link(br.maxAttributes,{stable:!0});return Mr("for(var i=0;i<",rn,";++i){",Qr,"=",Cr,"[i];",Gr,"}"),xr&&Mr("for(var i=0;i<",rn,";++i){",hn,".vertexAttribDivisorANGLE(i,",Cr,"[i].divisor);","}"),Mr(_r.shared.vao,".currentVAO=null;",_r.shared.vao,".setVAO(",_r.shared.vao,".targetVAO);"),Object.keys(En).forEach(function(Sn){var Bn=En[Sn],Ln=Ur.def(kn,".",Sn),Wn=_r.block();Wn("if(",Ln,"){",wn,".enable(",Bn,")}else{",wn,".disable(",Bn,")}",xn,".",Sn,"=",Ln,";"),Mr(Wn),Br("if(",Ln,"!==",xn,".",Sn,"){",Wn,"}")}),Object.keys(Vn).forEach(function(Sn){var Bn=Vn[Sn],Ln=gn[Sn],Wn,Hn,ya=_r.block();ya(wn,".",Bn,"("),w(Ln)?(Bn=Ln.length,Wn=_r.global.def(kn,".",Sn),Hn=_r.global.def(xn,".",Sn),ya(a(Bn,function(ca){return Wn+"["+ca+"]"}),");",a(Bn,function(ca){return Hn+"["+ca+"]="+Wn+"["+ca+"];"}).join("")),Br("if(",a(Bn,function(ca){return Wn+"["+ca+"]!=="+Hn+"["+ca+"]"}).join("||"),"){",ya,"}")):(Wn=Ur.def(kn,".",Sn),Hn=Ur.def(xn,".",Sn),ya(Wn,");",xn,".",Sn,"=",Wn,";"),Br("if(",Wn,"!==",Hn,"){",ya,"}")),Mr(ya)}),_r.compile()}(),compile:function(_r,Br,Mr,Ur,wn){var kn=Nt();kn.stats=kn.link(wn),Object.keys(Br.static).forEach(function(hn){Ma(kn,Br,hn)}),lt.forEach(function(hn){Ma(kn,_r,hn)});var xn=Wr(_r,Br,Mr,Ur,kn);return xn.shader.program&&(xn.shader.program.attributes.sort(function(hn,Cr){return hn.name<Cr.name?-1:1}),xn.shader.program.uniforms.sort(function(hn,Cr){return hn.name<Cr.name?-1:1})),vn(kn,xn),ua(kn,xn),Gn(kn,xn),ae(kn.compile(),{destroy:function(){xn.shader.program.destroy()}})}}}function ce(gt,Kt){for(var $t=0;$t<gt.length;++$t)if(gt[$t]===Kt)return $t;return-1}var ae=function(gt,Kt){for(var $t=Object.keys(Kt),br=0;br<$t.length;++br)gt[$t[br]]=Kt[$t[br]];return gt},de=0,be={DynamicVariable:Y,define:function(gt,Kt){return new Y(gt,p(Kt+""))},isDynamic:function(gt){return typeof gt=="function"&&!gt._reglType||gt instanceof Y},unbox:L,accessor:p},Se={next:typeof requestAnimationFrame=="function"?function(gt){return requestAnimationFrame(gt)}:function(gt){return setTimeout(gt,16)},cancel:typeof cancelAnimationFrame=="function"?function(gt){return cancelAnimationFrame(gt)}:clearTimeout},Te=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ie=f();Ie.zero=f();var ke=function(gt,Kt){var $t=1;Kt.ext_texture_filter_anisotropic&&($t=gt.getParameter(34047));var br=1,lr=1;Kt.webgl_draw_buffers&&(br=gt.getParameter(34852),lr=gt.getParameter(36063));var mt=!!Kt.oes_texture_float;if(mt){mt=gt.createTexture(),gt.bindTexture(3553,mt),gt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ut=gt.createFramebuffer();if(gt.bindFramebuffer(36160,ut),gt.framebufferTexture2D(36160,36064,3553,mt,0),gt.bindTexture(3553,null),gt.checkFramebufferStatus(36160)!==36053)mt=!1;else{gt.viewport(0,0,1,1),gt.clearColor(1,0,0,1),gt.clear(16384);var bt=Ie.allocType(5126,4);gt.readPixels(0,0,1,1,6408,5126,bt),gt.getError()?mt=!1:(gt.deleteFramebuffer(ut),gt.deleteTexture(mt),mt=bt[0]===1),Ie.freeType(bt)}}return bt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(bt=gt.createTexture(),ut=Ie.allocType(5121,36),gt.activeTexture(33984),gt.bindTexture(34067,bt),gt.texImage2D(34069,0,6408,3,3,0,6408,5121,ut),Ie.freeType(ut),gt.bindTexture(34067,null),gt.deleteTexture(bt),bt=!gt.getError()),{colorBits:[gt.getParameter(3410),gt.getParameter(3411),gt.getParameter(3412),gt.getParameter(3413)],depthBits:gt.getParameter(3414),stencilBits:gt.getParameter(3415),subpixelBits:gt.getParameter(3408),extensions:Object.keys(Kt).filter(function(Et){return!!Kt[Et]}),maxAnisotropic:$t,maxDrawbuffers:br,maxColorAttachments:lr,pointSizeDims:gt.getParameter(33901),lineWidthDims:gt.getParameter(33902),maxViewportDims:gt.getParameter(3386),maxCombinedTextureUnits:gt.getParameter(35661),maxCubeMapSize:gt.getParameter(34076),maxRenderbufferSize:gt.getParameter(34024),maxTextureUnits:gt.getParameter(34930),maxTextureSize:gt.getParameter(3379),maxAttributes:gt.getParameter(34921),maxVertexUniforms:gt.getParameter(36347),maxVertexTextureUnits:gt.getParameter(35660),maxVaryingVectors:gt.getParameter(36348),maxFragmentUniforms:gt.getParameter(36349),glsl:gt.getParameter(35724),renderer:gt.getParameter(7937),vendor:gt.getParameter(7936),version:gt.getParameter(7938),readFloat:mt,npotTextureCube:bt}},Be=function(gt){return gt instanceof Uint8Array||gt instanceof Uint16Array||gt instanceof Uint32Array||gt instanceof Int8Array||gt instanceof Int16Array||gt instanceof Int32Array||gt instanceof Float32Array||gt instanceof Float64Array||gt instanceof Uint8ClampedArray},Me=function(gt){return Object.keys(gt).map(function(Kt){return gt[Kt]})},Oe={shape:function(gt){for(var Kt=[];gt.length;gt=gt[0])Kt.push(gt.length);return Kt},flatten:function(gt,Kt,$t,br){var lr=1;if(Kt.length)for(var mt=0;mt<Kt.length;++mt)lr*=Kt[mt];else lr=0;switch($t=br||Ie.allocType($t,lr),Kt.length){case 0:break;case 1:for(br=Kt[0],Kt=0;Kt<br;++Kt)$t[Kt]=gt[Kt];break;case 2:for(br=Kt[0],Kt=Kt[1],mt=lr=0;mt<br;++mt)for(var ut=gt[mt],bt=0;bt<Kt;++bt)$t[lr++]=ut[bt];break;case 3:l(gt,Kt[0],Kt[1],Kt[2],$t,0);break;default:y(gt,Kt,0,$t,0)}return $t}},_e={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ne={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ce={dynamic:35048,stream:35040,static:35044},Ye=Oe.flatten,rt=Oe.shape,ot=[];ot[5120]=1,ot[5122]=2,ot[5124]=4,ot[5121]=1,ot[5123]=2,ot[5125]=4,ot[5126]=4;var $e={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qe=new Float32Array(1),ht=new Uint32Array(qe.buffer),vt=[9984,9986,9985,9987],pt=[0,6409,6410,6407,6408],wt={};wt[6409]=wt[6406]=wt[6402]=1,wt[34041]=wt[6410]=2,wt[6407]=wt[35904]=3,wt[6408]=wt[35906]=4;var Mt=_("HTMLCanvasElement"),nt=_("OffscreenCanvas"),Fe=_("CanvasRenderingContext2D"),We=_("ImageBitmap"),Ze=_("HTMLImageElement"),Ge=_("HTMLVideoElement"),Pe=Object.keys(_e).concat([Mt,nt,Fe,We,Ze,Ge]),Re=[];Re[5121]=1,Re[5126]=4,Re[36193]=2,Re[5123]=2,Re[5125]=4;var je=[];je[32854]=2,je[32855]=2,je[36194]=2,je[34041]=4,je[33776]=.5,je[33777]=.5,je[33778]=1,je[33779]=1,je[35986]=.5,je[35987]=1,je[34798]=1,je[35840]=.5,je[35841]=.25,je[35842]=.5,je[35843]=.25,je[36196]=.5;var De=[];De[32854]=2,De[32855]=2,De[36194]=2,De[33189]=2,De[36168]=1,De[34041]=4,De[35907]=4,De[34836]=16,De[34842]=8,De[34843]=6;var ge=function(gt,Kt,$t,br,lr){function mt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,lr.profile&&(this.stats={size:0})}function ut(Bt){var Ut=Bt.renderbuffer;gt.bindRenderbuffer(36161,null),gt.deleteRenderbuffer(Ut),Bt.renderbuffer=null,Bt.refCount=0,delete Yt[Bt.id],br.renderbufferCount--}var bt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Kt.ext_srgb&&(bt.srgba=35907),Kt.ext_color_buffer_half_float&&(bt.rgba16f=34842,bt.rgb16f=34843),Kt.webgl_color_buffer_float&&(bt.rgba32f=34836);var Et=[];Object.keys(bt).forEach(function(Bt){Et[bt[Bt]]=Bt});var Dt=0,Yt={};return mt.prototype.decRef=function(){0>=--this.refCount&&ut(this)},lr.profile&&(br.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Yt).forEach(function(Ut){Bt+=Yt[Ut].stats.size}),Bt}),{create:function(Bt,Ut){function Jt(vr,gr){var Xe=0,He=0,Nt=32854;if(typeof vr=="object"&&vr?("shape"in vr?(He=vr.shape,Xe=He[0]|0,He=He[1]|0):("radius"in vr&&(Xe=He=vr.radius|0),"width"in vr&&(Xe=vr.width|0),"height"in vr&&(He=vr.height|0)),"format"in vr&&(Nt=bt[vr.format])):typeof vr=="number"?(Xe=vr|0,He=typeof gr=="number"?gr|0:Xe):vr||(Xe=He=1),Xe!==hr.width||He!==hr.height||Nt!==hr.format)return Jt.width=hr.width=Xe,Jt.height=hr.height=He,hr.format=Nt,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,Nt,Xe,He),lr.profile&&(hr.stats.size=De[hr.format]*hr.width*hr.height),Jt.format=Et[hr.format],Jt}var hr=new mt(gt.createRenderbuffer());return Yt[hr.id]=hr,br.renderbufferCount++,Jt(Bt,Ut),Jt.resize=function(vr,gr){var Xe=vr|0,He=gr|0||Xe;return Xe===hr.width&&He===hr.height||(Jt.width=hr.width=Xe,Jt.height=hr.height=He,gt.bindRenderbuffer(36161,hr.renderbuffer),gt.renderbufferStorage(36161,hr.format,Xe,He),lr.profile&&(hr.stats.size=De[hr.format]*hr.width*hr.height)),Jt},Jt._reglType="renderbuffer",Jt._renderbuffer=hr,lr.profile&&(Jt.stats=hr.stats),Jt.destroy=function(){hr.decRef()},Jt},clear:function(){Me(Yt).forEach(ut)},restore:function(){Me(Yt).forEach(function(Bt){Bt.renderbuffer=gt.createRenderbuffer(),gt.bindRenderbuffer(36161,Bt.renderbuffer),gt.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),gt.bindRenderbuffer(36161,null)}}},we=[];we[6408]=4,we[6407]=3;var Ue=[];Ue[5121]=1,Ue[5126]=4,Ue[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],st=["x","y","z","w"],lt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Wt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Rt={cw:2304,ccw:2305},Zt=new Q(!1,!1,!1,function(){}),mr=function(gt,Kt){function $t(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function br(Yt,Bt,Ut){var Jt=ut.pop()||new $t;Jt.startQueryIndex=Yt,Jt.endQueryIndex=Bt,Jt.sum=0,Jt.stats=Ut,bt.push(Jt)}if(!Kt.ext_disjoint_timer_query)return null;var lr=[],mt=[],ut=[],bt=[],Et=[],Dt=[];return{beginQuery:function(Yt){var Bt=lr.pop()||Kt.ext_disjoint_timer_query.createQueryEXT();Kt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),mt.push(Bt),br(mt.length-1,mt.length,Yt)},endQuery:function(){Kt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:br,update:function(){var Yt,Bt;if(Yt=mt.length,Yt!==0){Dt.length=Math.max(Dt.length,Yt+1),Et.length=Math.max(Et.length,Yt+1),Et[0]=0;var Ut=Dt[0]=0;for(Bt=Yt=0;Bt<mt.length;++Bt){var Jt=mt[Bt];Kt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34919)?(Ut+=Kt.ext_disjoint_timer_query.getQueryObjectEXT(Jt,34918),lr.push(Jt)):mt[Yt++]=Jt,Et[Bt+1]=Ut,Dt[Bt+1]=Yt}for(mt.length=Yt,Bt=Yt=0;Bt<bt.length;++Bt){var Ut=bt[Bt],hr=Ut.startQueryIndex,Jt=Ut.endQueryIndex;Ut.sum+=Et[Jt]-Et[hr],hr=Dt[hr],Jt=Dt[Jt],Jt===hr?(Ut.stats.gpuTime+=Ut.sum/1e6,ut.push(Ut)):(Ut.startQueryIndex=hr,Ut.endQueryIndex=Jt,bt[Yt++]=Ut)}bt.length=Yt}},getNumPendingQueries:function(){return mt.length},clear:function(){lr.push.apply(lr,mt);for(var Yt=0;Yt<lr.length;Yt++)Kt.ext_disjoint_timer_query.deleteQueryEXT(lr[Yt]);mt.length=0,lr.length=0},restore:function(){mt.length=0,lr.length=0}}};return function(gt){function Kt(){if(Mn.length===0)Nt&&Nt.update(),Fr=null;else{Fr=Se.next(Kt),Yt();for(var vn=Mn.length-1;0<=vn;--vn){var Cn=Mn[vn];Cn&&Cn(ur,null,0)}Jt.flush(),Nt&&Nt.update()}}function $t(){!Fr&&0<Mn.length&&(Fr=Se.next(Kt))}function br(){Fr&&(Se.cancel(Kt),Fr=null)}function lr(vn){vn.preventDefault(),br(),Sr.forEach(function(Cn){Cn()})}function mt(vn){Jt.getError(),vr.restore(),wr.restore(),zt.restore(),pr.restore(),Wr.restore(),Pr.restore(),dr.restore(),Nt&&Nt.restore(),Ir.procs.refresh(),$t(),Nr.forEach(function(Cn){Cn()})}function ut(vn){function Cn(gn,Un){var An={},En={};return Object.keys(gn).forEach(function(Vn){var ta=gn[Vn];if(be.isDynamic(ta))En[Vn]=be.unbox(ta,Vn);else{if(Un&&Array.isArray(ta)){for(var ga=0;ga<ta.length;++ga)if(be.isDynamic(ta[ga])){En[Vn]=be.unbox(ta,Vn);return}}An[Vn]=ta}}),{dynamic:En,static:An}}function Rn(gn){for(;qr.length<gn;)qr.push(null);return qr}var Gn=Cn(vn.context||{},!0),ua=Cn(vn.uniforms||{},!0),wa=Cn(vn.attributes||{},!1);vn=Cn(function(gn){function Un(En){if(En in An){var Vn=An[En];delete An[En],Object.keys(Vn).forEach(function(ta){An[En+"."+ta]=Vn[ta]})}}var An=ae({},gn);return delete An.uniforms,delete An.attributes,delete An.context,delete An.vao,"stencil"in An&&An.stencil.op&&(An.stencil.opBack=An.stencil.opFront=An.stencil.op,delete An.stencil.op),Un("blend"),Un("depth"),Un("cull"),Un("stencil"),Un("polygonOffset"),Un("scissor"),Un("sample"),"vao"in gn&&(An.vao=gn.vao),An}(vn),!1);var Ma={gpuTime:0,cpuTime:0,count:0},Zn=Ir.compile(vn,wa,ua,Gn,Ma),ea=Zn.draw,xr=Zn.batch,nn=Zn.scope,qr=[];return ae(function(gn,Un){var An;if(typeof gn=="function")return nn.call(this,null,gn,0);if(typeof Un=="function")if(typeof gn=="number")for(An=0;An<gn;++An)nn.call(this,null,Un,An);else if(Array.isArray(gn))for(An=0;An<gn.length;++An)nn.call(this,gn[An],Un,An);else return nn.call(this,gn,Un,0);else if(typeof gn=="number"){if(0<gn)return xr.call(this,Rn(gn|0),gn|0)}else if(Array.isArray(gn)){if(gn.length)return xr.call(this,gn,gn.length)}else return ea.call(this,gn)},{stats:Ma,destroy:function(){Zn.destroy()}})}function bt(vn,Cn){var Rn=0;Ir.procs.poll();var Gn=Cn.color;Gn&&(Jt.clearColor(+Gn[0]||0,+Gn[1]||0,+Gn[2]||0,+Gn[3]||0),Rn|=16384),"depth"in Cn&&(Jt.clearDepth(+Cn.depth),Rn|=256),"stencil"in Cn&&(Jt.clearStencil(Cn.stencil|0),Rn|=1024),Jt.clear(Rn)}function Et(vn){return Mn.push(vn),$t(),{cancel:function(){function Cn(){var Gn=ce(Mn,Cn);Mn[Gn]=Mn[Mn.length-1],--Mn.length,0>=Mn.length&&br()}var Rn=ce(Mn,vn);Mn[Rn]=Cn}}}function Dt(){var vn=an.viewport,Cn=an.scissor_box;vn[0]=vn[1]=Cn[0]=Cn[1]=0,ur.viewportWidth=ur.framebufferWidth=ur.drawingBufferWidth=vn[2]=Cn[2]=Jt.drawingBufferWidth,ur.viewportHeight=ur.framebufferHeight=ur.drawingBufferHeight=vn[3]=Cn[3]=Jt.drawingBufferHeight}function Yt(){ur.tick+=1,ur.time=Ut(),Dt(),Ir.procs.poll()}function Bt(){pr.refresh(),Dt(),Ir.procs.refresh(),Nt&&Nt.update()}function Ut(){return(Te()-Pt)/1e3}if(gt=r(gt),!gt)return null;var Jt=gt.gl,hr=Jt.getContextAttributes();Jt.isContextLost();var vr=t(Jt,gt);if(!vr)return null;var ln=o(),gr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Xe=gt.cachedCode||{},He=vr.extensions,Nt=mr(Jt,He),Pt=Te(),cr=Jt.drawingBufferWidth,Qt=Jt.drawingBufferHeight,ur={tick:0,time:0,viewportWidth:cr,viewportHeight:Qt,framebufferWidth:cr,framebufferHeight:Qt,drawingBufferWidth:cr,drawingBufferHeight:Qt,pixelRatio:gt.pixelRatio},cr={elements:null,primitive:4,count:-1,offset:0,instances:-1},tr=ke(Jt,He),zt=i(Jt,gr,gt,function(vn){return dr.destroyBuffer(vn)}),or=d(Jt,He,zt,gr),dr=F(Jt,He,tr,gr,zt,or,cr),wr=B(Jt,ln,gr,gt),pr=N(Jt,He,tr,function(){Ir.procs.poll()},ur,gr,gt),Wr=ge(Jt,He,tr,gr,gt),Pr=k(Jt,He,tr,pr,Wr,gr),Ir=K(Jt,ln,He,tr,zt,or,pr,Pr,{},dr,wr,cr,ur,Nt,Xe,gt),ln=U(Jt,Pr,Ir.procs.poll,ur),an=Ir.next,_n=Jt.canvas,Mn=[],Sr=[],Nr=[],Zr=[gt.onDestroy],Fr=null;_n&&(_n.addEventListener("webglcontextlost",lr,!1),_n.addEventListener("webglcontextrestored",mt,!1));var cn=Pr.setFBO=ut({framebuffer:be.define.call(null,1,"framebuffer")});return Bt(),hr=ae(ut,{clear:function(vn){if("framebuffer"in vn)if(vn.framebuffer&&vn.framebuffer_reglType==="framebufferCube")for(var Cn=0;6>Cn;++Cn)cn(ae({framebuffer:vn.framebuffer.faces[Cn]},vn),bt);else cn(vn,bt);else bt(null,vn)},prop:be.define.bind(null,1),context:be.define.bind(null,2),this:be.define.bind(null,3),draw:ut({}),buffer:function(vn){return zt.create(vn,34962,!1,!1)},elements:function(vn){return or.create(vn,!1)},texture:pr.create2D,cube:pr.createCube,renderbuffer:Wr.create,framebuffer:Pr.create,framebufferCube:Pr.createCube,vao:dr.createVAO,attributes:hr,frame:Et,on:function(vn,Cn){var Rn;switch(vn){case"frame":return Et(Cn);case"lost":Rn=Sr;break;case"restore":Rn=Nr;break;case"destroy":Rn=Zr}return Rn.push(Cn),{cancel:function(){for(var Gn=0;Gn<Rn.length;++Gn)if(Rn[Gn]===Cn){Rn[Gn]=Rn[Rn.length-1],Rn.pop();break}}}},limits:tr,hasExtension:function(vn){return 0<=tr.extensions.indexOf(vn.toLowerCase())},read:ln,destroy:function(){Mn.length=0,br(),_n&&(_n.removeEventListener("webglcontextlost",lr),_n.removeEventListener("webglcontextrestored",mt)),wr.clear(),Pr.clear(),Wr.clear(),dr.clear(),pr.clear(),or.clear(),zt.clear(),Nt&&Nt.clear(),Zr.forEach(function(vn){vn()})},_gl:Jt,_refresh:Bt,poll:function(){Yt(),Nt&&Nt.update()},now:Ut,stats:gr,getCachedCode:function(){return Xe},preloadCachedCode:function(vn){Object.entries(vn).forEach(function(Cn){Xe[Cn[0]]=Cn[1]})}}),gt.onDone(null,hr),hr}})},30456:function(V,Y,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var p=e(33576),L=p.Buffer;function o(S,v){for(var g in S)v[g]=S[g]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?V.exports=p:(o(p,Y),Y.Buffer=C);function C(S,v,g){return L(S,v,g)}C.prototype=Object.create(L.prototype),o(L,C),C.from=function(S,v,g){if(typeof S=="number")throw new TypeError("Argument must not be a number");return L(S,v,g)},C.alloc=function(S,v,g){if(typeof S!="number")throw new TypeError("Argument must be a number");var r=L(S);return v!==void 0?typeof g=="string"?r.fill(v,g):r.fill(v):r.fill(0),r},C.allocUnsafe=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return L(S)},C.allocUnsafeSlow=function(S){if(typeof S!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(S)}},14500:function(V,Y,e){var p=e(53664),L=e(64348),o=e(39640)(),C=e(2304),S=p("%TypeError%"),v=p("%Math.floor%");V.exports=function(r,t){if(typeof r!="function")throw new S("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||v(t)!==t)throw new S("`length` must be a positive 32-bit integer");var a=arguments.length>2&&!!arguments[2],n=!0,f=!0;if("length"in r&&C){var u=C(r,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(f=!1)}return(n||f||!a)&&(o?L(r,"length",t,!0,!0):L(r,"length",t)),r}},29936:function(V,Y,e){V.exports=o;var p=e(61252).EventEmitter,L=e(6768);L(o,p),o.Readable=e(12348),o.Writable=e(11288),o.Duplex=e(15316),o.Transform=e(22477),o.PassThrough=e(27136),o.finished=e(15932),o.pipeline=e(38180),o.Stream=o;function o(){p.call(this)}o.prototype.pipe=function(C,S){var v=this;function g(l){C.writable&&C.write(l)===!1&&v.pause&&v.pause()}v.on("data",g);function r(){v.readable&&v.resume&&v.resume()}C.on("drain",r),!C._isStdio&&(!S||S.end!==!1)&&(v.on("end",a),v.on("close",n));var t=!1;function a(){t||(t=!0,C.end())}function n(){t||(t=!0,typeof C.destroy=="function"&&C.destroy())}function f(l){if(u(),p.listenerCount(this,"error")===0)throw l}v.on("error",f),C.on("error",f);function u(){v.removeListener("data",g),C.removeListener("drain",r),v.removeListener("end",a),v.removeListener("close",n),v.removeListener("error",f),C.removeListener("error",f),v.removeListener("end",u),v.removeListener("close",u),C.removeListener("close",u)}return v.on("end",u),v.on("close",u),C.on("close",u),C.emit("pipe",v),C}},92784:function(V){function Y(v,g){v.prototype=Object.create(g.prototype),v.prototype.constructor=v,v.__proto__=g}var e={};function p(v,g,r){r||(r=Error);function t(n,f,u){return typeof g=="string"?g:g(n,f,u)}var a=function(n){Y(f,n);function f(u,l,y){return n.call(this,t(u,l,y))||this}return f}(r);a.prototype.name=r.name,a.prototype.code=v,e[v]=a}function L(v,g){if(Array.isArray(v)){var r=v.length;return v=v.map(function(t){return String(t)}),r>2?"one of ".concat(g," ").concat(v.slice(0,r-1).join(", "),", or ")+v[r-1]:r===2?"one of ".concat(g," ").concat(v[0]," or ").concat(v[1]):"of ".concat(g," ").concat(v[0])}else return"of ".concat(g," ").concat(String(v))}function o(v,g,r){return v.substr(0,g.length)===g}function C(v,g,r){return(r===void 0||r>v.length)&&(r=v.length),v.substring(r-g.length,r)===g}function S(v,g,r){return typeof r!="number"&&(r=0),r+g.length>v.length?!1:v.indexOf(g,r)!==-1}p("ERR_INVALID_OPT_VALUE",function(v,g){return'The value "'+g+'" is invalid for option "'+v+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(v,g,r){var t;typeof g=="string"&&o(g,"not ")?(t="must not be",g=g.replace(/^not /,"")):t="must be";var a;if(C(v," argument"))a="The ".concat(v," ").concat(t," ").concat(L(g,"type"));else{var n=S(v,".")?"property":"argument";a='The "'.concat(v,'" ').concat(n," ").concat(t," ").concat(L(g,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),V.exports.i=e},15316:function(V,Y,e){var p=e(4168),L=Object.keys||function(n){var f=[];for(var u in n)f.push(u);return f};V.exports=r;var o=e(12348),C=e(11288);e(6768)(r,o);for(var S=L(C.prototype),v=0;v<S.length;v++){var g=S[v];r.prototype[g]||(r.prototype[g]=C.prototype[g])}function r(n){if(!(this instanceof r))return new r(n);o.call(this,n),C.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||p.nextTick(a,this)}function a(n){n.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}})},27136:function(V,Y,e){V.exports=L;var p=e(22477);e(6768)(L,p);function L(o){if(!(this instanceof L))return new L(o);p.call(this,o)}L.prototype._transform=function(o,C,S){S(null,o)}},12348:function(V,Y,e){var p=e(4168);V.exports=s;var L;s.ReadableState=A,e(61252).EventEmitter;var o=function(K,ce){return K.listeners(ce).length},C=e(4776),S=e(33576).Buffer,v=e.g.Uint8Array||function(){};function g(J){return S.from(J)}function r(J){return S.isBuffer(J)||J instanceof v}var t=e(19768),a;t&&t.debuglog?a=t.debuglog("stream"):a=function(){};var n=e(47264),f=e(55324),u=e(24888),l=u.getHighWaterMark,y=e(92784).i,h=y.ERR_INVALID_ARG_TYPE,T=y.ERR_STREAM_PUSH_AFTER_EOF,c=y.ERR_METHOD_NOT_IMPLEMENTED,i=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,x,w;e(6768)(s,C);var _=f.errorOrDestroy,m=["error","close","destroy","pause","resume"];function E(J,K,ce){if(typeof J.prependListener=="function")return J.prependListener(K,ce);!J._events||!J._events[K]?J.on(K,ce):Array.isArray(J._events[K])?J._events[K].unshift(ce):J._events[K]=[ce,J._events[K]]}function A(J,K,ce){L=L||e(15316),J=J||{},typeof ce!="boolean"&&(ce=K instanceof L),this.objectMode=!!J.objectMode,ce&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=l(this,J,"readableHighWaterMark",ce),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(d||(d=e(86032).o),this.decoder=new d(J.encoding),this.encoding=J.encoding)}function s(J){if(L=L||e(15316),!(this instanceof s))return new s(J);var K=this instanceof L;this._readableState=new A(J,this,K),this.readable=!0,J&&(typeof J.read=="function"&&(this._read=J.read),typeof J.destroy=="function"&&(this._destroy=J.destroy)),C.call(this)}Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),s.prototype.destroy=f.destroy,s.prototype._undestroy=f.undestroy,s.prototype._destroy=function(J,K){K(J)},s.prototype.push=function(J,K){var ce=this._readableState,ae;return ce.objectMode?ae=!0:typeof J=="string"&&(K=K||ce.defaultEncoding,K!==ce.encoding&&(J=S.from(J,K),K=""),ae=!0),M(this,J,K,!1,ae)},s.prototype.unshift=function(J){return M(this,J,null,!0,!1)};function M(J,K,ce,ae,de){a("readableAddChunk",K);var be=J._readableState;if(K===null)be.reading=!1,B(J,be);else{var Se;if(de||(Se=N(be,K)),Se)_(J,Se);else if(be.objectMode||K&&K.length>0)if(typeof K!="string"&&!be.objectMode&&Object.getPrototypeOf(K)!==S.prototype&&(K=g(K)),ae)be.endEmitted?_(J,new i):b(J,be,K,!0);else if(be.ended)_(J,new T);else{if(be.destroyed)return!1;be.reading=!1,be.decoder&&!ce?(K=be.decoder.write(K),be.objectMode||K.length!==0?b(J,be,K,!1):W(J,be)):b(J,be,K,!1)}else ae||(be.reading=!1,W(J,be))}return!be.ended&&(be.length<be.highWaterMark||be.length===0)}function b(J,K,ce,ae){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,J.emit("data",ce)):(K.length+=K.objectMode?1:ce.length,ae?K.buffer.unshift(ce):K.buffer.push(ce),K.needReadable&&U(J)),W(J,K)}function N(J,K){var ce;return!r(K)&&typeof K!="string"&&K!==void 0&&!J.objectMode&&(ce=new h("chunk",["string","Buffer","Uint8Array"],K)),ce}s.prototype.isPaused=function(){return this._readableState.flowing===!1},s.prototype.setEncoding=function(J){d||(d=e(86032).o);var K=new d(J);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var ce=this._readableState.buffer.head,ae="";ce!==null;)ae+=K.write(ce.data),ce=ce.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};var k=1073741824;function H(J){return J>=k?J=k:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}function F(J,K){return J<=0||K.length===0&&K.ended?0:K.objectMode?1:J!==J?K.flowing&&K.length?K.buffer.head.data.length:K.length:(J>K.highWaterMark&&(K.highWaterMark=H(J)),J<=K.length?J:K.ended?K.length:(K.needReadable=!0,0))}s.prototype.read=function(J){a("read",J),J=parseInt(J,10);var K=this._readableState,ce=J;if(J!==0&&(K.emittedReadable=!1),J===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return a("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Q(this):U(this),null;if(J=F(J,K),J===0&&K.ended)return K.length===0&&Q(this),null;var ae=K.needReadable;a("need readable",ae),(K.length===0||K.length-J<K.highWaterMark)&&(ae=!0,a("length less than watermark",ae)),K.ended||K.reading?(ae=!1,a("reading or ended",ae)):ae&&(a("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(J=F(ce,K)));var de;return J>0?de=le(J,K):de=null,de===null?(K.needReadable=K.length<=K.highWaterMark,J=0):(K.length-=J,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),ce!==J&&K.ended&&Q(this)),de!==null&&this.emit("data",de),de};function B(J,K){if(a("onEofChunk"),!K.ended){if(K.decoder){var ce=K.decoder.end();ce&&ce.length&&(K.buffer.push(ce),K.length+=K.objectMode?1:ce.length)}K.ended=!0,K.sync?U(J):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,z(J)))}}function U(J){var K=J._readableState;a("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(a("emitReadable",K.flowing),K.emittedReadable=!0,p.nextTick(z,J))}function z(J){var K=J._readableState;a("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(J.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,q(J)}function W(J,K){K.readingMore||(K.readingMore=!0,p.nextTick(j,J,K))}function j(J,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var ce=K.length;if(a("maybeReadMore read 0"),J.read(0),ce===K.length)break}K.readingMore=!1}s.prototype._read=function(J){_(this,new c("_read()"))},s.prototype.pipe=function(J,K){var ce=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=J;break;case 1:ae.pipes=[ae.pipes,J];break;default:ae.pipes.push(J);break}ae.pipesCount+=1,a("pipe count=%d opts=%j",ae.pipesCount,K);var de=(!K||K.end!==!1)&&J!==p.stdout&&J!==p.stderr,be=de?Te:Ce;ae.endEmitted?p.nextTick(be):ce.once("end",be),J.on("unpipe",Se);function Se(Ye,rt){a("onunpipe"),Ye===ce&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,Be())}function Te(){a("onend"),J.end()}var Ie=ee(ce);J.on("drain",Ie);var ke=!1;function Be(){a("cleanup"),J.removeListener("close",_e),J.removeListener("finish",Ne),J.removeListener("drain",Ie),J.removeListener("error",Oe),J.removeListener("unpipe",Se),ce.removeListener("end",Te),ce.removeListener("end",Ce),ce.removeListener("data",Me),ke=!0,ae.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&Ie()}ce.on("data",Me);function Me(Ye){a("ondata");var rt=J.write(Ye);a("dest.write",rt),rt===!1&&((ae.pipesCount===1&&ae.pipes===J||ae.pipesCount>1&&ue(ae.pipes,J)!==-1)&&!ke&&(a("false write response, pause",ae.awaitDrain),ae.awaitDrain++),ce.pause())}function Oe(Ye){a("onerror",Ye),Ce(),J.removeListener("error",Oe),o(J,"error")===0&&_(J,Ye)}E(J,"error",Oe);function _e(){J.removeListener("finish",Ne),Ce()}J.once("close",_e);function Ne(){a("onfinish"),J.removeListener("close",_e),Ce()}J.once("finish",Ne);function Ce(){a("unpipe"),ce.unpipe(J)}return J.emit("pipe",ce),ae.flowing||(a("pipe resume"),ce.resume()),J};function ee(J){return function(){var ce=J._readableState;a("pipeOnDrain",ce.awaitDrain),ce.awaitDrain&&ce.awaitDrain--,ce.awaitDrain===0&&o(J,"data")&&(ce.flowing=!0,q(J))}}s.prototype.unpipe=function(J){var K=this._readableState,ce={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return J&&J!==K.pipes?this:(J||(J=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,J&&J.emit("unpipe",this,ce),this);if(!J){var ae=K.pipes,de=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var be=0;be<de;be++)ae[be].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=ue(K.pipes,J);return Se===-1?this:(K.pipes.splice(Se,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),J.emit("unpipe",this,ce),this)},s.prototype.on=function(J,K){var ce=C.prototype.on.call(this,J,K),ae=this._readableState;return J==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):J==="readable"&&!ae.endEmitted&&!ae.readableListening&&(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,a("on readable",ae.length,ae.reading),ae.length?U(this):ae.reading||p.nextTick(oe,this)),ce},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(J,K){var ce=C.prototype.removeListener.call(this,J,K);return J==="readable"&&p.nextTick(ie,this),ce},s.prototype.removeAllListeners=function(J){var K=C.prototype.removeAllListeners.apply(this,arguments);return(J==="readable"||J===void 0)&&p.nextTick(ie,this),K};function ie(J){var K=J._readableState;K.readableListening=J.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:J.listenerCount("data")>0&&J.resume()}function oe(J){a("readable nexttick read 0"),J.read(0)}s.prototype.resume=function(){var J=this._readableState;return J.flowing||(a("resume"),J.flowing=!J.readableListening,he(this,J)),J.paused=!1,this};function he(J,K){K.resumeScheduled||(K.resumeScheduled=!0,p.nextTick(ne,J,K))}function ne(J,K){a("resume",K.reading),K.reading||J.read(0),K.resumeScheduled=!1,J.emit("resume"),q(J),K.flowing&&!K.reading&&J.read(0)}s.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function q(J){var K=J._readableState;for(a("flow",K.flowing);K.flowing&&J.read()!==null;);}s.prototype.wrap=function(J){var K=this,ce=this._readableState,ae=!1;J.on("end",function(){if(a("wrapped end"),ce.decoder&&!ce.ended){var Se=ce.decoder.end();Se&&Se.length&&K.push(Se)}K.push(null)}),J.on("data",function(Se){if(a("wrapped data"),ce.decoder&&(Se=ce.decoder.write(Se)),!(ce.objectMode&&Se==null)&&!(!ce.objectMode&&(!Se||!Se.length))){var Te=K.push(Se);Te||(ae=!0,J.pause())}});for(var de in J)this[de]===void 0&&typeof J[de]=="function"&&(this[de]=function(Te){return function(){return J[Te].apply(J,arguments)}}(de));for(var be=0;be<m.length;be++)J.on(m[be],this.emit.bind(this,m[be]));return this._read=function(Se){a("wrapped _read",Se),ae&&(ae=!1,J.resume())},this},typeof Symbol=="function"&&(s.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e(60328)),x(this)}),Object.defineProperty(s.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(s.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(s.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),s._fromList=le,Object.defineProperty(s.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function le(J,K){if(K.length===0)return null;var ce;return K.objectMode?ce=K.buffer.shift():!J||J>=K.length?(K.decoder?ce=K.buffer.join(""):K.buffer.length===1?ce=K.buffer.first():ce=K.buffer.concat(K.length),K.buffer.clear()):ce=K.buffer.consume(J,K.decoder),ce}function Q(J){var K=J._readableState;a("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,p.nextTick(te,K,J))}function te(J,K){if(a("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&J.length===0&&(J.endEmitted=!0,K.readable=!1,K.emit("end"),J.autoDestroy)){var ce=K._writableState;(!ce||ce.autoDestroy&&ce.finished)&&K.destroy()}}typeof Symbol=="function"&&(s.from=function(J,K){return w===void 0&&(w=e(90555)),w(s,J,K)});function ue(J,K){for(var ce=0,ae=J.length;ce<ae;ce++)if(J[ce]===K)return ce;return-1}},22477:function(V,Y,e){V.exports=r;var p=e(92784).i,L=p.ERR_METHOD_NOT_IMPLEMENTED,o=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=p.ERR_TRANSFORM_WITH_LENGTH_0,v=e(15316);e(6768)(r,v);function g(n,f){var u=this._transformState;u.transforming=!1;var l=u.writecb;if(l===null)return this.emit("error",new o);u.writechunk=null,u.writecb=null,f!=null&&this.push(f),l(n);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);v.call(this,n),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",t)}function t(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,u){a(n,f,u)}):a(this,null,null)}r.prototype.push=function(n,f){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,f)},r.prototype._transform=function(n,f,u){u(new L("_transform()"))},r.prototype._write=function(n,f,u){var l=this._transformState;if(l.writecb=u,l.writechunk=n,l.writeencoding=f,!l.transforming){var y=this._readableState;(l.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},r.prototype._read=function(n){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},r.prototype._destroy=function(n,f){v.prototype._destroy.call(this,n,function(u){f(u)})};function a(n,f,u){if(f)return n.emit("error",f);if(u!=null&&n.push(u),n._writableState.length)throw new S;if(n._transformState.transforming)throw new C;return n.push(null)}},11288:function(V,Y,e){var p=e(4168);V.exports=A;function L(q){var le=this;this.next=null,this.entry=null,this.finish=function(){ne(le,q)}}var o;A.WritableState=m;var C={deprecate:e(96656)},S=e(4776),v=e(33576).Buffer,g=e.g.Uint8Array||function(){};function r(q){return v.from(q)}function t(q){return v.isBuffer(q)||q instanceof g}var a=e(55324),n=e(24888),f=n.getHighWaterMark,u=e(92784).i,l=u.ERR_INVALID_ARG_TYPE,y=u.ERR_METHOD_NOT_IMPLEMENTED,h=u.ERR_MULTIPLE_CALLBACK,T=u.ERR_STREAM_CANNOT_PIPE,c=u.ERR_STREAM_DESTROYED,i=u.ERR_STREAM_NULL_VALUES,d=u.ERR_STREAM_WRITE_AFTER_END,x=u.ERR_UNKNOWN_ENCODING,w=a.errorOrDestroy;e(6768)(A,S);function _(){}function m(q,le,Q){o=o||e(15316),q=q||{},typeof Q!="boolean"&&(Q=le instanceof o),this.objectMode=!!q.objectMode,Q&&(this.objectMode=this.objectMode||!!q.writableObjectMode),this.highWaterMark=f(this,q,"writableHighWaterMark",Q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=q.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){B(le,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}m.prototype.getBuffer=function(){for(var le=this.bufferedRequest,Q=[];le;)Q.push(le),le=le.next;return Q},function(){try{Object.defineProperty(m.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(le){return E.call(this,le)?!0:this!==A?!1:le&&le._writableState instanceof m}})):E=function(le){return le instanceof this};function A(q){o=o||e(15316);var le=this instanceof o;if(!le&&!E.call(A,this))return new A(q);this._writableState=new m(q,this,le),this.writable=!0,q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final)),S.call(this)}A.prototype.pipe=function(){w(this,new T)};function s(q,le){var Q=new d;w(q,Q),p.nextTick(le,Q)}function M(q,le,Q,te){var ue;return Q===null?ue=new i:typeof Q!="string"&&!le.objectMode&&(ue=new l("chunk",["string","Buffer"],Q)),ue?(w(q,ue),p.nextTick(te,ue),!1):!0}A.prototype.write=function(q,le,Q){var te=this._writableState,ue=!1,J=!te.objectMode&&t(q);return J&&!v.isBuffer(q)&&(q=r(q)),typeof le=="function"&&(Q=le,le=null),J?le="buffer":le||(le=te.defaultEncoding),typeof Q!="function"&&(Q=_),te.ending?s(this,Q):(J||M(this,te,q,Q))&&(te.pendingcb++,ue=N(this,te,J,q,le,Q)),ue},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var q=this._writableState;q.corked&&(q.corked--,!q.writing&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&W(this,q))},A.prototype.setDefaultEncoding=function(le){if(typeof le=="string"&&(le=le.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((le+"").toLowerCase())>-1))throw new x(le);return this._writableState.defaultEncoding=le,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(q,le,Q){return!q.objectMode&&q.decodeStrings!==!1&&typeof le=="string"&&(le=v.from(le,Q)),le}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(q,le,Q,te,ue,J){if(!Q){var K=b(le,te,ue);te!==K&&(Q=!0,ue="buffer",te=K)}var ce=le.objectMode?1:te.length;le.length+=ce;var ae=le.length<le.highWaterMark;if(ae||(le.needDrain=!0),le.writing||le.corked){var de=le.lastBufferedRequest;le.lastBufferedRequest={chunk:te,encoding:ue,isBuf:Q,callback:J,next:null},de?de.next=le.lastBufferedRequest:le.bufferedRequest=le.lastBufferedRequest,le.bufferedRequestCount+=1}else k(q,le,!1,ce,te,ue,J);return ae}function k(q,le,Q,te,ue,J,K){le.writelen=te,le.writecb=K,le.writing=!0,le.sync=!0,le.destroyed?le.onwrite(new c("write")):Q?q._writev(ue,le.onwrite):q._write(ue,J,le.onwrite),le.sync=!1}function H(q,le,Q,te,ue){--le.pendingcb,Q?(p.nextTick(ue,te),p.nextTick(oe,q,le),q._writableState.errorEmitted=!0,w(q,te)):(ue(te),q._writableState.errorEmitted=!0,w(q,te),oe(q,le))}function F(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}function B(q,le){var Q=q._writableState,te=Q.sync,ue=Q.writecb;if(typeof ue!="function")throw new h;if(F(Q),le)H(q,Q,te,le,ue);else{var J=j(Q)||q.destroyed;!J&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&W(q,Q),te?p.nextTick(U,q,Q,J,ue):U(q,Q,J,ue)}}function U(q,le,Q,te){Q||z(q,le),le.pendingcb--,te(),oe(q,le)}function z(q,le){le.length===0&&le.needDrain&&(le.needDrain=!1,q.emit("drain"))}function W(q,le){le.bufferProcessing=!0;var Q=le.bufferedRequest;if(q._writev&&Q&&Q.next){var te=le.bufferedRequestCount,ue=new Array(te),J=le.corkedRequestsFree;J.entry=Q;for(var K=0,ce=!0;Q;)ue[K]=Q,Q.isBuf||(ce=!1),Q=Q.next,K+=1;ue.allBuffers=ce,k(q,le,!0,le.length,ue,"",J.finish),le.pendingcb++,le.lastBufferedRequest=null,J.next?(le.corkedRequestsFree=J.next,J.next=null):le.corkedRequestsFree=new L(le),le.bufferedRequestCount=0}else{for(;Q;){var ae=Q.chunk,de=Q.encoding,be=Q.callback,Se=le.objectMode?1:ae.length;if(k(q,le,!1,Se,ae,de,be),Q=Q.next,le.bufferedRequestCount--,le.writing)break}Q===null&&(le.lastBufferedRequest=null)}le.bufferedRequest=Q,le.bufferProcessing=!1}A.prototype._write=function(q,le,Q){Q(new y("_write()"))},A.prototype._writev=null,A.prototype.end=function(q,le,Q){var te=this._writableState;return typeof q=="function"?(Q=q,q=null,le=null):typeof le=="function"&&(Q=le,le=null),q!=null&&this.write(q,le),te.corked&&(te.corked=1,this.uncork()),te.ending||he(this,te,Q),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(q){return q.ending&&q.length===0&&q.bufferedRequest===null&&!q.finished&&!q.writing}function ee(q,le){q._final(function(Q){le.pendingcb--,Q&&w(q,Q),le.prefinished=!0,q.emit("prefinish"),oe(q,le)})}function ie(q,le){!le.prefinished&&!le.finalCalled&&(typeof q._final=="function"&&!le.destroyed?(le.pendingcb++,le.finalCalled=!0,p.nextTick(ee,q,le)):(le.prefinished=!0,q.emit("prefinish")))}function oe(q,le){var Q=j(le);if(Q&&(ie(q,le),le.pendingcb===0&&(le.finished=!0,q.emit("finish"),le.autoDestroy))){var te=q._readableState;(!te||te.autoDestroy&&te.endEmitted)&&q.destroy()}return Q}function he(q,le,Q){le.ending=!0,oe(q,le),Q&&(le.finished?p.nextTick(Q):q.once("finish",Q)),le.ended=!0,q.writable=!1}function ne(q,le,Q){var te=q.entry;for(q.entry=null;te;){var ue=te.callback;le.pendingcb--,ue(Q),te=te.next}le.corkedRequestsFree.next=q}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(le){this._writableState&&(this._writableState.destroyed=le)}}),A.prototype.destroy=a.destroy,A.prototype._undestroy=a.undestroy,A.prototype._destroy=function(q,le){le(q)}},60328:function(V,Y,e){var p=e(4168),L;function o(i,d,x){return d in i?Object.defineProperty(i,d,{value:x,enumerable:!0,configurable:!0,writable:!0}):i[d]=x,i}var C=e(15932),S=Symbol("lastResolve"),v=Symbol("lastReject"),g=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),a=Symbol("handlePromise"),n=Symbol("stream");function f(i,d){return{value:i,done:d}}function u(i){var d=i[S];if(d!==null){var x=i[n].read();x!==null&&(i[t]=null,i[S]=null,i[v]=null,d(f(x,!1)))}}function l(i){p.nextTick(u,i)}function y(i,d){return function(x,w){i.then(function(){if(d[r]){x(f(void 0,!0));return}d[a](x,w)},w)}}var h=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((L={get stream(){return this[n]},next:function(){var d=this,x=this[g];if(x!==null)return Promise.reject(x);if(this[r])return Promise.resolve(f(void 0,!0));if(this[n].destroyed)return new Promise(function(E,A){p.nextTick(function(){d[g]?A(d[g]):E(f(void 0,!0))})});var w=this[t],_;if(w)_=new Promise(y(w,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(f(m,!1));_=new Promise(this[a])}return this[t]=_,_}},o(L,Symbol.asyncIterator,function(){return this}),o(L,"return",function(){var d=this;return new Promise(function(x,w){d[n].destroy(null,function(_){if(_){w(_);return}x(f(void 0,!0))})})}),L),h),c=function(d){var x,w=Object.create(T,(x={},o(x,n,{value:d,writable:!0}),o(x,S,{value:null,writable:!0}),o(x,v,{value:null,writable:!0}),o(x,g,{value:null,writable:!0}),o(x,r,{value:d._readableState.endEmitted,writable:!0}),o(x,a,{value:function(m,E){var A=w[n].read();A?(w[t]=null,w[S]=null,w[v]=null,m(f(A,!1))):(w[S]=m,w[v]=E)},writable:!0}),x));return w[t]=null,C(d,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=w[v];m!==null&&(w[t]=null,w[S]=null,w[v]=null,m(_)),w[g]=_;return}var E=w[S];E!==null&&(w[t]=null,w[S]=null,w[v]=null,E(f(void 0,!0))),w[r]=!0}),d.on("readable",l.bind(null,w)),w};V.exports=c},47264:function(V,Y,e){function p(u,l){var y=Object.keys(u);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(u);l&&(h=h.filter(function(T){return Object.getOwnPropertyDescriptor(u,T).enumerable})),y.push.apply(y,h)}return y}function L(u){for(var l=1;l<arguments.length;l++){var y=arguments[l]!=null?arguments[l]:{};l%2?p(Object(y),!0).forEach(function(h){o(u,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(y)):p(Object(y)).forEach(function(h){Object.defineProperty(u,h,Object.getOwnPropertyDescriptor(y,h))})}return u}function o(u,l,y){return l in u?Object.defineProperty(u,l,{value:y,enumerable:!0,configurable:!0,writable:!0}):u[l]=y,u}function C(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function S(u,l){for(var y=0;y<l.length;y++){var h=l[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}function v(u,l,y){return l&&S(u.prototype,l),u}var g=e(33576),r=g.Buffer,t=e(21576),a=t.inspect,n=a&&a.custom||"inspect";function f(u,l,y){r.prototype.copy.call(u,l,y)}V.exports=function(){function u(){C(this,u),this.head=null,this.tail=null,this.length=0}return v(u,[{key:"push",value:function(y){var h={data:y,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(y){var h={data:y,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var h=this.head,T=""+h.data;h=h.next;)T+=y+h.data;return T}},{key:"concat",value:function(y){if(this.length===0)return r.alloc(0);for(var h=r.allocUnsafe(y>>>0),T=this.head,c=0;T;)f(T.data,h,c),c+=T.data.length,T=T.next;return h}},{key:"consume",value:function(y,h){var T;return y<this.head.data.length?(T=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?T=this.shift():T=h?this._getString(y):this._getBuffer(y),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var h=this.head,T=1,c=h.data;for(y-=c.length;h=h.next;){var i=h.data,d=y>i.length?i.length:y;if(d===i.length?c+=i:c+=i.slice(0,y),y-=d,y===0){d===i.length?(++T,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=i.slice(d));break}++T}return this.length-=T,c}},{key:"_getBuffer",value:function(y){var h=r.allocUnsafe(y),T=this.head,c=1;for(T.data.copy(h),y-=T.data.length;T=T.next;){var i=T.data,d=y>i.length?i.length:y;if(i.copy(h,h.length-y,0,d),y-=d,y===0){d===i.length?(++c,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=i.slice(d));break}++c}return this.length-=c,h}},{key:n,value:function(y,h){return a(this,L({},h,{depth:0,customInspect:!1}))}}]),u}()},55324:function(V,Y,e){var p=e(4168);function L(r,t){var a=this,n=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return n||f?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(v,this,r)):p.nextTick(v,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?a._writableState?a._writableState.errorEmitted?p.nextTick(C,a):(a._writableState.errorEmitted=!0,p.nextTick(o,a,u)):p.nextTick(o,a,u):t?(p.nextTick(C,a),t(u)):p.nextTick(C,a)}),this)}function o(r,t){v(r,t),C(r)}function C(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function S(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(r,t){r.emit("error",t)}function g(r,t){var a=r._readableState,n=r._writableState;a&&a.autoDestroy||n&&n.autoDestroy?r.destroy(t):r.emit("error",t)}V.exports={destroy:L,undestroy:S,errorOrDestroy:g}},15932:function(V,Y,e){var p=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function L(v){var g=!1;return function(){if(!g){g=!0;for(var r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];v.apply(this,t)}}}function o(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function S(v,g,r){if(typeof g=="function")return S(v,null,g);g||(g={}),r=L(r||o);var t=g.readable||g.readable!==!1&&v.readable,a=g.writable||g.writable!==!1&&v.writable,n=function(){v.writable||u()},f=v._writableState&&v._writableState.finished,u=function(){a=!1,f=!0,t||r.call(v)},l=v._readableState&&v._readableState.endEmitted,y=function(){t=!1,l=!0,a||r.call(v)},h=function(d){r.call(v,d)},T=function(){var d;if(t&&!l)return(!v._readableState||!v._readableState.ended)&&(d=new p),r.call(v,d);if(a&&!f)return(!v._writableState||!v._writableState.ended)&&(d=new p),r.call(v,d)},c=function(){v.req.on("finish",u)};return C(v)?(v.on("complete",u),v.on("abort",T),v.req?c():v.on("request",c)):a&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",y),v.on("finish",u),g.error!==!1&&v.on("error",h),v.on("close",T),function(){v.removeListener("complete",u),v.removeListener("abort",T),v.removeListener("request",c),v.req&&v.req.removeListener("finish",u),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",u),v.removeListener("end",y),v.removeListener("error",h),v.removeListener("close",T)}}V.exports=S},90555:function(V){V.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(V,Y,e){var p;function L(u){var l=!1;return function(){l||(l=!0,u.apply(void 0,arguments))}}var o=e(92784).i,C=o.ERR_MISSING_ARGS,S=o.ERR_STREAM_DESTROYED;function v(u){if(u)throw u}function g(u){return u.setHeader&&typeof u.abort=="function"}function r(u,l,y,h){h=L(h);var T=!1;u.on("close",function(){T=!0}),p===void 0&&(p=e(15932)),p(u,{readable:l,writable:y},function(i){if(i)return h(i);T=!0,h()});var c=!1;return function(i){if(!T&&!c){if(c=!0,g(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();h(i||new S("pipe"))}}}function t(u){u()}function a(u,l){return u.pipe(l)}function n(u){return!u.length||typeof u[u.length-1]!="function"?v:u.pop()}function f(){for(var u=arguments.length,l=new Array(u),y=0;y<u;y++)l[y]=arguments[y];var h=n(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new C("streams");var T,c=l.map(function(i,d){var x=d<l.length-1,w=d>0;return r(i,x,w,function(_){T||(T=_),_&&c.forEach(t),!x&&(c.forEach(t),h(T))})});return l.reduce(a)}V.exports=f},24888:function(V,Y,e){var p=e(92784).i.ERR_INVALID_OPT_VALUE;function L(C,S,v){return C.highWaterMark!=null?C.highWaterMark:S?C[v]:null}function o(C,S,v,g){var r=L(S,g,v);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=g?v:"highWaterMark";throw new p(t,r)}return Math.floor(r)}return C.objectMode?16:16384}V.exports={getHighWaterMark:o}},4776:function(V,Y,e){V.exports=e(61252).EventEmitter},86032:function(V,Y,e){var p=e(30456).Buffer,L=p.isEncoding||function(c){switch(c=""+c,c&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(c){if(!c)return"utf8";for(var i;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(i)return;c=(""+c).toLowerCase(),i=!0}}function C(c){var i=o(c);if(typeof i!="string"&&(p.isEncoding===L||!L(c)))throw new Error("Unknown encoding: "+c);return i||c}Y.o=S;function S(c){this.encoding=C(c);var i;switch(this.encoding){case"utf16le":this.text=f,this.end=u,i=4;break;case"utf8":this.fillLast=t,i=4;break;case"base64":this.text=l,this.end=y,i=3;break;default:this.write=h,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(i)}S.prototype.write=function(c){if(c.length===0)return"";var i,d;if(this.lastNeed){if(i=this.fillLast(c),i===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<c.length?i?i+this.text(c,d):this.text(c,d):i||""},S.prototype.end=n,S.prototype.text=a,S.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length};function v(c){return c<=127?0:c>>5===6?2:c>>4===14?3:c>>3===30?4:c>>6===2?-1:-2}function g(c,i,d){var x=i.length-1;if(x<d)return 0;var w=v(i[x]);return w>=0?(w>0&&(c.lastNeed=w-1),w):--x<d||w===-2?0:(w=v(i[x]),w>=0?(w>0&&(c.lastNeed=w-2),w):--x<d||w===-2?0:(w=v(i[x]),w>=0?(w>0&&(w===2?w=0:c.lastNeed=w-3),w):0))}function r(c,i,d){if((i[0]&192)!==128)return c.lastNeed=0,"�";if(c.lastNeed>1&&i.length>1){if((i[1]&192)!==128)return c.lastNeed=1,"�";if(c.lastNeed>2&&i.length>2&&(i[2]&192)!==128)return c.lastNeed=2,"�"}}function t(c){var i=this.lastTotal-this.lastNeed,d=r(this,c);if(d!==void 0)return d;if(this.lastNeed<=c.length)return c.copy(this.lastChar,i,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,i,0,c.length),this.lastNeed-=c.length}function a(c,i){var d=g(this,c,i);if(!this.lastNeed)return c.toString("utf8",i);this.lastTotal=d;var x=c.length-(d-this.lastNeed);return c.copy(this.lastChar,0,x),c.toString("utf8",i,x)}function n(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+"�":i}function f(c,i){if((c.length-i)%2===0){var d=c.toString("utf16le",i);if(d){var x=d.charCodeAt(d.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",i,c.length-1)}function u(c){var i=c&&c.length?this.write(c):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return i+this.lastChar.toString("utf16le",0,d)}return i}function l(c,i){var d=(c.length-i)%3;return d===0?c.toString("base64",i):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",i,c.length-d))}function y(c){var i=c&&c.length?this.write(c):"";return this.lastNeed?i+this.lastChar.toString("base64",0,3-this.lastNeed):i}function h(c){return c.toString(this.encoding)}function T(c){return c&&c.length?this.write(c):""}},55619:function(V,Y,e){var p=e(45408),L=e(86844)("stream-parser");V.exports=g;var o=-1,C=0,S=1,v=2;function g(c){var i=c&&typeof c._transform=="function",d=c&&typeof c._write=="function";if(!i&&!d)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),c._bytes=t,c._skipBytes=a,i&&(c._passthrough=n),i?c._transform=u:c._write=f}function r(c){L("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=o,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,i){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||r(this),L("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=C}function a(c,i){p(!this._parserCallback,'there is already a "callback" set!'),p(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=S}function n(c,i){p(!this._parserCallback,'There is already a "callback" set!'),p(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||r(this),L("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=i,this._parserState=v}function f(c,i,d){this._parserInit||r(this),L("write(%o bytes)",c.length),typeof i=="function"&&(d=i),h(this,c,null,d)}function u(c,i,d){this._parserInit||r(this),L("transform(%o bytes)",c.length),typeof i!="function"&&(i=this._parserOutput),h(this,c,i,d)}function l(c,i,d,x){return c._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):i.length<=c._parserBytesLeft?function(){return y(c,i,d,x)}:function(){var w=i.slice(0,c._parserBytesLeft);return y(c,w,d,function(_){if(_)return x(_);if(i.length>w.length)return function(){return l(c,i.slice(w.length),d,x)}})}}function y(c,i,d,x){if(c._parserBytesLeft-=i.length,L("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===C?(c._parserBuffers.push(i),c._parserBuffered+=i.length):c._parserState===v&&d(i),c._parserBytesLeft===0){var w=c._parserCallback;if(w&&c._parserState===C&&c._parserBuffers.length>1&&(i=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==C&&(i=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=o,c._parserBuffers.splice(0),w){var _=[];i&&_.push(i),d&&_.push(d);var m=w.length>_.length;m&&_.push(T(x));var E=w.apply(c,_);if(!m||x===E)return x}}else return x}var h=T(l);function T(c){return function(){for(var i=c.apply(this,arguments);typeof i=="function";)i=i();return i}}},86844:function(V,Y,e){var p=e(4168);Y=V.exports=e(89416),Y.log=C,Y.formatArgs=o,Y.save=S,Y.load=v,Y.useColors=L,Y.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),Y.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}Y.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function o(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+Y.humanize(this.diff),!!t){var a="color: "+this.color;r.splice(1,0,a,"color: inherit");var n=0,f=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(n++,u==="%c"&&(f=n))}),r.splice(f,0,a)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function S(r){try{r==null?Y.storage.removeItem("debug"):Y.storage.debug=r}catch{}}function v(){var r;try{r=Y.storage.debug}catch{}return!r&&typeof p<"u"&&"env"in p&&(r=p.env.DEBUG),r}Y.enable(v());function g(){try{return window.localStorage}catch{}}},89416:function(V,Y,e){Y=V.exports=o.debug=o.default=o,Y.coerce=g,Y.disable=S,Y.enable=C,Y.enabled=v,Y.humanize=e(93744),Y.names=[],Y.skips=[],Y.formatters={};var p;function L(r){var t=0,a;for(a in r)t=(t<<5)-t+r.charCodeAt(a),t|=0;return Y.colors[Math.abs(t)%Y.colors.length]}function o(r){function t(){if(t.enabled){var a=t,n=+new Date,f=n-(p||n);a.diff=f,a.prev=p,a.curr=n,p=n;for(var u=new Array(arguments.length),l=0;l<u.length;l++)u[l]=arguments[l];u[0]=Y.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var y=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(T,c){if(T==="%%")return T;y++;var i=Y.formatters[c];if(typeof i=="function"){var d=u[y];T=i.call(a,d),u.splice(y,1),y--}return T}),Y.formatArgs.call(a,u);var h=t.log||Y.log||console.log.bind(console);h.apply(a,u)}}return t.namespace=r,t.enabled=Y.enabled(r),t.useColors=Y.useColors(),t.color=L(r),typeof Y.init=="function"&&Y.init(t),t}function C(r){Y.save(r),Y.names=[],Y.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),a=t.length,n=0;n<a;n++)t[n]&&(r=t[n].replace(/\*/g,".*?"),r[0]==="-"?Y.skips.push(new RegExp("^"+r.substr(1)+"$")):Y.names.push(new RegExp("^"+r+"$")))}function S(){Y.enable("")}function v(r){var t,a;for(t=0,a=Y.skips.length;t<a;t++)if(Y.skips[t].test(r))return!1;for(t=0,a=Y.names.length;t<a;t++)if(Y.names[t].test(r))return!0;return!1}function g(r){return r instanceof Error?r.stack||r.message:r}},93744:function(V){var Y=1e3,e=Y*60,p=e*60,L=p*24,o=L*365.25;V.exports=function(r,t){t=t||{};var a=typeof r;if(a==="string"&&r.length>0)return C(r);if(a==="number"&&isNaN(r)===!1)return t.long?v(r):S(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function C(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var a=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return a*o;case"days":case"day":case"d":return a*L;case"hours":case"hour":case"hrs":case"hr":case"h":return a*p;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*Y;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function S(r){return r>=L?Math.round(r/L)+"d":r>=p?Math.round(r/p)+"h":r>=e?Math.round(r/e)+"m":r>=Y?Math.round(r/Y)+"s":r+"ms"}function v(r){return g(r,L,"day")||g(r,p,"hour")||g(r,e,"minute")||g(r,Y,"second")||r+" ms"}function g(r,t,a){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+a:Math.ceil(r/t)+" "+a+"s"}},39956:function(V,Y,e){var p=e(32868);V.exports=function(o,C,S){if(o==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");S?(typeof S=="string"||Array.isArray(S))&&(S={ignore:S}):S={},S.escape==null&&(S.escape=!0),S.ignore==null?S.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof S.ignore=="string"&&(S.ignore=[S.ignore]),S.ignore=S.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var v=p.parse(o,{flat:!0,brackets:S.ignore}),g=v[0],r=g.split(C);if(S.escape){for(var t=[],a=0;a<r.length;a++){var n=r[a],f=r[a+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(t.push(n+C+f),a++):t.push(n)}r=t}for(var a=0;a<r.length;a++)v[0]=r[a],r[a]=p.stringify(v,{flat:!0});return r}},78484:function(V){V.exports=Y;function Y(e){for(var p=e.length,L=new Array(p),o=new Array(p),C=new Array(p),S=new Array(p),v=new Array(p),g=new Array(p),r=0;r<p;++r)L[r]=-1,o[r]=0,C[r]=!1,S[r]=0,v[r]=-1,g[r]=[];var t=0,a=[],n=[];function f(h){var T=[h],c=[h];for(L[h]=o[h]=t,C[h]=!0,t+=1;c.length>0;){h=c[c.length-1];var i=e[h];if(S[h]<i.length){for(var d=S[h];d<i.length;++d){var x=i[d];if(L[x]<0){L[x]=o[x]=t,C[x]=!0,t+=1,T.push(x),c.push(x);break}else C[x]&&(o[h]=Math.min(o[h],o[x])|0);v[x]>=0&&g[h].push(v[x])}S[h]=d}else{if(o[h]===L[h]){for(var w=[],_=[],m=0,d=T.length-1;d>=0;--d){var E=T[d];if(C[E]=!1,w.push(E),_.push(g[E]),m+=g[E].length,v[E]=a.length,E===h){T.length=d;break}}a.push(w);for(var A=new Array(m),d=0;d<_.length;d++)for(var s=0;s<_[d].length;s++)A[--m]=_[d][s];n.push(A)}c.pop()}}}for(var r=0;r<p;++r)L[r]<0&&f(r);for(var u,r=0;r<n.length;r++){var l=n[r];if(l.length!==0){l.sort(function(T,c){return T-c}),u=[l[0]];for(var y=1;y<l.length;y++)l[y]!==l[y-1]&&u.push(l[y]);n[r]=u}}return{components:a,adjacencyList:n}}},92848:function(V,Y,e){e.r(Y);var p=function(){function r(t,a){var n=[],f=!0,u=!1,l=void 0;try{for(var y=t[Symbol.iterator](),h;!(f=(h=y.next()).done)&&(n.push(h.value),!(a&&n.length===a));f=!0);}catch(T){u=!0,l=T}finally{try{!f&&y.return&&y.return()}finally{if(u)throw l}}return n}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,o=function(t,a,n,f,u,l,y){var h=t.x,T=t.y;h*=a,T*=n;var c=f*h-u*T,i=u*h+f*T;return{x:c+l,y:i+y}},C=function(t,a){var n=a===1.5707963267948966?.551915024494:a===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(a/4),f=Math.cos(t),u=Math.sin(t),l=Math.cos(t+a),y=Math.sin(t+a);return[{x:f-u*n,y:u+f*n},{x:l+y*n,y:y-l*n},{x:l,y}]},S=function(t,a,n,f){var u=t*f-a*n<0?-1:1,l=t*n+a*f;return l>1&&(l=1),l<-1&&(l=-1),u*Math.acos(l)},v=function(t,a,n,f,u,l,y,h,T,c,i,d){var x=Math.pow(u,2),w=Math.pow(l,2),_=Math.pow(i,2),m=Math.pow(d,2),E=x*w-x*m-w*_;E<0&&(E=0),E/=x*m+w*_,E=Math.sqrt(E)*(y===h?-1:1);var A=E*u/l*d,s=E*-l/u*i,M=c*A-T*s+(t+n)/2,b=T*A+c*s+(a+f)/2,N=(i-A)/u,k=(d-s)/l,H=(-i-A)/u,F=(-d-s)/l,B=S(1,0,N,k),U=S(N,k,H,F);return h===0&&U>0&&(U-=L),h===1&&U<0&&(U+=L),[M,b,B,U]},g=function(t){var a=t.px,n=t.py,f=t.cx,u=t.cy,l=t.rx,y=t.ry,h=t.xAxisRotation,T=h===void 0?0:h,c=t.largeArcFlag,i=c===void 0?0:c,d=t.sweepFlag,x=d===void 0?0:d,w=[];if(l===0||y===0)return[];var _=Math.sin(T*L/360),m=Math.cos(T*L/360),E=m*(a-f)/2+_*(n-u)/2,A=-_*(a-f)/2+m*(n-u)/2;if(E===0&&A===0)return[];l=Math.abs(l),y=Math.abs(y);var s=Math.pow(E,2)/Math.pow(l,2)+Math.pow(A,2)/Math.pow(y,2);s>1&&(l*=Math.sqrt(s),y*=Math.sqrt(s));var M=v(a,n,f,u,l,y,i,x,_,m,E,A),b=p(M,4),N=b[0],k=b[1],H=b[2],F=b[3],B=Math.abs(F)/(L/4);Math.abs(1-B)<1e-7&&(B=1);var U=Math.max(Math.ceil(B),1);F/=U;for(var z=0;z<U;z++)w.push(C(H,F)),H+=F;return w.map(function(W){var j=o(W[0],l,y,m,_,N,k),ee=j.x,ie=j.y,oe=o(W[1],l,y,m,_,N,k),he=oe.x,ne=oe.y,q=o(W[2],l,y,m,_,N,k),le=q.x,Q=q.y;return{x1:ee,y1:ie,x2:he,y2:ne,x:le,y:Q}})};Y.default=g},74840:function(V,Y,e){var p=e(21984),L=e(49972),o=e(41976),C=e(53520),S=e(45408);V.exports=v;function v(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(S(C(g),"String is not an SVG path."),g=p(g)),S(Array.isArray(g),"Argument should be a string or an array of path segments."),g=L(g),g=o(g),!g.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,a=g.length;t<a;t++)for(var n=g[t].slice(1),f=0;f<n.length;f+=2)n[f+0]<r[0]&&(r[0]=n[f+0]),n[f+1]<r[1]&&(r[1]=n[f+1]),n[f+0]>r[2]&&(r[2]=n[f+0]),n[f+1]>r[3]&&(r[3]=n[f+1]);return r}},41976:function(V,Y,e){V.exports=L;var p=e(92848);function L(S){for(var v,g=[],r=0,t=0,a=0,n=0,f=null,u=null,l=0,y=0,h=0,T=S.length;h<T;h++){var c=S[h],i=c[0];switch(i){case"M":a=c[1],n=c[2];break;case"A":var d=p({px:l,py:y,cx:c[6],cy:c[7],rx:c[1],ry:c[2],xAxisRotation:c[3],largeArcFlag:c[4],sweepFlag:c[5]});if(!d.length)continue;for(var x=0,w;x<d.length;x++)w=d[x],c=["C",w.x1,w.y1,w.x2,w.y2,w.x,w.y],x<d.length-1&&g.push(c);break;case"S":var _=l,m=y;(v=="C"||v=="S")&&(_+=_-r,m+=m-t),c=["C",_,m,c[1],c[2],c[3],c[4]];break;case"T":v=="Q"||v=="T"?(f=l*2-f,u=y*2-u):(f=l,u=y),c=C(l,y,f,u,c[1],c[2]);break;case"Q":f=c[1],u=c[2],c=C(l,y,c[1],c[2],c[3],c[4]);break;case"L":c=o(l,y,c[1],c[2]);break;case"H":c=o(l,y,c[1],y);break;case"V":c=o(l,y,l,c[1]);break;case"Z":c=o(l,y,a,n);break}v=i,l=c[c.length-2],y=c[c.length-1],c.length>4?(r=c[c.length-4],t=c[c.length-3]):(r=l,t=y),g.push(c)}return g}function o(S,v,g,r){return["C",S,v,g,r,g,r]}function C(S,v,g,r,t,a){return["C",S/3+.6666666666666666*g,v/3+.6666666666666666*r,t/3+.6666666666666666*g,a/3+.6666666666666666*r,t,a]}},20472:function(V,Y,e){var p=e(74840),L=e(21984),o=e(22235),C=e(53520),S=e(29620),v=document.createElement("canvas"),g=v.getContext("2d");V.exports=r;function r(n,f){if(!C(n))throw Error("Argument should be valid svg path string");f||(f={});var u,l;f.shape?(u=f.shape[0],l=f.shape[1]):(u=v.width=f.w||f.width||200,l=v.height=f.h||f.height||200);var y=Math.min(u,l),h=f.stroke||0,T=f.viewbox||f.viewBox||p(n),c=[u/(T[2]-T[0]),l/(T[3]-T[1])],i=Math.min(c[0]||0,c[1]||0)/2;if(g.fillStyle="black",g.fillRect(0,0,u,l),g.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?g.strokeStyle="white":g.strokeStyle="black",g.lineWidth=Math.abs(h)),g.translate(u*.5,l*.5),g.scale(i,i),a()){var d=new Path2D(n);g.fill(d),h&&g.stroke(d)}else{var x=L(n);o(g,x),g.fill(),h&&g.stroke()}g.setTransform(1,0,0,1,0,0);var w=S(g,{cutoff:f.cutoff!=null?f.cutoff:.5,radius:f.radius!=null?f.radius:y*.5});return w}var t;function a(){if(t!=null)return t;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return t=!1;var f=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(f);var u=n.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},49760:function(V,Y,e){var p;(function(L){var o=/^\s+/,C=/\s+$/,S=0,v=L.round,g=L.min,r=L.max,t=L.random;function a(K,ce){if(K=K||"",ce=ce||{},K instanceof a)return K;if(!(this instanceof a))return new a(K,ce);var ae=n(K);this._originalInput=K,this._r=ae.r,this._g=ae.g,this._b=ae.b,this._a=ae.a,this._roundA=v(100*this._a)/100,this._format=ce.format||ae.format,this._gradientType=ce.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ae.ok,this._tc_id=S++}a.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},getLuminance:function(){var K=this.toRgb(),ce,ae,de,be,Se,Te;return ce=K.r/255,ae=K.g/255,de=K.b/255,ce<=.03928?be=ce/12.92:be=L.pow((ce+.055)/1.055,2.4),ae<=.03928?Se=ae/12.92:Se=L.pow((ae+.055)/1.055,2.4),de<=.03928?Te=de/12.92:Te=L.pow((de+.055)/1.055,2.4),.2126*be+.7152*Se+.0722*Te},setAlpha:function(K){return this._a=z(K),this._roundA=v(100*this._a)/100,this},toHsv:function(){var K=y(this._r,this._g,this._b);return{h:K.h*360,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=y(this._r,this._g,this._b),ce=v(K.h*360),ae=v(K.s*100),de=v(K.v*100);return this._a==1?"hsv("+ce+", "+ae+"%, "+de+"%)":"hsva("+ce+", "+ae+"%, "+de+"%, "+this._roundA+")"},toHsl:function(){var K=u(this._r,this._g,this._b);return{h:K.h*360,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=u(this._r,this._g,this._b),ce=v(K.h*360),ae=v(K.s*100),de=v(K.l*100);return this._a==1?"hsl("+ce+", "+ae+"%, "+de+"%)":"hsla("+ce+", "+ae+"%, "+de+"%, "+this._roundA+")"},toHex:function(K){return T(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return c(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(W(this._r,255)*100)+"%",g:v(W(this._g,255)*100)+"%",b:v(W(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(W(this._r,255)*100)+"%, "+v(W(this._g,255)*100)+"%, "+v(W(this._b,255)*100)+"%)":"rgba("+v(W(this._r,255)*100)+"%, "+v(W(this._g,255)*100)+"%, "+v(W(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:B[T(this._r,this._g,this._b,!0)]||!1},toFilter:function(K){var ce="#"+i(this._r,this._g,this._b,this._a),ae=ce,de=this._gradientType?"GradientType = 1, ":"";if(K){var be=a(K);ae="#"+i(be._r,be._g,be._b,be._a)}return"progid:DXImageTransform.Microsoft.gradient("+de+"startColorstr="+ce+",endColorstr="+ae+")"},toString:function(K){var ce=!!K;K=K||this._format;var ae=!1,de=this._a<1&&this._a>=0,be=!ce&&de&&(K==="hex"||K==="hex6"||K==="hex3"||K==="hex4"||K==="hex8"||K==="name");return be?K==="name"&&this._a===0?this.toName():this.toRgbString():(K==="rgb"&&(ae=this.toRgbString()),K==="prgb"&&(ae=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(ae=this.toHexString()),K==="hex3"&&(ae=this.toHexString(!0)),K==="hex4"&&(ae=this.toHex8String(!0)),K==="hex8"&&(ae=this.toHex8String()),K==="name"&&(ae=this.toName()),K==="hsl"&&(ae=this.toHslString()),K==="hsv"&&(ae=this.toHsvString()),ae||this.toHexString())},clone:function(){return a(this.toString())},_applyModification:function(K,ce){var ae=K.apply(null,[this].concat([].slice.call(ce)));return this._r=ae._r,this._g=ae._g,this._b=ae._b,this.setAlpha(ae._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(A,arguments)},_applyCombination:function(K,ce){return K.apply(null,[this].concat([].slice.call(ce)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},a.fromRatio=function(K,ce){if(typeof K=="object"){var ae={};for(var de in K)K.hasOwnProperty(de)&&(de==="a"?ae[de]=K[de]:ae[de]=ne(K[de]));K=ae}return a(K,ce)};function n(K){var ce={r:0,g:0,b:0},ae=1,de=null,be=null,Se=null,Te=!1,Ie=!1;return typeof K=="string"&&(K=ue(K)),typeof K=="object"&&(te(K.r)&&te(K.g)&&te(K.b)?(ce=f(K.r,K.g,K.b),Te=!0,Ie=String(K.r).substr(-1)==="%"?"prgb":"rgb"):te(K.h)&&te(K.s)&&te(K.v)?(de=ne(K.s),be=ne(K.v),ce=h(K.h,de,be),Te=!0,Ie="hsv"):te(K.h)&&te(K.s)&&te(K.l)&&(de=ne(K.s),Se=ne(K.l),ce=l(K.h,de,Se),Te=!0,Ie="hsl"),K.hasOwnProperty("a")&&(ae=K.a)),ae=z(ae),{ok:Te,format:K.format||Ie,r:g(255,r(ce.r,0)),g:g(255,r(ce.g,0)),b:g(255,r(ce.b,0)),a:ae}}function f(K,ce,ae){return{r:W(K,255)*255,g:W(ce,255)*255,b:W(ae,255)*255}}function u(K,ce,ae){K=W(K,255),ce=W(ce,255),ae=W(ae,255);var de=r(K,ce,ae),be=g(K,ce,ae),Se,Te,Ie=(de+be)/2;if(de==be)Se=Te=0;else{var ke=de-be;switch(Te=Ie>.5?ke/(2-de-be):ke/(de+be),de){case K:Se=(ce-ae)/ke+(ce<ae?6:0);break;case ce:Se=(ae-K)/ke+2;break;case ae:Se=(K-ce)/ke+4;break}Se/=6}return{h:Se,s:Te,l:Ie}}function l(K,ce,ae){var de,be,Se;K=W(K,360),ce=W(ce,100),ae=W(ae,100);function Te(Be,Me,Oe){return Oe<0&&(Oe+=1),Oe>1&&(Oe-=1),Oe<.16666666666666666?Be+(Me-Be)*6*Oe:Oe<.5?Me:Oe<.6666666666666666?Be+(Me-Be)*(.6666666666666666-Oe)*6:Be}if(ce===0)de=be=Se=ae;else{var Ie=ae<.5?ae*(1+ce):ae+ce-ae*ce,ke=2*ae-Ie;de=Te(ke,Ie,K+.3333333333333333),be=Te(ke,Ie,K),Se=Te(ke,Ie,K-.3333333333333333)}return{r:de*255,g:be*255,b:Se*255}}function y(K,ce,ae){K=W(K,255),ce=W(ce,255),ae=W(ae,255);var de=r(K,ce,ae),be=g(K,ce,ae),Se,Te,Ie=de,ke=de-be;if(Te=de===0?0:ke/de,de==be)Se=0;else{switch(de){case K:Se=(ce-ae)/ke+(ce<ae?6:0);break;case ce:Se=(ae-K)/ke+2;break;case ae:Se=(K-ce)/ke+4;break}Se/=6}return{h:Se,s:Te,v:Ie}}function h(K,ce,ae){K=W(K,360)*6,ce=W(ce,100),ae=W(ae,100);var de=L.floor(K),be=K-de,Se=ae*(1-ce),Te=ae*(1-be*ce),Ie=ae*(1-(1-be)*ce),ke=de%6,Be=[ae,Te,Se,Se,Ie,ae][ke],Me=[Ie,ae,ae,Te,Se,Se][ke],Oe=[Se,Se,Ie,ae,ae,Te][ke];return{r:Be*255,g:Me*255,b:Oe*255}}function T(K,ce,ae,de){var be=[he(v(K).toString(16)),he(v(ce).toString(16)),he(v(ae).toString(16))];return de&&be[0].charAt(0)==be[0].charAt(1)&&be[1].charAt(0)==be[1].charAt(1)&&be[2].charAt(0)==be[2].charAt(1)?be[0].charAt(0)+be[1].charAt(0)+be[2].charAt(0):be.join("")}function c(K,ce,ae,de,be){var Se=[he(v(K).toString(16)),he(v(ce).toString(16)),he(v(ae).toString(16)),he(q(de))];return be&&Se[0].charAt(0)==Se[0].charAt(1)&&Se[1].charAt(0)==Se[1].charAt(1)&&Se[2].charAt(0)==Se[2].charAt(1)&&Se[3].charAt(0)==Se[3].charAt(1)?Se[0].charAt(0)+Se[1].charAt(0)+Se[2].charAt(0)+Se[3].charAt(0):Se.join("")}function i(K,ce,ae,de){var be=[he(q(de)),he(v(K).toString(16)),he(v(ce).toString(16)),he(v(ae).toString(16))];return be.join("")}a.equals=function(K,ce){return!K||!ce?!1:a(K).toRgbString()==a(ce).toRgbString()},a.random=function(){return a.fromRatio({r:t(),g:t(),b:t()})};function d(K,ce){ce=ce===0?0:ce||10;var ae=a(K).toHsl();return ae.s-=ce/100,ae.s=j(ae.s),a(ae)}function x(K,ce){ce=ce===0?0:ce||10;var ae=a(K).toHsl();return ae.s+=ce/100,ae.s=j(ae.s),a(ae)}function w(K){return a(K).desaturate(100)}function _(K,ce){ce=ce===0?0:ce||10;var ae=a(K).toHsl();return ae.l+=ce/100,ae.l=j(ae.l),a(ae)}function m(K,ce){ce=ce===0?0:ce||10;var ae=a(K).toRgb();return ae.r=r(0,g(255,ae.r-v(255*-(ce/100)))),ae.g=r(0,g(255,ae.g-v(255*-(ce/100)))),ae.b=r(0,g(255,ae.b-v(255*-(ce/100)))),a(ae)}function E(K,ce){ce=ce===0?0:ce||10;var ae=a(K).toHsl();return ae.l-=ce/100,ae.l=j(ae.l),a(ae)}function A(K,ce){var ae=a(K).toHsl(),de=(ae.h+ce)%360;return ae.h=de<0?360+de:de,a(ae)}function s(K){var ce=a(K).toHsl();return ce.h=(ce.h+180)%360,a(ce)}function M(K){var ce=a(K).toHsl(),ae=ce.h;return[a(K),a({h:(ae+120)%360,s:ce.s,l:ce.l}),a({h:(ae+240)%360,s:ce.s,l:ce.l})]}function b(K){var ce=a(K).toHsl(),ae=ce.h;return[a(K),a({h:(ae+90)%360,s:ce.s,l:ce.l}),a({h:(ae+180)%360,s:ce.s,l:ce.l}),a({h:(ae+270)%360,s:ce.s,l:ce.l})]}function N(K){var ce=a(K).toHsl(),ae=ce.h;return[a(K),a({h:(ae+72)%360,s:ce.s,l:ce.l}),a({h:(ae+216)%360,s:ce.s,l:ce.l})]}function k(K,ce,ae){ce=ce||6,ae=ae||30;var de=a(K).toHsl(),be=360/ae,Se=[a(K)];for(de.h=(de.h-(be*ce>>1)+720)%360;--ce;)de.h=(de.h+be)%360,Se.push(a(de));return Se}function H(K,ce){ce=ce||6;for(var ae=a(K).toHsv(),de=ae.h,be=ae.s,Se=ae.v,Te=[],Ie=1/ce;ce--;)Te.push(a({h:de,s:be,v:Se})),Se=(Se+Ie)%1;return Te}a.mix=function(K,ce,ae){ae=ae===0?0:ae||50;var de=a(K).toRgb(),be=a(ce).toRgb(),Se=ae/100,Te={r:(be.r-de.r)*Se+de.r,g:(be.g-de.g)*Se+de.g,b:(be.b-de.b)*Se+de.b,a:(be.a-de.a)*Se+de.a};return a(Te)},a.readability=function(K,ce){var ae=a(K),de=a(ce);return(L.max(ae.getLuminance(),de.getLuminance())+.05)/(L.min(ae.getLuminance(),de.getLuminance())+.05)},a.isReadable=function(K,ce,ae){var de=a.readability(K,ce),be,Se;switch(Se=!1,be=J(ae),be.level+be.size){case"AAsmall":case"AAAlarge":Se=de>=4.5;break;case"AAlarge":Se=de>=3;break;case"AAAsmall":Se=de>=7;break}return Se},a.mostReadable=function(K,ce,ae){var de=null,be=0,Se,Te,Ie,ke;ae=ae||{},Te=ae.includeFallbackColors,Ie=ae.level,ke=ae.size;for(var Be=0;Be<ce.length;Be++)Se=a.readability(K,ce[Be]),Se>be&&(be=Se,de=a(ce[Be]));return a.isReadable(K,de,{level:Ie,size:ke})||!Te?de:(ae.includeFallbackColors=!1,a.mostReadable(K,["#fff","#000"],ae))};var F=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=a.hexNames=U(F);function U(K){var ce={};for(var ae in K)K.hasOwnProperty(ae)&&(ce[K[ae]]=ae);return ce}function z(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function W(K,ce){ie(K)&&(K="100%");var ae=oe(K);return K=g(ce,r(0,parseFloat(K))),ae&&(K=parseInt(K*ce,10)/100),L.abs(K-ce)<1e-6?1:K%ce/parseFloat(ce)}function j(K){return g(1,r(0,K))}function ee(K){return parseInt(K,16)}function ie(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function oe(K){return typeof K=="string"&&K.indexOf("%")!=-1}function he(K){return K.length==1?"0"+K:""+K}function ne(K){return K<=1&&(K=K*100+"%"),K}function q(K){return L.round(parseFloat(K)*255).toString(16)}function le(K){return ee(K)/255}var Q=function(){var K="[-\\+]?\\d+%?",ce="[-\\+]?\\d*\\.\\d+%?",ae="(?:"+ce+")|(?:"+K+")",de="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?",be="[\\s|\\(]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")[,|\\s]+("+ae+")\\s*\\)?";return{CSS_UNIT:new RegExp(ae),rgb:new RegExp("rgb"+de),rgba:new RegExp("rgba"+be),hsl:new RegExp("hsl"+de),hsla:new RegExp("hsla"+be),hsv:new RegExp("hsv"+de),hsva:new RegExp("hsva"+be),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function te(K){return!!Q.CSS_UNIT.exec(K)}function ue(K){K=K.replace(o,"").replace(C,"").toLowerCase();var ce=!1;if(F[K])K=F[K],ce=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ae;return(ae=Q.rgb.exec(K))?{r:ae[1],g:ae[2],b:ae[3]}:(ae=Q.rgba.exec(K))?{r:ae[1],g:ae[2],b:ae[3],a:ae[4]}:(ae=Q.hsl.exec(K))?{h:ae[1],s:ae[2],l:ae[3]}:(ae=Q.hsla.exec(K))?{h:ae[1],s:ae[2],l:ae[3],a:ae[4]}:(ae=Q.hsv.exec(K))?{h:ae[1],s:ae[2],v:ae[3]}:(ae=Q.hsva.exec(K))?{h:ae[1],s:ae[2],v:ae[3],a:ae[4]}:(ae=Q.hex8.exec(K))?{r:ee(ae[1]),g:ee(ae[2]),b:ee(ae[3]),a:le(ae[4]),format:ce?"name":"hex8"}:(ae=Q.hex6.exec(K))?{r:ee(ae[1]),g:ee(ae[2]),b:ee(ae[3]),format:ce?"name":"hex"}:(ae=Q.hex4.exec(K))?{r:ee(ae[1]+""+ae[1]),g:ee(ae[2]+""+ae[2]),b:ee(ae[3]+""+ae[3]),a:le(ae[4]+""+ae[4]),format:ce?"name":"hex8"}:(ae=Q.hex3.exec(K))?{r:ee(ae[1]+""+ae[1]),g:ee(ae[2]+""+ae[2]),b:ee(ae[3]+""+ae[3]),format:ce?"name":"hex"}:!1}function J(K){var ce,ae;return K=K||{level:"AA",size:"small"},ce=(K.level||"AA").toUpperCase(),ae=(K.size||"small").toLowerCase(),ce!=="AA"&&ce!=="AAA"&&(ce="AA"),ae!=="small"&&ae!=="large"&&(ae="small"),{level:ce,size:ae}}V.exports?V.exports=a:(p=(function(){return a}).call(Y,e,Y,V),p!==void 0&&(V.exports=p))})(Math)},37816:function(V){V.exports=p,V.exports.float32=V.exports.float=p,V.exports.fract32=V.exports.fract=e;var Y=new Float32Array(1);function e(L,o){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);o instanceof Float32Array||(o=p(L));for(var C=0,S=o.length;C<S;C++)o[C]=L[C]-o[C];return o}return p(L-p(L))}function p(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(Y[0]=L,Y[0])}},23464:function(V,Y,e){var p=e(65819);V.exports=S;var L=96;function o(v,g){var r=p(getComputedStyle(v).getPropertyValue(g));return r[0]*S(r[1],v)}function C(v,g){var r=document.createElement("div");r.style["font-size"]="128"+v,g.appendChild(r);var t=o(r,"font-size")/128;return g.removeChild(r),t}function S(v,g){switch(g=g||document.body,v=(v||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),v){case"%":return g.clientHeight/100;case"ch":case"ex":return C(v,g);case"em":return o(g,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},55712:function(V,Y,e){e.d(Y,{NO:function(){return C}});function p(g,r){for(var t,a=g.length,n=a-r;n<--a;)t=g[n],g[n++]=g[a],g[a]=t}function L(g){return g}function o(g){if(g==null)return L;var r,t,a=g.scale[0],n=g.scale[1],f=g.translate[0],u=g.translate[1];return function(l,y){y||(r=t=0);var h=2,T=l.length,c=new Array(T);for(c[0]=(r+=l[0])*a+f,c[1]=(t+=l[1])*n+u;h<T;)c[h]=l[h],++h;return c}}function C(g,r){return typeof r=="string"&&(r=g.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return S(g,t)})}:S(g,r)}function S(g,r){var t=r.id,a=r.bbox,n=r.properties==null?{}:r.properties,f=v(g,r);return t==null&&a==null?{type:"Feature",properties:n,geometry:f}:a==null?{type:"Feature",id:t,properties:n,geometry:f}:{type:"Feature",id:t,bbox:a,properties:n,geometry:f}}function v(g,r){var t=o(g.transform),a=g.arcs;function n(T,c){c.length&&c.pop();for(var i=a[T<0?~T:T],d=0,x=i.length;d<x;++d)c.push(t(i[d],d));T<0&&p(c,x)}function f(T){return t(T)}function u(T){for(var c=[],i=0,d=T.length;i<d;++i)n(T[i],c);return c.length<2&&c.push(c[0]),c}function l(T){for(var c=u(T);c.length<4;)c.push(c[0]);return c}function y(T){return T.map(l)}function h(T){var c=T.type,i;switch(c){case"GeometryCollection":return{type:c,geometries:T.geometries.map(h)};case"Point":i=f(T.coordinates);break;case"MultiPoint":i=T.coordinates.map(f);break;case"LineString":i=u(T.arcs);break;case"MultiLineString":i=T.arcs.map(u);break;case"Polygon":i=y(T.arcs);break;case"MultiPolygon":i=T.arcs.map(y);break;default:return null}return{type:c,coordinates:i}}return h(r)}},73384:function(V,Y,e){var p=e(54612);V.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!p(L)}},57980:function(V,Y,e){var p=e(81680),L=e(7328),o=e(33940),C=e(18856),S=function(v,g){return v.replace("%v",C(g))};V.exports=function(v,g,r){if(!L(r))throw new TypeError(S(g,v));if(!p(v)){if("default"in r)return r.default;if(r.isOptional)return null}var t=o(r.errorMessage);throw p(t)||(t=g),new TypeError(S(t,v))}},32336:function(V){V.exports=function(Y){try{return Y.toString()}catch{try{return String(Y)}catch{return null}}}},18856:function(V,Y,e){var p=e(32336),L=/[\n\r\u2028\u2029]/g;V.exports=function(o){var C=p(o);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+"…"),C=C.replace(L,function(S){switch(S){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},7328:function(V,Y,e){var p=e(81680),L={object:!0,function:!0,undefined:!0};V.exports=function(o){return p(o)?hasOwnProperty.call(L,typeof o):!1}},87396:function(V,Y,e){var p=e(57980),L=e(85488);V.exports=function(o){return L(o)?o:p(o,"%v is not a plain function",arguments[1])}},85488:function(V,Y,e){var p=e(73384),L=/^\s*class[\s{/}]/,o=Function.prototype.toString;V.exports=function(C){return!(!p(C)||L.test(o.call(C)))}},54612:function(V,Y,e){var p=e(7328);V.exports=function(L){if(!p(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},33940:function(V,Y,e){var p=e(81680),L=e(7328),o=Object.prototype.toString;V.exports=function(C){if(!p(C))return null;if(L(C)){var S=C.toString;if(typeof S!="function"||S===o)return null}try{return""+C}catch{return null}}},18496:function(V,Y,e){var p=e(57980),L=e(81680);V.exports=function(o){return L(o)?o:p(o,"Cannot use %v",arguments[1])}},81680:function(V){var Y=void 0;V.exports=function(e){return e!==Y&&e!==null}},14144:function(V,Y,e){var p=e(308),L=e(10352),o=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var C=typeof Uint8ClampedArray<"u",S=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",g=e.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=L([32,0])),g.BIGUINT64||(g.BIGUINT64=L([32,0])),g.BIGINT64||(g.BIGINT64=L([32,0])),g.BUFFER||(g.BUFFER=L([32,0]));var r=g.DATA,t=g.BUFFER;Y.free=function(s){if(o.isBuffer(s))t[p.log2(s.length)].push(s);else{if(Object.prototype.toString.call(s)!=="[object ArrayBuffer]"&&(s=s.buffer),!s)return;var M=s.length||s.byteLength,b=p.log2(M)|0;r[b].push(s)}};function a(A){if(A){var s=A.length||A.byteLength,M=p.log2(s);r[M].push(A)}}function n(A){a(A.buffer)}Y.freeUint8=Y.freeUint16=Y.freeUint32=Y.freeBigUint64=Y.freeInt8=Y.freeInt16=Y.freeInt32=Y.freeBigInt64=Y.freeFloat32=Y.freeFloat=Y.freeFloat64=Y.freeDouble=Y.freeUint8Clamped=Y.freeDataView=n,Y.freeArrayBuffer=a,Y.freeBuffer=function(s){t[p.log2(s.length)].push(s)},Y.malloc=function(s,M){if(M===void 0||M==="arraybuffer")return f(s);switch(M){case"uint8":return u(s);case"uint16":return l(s);case"uint32":return y(s);case"int8":return h(s);case"int16":return T(s);case"int32":return c(s);case"float":case"float32":return i(s);case"double":case"float64":return d(s);case"uint8_clamped":return x(s);case"bigint64":return _(s);case"biguint64":return w(s);case"buffer":return E(s);case"data":case"dataview":return m(s);default:return null}return null};function f(s){var s=p.nextPow2(s),M=p.log2(s),b=r[M];return b.length>0?b.pop():new ArrayBuffer(s)}Y.mallocArrayBuffer=f;function u(A){return new Uint8Array(f(A),0,A)}Y.mallocUint8=u;function l(A){return new Uint16Array(f(2*A),0,A)}Y.mallocUint16=l;function y(A){return new Uint32Array(f(4*A),0,A)}Y.mallocUint32=y;function h(A){return new Int8Array(f(A),0,A)}Y.mallocInt8=h;function T(A){return new Int16Array(f(2*A),0,A)}Y.mallocInt16=T;function c(A){return new Int32Array(f(4*A),0,A)}Y.mallocInt32=c;function i(A){return new Float32Array(f(4*A),0,A)}Y.mallocFloat32=Y.mallocFloat=i;function d(A){return new Float64Array(f(8*A),0,A)}Y.mallocFloat64=Y.mallocDouble=d;function x(A){return C?new Uint8ClampedArray(f(A),0,A):u(A)}Y.mallocUint8Clamped=x;function w(A){return S?new BigUint64Array(f(8*A),0,A):null}Y.mallocBigUint64=w;function _(A){return v?new BigInt64Array(f(8*A),0,A):null}Y.mallocBigInt64=_;function m(A){return new DataView(f(A),0,A)}Y.mallocDataView=m;function E(A){A=p.nextPow2(A);var s=p.log2(A),M=t[s];return M.length>0?M.pop():new o(A)}Y.mallocBuffer=E,Y.clearCache=function(){for(var s=0;s<32;++s)g.UINT8[s].length=0,g.UINT16[s].length=0,g.UINT32[s].length=0,g.INT8[s].length=0,g.INT16[s].length=0,g.INT32[s].length=0,g.FLOAT[s].length=0,g.DOUBLE[s].length=0,g.BIGUINT64[s].length=0,g.BIGINT64[s].length=0,g.UINT8C[s].length=0,r[s].length=0,t[s].length=0}},92384:function(V){var Y=/[\'\"]/;V.exports=function(p){return p?(Y.test(p.charAt(0))&&(p=p.substr(1)),Y.test(p.charAt(p.length-1))&&(p=p.substr(0,p.length-1)),p):""}},45223:function(V){V.exports=function(e,p,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var o=0,C=L.length;o<C;o++){var S=L[o];for(var v in S)if(!(p[v]!==void 0&&!Array.isArray(p[v])&&e[v]===p[v])&&v in p){var g;if(S[v]===!0)g=p[v];else{if(S[v]===!1)continue;if(typeof S[v]=="function"&&(g=S[v](p[v],e,p),g===void 0))continue}e[v]=g}}return e}},96656:function(V,Y,e){V.exports=p;function p(o,C){if(L("noDeprecation"))return o;var S=!1;function v(){if(!S){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),S=!0}return o.apply(this,arguments)}return v}function L(o){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[o];return C==null?!1:String(C).toLowerCase()==="true"}},75272:function(V){V.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},41088:function(V,Y,e){var p=e(91148),L=e(84420),o=e(96632),C=e(7728);function S(Se){return Se.call.bind(Se)}var v=typeof BigInt<"u",g=typeof Symbol<"u",r=S(Object.prototype.toString),t=S(Number.prototype.valueOf),a=S(String.prototype.valueOf),n=S(Boolean.prototype.valueOf);if(v)var f=S(BigInt.prototype.valueOf);if(g)var u=S(Symbol.prototype.valueOf);function l(Se,Te){if(typeof Se!="object")return!1;try{return Te(Se),!0}catch{return!1}}Y.isArgumentsObject=p,Y.isGeneratorFunction=L,Y.isTypedArray=C;function y(Se){return typeof Promise<"u"&&Se instanceof Promise||Se!==null&&typeof Se=="object"&&typeof Se.then=="function"&&typeof Se.catch=="function"}Y.isPromise=y;function h(Se){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Se):C(Se)||ee(Se)}Y.isArrayBufferView=h;function T(Se){return o(Se)==="Uint8Array"}Y.isUint8Array=T;function c(Se){return o(Se)==="Uint8ClampedArray"}Y.isUint8ClampedArray=c;function i(Se){return o(Se)==="Uint16Array"}Y.isUint16Array=i;function d(Se){return o(Se)==="Uint32Array"}Y.isUint32Array=d;function x(Se){return o(Se)==="Int8Array"}Y.isInt8Array=x;function w(Se){return o(Se)==="Int16Array"}Y.isInt16Array=w;function _(Se){return o(Se)==="Int32Array"}Y.isInt32Array=_;function m(Se){return o(Se)==="Float32Array"}Y.isFloat32Array=m;function E(Se){return o(Se)==="Float64Array"}Y.isFloat64Array=E;function A(Se){return o(Se)==="BigInt64Array"}Y.isBigInt64Array=A;function s(Se){return o(Se)==="BigUint64Array"}Y.isBigUint64Array=s;function M(Se){return r(Se)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function b(Se){return typeof Map>"u"?!1:M.working?M(Se):Se instanceof Map}Y.isMap=b;function N(Se){return r(Se)==="[object Set]"}N.working=typeof Set<"u"&&N(new Set);function k(Se){return typeof Set>"u"?!1:N.working?N(Se):Se instanceof Set}Y.isSet=k;function H(Se){return r(Se)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function F(Se){return typeof WeakMap>"u"?!1:H.working?H(Se):Se instanceof WeakMap}Y.isWeakMap=F;function B(Se){return r(Se)==="[object WeakSet]"}B.working=typeof WeakSet<"u"&&B(new WeakSet);function U(Se){return B(Se)}Y.isWeakSet=U;function z(Se){return r(Se)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function W(Se){return typeof ArrayBuffer>"u"?!1:z.working?z(Se):Se instanceof ArrayBuffer}Y.isArrayBuffer=W;function j(Se){return r(Se)==="[object DataView]"}j.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j(new DataView(new ArrayBuffer(1),0,1));function ee(Se){return typeof DataView>"u"?!1:j.working?j(Se):Se instanceof DataView}Y.isDataView=ee;var ie=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function oe(Se){return r(Se)==="[object SharedArrayBuffer]"}function he(Se){return typeof ie>"u"?!1:(typeof oe.working>"u"&&(oe.working=oe(new ie)),oe.working?oe(Se):Se instanceof ie)}Y.isSharedArrayBuffer=he;function ne(Se){return r(Se)==="[object AsyncFunction]"}Y.isAsyncFunction=ne;function q(Se){return r(Se)==="[object Map Iterator]"}Y.isMapIterator=q;function le(Se){return r(Se)==="[object Set Iterator]"}Y.isSetIterator=le;function Q(Se){return r(Se)==="[object Generator]"}Y.isGeneratorObject=Q;function te(Se){return r(Se)==="[object WebAssembly.Module]"}Y.isWebAssemblyCompiledModule=te;function ue(Se){return l(Se,t)}Y.isNumberObject=ue;function J(Se){return l(Se,a)}Y.isStringObject=J;function K(Se){return l(Se,n)}Y.isBooleanObject=K;function ce(Se){return v&&l(Se,f)}Y.isBigIntObject=ce;function ae(Se){return g&&l(Se,u)}Y.isSymbolObject=ae;function de(Se){return ue(Se)||J(Se)||K(Se)||ce(Se)||ae(Se)}Y.isBoxedPrimitive=de;function be(Se){return typeof Uint8Array<"u"&&(W(Se)||he(Se))}Y.isAnyArrayBuffer=be,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Se){Object.defineProperty(Y,Se,{enumerable:!1,value:function(){throw new Error(Se+" is not supported in userland")}})})},35840:function(V,Y,e){var p=e(4168),L=Object.getOwnPropertyDescriptors||function(ie){for(var oe=Object.keys(ie),he={},ne=0;ne<oe.length;ne++)he[oe[ne]]=Object.getOwnPropertyDescriptor(ie,oe[ne]);return he},o=/%[sdj%]/g;Y.format=function(ee){if(!w(ee)){for(var ie=[],oe=0;oe<arguments.length;oe++)ie.push(g(arguments[oe]));return ie.join(" ")}for(var oe=1,he=arguments,ne=he.length,q=String(ee).replace(o,function(Q){if(Q==="%%")return"%";if(oe>=ne)return Q;switch(Q){case"%s":return String(he[oe++]);case"%d":return Number(he[oe++]);case"%j":try{return JSON.stringify(he[oe++])}catch{return"[Circular]"}default:return Q}}),le=he[oe];oe<ne;le=he[++oe])i(le)||!A(le)?q+=" "+le:q+=" "+g(le);return q},Y.deprecate=function(ee,ie){if(typeof p<"u"&&p.noDeprecation===!0)return ee;if(typeof p>"u")return function(){return Y.deprecate(ee,ie).apply(this,arguments)};var oe=!1;function he(){if(!oe){if(p.throwDeprecation)throw new Error(ie);p.traceDeprecation?console.trace(ie):console.error(ie),oe=!0}return ee.apply(this,arguments)}return he};var C={},S=/^$/;if(p.env.NODE_DEBUG){var v=p.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+v+"$","i")}Y.debuglog=function(ee){if(ee=ee.toUpperCase(),!C[ee])if(S.test(ee)){var ie=p.pid;C[ee]=function(){var oe=Y.format.apply(Y,arguments);console.error("%s %d: %s",ee,ie,oe)}}else C[ee]=function(){};return C[ee]};function g(ee,ie){var oe={seen:[],stylize:t};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),c(ie)?oe.showHidden=ie:ie&&Y._extend(oe,ie),m(oe.showHidden)&&(oe.showHidden=!1),m(oe.depth)&&(oe.depth=2),m(oe.colors)&&(oe.colors=!1),m(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=r),n(oe,ee,oe.depth)}Y.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(ee,ie){var oe=g.styles[ie];return oe?"\x1B["+g.colors[oe][0]+"m"+ee+"\x1B["+g.colors[oe][1]+"m":ee}function t(ee,ie){return ee}function a(ee){var ie={};return ee.forEach(function(oe,he){ie[oe]=!0}),ie}function n(ee,ie,oe){if(ee.customInspect&&ie&&b(ie.inspect)&&ie.inspect!==Y.inspect&&!(ie.constructor&&ie.constructor.prototype===ie)){var he=ie.inspect(oe,ee);return w(he)||(he=n(ee,he,oe)),he}var ne=f(ee,ie);if(ne)return ne;var q=Object.keys(ie),le=a(q);if(ee.showHidden&&(q=Object.getOwnPropertyNames(ie)),M(ie)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return u(ie);if(q.length===0){if(b(ie)){var Q=ie.name?": "+ie.name:"";return ee.stylize("[Function"+Q+"]","special")}if(E(ie))return ee.stylize(RegExp.prototype.toString.call(ie),"regexp");if(s(ie))return ee.stylize(Date.prototype.toString.call(ie),"date");if(M(ie))return u(ie)}var te="",ue=!1,J=["{","}"];if(T(ie)&&(ue=!0,J=["[","]"]),b(ie)){var K=ie.name?": "+ie.name:"";te=" [Function"+K+"]"}if(E(ie)&&(te=" "+RegExp.prototype.toString.call(ie)),s(ie)&&(te=" "+Date.prototype.toUTCString.call(ie)),M(ie)&&(te=" "+u(ie)),q.length===0&&(!ue||ie.length==0))return J[0]+te+J[1];if(oe<0)return E(ie)?ee.stylize(RegExp.prototype.toString.call(ie),"regexp"):ee.stylize("[Object]","special");ee.seen.push(ie);var ce;return ue?ce=l(ee,ie,oe,le,q):ce=q.map(function(ae){return y(ee,ie,oe,le,ae,ue)}),ee.seen.pop(),h(ce,te,J)}function f(ee,ie){if(m(ie))return ee.stylize("undefined","undefined");if(w(ie)){var oe="'"+JSON.stringify(ie).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ee.stylize(oe,"string")}if(x(ie))return ee.stylize(""+ie,"number");if(c(ie))return ee.stylize(""+ie,"boolean");if(i(ie))return ee.stylize("null","null")}function u(ee){return"["+Error.prototype.toString.call(ee)+"]"}function l(ee,ie,oe,he,ne){for(var q=[],le=0,Q=ie.length;le<Q;++le)U(ie,String(le))?q.push(y(ee,ie,oe,he,String(le),!0)):q.push("");return ne.forEach(function(te){te.match(/^\d+$/)||q.push(y(ee,ie,oe,he,te,!0))}),q}function y(ee,ie,oe,he,ne,q){var le,Q,te;if(te=Object.getOwnPropertyDescriptor(ie,ne)||{value:ie[ne]},te.get?te.set?Q=ee.stylize("[Getter/Setter]","special"):Q=ee.stylize("[Getter]","special"):te.set&&(Q=ee.stylize("[Setter]","special")),U(he,ne)||(le="["+ne+"]"),Q||(ee.seen.indexOf(te.value)<0?(i(oe)?Q=n(ee,te.value,null):Q=n(ee,te.value,oe-1),Q.indexOf(`
`)>-1&&(q?Q=Q.split(`
`).map(function(ue){return"  "+ue}).join(`
`).slice(2):Q=`
`+Q.split(`
`).map(function(ue){return"   "+ue}).join(`
`))):Q=ee.stylize("[Circular]","special")),m(le)){if(q&&ne.match(/^\d+$/))return Q;le=JSON.stringify(""+ne),le.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(le=le.slice(1,-1),le=ee.stylize(le,"name")):(le=le.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),le=ee.stylize(le,"string"))}return le+": "+Q}function h(ee,ie,oe){var he=ee.reduce(function(ne,q){return q.indexOf(`
`)>=0,ne+q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?oe[0]+(ie===""?"":ie+`
 `)+" "+ee.join(`,
  `)+" "+oe[1]:oe[0]+ie+" "+ee.join(", ")+" "+oe[1]}Y.types=e(41088);function T(ee){return Array.isArray(ee)}Y.isArray=T;function c(ee){return typeof ee=="boolean"}Y.isBoolean=c;function i(ee){return ee===null}Y.isNull=i;function d(ee){return ee==null}Y.isNullOrUndefined=d;function x(ee){return typeof ee=="number"}Y.isNumber=x;function w(ee){return typeof ee=="string"}Y.isString=w;function _(ee){return typeof ee=="symbol"}Y.isSymbol=_;function m(ee){return ee===void 0}Y.isUndefined=m;function E(ee){return A(ee)&&k(ee)==="[object RegExp]"}Y.isRegExp=E,Y.types.isRegExp=E;function A(ee){return typeof ee=="object"&&ee!==null}Y.isObject=A;function s(ee){return A(ee)&&k(ee)==="[object Date]"}Y.isDate=s,Y.types.isDate=s;function M(ee){return A(ee)&&(k(ee)==="[object Error]"||ee instanceof Error)}Y.isError=M,Y.types.isNativeError=M;function b(ee){return typeof ee=="function"}Y.isFunction=b;function N(ee){return ee===null||typeof ee=="boolean"||typeof ee=="number"||typeof ee=="string"||typeof ee=="symbol"||typeof ee>"u"}Y.isPrimitive=N,Y.isBuffer=e(75272);function k(ee){return Object.prototype.toString.call(ee)}function H(ee){return ee<10?"0"+ee.toString(10):ee.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var ee=new Date,ie=[H(ee.getHours()),H(ee.getMinutes()),H(ee.getSeconds())].join(":");return[ee.getDate(),F[ee.getMonth()],ie].join(" ")}Y.log=function(){console.log("%s - %s",B(),Y.format.apply(Y,arguments))},Y.inherits=e(6768),Y._extend=function(ee,ie){if(!ie||!A(ie))return ee;for(var oe=Object.keys(ie),he=oe.length;he--;)ee[oe[he]]=ie[oe[he]];return ee};function U(ee,ie){return Object.prototype.hasOwnProperty.call(ee,ie)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Y.promisify=function(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&ie[z]){var oe=ie[z];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,z,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var he,ne,q=new Promise(function(te,ue){he=te,ne=ue}),le=[],Q=0;Q<arguments.length;Q++)le.push(arguments[Q]);le.push(function(te,ue){te?ne(te):he(ue)});try{ie.apply(this,le)}catch(te){ne(te)}return q}return Object.setPrototypeOf(oe,Object.getPrototypeOf(ie)),z&&Object.defineProperty(oe,z,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,L(ie))},Y.promisify.custom=z;function W(ee,ie){if(!ee){var oe=new Error("Promise was rejected with a falsy value");oe.reason=ee,ee=oe}return ie(ee)}function j(ee){if(typeof ee!="function")throw new TypeError('The "original" argument must be of type Function');function ie(){for(var oe=[],he=0;he<arguments.length;he++)oe.push(arguments[he]);var ne=oe.pop();if(typeof ne!="function")throw new TypeError("The last argument must be of type Function");var q=this,le=function(){return ne.apply(q,arguments)};ee.apply(this,oe).then(function(Q){p.nextTick(le.bind(null,null,Q))},function(Q){p.nextTick(W.bind(null,Q,le))})}return Object.setPrototypeOf(ie,Object.getPrototypeOf(ee)),Object.defineProperties(ie,L(ee)),ie}Y.callbackify=j},5408:function(V,Y,e){var p=e(13380);V.exports=function(o){return p("webgl",o)}},96632:function(V,Y,e){var p=e(46492),L=e(63436),o=e(57916),C=e(99676),S=e(2304),v=C("Object.prototype.toString"),g=e(46672)(),r=typeof globalThis>"u"?e.g:globalThis,t=L(),a=C("String.prototype.slice"),n=Object.getPrototypeOf,f=C("Array.prototype.indexOf",!0)||function(T,c){for(var i=0;i<T.length;i+=1)if(T[i]===c)return i;return-1},u={__proto__:null};g&&S&&n?p(t,function(h){var T=new r[h];if(Symbol.toStringTag in T){var c=n(T),i=S(c,Symbol.toStringTag);if(!i){var d=n(c);i=S(d,Symbol.toStringTag)}u["$"+h]=o(i.get)}}):p(t,function(h){var T=new r[h],c=T.slice||T.set;c&&(u["$"+h]=o(c))});var l=function(T){var c=!1;return p(u,function(i,d){if(!c)try{"$"+i(T)===d&&(c=a(d,1))}catch{}}),c},y=function(T){var c=!1;return p(u,function(i,d){if(!c)try{i(T),c=a(d,1)}catch{}}),c};V.exports=function(T){if(!T||typeof T!="object")return!1;if(!g){var c=a(v(T),8,-1);return f(t,c)>-1?c:c!=="Object"?!1:y(T)}return S?l(T):null}},67020:function(V,Y,e){var p=e(38700),L=e(50896),o=p.instance();function C(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,l){if(typeof u=="string"){var y=u.match(v);return y?y[0]:""}var h=this._validateYear(u),T=u.month(),c=""+this.toChineseMonth(h,T);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(h,T)&&(c+="i"),c},monthNames:function(u){if(typeof u=="string"){var l=u.match(g);return l?l[0]:""}var y=this._validateYear(u),h=u.month(),T=this.toChineseMonth(y,h),c=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][T-1];return this.isIntercalaryMonth(y,h)&&(c="闰"+c),c},monthNamesShort:function(u){if(typeof u=="string"){var l=u.match(r);return l?l[0]:""}var y=this._validateYear(u),h=u.month(),T=this.toChineseMonth(y,h),c=["一","二","三","四","五","六","七","八","九","十","十一","十二"][T-1];return this.isIntercalaryMonth(y,h)&&(c="闰"+c),c},parseMonth:function(u,l){u=this._validateYear(u);var y=parseInt(l),h;if(isNaN(y))l[0]==="闰"&&(h=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),y=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var T=l[l.length-1];h=T==="i"||T==="I"}var c=this.toMonthIndex(u,y,h);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,l){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw l.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,l,y){var h=this.intercalaryMonth(u),T=y&&l!==h;if(T||l<1||l>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return h?!y&&l<=h?c=l-1:c=l:c=l-1,c},toChineseMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var y=this.intercalaryMonth(u),h=y?12:11;if(l<0||l>h)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var T;return y?l<y?T=l+1:T=l:T=l+1,T},intercalaryMonth:function(u){u=this._validateYear(u);var l=t[u-t[0]],y=l>>13;return y},isIntercalaryMonth:function(u,l){u.year&&(u=u.year(),l=u.month());var y=this.intercalaryMonth(u);return!!y&&y===l},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,l,y){var h=this._validateYear(u,p.local.invalidyear),T=a[h-a[0]],c=T>>9&4095,i=T>>5&15,d=T&31,x;x=o.newDate(c,i,d),x.add(4-(x.dayOfWeek()||7),"d");var w=this.toJD(u,l,y)-x.toJD();return 1+Math.floor(w/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,l){u.year&&(l=u.month(),u=u.year()),u=this._validateYear(u);var y=t[u-t[0]],h=y>>13,T=h?12:11;if(l>T)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=y&1<<12-l?30:29;return c},weekDay:function(u,l,y){return(this.dayOfWeek(u,l,y)||7)<6},toJD:function(u,l,y){var h=this._validate(u,c,y,p.local.invalidDate);u=this._validateYear(h.year()),l=h.month(),y=h.day();var T=this.isIntercalaryMonth(u,l),c=this.toChineseMonth(u,l),i=f(u,c,y,T);return o.toJD(i.year,i.month,i.day)},fromJD:function(u){var l=o.fromJD(u),y=n(l.year(),l.month(),l.day()),h=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,h,y.day)},fromString:function(u){var l=u.match(S),y=this._validateYear(+l[1]),h=+l[2],T=!!l[3],c=this.toMonthIndex(y,h,T),i=+l[4];return this.newDate(y,c,i)},add:function(u,l,y){var h=u.year(),T=u.month(),c=this.isIntercalaryMonth(h,T),i=this.toChineseMonth(h,T),d=Object.getPrototypeOf(C.prototype).add.call(this,u,l,y);if(y==="y"){var x=d.year(),w=d.month(),_=this.isIntercalaryMonth(x,i),m=c&&_?this.toMonthIndex(x,i,!0):this.toMonthIndex(x,i,!1);m!==w&&d.month(m)}return d}});var S=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,g=/^闰?十?[一二三四五六七八九]?月/m,r=/^闰?十?[一二三四五六七八九]?/m;p.calendars.chinese=C;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],a=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(u,l,y,h){var T,c;if(typeof u=="object")T=u,c=l||{};else{var i=typeof u=="number"&&u>=1888&&u<=2111;if(!i)throw new Error("Solar year outside range 1888-2111");var d=typeof l=="number"&&l>=1&&l<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var x=typeof y=="number"&&y>=1&&y<=31;if(!x)throw new Error("Solar day outside range 1 - 31");T={year:u,month:l,day:y},c={}}var w=a[T.year-a[0]],_=T.year<<9|T.month<<5|T.day;c.year=_>=w?T.year:T.year-1,w=a[c.year-a[0]];var m=w>>9&4095,E=w>>5&15,A=w&31,s,M=new Date(m,E-1,A),b=new Date(T.year,T.month-1,T.day);s=Math.round((b-M)/864e5);var N=t[c.year-t[0]],k;for(k=0;k<13;k++){var H=N&1<<12-k?30:29;if(s<H)break;s-=H}var F=N>>13;return!F||k<F?(c.isIntercalary=!1,c.month=1+k):k===F?(c.isIntercalary=!0,c.month=k):(c.isIntercalary=!1,c.month=k),c.day=1+s,c}function f(u,l,y,h,T){var c,i;if(typeof u=="object")i=u,c=l||{};else{var d=typeof u=="number"&&u>=1888&&u<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var x=typeof l=="number"&&l>=1&&l<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var w=typeof y=="number"&&y>=1&&y<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var _;typeof h=="object"?(_=!1,c=h):(_=!!h,c={}),i={year:u,month:l,day:y,isIntercalary:_}}var m;m=i.day-1;var E=t[i.year-t[0]],A=E>>13,s;A&&(i.month>A||i.isIntercalary)?s=i.month:s=i.month-1;for(var M=0;M<s;M++){var b=E&1<<12-M?30:29;m+=b}var N=a[i.year-a[0]],k=N>>9&4095,H=N>>5&15,F=N&31,B=new Date(k,H-1,F+m);return c.year=B.getFullYear(),c.month=1+B.getMonth(),c.day=B.getDate(),c}},89792:function(V,Y,e){var p=e(38700),L=e(50896);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,S,v){var g=this.newDate(C,S,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var g=this._validate(C,S,v,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var S=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(S/30)+1,r=S-(g-1)*30+1;return this.newDate(v,g,r)}}),p.calendars.coptic=o},55668:function(V,Y,e){var p=e(38700),L=e(50896);function o(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(S){return this._validate(S,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(S){return this._validate(S,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(S,v,g){var r=this.newDate(S,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(S,v){var g=this._validate(S,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(S,v,g){var r=this._validate(S,v,g,p.local.invalidDate);return(r.day()+1)%8},weekDay:function(S,v,g){var r=this.dayOfWeek(S,v,g);return r>=2&&r<=6},extraInfo:function(S,v,g){var r=this._validate(S,v,g,p.local.invalidDate);return{century:C[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(S,v,g){var r=this._validate(S,v,g,p.local.invalidDate);return S=r.year()+(r.year()<0?1:0),v=r.month(),g=r.day(),g+(v>1?16:0)+(v>2?(v-2)*32:0)+(S-1)*400+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(S/400)+1;S-=(v-1)*400,S+=S>15?16:0;var g=Math.floor(S/32)+1,r=S-(g-1)*32+1;return this.newDate(v<=0?v-1:v,g,r)}});var C={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=o},65168:function(V,Y,e){var p=e(38700),L=e(50896);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=S.year()+(S.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,S,v){var g=this.newDate(C,S,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var g=this._validate(C,S,v,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var S=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((S-Math.floor((S+366)/1461))/365)+1;v<=0&&v--,S=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var g=Math.floor(S/30)+1,r=S-(g-1)*30+1;return this.newDate(v,g,r)}}),p.calendars.ethiopian=o},2084:function(V,Y,e){var p=e(38700),L=e(50896);function o(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(S){return S=S<0?S+1:S,C(S*7+1,19)<7},monthsInYear:function(S){return this._validate(S,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(S.year?S.year():S)?13:12},weekOfYear:function(S,v,g){var r=this.newDate(S,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,p.local.invalidYear);return S=v.year(),this.toJD(S===-1?1:S+1,7,1)-this.toJD(S,7,1)},daysInMonth:function(S,v){return S.year&&(v=S.month(),S=S.year()),this._validate(S,v,this.minDay,p.local.invalidMonth),v===12&&this.leapYear(S)||v===8&&C(this.daysInYear(S),10)===5?30:v===9&&C(this.daysInYear(S),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(S,v,g){return this.dayOfWeek(S,v,g)!==6},extraInfo:function(S,v,g){var r=this._validate(S,v,g,p.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(S,v,g){var r=this._validate(S,v,g,p.local.invalidDate);S=r.year(),v=r.month(),g=r.day();var t=S<=0?S+1:S,a=this.jdEpoch+this._delay1(t)+this._delay2(t)+g+1;if(v<7){for(var n=7;n<=this.monthsInYear(S);n++)a+=this.daysInMonth(S,n);for(var n=1;n<v;n++)a+=this.daysInMonth(S,n)}else for(var n=7;n<v;n++)a+=this.daysInMonth(S,n);return a},_delay1:function(S){var v=Math.floor((235*S-234)/19),g=12084+13753*v,r=v*29+Math.floor(g/25920);return C(3*(r+1),7)<3&&r++,r},_delay2:function(S){var v=this._delay1(S-1),g=this._delay1(S),r=this._delay1(S+1);return r-g===356?2:g-v===382?1:0},fromJD:function(S){S=Math.floor(S)+.5;for(var v=Math.floor((S-this.jdEpoch)*98496/35975351)-1;S>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var g=S<this.toJD(v,1,1)?7:1;S>this.toJD(v,g,this.daysInMonth(v,g));)g++;var r=S-this.toJD(v,g,1)+1;return this.newDate(v,g,r)}});function C(S,v){return S-v*Math.floor(S/v)}p.calendars.hebrew=o},26368:function(V,Y,e){var p=e(38700),L=e(50896);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var S=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);return(S.year()*11+14)%30<11},weekOfYear:function(C,S,v){var g=this.newDate(C,S,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return this.dayOfWeek(C,S,v)!==5},toJD:function(C,S,v){var g=this._validate(C,S,v,p.local.invalidDate);return C=g.year(),S=g.month(),v=g.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(S-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var S=Math.floor((30*(C-this.jdEpoch)+10646)/10631);S=S<=0?S-1:S;var v=Math.min(12,Math.ceil((C-29-this.toJD(S,1,1))/29.5)+1),g=C-this.toJD(S,v,1)+1;return this.newDate(S,v,g)}}),p.calendars.islamic=o},24747:function(V,Y,e){var p=e(38700),L=e(50896);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var S=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),v=S.year()<0?S.year()+1:S.year();return v%4===0},weekOfYear:function(C,S,v){var g=this.newDate(C,S,v);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,S){var v=this._validate(C,S,this.minDay,p.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,S,v){return(this.dayOfWeek(C,S,v)||7)<6},toJD:function(C,S,v){var g=this._validate(C,S,v,p.local.invalidDate);return C=g.year(),S=g.month(),v=g.day(),C<0&&C++,S<=2&&(C--,S+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(S+1))+v-1524.5},fromJD:function(C){var S=Math.floor(C+.5),v=S+1524,g=Math.floor((v-122.1)/365.25),r=Math.floor(365.25*g),t=Math.floor((v-r)/30.6001),a=t-Math.floor(t<14?1:13),n=g-Math.floor(a>2?4716:4715),f=v-r-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,a,f)}}),p.calendars.julian=o},65616:function(V,Y,e){var p=e(38700),L=e(50896);function o(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(v){var g=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear);v=g.year();var r=Math.floor(v/400);v=v%400,v+=v<0?400:0;var t=Math.floor(v/20);return r+"."+t+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var g=0,r=0;r<v.length;r++){var t=parseInt(v[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";g=g*20+t}return g},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(v,g,r){return this._validate(v,g,r,p.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(v,g){return this._validate(v,g,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,g,r){var t=this._validate(v,g,r,p.local.invalidDate);return t.day()},weekDay:function(v,g,r){return this._validate(v,g,r,p.local.invalidDate),!0},extraInfo:function(v,g,r){var t=this._validate(v,g,r,p.local.invalidDate),a=t.toJD(),n=this._toHaab(a),f=this._toTzolkin(a);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[f[0]-1],tzolkinDay:f[0],tzolkinTrecena:f[1]}},_toHaab:function(v){v-=this.jdEpoch;var g=C(v+8+17*20,365);return[Math.floor(g/20)+1,C(g,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[S(v+20,20),S(v+4,13)]},toJD:function(v,g,r){var t=this._validate(v,g,r,p.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var g=Math.floor(v/360);v=v%360,v+=v<0?360:0;var r=Math.floor(v/20),t=v%20;return this.newDate(g,r,t)}});function C(v,g){return v-g*Math.floor(v/g)}function S(v,g){return C(v-1,g)+1}p.calendars.mayan=o},30632:function(V,Y,e){var p=e(38700),L=e(50896);function o(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar;var C=p.instance("gregorian");L(o.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(S,v,g){var r=this.newDate(S,v,g);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var g=this._validate(S,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(S,v,g){return(this.dayOfWeek(S,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,p.local.invalidMonth),t=r.year();t<0&&t++;for(var a=r.day(),n=1;n<r.month();n++)a+=this.daysPerMonth[n-1];return a+C.toJD(t+1468,3,13)},fromJD:function(S){S=Math.floor(S+.5);for(var v=Math.floor((S-(this.jdEpoch-1))/366);S>=this.toJD(v+1,1,1);)v++;for(var g=S-Math.floor(this.toJD(v,1,1)+.5)+1,r=1;g>this.daysInMonth(v,r);)g-=this.daysInMonth(v,r),r++;return this.newDate(v,r,g)}}),p.calendars.nanakshahi=o},73040:function(V,Y,e){var p=e(38700),L=e(50896);function o(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,S,v){var g=this.newDate(C,S,v);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){var S=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);if(C=S.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,g=this.minMonth;g<=12;g++)v+=this.NEPALI_CALENDAR_DATA[C][g];return v},daysInMonth:function(C,S){return C.year&&(S=C.month(),C=C.year()),this._validate(C,S,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[S-1]:this.NEPALI_CALENDAR_DATA[C][S]},weekDay:function(C,S,v){return this.dayOfWeek(C,S,v)!==6},toJD:function(C,S,v){var g=this._validate(C,S,v,p.local.invalidDate);C=g.year(),S=g.month(),v=g.day();var r=p.instance(),t=0,a=S,n=C;this._createMissingCalendarData(C);var f=C-(a>9||a===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(S!==9&&(t=v,a--);a!==9;)a<=0&&(a=12,n--),t+=this.NEPALI_CALENDAR_DATA[n][a],a--;return S===9?(t+=v-this.NEPALI_CALENDAR_DATA[n][0],t<0&&(t+=r.daysInYear(f))):t+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],r.newDate(f,1,1).add(t,"d").toJD()},fromJD:function(C){var S=p.instance(),v=S.fromJD(C),g=v.year(),r=v.dayOfYear(),t=g+56;this._createMissingCalendarData(t);for(var a=9,n=this.NEPALI_CALENDAR_DATA[t][0],f=this.NEPALI_CALENDAR_DATA[t][a]-n+1;r>f;)a++,a>12&&(a=1,t++),f+=this.NEPALI_CALENDAR_DATA[t][a];var u=this.NEPALI_CALENDAR_DATA[t][a]-(f-r);return this.newDate(t,a,u)},_createMissingCalendarData:function(C){var S=this.daysPerMonth.slice(0);S.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=S)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=o},1104:function(V,Y,e){var p=e(38700),L=e(50896);function o(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,p.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(S,v,g){var r=this.newDate(S,v,g);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(S,v){var g=this._validate(S,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(S,v,g){return this.dayOfWeek(S,v,g)!==5},toJD:function(S,v,g){var r=this._validate(S,v,g,p.local.invalidDate);S=r.year(),v=r.month(),g=r.day();var t=S-(S>=0?474:473),a=474+C(t,2820);return g+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((a*682-110)/2816)+(a-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(S){S=Math.floor(S)+.5;var v=S-this.toJD(475,1,1),g=Math.floor(v/1029983),r=C(v,1029983),t=2820;if(r!==1029982){var a=Math.floor(r/366),n=C(r,366);t=Math.floor((2134*a+2816*n+2815)/1028522)+a+1}var f=t+2820*g+474;f=f<=0?f-1:f;var u=S-this.toJD(f,1,1)+1,l=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),y=S-this.toJD(f,l,1)+1;return this.newDate(f,l,y)}});function C(S,v){return S-v*Math.floor(S/v)}p.calendars.persian=o,p.calendars.jalali=o},51456:function(V,Y,e){var p=e(38700),L=e(50896),o=p.instance();function C(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(v.year());return o.leapYear(g)},weekOfYear:function(t,v,g){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear),t=this._t2gYear(r.year());return o.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var g=this._validate(S,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(S,v,g){return(this.dayOfWeek(S,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,p.local.invalidDate),t=this._t2gYear(r.year());return o.toJD(t,r.month(),r.day())},fromJD:function(S){var v=o.fromJD(S),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)},_g2tYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)}}),p.calendars.taiwan=C},4592:function(V,Y,e){var p=e(38700),L=e(50896),o=p.instance();function C(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var v=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(v.year());return o.leapYear(g)},weekOfYear:function(t,v,g){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear),t=this._t2gYear(r.year());return o.weekOfYear(t,r.month(),r.day())},daysInMonth:function(S,v){var g=this._validate(S,v,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(S,v,g){return(this.dayOfWeek(S,v,g)||7)<6},toJD:function(t,v,g){var r=this._validate(t,v,g,p.local.invalidDate),t=this._t2gYear(r.year());return o.toJD(t,r.month(),r.day())},fromJD:function(S){var v=o.fromJD(S),g=this._g2tYear(v.year());return this.newDate(g,v.month(),v.day())},_t2gYear:function(S){return S-this.yearsOffset-(S>=1&&S<=this.yearsOffset?1:0)},_g2tYear:function(S){return S+this.yearsOffset+(S>=-this.yearsOffset&&S<=-1?1:0)}}),p.calendars.thai=C},45348:function(V,Y,e){var p=e(38700),L=e(50896);function o(S){this.local=this.regionalOptions[S||""]||this.regionalOptions[""]}o.prototype=new p.baseCalendar,L(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(S){var v=this._validate(S,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(S,v,g){var r=this.newDate(S,v,g);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(S){for(var v=0,g=1;g<=12;g++)v+=this.daysInMonth(S,g);return v},daysInMonth:function(S,v){for(var g=this._validate(S,v,this.minDay,p.local.invalidMonth),r=g.toJD()-24e5+.5,t=0,a=0;a<C.length;a++){if(C[a]>r)return C[t]-C[t-1];t++}return 30},weekDay:function(S,v,g){return this.dayOfWeek(S,v,g)!==5},toJD:function(S,v,g){var r=this._validate(S,v,g,p.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,a=r.day()+C[t-1]-1;return a+24e5-.5},fromJD:function(S){for(var v=S-24e5+.5,g=0,r=0;r<C.length&&!(C[r]>v);r++)g++;var t=g+15292,a=Math.floor((t-1)/12),n=a+1,f=t-12*a,u=v-C[g-1]+1;return this.newDate(n,f,u)},isValid:function(S,v,g){var r=p.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(S=S.year!=null?S.year:S,r=S>=1276&&S<=1500),r},_validate:function(S,v,g,r){var t=p.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),p.calendars.ummalqura=o;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(V,Y,e){var p=e(50896);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(L.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var a=this._localCals[r+"-"+t];if(!a&&this.calendars[r]&&(a=new this.calendars[r](t),this._localCals[r+"-"+t]=a),!a)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return a},newDate:function(r,t,a,n,f){return n=(r!=null&&r.year?r.calendar():typeof n=="string"?this.instance(n,f):n)||this.instance(),n.newDate(r,t,a)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(a){return r[a]})}},substituteChineseDigits:function(r,t){return function(a){for(var n="",f=0;a>0;){var u=a%10;n=(u===0?"":r[u]+t[f])+n,f++,a=Math.floor(a/10)}return n.indexOf(r[1]+t[1])===0&&(n=n.substr(1)),n||r[0]}}});function o(r,t,a,n){if(this._calendar=r,this._year=t,this._month=a,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}p(o.prototype,{newDate:function(r,t,a){return this._calendar.newDate(r??this,t,a)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,a){if(!this._calendar.isValid(r,t,a))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=a,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function S(){this.shortYearCutoff="+10"}p(S.prototype,{_validateLevel:0,newDate:function(r,t,a){return r==null?this.today():(r.year&&(this._validate(r,t,a,g.local.invalidDate||g.regionalOptions[""].invalidDate),a=r.day(),t=r.month(),r=r.year()),new o(this,r,t,a))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+C(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var a=this._validate(r,t,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(a.month()+this.monthsInYear(a)-this.firstMonth)%this.monthsInYear(a)+this.minMonth},fromMonthOfYear:function(r,t){var a=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,a,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),a},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,a){var n=this._validate(r,t,a,g.local.invalidDate||g.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,a){var n=this._validate(r,t,a,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(r,t,a){return this._validate(r,t,a,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(r,t,a){return this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,a),t,a)},_add:function(r,t,a){if(this._validateLevel++,a==="d"||a==="w"){var n=r.toJD()+t*(a==="w"?this.daysInWeek():1),f=r.calendar().fromJD(n);return this._validateLevel--,[f.year(),f.month(),f.day()]}try{var u=r.year()+(a==="y"?t:0),l=r.monthOfYear()+(a==="m"?t:0),f=r.day(),y=function(c){for(;l<c.minMonth;)u--,l+=c.monthsInYear(u);for(var i=c.monthsInYear(u);l>i-1+c.minMonth;)u++,l-=i,i=c.monthsInYear(u)};a==="y"?(r.month()!==this.fromMonthOfYear(u,l)&&(l=this.newDate(u,r.month(),this.minDay).monthOfYear()),l=Math.min(l,this.monthsInYear(u)),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l)))):a==="m"&&(y(this),f=Math.min(f,this.daysInMonth(u,this.fromMonthOfYear(u,l))));var h=[u,this.fromMonthOfYear(u,l),f];return this._validateLevel--,h}catch(T){throw this._validateLevel--,T}},_correctAdd:function(r,t,a,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var f={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],u=a<0?-1:1;t=this._add(r,a*f[0]+u*f[1],f[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,a){this._validate(r,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var n=a==="y"?t:r.year(),f=a==="m"?t:r.month(),u=a==="d"?t:r.day();return(a==="y"||a==="m")&&(u=Math.min(u,this.daysInMonth(n,f))),r.date(n,f,u)},isValid:function(r,t,a){this._validateLevel++;var n=this.hasYearZero||r!==0;if(n){var f=this.newDate(r,t,this.minDay);n=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(f)&&a>=this.minDay&&a-this.minDay<this.daysInMonth(f)}return this._validateLevel--,n},toJSDate:function(r,t,a){var n=this._validate(r,t,a,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(r){return this.fromJD(g.instance().fromJSDate(r).toJD())},_validate:function(r,t,a,n){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,a))throw n.replace(/\{0\}/,this.local.name);var f=this.newDate(r,t,a);return this._validateLevel--,f}catch(u){throw this._validateLevel--,u}}});function v(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}v.prototype=new S,p(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var t=this._validate(a,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),a=t.year()+(t.year()<0?1:0);return a%4===0&&(a%100!==0||a%400===0)},weekOfYear:function(r,t,a){var n=this.newDate(r,t,a);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var a=this._validate(r,t,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[a.month()-1]+(a.month()===2&&this.leapYear(a.year())?1:0)},weekDay:function(r,t,a){return(this.dayOfWeek(r,t,a)||7)<6},toJD:function(r,t,a){var n=this._validate(r,t,a,g.local.invalidDate||g.regionalOptions[""].invalidDate);r=n.year(),t=n.month(),a=n.day(),r<0&&r++,t<3&&(t+=12,r--);var f=Math.floor(r/100),u=2-f+Math.floor(f/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+a+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),a=Math.floor((t-186721625e-2)/36524.25);a=t+1+a-Math.floor(a/4);var n=a+1524,f=Math.floor((n-122.1)/365.25),u=Math.floor(365.25*f),l=Math.floor((n-u)/30.6001),y=n-u-Math.floor(l*30.6001),h=l-(l>13.5?13:1),T=f-(h>2.5?4716:4715);return T<=0&&T--,this.newDate(T,h,y)},toJSDate:function(r,t,a){var n=this._validate(r,t,a,g.local.invalidDate||g.regionalOptions[""].invalidDate),f=new Date(n.year(),n.month()-1,n.day());return f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),f.setHours(f.getHours()>12?f.getHours()+2:0),f},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var g=V.exports=new L;g.cdate=o,g.baseCalendar=S,g.calendars.gregorian=v},15168:function(V,Y,e){var p=e(50896),L=e(38700);p(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],p(L.cdate.prototype,{formatDate:function(o,C){return typeof o!="string"&&(C=o,o=""),this._calendar.formatDate(o||"",this,C)}}),p(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,C,S){if(typeof o!="string"&&(S=C,C=o,o=""),!C)return"";if(C.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat,S=S||{};var v=S.dayNamesShort||this.local.dayNamesShort,g=S.dayNames||this.local.dayNames,r=S.monthNumbers||this.local.monthNumbers,t=S.monthNamesShort||this.local.monthNamesShort,a=S.monthNames||this.local.monthNames;S.calculateWeek||this.local.calculateWeek;for(var n=function(w,_){for(var m=1;x+m<o.length&&o.charAt(x+m)===w;)m++;return x+=m-1,Math.floor(m/(_||1))>1},f=function(w,_,m,E){var A=""+_;if(n(w,E))for(;A.length<m;)A="0"+A;return A},u=function(w,_,m,E){return n(w)?E[_]:m[_]},l=this,y=function(w){return typeof r=="function"?r.call(l,w,n("m")):c(f("m",w.month(),2))},h=function(w,_){return _?typeof a=="function"?a.call(l,w):a[w.month()-l.minMonth]:typeof t=="function"?t.call(l,w):t[w.month()-l.minMonth]},T=this.local.digits,c=function(w){return S.localNumbers&&T?T(w):w},i="",d=!1,x=0;x<o.length;x++)if(d)o.charAt(x)==="'"&&!n("'")?d=!1:i+=o.charAt(x);else switch(o.charAt(x)){case"d":i+=c(f("d",C.day(),2));break;case"D":i+=u("D",C.dayOfWeek(),v,g);break;case"o":i+=f("o",C.dayOfYear(),3);break;case"w":i+=f("w",C.weekOfYear(),2);break;case"m":i+=y(C);break;case"M":i+=h(C,n("M"));break;case"y":i+=n("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":n("Y",2),i+=C.formatYear();break;case"J":i+=C.toJD();break;case"@":i+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":i+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?i+="'":d=!0;break;default:i+=o.charAt(x)}return i},parseDate:function(o,C,S){if(C==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;o=o||this.local.dateFormat,S=S||{};var v=S.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var g=S.dayNamesShort||this.local.dayNamesShort,r=S.dayNames||this.local.dayNames,t=S.parseMonth||this.local.parseMonth,a=S.monthNumbers||this.local.monthNumbers,n=S.monthNamesShort||this.local.monthNamesShort,f=S.monthNames||this.local.monthNames,u=-1,l=-1,y=-1,h=-1,T=-1,c=!1,i=!1,d=function(k,H){for(var F=1;M+F<o.length&&o.charAt(M+F)===k;)F++;return M+=F-1,Math.floor(F/(H||1))>1},x=function(k,H){var F=d(k,H),B=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(k)+1],U=new RegExp("^-?\\d{1,"+B+"}"),z=C.substring(s).match(U);if(!z)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,s);return s+=z[0].length,parseInt(z[0],10)},w=this,_=function(){if(typeof a=="function"){d("m");var k=a.call(w,C.substring(s));return s+=k.length,k}return x("m")},m=function(k,H,F,B){for(var U=d(k,B)?F:H,z=0;z<U.length;z++)if(C.substr(s,U[z].length).toLowerCase()===U[z].toLowerCase())return s+=U[z].length,z+w.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,s)},E=function(){if(typeof f=="function"){var k=d("M")?f.call(w,C.substring(s)):n.call(w,C.substring(s));return s+=k.length,k}return m("M",n,f)},A=function(){if(C.charAt(s)!==o.charAt(M))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,s);s++},s=0,M=0;M<o.length;M++)if(i)o.charAt(M)==="'"&&!d("'")?i=!1:A();else switch(o.charAt(M)){case"d":h=x("d");break;case"D":m("D",g,r);break;case"o":T=x("o");break;case"w":x("w");break;case"m":y=_();break;case"M":y=E();break;case"y":var b=M;c=!d("y",2),M=b,l=x("y",2);break;case"Y":l=x("Y",2);break;case"J":u=x("J")+.5,C.charAt(s)==="."&&(s++,x("J"));break;case"@":u=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":s=C.length;break;case"'":d("'")?A():i=!0;break;default:A()}if(s<C.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(l===-1?l=this.today().year():l<100&&c&&(l+=v===-1?1900:this.today().year()-this.today().year()%100-(l<=v?0:100)),typeof y=="string"&&(y=t.call(this,l,y)),T>-1){y=1,h=T;for(var N=this.daysInMonth(l,y);h>N;N=this.daysInMonth(l,y))y++,h-=N}return u>-1?this.fromJD(u):this.newDate(l,y,h)},determineDate:function(o,C,S,v,g){S&&typeof S!="object"&&(g=v,v=S,S=null),typeof v!="string"&&(g=v,v="");var r=this,t=function(a){try{return r.parseDate(v,a,g)}catch{}a=a.toLowerCase();for(var n=(a.match(/^c/)&&S?S.newDate():null)||r.today(),f=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=f.exec(a);u;)n.add(parseInt(u[1],10),u[2]||"d"),u=f.exec(a);return n};return C=C?C.newDate():null,o=o==null?C:typeof o=="string"?t(o):typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?C:r.today().add(o,"d"):r.newDate(o),o}})},21576:function(){},19768:function(){},63436:function(V,Y,e){var p=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis>"u"?e.g:globalThis;V.exports=function(){for(var C=[],S=0;S<p.length;S++)typeof L[p[S]]=="function"&&(C[C.length]=p[S]);return C}},67756:function(V,Y,e){e.d(Y,{qy:function(){return Be},Gz:function(){return ue}});function p(Me,Oe,_e){Me.prototype=Oe.prototype=_e,_e.constructor=Me}function L(Me,Oe){var _e=Object.create(Me.prototype);for(var Ne in Oe)_e[Ne]=Oe[Ne];return _e}function o(){}var C=.7,S=1/C,v="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,a=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),f=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(g,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(g,"\\)$")),l=new RegExp("^hsl\\(".concat(g,",").concat(r,",").concat(r,"\\)$")),y=new RegExp("^hsla\\(".concat(g,",").concat(r,",").concat(r,",").concat(g,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p(o,x,{copy:function(Oe){return Object.assign(new this.constructor,this,Oe)},displayable:function(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:c,formatHsl:i,formatRgb:d,toString:d});function T(){return this.rgb().formatHex()}function c(){return this.rgb().formatHex8()}function i(){return B(this).formatHsl()}function d(){return this.rgb().formatRgb()}function x(Me){var Oe,_e;return Me=(Me+"").trim().toLowerCase(),(Oe=t.exec(Me))?(_e=Oe[1].length,Oe=parseInt(Oe[1],16),_e===6?w(Oe):_e===3?new A(Oe>>8&15|Oe>>4&240,Oe>>4&15|Oe&240,(Oe&15)<<4|Oe&15,1):_e===8?_(Oe>>24&255,Oe>>16&255,Oe>>8&255,(Oe&255)/255):_e===4?_(Oe>>12&15|Oe>>8&240,Oe>>8&15|Oe>>4&240,Oe>>4&15|Oe&240,((Oe&15)<<4|Oe&15)/255):null):(Oe=a.exec(Me))?new A(Oe[1],Oe[2],Oe[3],1):(Oe=n.exec(Me))?new A(Oe[1]*255/100,Oe[2]*255/100,Oe[3]*255/100,1):(Oe=f.exec(Me))?_(Oe[1],Oe[2],Oe[3],Oe[4]):(Oe=u.exec(Me))?_(Oe[1]*255/100,Oe[2]*255/100,Oe[3]*255/100,Oe[4]):(Oe=l.exec(Me))?F(Oe[1],Oe[2]/100,Oe[3]/100,1):(Oe=y.exec(Me))?F(Oe[1],Oe[2]/100,Oe[3]/100,Oe[4]):h.hasOwnProperty(Me)?w(h[Me]):Me==="transparent"?new A(NaN,NaN,NaN,0):null}function w(Me){return new A(Me>>16&255,Me>>8&255,Me&255,1)}function _(Me,Oe,_e,Ne){return Ne<=0&&(Me=Oe=_e=NaN),new A(Me,Oe,_e,Ne)}function m(Me){return Me instanceof o||(Me=x(Me)),Me?(Me=Me.rgb(),new A(Me.r,Me.g,Me.b,Me.opacity)):new A}function E(Me,Oe,_e,Ne){return arguments.length===1?m(Me):new A(Me,Oe,_e,Ne??1)}function A(Me,Oe,_e,Ne){this.r=+Me,this.g=+Oe,this.b=+_e,this.opacity=+Ne}p(A,E,L(o,{brighter:function(Oe){return Oe=Oe==null?S:Math.pow(S,Oe),new A(this.r*Oe,this.g*Oe,this.b*Oe,this.opacity)},darker:function(Oe){return Oe=Oe==null?C:Math.pow(C,Oe),new A(this.r*Oe,this.g*Oe,this.b*Oe,this.opacity)},rgb:function(){return this},clamp:function(){return new A(k(this.r),k(this.g),k(this.b),N(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s,formatHex:s,formatHex8:M,formatRgb:b,toString:b}));function s(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b))}function M(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b)).concat(H((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var Me=N(this.opacity);return"".concat(Me===1?"rgb(":"rgba(").concat(k(this.r),", ").concat(k(this.g),", ").concat(k(this.b)).concat(Me===1?")":", ".concat(Me,")"))}function N(Me){return isNaN(Me)?1:Math.max(0,Math.min(1,Me))}function k(Me){return Math.max(0,Math.min(255,Math.round(Me)||0))}function H(Me){return Me=k(Me),(Me<16?"0":"")+Me.toString(16)}function F(Me,Oe,_e,Ne){return Ne<=0?Me=Oe=_e=NaN:_e<=0||_e>=1?Me=Oe=NaN:Oe<=0&&(Me=NaN),new z(Me,Oe,_e,Ne)}function B(Me){if(Me instanceof z)return new z(Me.h,Me.s,Me.l,Me.opacity);if(Me instanceof o||(Me=x(Me)),!Me)return new z;if(Me instanceof z)return Me;Me=Me.rgb();var Oe=Me.r/255,_e=Me.g/255,Ne=Me.b/255,Ce=Math.min(Oe,_e,Ne),Ye=Math.max(Oe,_e,Ne),rt=NaN,ot=Ye-Ce,$e=(Ye+Ce)/2;return ot?(Oe===Ye?rt=(_e-Ne)/ot+(_e<Ne)*6:_e===Ye?rt=(Ne-Oe)/ot+2:rt=(Oe-_e)/ot+4,ot/=$e<.5?Ye+Ce:2-Ye-Ce,rt*=60):ot=$e>0&&$e<1?0:rt,new z(rt,ot,$e,Me.opacity)}function U(Me,Oe,_e,Ne){return arguments.length===1?B(Me):new z(Me,Oe,_e,Ne??1)}function z(Me,Oe,_e,Ne){this.h=+Me,this.s=+Oe,this.l=+_e,this.opacity=+Ne}p(z,U,L(o,{brighter:function(Oe){return Oe=Oe==null?S:Math.pow(S,Oe),new z(this.h,this.s,this.l*Oe,this.opacity)},darker:function(Oe){return Oe=Oe==null?C:Math.pow(C,Oe),new z(this.h,this.s,this.l*Oe,this.opacity)},rgb:function(){var Oe=this.h%360+(this.h<0)*360,_e=isNaN(Oe)||isNaN(this.s)?0:this.s,Ne=this.l,Ce=Ne+(Ne<.5?Ne:1-Ne)*_e,Ye=2*Ne-Ce;return new A(ee(Oe>=240?Oe-240:Oe+120,Ye,Ce),ee(Oe,Ye,Ce),ee(Oe<120?Oe+240:Oe-120,Ye,Ce),this.opacity)},clamp:function(){return new z(W(this.h),j(this.s),j(this.l),N(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Oe=N(this.opacity);return"".concat(Oe===1?"hsl(":"hsla(").concat(W(this.h),", ").concat(j(this.s)*100,"%, ").concat(j(this.l)*100,"%").concat(Oe===1?")":", ".concat(Oe,")"))}}));function W(Me){return Me=(Me||0)%360,Me<0?Me+360:Me}function j(Me){return Math.max(0,Math.min(1,Me||0))}function ee(Me,Oe,_e){return(Me<60?Oe+(_e-Oe)*Me/60:Me<180?_e:Me<240?Oe+(_e-Oe)*(240-Me)/60:Oe)*255}var ie=function(Me){return function(){return Me}};function oe(Me,Oe){return function(_e){return Me+_e*Oe}}function he(Me,Oe,_e){return Me=Math.pow(Me,_e),Oe=Math.pow(Oe,_e)-Me,_e=1/_e,function(Ne){return Math.pow(Me+Ne*Oe,_e)}}function ne(Me){return(Me=+Me)==1?q:function(Oe,_e){return _e-Oe?he(Oe,_e,Me):ie(isNaN(Oe)?_e:Oe)}}function q(Me,Oe){var _e=Oe-Me;return _e?oe(Me,_e):ie(isNaN(Me)?Oe:Me)}var le=function Me(Oe){var _e=ne(Oe);function Ne(Ce,Ye){var rt=_e((Ce=E(Ce)).r,(Ye=E(Ye)).r),ot=_e(Ce.g,Ye.g),$e=_e(Ce.b,Ye.b),qe=q(Ce.opacity,Ye.opacity);return function(ht){return Ce.r=rt(ht),Ce.g=ot(ht),Ce.b=$e(ht),Ce.opacity=qe(ht),Ce+""}}return Ne.gamma=Me,Ne}(1);function Q(Me,Oe){var _e=Oe?Oe.length:0,Ne=Me?Math.min(_e,Me.length):0,Ce=new Array(Ne),Ye=new Array(_e),rt;for(rt=0;rt<Ne;++rt)Ce[rt]=Be(Me[rt],Oe[rt]);for(;rt<_e;++rt)Ye[rt]=Oe[rt];return function(ot){for(rt=0;rt<Ne;++rt)Ye[rt]=Ce[rt](ot);return Ye}}function te(Me,Oe){var _e=new Date;return Me=+Me,Oe=+Oe,function(Ne){return _e.setTime(Me*(1-Ne)+Oe*Ne),_e}}function ue(Me,Oe){return Me=+Me,Oe=+Oe,function(_e){return Me*(1-_e)+Oe*_e}}function J(Me){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},J(Me)}function K(Me,Oe){var _e={},Ne={},Ce;(Me===null||J(Me)!=="object")&&(Me={}),(Oe===null||J(Oe)!=="object")&&(Oe={});for(Ce in Oe)Ce in Me?_e[Ce]=Be(Me[Ce],Oe[Ce]):Ne[Ce]=Oe[Ce];return function(Ye){for(Ce in _e)Ne[Ce]=_e[Ce](Ye);return Ne}}var ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ae=new RegExp(ce.source,"g");function de(Me){return function(){return Me}}function be(Me){return function(Oe){return Me(Oe)+""}}function Se(Me,Oe){var _e=ce.lastIndex=ae.lastIndex=0,Ne,Ce,Ye,rt=-1,ot=[],$e=[];for(Me=Me+"",Oe=Oe+"";(Ne=ce.exec(Me))&&(Ce=ae.exec(Oe));)(Ye=Ce.index)>_e&&(Ye=Oe.slice(_e,Ye),ot[rt]?ot[rt]+=Ye:ot[++rt]=Ye),(Ne=Ne[0])===(Ce=Ce[0])?ot[rt]?ot[rt]+=Ce:ot[++rt]=Ce:(ot[++rt]=null,$e.push({i:rt,x:ue(Ne,Ce)})),_e=ae.lastIndex;return _e<Oe.length&&(Ye=Oe.slice(_e),ot[rt]?ot[rt]+=Ye:ot[++rt]=Ye),ot.length<2?$e[0]?be($e[0].x):de(Oe):(Oe=$e.length,function(qe){for(var ht=0,vt;ht<Oe;++ht)ot[(vt=$e[ht]).i]=vt.x(qe);return ot.join("")})}function Te(Me,Oe){Oe||(Oe=[]);var _e=Me?Math.min(Oe.length,Me.length):0,Ne=Oe.slice(),Ce;return function(Ye){for(Ce=0;Ce<_e;++Ce)Ne[Ce]=Me[Ce]*(1-Ye)+Oe[Ce]*Ye;return Ne}}function Ie(Me){return ArrayBuffer.isView(Me)&&!(Me instanceof DataView)}function ke(Me){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},ke(Me)}function Be(Me,Oe){var _e=ke(Oe),Ne;return Oe==null||_e==="boolean"?ie(Oe):(_e==="number"?ue:_e==="string"?(Ne=x(Oe))?(Oe=Ne,le):Se:Oe instanceof x?le:Oe instanceof Date?te:Ie(Oe)?Te:Array.isArray(Oe)?Q:typeof Oe.valueOf!="function"&&typeof Oe.toString!="function"||isNaN(Oe)?K:ue)(Me,Oe)}},30584:function(V){V.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(V){V.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(V){V.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(V){V.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(V){V.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(V){V.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Z={};function R(V){var Y=Z[V];if(Y!==void 0)return Y.exports;var e=Z[V]={exports:{}};return G[V].call(e.exports,e,e.exports,R),e.exports}(function(){R.n=function(V){var Y=V&&V.__esModule?function(){return V.default}:function(){return V};return R.d(Y,{a:Y}),Y}})(),function(){R.d=function(V,Y){for(var e in Y)R.o(Y,e)&&!R.o(V,e)&&Object.defineProperty(V,e,{enumerable:!0,get:Y[e]})}}(),function(){R.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){R.o=function(V,Y){return Object.prototype.hasOwnProperty.call(V,Y)}}(),function(){R.r=function(V){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})}}();var fe=R(13792);return fe}()})})(y4);var u8=y4.exports;(function(O){Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var I=Z(v4),G=Z(u8);function Z(V){return V&&V.__esModule?V:{default:V}}var R=(0,I.default)(G.default),fe=R;O.default=fe})(h4);const f8=zw(h4),$m=O=>{const I=l0(()=>"idle"),G=I.value;return di.createElement("button",{onMouseEnter:I.apply(()=>"hover"),onMouseLeave:I.apply(()=>"idle"),onMouseDown:I.apply(()=>"active"),onMouseUp:I.apply(()=>"hover"),style:{borderRadius:2,padding:10,borderWidth:0,boxShadow:"0px 0px 10px 0px rgba(0,0,0,0.75)",cursor:"pointer",background:O.background??"#354fde",filter:G==="hover"?"brightness(0.9)":G==="active"?"brightness(0.8)":"brightness(1)",color:"white",fontWeight:"bold",...O.style},onClick:O.onClick},O.text,O.children)},m4=2*Math.PI,x4=O=>O/360*m4,b4=O=>O/m4*360,U0=O=>Math.cos(x4(O)),r3=O=>Math.sin(x4(O)),c8=(O,I)=>b4(Math.atan2(I,O)),h8=(O,I)=>(O%I+I)%I,dl=class dl{constructor(I,G){go(this,"scale",I=>dl.scale(this,I));go(this,"add",I=>dl.add(this,I));go(this,"subtract",I=>dl.subtract(this,I));this.x=I,this.y=G}get magnitude(){return Math.hypot(this.x,this.y)}get angleRadians(){return Math.atan2(this.y,this.x)}get angleDegrees(){return b4(this.angleRadians)}};go(dl,"fromPolar",(I,G)=>kg(G*U0(I),G*r3(I))),go(dl,"zero",new dl(0,0)),go(dl,"scale",(I,G)=>kg(I.x*G,I.y*G)),go(dl,"add",(I,G)=>kg(I.x+G.x,I.y+G.y)),go(dl,"addN",I=>I.reduce(dl.add,dl.zero)),go(dl,"subtract",(I,G)=>kg(I.x-G.x,I.y-G.y)),go(dl,"dot",(I,G)=>I.x*G.x+I.y*G.y);let nx=dl;const kg=(O,I)=>new nx(O,I),v8=O=>I=>{let G=0;return I.map(([Z,R])=>(G=O*G+(1-O)*R,[Z,G]))},d8=O=>O.reduce((I,[G,Z])=>I+Z,0)/O.length,p8=([O,I])=>G=>{const Z=G.epochSecond();return O.epochSecond()<=Z&&Z<=I.epochSecond()},Ng=O=>new Date(O.toEpochMilli()),Hc={pure:O=>()=>O,lift:O=>I=>()=>O(I()),map:O=>I=>Hc.lift(I)(O),bind:O=>I=>()=>I(O())(),flatten:O=>Hc.bind(O)(vc),Do:O=>()=>O(I=>I()),compose:(O,I)=>G=>Hc.bind(O(G))(I),noOp:()=>JT,when:O=>I=>O?I:Hc.pure(Ei),unless:O=>I=>Hc.when(!O)(I),forEach:O=>I=>Hc.Do(G=>{const Z=[];for(const R of O)Z.push(I(R)());return Z}),sequence:O=>Hc.forEach(O)(vc),catching:O=>(I,G)=>Hc.Do(Z=>{try{return Z(O)}catch(R){return Z(I(R))}finally{G!==Ei&&Z(G)}}),repeat:O=>I=>()=>{for(let G=0;G<O;G++)I(G)()}},us={windNorth:"#0000FF",windTrue:"#FF0000",windApparent:"#550000",speed:"#d69d00",target:"#108004"},Fg={select1:"#54a858",select2:"#a85454"},g8=O=>{const I=l0(()=>"zoom"),G=Hv.useMemo(()=>zu.lift(m8)(O.data)??[],[O.data]),Z=Hv.useMemo(()=>zu.Do(fe=>kw(fe(O.data),fe(O.selectedRange1.value))),[O.data,O.selectedRange1.value]),R=Hv.useMemo(()=>zu.Do(fe=>kw(fe(O.data),fe(O.selectedRange2.value))),[O.data,O.selectedRange2.value]);return di.createElement(Tf,{spacing:4},di.createElement(_0,{justifyContent:"space-between"},di.createElement(y8,{data:xl.filterNotNone([Z,R])}),di.createElement(Iw,{data:Z}),di.createElement(Iw,{data:R}),di.createElement(_0,{spacing:8,padding:8,style:{alignSelf:"flex-end"}},di.createElement($m,{text:"SELECT 1",style:{opacity:I.value==="select1"?1:.5},onClick:I.apply(()=>"select1"),background:Fg.select1}),di.createElement($m,{text:"SELECT 2",style:{opacity:I.value==="select2"?1:.5},onClick:I.apply(()=>"select2"),background:Fg.select2}),di.createElement($m,{text:"ZOOM",style:{opacity:I.value==="zoom"?1:.5},onClick:I.apply(()=>"zoom"),background:"#3033d1"}))),di.createElement(f8,{config:{scrollZoom:!0},data:G,onSelected:fe=>{const V=fe==null?void 0:fe.range;if(V===Ei)return;const[Y,e]=V.x.map(p=>qE(p));th(I.value)({select1:O.selectedRange1.apply(()=>[Y,e]),select2:O.selectedRange2.apply(()=>[Y,e]),zoom:Hc.noOp})()},layout:{height:1e3,dragmode:th(I.value)({select1:"select",select2:"select",zoom:"zoom"}),xaxis:{uirevision:"time"},yaxis:{uirevision:"time"},xaxis2:{matches:"x"},grid:{columns:1,rows:2,pattern:"independent"},shapes:xl.filterNotNone([zu.Do(fe=>Nw({color:Fg.select1,data:fe(Z)})),zu.Do(fe=>Nw({color:Fg.select2,data:fe(R)}))]).flat()}}))},y8=O=>{const I=[{header:"Duration",cell:G=>w4(G.durationSeconds)}];return di.createElement(Tf,null,di.createElement(_0,null,I.map((G,Z)=>di.createElement(Tf,{key:Z,style:{width:0,flexGrow:G.flexGrow??1}},G.header))),O.data.map((G,Z)=>di.createElement(_0,{key:Z},I.map((R,fe)=>di.createElement(Tf,{key:fe,style:{width:0,flexGrow:R.flexGrow??1}},R.cell(G))))))},Iw=O=>{if(O.data===Ei)return di.createElement(Tf,{spacing:8,padding:8},di.createElement("div",null,"No data selected"));const I=O.data.durationSeconds,G=Z=>{const R=th(Z.units)({degrees:1,kts:2}),fe=th(Z.units)({degrees:"°",kts:"kts"});return di.createElement("div",{style:{color:Z.color,fontWeight:"bold"}},`${Z.label}: ${Z.value.toFixed(R)}${fe}`)};return di.createElement(Tf,{spacing:8,padding:8,style:{background:"#ffffff",borderRadius:8,padding:16,margin:8,boxShadow:"0px 0px 10px 0px rgba(0,0,0,0.25)"}},di.createElement("a",{style:{fontWeight:"bold"}},"Selection Averages (",w4(I),")"),di.createElement(_0,{spacing:8,justifyContent:"space-between"},di.createElement(Tf,{spacing:8},di.createElement(G,{label:"AWA",value:O.data.awa,color:us.windApparent,units:"degrees"}),di.createElement(G,{label:"AWS",value:O.data.aws,color:us.windApparent,units:"kts"})),di.createElement(Tf,{spacing:8},di.createElement(G,{label:"TWA",value:O.data.twa,color:us.windTrue,units:"degrees"}),di.createElement(G,{label:"TWS",value:O.data.tws,color:us.windTrue,units:"kts"})),di.createElement(Tf,{spacing:8},di.createElement(G,{label:"HDM",value:O.data.hdm,color:us.speed,units:"degrees"}),di.createElement(G,{label:"STW",value:O.data.stw,color:us.speed,units:"kts"}))))},Ow=(O,I)=>[Math.floor(O/I),h8(O,I)],w4=O=>{const[I,G]=Ow(O,60),[Z,R]=Ow(I,60);return xl.filterNotNone([Z===0?Ei:`${Z} hours`,I===0?Ei:`${R} minutes`,`${G} seconds`]).join(" ")},kw=(O,I)=>{const G=p8(I),Z=R=>d8(R.filter(fe=>G(fe[0])));return{from:I[0],to:I[1],durationSeconds:I[1].epochSecond()-I[0].epochSecond(),awa:Z(O.awa),twa:Z(O.twa),stw:Z(O.stw),aws:Z(O.aws),tws:Z(O.tws),hdm:Z(O.hdm)}},Nw=O=>{const I=O.data;if(I===Ei)return[];const G={type:"rect",xref:"x",yref:"paper",x0:Ng(I.from),x1:Ng(I.to),y0:-100,y1:100,fillcolor:O.color,opacity:.5,layer:"below",line:{width:0}},Z=R=>({type:"line",xref:th(R.plot)({angle:"x",speed:"x2"}),yref:th(R.plot)({angle:"y",speed:"y2"}),x0:Ng(I.from),x1:Ng(I.to),y0:R.value,y1:R.value,opacity:1,layer:"above",line:{color:R.color,width:2,dash:"dash"}});return[G,Z({plot:"angle",value:I.awa,color:us.windApparent}),Z({plot:"angle",value:I.twa,color:us.windTrue}),Z({plot:"angle",value:I.hdm,color:us.speed}),Z({plot:"speed",value:I.stw,color:us.speed}),Z({plot:"speed",value:I.tws,color:us.windTrue})]},m8=O=>{const I=G=>({type:"scatter",mode:"lines",x:G.data.map(Z=>new Date(Z[0].toEpochMilli())),y:G.data.map(Z=>Z[1]),...G});return[I({name:"TWD",line:{color:us.windNorth},data:O.twd}),I({name:"TWA",line:{color:us.windTrue},data:O.twa}),I({name:"AWA",line:{color:us.windApparent},data:O.awa}),I({name:"TWA Target",line:{color:us.target},data:O.targetTwa}),I({name:"HDM",line:{color:us.speed},data:O.hdm}),I({name:"STW",xaxis:"x2",yaxis:"y2",line:{color:us.speed},data:O.stw}),I({name:"STW Target",xaxis:"x2",yaxis:"y2",line:{color:us.target},data:O.targetStw}),I({name:"TWS",xaxis:"x2",yaxis:"y2",line:{color:us.windTrue},data:v8(.8)(O.tws)}),I({name:"AWS",xaxis:"x2",yaxis:"y2",line:{color:us.windApparent},data:O.aws})]},x8=O=>di.createElement("div",{style:{color:"#303030",fontSize:16,...O.style}},O.text),qf={new:O=>()=>new Promise((I,G)=>{O(Z=>()=>{Z.type==="left"?G(Z.value):I(Z.value)})()}),pure:O=>()=>Promise.resolve(O),lift:O=>I=>()=>I().then(O),map:O=>I=>qf.lift(I)(O),bind:O=>I=>async()=>await I(await O())(),flatten:O=>qf.bind(O)(vc),Do:O=>()=>O(I=>I()),compose:(O,I)=>G=>qf.bind(O(G))(I),when:O=>I=>O?I:qf.pure(Ei),unless:O=>I=>qf.when(!O)(I),noOp:vc(async()=>JT),forEach:O=>I=>async()=>{const G=[];for(const Z of O)G.push(await I(Z)());return G},sequence:O=>qf.forEach(O)(vc),fromIO:O=>()=>Promise.resolve(O()),catching:O=>(I,G)=>qf.Do(async Z=>{try{return await Z(O)}catch(R){return await Z(I(R))}finally{G!==Ei&&await Z(G)}}),delay:O=>qf.Do(async I=>{await new Promise(G=>setTimeout(G,O))}),repeat:O=>I=>async()=>{for(let G=0;G<O;G++)await I(G)()},parallelList:O=>async()=>Promise.all(O.map(I=>I())),parallel:(...O)=>qf.parallelList(O)},b8=O=>({type:"left",value:O}),w8=O=>({type:"right",value:O}),T8=O=>di.createElement("input",{type:"file",style:{fontSize:18,fontWeight:"bold"},onChange:I=>{var Z;const G=(Z=I.target.files)==null?void 0:Z[0];G!==Ei&&O.onFileSelected(G)()}}),A8=O=>async()=>{const I=new FileReader;return await qf.new(G=>()=>{I.onload=Z=>{var fe;const R=(fe=Z.target)==null?void 0:fe.result;typeof R=="string"?G(w8(R))():G(b8("Invalid data"))()},I.readAsText(O,"utf-8")})()},ax=([O,I],[G,Z])=>R=>O==G?(I+Z)/2:I*(R-G)/(O-G)+Z*(R-O)/(G-O),I0=O=>I=>{if(O.length===0)return 0;if(O.length===1)return O[0][1];if(O.length===2)return ax(O[0],O[1])(I);let G=0;for(;O[G+1][0]<I&&G<O.length-2;)G++;return ax(O[G],O[G+1])(I)},ix=O=>I=>{if(O.length===0)return e3("Empty list");if(O.length===1)return{low:O[0],high:O[1]};if(O.length===2)return{low:O[0],high:O[1]};const G=Math.floor(O.length/2);return I<O[G][0]?ix(O.slice(0,G+1))(I):ix(O.slice(G))(I)},S8=O=>(...I)=>I.reduce((G,Z)=>Z(G),O),M8=O=>{const I=E8(O);return{upDown:_8(I),upDownAngle:C8(I),randomLeg:D8(I)}},E8=O=>({...O,beat:{...O.beat,speeds:Fw(O.beat)},run:{...O.run,speeds:Fw(O.run)}}),Fw=O=>xl.zip(O.vmgs,O.angles).map(([I,G])=>Math.abs(I/U0(G))),_8=O=>{const I=I0(xl.zip(O.windSpeeds,O.beat.speeds)),G=I0(xl.zip(O.windSpeeds,O.run.speeds));return Z=>U0(Z.angle)>0?I(Z.speed):G(Z.speed)},C8=O=>{const I=I0(xl.zip(O.windSpeeds,O.beat.angles)),G=I0(xl.zip(O.windSpeeds,O.run.angles));return Z=>(r3(Z.angle)>0?1:-1)*(U0(Z.angle)>0?I(Z.speed):G(Z.speed))},L8=O=>xl.of(O[0].length)(I=>xl.of(O.length)(G=>O[G][I])),D8=O=>{const{windSpeeds:I,table:G,beat:Z,run:R}=O,fe=L8(G.data).map((V,Y)=>{const e=S8([[Z.angles[Y],Z.speeds[Y]],...xl.zip(G.angles,V),[R.angles[Y],R.speeds[Y]]])(xl.sort(ic.by(ic.number,([p,L])=>p)));return[I[Y],I0(e)]});return V=>{const Y=P8(V.angle),{low:[e,p],high:[L,o]}=ix(fe)(V.speed);return ax([e,p(Y)],[L,o(Y)])(V.speed)}},P8=O=>c8(U0(O),Math.abs(r3(O))),R8={windSpeeds:[0,6,8,10,12,14,16,20,24],table:{angles:[0,52,60,75,90,110,120,135,150],data:[[0,0,0,0,0,0,0,0,0],[0,6.8,7.96,8.45,8.67,8.8,8.9,9.03,9.04],[0,7.16,8.25,8.7,8.92,9.06,9.17,9.33,9.38],[0,7.42,8.44,8.93,9.24,9.44,9.61,9.87,10],[0,7.31,8.47,9,9.36,9.72,10.01,10.45,10.78],[0,7.08,8.37,9.05,9.61,10.12,10.58,11.37,11.96],[0,6.8,8.26,9.04,9.64,10.18,10.72,12.08,13.26],[0,6.08,7.63,8.64,9.31,9.99,10.76,12.64,14.23],[0,5.09,6.47,7.65,8.56,9.18,9.82,11.39,13.6]]},beat:{angles:[48,43.1,40.7,38.8,37.9,37.6,37.3,37.1,38.2],vmgs:[0,4.46,5.4,5.88,6.13,6.28,6.38,6.5,6.41]},run:{vmgs:[0,4.41,5.6,6.63,7.46,8.13,8.71,9.89,11.77],angles:[135,141.9,144,147.6,154.3,159.9,168.7,152.8,148]}},I8=R8,qm=O=>I=>I.data.type===O,zg=O=>O>180?O-360:O,O8=O=>{const I=M8(I8),G=I.upDown,Z=O.filter(qm("NmeaWindNorth")),R=O.filter(qm("NmeaSpeed")),fe=O.filter(qm("NmeaWindVessel")).filter(e=>e.data.unit==="knots"&&e.data.status==="valid"),V=fe.filter(e=>e.data.reference==="true"),Y=fe.filter(e=>e.data.reference==="aparent");return{twd:Z.map(e=>[e.timestamp,zg(e.data.directionMagnetic)]),tws:Z.map(e=>[e.timestamp,e.data.speedKnots]),twa:V.map(e=>[e.timestamp,zg(e.data.angle)]),aws:Y.map(e=>[e.timestamp,e.data.speed]),awa:Y.map(e=>[e.timestamp,zg(e.data.angle)]),stw:R.map(e=>[e.timestamp,e.data.speedKnots]),targetStw:V.map(e=>[e.timestamp,G(e.data)]),targetTwa:V.map(e=>[e.timestamp,zg(I.upDownAngle(e.data))]),hdm:R.map(e=>[e.timestamp,e.data.headingMagnetic])}},k8=()=>{const O=l0(()=>Ei),I=l0(()=>Ei),G=l0(()=>Ei);return di.createElement(Tf,{spacing:8},di.createElement(x8,{text:"Menea Analytics",style:{padding:8,fontSize:42,fontWeight:"bold"}}),di.createElement(Tf,{spacing:8,padding:8},di.createElement(T8,{onFileSelected:Z=>async()=>{const R=await A8(Z)(),fe=e8(R),V=O8(fe);O.apply(()=>V)()}})),zu.Do(Z=>di.createElement(g8,{data:Z(O.value),selectedRange1:I,selectedRange2:G})))},N8=()=>{const O=document.getElementById("root")??e3("Root element not found");KT(O).render(di.createElement(k8,null))};N8();
